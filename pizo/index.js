/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 46);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _jsform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(45);
/* harmony import */ var _encode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(198);
/* harmony import */ var _encode__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_encode__WEBPACK_IMPORTED_MODULE_1__);
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }



var moduleDatabase = new ModuleDatabase();

function ModuleDatabase() {
  this.hostDatabase = "https://lab.daithangminh.vn/home_co/pizo/php/template/";
  this.data = [];
}

ModuleDatabase.prototype.getModule = function (name, listFilePHP) {
  var isCreated = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  if (isCreated == true || this.data[name] == undefined) {
    this.data[name] = new DataStructure(this.hostDatabase, name, listFilePHP);
    return this.data[name];
  } else return this.data[name];
};

function DataStructure(hostDatabase, name) {
  var listFilePHP = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ["load.php", "add.php", "update.php", "delete.php"];
  this.phpLoader = hostDatabase + listFilePHP[0];
  this.phpAdder = hostDatabase + listFilePHP[1];
  this.phpUpdater = hostDatabase + listFilePHP[2];
  this.phpDeleter = hostDatabase + listFilePHP[3];
  var nameTemp = name;
  var self = this;
  self.prefix = [];
  Object.defineProperty(this, "name", {
    get: function get() {
      return nameTemp;
    },
    set: function set(value) {
      self.prefix[nameTemp] = [self.Libary, self.countRow, self.data, self.isFirst, self.promiseLoad, self.promisePart, self.sync];
      nameTemp = value;

      if (self.prefix[nameTemp]) {
        self.Libary = self.prefix[nameTemp][0];
        self.countRow = self.prefix[nameTemp][1];
        self.data = self.prefix[nameTemp][2];
        self.isFirst = self.prefix[nameTemp][3];
        self.promiseLoad = self.prefix[nameTemp][4];
        self.promisePart = self.prefix[nameTemp][5];
        self.sync = self.prefix[nameTemp][6];
      } else {
        self.Libary = [];
        self.sync = [];
        self.promisePart = [];
        self.isFirst = true;
        self.countRow = undefined;
        self.data = [];
        self.promiseLoad = undefined;
      }
    }
  });
  this.Libary = [];
  this.sync = [];
  this.promisePart = [];
  this.isFirst = true;
}

DataStructure.prototype.generalOperator = function (data, WHERE) {
  var stringResult = this.operator(data, WHERE);
  return eval(stringResult);
}; // DataStructure.prototype.generalOrder = function(data,W)


DataStructure.prototype.operator = function (data, WHERE) {
  var stringResult = "(";

  for (var i = 0; i < WHERE.length; i++) {
    stringResult += this.equal(data, WHERE[i]);
  }

  return stringResult + ")";
};

DataStructure.prototype.equal = function (data, WHERE) {
  var stringResult = "";

  if (typeof WHERE === "string") {
    return WHERE;
  } else if (_typeof(WHERE) === "object") {
    if (Array.isArray(WHERE)) {
      stringResult += this.operator(data, WHERE);
    } else {
      for (var param in WHERE) {
        if (_typeof(WHERE[param]) === "object") {
          if (eval(data[param] + WHERE[param].operator + WHERE[param].value)) stringResult += true;else stringResult += false;
        } else {
          if (data[param] == WHERE[param]) stringResult += true;else stringResult += false;
        }
      }
    }
  }

  return stringResult;
};

DataStructure.prototype.load = function () {
  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var isLoaded = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var self = this;

  if (data.WHERE == undefined) {
    if (isLoaded == false && self.promiseLoad !== undefined) {
      if (self.promiseLoad.status === "pending") return self.promiseLoad;else return Promise.resolve(self.data);
    }
  } else {
    if (isLoaded == false && self.promisePart[JSON.stringify(data.WHERE)] !== undefined) {
      if (self.promisePart[JSON.stringify(data.WHERE)].status === "pending") return self.promisePart[JSON.stringify(data.WHERE)];else return Promise.resolve(self.promisePart[JSON.stringify(data.WHERE)].data);
    }
  }

  var promiseLoad;

  if (this.isFirst === true && data.WHERE !== undefined) {
    data.isFirst = true;
    this.isFirst = false;
  }

  if (data.loaded === undefined) {
    data.loaded = {};
  }

  if (data.loaded[this.name] == undefined) data.loaded[this.name] = [];
  if (data.WHERE !== undefined) if (self.data !== undefined && self.data.length !== 0) {
    for (var i = 0; i < self.data.length; i++) {
      if (this.generalOperator(self.data[i], data.WHERE)) {
        data.loaded[this.name].push(self.data[i]["id"]);
      }
    }
  } else if (self.data !== undefined && self.data.length !== 0) {
    for (var i = 0; i < self.data.length; i++) {
      data.loaded[this.name].push(self.data[i]["id"]);
    }
  }
  promiseLoad = new Promise(function (resolve, reject) {
    self.queryData(self.phpLoader, data).then(function (valueRecived) {
      var value = valueRecived["data"];
      var update = valueRecived["update"];
      var insert = valueRecived["add"];

      if (insert !== undefined) {
        for (var i = 0; i < value.add.length; i++) {
          for (var param in insert[i]) {
            if (moduleDatabase.data[param] !== undefined) {
              moduleDatabase.data[param].setFormatAdd(insert[i][param]);
            }
          }
        }
      }

      if (update !== undefined) {
        for (var i = 0; i < update.length; i++) {
          for (var param in update[i]) {
            if (moduleDatabase.data[param] !== undefined) {
              moduleDatabase.data[param].setFormatUpdate(update[i][param]);
            }
          }
        }
      }

      self.setFormatLoad(data, value, promiseLoad, valueRecived["count"]); // var loadedData = valueRecived["load"];
      // console.log(loadedData)
      // for(var param in loadedData)
      // {
      //     console.log(moduleDatabase[param])
      //     moduleDatabase.getModule(param).setFormatLoad({WHERE:data.WHERE},loadedData[param])
      // }

      resolve(value);
    })["catch"](function (error) {
      promiseLoad.status = "reject";
      reject(error);
      console.error(error);
    });
  });
  promiseLoad.status = "pending";
  if (data.WHERE === undefined) self.promiseLoad = promiseLoad;else self.promisePart[JSON.stringify(data.WHERE)] = promiseLoad;
  return promiseLoad;
};

DataStructure.prototype.setFormatLoad = function (data, value, promiseLoad) {
  var count = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : -1;
  var self = this;
  if (value === undefined) value = [];
  if (self.data === undefined) self.data = [];

  if (data.WHERE === undefined) {
    self.countRow = value.length;
  } else {
    if (promiseLoad == undefined) {
      self.promisePart[JSON.stringify(data.WHERE)] = Promise.resolve(value);
      self.promisePart[JSON.stringify(data.WHERE)].data = value;
    }

    if (data.isFirst === true) {
      if (count !== -1) self.countRow = parseInt(count);
    }
  }

  var libary = self.Libary["id"];

  if (libary === undefined) {
    self.data = _toConsumableArray(value);
    self.getLibary("id");
  } else {
    if (self.data.length === self.countRow) {
      if (self.promiseLoad === undefined) self.promiseLoad = Promise.resolve(self.data);
    }

    for (var i = 0; i < value.length; i++) {
      if (typeof value[i] == "string") {
        if (self.Libary["id"][value[i]] !== undefined) {
          value[i] = self.Libary["id"][value[i]];
        }
      } else {
        self.setFormatAdd(value[i]);
      }
    }
  }

  if (_typeof(promiseLoad) == "object") {
    promiseLoad.status = "done";
    promiseLoad.data = value;
  }
};

DataStructure.prototype.getLibary = function (param, formatFunction) {
  var _this = this;

  var isArray = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var isLoaded = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  return function (param) {
    if (formatFunction === undefined) formatFunction = function formatFunction(data) {
      return data;
    };

    if (param !== undefined) {
      if (Array.isArray(param) === false) {
        param = [param];
      } else param = param;

      for (var j = 0; j < param.length; j++) {
        if (isLoaded === true || _this.Libary[param] == undefined) {
          _this.setLibary(param, formatFunction, isArray);

          for (var i = 0; i < _this.data.length; i++) {
            _this.setLibaryRow(_this.data[i], param[j]);
          }
        }
      }

      if (param.length == 1) {
        if (_this.Libary[param[0]] == undefined) _this.Libary[param[0]] = [];
        return _this.Libary[param[0]];
      }
    } else {
      var isID = false;

      for (var param in _this.Libary) {
        if (param === "id") isID = true;

        _this.setLibary(param, formatFunction, isArray);

        for (var i = 0; i < _this.data.length; i++) {
          _this.setLibaryRow(_this.data[i], param, formatFunction, isArray);
        }
      }

      if (isID === false) {
        _this.setLibary("id", formatFunction, isArray);

        for (var i = 0; i < _this.data.length; i++) {
          _this.setLibaryRow(_this.data[i], "id", formatFunction, isArray);
        }
      }
    }

    return _this.Libary;
  }(param);
};

DataStructure.prototype.sync = function (element, functionSync) {
  this.sync.push(element, functionSync);
};

DataStructure.prototype.setLibary = function (param, formatFunction, isArray) {
  if (this.Libary[param] === undefined) {
    this.Libary[param] = [];
    this.Libary[param].isArray = isArray;
    this.Libary[param].check = [];

    this.Libary[param].formatFunction = function (data, param) {
      var result = formatFunction(data);

      result.getData = function () {
        return data;
      };

      if (this.check[data["id"]] !== undefined) return;
      this.check[data["id"]] = result;

      if (this[data[param]] == undefined || this[data[param]].index == 0) {
        if (this.isArray == true) this[data[param]] = [result];else this[data[param]] = result;
        this[data[param]].index = 1;
      } else {
        if (this[data[param]].index == 1 && this.isArray !== true) {
          this[data[param]] = [this[data[param]]];
        }

        this[data[param]].push(result);
        this[data[param]].index++;
      }
    };

    this.Libary[param].deleteFunction = function (data, param) {
      if (this[data[param]].index == 1 && this.isArray !== true) delete this[data[param]];else for (var i = 0; i < this[data[param]].length; i++) {
        if (this[data[param]][i].getData() === data) {
          this[data[param]].splice(i, 1);
        }
      }

      if (this[data[param]] !== undefined) {
        this[data[param]].index--;
        if (this[data[param]].index == 1 && this.isArray !== true) this[data[param]] = this[data[param]][0];
      }

      if (this.check[data["id"]] !== undefined) this.check[data["id"]] = undefined;
    };
  }
};

DataStructure.prototype.setLibaryRow = function (data, param) {
  data.getList = function (name, value) {
    var text = "";

    for (var i = 0; i < name.length; i++) {
      if (data[name] === undefined) text += name[i];else text += data[name[i]];
    }

    var checkvalue = "";
    var isFirst = "";

    for (var i = 0; i < value.length; i++) {
      if (data[value[i]] === undefined) checkvalue += value[i];else checkvalue += isFirst + data[value[i]];
      isFirst = "_";
    }

    return {
      text: text,
      value: checkvalue
    };
  };

  this.Libary[param].formatFunction(data, param);
};

DataStructure.prototype.getList = function (param, value, skip) {
  var result = [];
  if (skip == undefined) skip = function skip() {};

  if (Array.isArray(param) != true) {
    param = [param];
  }

  if (Array.isArray(value) != true) {
    value = [value];
  }

  for (var i = 0; i < this.data.length; i++) {
    if (skip(this.data[i])) continue;
    result.push(this.data[i].getList(param, value));
  }

  return result;
};

DataStructure.prototype.add = function (data) {
  var needChange = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var self = this;
  return new Promise(function (resolve, reject) {
    self.queryData(self.phpAdder, data).then(function (value) {
      if (!Array.isArray(value.data)) Object.assign(data, value.data);

      if (needChange === true) {
        data.add = Object.assign({}, value.add);
        data.update = Object.assign({}, value.update);
        data["delete"] = Object.assign({}, value["delete"]);
      }

      self.setFormatAdd(data);
      var update = value["update"];
      var insert = value["add"];
      var deleteValue = value["delete"];

      if (insert !== undefined) {
        for (var i = 0; i < value.add.length; i++) {
          for (var param in insert[i]) {
            if (moduleDatabase.data[param] !== undefined) {
              moduleDatabase.data[param].setFormatAdd(insert[i][param]);
            }
          }
        }
      }

      if (update !== undefined) {
        for (var i = 0; i < update.length; i++) {
          for (var param in update[i]) {
            if (moduleDatabase.data[param] !== undefined) {
              moduleDatabase.data[param].setFormatUpdate(update[i][param]);
            }
          }
        }
      }

      if (deleteValue !== undefined) {
        for (var i = 0; i < deleteValue.length; i++) {
          for (var param in deleteValue[i]) {
            if (moduleDatabase.data[param] !== undefined) {
              moduleDatabase.data[param].setFormatDelete(deleteValue[i][param]);
            }
          }
        }
      }

      resolve(data);
    })["catch"](function (err) {
      reject(err);
      console.error(err);
    });
  });
};

DataStructure.prototype.setFormatAdd = function (data) {
  var self = this;

  if (Array.isArray(data)) {
    for (var i = 0; i < data.length; i++) {
      self.setFormatAdd(data[i]);
    }

    return;
  }

  if (self.Libary["id"] !== undefined && self.Libary["id"][data.id] !== undefined) return;

  for (var param in self.Libary) {
    if (typeof self.Libary[param] != "function") self.Libary[param].formatFunction(data, param);
  }

  data.getList = function (name, value) {
    var text = "";

    for (var i = 0; i < name.length; i++) {
      if (data[name] === undefined) text += name[i];else text += data[name[i]];
    }

    var checkvalue = "";
    var isFirst = "";

    for (var i = 0; i < value.length; i++) {
      if (data[value[i]] === undefined) checkvalue += value[i];else checkvalue += isFirst + data[value[i]];
      isFirst = "_";
    }

    return {
      text: text,
      value: checkvalue
    };
  };

  if (self.data == undefined) {
    self.data = [];
    self.countRow = 0;
  }

  self.data.push(data);
  self.countRow++;
};

DataStructure.prototype.update = function (data) {
  var needChange = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var self = this;
  return new Promise(function (resolve, reject) {
    self.queryData(self.phpUpdater, data).then(function (value) {
      if (data.id !== undefined) {
        if (needChange === true) {
          data.add = Object.assign({}, value.add);
          data.update = Object.assign({}, value.update);
          data["delete"] = Object.assign({}, value["delete"]);
        }

        self.setFormatUpdate(value.data);
        Object.assign(data, value.data);
        var update = value["update"];
        var insert = value["add"];
        var deleteValue = value["delete"];

        if (insert !== undefined) {
          for (var i = 0; i < value.add.length; i++) {
            for (var param in insert[i]) {
              if (moduleDatabase.data[param] !== undefined) {
                moduleDatabase.data[param].setFormatAdd(insert[i][param]);
              }
            }
          }
        }

        if (update !== undefined) {
          for (var i = 0; i < update.length; i++) {
            for (var param in update[i]) {
              if (moduleDatabase.data[param] !== undefined) {
                moduleDatabase.data[param].setFormatUpdate(update[i][param]);
              }
            }
          }
        }

        if (deleteValue !== undefined) {
          for (var i = 0; i < deleteValue.length; i++) {
            for (var param in deleteValue[i]) {
              if (moduleDatabase.data[param] !== undefined) {
                moduleDatabase.data[param].setFormatDelete(deleteValue[i][param]);
              }
            }
          }
        }
      }

      resolve(data);
    })["catch"](function (err) {
      reject(err);
      console.error(err);
    });
  });
};

DataStructure.prototype.setFormatUpdate = function (data) {
  var self = this;
  var temp = self.Libary["id"][data.id];

  for (var param in data) {
    if (self.Libary[param] !== undefined && typeof self.Libary[param] != "function") {
      if (temp[param] == data[param]) continue;
      self.Libary[param].deleteFunction(temp, param);
      temp[param] = data[param];
      self.Libary[param].formatFunction(temp, param);
    } else temp[param] = data[param];
  }

  for (var param in this.promisePart) {
    if (this.generalOperator(temp, JSON.parse(param)) === true) {
      if (this.promisePart[param].data.indexOf(temp) === -1) {
        this.promisePart[param].data.push(temp);
      }
    } else {
      var index = this.promisePart[param].data.indexOf(temp);
      if (index !== -1) this.promisePart[param].data.splice(index, 1);
    }
  }
};

DataStructure.prototype.setFormatDelete = function (data) {
  var self = this;

  if (data.id !== undefined) {
    var temp = self.Libary["id"][data.id];

    for (var param in self.Libary) {
      if (typeof self.Libary[param] != "function") self.Libary[param].deleteFunction(temp, param);
    }

    self.data.splice(self.data.indexOf(temp), 1);
    self.countRow--;
  }
};

DataStructure.prototype["delete"] = function (data) {
  var self = this;
  return new Promise(function (resolve, reject) {
    self.queryData(self.phpDeleter, data).then(function (value) {
      self.setFormatDelete(data);
      var update = value["update"];
      var insert = value["add"];
      var deleteValue = value["delete"];

      if (insert !== undefined) {
        for (var i = 0; i < value.add.length; i++) {
          for (var param in insert[i]) {
            if (moduleDatabase.data[param] !== undefined) {
              moduleDatabase.data[param].setFormatAdd(insert[i][param]);
            }
          }
        }
      }

      if (update !== undefined) {
        for (var i = 0; i < update.length; i++) {
          for (var param in update[i]) {
            if (moduleDatabase.data[param] !== undefined) {
              moduleDatabase.data[param].setFormatUpdate(update[i][param]);
            }
          }
        }
      }

      if (deleteValue !== undefined) {
        for (var i = 0; i < deleteValue.length; i++) {
          for (var param in deleteValue[i]) {
            if (moduleDatabase.data[param] !== undefined) {
              moduleDatabase.data[param].setFormatDelete(deleteValue[i][param]);
            }
          }
        }
      }

      resolve();
    })["catch"](function (err) {
      reject(err);
      console.error(err);
    });
  });
};

DataStructure.prototype.queryData = function (phpFile, data) {
  var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "";
  var self = this;
  var result = {};

  if (self.name !== undefined) {
    name = self.name;
  }

  if (this.hostDatabase !== undefined) phpFile = this.hostDatabase + phpFile;

  for (var param in data) {
    if (typeof data[param] == "function") continue;
    result[param] = data[param];
  }

  return new Promise(function (resolve, reject) {
    _jsform__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].api_call({
      url: phpFile,
      params: [{
        name: "name",
        value: name
      }, {
        name: "userid",
        value: window.userid
      }, {
        name: "data",
        value: EncodingClass.string.fromVariable(result)
      }],
      func: function func(success, message) {
        if (success) {
          if (message.substr(0, 2) == "ok") {
            var st = EncodingClass.string.toVariable(message.substr(2));
            resolve(st);
          } else {
            reject(message);
          }
        }
      }
    });
  });
};

ModuleDatabase.prototype.queryData = DataStructure.prototype.queryData;
/* harmony default export */ __webpack_exports__["a"] = (moduleDatabase);

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export _ */
/* unused harmony export $ */
/* harmony import */ var absol_src_HTML5_Dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);


var ACore = new absol_src_HTML5_Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]({ creator: Object.assign({}, absol_src_HTML5_Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].ShareInstance.creator) });
var _ = ACore._;
var $ = ACore.$;

/* harmony default export */ __webpack_exports__["a"] = (ACore);

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "c", function() { return /* binding */ isDomNode; });
__webpack_require__.d(__webpack_exports__, "d", function() { return /* binding */ traceOutBoundingClientRect; });
__webpack_require__.d(__webpack_exports__, "b", function() { return /* binding */ getScreenSize; });
__webpack_require__.d(__webpack_exports__, "e", function() { return /* binding */ waitImageLoaded; });

// UNUSED EXPORTS: FeatureClass, activeFullScreen, deactiveFullScreen, isFullScreen, fontFaceIsLoaded, waitIFrameLoaded, imageToCanvas, getScrollSize, depthCloneWithStyle, copyStyleRule, getConstructDescriptor

// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/JSPath.js
var JSPath = __webpack_require__(17);

// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/OOP.js
var OOP = __webpack_require__(6);

// CONCATENATED MODULE: ./node_modules/absol/src/String/getFunctionName.js
/**
 * 
 * @param {Function} func 
 */
function getFunctionName(func) {
    var ret = func.toString();
    ret = ret.substr('function '.length);
    ret = ret.substr(0, ret.indexOf('('));
    return ret;
}
// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/ElementNS.js
var ElementNS = __webpack_require__(16);

// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/AElement.js
var AElement = __webpack_require__(7);

// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/ResizeSystem.js
var ResizeSystem = __webpack_require__(11);

// EXTERNAL MODULE: ./node_modules/absol/src/JSX/attribute.js
var attribute = __webpack_require__(14);

// CONCATENATED MODULE: ./node_modules/absol/src/HTML5/Dom.js








/***
 * @typedef {{"accept-charset":string, "http-equiv": string, accept : string, accesskey : string, action : string, align : string, allow : string, alt : string, async : string, autocapitalize : string, autocomplete : string, autofocus : string, autoplay : string, background : string, bgcolor : string, border : string, buffered : string, capture : string, challenge : string, charset : string, checked : string, cite : string, class : string, code : string, codebase : string, color : string, cols : string, colspan : string, content : string, contenteditable : string, contextmenu : string, controls : string, coords : string, crossorigin : string, csp : string, data : string, "data-*" : string, datetime : string, decoding : string, default : string, defer : string, dir : string, dirname : string, disabled : string, download : string, draggable : string, dropzone : string, enctype : string, enterkeyhint : string, for : string,     form : string, formaction : string, formenctype : string, formmethod : string, formnovalidate : string, formtarget : string, headers : string, height : string, hidden : string, high : string, href : string, hreflang : string, icon : string, id : string, importance : string, integrity : string, intrinsicsize : string, inputmode : string, ismap : string, itemprop : string, keytype : string, kind : string, label : string, lang : string, language : string, loading : string, list : string, loop : string, low : string, manifest : string, max : string, maxlength : string, minlength : string, media : string, method : string, min : string, multiple : string, muted : string, name : string, novalidate : string, open : string, optimum : string, pattern : string, ping : string, placeholder : string, poster : string, preload : string, radiogroup : string, readonly : string, referrerpolicy : string, rel : string, required : string, reversed : string, rows : string, rowspan : string, sandbox : string, scope : string, scoped : string, selected : string, shape : string, size : string, sizes : string, slot : string, span : string, spellcheck : string, src : string, srcdoc : string, srclang : string, srcset : string, start : string, step : string, style : string, summary : string, tabindex : string, target : string, title : string, translate : string, type : string, usemap : string, value : string, width : string, wrap : string, }} AElementAttributeDescriptor
 */

/**
 * @typedef {{"arabic-form":string,"baseline-shift": string, "accent-height": string,  "alignment-baseline": string,  "cap-height": string,  "clip-path": string,  "clip-rule": string,  "color-dinterpolation": string,  "color-interpolation-filters": string,  "color-profile": string,  "color-rendering": string,  "dominant-baseline": string,  "enable-background": string,  "fill-opacity": string,  "fill-rule": string,  "flood-color": string,  "flood-opacity": string,  "font-family": string,  "font-size": string,  "font-size-adjust": string,  "font-stretch": string,  "font-style": string,  "font-variant": string,  "font-weight": string,  "glyph-name": string,  "glyph-orientation-horizontal": string,  "glyph-orientation-vertical": string,  "horiz-adv-x": string,  "horiz-origin-x": string,  "image-rendering": string,  "letter-spacing": string,  "lighting-color": string,  "marker-end": string,  "marker-mid": string,  "marker-start": string,  "overline-position": string,  "overline-thickness": string,  "panose-1": string,  "paint-order": string,  "pointer-events": string,  "rendering-intent": string,  "shape-rendering": string,  "stop-color": string,  "stop-opacity": string,  "strikethrough-position": string,  "strikethrough-thickness": string,  "stroke-dasharray": string,  "stroke-dashoffset": string,  "stroke-linecap": string,  "stroke-linejoin": string,  "stroke-miterlimit": string,  "stroke-opacity": string,  "stroke-width": string,  "text-anchor": string,  "text-decoration": string,  "text-rendering": string,  "transform-origin": string,  "underline-position": string,  "underline-thickness": string,  "unicode-bidi": string,  "unicode-range": string,  "units-per-em": string,  "v-alphabetic": string,  "v-hanging": string,  "v-ideographic": string,  "v-mathematical": string,  "vector-effect": string,  "vert-adv-y": string,  "vert-origin-x": string,  "vert-origin-y": string,  "word-spacing": string,  "writing-mode": string,  "x-height": string,  "xlink:actuate": string,  "xlink:arcrole": string,  "xlink:href": string,  "xlink:role": string,  "xlink:show": string,  "xlink:title": string,  "xlink:type": string,  "xml:base": string,  "xml:lang": string,  "xml:space": string, accumulate:string, additive:string, allowReorder:string, alphabetic:string, amplitude:string, ascent:string, attributeName:string, attributeType:string, autoReverse:string, azimuth:string, baseFrequency:string, baseProfile:string, bbox:string, begin:string, bias:string, by:string, calcMode:string, class:string, clip:string, clipPathUnits:string, color:string, contentScriptType:string, contentStyleType:string, cursor:string, cx:string, cy:string, d:string, decelerate:string, descent:string, diffuseConstant:string, direction:string, display:string, divisor:string, dur:string, dx:string, dy:string, edgeMode:string, elevation:string, end:string, exponent:string, externalResourcesRequired:string, fill:NamedColor|Color|string, filter:string, filterRes:string, filterUnits:string, format:string, from:string, fr:string, fx:string, fy:string, g1:string, g2:string, glyphRef:string, gradientTransform:string, gradientUnits:string, hanging:string, height:string, href:string, hreflang:string, id:string, ideographic:string, in:string, in2:string, intercept:string, k:string, k1:string, k2:string, k3:string, k4:string, kernelMatrix:string, kernelUnitLength:string, kerning:string, keyPoints:string, keySplines:string, keyTimes:string, lang:string, lengthAdjust:string, limitingConeAngle:string, local:string, markerHeight:string, markerUnits:string, markerWidth:string, mask:string, maskContentUnits:string, maskUnits:string, mathematical:string, max:string, media:string, method:string, min:string, mode:string, name:string, numOctaves:string, offset:string, opacity:string, operator:string, order:string, orient:string, orientation:string, origin:string, overflow:string, path:string, pathLength:string, patternContentUnits:string, patternTransform:string, patternUnits:string, ping:string, points:string, pointsAtX:string, pointsAtY:string, pointsAtZ:string, preserveAlpha:string, preserveAspectRatio:string, primitiveUnits:string, r:string, radius:string, referrerPolicy:string, refX:string, refY:string, rel:string, repeatCount:string, repeatDur:string, requiredExtensions:string, requiredFeatures:string, restart:string, result:string, rotate:string, rx:string, ry:string, scale:string, seed:string, slope:string, spacing:string, specularConstant:string, specularExponent:string, speed:string, spreadMethod:string, startOffset:string, stdDeviation:string, stemh:string, stemv:string, stitchTiles:string, string:string, stroke:string, style:string, surfaceScale:string, systemLanguage:string, tabindex:string, tableValues:string, target:string, targetX:string, targetY:string, textLength:string, to:string, transform:string, type:string, u1:string, u2:string, unicode:string, values:string, version:string, viewBox:string, viewTarget:string, visibility:string, width:string, widths:string, x:string, x1:string, x2:string, xChannelSelector:string, y:string, y1:string, y2:string, yChannelSelector:string, z:string, zoomAndPan:string, }}  AElementNSAttributeDescriptor
 */

/***
 * @typedef {{abort:event:function((UiEvent|Event)):void,afterprint:event:function(Event):void,animationend:event:function(AnimationEvent):void,animationiteration:event:function(AnimationEvent):void,animationstart:event:function(AnimationEvent):void,beforeprint:event:function(Event):void,beforeunload:event:function((UiEvent|Event)):void,blur:event:function(FocusEvent):void,canplay:event:function(Event):void,canplaythrough:event:function(Event):void,change:event:function(Event):void,click:event:function(MouseEvent):void,contextmenu:event:function(MouseEvent):void,copy:event:function(ClipboardEvent):void,cut:event:function(ClipboardEvent):void,dblclick:event:function(MouseEvent):void,drag:event:function(DragEvent):void,dragend:event:function(DragEvent):void,dragenter:event:function(DragEvent):void,dragleave:event:function(DragEvent):void,dragover:event:function(DragEvent):void,dragstart:event:function(DragEvent):void,drop:event:function(DragEvent):void,durationchange:event:function(Event):void,ended:event:function(Event):void,error:event:function((ProgressEvent|UiEvent|Event)):void,focus:event:function(FocusEvent):void,focusin:event:function(FocusEvent):void,focusout:event:function(FocusEvent):void,fullscreenchange:event:function(Event):void,fullscreenerror:event:function(Event):void,hashchange:event:function(HashChangeEvent):void,input:event:function((InputEvent|Event)):void,invalid:event:function(Event):void,keydown:event:function(KeyboardEvent):void,keypress:event:function(KeyboardEvent):void,keyup:event:function(KeyboardEvent):void,load:event:function((UiEvent|Event)):void,loadeddata:event:function(Event):void,loadedmetadata:event:function(Event):void,loadstart:event:function(ProgressEvent):void,message:event:function(Event):void,mousedown:event:function(MouseEvent):void,mouseenter:event:function(MouseEvent):void,mouseleave:event:function(MouseEvent):void,mousemove:event:function(MouseEvent):void,mouseover:event:function(MouseEvent):void,mouseout:event:function(MouseEvent):void,mouseup:event:function(MouseEvent):void,mousewheel:event:function(WheelEvent):void,offline:event:function(Event):void,online:event:function(Event):void,open:event:function(Event):void,pagehide:event:function(PageTransitionEvent):void,pageshow:event:function(PageTransitionEvent):void,paste:event:function(ClipboardEvent):void,pause:event:function(Event):void,play:event:function(Event):void,playing:event:function(Event):void,popstate:event:function(PopStateEvent):void,progress:event:function(Event):void,ratechange:event:function(Event):void,resize:event:function((UiEvent|Event)):void,reset:event:function(Event):void,scroll:event:function((UiEvent|Event)):void,search:event:function(Event):void,seeked:event:function(Event):void,seeking:event:function(Event):void,select:event:function((UiEvent|Event)):void,show:event:function(Event):void,stalled:event:function(Event):void,storage:event:function(StorageEvent):void,submit:event:function(Event):void,suspend:event:function(Event):void,timeupdate:event:function(Event):void,toggle:event:function(Event):void,touchcancel:event:function(TouchEvent):void,touchend:event:function(TouchEvent):void,touchmove:event:function(TouchEvent):void,touchstart:event:function(TouchEvent):void,transitionend:event:function(TransitionEvent):void,unload:event:function((UiEvent|Event)):void,volumechange:event:function(Event):void,waiting:event:function(Event):void,wheel:event:function(WheelEvent):void}} AElementEventDescriptor
 */


/***
 * @typedef AbsolConstructDescriptor
 * @property {string | function |null} tag
 * @property {CSSStyleDeclaration} style
 * @property {Array | string} extendEvent
 * @property {Array | string} class
 * @property {AElementAttributeDescriptor|AElementNSAttributeDescriptor} attr
 * @property {string|AElement | AElementNS | AbsolConstructDescriptor | string[] |AElement[] | AElementNS[] | AbsolConstructDescriptor[]} child
 * @property {string} text to create a TextNode, not Element
 * @property {AElement} elt
 * @property {AElementEventDescriptor|{}} on
 * @property {Object} props
 *
 */


/****
 *
 * @returns {AElement}
 */
var attachhookCreator = function () {
    var res = Dom.ShareInstance._({
        tag: 'img',
        class: 'absol-attachhook',
        extendEvent: ['attached'],
        style: {
            display: 'none'
        },
        attr: {
            src: ''
        },
        on: {
            error: function (event) {
                if (!this._attached && this.isDescendantOf(document.body)) {
                    this._attached = true;
                    this.emit('attached', event, this);
                }
            }
        }
    });
    res._attached = false;
    Object.defineProperty(res, 'attached', {
        get: function () {
            return this._attached;
        }
    });
    res.resetState = function () {
        this._attached = false;
        this.src = '';
    };
    return res;
};

var svgCreator = function () {
    var temp = document.createElement('div');
    temp.innerHTML = '<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>';
    var element = temp.childNodes[0];
    var prototypes = Object.getOwnPropertyDescriptors(AElement["a" /* default */].prototype);
    Object.defineProperties(element, prototypes);
    AElement["a" /* default */].call(element);
    return element;
};

function Dom(option) {
    this.defaultTag = 'div';

    option = option || {};
    this.creator = option.creator || {};

    Object.defineProperties(this.creator,
        {
            svg: {
                set: function () {
                    //do nothing
                },
                get: function () {
                    return svgCreator;
                }
            },
            attachhook: {
                set: function () {
                    //do nothing
                },
                get: function () {
                    return attachhookCreator;
                }
            }
        });


    this['$ '.trim()] = this.$.bind(this);
    this['_ '.trim()] = this._.bind(this);
    this['$' + '$'] = this.$$.bind(this);
    this.buildDom = this._;
}


Dom.prototype.fromCode = function (code) {
    code = code.trim().replace(/>\s+</gm, '><');
    var temTag = 'div';
    if (code.startsWith('<td') || (code.startsWith('<th') && !code.startsWith('<thead'))) temTag = 'tr';
    else if (code.startsWith('<tr')) temTag = 'tbody';
    else if (code.startsWith('<thead') || code.startsWith('<tbody')) temTag = 'table';
    var tempDiv = document.createElement(temTag);
    tempDiv.innerHTML = code;
    var element = tempDiv.childNodes[0];
    var prototypes = Object.getOwnPropertyDescriptors(AElement["a" /* default */].prototype);
    Object.defineProperties(element, prototypes);
    AElement["a" /* default */].call(element);
    return element;
};


/**
 * DFS
 * @param {string | AElement} query
 * @param {AElement} root
 * @param {function} onFound - return true to stop find
 * @returns {AElement | AElementNS}
 */


Dom.prototype.$ = function (query, root, onFound) {
    var res;
    if (Dom.isDomNode(query)) res = query;
    else
        res = this.select(query, root, onFound);
    if (res) this.attach(res);
    return res;
};

/***
 *
 * @type {function(string, AElement, Function): AElement}
 */
Dom.prototype.selectAttacth = Dom.prototype.$;


/**
 * DFS
 * @param {string} query
 * @param {AElement} root
 * @param {function} onFound - return true to stop find
 */
Dom.prototype.select = function (query, root, onFound) {
    root = root || document.documentElement;
    var matcher = JSPath["a" /* default */].compileJSPath(query);
    return matcher.findFirst(root, onFound);
};


var FeatureClass = {
    AElementNS: {
        constructor: ElementNS["a" /* default */],
        prototypeKeys: Object.keys(ElementNS["a" /* default */].prototype)
    },
    AElement: {
        constructor: AElement["a" /* default */],
        prototypeKeys: Object.keys(AElement["a" /* default */].prototype)
    }
};
/**
 *
 * @param {AElement | AElementNS } element
 */
Dom.prototype.attach = function (element) {
    if (element.attr) return;
    var feature = element.getBBox ? FeatureClass.AElementNS : FeatureClass.AElement;
    var elementConstructor = feature.constructor;
    var proto = elementConstructor.prototype;
    var prototypeKeys = feature.prototypeKeys;
    var n = prototypeKeys.length;
    var key;
    for (var i = 0; i < n; ++i) {
        key = prototypeKeys[i];
        element[key] = proto[key];
    }
    Object.assign(element, elementConstructor.prototype)
    elementConstructor.call(element);
};


Dom.prototype.makeNewElement = function (tagName) {
    return document.createElement(tagName);
};

Dom.prototype.makeNewTextNode = function (data) {
    return document.createTextNode(data);
};


/**
 *
 * @param {AbsolConstructDescriptor | string | {} } option
 * @returns {AElementNS| AElement | Text}
 */
Dom.prototype._ = function (option, isInherited) {
    var res;
    var creator;
    if (Dom.isDomNode(option)) {
        res = option;
        option = {};
        /** fix reinit component */
        isInherited = true;
    }
    else {
        if (option.charAt) {
            option = option.trim();
            if (option[0] == '<') {
                res = this.fromCode(option);
                option = {};
            }
            else {
                var queryObj = JSPath["a" /* default */].parseQuery(option);
                option = {};
                option.tag = queryObj.tagName || this.defaultTag;
                if (queryObj.classList && queryObj.classList.length > 0)
                    option.class = queryObj.classList;
                if (queryObj.id) option.id = queryObj.id;
                if (queryObj.attributes) option.attr = queryObj.attributes;
            }
        }
    }

    if (option.text || option.text === '') {//is textNode
        return this.makeNewTextNode(option.text);
    }

    option.tag = option.tag || this.defaultTag;
    creator = option.tag.prototype ? option.tag : this.creator[option.tag];
    if (option.tag.prototype) option.tag = option.tag.tag;
    if (option.elt) {
        res = option.elt;
    }
    else {
        if (!res) {
            if (creator) {
                if (creator.render) {
                    res = creator.render(option.data);
                }
                else {
                    res = creator(option.data);
                }

            }
            else {
                res = this.makeNewElement(option.tag);
                Object.assign(res, option.data);
            }
        }
    }

    this.attach(res);

    if (creator) {
        res._azar_extendTags = res._azar_extendTags || {};
        res._azar_extendTags[option.tag] = creator;
        creator.property && Object.defineProperties(res, creator.property);
        creator.prototype && OOP["a" /* default */].extends(res, creator.prototype);
        creator.attribute && res.defineAttributes(creator.attribute);
        if (creator.render) {
            if (creator.eventHandler) {
                res.eventHandler = res.eventHandler || {};
                var eventHandler = OOP["a" /* default */].bindFunctions(res, creator.eventHandler || creator.prototype.eventHandler);
                for (var eventHandlerKey in eventHandler) {
                    if (res.eventHandler[eventHandlerKey]) {
                        throw new Error("Same name of eventHandler[" + eventHandlerKey + "]");
                    }
                    else {
                        res.eventHandler[eventHandlerKey] = eventHandler[eventHandlerKey];
                    }
                }
            }
            creator.call(res);
        }
    }

    option.extendEvent && res.defineEvent(option.extendEvent);

    option.attr && res.attr(option.attr);
    option.on && res.on(option.on);
    option.once && res.once(option.once);
    option.class && res.addClass(option.class);
    option.style && res.addStyle(option.style);
    option.id && res.attr('id', option.id);
    if (!isInherited) res.init(option.props);
    if (option.child) {
        option.child = option.child instanceof Array ? option.child : [option.child];
        for (var i = 0; i < option.child.length; ++i) {
            res.addChild(this._(option.child[i], false, true));
        }
    }
    return res;
};

/***
 *
 * @type {function(Object, boolean): AElement}
 */
Dom.prototype.create = Dom.prototype._;


/***
 *
 * @param query
 * @param root
 * @returns {Array<AElement|AElementNS>}
 */
Dom.prototype.$$ = function (query, root) {
    var thisD = this;
    var res = [];
    this.selectAttacth(query, root, function (elt) {
        thisD.attach(elt);
        res.push(elt);
    });
    return res;
};

Dom.prototype.install = function (arg0, arg1) {
    var _this = this;
    if (arguments.length == 1) {
        if (arg0.creator && arg0.create && arg0.select) {
            // is a dom core
            var creator = arg0.creator;
            Object.keys(creator).forEach(function (key) {
                if (key.startsWith('_') || key.startsWith('$')) return;
                var func = creator[key];
                if (typeof (func) == 'function')
                    if (_this.creator[key] != func)
                        _this.creator[key] = func;
            });
        }
        else if (typeof (arg0) == 'function') {
            var name = arg0.tag || getFunctionName(arg0) || arg0.name;
            if (name) {
                this.creator[name.toLowerCase()] = arg0;
            }
            else {
                console.error('No ident name of creator function', arg0);
            }
        }
        else if (arg0 instanceof Array) {
            arg0.forEach(function (func) {
                var name = func.tag || getFunctionName(func) || func.name;
                if (name) {
                    _this.creator[name.toLowerCase()] = func;
                }
            });
        }
        else if (typeof arg0 == 'object') {
            Object.keys(arg0).forEach(function (key) {
                if (key.startsWith('_') || key.startsWith('$')) return;
                var func = arg0[key];
                if (typeof (func) == 'function')
                    if (_this.creator[key] != func)
                        _this.creator[key] = func;
            });
        }
        else {
            console.error('Unknown data', arg0);
        }
    }
    else if (arguments.length == 2) {
        if (arg0 instanceof Array) {
            if (arg1.creator) arg1 = arg1.creator;
            arg0.forEach(function (key) {
                var func = arg1[key];
                if (typeof (func) == 'function')
                    if (_this.creator[key] != func)
                        _this.creator[key] = func;
            });
        }
        else if (arg0 instanceof RegExp) {
            if (arg1.creator) arg1 = arg1.creator;
            Object.keys(arg1).forEach(function (key) {
                if (key.match(arg0)) {
                    var func = arg1[key];
                    if (typeof (func) == 'function')
                        if (_this.creator[key] != func)
                            _this.creator[key] = func;
                }
            });
        }
        else if (typeof (arg0) == 'string' && arg0.length > 0) {
            if (typeof (arg1) == 'function') {
                this.creator[arg0] = arg1;
            }
            else {
                console.error('arg1 is not a function');
            }
        }
    }
    else {
        console.error('Invalid param');
    }

    return this;
};

/***
 *
 * @param {String | null} tagName
 */
Dom.prototype.require = function (tagName) {
    return this.creator[tagName] || null;
};


/**
 *
 * @param {*} o
 * @returns {Boolean}
 */
function isDomNode(o) {
    return (
        typeof Node === "object" ? o instanceof Node :
            o && typeof o === "object" && typeof o.nodeType === "number" && typeof o.nodeName === "string"
    );
}

Dom.isDomNode = isDomNode;

/**
 * @param {AElement|Node|HTMLElement} element
 */
function activeFullScreen(element) {
    if (element.requestFullscreen) {
        element.requestFullscreen();
    }
    else if (element.mozRequestFullScreen) {
        element.mozRequestFullScreen();
    }
    else if (element.webkitRequestFullscreen) {
        element.webkitRequestFullscreen(AElement["a" /* default */].ALLOW_KEYBOARD_INPUT);
    }
    else if (element.msRequestFullscreen) {
        element.msRequestFullscreen();
    }
}

Dom.activeFullScreen = activeFullScreen;


function deactiveFullScreen() {
    if (document.exitFullscreen) {
        document.exitFullscreen();
    }
    else if (document.mozCancelFullScreen) {
        document.mozCancelFullScreen();
    }
    else if (document.webkitExitFullscreen) {
        document.webkitExitFullscreen();
    }
    else if (document.msExitFullscreen) {
        document.msExitFullscreen();
    }
}

Dom.deactiveFullScreen = deactiveFullScreen;

function isFullScreen() {
    var fullScreenElement = document.fullscreenElement ||
        document.webkitFullscreenElement ||
        document.mozFullScreenElement ||
        document.msFullscreenElement;
    return !!fullScreenElement;
}

Dom.isFullScreen = isFullScreen;

/**
 * @param {AElement|Node|HTMLElement} current
 * @returns {ClientRect}
 */
function traceOutBoundingClientRect(current) {
    var screenSize = Dom.getScreenSize();
    var left = 0;
    var right = screenSize.width;
    var top = 0;
    var bottom = screenSize.height;
    while (current) {
        var ox = AElement["a" /* default */].prototype.getComputedStyleValue.call(current, 'overflow-x') !== "visible";
        var oy = AElement["a" /* default */].prototype.getComputedStyleValue.call(current, 'overflow-y') !== "visible";
        var isHtml = current.tagName.toLowerCase() === 'html';
        if (ox || oy || isHtml) {
            var bound = current.getBoundingClientRect();
            if (ox || isHtml) {
                left = Math.max(left, bound.left);
                right = Math.min(right, bound.right);
            }
            if (oy || isHtml) {
                top = Math.max(top, bound.top);
                bottom = Math.min(bottom, bound.bottom);
            }
        }

        if (isHtml) break;
        current = current.parentElement;
    }
    return { left: left, right: right, top: top, bottom: bottom, width: right - left, height: bottom - top };
}

Dom.traceOutBoundingClientRect = traceOutBoundingClientRect;

/***
 *
 * @param {string} fontFace
 * @param {number} timeout
 * @returns {Promise<boolean>}
 */
function fontFaceIsLoaded(fontFace, timeout) {
    timeout = timeout || 0;

    var element = this.ShareInstance._({
        tag: 'span',
        style: {
            visibility: 'hidden',
            position: 'fixed',
            top: '-9999px',
            left: '-9999px',
            'font-size': '256px'

        }, props: {
            innerHTML: "Test string long long long"
        }
    });
    element.addTo(document.body);
    return element.afterAttached().then(function () {
        var lastOffsetWidth = element.getBoundingClientRect().width;
        element.addStyle('font-family', fontFace);
        return new Promise(function (resolve, reject) {
            function check(remainTime) {
                if (remainTime < 0) {
                    resolve(false);
                    element.selfRemove();
                }
                else
                    requestAnimationFrame(function () {
                        var currentOffsetWidth = element.getBoundingClientRect().width;
                        if (currentOffsetWidth != lastOffsetWidth) {
                            resolve(true);
                            element.selfRemove();
                        }
                        else
                            check(remainTime - 10);
                    });
            }

            check(timeout);
        });
    });
}

Dom.fontFaceIsLoaded = fontFaceIsLoaded;

/***
 *
 * @returns {{width: number, WIDTH: number, HEIGHT: number, height: number}}
 */
function getScreenSize() {
    var width = window.innerWidth ||
        document.documentElement.clientWidth ||
        document.body.clientWidth;

    var height = window.innerHeight ||
        document.documentElement.clientHeight ||
        document.body.clientHeight;

    return { WIDTH: width, HEIGHT: height, width: width, height: height };
}

Dom.getScreenSize = getScreenSize;

/***
 *
 * @param {HTMLImageElement} img
 * @param {number} timeout
 * @returns {Promise<void>}
 */
function waitImageLoaded(img, timeout) {
    var isLoaded = true;
    if (!img.complete) {
        isLoaded = false;
    }
    if (img.naturalWidth === 0) {
        isLoaded = false;
    }
    if (isLoaded) return Promise.resolve();
    return new Promise(function (rs) {
        if (img.addEventListener) {
            img.addEventListener('load', rs, false);
        }
        else {
            img.attachEvent('onload', rs, false);
        }
        setTimeout(rs, timeout || 5000);
    });
    // No other way of checking: assume it’s ok.
}

Dom.waitImageLoaded = waitImageLoaded;


/***
 *
 * @param {HTMLIFrameElement| Worker} iframe
 * @returns {Promise}
 */
function waitIFrameLoaded(iframe) {
    return new Promise(function (rs, rj) {
        if (document.all) {
            iframe.onreadystatechange = function () {
                if (iframe.readyState === "complete" || iframe.readyState === "loaded")
                    rs();
            };
        }
        else {
            iframe.onload = rs;
        }
        setTimeout(rs, 5000)
    });
}

Dom.waitIFrameLoaded = waitIFrameLoaded;

/***
 *
 * @param {Image} element
 * @returns {Promise<HTMLCanvasElement>}
 */
function imageToCanvas(element) {
    if (typeof element == 'string') {
        element = Dom.ShareInstance.$(element);
    }
    if (element.tagName.toLowerCase() === 'img') {
        var preRender = Dom.ShareInstance._('div');
        preRender.addStyle({
            position: 'fixed',
            top: '0',
            left: '0',
            zIndex: '-10000',
            opacity: '0'
        }).addTo(document.body);

        var canvas = document.createElement("canvas");
        preRender.addChild(canvas);


        return Dom.waitImageLoaded(element).then(function () {
            canvas.width = element.width;
            canvas.height = element.height;
            var context = canvas.getContext("2d");
            context.drawImage(element, 0, 0);
            preRender.selfRemove();
            return canvas;
        });
    }
    else {
        throw new Error("AElement must be image");
    }
}

Dom.imageToCanvas = imageToCanvas;


Dom.ShareInstance = new Dom();


Dom.scrollWidthPromise;

Dom.documentReady = new Promise(function (resolve) {
    if (document.body) {
        resolve();
    }
    else {
        window.addEventListener("load", resolve);
    }
});

function getScrollSize() {
    if (!Dom.scrollWidthPromise)
        Dom.scrollWidthPromise = new Promise(function (resolve) {
            function prerender() {
                var parent = Dom.ShareInstance._({
                    style: {
                        'z-index': '-100',
                        opacity: '0',
                        width: '100px',
                        height: '100px',
                        overflow: 'scroll',
                        top: '0',
                        left: '0',
                        'box-sizing': 'content-box',
                        position: 'fixed'
                    }
                })
                    .addTo(document.body);
                var child = Dom.ShareInstance._({ style: { width: '100%', height: '100%' } }).addTo(parent);
                requestAnimationFrame(function () {
                    var parentBound = parent.getBoundingClientRect();
                    var childBound = child.getBoundingClientRect();
                    resolve({
                        width: parentBound.width - childBound.width,
                        height: parentBound.height - childBound.height
                    });
                    parent.selfRemove();
                });
            }

            Dom.documentReady.then(prerender);
        });
    return Dom.scrollWidthPromise;
}

Dom.getScrollSize = getScrollSize;

/***
 *
 * @param originElt
 * @returns {AElement|HTMLElement|Node}
 */
function depthCloneWithStyle(originElt) {
    var newElt = originElt.cloneNode();//no deep
    if (!originElt.getAttribute && !originElt.getAttributeNS) return newElt;//is text node
    var cssRules = AElement["a" /* default */].prototype.getCSSRules.call(originElt);

    var cssKey = cssRules.reduce(function (ac, rule) {
        for (var i = 0; i < rule.style.length; ++i) {
            ac[rule.style[i]] = true;
        }
        return ac;
    }, {});
    for (var key in cssKey) {
        newElt.style[key] = AElement["a" /* default */].prototype.getComputedStyleValue.call(originElt, key);
    }
    var children = Array.prototype.map.call(originElt.childNodes, Dom.depthCloneWithStyle);
    for (var i = 0; i < children.length; ++i) {
        newElt.appendChild(children[i]);
    }
    return newElt;
}

Dom.depthCloneWithStyle = depthCloneWithStyle;

/***
 *
 * @param  {AElement|HTMLElement|Node}sourceElt
 * @param  {AElement|HTMLElement|Node} destElt
 * @returns  {AElement|HTMLElement|Node}
 */
function copyStyleRule(sourceElt, destElt) {
    if (!sourceElt.getAttribute && !sourceElt.getAttributeNS) return destElt;//is text node
    if (!destElt.getAttribute && !destElt.getAttributeNS) return destElt;//is text node, nothing to copy
    var cssRules = AElement["a" /* default */].prototype.getCSSRules.call(sourceElt);

    var cssKey = cssRules.reduce(function (ac, rule) {
        for (var i = 0; i < rule.style.length; ++i) {
            ac[rule.style[i]] = true;
        }
        return ac;
    }, {});
    for (var key in cssKey) {
        destElt.style[key] = AElement["a" /* default */].prototype.getComputedStyleValue.call(sourceElt, key);
    }
    return destElt;
}

Dom.copyStyleRule = copyStyleRule;

/***
 * get absol construct descriptor for HTML element only
 * @param {AElement | Text} elt
 * @returns {AbsolConstructDescriptor}
 */
function getConstructDescriptor(elt) {
    var obj = {};
    obj.tag = elt.tagName.toLowerCase();
    var classAttr = elt.getAttribute('class');
    var classList;
    if (classAttr)
        classList = Object(attribute["parseClassAttr"])(classAttr);
    if (classList && classList.length > 0)
        obj.class = classList;
    var styleAttr = elt.getAttribute('style');
    var style;
    if (styleAttr)
        style = Object(attribute["parseStyleAttr"])(styleAttr);


    var attributes = elt.attributes;
    var attNode;
    var attrName;
    var attrValue;
    var attr = {};
    var on = {};
    var props = {};
    var eventMatch, eventName;
    var propMatch, propName;
    for (var i = 0; i < attributes.length; ++i) {
        attNode = attributes[i];
        attrName = attNode.nodeName;
        attrValue = attNode.nodeValue;
        if (attrName == 'style' || attrName == 'class') continue;
        eventMatch = attrName.match(/^on(.+)/)
        if (eventMatch) {
            eventName = eventMatch[1];
            on[eventName] = new Function('event', 'sender', attrValue);
            continue;
        }
        propMatch = attrName.match(/^prop-(.+)/);
        if (propMatch) {
            propName = propMatch[1];
            props[propName] = attrValue;
            continue;
        }
        attr[attrName] = attrValue;
    }
    var key;
    for (key in style) {
        //style is not empty
        obj.style = style;
        break;
    }
    for (key in attr) {
        obj.attr = attr;
        break;
    }
    for (key in on) {
        obj.on = on;
        break;
    }
    for (key in props) {
        obj.props = props;
        break;
    }

    return obj;
}

Dom.getConstructDescriptor = getConstructDescriptor;

Dom.addToResizeSystem = function (element) {
    ResizeSystem["a" /* default */].add(element);
};

Dom.updateResizeSystem = function () {
    ResizeSystem["a" /* default */].update();
}

Dom.updateSizeUp = function (fromElt) {
    ResizeSystem["a" /* default */].updateUp(fromElt);
};


/* harmony default export */ var HTML5_Dom = __webpack_exports__["a"] = (Dom);

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export eventProperties */
/* unused harmony export touchProperties */
/* unused harmony export isMouseRight */
/* unused harmony export isMouseLeft */
/* unused harmony export hitElement */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return copyEvent; });
/* unused harmony export copyTouch */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return findChangedTouchByIdent; });
/* unused harmony export findTouchByIdent */
function EventEmitter() {
    this._azar_extendEvents = this._azar_extendEvents || { supported: {}, prioritize: {}, nonprioritize: {} };
    this.__azar_force = !(typeof Node === "object" ? this instanceof Node : this && typeof this === "object" && typeof this.nodeType === "number" && typeof this.nodeName === "string");

}


EventEmitter.prototype.defineEvent = function (name) {
    if (name instanceof Array) {
        for (var i = 0; i < name.length; ++i)
            this._azar_extendEvents.supported[name[i]] = true;
    }
    else
        this._azar_extendEvents.supported[name] = true;
    return this;
};

EventEmitter.prototype.isSupportedEvent = function (name) {
    return this.__azar_force || !!this._azar_extendEvents.supported[name];
};


EventEmitter.prototype.emit = function (eventName, data) {
    this.fire.apply(this, arguments);
};

EventEmitter.prototype.fire = function (eventName, data) {
    var others = Array.prototype.slice.call(arguments, 1);
    if (this.isSupportedEvent(eventName)) {
        var listenerList;
        var i;
        if (this._azar_extendEvents.prioritize[eventName]) {
            listenerList = this._azar_extendEvents.prioritize[eventName].slice();
            for (i = 0; i < listenerList.length; ++i) {
                try {
                    listenerList[i].wrappedCallback.apply(this, others);
                }
                catch (e) {
                    console.error(e);
                }
            }
        }

        if (this._azar_extendEvents.nonprioritize[eventName]) {
            listenerList = this._azar_extendEvents.nonprioritize[eventName].slice();
            for (i = 0; i < listenerList.length; ++i) {
                try {
                    listenerList[i].wrappedCallback.apply(this, others);
                }
                catch (e) {
                    console.error(e);
                }
            }
        }
    }
    else {
        if (this.dispatchEvent) {
            var event = new Event(eventName);
            data && Object.assign(event, data);
            this.dispatchEvent(event);
        }
        else
            throw new Error("Not support event " + eventName);
    }
    return this;
};


EventEmitter.prototype.eventEmittorOnWithTime = function (isOnce, arg0, arg1, arg2) {
    if (typeof arg0 == 'object') {
        for (var key in arg0) {
            this.eventEmittorOnWithTime(isOnce, key, arg0[key]);
        }
        return this;
    }
    else {
        if (typeof arg1 == 'object') {
            return this.eventEmittorOnWithTime(isOnce, arg0, arg1.callback, arg1.cap);
        }
        else {
            var eventArr = this._azar_extendEvents[arg2 ? 'prioritize' : 'nonprioritize'][arg0] || [];
            var eventIndex = -1;
            for (var i = 0; i < eventArr.length; ++i) {
                if (eventArr[i].wrappedCallback == arg1) {
                    eventIndex = i;
                    break;
                }
            }
            if (eventIndex < 0) {
                var event = { isOnce: isOnce, eventName: arg0, callback: arg1, cap: !!arg2 };
                //wrappedCallback will be call
                if (isOnce) {
                    event.wrappedCallback = function () {
                        event.callback.apply(this, arguments);
                        this.off(event.eventName, event.wrappedCallback, event.cap);
                    };
                }
                else {
                    event.wrappedCallback = event.callback;
                }

                if (!this.isSupportedEvent(arg0)) {
                    if (this.addEventListener) {
                        this.addEventListener(arg0, event.wrappedCallback, !!arg2);
                    }
                    else {
                        this.attachEvent('on' + arg0, arg1, !!arg2);
                    }
                }

                eventArr.push(event);
                this._azar_extendEvents[arg2 ? 'prioritize' : 'nonprioritize'][arg0] = eventArr;
            }
            else {
                console.warn("dupplicate event");
            }

        }
        return this;
    }
};


EventEmitter.prototype.on = function (arg0, arg1, arg2) {
    this.eventEmittorOnWithTime(false, arg0, arg1, arg2);
    return this;
};


EventEmitter.prototype.once = function (arg0, arg1, arg2) {
    this.eventEmittorOnWithTime(true, arg0, arg1, arg2);
    return this;
};

EventEmitter.prototype.off = function (arg0, arg1, arg2) {
    if (typeof arg0 == 'object') {
        for (var key in arg0) {
            this.off(key, arg0[key]);
        }
        return this;
    }
    else {
        if (typeof arg1 == 'object') {
            return this.off(arg0, arg1.callback, arg1.cap);
        }
        else {
            var eventArr = this._azar_extendEvents[arg2 ? 'prioritize' : 'nonprioritize'][arg0] || [];
            var newEventArray = [];
            for (var i = 0; i < eventArr.length; ++i) {
                var event = eventArr[i];
                if (event.wrappedCallback == arg1) {
                    //Dont add to newEventArray
                    if (this.isSupportedEvent(arg0)) {
                    }
                    else {
                        if (this.removeEventListener) {
                            this.removeEventListener(event.eventName, event.wrappedCallback, !!event.cap);
                        }
                        else {
                            this.detachEvent('on' + event.eventName, event.wrappedCallback, !!event.cap);
                        }
                    }
                }
                else {
                    newEventArray.push(event);
                }
            }
            this._azar_extendEvents[arg2 ? 'prioritize' : 'nonprioritize'][arg0] = newEventArray;
            return this;
        }
    }

};

var eventProperties = ["altKey", "bubbles", "button", "buttons", "cancelBubble", "cancelable", "clientX", "clientY", "composed",
    "ctrlKey", "currentTarget", "defaultPrevented", "deltaMode", "deltaX", "deltaY", "deltaZ", "detail", "eventPhase",
    "explicitOriginalTarget", "isTrusted", "layerX", "layerY", "metaKey", "movementX", "movementY", "mozInputSource",
    "mozPressure", "offsetX", "offsetY", "originalTarget", "pageX", "pageY", "rangeOffset", "rangeParent", "region",
    "relatedTarget", "returnValue", "screenX", "screenY", "shiftKey", "srcElement", "target", "timeStamp", "type",
    "deltaMode", "deltaX", "deltaY", "deltaZ", 'preventDefault'];

var touchProperties = ['clientX', 'clientY', 'force', 'identifier', 'pageX', 'pageY', 'rotationAngle', 'screenX',
    'screenY', 'target'];

function isMouseRight(event) {
    var isRightMB = false;
    if ("which" in event)  // Gecko (Firefox), WebKit (Safari/Chrome) & Opera
        isRightMB = event.which == 3;
    else if ("button" in event)  // IE, Opera
        isRightMB = event.button == 2;
    return isRightMB;
}

function isMouseLeft() {
    var isLeftMB = false;
    if ("which" in event)  // Gecko (Firefox), WebKit (Safari/Chrome) & Opera
        isLeftMB = event.which == 1;
    else if ("button" in event)  // IE, Opera
        isLeftMB = event.button == 1;
    return isLeftMB;
}

function hitElement(element, event) {
    var current = event.target;
    while (current) {
        if (current == element) return true;
        current = current.parentElement;
    }
    return false;
}

function copyEvent(event, props) {
    var result = {};
    var key, value;
    //copy native property
    for (var i = 0; i < eventProperties.length; ++i) {
        key = eventProperties[i];
        value = event[key];
        if (value !== undefined) {
            if (typeof value == "function") {
                result[key] = event[key].bind(event);
            }
            else {
                result[key] = event[key];
            }
        }
    }
    Object.assign(result, event);
    if (props)
        Object.assign(result, props)
    if (event.changedTouches){
        result.changedTouches = Array.prototype.map.call(event.changedTouches, function (touch){
            return copyTouch(touch);
        });
    }
    if (event.touches){
        result.touches = Array.prototype.map.call(event.touches, function (touch){
            return copyTouch(touch);
        });
    }
    return result;
}

function copyTouch(touch, props) {
    var result = {};
    var key, value;
    //copy native property
    for (var i = 0; i < touchProperties.length; ++i) {
        key = touchProperties[i];
        value = touch[key];
        if (value !== undefined) {
            if (typeof value == "function") {
                result[key] = touch[key].bind(touch);
            }
            else {
                result[key] = touch[key];
            }
        }
    }
    Object.assign(result, touch);
    if (props)
        Object.assign(result, props);
    return result;
}

/***
 *
 * @param {TouchEvent} event
 * @return {Touch | null}
 */
function findChangedTouchByIdent(event, identifier) {
    if (event.changedTouches) {
        for (var i = 0; i < event.changedTouches.length; ++i) {
            if (event.changedTouches[i].identifier === identifier) {
                return event.changedTouches[i];
            }
        }
    }
    return null;
}


/***
 *
 * @param event
 * @param identifier
 * @return {Touch|null}
 */
function findTouchByIdent(event, identifier) {
    if (event.touches) {
        for (var i = 0; i < event.touches.length; ++i) {
            if (event.touches[i].identifier === identifier) {
                return event.touches[i];
            }
        }
    }
    return null;
}


EventEmitter.isMouseRight = isMouseRight;

EventEmitter.isMouseLeft = isMouseLeft;

EventEmitter.hitElement = hitElement;

EventEmitter.copyEvent = copyEvent;

EventEmitter.eventProperties = eventProperties;


/* harmony default export */ __webpack_exports__["b"] = (EventEmitter);

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return '@media ' + item[2] + '{' + content + '}';
      } else {
        return content;
      }
    }).join('');
  }; // import a list of modules into the list


  list.i = function (modules, mediaQuery) {
    if (typeof modules === 'string') {
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    for (var i = 0; i < this.length; i++) {
      var id = this[i][0];

      if (id != null) {
        alreadyImportedModules[id] = true;
      }
    }

    for (i = 0; i < modules.length; i++) {
      var item = modules[i]; // skip already imported module
      // this implementation is not 100% perfect for weird media query combinations
      // when a module is imported multiple times with different media queries.
      // I hope this will never occur (Hey this way we have smaller bundles)

      if (item[0] == null || !alreadyImportedModules[item[0]]) {
        if (mediaQuery && !item[2]) {
          item[2] = mediaQuery;
        } else if (mediaQuery) {
          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';
        }

        list.push(item);
      }
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || '';
  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;
  return '/*# ' + data + ' */';
}

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(56);

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = typeof options.transform === 'function'
		 ? options.transform(obj.css) 
		 : options.transform.default(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var OOP = {};

/**
 * @param {Object} object
 * @param {Sttring} key
 * @param {Function} method
 */
OOP.overideMethod = function (object, key, method) {
    if (object[key] === undefined) object[key] = method;
    else {
        var _superMethod = object[key];
        object[key] = (function (_superMethod, method) {
            return function () {
                var _super = this.super;
                this.super = _superMethod;
                var result = method.apply(this, arguments);
                this.super = _super;
                return result;
            };

        })(_superMethod, method);
    }
};


OOP.extends = function (object, prototype) {
    // do not use setter, getter
    for (var key in prototype) {
        if (key != 'constructor' && key != '__proto__') {
            if ((typeof prototype[key] == 'function')) {
                OOP.overideMethod(object, key, prototype[key]);
            }
            else if (prototype[key] !== undefined && prototype[key] !== null) {
                object[key] = prototype[key];//just copy
            }
        }
    }
};

OOP.inherit = function (child, parent) {
    // do not use setter, getter

    Object.keys(parent).forEach(function (key) {
        if (key != 'constructor' && (typeof parent[key] == 'function')) {
            var superMethod = parent[key];
            var currentMethod = child[key];
            if (!currentMethod) child[key] = superMethod;
            else {
                child[key] = function () {
                    var _super = this.super;
                    this.super = superMethod;
                    var result = currentMethod.apply(this, arguments);
                    this.super = _super;
                    return result;
                };
            }
        }
    });
};


OOP.drillProperty = function (topObject, botObject, keyTop, keyBot) {
    if (typeof (keyTop) == 'string') {
        keyBot = keyBot || keyTop;
        Object.defineProperty(topObject, keyTop, {
            set: function (value) {
                botObject[keyBot] = value;
            },
            get: function () {
                return botObject[keyBot];
            }
        });
    }
    else {
        if (keyTop instanceof Array) {
            for (var i = 0; i < keyTop.length; ++i) {
                OOP.drillProperty(topObject, botObject, keyTop[i], keyTop[i]);
            }
        }
        else {
            for (var key in keyTop) {
                OOP.drillProperty(topObject, botObject, key, keyTop[key]);
            }
        }
    }
};

OOP.bindFunctions = function (_this, handlers) {
    var res = {};
    for (var key in handlers) {
        res[key] = handlers[key].bind(_this);
    }
    return res;
};


OOP.inheritCreator = function (parent, child) {
    var i;
    if (child.property) {
        if (parent.property) {
            for (i in parent.property) {
                if (!child.property[i]) child.property[i] = parent.property[i];
            }
        }
    }
    for (i in parent.prototype) {
        if (!child.prototype[i]) {
            child.prototype[i] = parent.prototype[i];
        }
        else {
            child.prototype[i] = (function (superFunction, childFunction) {
                return function () {
                    var _super = this.super;
                    this.super = superFunction;
                    var result = childFunction.apply(this, arguments);
                    this.super = _super;
                    return result;
                };
            })(parent.prototype[i], child.prototype[i]);
        }
    }
};

/***
 *
 * @param {Function} constructor
 */
OOP.mixClass = function (constructor) {
    var descriptors = {};
    for (var i = 1; i < arguments.length; ++i) {
        Object.assign(descriptors, Object.getOwnPropertyDescriptors(arguments[i].prototype));
    }

    Object.defineProperties(constructor.prototype, descriptors);
    constructor.prototype.constructor = constructor;
};

/* harmony default export */ __webpack_exports__["a"] = (OOP);

/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _EventEmitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var _Detector_BrowserDetector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);




/***
 * @augments Node
 * @augments ChildNode
 * @augments Element
 * @augments HTMLElement
 * @augments EventEmitter
 * @augments ElementCSSInlineStyle
 * @constructor
 */
function AElement() {
    _EventEmitter__WEBPACK_IMPORTED_MODULE_0__[/* default */ "b"].call(this);
    this._azar_extendAttributes = this._azar_extendAttributes || {};
    this._azar_extendTags = {};
    this.eventHandler = {};
}

Object.defineProperties(AElement.prototype, Object.getOwnPropertyDescriptors(_EventEmitter__WEBPACK_IMPORTED_MODULE_0__[/* default */ "b"].prototype));
AElement.prototype.init = function (props) {
    Object.assign(this, props || {});
};


AElement.prototype.eventHandler = {};

/***
 * run super-class method
 */
AElement.prototype.super = function () {/* nope */
};

/**
 * @typedef {Object} AttributeDefiner
 * @property {Function} set
 * @property {Function} get
 * @property {Function} remove
 *
 * @param {String} key
 * @param {AttributeDefiner} def
 */
AElement.prototype.defineAttribute = function (key, def) {
    this._azar_extendAttributes[key] = def;
};


AElement.prototype.defineAttributes = function (defs) {
    for (var key in defs) {
        this.defineAttribute(key, defs[key]);
    }
};

AElement.prototype.attr = function () {
    if (arguments.length == 1) {
        if (typeof (arguments[0]) == 'string') {
            if (this._azar_extendAttributes[arguments[0]]) {
                return this._azar_extendAttributes[arguments[0]].get.call(this);
            }
            else
                return this.getAttribute(arguments[0]);
        }
        else {
            for (var key in arguments[0]) {

                this.attr(key, arguments[0][key]);
            }
        }
    }
    else {
        if (arguments.length == 2) {
            if (arguments[1] === null || arguments[1] === undefined) {
                if (this._azar_extendAttributes[arguments[0]]) {
                    this._azar_extendAttributes[arguments[0]].remove.call(this, arguments[1]);
                }
                else
                    this.removeAttribute(arguments[0]);
            }
            else {
                if (this._azar_extendAttributes[arguments[0]]) {
                    this._azar_extendAttributes[arguments[0]].set.call(this, arguments[1]);
                }
                else {

                    this.setAttribute(arguments[0], arguments[1]);
                }
            }
        }
    }
    return this;
};

/***
 * add style
 * @param {CSSStyleDeclaration|string|{}} arg0
 * @param {string} arg1
 * @returns {AElement}
 */
/**
 * add style
 * @param {CSSStyleDeclaration|string|{}} arg0
 * @returns {AElement}
 */
AElement.prototype.addStyle = function (arg0, arg1) {
    if (typeof arg0 == 'string')
        if (arg0.indexOf('-') >= 0) {
            this.style.setProperty(arg0, arg1);
        }
        else {
            this.style[arg0] = arg1;
        }
    else {
        for (var key in arg0)
            this.addStyle(key, arg0[key]);
    }
    return this;
};

/***
 *
 * @param {string|string[]|CSSStyleDeclaration} arg0
 * @returns {AElement}
 */
AElement.prototype.removeStyle = function (arg0) {
    var key;
    if (arg0.charAt) {
        if (arg0.indexOf('-') >= 0) {
            this.style.removeProperty(arg0);
        }
        else {
            this.style[arg0] = null;
            delete this.style[arg0];
        }
    }
    else {
        if (arg0.map && arg0.forEach) {
            for (var i = 0; i < arg0.length; ++i)
                this.removeStyle(arg0[i]);
        }
        else {
            for (key in arg0)
                this.removeStyle(key);
        }
    }
    return this;
};

AElement.prototype.addChild = function (child) {
    if (child.indexOf && child.map && child.forEach) {
        for (var i = 0; i < child.length; ++i)
            this.appendChild(child[i]);
    }
    else
        this.appendChild(child);
    return this;
};


AElement.prototype.addTo = function (parent) {
    if (parent && parent.appendChild) {
        if (parent.addChild)
            parent.addChild(this);
        else
            parent.appendChild(this);
    }
    else throw Error("Can not append to " + parent + "!");
    return this;
};


AElement.prototype.selfRemove = function () {
    if (this.parentElement)
        this.parentElement.removeChild(this);
    return this;
};


AElement.prototype.selfReplace = function (newNode) {
    if (this.parentElement)
        this.parentElement.replaceChild(newNode, this);
    return this;
};

AElement.prototype.clearChild = function () {
    while (this.firstChild) {
        this.removeChild(this.firstChild);
    }
    return this;
};

/**
 *
 * @param {string|Array} className
 * @returns {Boolean}
 */
AElement.prototype.containsClass = function (className) {
    if (className.forEach && className.map) {
        for (var i = 0; i < className.length; ++i)
            if (!this.classList.containsClass(className[i])) return false;
        return true;
    }
    else
        return this.classList.contains(className);
};

/**
 *
 * @param {string|Array} className
 * @returns {AElement}
 */
AElement.prototype.addClass = function (className) {
    if (className && className.forEach && className.map) {
        for (var i = 0; i < className.length; ++i)
            this.classList.add(className[i]);
    }
    else
        this.classList.add(className);
    return this;
};

/**
 *
 * @param {string|Array} className
 * @returns {AElement}
 */
AElement.prototype.removeClass = function (className) {
    if (className && className.forEach && className.map) {
        for (var i = 0; i < className.length; ++i)
            this.classList.remove(className[i]);
    }
    else
        this.classList.remove(className);
    return this;
};


AElement.prototype.getComputedStyleValue = function (key) {
    return window.getComputedStyle(this).getPropertyValue(key);

};

AElement.prototype.getFontSize = function () {
    return parseFloat(this.getComputedStyleValue('font-size').replace('px', ''));
};


AElement.prototype.findChildAfter = function (obj) {
    var r = 0;
    for (var i = 0; i < this.childNodes.length; ++i) {
        if (obj == this.childNodes[i]) {
            r = i + 1;
            break;
        }
    }
    if (this.childNodes[r]) return this.childNodes[r];
    return undefined;
};

AElement.prototype.findChildBefore = function (obj) {
    var r = 0;
    for (var i = 0; i < this.childNodes.length; ++i) {
        if (obj == this.childNodes[i]) {
            r = i - 1;
            break;
        }
    }
    if (this.childNodes[r]) return this.childNodes[r];
    return undefined;
};

AElement.prototype.addChildBefore = function (newItem, bf) {
    this.insertBefore(newItem, bf);
    return this;
};

AElement.prototype.addChildAfter = function (newItem, at) {
    var bf = this.findChildAfter(at);
    if (bf) return this.addChildBefore(newItem, bf);
    return this.addChild(newItem);
};

/**
 * @returns {DOMRect}
 */
AElement.prototype.getBoundingRecursiveRect = function (depth) {
    if (depth === undefined) depth = 10000;

    var current, next;
    var oo = 1000000;
    var ac = { left: oo, right: -oo, top: oo, bottom: -oo, width: 0, height: 0 };
    var stacks = [{ e: this, d: 0 }];
    while (stacks.length > 0) {
        current = stacks.pop();

        if (current.e.getBoundingClientRect) {
            var cRect = current.e.getBoundingClientRect();
            if (!cRect || !(cRect.width || cRect.height || cRect.left || cRect.right)) continue;
            ac.left = Math.min(ac.left, cRect.left);
            ac.top = Math.min(ac.top, cRect.top);
            ac.bottom = Math.max(ac.bottom, cRect.bottom);
            ac.right = Math.max(ac.right, cRect.right);
            ac.height = ac.bottom - ac.top;
            ac.width = ac.right - ac.left;
            var childNodes = current.e.childNodes;
            if (childNodes && childNodes.length > 0 && current.d < depth) {
                for (var i = 0; i < childNodes.length; ++i) {
                    next = { e: childNodes[i], d: current.d + 1 };
                    stacks.push(next);
                }
            }
        }
    }

    return ac;
};

/***
 *
 * @param parent
 * @returns {boolean}
 */
AElement.prototype.isDescendantOf = function (parent) {
    var child = this;
    while (child) {
        if (child === parent) return true;
        child = child.parentNode;
    }
    return false;
};


/*************************** **********************/
AElement.prototype.getCSSRules = function () {
    var sheets = document.styleSheets;
    var ret = [];
    this.matches = this.matches || this.webkitMatchesSelector || this.mozMatchesSelector
        || this.msMatchesSelector || this.oMatchesSelector;
    for (var i in sheets) {
        if (sheets[i].href) continue;//because can not access, you must clone link node instead
        var rules = sheets[i].rules || sheets[i].cssRules;
        for (var r in rules) {
            if (this.matches(rules[r].selectorText)) {
                ret.push(rules[r]);
            }
        }
    }
    return ret;
};


/***
 * @returns {Promise}
 */
AElement.prototype.afterAttached = function () {
    if (this.isDescendantOf(document.body)) return Promise.resolve();
    var attachHookElt = this.$attachhook || this.querySelector('.absol-attachhook');
    if (!attachHookElt) {
        attachHookElt = document.createElement('img');
        attachHookElt.src = '';
        var prototypes = Object.getOwnPropertyDescriptors(AElement.prototype);
        Object.defineProperties(attachHookElt, prototypes);
        AElement.call(attachHookElt);
        attachHookElt.defineEvent('attached');
        this.$attachhook = attachHookElt;
        this.$attachhook.on('error', function (event) {
            if (this.isDescendantOf(document.body)) this.emit('attached', event, this);
        })
        this.appendChild(attachHookElt);
    }
    return new Promise(function (rs) {
        attachHookElt.once('attached', rs);
    });
};


/***
 * WARNING: this function may be unsafe
 */
AElement.prototype.afterDisplayed = function (requestTimesOut) {
    if (!requestTimesOut) requestTimesOut = 24 * 3600 * 33;
    // var tracer = new Error();
    var current = this;
    return new Promise(function (resolve, reject) {
        function trace() {
            if (requestTimesOut < 0) {
                // reject(tracer);
                // if (absol.BUILD && absol.BUILD.version == "DEBUG")
                //     console.warn("Element not displayed", trace);
            }
            else {
                requestTimesOut--;
                var bound = current.getBoundingClientRect();
                if (bound.width > 0 || bound.height > 0) {
                    resolve();
                }
                else {
                    setTimeout(trace, 33);
                    return;
                }
            }
        }

        trace();
    });
};


!(function () {
    var origin = AElement.prototype.on;
    if (_Detector_BrowserDetector__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].isSafari && !_Detector_BrowserDetector__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].isMobile) {
        AElement.prototype.on = function () {
            if (!this.isSupportedEvent('mouseleave') && arguments[0] == 'mouseleave') {
                this.defineEvent('mouseleave');
                var mouseLeaveEventHandler = function (event) {
                    var bound = this.getBoundingClientRect();
                    var ok = false;
                    ok |= event.clientX < bound.left + 1;
                    ok |= event.clientX >= bound.right - 1;
                    ok |= event.clientY < bound.top + 1;
                    ok |= event.clientY >= bound.bottom - 1;
                    if (ok) this.emit('mouseleave', event);
                };
                this.addEventListener('mouseleave', mouseLeaveEventHandler, true);
            }
            origin.apply(this, arguments);
            return this;
        };
    }

    if (_Detector_BrowserDetector__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].isFirefox) {
        AElement.prototype.on = function () {
            if (!this.isSupportedEvent('wheel') && arguments[0] == 'wheel') {

                this.defineEvent('wheel');
                var wheelEventHandler = function (oldEvent) {
                    //clone event to avoid some lib fix it
                    var event = oldEvent.absolEvent;
                    if (!event) {
                        event = Object.assign({}, oldEvent);
                        for (var i = 0; i < AElement.eventProperties.length; ++i) {
                            var key = AElement.eventProperties[i];
                            if (typeof (event[key]) == 'function') {
                                event[key] = event[key].bind(oldEvent);
                            }
                        }

                        event.preventDefault = function () {
                            oldEvent.preventDefault();
                        };
                        if (!event.mozFixWheelScale) {
                            event.mozDeltaY = oldEvent.deltaY;
                            event.mozFixWheelScale = true;
                            Object.defineProperty(event, 'deltaY', {
                                get: function () {
                                    return this.mozDeltaY * 100 / 3;
                                }
                            });
                        }
                        oldEvent.absolEvent = event;
                    }
                    this.emit('wheel', event);
                };
                this.addEventListener('wheel', wheelEventHandler);
            }
            origin.apply(this, arguments);
            return this;
        };
    }

}());

AElement.eventProperties = ["altKey", "bubbles", "button", "buttons", "cancelBubble", "cancelable", "clientX", "clientY", "composed",
    "ctrlKey", "currentTarget", "defaultPrevented", "deltaMode", "deltaX", "deltaY", "deltaZ", "detail", "eventPhase",
    "explicitOriginalTarget", "isTrusted", "layerX", "layerY", "metaKey", "movementX", "movementY", "mozInputSource",
    "mozPressure", "offsetX", "offsetY", "originalTarget", "pageX", "pageY", "rangeOffset", "rangeParent", "region",
    "relatedTarget", "returnValue", "screenX", "screenY", "shiftKey", "srcElement", "target", "timeStamp", "type",
    "deltaMode", "deltaX", "deltaY", "deltaZ"];


/* harmony default export */ __webpack_exports__["a"] = (AElement);

/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var _BrowserRules__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(39);
/* harmony import */ var _BrowserRules__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_BrowserRules__WEBPACK_IMPORTED_MODULE_0__);



/**
 * 
 * @param {BrowserRules} rulesheet 
 */
function BrowserDetector(rulesheet) {
    this.au = global.navigator ? (navigator.userAgent || '') : '';
    this.rulesheet = rulesheet;
    this.os = this.detectByRules(this.rulesheet.os);
    this.device = this.detectByRules(this.rulesheet.device);
    this.engine = this.detectByRules(this.rulesheet.engine);
    this.browser = this.detectByRules(this.rulesheet.browser);
    this.isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;
    this.isCococ = navigator.userAgent.toLowerCase().indexOf('coc_coc_browser') >= 1;
    this.isSafari = !this.isCococ && navigator.userAgent.toLowerCase().indexOf('safari') > -1 && navigator.userAgent.toLowerCase().indexOf('win') < 0 && navigator.userAgent.toLowerCase().indexOf('android') < 0;
    this.isMobile = navigator.userAgent.indexOf('KFFOWI') > -1 || navigator.userAgent.toLowerCase().indexOf('mobile') > -1;
    this.hasTouch = 'ontouchstart' in window ||
        window.DocumentTouch && document instanceof window.DocumentTouch ||
        navigator.maxTouchPoints > 0 ||
        window.navigator.msMaxTouchPoints > 0;
    this.isTouchDevice = this.isMobile && this.hasTouch;
    this.supportPassiveEvent = (function () {
        var supportsPassiveOption = false;
        try {
            var opts = Object.defineProperty({}, 'passive', {
                get: function () {
                    supportsPassiveOption = true;
                }
            });
            window.addEventListener('test', null, opts);
            window.removeEventListener('test', null, opts);
        } catch (e) { }
        return supportsPassiveOption;
    })();
}



BrowserDetector.prototype.detectByRules = function (rules) {
    var result = {};
    for (var i = 0; i < rules.length; ++i) {
        var os = rules[i];
        var type = os[0];
        var rgx = os[1];
        if (typeof (rgx) == 'function') {
            rgx = rgx(this.au.toLowerCase());
        }
        if (Object.prototype.toString.call(rgx).indexOf('RegExp')) {
            var matched = this.au.toLowerCase().match(rgx);
            if (matched) {
                result.type = type;
                if (matched[1]) {
                    result.version = matched[1];
                }
                break;
            }
        }
        else if (typeof (rgx) == 'string') {
            if (this.au.toLowerCase().indexOf(rgx) >= 0) {
                result.type = type;
            }
        }
    }
    return result;

};




/* harmony default export */ __webpack_exports__["a"] = (new BrowserDetector(_BrowserRules__WEBPACK_IMPORTED_MODULE_0___default.a));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(13)))

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _Dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _ElementNS__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);
/* harmony import */ var _Element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10);




var sattachhookCreator = function () {
    var res = Svg.ShareInstance._('<image  class="absol-attachhook" style:"display: none"  xlink:href=""/>');
    res.defineEvent('attached');
    res.on('error', function (event) {
        if (!this._attached && this.isDescendantOf(document.body)) {
            this._attached = true;
            this.emit('attached', event, this);
        }
    });
    res._attached = false;
    Object.defineProperty(res, 'attached', {
        get: function (){
            return this._attached;
        }
    });
    res.resetState = function (){
        this._attached = false;
        this.src = '';
    };

    return res;
};

/***
 * @extends Dom
 * @param option
 * @constructor
 */
function Svg(option) {
    _Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].call(this, option);
    this.defaultTag = 'g';
    this.svgNS = "http://www.w3.org/2000/svg";
    Object.defineProperties(this.creator,
        {
            sattachhook: {
                set: function () {
                    //do nothing
                },
                get: function () {
                    return sattachhookCreator;
                }
            }
        });
    delete this.buidDom;
    this.buildSvg = this.create.bind(this);
}


Object.defineProperties(Svg.prototype, Object.getOwnPropertyDescriptors(_Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].prototype));

Svg.prototype.fromCode = function (code) {
    code = code.trim();
    var receptacle = document.createElement('div');
    var element;
    var prototypes;
    if (code.startsWith('<svg')) {
        receptacle.innerHTML = code;
        element = receptacle.childNodes[0];
        prototypes = Object.getOwnPropertyDescriptors(_Element__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].prototype);
        Object.defineProperties(element, prototypes);
        _Element__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].call(element);
    }
    else {
        var svgfragment = '<svg  version="1.1" xmlns="http://www.w3.org/2000/svg">' + code + '</svg>';
        receptacle.innerHTML = '' + svgfragment;
        element = receptacle.childNodes[0].childNodes[0];
        prototypes = Object.getOwnPropertyDescriptors(_ElementNS__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].prototype);
        Object.defineProperties(element, prototypes);
        _ElementNS__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].call(element);
    }
    return element;
};


Svg.prototype.makeNewElement = function (tagName) {
    return document.createElementNS(this.svgNS, tagName);
};


Svg.ShareInstance = new Svg();

Svg.svgToCanvas = function (element) {
    if (typeof element == 'string') {
        element = _Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].ShareInstance.$(element);
    }
    if (element && element.tagName == 'svg') {
        var cssTexts = {};
        var depthClone = function (originElt) {
            var newElt = originElt.cloneNode();//no deep
            if (!originElt.getAttributeNS) return newElt;//is text node
            var cssRules = _Element__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].prototype.getCSSRules.call(originElt);
            var cssKey = cssRules.reduce(function (ac, rule) {
                for (var i = 0; i < rule.style.length; ++i) {
                    ac[rule.style[i]] = true;
                }
                return ac;
            }, {});
            for (var key in cssKey) {
                newElt.style[key] = _Element__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].prototype.getComputedStyleValue.call(originElt, key);
            }
            var children = Array.prototype.map.call(originElt.childNodes, depthClone);
            for (var i = 0; i < children.length; ++i) {
                newElt.appendChild(children[i]);
            }
            return newElt;
        };

        var cloneElement = depthClone(element);

        var renderSpace = _Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].ShareInstance._({
            style: {
                // opacity:0,
                zIndex: -1000,
                position: 'fixed',
                top: 0,
                bottom: 0
            }
        }).addTo(document.body);
        renderSpace.addChild(cloneElement);

        var svgCode = renderSpace.innerHTML;
        renderSpace.clearChild();

        var mBlob = new Blob([svgCode], { type: "image/svg+xml;charset=utf-8" });
        var src = (URL || webkitURL).createObjectURL(mBlob);

        var image = _Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].ShareInstance._('img');
        image.attr('src', src)
            .addTo(renderSpace);
        var canvas = document.createElement("canvas");
        renderSpace.addChild(canvas);
        return _Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].waitImageLoaded(image).then(function () {
            canvas.width = image.width;
            canvas.height = image.height;
            var context = canvas.getContext("2d");
            context.drawImage(image, 0, 0);
            renderSpace.selfRemove();
            return canvas;
        });
    }
    else {
        throw new Error('Element must be svg');
    }
};

Svg.svgToRasterImageUrl = function (element) {
    return Svg.svgToCanvas(element).then(function (canvas) {
        return canvas.toDataURL();
    });
}

Svg.svgToExportedString = function (element) {
    if (typeof element == 'string') {
        element = _Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].ShareInstance.$(element);
    }
    if (element && element.tagName == 'svg') {
        var depthClone = function (originElt) {
            var newElt = originElt.cloneNode();//no deep
            if (!originElt.getAttributeNS) return newElt;//is text node
            var cssRules = _Element__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].prototype.getCSSRules.call(originElt);
            var cssKey = cssRules.reduce(function (ac, rule) {
                for (var i = 0; i < rule.style.length; ++i) {
                    ac[rule.style[i]] = true;
                }
                return ac;
            }, {});
            for (var key in cssKey) {
                newElt.style[key] = _Element__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].prototype.getComputedStyleValue.call(originElt, key);
            }
            var children = Array.prototype.map.call(originElt.childNodes, depthClone);
            for (var i = 0; i < children.length; ++i) {
                newElt.appendChild(children[i]);
            }
            return newElt;
        };

        var cloneElement = depthClone(element);
        var renderSpace = _Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].ShareInstance._({
            style: {
                // opacity:0,
                zIndex: -1000,
                position: 'fixed',
                top: 0,
                bottom: 0
            }
        }).addTo(document.body);
        renderSpace.addChild(cloneElement);
        var svgCode = renderSpace.innerHTML;
        renderSpace.selfRemove();
        return svgCode;
    }
    else {
        throw new Error('Element must be svg');
    }
};


Svg.svgToSvgUrl = function (element) {
    var svg = Svg.svgToExportedString(element);
    svg = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n' + svg;
    var blob = new Blob([svg], { type: 'image/svg+xml' });
    var url = URL.createObjectURL(blob);
    return url;
}


_Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].printElement = function (option) {
    var _ = _Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].ShareInstance._;
    var $ = _Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].ShareInstance.$;
    option = option || {};
    if (typeof option == 'string') {
        option = { elt: _Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].ShareInstance.$(option) };
    }
    else if (typeof option.elt == 'string') {
        option.elt = $(option.elt);
    }
    else if (_Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].isDomNode(option)) {
        option = { elt: option };
    }
    if (_Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].isDomNode(option.elt)) {
        var canvases = [], imageExported = [];
        var canvas, images, img, src, scripts, i;


        if (option.elt.querySelectorAll) {
            canvases = option.elt.querySelectorAll('canvas');
        }
        else {
            $('canvas', option.elt, function (elt) {
                canvases.push(elt);
            });
        }


        for (i = 0; i < canvases.length; ++i) {
            canvas = canvases[i];
            src = canvas.toDataURL();
            img = _({
                tag: 'img',
                class: 'absol-export-canvas-image',
                attr: {
                    src: src
                }
            });
            imageExported.push(img);
            _Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].copyStyleRule(canvas, img);
            canvas.parentElement.insertBefore(img, canvas);
        }


        var newElt = option.computeStyle ? _Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].depthCloneWithStyle(option.elt) : option.elt.cloneNode(true);

        //remove canvas that will be empty when clone
        canvas = [];
        if (newElt.querySelectorAll) {
            canvases = newElt.querySelectorAll('canvas');
        }
        else {
            $('canvas', newElt, function (elt) {
                canvases.push(elt);
            });
        }
        for (i = 0; i < canvases.length; ++i) {
            canvases[i].remove();
        }


        scripts = [];
        if (newElt.querySelectorAll) {
            scripts = newElt.querySelectorAll('script');
        }
        else {
            $('canvas', newElt, function (elt) {
                scripts.push(elt);
            });
        }

        for (i = 0; i < scripts.length; ++i) {
            scripts[i].remove();
        }


        images = [];
        //for performance
        if (newElt.querySelectorAll) {
            images = newElt.querySelectorAll('img');
        }
        else {
            $('img', newElt, function (elt) {
                images.push(elt);
            });
        }

        for (i = 0; i < images.length; ++i) {
            if (images[i].classList.contains('absol-export-canvas-image')) continue;
            src = images[i].src;
            images[i].setAttribute('src', src);
        }


        var renderSpace = _({
            style: {
                position: 'fixed',
                top: '0',
                left: '0',
                right: '0',
                bottom: '0',
                overflow: 'auto',
                zIndex: '10',
                opacity: '0',
                visibility: 'hidden'
            }
        });

        $('link', document.head, function (elt) {
            renderSpace.addChild(elt.cloneNode(false));
        });

        if (!option.computeStyle) {
            $('style', document.head, function (elt) {
                if (elt == _Dom__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].$printStyle) return;
                renderSpace.addChild(elt.cloneNode(true));
            });
        }

        renderSpace.addChild(newElt);
        var eltCode = renderSpace.innerHTML;
        renderSpace.clearChild();
        option.title = option.title || ($('title', document.head) || { innerHTML: 'absol.js' }).innerHTML;
        var htmlCode = ['<ht' + 'ml>',
            ' <h' + 'ead><title>' + option.title + '</title><meta charset="UTF-8">',
            '<style>',
            option.overideStyle ? 'html, body{width:initial !important; height:initial !important; overflow: initial !important; overflow-x: initial !important;overflow-y: initial !important;  }' : '',
            '@media print {',//still not work
            '    body{',
            '      -webkit-print-color-adjust: exact;',
            '       color-adjust: exact;',
            '    } ',
            '    div, tr, td, table{',
            '    }',
            '  }',
            'div, table, tr, td{',
            '    page-break-inside: initial;',
            '    page-break-before: avoid;',
            '    page-break-after: avoid;',
            '}',
            option.extendCss || '',
            '</style>',
            '</he' + 'ad>',

            '<bod' + 'y>',
            eltCode,
            '<scr' + 'ipt>' + (option.extendScript || '') + '</scri' + 'pt>',//browser parse  script tag fail
            '<scr' + 'ipt>setTimeout(function(){ window.print();},1000);</scri' + 'pt>',//browser parse  script tag fail
            '</bod' + 'y>',
            '</ht' + 'ml>'].join('\n');
        var blob = new Blob([htmlCode], { type: 'text/html; charset=UTF-8' });
        renderSpace.addTo(document.body);
        var iframe = _('iframe').attr('src', URL.createObjectURL(blob)).addStyle({
            width: '100%',
            height: '100%'
        }).addTo(renderSpace);
        return new Promise(function (rs, rj) {
            function waitLoad() {
                if (iframe.contentWindow && iframe.contentWindow.document && iframe.contentWindow.document.body) {
                    if (typeof option.onLoad == 'function') option.onLoad();
                    iframe.contentWindow.focus();
                    setTimeout(function () {
                        function waitFocusBack() {
                            if (!document.hasFocus || document.hasFocus()) {
                                renderSpace.remove();
                                if (typeof option.onFinish == 'function') option.onFinish();
                                rs();
                            }
                            else {
                                setTimeout(waitFocusBack, 300)
                            }
                        }

                        waitFocusBack();
                    }, 4000);
                }
                else setTimeout(waitLoad, 1000)
            }

            waitLoad();
        });
    }
    else {
        throw new Error('Invalid param!');
    }
};


/* harmony default export */ __webpack_exports__["a"] = (Svg);

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _AElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);

/* harmony default export */ __webpack_exports__["a"] = (_AElement__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]);

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _AElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);
/* harmony import */ var _AElementNS__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);



/**
 *
 * @constructor
 */
function ResizeSystem() {
    this.elts = [];
    this.cache = [];
    this.cacheOf = null;
    this.lastResizeTime = 0;
    window.addEventListener('resize', this.update.bind(this));
    this['goDown'+'AndCache'] = this.goDownAndCache.bind(this);
    this['notify'+'ToElt'] = this.notifyToElt.bind(this);
}

/***
 *
 * @param {AElement | AElementNS} elt
 */
ResizeSystem.prototype.goDownAndCache = function (elt){
    if (this.notifyToElt(elt))
        this.cache.push(elt);
    if (elt.childNodes) {
        Array.prototype.forEach.call(elt.childNodes, this.goDownAndCache);
    }
};

ResizeSystem.prototype.notifyToElt = function (elt){
    if (typeof elt.requestUpdateSize == 'function') {
        elt.requestUpdateSize();
        return true;
    }
    else if (typeof elt.updateSize == 'function') {
        elt.updateSize();
        return true;
    }
    else if (typeof elt.onresize == 'function') {
        elt.onresize();
        return true;
    }
};


ResizeSystem.prototype.update = function () {
    var now = new Date().getTime();
    if (now - 100 > this.lastResizeTime) {
        this.removeTrash();
        this.cache = undefined;
    }
    this.lastResizeTime = now;
    if (this.cacheOf !== null){
        this.cache = undefined;
        this.cacheOf = null;
    }


    if (this.cache === undefined) {
        this.cache = [];
        this.elts.forEach(this.goDownAndCache);
    }
    else {
        this.cache.forEach(this.notifyToElt);
    }
}

ResizeSystem.prototype.removeTrash = function () {
    this.elts = this.elts.filter(function (element) {
        return _AElement__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].prototype.isDescendantOf.call(element, document.body);
    });
};

/***
 *
 * @param  {AElement| AElementNS | Node} fromElt
 * @returns {boolean}
 */
ResizeSystem.prototype.updateUp = function (fromElt) {
    while (fromElt) {
        if (typeof fromElt.requestUpdateSize == 'function') {
            fromElt.requestUpdateSize();
            return true;
        }
        else if (typeof fromElt.updateSize == 'function') {
            fromElt.updateSize();
            return true;
        }
        else if (typeof fromElt.onresize == 'function') {
            fromElt.onresize();
            return true;
        }
        fromElt = fromElt.parentElement;
    }
};

/***
 *
 * @param  {AElement| AElementNS | Node} fromElt
 * @returns {boolean}
 */
ResizeSystem.prototype.updateDown = function (fromElt) {
    var now = new Date().getTime();
    if (now - 100 > this.lastResizeTime) {
        this.cache = undefined;
    }
    this.lastResizeTime = now;
    if (this.cacheOf !== fromElt){
        this.cache = undefined;
        this.cacheOf = fromElt;
    }
    if (this.cache === undefined) {
        this.cache = [];
        this.goDownAndCache(fromElt);
    }
    else {
        this.cache.forEach(this.notifyToElt);
    }
};

/***
 *
 * @param {AElement| AElementNS | Node} elt
 * @return {boolean}
 */
ResizeSystem.prototype.add = function (elt) {
    for (var i = 0; i < this.elts.length; ++i)
        if (_AElement__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].prototype.isDescendantOf.call(elt, this.elts[i])) {
            return false;
        }
    this.elts = this.elts.filter(function (e) {
        return !_AElement__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].prototype.isDescendantOf.call(e, elt);
    });
    this.elts.push(elt);
    return true;
};

/* harmony default export */ __webpack_exports__["a"] = (new ResizeSystem());

/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
function TemplateString(props) {
    this.parts = props.parts;
}




TemplateString.prototype.toJSCode = function () {
    return this.parts.map(function (e) {
        if (e.type == TemplateString.TYPE_EXPRESSION) {
            return '(' + e.data + ')';
        }
        else {
            return JSON.stringify(e.data);
        }
    }).join('+');
};


TemplateString.__partRegex = /(\{\{(([^\}]|(\}[^\}]))*)\}\})|(([^\{]|(\{[^\{]))+)/g;

/**
 *  @param  {String} text 
 */
TemplateString.__matchExpression = function (text) {
    if (text[0] == '{' && text[1] == '{' && text[text.length - 1] == '}' && text[text.length - 2] == '}') {
        return [text, text.substr(2, text.length - 4).trim()];
    }
    else {
        return false;
    }
};

TemplateString.TYPE_STRING = 0;
TemplateString.TYPE_EXPRESSION = 1;


TemplateString.parse = function (text) {
    text = text+'';
    var matchedParts = text.match(this.__partRegex);
    if (matchedParts) {
        var parts = matchedParts.map(function (e) {
            var matchedExp = this.__matchExpression(e);
            if (matchedExp) {
                return {
                    type: this.TYPE_EXPRESSION,
                    data: matchedExp[1]
                };
            }
            else {
                return {
                    type: this.TYPE_STRING,
                    data: e
                };
            }
        }.bind(this));
        return new TemplateString({ parts: parts });
    }
    else {
        return undefined;
    }
};

/* harmony default export */ __webpack_exports__["a"] = (TemplateString);

/***/ }),
/* 13 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseStyleAttr", function() { return parseStyleAttr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseClassAttr", function() { return parseClassAttr; });
/**
 * 
 * @param {String} text 
 *  @returns {Object}
 */
function parseStyleAttr(text) {
    return text.split(';').map(function (line) {
        var parts = line.split(':');
        if (parts.length < 2) return null;
        var key = parts.shift().trim();
        var value = parts.join(':').trim();
        if (key.length == 0 || value.length == 0) return null;
        return [key, value];
    }).filter(function (it) { return it != null }).reduce(function (ac, cr) {
        ac[cr[0]] = cr[1];
        return ac;
    }, {});
}

/**
 * 
 * @param {String} text 
 *  @returns {Array<String>}
 */
function parseClassAttr(text) {
    return text.trim().split(/\s+/);
}

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _AElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);



/***
 * @augments AElement
 * @augments SVGGraphicsElement
 * @constructor
 */
function AElementNS() {
    _AElement__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].call(this);
}

Object.defineProperties(AElementNS.prototype, Object.getOwnPropertyDescriptors(_AElement__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].prototype));
AElementNS.prototype.constructor = AElementNS;

AElementNS.prototype.attr = function () {
    if (arguments.length == 1) {
        if (typeof (arguments[0]) == 'string') {
            if (this._azar_extendAttributes[arguments[0]]) {
                return this._azar_extendAttributes[arguments[0]].get.call(this);
            }
            else
                return this.getAttributeNS(null, arguments[0]);
        }
        else {
            for (var key in arguments[0]) {

                this.attr(key, arguments[0][key]);
            }
        }
    }
    else {
        if (arguments.length == 2) {
            if (arguments[1] === null || arguments[1] === undefined) {
                if (this._azar_extendAttributes[arguments[0]]) {
                    this._azar_extendAttributes[arguments[0]].remove.call(this, arguments[1]);
                }
                else
                    this.removeAttributeNS(null, arguments[0]);
            }
            else {
                if (this._azar_extendAttributes[arguments[0]]) {
                    this._azar_extendAttributes[arguments[0]].set.call(this, arguments[1]);
                }
                else {
                    this.setAttributeNS(null, arguments[0], arguments[1]);
                }
            }
        }
    }
    return this;
};


/***
 * @returns {Promise}
 */
AElementNS.prototype.afterAttached = function () {
    if (this.isDescendantOf(document.body)) return Promise.resolve();
    var attachHookElt = this.$attachhook || this.querySelector('.absol-attachhook');
    if (!attachHookElt) {
        attachHookElt = document.createElementNS(null, 'img');
        attachHookElt.setAttributeNS(null, 'href', '');
        var prototypes = Object.getOwnPropertyDescriptors(AElementNS.prototype);
        Object.defineProperties(attachHookElt, prototypes);
        AElementNS.call(attachHookElt);
        this.$attachhook = attachHookElt;
        this.appendChild(attachHookElt);
    }
    return new Promise(function (rs) {
        attachHookElt.once('error', rs);
    });
};

/* harmony default export */ __webpack_exports__["a"] = (AElementNS);

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _AElementNS__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(15);

/* harmony default export */ __webpack_exports__["a"] = (_AElementNS__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]);


/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
function JSPath(props) {
    this.path = props.path;
}


/**
 *
 * @param {Element} element
 * @returns {Boolean}
 */
JSPath.prototype.match = function (element, query) {
    if (query.id) {
        if (!element.getAttribute || element.getAttribute('id') != query.id) return false;
    }
    if (query.tagName) {
        var matchTag = false;
        if (element._azar_extendTags && element._azar_extendTags[query.tagName]) matchTag = true;
        matchTag = matchTag || ((element.tagName || '').toUpperCase() == query.tagName.toUpperCase());
        if (!matchTag) return false;
    }
    if (query.classList)
        for (var i = 0; i < query.classList.length; ++i) {
            if (!element.classList || !element.classList.contains(query.classList[i])) return false;
        }
    if (query.attributes) {
        for (var key in query.attributes) {
            var value;
            if (element.attr) {
                value = element.attr(key);
                if (value != query.attributes[key]) return false;
            }
            else if (element.getAttribute) {
                value = element.getAttribute(key);
                if (value != query.attributes[key]) return false;
            }
        }
    }
    return true;
};

/**
 * Warning : still fail in some testcase
 */
JSPath.prototype.findFirst = function (root, onFound) {
    var queue = [{ e: root, i: 0 }];
    var current;

    while (queue.length > 0) {
        current = queue.shift();
        var isMathed = false;
        var currentElt = current.e;
        var currentI = current.i;
        if (this.match(currentElt, this.path[currentI])) {
            if (this.path[currentI].childCombinate) {
                var trackI = currentI;
                var trackElement = currentElt;
                var isTrackMatch = true;
                while (isTrackMatch && trackI > 0 && this.path[trackI].childCombinate) {
                    if (!trackElement.parentNode || !this.match(trackElement.parentNode, this.path[trackI - 1])) {
                        isTrackMatch = false;
                    }
                    else {
                        trackElement = trackElement.parentNode;
                        trackI--;
                    }
                }
                if (isTrackMatch) isMathed = true;
            }
            else {
                isMathed = true;
            }
        }


        if (isMathed && currentI + 1 == this.path.length) {
            if (!onFound || (onFound && onFound(currentElt)))
                return currentElt;
        }

        if (currentElt.childNodes) {
            var l = currentElt.childNodes.length;
            for (var i = 0; i < l; ++i) {
                if (currentElt.childNodes[i].tagName)
                    queue.push({
                        e: currentElt.childNodes[i],
                        i: currentI + (isMathed && currentI + 1 < this.path.length ? 1 : 0)
                    });
            }
        }
    }
    return undefined;
};


JSPath.prototype.findAll = function (root, onFound) {
    var res = [];
    var queue = [{ e: root, i: 0 }];
    var current;

    while (queue.length > 0) {
        current = queue.shift();
        var isMathed = false;
        var currentElt = current.e;
        var currentI = current.i;
        if (this.match(currentElt, this.path[currentI])) {
            if (this.path[currentI].childCombinate) {
                var trackI = currentI;
                var trackElement = currentElt;
                var isTrackMatch = true;
                while (isTrackMatch && trackI > 0 && this.path[trackI].childCombinate) {
                    if (!trackElement.parentNode || !this.match(trackElement.parentNode, this.path[trackI - 1])) {
                        isTrackMatch = false;
                    }
                    else {
                        trackElement = trackElement.parentNode;
                        trackI--;
                    }
                }
                if (isTrackMatch) isMathed = true;
            }
            else {
                isMathed = true;
            }
        }

        if (isMathed && currentI + 1 == this.path.length) {
            if (!onFound || (onFound && onFound(currentElt)))
                res.push(currentElt);
        }

        if (currentElt.childNodes) {
            var l = currentElt.childNodes.length;
            for (var i = 0; i < l; ++i) {
                if (currentElt.childNodes[i].tagName)
                    queue.push({
                        e: currentElt.childNodes[i],
                        i: currentI + (isMathed && currentI + 1 < this.path.length ? 1 : 0)
                    });
            }
        }
    }
    return res;
};

var identRegex = /[a-zA-Z0-9\-_]+/;
var stringRegex = /"(([^"\\]*|(\\.))*)"/;
var classRegex = new RegExp('\\.' + identRegex.source);
var idRegex = new RegExp('#' + identRegex.source);
var booleanRegex = /true|false/;
var valueRegex = new RegExp(stringRegex.source + '|' + booleanRegex.source);
var attributeRegex = new RegExp('\\[\\s*(' + identRegex.source + ')\\s*(=\\s*(' + valueRegex.source + '))\\]');
var queryRegex = new RegExp([
    '(',
    identRegex.source, '|',
    attributeRegex.source, '|',
    classRegex.source, '|',
    idRegex.source,
    ')+'
].join(''));


JSPath.__tagRegex = new RegExp(queryRegex.source + '|\\>', 'g');
JSPath.__tagNameRegex = new RegExp('^' + identRegex.source, 'i');
JSPath.__classRegex = new RegExp(classRegex.source, 'g');
JSPath.__idRegex = new RegExp(idRegex.source, 'i');

JSPath.__attrRegex = new RegExp(attributeRegex.source, 'g');


JSPath.parseQuery = function (s) {
    var tag = {};

    s = s.replace(JSPath.__attrRegex, function (full, name, assign, jsonTextValue) {
        tag.attributes = tag.attributes || {};
        if (assign) {
            tag.attributes[name] = JSON.parse(jsonTextValue);
        }
        else
            tag.attributes[name] = true;
        return '';
    });

    var classList = s.match(this.__classRegex);
    var idList = s.match(this.__idRegex);
    var tagList = s.match(this.__tagNameRegex);
    if (idList && idList.length > 0) {
        tag.id = idList[0].substring(1);
    }
    if (tagList && tagList.length > 0) {
        tag.tagName = tagList[0].trim();
    }
    if (classList && classList.length > 0) {
        tag.classList = classList.map(function (s) {
            return s.substring(1)
        });
    }
    return tag;
};


/**
 * @param {String} text
 * @returns {JSPath}
 */
JSPath.compileJSPath = function (text) {
    var tagTexts = text.match(this.__tagRegex) || [''];
    var path = [];
    var childCombinate = false;
    for (var i = 0; i < tagTexts.length; ++i) {
        var s = tagTexts[i];
        if (s == '>') {
            childCombinate = true;
        }
        else {
            var tag = this.parseQuery(s);
            tag.childCombinate = childCombinate;
            path.push(tag);
            childCombinate = false;
        }
    }
    return new JSPath({
        path: path
    });
};


/* harmony default export */ __webpack_exports__["a"] = (JSPath);

/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var _ACore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var absol_src_HTML5_Dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);



var _ = _ACore__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]._;
var $ = _ACore__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].$;

var originSetTimeout = setTimeout;
var originClearTimeout = clearTimeout;
var originSetInterval = setInterval;
var originClearInterval = clearInterval;
var pendingTimeout = 0;
var pendingInterval = 0;
var timeoutDict = {};
var intervalDict = {};

function DebugTask() {
    var res = _({
        class: 'absol-debug-task',
        child: [
            {
                child: [{
                    tag: 'span',
                    class: 'absol-debug-task-name',
                    child: { text: 'settimeout ' }
                },
                {
                    tag: 'span',
                    class: ['absol-debug-task-value', 'settimeout'],

                    child: { text: '0' }
                }]
            },
            {
                child: [{
                    tag: 'span',
                    class: 'absol-debug-task-name',
                    child: { text: 'setintervel ' }
                },
                {
                    tag: 'span',
                    class: ['absol-debug-task-value', 'setinterval'],
                    child: { text: '0' }
                },
                ]
            },
            {
                child: [{
                    tag: 'span',
                    class: 'absol-debug-task-name',
                    child: { text: 'Work ' }
                },
                {
                    tag: 'span',
                    class: ['absol-debug-task-value', 'work'],
                    child: { text: '0%' }
                },
                ]
            }
        ]
    });
    res._timeout = 0;
    res._interval = 0;
    res._work = 0;
    res.$setTimeOutValue = $('.absol-debug-task-value.settimeout', res);
    res.$setIntervalValue = $('.absol-debug-task-value.setinterval', res);
    res.$setWorkValue = $('.absol-debug-task-value.work', res);
    return res;
}

DebugTask.property = {};

DebugTask.property.timeout = {
    set: function (value) {
        this._timeout = value;
        this.$setTimeOutValue.innerHTML = value + '';
    },
    get: function () {
        return this._timeout;
    }
};

DebugTask.property.interval = {
    set: function (value) {
        this._interval = value;
        this.$setIntervalValue.innerHTML = value + '';
    },
    get: function () {
        return this._interval;
    }
};

DebugTask.property.work = {
    set: function (value) {
        this._work = value;
        value = (value * 100).toFixed(1);
        this.$setWorkValue.innerHTML = value + '%';
    },
    get: function () {
        return this._work;
    }
};


DebugTask.start = function () {
    if (DebugTask.started) return;
    if (!DebugTask.$view) {
        DebugTask.$view = _('debugtask');
    }

    var times = [];
    originSetInterval(function(){
        var now = performance.now();
        while (times.length > 0 && times[0].end < now - 2000) {
            times.shift();
        }
        if (times.length == 0)  DebugTask.$view.work = 0;
    },3000);
    global.setTimeout = function () {
        var args = Array.prototype.map.call(arguments, function (x) { return x; });
        var originCallback = arguments[0];
        if (typeof originCallback == 'undefined') return;
        if (typeof originCallback == 'string') {
            originCallback = new Function(originCallback);
        }
        args[0] = function () {
            var ret;
            try {
                var now = performance.now();
                while (times.length > 0 && times[0].end < now - 1000) {
                    times.shift();
                }
                ret = originCallback.apply(null, arguments);
                var now1 = performance.now();
                var long = now1 - now;
                times.push({
                    long:long,
                    start:now,
                    end:now1
                });
                var sTime = 0;
                for (var i = 0; i< times.length; ++i ){
                    sTime+= times[i].long;
                }
                DebugTask.$view.work = sTime/(Math.max(now1 - times[0].start, 1000));

            }
            catch (e) {
                console.error(e);
            }
            if (timeoutDict[timeoutId]) {
                pendingTimeout--;
                delete timeoutDict[timeoutId];
                DebugTask.$view.timeout = pendingTimeout;
            }
            return ret;
        }
        var timeoutId = originSetTimeout.apply(global, args)
        pendingTimeout++;
        timeoutDict[timeoutId] = true;

        DebugTask.$view.timeout = pendingTimeout;

        return timeoutId;
    }

    global.clearTimeout = function (timeoutId) {
        if (timeoutDict[timeoutId]) {
            pendingTimeout--;
            delete timeoutDict[timeoutId];
            DebugTask.$view.timeout = pendingTimeout;
        }
        return originClearTimeout.apply(global, arguments);

    };


    global.setInterval = function () {
        var args = Array.prototype.map.call(arguments, function (x) { return x; });
        var originCallback = arguments[0];
        if (typeof originCallback == 'undefined') return;
        if (typeof originCallback == 'string') {
            originCallback = new Function(originCallback);
        }
        args[0] = function () {
            var ret;
            try {
                var now = performance.now();
                while (times.length > 0 && times[0].end < now - 1000) {
                    times.shift();
                }
                ret = originCallback.apply(null, arguments);
                var now1 = performance.now();
                var long = now1 - now;
                times.push({
                    long:long,
                    start:now,
                    end:now1
                });
                var sTime = 0;
                for (var i = 0; i< times.length; ++i ){
                    sTime+= times[i].long;
                }
                DebugTask.$view.work = sTime/(Math.max(now1 - times[0].start, 1000));
            }
            catch (e) {
                console.error(e);
            }
            return ret;
        }
        var intervalId = originSetInterval.apply(global, args)
        pendingInterval++;
        intervalDict[intervalId] = true;

        DebugTask.$view.interval = pendingInterval;

        return intervalId;
    }

    global.clearInterval = function (intervalId) {
        var args = Array.prototype.map.call(arguments, function (x) { return x; });
        if (intervalDict[intervalId]) {
            pendingInterval--;
            delete intervalDict[intervalId];
            DebugTask.$view.interval = pendingInterval;
        }
        return originClearInterval.apply(global, args);

    };

    absol_src_HTML5_Dom__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].documentReady.then(function () {
        DebugTask.$view.addTo(document.body);
    });
};

_ACore__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].install('debugtask', DebugTask);



/* harmony default export */ __webpack_exports__["a"] = (DebugTask);


/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(13)))

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXTERNAL MODULE: ./node_modules/absol/src/JSMaker/TemplateString.js
var TemplateString = __webpack_require__(12);

// CONCATENATED MODULE: ./node_modules/absol/src/JSDocx/templates/document.tpl
/* harmony default export */ var templates_document = ("<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<w:document\r\n  xmlns:w=\"http://schemas.openxmlformats.org/wordprocessingml/2006/main\"\r\n  xmlns:m=\"http://schemas.openxmlformats.org/officeDocument/2006/math\"\r\n  xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\"\r\n  xmlns:wp=\"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing\"\r\n  xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\"\r\n  xmlns:ns6=\"http://schemas.openxmlformats.org/schemaLibrary/2006/main\"\r\n  xmlns:c=\"http://schemas.openxmlformats.org/drawingml/2006/chart\"\r\n  xmlns:ns8=\"http://schemas.openxmlformats.org/drawingml/2006/chartDrawing\"\r\n  xmlns:dgm=\"http://schemas.openxmlformats.org/drawingml/2006/diagram\"\r\n  xmlns:pic=\"http://schemas.openxmlformats.org/drawingml/2006/picture\"\r\n  xmlns:ns11=\"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing\"\r\n  xmlns:dsp=\"http://schemas.microsoft.com/office/drawing/2008/diagram\"\r\n  xmlns:ns13=\"urn:schemas-microsoft-com:office:excel\"\r\n  xmlns:o=\"urn:schemas-microsoft-com:office:office\"\r\n  xmlns:v=\"urn:schemas-microsoft-com:vml\"\r\n  xmlns:w10=\"urn:schemas-microsoft-com:office:word\"\r\n  xmlns:ns17=\"urn:schemas-microsoft-com:office:powerpoint\"\r\n  xmlns:odx=\"http://opendope.org/xpaths\"\r\n  xmlns:odc=\"http://opendope.org/conditions\"\r\n  xmlns:odq=\"http://opendope.org/questions\"\r\n  xmlns:odi=\"http://opendope.org/components\"\r\n  xmlns:odgm=\"http://opendope.org/SmartArt/DataHierarchy\"\r\n  xmlns:ns24=\"http://schemas.openxmlformats.org/officeDocument/2006/bibliography\"\r\n  xmlns:ns25=\"http://schemas.openxmlformats.org/drawingml/2006/compatibility\"\r\n  xmlns:ns26=\"http://schemas.openxmlformats.org/drawingml/2006/lockedCanvas\">\r\n  <w:body>\r\n    <w:altChunk r:id=\"htmlChunk\" />\r\n    <w:sectPr>\r\n      <w:pgSz w:w=\"{{ pageSetting.width }}\" w:h=\"{{ pageSetting.height }}\" w:orient=\"{{ pageSetting.orient }}\" />\r\n      <w:pgMar w:top=\"{{ pageSetting.margins.top }}\"\r\n               w:right=\"{{ pageSetting.margins.right }}\"\r\n               w:bottom=\"{{ pageSetting.margins.bottom }}\"\r\n               w:left=\"{{ pageSetting.margins.left }}\"\r\n               w:header=\"{{ pageSetting.margins.header }}\"\r\n               w:footer=\"{{ pageSetting.margins.footer }}\"\r\n               w:gutter=\"{{ pageSetting.margins.gutter }}\"/>\r\n    </w:sectPr>\r\n  </w:body>\r\n</w:document>\r\n");
// CONCATENATED MODULE: ./node_modules/absol/src/JSDocx/templates/mht_document.tpl
/* harmony default export */ var mht_document = ("MIME-Version: 1.0\r\nContent-Type: multipart/related;\r\n    type=\"text/html\";\r\n    boundary=\"----=mhtDocumentPart\"\r\n\r\n\r\n------=mhtDocumentPart\r\nContent-Type: text/html;\r\n    charset=\"utf-8\"\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Location: file:///C:/fake/document.html\r\n\r\n{{ htmlSource }}\r\n\r\n{{ contentParts }}\r\n\r\n------=mhtDocumentPart--\r\n");
// CONCATENATED MODULE: ./node_modules/absol/src/JSDocx/templates/mht_part.tpl
/* harmony default export */ var mht_part = ("------=mhtDocumentPart\r\nContent-Type: {{ contentType }}\r\nContent-Transfer-Encoding: {{ contentEncoding }}\r\nContent-Location: {{ contentLocation }}\r\n\r\n{{ encodedContent }}\r\n");
// CONCATENATED MODULE: ./node_modules/absol/src/JSDocx/DocxTpl.js




/* harmony default export */ var DocxTpl = __webpack_exports__["a"] = ({
    document: new Function('pageSetting', 'return ' + TemplateString["a" /* default */].parse(templates_document).toJSCode()),
    mht_document: new Function('htmlSource', 'contentParts', 'return ' + TemplateString["a" /* default */].parse(mht_document).toJSCode()),
    mht_part: new Function('contentType', 'contentEncoding', 'contentLocation', 'encodedContent', 'return ' + TemplateString["a" /* default */].parse(mht_part).toJSCode())
});

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(49)
var ieee754 = __webpack_require__(50)
var isArray = __webpack_require__(51)

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

/*
 * Export kMaxLength after typed array support is determined.
 */
exports.kMaxLength = kMaxLength()

function typedArraySupport () {
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

function createBuffer (that, length) {
  if (kMaxLength() < length) {
    throw new RangeError('Invalid typed array length')
  }
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = new Uint8Array(length)
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    if (that === null) {
      that = new Buffer(length)
    }
    that.length = length
  }

  return that
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

// TODO: Legacy, not needed anymore. Remove in next major version.
Buffer._augment = function (arr) {
  arr.__proto__ = Buffer.prototype
  return arr
}

function from (that, value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(that, value, encodingOrOffset)
  }

  return fromObject(that, value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length)
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
  if (typeof Symbol !== 'undefined' && Symbol.species &&
      Buffer[Symbol.species] === Buffer) {
    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
    Object.defineProperty(Buffer, Symbol.species, {
      value: null,
      configurable: true
    })
  }
}

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be a number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (that, size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(that, size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(that, size).fill(fill, encoding)
      : createBuffer(that, size).fill(fill)
  }
  return createBuffer(that, size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(null, size, fill, encoding)
}

function allocUnsafe (that, size) {
  assertSize(size)
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0
    }
  }
  return that
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(null, size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(null, size)
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  var length = byteLength(string, encoding) | 0
  that = createBuffer(that, length)

  var actual = that.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    that = that.slice(0, actual)
  }

  return that
}

function fromArrayLike (that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  that = createBuffer(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array, byteOffset, length) {
  array.byteLength // this throws if `array` is not a valid ArrayBuffer

  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('\'offset\' is out of bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('\'length\' is out of bounds')
  }

  if (byteOffset === undefined && length === undefined) {
    array = new Uint8Array(array)
  } else if (length === undefined) {
    array = new Uint8Array(array, byteOffset)
  } else {
    array = new Uint8Array(array, byteOffset, length)
  }

  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = array
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromArrayLike(that, array)
  }
  return that
}

function fromObject (that, obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    that = createBuffer(that, len)

    if (that.length === 0) {
      return that
    }

    obj.copy(that, 0, 0, len)
    return that
  }

  if (obj) {
    if ((typeof ArrayBuffer !== 'undefined' &&
        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {
      if (typeof obj.length !== 'number' || isnan(obj.length)) {
        return createBuffer(that, 0)
      }
      return fromArrayLike(that, obj)
    }

    if (obj.type === 'Buffer' && isArray(obj.data)) {
      return fromArrayLike(that, obj.data)
    }
  }

  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')
}

function checked (length) {
  // Note: cannot use `length < kMaxLength()` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&
      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect
// Buffer instances.
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (isNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (Buffer.TYPED_ARRAY_SUPPORT &&
        typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end)
    newBuf.__proto__ = Buffer.prototype
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start]
    }
  }

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if (code < 256) {
        val = code
      }
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : utf8ToBytes(new Buffer(val, encoding).toString())
    var len = bytes.length
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

function isnan (val) {
  return val !== val // eslint-disable-line no-self-compare
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(13)))

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer, global, setImmediate) {var require;var require;/*!

JSZip v3.5.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/

!function(t){if(true)module.exports=t();else {}}(function(){return function s(a,o,h){function u(r,t){if(!o[r]){if(!a[r]){var e="function"==typeof require&&require;if(!t&&e)return require(r,!0);if(l)return l(r,!0);var i=new Error("Cannot find module '"+r+"'");throw i.code="MODULE_NOT_FOUND",i}var n=o[r]={exports:{}};a[r][0].call(n.exports,function(t){var e=a[r][1][t];return u(e||t)},n,n.exports,s,a,o,h)}return o[r].exports}for(var l="function"==typeof require&&require,t=0;t<h.length;t++)u(h[t]);return u}({1:[function(t,e,r){"use strict";var c=t("./utils"),d=t("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(t){for(var e,r,i,n,s,a,o,h=[],u=0,l=t.length,f=l,d="string"!==c.getTypeOf(t);u<t.length;)f=l-u,i=d?(e=t[u++],r=u<l?t[u++]:0,u<l?t[u++]:0):(e=t.charCodeAt(u++),r=u<l?t.charCodeAt(u++):0,u<l?t.charCodeAt(u++):0),n=e>>2,s=(3&e)<<4|r>>4,a=1<f?(15&r)<<2|i>>6:64,o=2<f?63&i:64,h.push(p.charAt(n)+p.charAt(s)+p.charAt(a)+p.charAt(o));return h.join("")},r.decode=function(t){var e,r,i,n,s,a,o=0,h=0,u="data:";if(t.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var l,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===p.charAt(64)&&f--,t.charAt(t.length-2)===p.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(l=d.uint8array?new Uint8Array(0|f):new Array(0|f);o<t.length;)e=p.indexOf(t.charAt(o++))<<2|(n=p.indexOf(t.charAt(o++)))>>4,r=(15&n)<<4|(s=p.indexOf(t.charAt(o++)))>>2,i=(3&s)<<6|(a=p.indexOf(t.charAt(o++))),l[h++]=e,64!==s&&(l[h++]=r),64!==a&&(l[h++]=i);return l}},{"./support":30,"./utils":32}],2:[function(t,e,r){"use strict";var i=t("./external"),n=t("./stream/DataWorker"),s=t("./stream/DataLengthProbe"),a=t("./stream/Crc32Probe");s=t("./stream/DataLengthProbe");function o(t,e,r,i,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=i,this.compressedContent=n}o.prototype={getContentWorker:function(){var t=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(t,e,r){return t.pipe(new a).pipe(new s("uncompressedSize")).pipe(e.compressWorker(r)).pipe(new s("compressedSize")).withStreamInfo("compression",e)},e.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,r){"use strict";var i=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,r){"use strict";var i=t("./utils");var o=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}(0|e,t,t.length,0):function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=t("pako"),s=t("./utils"),a=t("./stream/GenericWorker"),o=i?"uint8array":"array";function h(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}r.magic="\b\0",s.inherits(h,a),h.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,t.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(t){return new h("Deflate",t)},r.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,r){"use strict";function A(t,e){var r,i="";for(r=0;r<e;r++)i+=String.fromCharCode(255&t),t>>>=8;return i}function i(t,e,r,i,n,s){var a,o,h=t.file,u=t.compression,l=s!==O.utf8encode,f=I.transformTo("string",s(h.name)),d=I.transformTo("string",O.utf8encode(h.name)),c=h.comment,p=I.transformTo("string",s(c)),m=I.transformTo("string",O.utf8encode(c)),_=d.length!==h.name.length,g=m.length!==c.length,b="",v="",y="",w=h.dir,k=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(x.crc32=t.crc32,x.compressedSize=t.compressedSize,x.uncompressedSize=t.uncompressedSize);var S=0;e&&(S|=8),l||!_&&!g||(S|=2048);var z=0,C=0;w&&(z|=16),"UNIX"===n?(C=798,z|=function(t,e){var r=t;return t||(r=e?16893:33204),(65535&r)<<16}(h.unixPermissions,w)):(C=20,z|=function(t){return 63&(t||0)}(h.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,o=k.getUTCFullYear()-1980,o<<=4,o|=k.getUTCMonth()+1,o<<=5,o|=k.getUTCDate(),_&&(v=A(1,1)+A(B(f),4)+d,b+="up"+A(v.length,2)+v),g&&(y=A(1,1)+A(B(p),4)+m,b+="uc"+A(y.length,2)+y);var E="";return E+="\n\0",E+=A(S,2),E+=u.magic,E+=A(a,2),E+=A(o,2),E+=A(x.crc32,4),E+=A(x.compressedSize,4),E+=A(x.uncompressedSize,4),E+=A(f.length,2),E+=A(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+E+f+b,dirRecord:R.CENTRAL_FILE_HEADER+A(C,2)+E+A(p.length,2)+"\0\0\0\0"+A(z,4)+A(i,4)+f+b+p}}var I=t("../utils"),n=t("../stream/GenericWorker"),O=t("../utf8"),B=t("../crc32"),R=t("../signature");function s(t,e,r,i){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(s,n),s.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,n.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-i-1))/r:100}}))},s.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=i(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(t){return R.DATA_DESCRIPTOR+A(t.crc32,4)+A(t.compressedSize,4)+A(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,i=function(t,e,r,i,n){var s=I.transformTo("string",n(i));return R.CENTRAL_DIRECTORY_END+"\0\0\0\0"+A(t,2)+A(t,2)+A(e,4)+A(r,4)+A(s.length,2)+s}(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(t){var e=this._sources;if(!n.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},s.prototype.lock=function(){n.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=s},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,r){"use strict";var u=t("../compressions"),i=t("./ZipFileWorker");r.generateWorker=function(t,a,e){var o=new i(a.streamFiles,e,a.platform,a.encodeFileName),h=0;try{t.forEach(function(t,e){h++;var r=function(t,e){var r=t||e,i=u[r];if(!i)throw new Error(r+" is not a valid compression method !");return i}(e.options.compression,a.compression),i=e.options.compressionOptions||a.compressionOptions||{},n=e.dir,s=e.date;e._compressWorker(r,i).withStreamInfo("file",{name:t,dir:n,date:s,comment:e.comment||"",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(o)}),o.entriesCount=h}catch(t){o.error(t)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,r){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.5.0",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,r){"use strict";var i=t("./utils"),n=t("./external"),o=t("./utf8"),h=(i=t("./utils"),t("./zipEntries")),s=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function l(i){return new n.Promise(function(t,e){var r=i.decompressed.getContentWorker().pipe(new s);r.on("error",function(t){e(t)}).on("end",function(){r.streamInfo.crc32!==i.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}e.exports=function(t,s){var a=this;return s=i.extend(s||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(t)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,s.optimizedBinaryString,s.base64).then(function(t){var e=new h(s);return e.load(t),e}).then(function(t){var e=[n.Promise.resolve(t)],r=t.files;if(s.checkCRC32)for(var i=0;i<r.length;i++)e.push(l(r[i]));return n.Promise.all(e)}).then(function(t){for(var e=t.shift(),r=e.files,i=0;i<r.length;i++){var n=r[i];a.file(n.fileNameStr,n.decompressed,{binary:!0,optimizedBinaryString:!0,date:n.date,dir:n.dir,comment:n.fileCommentStr.length?n.fileCommentStr:null,unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions,createFolders:s.createFolders})}return e.zipComment.length&&(a.comment=e.zipComment),a})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,r){"use strict";var i=t("../utils"),n=t("../stream/GenericWorker");function s(t,e){n.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(s,n),s.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},s.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,r){"use strict";var n=t("readable-stream").Readable;function i(t,e,r){n.call(this,e),this._helper=t;var i=this;t.on("data",function(t,e){i.push(t)||i._helper.pause(),r&&r(e)}).on("error",function(t){i.emit("error",t)}).on("end",function(){i.push(null)})}t("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,e,r){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,r){"use strict";function s(t,e,r){var i,n=u.getTypeOf(e),s=u.extend(r||{},f);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=g(t)),s.createFolders&&(i=_(t))&&b.call(this,i,!0);var a="string"===n&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!a),(e instanceof d&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",n="string");var o=null;o=e instanceof d||e instanceof l?e:p.isNode&&p.isStream(e)?new m(t,e):u.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var h=new c(t,o,s);this.files[t]=h}var n=t("./utf8"),u=t("./utils"),l=t("./stream/GenericWorker"),a=t("./stream/StreamHelper"),f=t("./defaults"),d=t("./compressedObject"),c=t("./zipObject"),o=t("./generate"),p=t("./nodejsUtils"),m=t("./nodejs/NodejsStreamInputAdapter"),_=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},g=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},b=function(t,e){return e=void 0!==e?e:f.createFolders,t=g(t),this.files[t]||s.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function h(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var i={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,r,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(r=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(r,i))},filter:function(r){var i=[];return this.forEach(function(t,e){r(t,e)&&i.push(e)}),i},file:function(t,e,r){if(1!==arguments.length)return t=this.root+t,s.call(this,t,e,r),this;if(h(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var n=this.files[this.root+t];return n&&!n.dir?n:null},folder:function(r){if(!r)return this;if(h(r))return this.filter(function(t,e){return e.dir&&r.test(t)});var t=this.root+r,e=b.call(this,t),i=this.clone();return i.root=e.name,i},remove:function(r){r=this.root+r;var t=this.files[r];if(t||("/"!==r.slice(-1)&&(r+="/"),t=this.files[r]),t&&!t.dir)delete this.files[r];else for(var e=this.filter(function(t,e){return e.name.slice(0,r.length)===r}),i=0;i<e.length;i++)delete this.files[e[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,r={};try{if((r=u.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");u.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var i=r.comment||this.comment||"";e=o.generateWorker(this,r,i)}catch(t){(e=new l("error")).error(t)}return new a(e,r.type||"string",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=i},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,r){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,r){"use strict";var i=t("./DataReader");function n(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(n,i),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===e&&this.data[s+1]===r&&this.data[s+2]===i&&this.data[s+3]===n)return s-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&r===s[1]&&i===s[2]&&n===s[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],18:[function(t,e,r){"use strict";var i=t("../utils");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{"../utils":32}],19:[function(t,e,r){"use strict";var i=t("./Uint8ArrayReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,r){"use strict";var i=t("./DataReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],21:[function(t,e,r){"use strict";var i=t("./ArrayReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,r){"use strict";var i=t("../utils"),n=t("../support"),s=t("./ArrayReader"),a=t("./StringReader"),o=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||n.uint8array?"nodebuffer"===e?new o(t):n.uint8array?new h(i.transformTo("uint8array",t)):new s(i.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,r){"use strict";var i=t("./GenericWorker"),n=t("../utils");function s(t){i.call(this,"ConvertWorker to "+t),this.destType=t}n.inherits(s,i),s.prototype.processChunk=function(t){this.push({data:n.transformTo(this.destType,t.data),meta:t.meta})},e.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,r){"use strict";var i=t("./GenericWorker"),n=t("../crc32");function s(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(s,i),s.prototype.processChunk=function(t){this.streamInfo.crc32=n(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,r){"use strict";var i=t("../utils"),n=t("./GenericWorker");function s(t){n.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(s,n),s.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}n.prototype.processChunk.call(this,t)},e.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,r){"use strict";var i=t("../utils"),n=t("./GenericWorker");function s(t){n.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(s,n),s.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,r){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,e,r){"use strict";var h=t("../utils"),n=t("./ConvertWorker"),s=t("./GenericWorker"),u=t("../base64"),i=t("../support"),a=t("../external"),o=null;if(i.nodestream)try{o=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function l(t,o){return new a.Promise(function(e,r){var i=[],n=t._internalType,s=t._outputType,a=t._mimeType;t.on("data",function(t,e){i.push(t),o&&o(e)}).on("error",function(t){i=[],r(t)}).on("end",function(){try{var t=function(t,e,r){switch(t){case"blob":return h.newBlob(h.transformTo("arraybuffer",e),r);case"base64":return u.encode(e);default:return h.transformTo(t,e)}}(s,function(t,e){var r,i=0,n=null,s=0;for(r=0;r<e.length;r++)s+=e[r].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(n=new Uint8Array(s),r=0;r<e.length;r++)n.set(e[r],i),i+=e[r].length;return n;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(n,i),a);e(t)}catch(t){r(t)}i=[]}).resume()})}function f(t,e,r){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=r,h.checkSupport(i),this._worker=t.pipe(new n(i)),t.lock()}catch(t){this._worker=new s("error"),this._worker.error(t)}}f.prototype={accumulate:function(t){return l(this,t)},on:function(t,e){var r=this;return"data"===t?this._worker.on(t,function(t){e.call(r,t.data,t.meta)}):this._worker.on(t,function(){h.delay(e,arguments,r)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(h.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new o(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),r.blob=0===n.getBlob("application/zip").size}catch(t){r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch(t){r.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,s){"use strict";for(var o=t("./utils"),h=t("./support"),r=t("./nodejsUtils"),i=t("./stream/GenericWorker"),u=new Array(256),n=0;n<256;n++)u[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;u[254]=u[254]=1;function a(){i.call(this,"utf-8 decode"),this.leftOver=null}function l(){i.call(this,"utf-8 encode")}s.utf8encode=function(t){return h.nodebuffer?r.newBufferFrom(t,"utf-8"):function(t){var e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=h.uint8array?new Uint8Array(o):new Array(o),n=s=0;s<o;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e}(t)},s.utf8decode=function(t){return h.nodebuffer?o.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,r,i,n,s=t.length,a=new Array(2*s);for(e=r=0;e<s;)if((i=t[e++])<128)a[r++]=i;else if(4<(n=u[i]))a[r++]=65533,e+=n-1;else{for(i&=2===n?31:3===n?15:7;1<n&&e<s;)i=i<<6|63&t[e++],n--;1<n?a[r++]=65533:i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|1023&i)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)}(t=o.transformTo(h.uint8array?"uint8array":"array",t))},o.inherits(a,i),a.prototype.processChunk=function(t){var e=o.transformTo(h.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var i=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+u[t[r]]>e?r:e}(e),n=e;i!==e.length&&(h.uint8array?(n=e.subarray(0,i),this.leftOver=e.subarray(i,e.length)):(n=e.slice(0,i),this.leftOver=e.slice(i,e.length))),this.push({data:s.utf8decode(n),meta:t.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=a,o.inherits(l,i),l.prototype.processChunk=function(t){this.push({data:s.utf8encode(t.data),meta:t.meta})},s.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,a){"use strict";var o=t("./support"),h=t("./base64"),r=t("./nodejsUtils"),i=t("set-immediate-shim"),u=t("./external");function n(t){return t}function l(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}a.newBlob=function(e,r){a.checkSupport("blob");try{return new Blob([e],{type:r})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(r)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var s={stringifyByChunk:function(t,e,r){var i=[],n=0,s=t.length;if(s<=r)return String.fromCharCode.apply(null,t);for(;n<s;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+r,s)))):i.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+r,s)))),n+=r;return i.join("")},stringifyByChar:function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(t){return!1}}()}};function f(t){var e=65536,r=a.getTypeOf(t),i=!0;if("uint8array"===r?i=s.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=s.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return s.stringifyByChunk(t,r,e)}catch(t){e=Math.floor(e/2)}return s.stringifyByChar(t)}function d(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}a.applyFromCharCode=f;var c={};c.string={string:n,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,r.allocBuffer(t.length))}},c.array={string:f,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(t)}},c.arraybuffer={string:function(t){return f(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(new Uint8Array(t))}},c.uint8array={string:f,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return r.newBufferFrom(t)}},c.nodebuffer={string:f,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:n},a.transformTo=function(t,e){if(e=e||"",!t)return e;a.checkSupport(t);var r=a.getTypeOf(e);return c[r][t](e)},a.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":o.nodebuffer&&r.isBuffer(t)?"nodebuffer":o.uint8array&&t instanceof Uint8Array?"uint8array":o.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(t){if(!o[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(t){var e,r,i="";for(r=0;r<(t||"").length;r++)i+="\\x"+((e=t.charCodeAt(r))<16?"0":"")+e.toString(16).toUpperCase();return i},a.delay=function(t,e,r){i(function(){t.apply(r||null,e||[])})},a.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r},a.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r},a.prepareContent=function(r,t,i,n,s){return u.Promise.resolve(t).then(function(i){return o.blob&&(i instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(i)))&&"undefined"!=typeof FileReader?new u.Promise(function(e,r){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=function(t){r(t.target.error)},t.readAsArrayBuffer(i)}):i}).then(function(t){var e=a.getTypeOf(t);return e?("arraybuffer"===e?t=a.transformTo("uint8array",t):"string"===e&&(s?t=h.decode(t):i&&!0!==n&&(t=function(t){return l(t,o.uint8array?new Uint8Array(t.length):new Array(t.length))}(t))),t):u.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e,r){"use strict";var i=t("./reader/readerFor"),n=t("./utils"),s=t("./signature"),a=t("./zipEntry"),o=(t("./utf8"),t("./support"));function h(t){this.files=[],this.loadOptions=t}h.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(e)+", expected "+n.pretty(t)+")")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=o.uint8array?"uint8array":"array",r=n.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=e-r;if(0<i)this.isSignature(e,s.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,r){"use strict";var i=t("./reader/readerFor"),s=t("./utils"),n=t("./compressedObject"),a=t("./crc32"),o=t("./utf8"),h=t("./compressions"),u=t("./support");function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in h)if(h.hasOwnProperty(e)&&h[e].magic===t)return h[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,i,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<n;)e=t.readInt(2),r=t.readInt(2),i=t.readData(r),this.extraFields[e]={id:e,length:r,value:i};t.setIndex(n)},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=s.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var n=s.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null}},e.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,r){"use strict";function i(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=t("./stream/StreamHelper"),n=t("./stream/DataWorker"),a=t("./utf8"),o=t("./compressedObject"),h=t("./stream/GenericWorker");i.prototype={internalStream:function(t){var e=null,r="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(r=t.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),e=this._decompressWorker();var n=!this._dataBinary;n&&!i&&(e=e.pipe(new a.Utf8EncodeWorker)),!n&&i&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new h("error")).error(t)}return new s(e,r,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof o&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new n(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)i.prototype[u[f]]=l;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,l,e){(function(e){"use strict";var r,i,t=e.MutationObserver||e.WebKitMutationObserver;if(t){var n=0,s=new t(u),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),r=function(){a.data=n=++n%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var o=new e.MessageChannel;o.port1.onmessage=u,r=function(){o.port2.postMessage(0)}}var h=[];function u(){var t,e;i=!0;for(var r=h.length;r;){for(e=h,h=[],t=-1;++t<r;)e[t]();r=h.length}i=!1}l.exports=function(t){1!==h.push(t)||i||r()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,r){"use strict";var n=t("immediate");function u(){}var l={},s=["REJECTED"],a=["FULFILLED"],i=["PENDING"];function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=i,this.queue=[],this.outcome=void 0,t!==u&&c(this,t)}function h(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(e,r,i){n(function(){var t;try{t=r(i)}catch(t){return l.reject(e,t)}t===e?l.reject(e,new TypeError("Cannot resolve promise with itself")):l.resolve(e,t)})}function d(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function c(e,t){var r=!1;function i(t){r||(r=!0,l.reject(e,t))}function n(t){r||(r=!0,l.resolve(e,t))}var s=p(function(){t(n,i)});"error"===s.status&&i(s.value)}function p(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}(e.exports=o).prototype.finally=function(e){if("function"!=typeof e)return this;var r=this.constructor;return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})},o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var r=new this.constructor(u);this.state!==i?f(r,this.state===a?t:e,this.outcome):this.queue.push(new h(r,t,e));return r},h.prototype.callFulfilled=function(t){l.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){l.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},l.resolve=function(t,e){var r=p(d,e);if("error"===r.status)return l.reject(t,r.value);var i=r.value;if(i)c(t,i);else{t.state=a,t.outcome=e;for(var n=-1,s=t.queue.length;++n<s;)t.queue[n].callFulfilled(e)}return t},l.reject=function(t,e){t.state=s,t.outcome=e;for(var r=-1,i=t.queue.length;++r<i;)t.queue[r].callRejected(e);return t},o.resolve=function(t){if(t instanceof this)return t;return l.resolve(new this(u),t)},o.reject=function(t){var e=new this(u);return l.reject(e,t)},o.all=function(t){var r=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,n=!1;if(!i)return this.resolve([]);var s=new Array(i),a=0,e=-1,o=new this(u);for(;++e<i;)h(t[e],e);return o;function h(t,e){r.resolve(t).then(function(t){s[e]=t,++a!==i||n||(n=!0,l.resolve(o,s))},function(t){n||(n=!0,l.reject(o,t))})}},o.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,i=!1;if(!r)return this.resolve([]);var n=-1,s=new this(u);for(;++n<r;)a=t[n],e.resolve(a).then(function(t){i||(i=!0,l.resolve(s,t))},function(t){i||(i=!0,l.reject(s,t))});var a;return s}},{immediate:36}],38:[function(t,e,r){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,r){"use strict";var a=t("./zlib/deflate"),o=t("./utils/common"),h=t("./utils/strings"),n=t("./zlib/messages"),s=t("./zlib/zstream"),u=Object.prototype.toString,l=0,f=-1,d=0,c=8;function p(t){if(!(this instanceof p))return new p(t);this.options=o.assign({level:f,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==l)throw new Error(n[r]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?h.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=a.deflateSetDictionary(this.strm,i))!==l)throw new Error(n[r]);this._dict_set=!0}}function i(t,e){var r=new p(e);if(r.push(t,!0),r.err)throw r.msg||n[r.err];return r.result}p.prototype.push=function(t,e){var r,i,n=this.strm,s=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?n.input=h.string2buf(t):"[object ArrayBuffer]"===u.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new o.Buf8(s),n.next_out=0,n.avail_out=s),1!==(r=a.deflate(n,i))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==n.avail_out&&(0!==n.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(n.output,n.next_out))):this.onData(o.shrinkBuf(n.output,n.next_out)))}while((0<n.avail_in||0===n.avail_out)&&1!==r);return 4===i?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==i||(this.onEnd(l),!(n.avail_out=0))},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=p,r.deflate=i,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,i(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,i(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,r){"use strict";var d=t("./zlib/inflate"),c=t("./utils/common"),p=t("./utils/strings"),m=t("./zlib/constants"),i=t("./zlib/messages"),n=t("./zlib/zstream"),s=t("./zlib/gzheader"),_=Object.prototype.toString;function a(t){if(!(this instanceof a))return new a(t);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var r=d.inflateInit2(this.strm,e.windowBits);if(r!==m.Z_OK)throw new Error(i[r]);this.header=new s,d.inflateGetHeader(this.strm,this.header)}function o(t,e){var r=new a(e);if(r.push(t,!0),r.err)throw r.msg||i[r.err];return r.result}a.prototype.push=function(t,e){var r,i,n,s,a,o,h=this.strm,u=this.options.chunkSize,l=this.options.dictionary,f=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?m.Z_FINISH:m.Z_NO_FLUSH,"string"==typeof t?h.input=p.binstring2buf(t):"[object ArrayBuffer]"===_.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new c.Buf8(u),h.next_out=0,h.avail_out=u),(r=d.inflate(h,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&l&&(o="string"==typeof l?p.string2buf(l):"[object ArrayBuffer]"===_.call(l)?new Uint8Array(l):l,r=d.inflateSetDictionary(this.strm,o)),r===m.Z_BUF_ERROR&&!0===f&&(r=m.Z_OK,f=!1),r!==m.Z_STREAM_END&&r!==m.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==m.Z_STREAM_END&&(0!==h.avail_in||i!==m.Z_FINISH&&i!==m.Z_SYNC_FLUSH)||("string"===this.options.to?(n=p.utf8border(h.output,h.next_out),s=h.next_out-n,a=p.buf2string(h.output,n),h.next_out=s,h.avail_out=u-s,s&&c.arraySet(h.output,h.output,n,s,0),this.onData(a)):this.onData(c.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==m.Z_STREAM_END);return r===m.Z_STREAM_END&&(i=m.Z_FINISH),i===m.Z_FINISH?(r=d.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===m.Z_OK):i!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(h.avail_out=0))},a.prototype.onData=function(t){this.chunks.push(t)},a.prototype.onEnd=function(t){t===m.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=a,r.inflate=o,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,o(t,e)},r.ungzip=o},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,r,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+i),n);else for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){var e,r,i,n,s,a;for(e=i=0,r=t.length;e<r;e++)i+=t[e].length;for(a=new Uint8Array(i),e=n=0,r=t.length;e<r;e++)s=t[e],a.set(s,n),n+=s.length;return a}},s={arraySet:function(t,e,r,i,n){for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(i)},{}],42:[function(t,e,r){"use strict";var h=t("./common"),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var u=new h.Buf8(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function l(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&n))return String.fromCharCode.apply(null,h.shrinkBuf(t,e));for(var r="",i=0;i<e;i++)r+=String.fromCharCode(t[i]);return r}u[254]=u[254]=1,r.string2buf=function(t){var e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new h.Buf8(o),n=s=0;s<o;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e},r.buf2binstring=function(t){return l(t,t.length)},r.binstring2buf=function(t){for(var e=new h.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,n,s,a=e||t.length,o=new Array(2*a);for(r=i=0;r<a;)if((n=t[r++])<128)o[i++]=n;else if(4<(s=u[n]))o[i++]=65533,r+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&r<a;)n=n<<6|63&t[r++],s--;1<s?o[i++]=65533:n<65536?o[i++]=n:(n-=65536,o[i++]=55296|n>>10&1023,o[i++]=56320|1023&n)}return l(o,i)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+u[t[r]]>e?r:e}},{"./common":41}],43:[function(t,e,r){"use strict";e.exports=function(t,e,r,i){for(var n=65535&t|0,s=t>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(n=n+e[i++]|0)|0,--a;);n%=65521,s%=65521}return n|s<<16|0}},{}],44:[function(t,e,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,r){"use strict";var o=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}},{}],46:[function(t,e,r){"use strict";var h,d=t("../utils/common"),u=t("./trees"),c=t("./adler32"),p=t("./crc32"),i=t("./messages"),l=0,f=4,m=0,_=-2,g=-1,b=4,n=2,v=8,y=9,s=286,a=30,o=19,w=2*s+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(t,e){return t.msg=i[e],e}function T(t){return(t<<1)-(4<t?9:0)}function D(t){for(var e=t.length;0<=--e;)t[e]=0}function F(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(d.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function N(t,e){u._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,F(t.strm)}function U(t,e){t.pending_buf[t.pending++]=e}function P(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function L(t,e){var r,i,n=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-z?t.strstart-(t.w_size-z):0,u=t.window,l=t.w_mask,f=t.prev,d=t.strstart+S,c=u[s+a-1],p=u[s+a];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(r=e)+a]===p&&u[r+a-1]===c&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<d);if(i=S-(d-s),s=d-S,a<i){if(t.match_start=e,o<=(a=i))break;c=u[s+a-1],p=u[s+a]}}}while((e=f[e&l])>h&&0!=--n);return a<=t.lookahead?a:t.lookahead}function j(t){var e,r,i,n,s,a,o,h,u,l,f=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-z)){for(d.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=r=t.hash_size;i=t.head[--e],t.head[e]=f<=i?i-f:0,--r;);for(e=r=f;i=t.prev[--e],t.prev[e]=f<=i?i-f:0,--r;);n+=f}if(0===t.strm.avail_in)break;if(a=t.strm,o=t.window,h=t.strstart+t.lookahead,u=n,l=void 0,l=a.avail_in,u<l&&(l=u),r=0===l?0:(a.avail_in-=l,d.arraySet(o,a.input,a.next_in,l,h),1===a.state.wrap?a.adler=c(a.adler,o,l,h):2===a.state.wrap&&(a.adler=p(a.adler,o,l,h)),a.next_in+=l,a.total_in+=l,l),t.lookahead+=r,t.lookahead+t.insert>=x)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+x-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<x)););}while(t.lookahead<z&&0!==t.strm.avail_in)}function Z(t,e){for(var r,i;;){if(t.lookahead<z){if(j(t),t.lookahead<z&&e===l)return A;if(0===t.lookahead)break}if(r=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-z&&(t.match_length=L(t,r)),t.match_length>=x)if(i=u._tr_tally(t,t.strstart-t.match_start,t.match_length-x),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=x){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}function W(t,e){for(var r,i,n;;){if(t.lookahead<z){if(j(t),t.lookahead<z&&e===l)return A;if(0===t.lookahead)break}if(r=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=x-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-z&&(t.match_length=L(t,r),t.match_length<=5&&(1===t.strategy||t.match_length===x&&4096<t.strstart-t.match_start)&&(t.match_length=x-1)),t.prev_length>=x&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-x,i=u._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-x),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=x-1,t.strstart++,i&&(N(t,!1),0===t.strm.avail_out))return A}else if(t.match_available){if((i=u._tr_tally(t,0,t.window[t.strstart-1]))&&N(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return A}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=u._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}function M(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*w),this.dyn_dtree=new d.Buf16(2*(2*a+1)),this.bl_tree=new d.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(k+1),this.heap=new d.Buf16(2*s+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*s+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=n,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?C:E,t.adler=2===e.wrap?0:1,e.last_flush=l,u._tr_init(e),m):R(t,_)}function K(t){var e=G(t);return e===m&&function(t){t.window_size=2*t.w_size,D(t.head),t.max_lazy_match=h[t.level].max_lazy,t.good_match=h[t.level].good_length,t.nice_match=h[t.level].nice_length,t.max_chain_length=h[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=x-1,t.match_available=0,t.ins_h=0}(t.state),e}function Y(t,e,r,i,n,s){if(!t)return _;var a=1;if(e===g&&(e=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),n<1||y<n||r!==v||i<8||15<i||e<0||9<e||s<0||b<s)return R(t,_);8===i&&(i=9);var o=new H;return(t.state=o).strm=t,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new d.Buf8(2*o.w_size),o.head=new d.Buf16(o.hash_size),o.prev=new d.Buf16(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new d.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=s,o.method=r,K(t)}h=[new M(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(j(t),0===t.lookahead&&e===l)return A;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,N(t,!1),0===t.strm.avail_out))return A;if(t.strstart-t.block_start>=t.w_size-z&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):(t.strstart>t.block_start&&(N(t,!1),t.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(t,e){return Y(t,e,v,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?_:(t.state.gzhead=e,m):_},r.deflate=function(t,e){var r,i,n,s;if(!t||!t.state||5<e||e<0)return t?R(t,_):_;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==f)return R(t,0===t.avail_out?-5:_);if(i.strm=t,r=i.last_flush,i.last_flush=e,i.status===C)if(2===i.wrap)t.adler=0,U(i,31),U(i,139),U(i,8),i.gzhead?(U(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),U(i,255&i.gzhead.time),U(i,i.gzhead.time>>8&255),U(i,i.gzhead.time>>16&255),U(i,i.gzhead.time>>24&255),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(U(i,255&i.gzhead.extra.length),U(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=p(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(U(i,0),U(i,0),U(i,0),U(i,0),U(i,0),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,3),i.status=E);else{var a=v+(i.w_bits-8<<4)<<8;a|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=E,P(i,a),0!==i.strstart&&(P(i,t.adler>>>16),P(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending!==i.pending_buf_size));)U(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,U(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),0===s&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,U(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),0===s&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&F(t),i.pending+2<=i.pending_buf_size&&(U(i,255&t.adler),U(i,t.adler>>8&255),t.adler=0,i.status=E)):i.status=E),0!==i.pending){if(F(t),0===t.avail_out)return i.last_flush=-1,m}else if(0===t.avail_in&&T(e)<=T(r)&&e!==f)return R(t,-5);if(666===i.status&&0!==t.avail_in)return R(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==l&&666!==i.status){var o=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(j(t),0===t.lookahead)){if(e===l)return A;break}if(t.match_length=0,r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}(i,e):3===i.strategy?function(t,e){for(var r,i,n,s,a=t.window;;){if(t.lookahead<=S){if(j(t),t.lookahead<=S&&e===l)return A;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=x&&0<t.strstart&&(i=a[n=t.strstart-1])===a[++n]&&i===a[++n]&&i===a[++n]){s=t.strstart+S;do{}while(i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&n<s);t.match_length=S-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=x?(r=u._tr_tally(t,1,t.match_length-x),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}(i,e):h[i.level].func(i,e);if(o!==O&&o!==B||(i.status=666),o===A||o===O)return 0===t.avail_out&&(i.last_flush=-1),m;if(o===I&&(1===e?u._tr_align(i):5!==e&&(u._tr_stored_block(i,0,0,!1),3===e&&(D(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),F(t),0===t.avail_out))return i.last_flush=-1,m}return e!==f?m:i.wrap<=0?1:(2===i.wrap?(U(i,255&t.adler),U(i,t.adler>>8&255),U(i,t.adler>>16&255),U(i,t.adler>>24&255),U(i,255&t.total_in),U(i,t.total_in>>8&255),U(i,t.total_in>>16&255),U(i,t.total_in>>24&255)):(P(i,t.adler>>>16),P(i,65535&t.adler)),F(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?m:1)},r.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==C&&69!==e&&73!==e&&91!==e&&103!==e&&e!==E&&666!==e?R(t,_):(t.state=null,e===E?R(t,-3):m):_},r.deflateSetDictionary=function(t,e){var r,i,n,s,a,o,h,u,l=e.length;if(!t||!t.state)return _;if(2===(s=(r=t.state).wrap)||1===s&&r.status!==C||r.lookahead)return _;for(1===s&&(t.adler=c(t.adler,e,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new d.Buf8(r.w_size),d.arraySet(u,e,l-r.w_size,r.w_size,0),e=u,l=r.w_size),a=t.avail_in,o=t.next_in,h=t.input,t.avail_in=l,t.next_in=0,t.input=e,j(r);r.lookahead>=x;){for(i=r.strstart,n=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+x-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,--n;);r.strstart=i,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,t.next_in=o,t.input=h,t.avail_in=a,r.wrap=s,m},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,r){"use strict";e.exports=function(t,e){var r,i,n,s,a,o,h,u,l,f,d,c,p,m,_,g,b,v,y,w,k,x,S,z,C;r=t.state,i=t.next_in,z=t.input,n=i+(t.avail_in-5),s=t.next_out,C=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,d=r.window,c=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{p<15&&(c+=z[i++]<<p,p+=8,c+=z[i++]<<p,p+=8),v=m[c&g];e:for(;;){if(c>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(c&(1<<y)-1)];continue e}if(32&y){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}w=65535&v,(y&=15)&&(p<y&&(c+=z[i++]<<p,p+=8),w+=c&(1<<y)-1,c>>>=y,p-=y),p<15&&(c+=z[i++]<<p,p+=8,c+=z[i++]<<p,p+=8),v=_[c&b];r:for(;;){if(c>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(c&(1<<y)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(k=65535&v,p<(y&=15)&&(c+=z[i++]<<p,(p+=8)<y&&(c+=z[i++]<<p,p+=8)),h<(k+=c&(1<<y)-1)){t.msg="invalid distance too far back",r.mode=30;break t}if(c>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(S=d,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=d[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=d[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=d[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=d[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(i<n&&s<o);i-=w=p>>3,c&=(1<<(p-=w<<3))-1,t.next_in=i,t.next_out=s,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=s<o?o-s+257:257-(s-o),r.hold=c,r.bits=p}},{}],49:[function(t,e,r){"use strict";var I=t("../utils/common"),O=t("./adler32"),B=t("./crc32"),R=t("./inffast"),T=t("./inftrees"),D=1,F=2,N=0,U=-2,P=1,i=852,n=592;function L(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=P,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new I.Buf32(i),e.distcode=e.distdyn=new I.Buf32(n),e.sane=1,e.back=-1,N):U}function o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,a(t)):U}function h(t,e){var r,i;return t&&t.state?(i=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?U:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,o(t))):U}function u(t,e){var r,i;return t?(i=new s,(t.state=i).window=null,(r=h(t,e))!==N&&(t.state=null),r):U}var l,f,d=!0;function j(t){if(d){var e;for(l=new I.Buf32(512),f=new I.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(T(D,t.lens,0,288,l,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;T(F,t.lens,0,32,f,0,t.work,{bits:5}),d=!1}t.lencode=l,t.lenbits=9,t.distcode=f,t.distbits=5}function Z(t,e,r,i){var n,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new I.Buf8(s.wsize)),i>=s.wsize?(I.arraySet(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i<(n=s.wsize-s.wnext)&&(n=i),I.arraySet(s.window,e,r-i,n,s.wnext),(i-=n)?(I.arraySet(s.window,e,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0}r.inflateReset=o,r.inflateReset2=h,r.inflateResetKeep=a,r.inflateInit=function(t){return u(t,15)},r.inflateInit2=u,r.inflate=function(t,e){var r,i,n,s,a,o,h,u,l,f,d,c,p,m,_,g,b,v,y,w,k,x,S,z,C=0,E=new I.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return U;12===(r=t.state).mode&&(r.mode=13),a=t.next_out,n=t.output,h=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,l=r.bits,f=o,d=h,x=N;t:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(2&r.wrap&&35615===u){E[r.check=0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=30;break}if(8!=(15&u)){t.msg="unknown compression method",r.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<k,t.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=B(r.check,E,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(o<(c=r.length)&&(c=o),c&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),I.arraySet(r.head.extra,i,s,c,k)),512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,r.length-=c),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break t;for(c=0;k=i[s+c++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&c<o;);if(512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,k)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break t;for(c=0;k=i[s+c++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&c<o;);if(512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,k)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}t.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(j(r),r.mode=20,6!==e)break;u>>>=2,l-=2;break t;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(c=r.length){if(o<c&&(c=o),h<c&&(c=h),0===c)break t;I.arraySet(n,i,s,c,a),o-=c,s+=c,h-=c,a+=c,r.length-=c;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.lens[A[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=T(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(b<16)u>>>=_,l-=_,r.lens[r.have++]=b;else{if(16===b){for(z=_+2;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}k=r.lens[r.have-1],c=3+(3&u),u>>>=2,l-=2}else if(17===b){for(z=_+3;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}l-=_,k=0,c=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(z=_+7;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}l-=_,k=0,c=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+c>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;c--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},x=T(D,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=T(F,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(6<=o&&258<=h){t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,R(t,d),a=t.next_out,n=t.output,h=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(g&&0==(240&g)){for(v=_,y=g,w=b;g=(C=r.lencode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(z=r.extra;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(0==(240&g)){for(v=_,y=g,w=b;g=(C=r.distcode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,64&g){t.msg="invalid distance code",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(z=r.extra;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===h)break t;if(c=d-h,r.offset>c){if((c=r.offset-c)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}p=c>r.wnext?(c-=r.wnext,r.wsize-c):r.wnext-c,c>r.length&&(c=r.length),m=r.window}else m=n,p=a-r.offset,c=r.length;for(h<c&&(c=h),h-=c,r.length-=c;n[a++]=m[p++],--c;);0===r.length&&(r.mode=21);break;case 26:if(0===h)break t;n[a++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break t;o--,u|=i[s++]<<l,l+=8}if(d-=h,t.total_out+=d,r.total+=d,d&&(t.adler=r.check=r.flags?B(r.check,n,d,a-d):O(r.check,n,d,a-d)),d=h,(r.flags?u:L(u))!==r.check){t.msg="incorrect data check",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}l=u=0}r.mode=29;case 29:x=1;break t;case 30:x=-3;break t;case 31:return-4;case 32:default:return U}return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,(r.wsize||d!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&Z(t,t.output,t.next_out,d-t.avail_out)?(r.mode=31,-4):(f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,r.total+=d,r.wrap&&d&&(t.adler=r.check=r.flags?B(r.check,n,d,t.next_out-d):O(r.check,n,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===d||4===e)&&x===N&&(x=-5),x)},r.inflateEnd=function(t){if(!t||!t.state)return U;var e=t.state;return e.window&&(e.window=null),t.state=null,N},r.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?U:((r.head=e).done=!1,N):U},r.inflateSetDictionary=function(t,e){var r,i=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?U:11===r.mode&&O(1,e,i,0)!==r.check?-3:Z(t,e,i,i)?(r.mode=31,-4):(r.havedict=1,N):U},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,r){"use strict";var D=t("../utils/common"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,i,n,s,a,o){var h,u,l,f,d,c,p,m,_,g=o.bits,b=0,v=0,y=0,w=0,k=0,x=0,S=0,z=0,C=0,E=0,A=null,I=0,O=new D.Buf16(16),B=new D.Buf16(16),R=null,T=0;for(b=0;b<=15;b++)O[b]=0;for(v=0;v<i;v++)O[e[r+v]]++;for(k=g,w=15;1<=w&&0===O[w];w--);if(w<k&&(k=w),0===w)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(y=1;y<w&&0===O[y];y++);for(k<y&&(k=y),b=z=1;b<=15;b++)if(z<<=1,(z-=O[b])<0)return-1;if(0<z&&(0===t||1!==w))return-1;for(B[1]=0,b=1;b<15;b++)B[b+1]=B[b]+O[b];for(v=0;v<i;v++)0!==e[r+v]&&(a[B[e[r+v]]++]=v);if(c=0===t?(A=R=a,19):1===t?(A=F,I-=257,R=N,T-=257,256):(A=U,R=P,-1),b=y,d=s,S=v=E=0,l=-1,f=(C=1<<(x=k))-1,1===t&&852<C||2===t&&592<C)return 1;for(;;){for(p=b-S,_=a[v]<c?(m=0,a[v]):a[v]>c?(m=R[T+a[v]],A[I+a[v]]):(m=96,0),h=1<<b-S,y=u=1<<x;n[d+(E>>S)+(u-=h)]=p<<24|m<<16|_|0,0!==u;);for(h=1<<b-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,v++,0==--O[b]){if(b===w)break;b=e[r+a[v]]}if(k<b&&(E&f)!==l){for(0===S&&(S=k),d+=y,z=1<<(x=b-S);x+S<w&&!((z-=O[x+S])<=0);)x++,z<<=1;if(C+=1<<x,1===t&&852<C||2===t&&592<C)return 1;n[l=E&f]=k<<24|x<<16|d-s|0}}return 0!==E&&(n[d+E]=b-S<<24|64<<16|0),o.bits=k,0}},{"../utils/common":41}],51:[function(t,e,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,r){"use strict";var n=t("../utils/common"),o=0,h=1;function i(t){for(var e=t.length;0<=--e;)t[e]=0}var s=0,a=29,u=256,l=u+1+a,f=30,d=19,_=2*l+1,g=15,c=16,p=7,m=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));i(z);var C=new Array(2*f);i(C);var E=new Array(512);i(E);var A=new Array(256);i(A);var I=new Array(a);i(I);var O,B,R,T=new Array(f);function D(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function F(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function N(t){return t<256?E[t]:E[256+(t>>>7)]}function U(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function P(t,e,r){t.bi_valid>c-r?(t.bi_buf|=e<<t.bi_valid&65535,U(t,t.bi_buf),t.bi_buf=e>>c-t.bi_valid,t.bi_valid+=r-c):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function L(t,e,r){P(t,r[2*e],r[2*e+1])}function j(t,e){for(var r=0;r|=1&t,t>>>=1,r<<=1,0<--e;);return r>>>1}function Z(t,e,r){var i,n,s=new Array(g+1),a=0;for(i=1;i<=g;i++)s[i]=a=a+r[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=j(s[o]++,o))}}function W(t){var e;for(e=0;e<l;e++)t.dyn_ltree[2*e]=0;for(e=0;e<f;e++)t.dyn_dtree[2*e]=0;for(e=0;e<d;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*m]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function M(t){8<t.bi_valid?U(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function H(t,e,r,i){var n=2*e,s=2*r;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[r]}function G(t,e,r){for(var i=t.heap[r],n=r<<1;n<=t.heap_len&&(n<t.heap_len&&H(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!H(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i}function K(t,e,r){var i,n,s,a,o=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],n=t.pending_buf[t.l_buf+o],o++,0===i?L(t,n,e):(L(t,(s=A[n])+u+1,e),0!==(a=w[s])&&P(t,n-=I[s],a),L(t,s=N(--i),r),0!==(a=k[s])&&P(t,i-=T[s],a)),o<t.last_lit;);L(t,m,e)}function Y(t,e){var r,i,n,s=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=_,r=0;r<h;r++)0!==s[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):s[2*r+1]=0;for(;t.heap_len<2;)s[2*(n=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=a[2*n+1]);for(e.max_code=u,r=t.heap_len>>1;1<=r;r--)G(t,s,r);for(n=h;r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G(t,s,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,s[2*n]=s[2*r]+s[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,s[2*r+1]=s[2*i+1]=n,t.heap[1]=n++,G(t,s,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,i,n,s,a,o,h=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,f=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(s=0;s<=g;s++)t.bl_count[s]=0;for(h[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<_;r++)p<(s=h[2*h[2*(i=t.heap[r])+1]+1]+1)&&(s=p,m++),h[2*i+1]=s,u<i||(t.bl_count[s]++,a=0,c<=i&&(a=d[i-c]),o=h[2*i],t.opt_len+=o*(s+a),f&&(t.static_len+=o*(l[2*i+1]+a)));if(0!==m){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,m-=2}while(0<m);for(s=p;0!==s;s--)for(i=t.bl_count[s];0!==i;)u<(n=t.heap[--r])||(h[2*n+1]!==s&&(t.opt_len+=(s-h[2*n+1])*h[2*n],h[2*n+1]=s),i--)}}(t,e),Z(s,u,t.bl_count)}function X(t,e,r){var i,n,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),e[2*(r+1)+1]=65535,i=0;i<=r;i++)n=a,a=e[2*(i+1)+1],++o<h&&n===a||(o<u?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[2*b]++):o<=10?t.bl_tree[2*v]++:t.bl_tree[2*y]++,s=n,u=(o=0)===a?(h=138,3):n===a?(h=6,3):(h=7,4))}function V(t,e,r){var i,n,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),i=0;i<=r;i++)if(n=a,a=e[2*(i+1)+1],!(++o<h&&n===a)){if(o<u)for(;L(t,n,t.bl_tree),0!=--o;);else 0!==n?(n!==s&&(L(t,n,t.bl_tree),o--),L(t,b,t.bl_tree),P(t,o-3,2)):o<=10?(L(t,v,t.bl_tree),P(t,o-3,3)):(L(t,y,t.bl_tree),P(t,o-11,7));s=n,u=(o=0)===a?(h=138,3):n===a?(h=6,3):(h=7,4)}}i(T);var q=!1;function J(t,e,r,i){P(t,(s<<1)+(i?1:0),3),function(t,e,r,i){M(t),i&&(U(t,r),U(t,~r)),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}r._tr_init=function(t){q||(function(){var t,e,r,i,n,s=new Array(g+1);for(i=r=0;i<a-1;i++)for(I[i]=r,t=0;t<1<<w[i];t++)A[r++]=i;for(A[r-1]=i,i=n=0;i<16;i++)for(T[i]=n,t=0;t<1<<k[i];t++)E[n++]=i;for(n>>=7;i<f;i++)for(T[i]=n<<7,t=0;t<1<<k[i]-7;t++)E[256+n++]=i;for(e=0;e<=g;e++)s[e]=0;for(t=0;t<=143;)z[2*t+1]=8,t++,s[8]++;for(;t<=255;)z[2*t+1]=9,t++,s[9]++;for(;t<=279;)z[2*t+1]=7,t++,s[7]++;for(;t<=287;)z[2*t+1]=8,t++,s[8]++;for(Z(z,l+1,s),t=0;t<f;t++)C[2*t+1]=5,C[2*t]=j(t,5);O=new D(z,w,u+1,l,g),B=new D(C,k,0,f,g),R=new D(new Array(0),x,0,d,p)}(),q=!0),t.l_desc=new F(t.dyn_ltree,O),t.d_desc=new F(t.dyn_dtree,B),t.bl_desc=new F(t.bl_tree,R),t.bi_buf=0,t.bi_valid=0,W(t)},r._tr_stored_block=J,r._tr_flush_block=function(t,e,r,i){var n,s,a=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return h;for(e=32;e<u;e++)if(0!==t.dyn_ltree[2*e])return h;return o}(t)),Y(t,t.l_desc),Y(t,t.d_desc),a=function(t){var e;for(X(t,t.dyn_ltree,t.l_desc.max_code),X(t,t.dyn_dtree,t.d_desc.max_code),Y(t,t.bl_desc),e=d-1;3<=e&&0===t.bl_tree[2*S[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=n&&(n=s)):n=s=r+5,r+4<=n&&-1!==e?J(t,e,r,i):4===t.strategy||s===n?(P(t,2+(i?1:0),3),K(t,z,C)):(P(t,4+(i?1:0),3),function(t,e,r,i){var n;for(P(t,e-257,5),P(t,r-1,5),P(t,i-4,4),n=0;n<i;n++)P(t,t.bl_tree[2*S[n]+1],3);V(t,t.dyn_ltree,e-1),V(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),K(t,t.dyn_ltree,t.dyn_dtree)),W(t),i&&M(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(A[r]+u+1)]++,t.dyn_dtree[2*N(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){P(t,2,3),L(t,m,z),function(t){16===t.bi_valid?(U(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,r){"use strict";e.exports="function"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20).Buffer, __webpack_require__(13), __webpack_require__(24).setImmediate))

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(101);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(setImmediate, global) {/* harmony import */ var atob__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(37);
/* harmony import */ var atob__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(atob__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var btoa__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(38);
/* harmony import */ var btoa__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(btoa__WEBPACK_IMPORTED_MODULE_1__);



if (!('atob' in window)) {
    window.atob = atob__WEBPACK_IMPORTED_MODULE_0___default.a;
}
if (!('btoa' in window)) {
    window.btoa = btoa__WEBPACK_IMPORTED_MODULE_1___default.a;
}

!function (e, n) {
    "object" == typeof exports && "undefined" != typeof module ? n() : "function" == typeof define && __webpack_require__(53) ? define(n) : n()
}(0, function () {
    "use strict";

    function e(e) {
        var n = this.constructor;
        return this.then(function (t) {
            return n.resolve(e()).then(function () {
                return t
            })
        }, function (t) {
            return n.resolve(e()).then(function () {
                return n.reject(t)
            })
        })
    }

    function n() {
    }

    function t(e) {
        if (!(this instanceof t)) throw new TypeError("Promises must be constructed via new");
        if ("function" != typeof e) throw new TypeError("not a function");
        this._state = 0, this._handled = !1, this._value = undefined, this._deferreds = [], u(e, this)
    }

    function o(e, n) {
        for (; 3 === e._state;) e = e._value;
        0 !== e._state ? (e._handled = !0, t._immediateFn(function () {
            var t = 1 === e._state ? n.onFulfilled : n.onRejected;
            if (null !== t) {
                var o;
                try {
                    o = t(e._value)
                } catch (f) {
                    return void i(n.promise, f)
                }
                r(n.promise, o)
            }
            else (1 === e._state ? r : i)(n.promise, e._value)
        })) : e._deferreds.push(n)
    }

    function r(e, n) {
        try {
            if (n === e) throw new TypeError("A promise cannot be resolved with itself.");
            if (n && ("object" == typeof n || "function" == typeof n)) {
                var o = n.then;
                if (n instanceof t) return e._state = 3, e._value = n, void f(e);
                if ("function" == typeof o) return void u(function (e, n) {
                    return function () {
                        e.apply(n, arguments)
                    }
                }(o, n), e)
            }
            e._state = 1, e._value = n, f(e)
        } catch (r) {
            i(e, r)
        }
    }

    function i(e, n) {
        e._state = 2, e._value = n, f(e)
    }

    function f(e) {
        2 === e._state && 0 === e._deferreds.length && t._immediateFn(function () {
            e._handled || t._unhandledRejectionFn(e._value)
        });
        for (var n = 0, r = e._deferreds.length; r > n; n++) o(e, e._deferreds[n]);
        e._deferreds = null
    }

    function u(e, n) {
        var t = !1;
        try {
            e(function (e) {
                t || (t = !0, r(n, e))
            }, function (e) {
                t || (t = !0, i(n, e))
            })
        } catch (o) {
            if (t) return;
            t = !0, i(n, o)
        }
    }

    var c = setTimeout;
    t.prototype["catch"] = function (e) {
        return this.then(null, e)
    }, t.prototype.then = function (e, t) {
        var r = new this.constructor(n);
        return o(this, new function (e, n, t) {
            this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof n ? n : null, this.promise = t
        }(e, t, r)), r
    }, t.prototype["finally"] = e, t.all = function (e) {
        return new t(function (n, t) {
            function o(e, f) {
                try {
                    if (f && ("object" == typeof f || "function" == typeof f)) {
                        var u = f.then;
                        if ("function" == typeof u) return void u.call(f, function (n) {
                            o(e, n)
                        }, t)
                    }
                    r[e] = f, 0 == --i && n(r)
                } catch (c) {
                    t(c)
                }
            }

            if (!e || "undefined" == typeof e.length) throw new TypeError("Promise.all accepts an array");
            var r = Array.prototype.slice.call(e);
            if (0 === r.length) return n([]);
            for (var i = r.length, f = 0; r.length > f; f++) o(f, r[f])
        })
    }, t.resolve = function (e) {
        return e && "object" == typeof e && e.constructor === t ? e : new t(function (n) {
            n(e)
        })
    }, t.reject = function (e) {
        return new t(function (n, t) {
            t(e)
        })
    }, t.race = function (e) {
        return new t(function (n, t) {
            for (var o = 0, r = e.length; r > o; o++) e[o].then(n, t)
        })
    }, t._immediateFn = "function" == typeof setImmediate && function (e) {
        setImmediate(e)
    } || function (e) {
        c(e, 0)
    }, t._unhandledRejectionFn = function (e) {
        void 0 !== console && console && console.warn("Possible Unhandled Promise Rejection:", e)
    };
    var l = function () {
        if ("undefined" != typeof self) return self;
        if ("undefined" != typeof window) return window;
        if ("undefined" != typeof global) return global;
        throw Error("unable to locate global object")
    }();
    "Promise" in l ? l.Promise.prototype["finally"] || (l.Promise.prototype["finally"] = e) : l.Promise = t
});


!(function () {
    var vendors = ['ms', 'moz', 'webkit', 'o'];
    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];
        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame']
            || window[vendors[x] + 'CancelRequestAnimationFrame'];
    }

    if (!window.requestAnimationFrame)
        window.requestAnimationFrame = function (callback, element) {
            var id = window.setTimeout(function () {
                    callback(element);
                },
                1000 / 60);
            return id;
        };

    if (!window.cancelAnimationFrame)
        window.cancelAnimationFrame = function (id) {
            clearTimeout(id);
        };
}());


//Object
(function () {
    'use strict';
    var ObjectProto = Object.prototype,
        defineGetter = ObjectProto.__defineGetter__,
        defineSetter = ObjectProto.__defineSetter__,
        lookupGetter = ObjectProto.__lookupGetter__,
        lookupSetter = ObjectProto.__lookupSetter__,
        hasOwnProp = ObjectProto.hasOwnProperty;


    var supportDom = true;
    try {
        if (Object.defineProperty) {
            Object.defineProperty(document.createElement('div'), 'theRandomName', {
                set: function () {
                },
                get: function () {
                }
            });
        }
    } catch (error) {
        supportDom = false;
    }

    if ((!supportDom || !Object.defineProperty) && defineGetter && defineSetter && lookupGetter && lookupSetter) {
        var originObjetDefineProperty = Object.defineProperty;
        Object.defineProperty = function (obj, prop, descriptor) {
            if (!originObjetDefineProperty || (typeof obj.nodeType === "number" && typeof obj.nodeName === "string")) {
                if (arguments.length < 3) { // all arguments required
                    throw new TypeError("Arguments not optional");
                }

                prop += ""; // convert prop to string

                if (hasOwnProp.call(descriptor, "value")) {
                    if (!lookupGetter.call(obj, prop) && !lookupSetter.call(obj, prop)) {
                        // data property defined and no pre-existing accessors
                        obj[prop] = descriptor.value;
                    }

                    if ((hasOwnProp.call(descriptor, "get") ||
                        hasOwnProp.call(descriptor, "set"))) {
                        // descriptor has a value prop but accessor already exists
                        throw new TypeError("Cannot specify an accessor and a value");
                    }
                }


                if (descriptor.get) {
                    defineGetter.call(obj, prop, descriptor.get);
                }
                if (descriptor.set) {
                    defineSetter.call(obj, prop, descriptor.set);
                }

                return obj;
            }
            else {
                return originObjetDefineProperty.call(this, obj, prop, descriptor);
            }
        };

        var originObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
        Object.getOwnPropertyDescriptor = function (obj, prop) {
            if (!originObjectGetOwnPropertyDescriptor || typeof obj.nodeType === "number" && typeof obj.nodeName === "string") {
                if (arguments.length < 2) { // all arguments required
                    throw new TypeError("Arguments not optional.");
                }

                prop += ""; // convert prop to string

                var descriptor = {
                        configurable: true,
                        enumerable: true,
                        writable: true
                    },
                    getter = lookupGetter.call(obj, prop),
                    setter = lookupSetter.call(obj, prop);

                if (!hasOwnProp.call(obj, prop)) {
                    // property doesn't exist or is inherited
                    return descriptor;
                }
                if (!getter && !setter) { // not an accessor so return prop
                    descriptor.value = obj[prop];
                    return descriptor;
                }

                // there is an accessor, remove descriptor.writable;
                // populate descriptor.get and descriptor.set (IE's behavior)
                delete descriptor.writable;
                descriptor.get = descriptor.set = undefined;

                if (getter) {
                    descriptor.get = getter;
                }
                if (setter) {
                    descriptor.set = setter;
                }

                return descriptor;
            }
            else {
                return originObjectGetOwnPropertyDescriptor(obj, prop);
            }
        };
    }

    if (!supportDom || !Object.getOwnPropertyDescriptors) {
        Object.getOwnPropertyDescriptors = function (o) {
            var res = {};
            for (var key in o) {
                res[key] = Object.getOwnPropertyDescriptor(o, key);
            }
            return res;
        };
    }


    if (!supportDom || !Object.defineProperties) {
        Object.defineProperties = function (obj, props) {
            var prop;
            for (prop in props) {
                if (hasOwnProp.call(props, prop)) {
                    Object.defineProperty(obj, prop, props[prop]);
                }
            }
        };
    }


    if (typeof Object.assign != 'function') {
        Object.assign = function (target, varArgs) {
            'use strict';
            if (target == null) {
                throw new TypeError('Cannot convert undefined or null to object');
            }

            var to = Object(target);

            for (var index = 1; index < arguments.length; index++) {
                var nextSource = arguments[index];

                if (nextSource != null) {
                    for (var nextKey in nextSource) {

                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                            to[nextKey] = nextSource[nextKey];
                        }
                    }
                }
            }
            return to;
        };
    }


}());

//string
!(function () {
    if (!String.prototype.startsWith) {
        String.prototype.startsWith = function (searchString, position) {
            position = position || 0;
            return this.indexOf(searchString, position) === position;
        };
    }

    if (!String.prototype.replaceAll) {
        String.prototype.replaceAll = function () {
            var find = arguments[0];
            if (!find) return this;
            if (typeof find == "string") {
                return this.split(find).join(arguments[1]);
            }
            else if (find instanceof RegExp) {
                return this.replace(new RegExp(find.source, 'g'), arguments[1]);
            }
        }
    }
})();


//array
!(function () {
    if (!Array.prototype.fill) {
        Object.defineProperty(Array.prototype, 'fill', {
            value: function (value) {

                // Steps 1-2.
                if (this == null) {
                    throw new TypeError('this is null or not defined');
                }

                var O = Object(this);

                // Steps 3-5.
                var len = O.length >>> 0;

                // Steps 6-7.
                var start = arguments[1];
                var relativeStart = start >> 0;

                // Step 8.
                var k = relativeStart < 0 ?
                    Math.max(len + relativeStart, 0) :
                    Math.min(relativeStart, len);

                // Steps 9-10.
                var end = arguments[2];
                var relativeEnd = end === undefined ?
                    len : end >> 0;

                // Step 11.
                var final = relativeEnd < 0 ?
                    Math.max(len + relativeEnd, 0) :
                    Math.min(relativeEnd, len);

                // Step 12.
                while (k < final) {
                    O[k] = value;
                    k++;
                }

                // Step 13.
                return O;
            }
        });
    }

    if (!Array.prototype.some) {
        Array.prototype.some = function (fun /*, thisp */) {
            "use strict";

            if (this == null) throw new TypeError();

            var t = Object(this),
                len = t.length >>> 0;

            if (typeof fun != "function") throw new TypeError();

            var thisp = arguments[1];

            for (var i = 0; i < len; i++) {
                if (i in t && fun.call(thisp, t[i], i, t))
                    return true;
            }

            return false;
        };
    }
})();


//function
!(function () {
    if (!Function.prototype.bind) {
        var ArrayPrototypeSlice = Array.prototype.slice;
        Function.prototype.bind = function (otherThis) {
            if (typeof this !== 'function') {
                // closest thing possible to the ECMAScript 5
                // internal IsCallable function
                throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');
            }

            var baseArgs = ArrayPrototypeSlice.call(arguments, 1),
                baseArgsLength = baseArgs.length,
                fToBind = this,
                fNOP = function () {
                },
                fBound = function () {
                    baseArgs.length = baseArgsLength; // reset to default base arguments
                    baseArgs.push.apply(baseArgs, arguments);
                    return fToBind.apply(
                        fNOP.prototype.isPrototypeOf(this) ? this : otherThis, baseArgs
                    );
                };

            if (this.prototype) {
                // Function.prototype doesn't have a prototype property
                fNOP.prototype = this.prototype;
            }
            fBound.prototype = new fNOP();

            return fBound;
        };
    }
})();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(24).setImmediate, __webpack_require__(13)))

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== "undefined" && global) ||
            (typeof self !== "undefined" && self) ||
            window;
var apply = Function.prototype.apply;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) {
  if (timeout) {
    timeout.close();
  }
};

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(scope, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// setimmediate attaches itself to the global object
__webpack_require__(47);
// On some exotic environments, it's not clear which object `setimmediate` was
// able to install onto.  Search each possibility in the same order as the
// `setimmediate` library.
exports.setImmediate = (typeof self !== "undefined" && self.setImmediate) ||
                       (typeof global !== "undefined" && global.setImmediate) ||
                       (this && this.setImmediate);
exports.clearImmediate = (typeof self !== "undefined" && self.clearImmediate) ||
                         (typeof global !== "undefined" && global.clearImmediate) ||
                         (this && this.clearImmediate);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(13)))

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(59);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(84);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(85);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(86);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(128);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(141);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(144);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(169);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(225);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(226);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(227);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(262);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer, module) {(function (w) {
  "use strict";

  function findBest(atobNative) {
    // normal window
    if ('function' === typeof atobNative) { return atobNative; }


    // browserify (web worker)
    if ('function' === typeof Buffer) {
      return function atobBrowserify(a) {
        //!! Deliberately using an API that's deprecated in node.js because
        //!! this file is for browsers and we expect them to cope with it.
        //!! Discussion: github.com/node-browser-compat/atob/pull/9
        return new Buffer(a, 'base64').toString('binary');
      };
    }

    // ios web worker with base64js
    if ('object' === typeof w.base64js) {
      // bufferToBinaryString
      // https://git.coolaj86.com/coolaj86/unibabel.js/blob/master/index.js#L50
      return function atobWebWorker_iOS(a) {
        var buf = w.base64js.b64ToByteArray(a);
        return Array.prototype.map.call(buf, function (ch) {
          return String.fromCharCode(ch);
        }).join('');
      };
    }

		return function () {
			// ios web worker without base64js
			throw new Error("You're probably in an old browser or an iOS webworker." +
				" It might help to include beatgammit's base64-js.");
    };
  }

  var atobBest = findBest(w.atob);
  w.atob = atobBest;

  if (( true) && module && module.exports) {
    module.exports = atobBest;
  }
}(window));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20).Buffer, __webpack_require__(52)(module)))

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer) {(function () {
  "use strict";

  function btoa(str) {
    var buffer;

    if (str instanceof Buffer) {
      buffer = str;
    } else {
      buffer = Buffer.from(str.toString(), 'binary');
    }

    return buffer.toString('base64');
  }

  module.exports = btoa;
}());

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20).Buffer))

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

const external = global.external;
const re_msie = /\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/;
const re_blackberry_10 = /\bbb10\b.+?\bversion\/([\d.]+)/;
const re_blackberry_6_7 = /\bblackberry\b.+\bversion\/([\d.]+)/;
const re_blackberry_4_5 = /\bblackberry\d+\/([\d.]+)/;

const NA_VERSION = "-1";

const DEVICES = [
    ["nokia", function (ua) {
        //  nokia/-1
        if (ua.indexOf("nokia ") !== -1) {
            return /\bnokia ([0-9]+)?/;
        } else {
            return /\bnokia([a-z0-9]+)?/;
        }
    }],
    //Android WP
    ["samsung", function (ua) {
        if (ua.indexOf("samsung") !== -1) {
            return /\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/;
        } else {
            return /\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/;
        }
    }],
    ["wp", function (ua) {
        return ua.indexOf("windows phone ") !== -1 ||
            ua.indexOf("xblwp") !== -1 ||
            ua.indexOf("zunewp") !== -1 ||
            ua.indexOf("windows ce") !== -1;
    }],
    ["pc", "windows"],
    ["ipad", "ipad"],
    // ipod iphone
    ["ipod", "ipod"],
    ["iphone", /\biphone\b|\biph(\d)/],
    ["mac", "macintosh"],
    ["mi", /\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/],
    ["hongmi", /\bhm[ \-]?([a-z0-9]+)/],
    ["aliyun", /\baliyunos\b(?:[\-](\d+))?/],
    ["meizu", function (ua) {
        return ua.indexOf("meizu") >= 0 ?
            /\bmeizu[\/ ]([a-z0-9]+)\b/
            :
            /\bm([0-9cx]{1,4})\b/;
    }],
    ["nexus", /\bnexus ([0-9s.]+)/],
    ["huawei", function (ua) {
        const re_mediapad = /\bmediapad (.+?)(?= build\/huaweimediapad\b)/;
        if (ua.indexOf("huawei-huawei") !== -1) {
            return /\bhuawei\-huawei\-([a-z0-9\-]+)/;
        } else if (re_mediapad.test(ua)) {
            return re_mediapad;
        } else {
            return /\bhuawei[ _\-]?([a-z0-9]+)/;
        }
    }],
    ["lenovo", function (ua) {
        if (ua.indexOf("lenovo-lenovo") !== -1) {
            return /\blenovo\-lenovo[ \-]([a-z0-9]+)/;
        } else {
            return /\blenovo[ \-]?([a-z0-9]+)/;
        }
    }],
    ["zte", function (ua) {
        if (/\bzte\-[tu]/.test(ua)) {
            return /\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/;
        } else {
            return /\bzte[ _\-]?([a-su-z0-9\+]+)/;
        }
    }],
    ["vivo", /\bvivo(?: ([a-z0-9]+))?/],
    ["htc", function (ua) {
        if (/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(ua)) {
            return /\bhtc[ _\-]?([a-z0-9 ]+(?= build))/;
        } else {
            return /\bhtc[ _\-]?([a-z0-9 ]+)/;
        }
    }],
    ["oppo", /\boppo[_ ]([a-z0-9]+)/],
    ["konka", /\bkonka[_\-]([a-z0-9]+)/],
    ["sonyericsson", /\bmt([a-z0-9]+)/],
    ["coolpad", /\bcoolpad[_ ]?([a-z0-9]+)/],
    ["lg", /\blg[\-]([a-z0-9]+)/],
    ["android", /\bandroid\b|\badr\b/],
    ["blackberry", function (ua) {
        if (ua.indexOf("blackberry") >= 0) {
            return /\bblackberry\s?(\d+)/;
        }
        return "bb10";
    }],
];

const OS = [
    ["wp", function (ua) {
        if (ua.indexOf("windows phone ") !== -1) {
            return /\bwindows phone (?:os )?([0-9.]+)/;
        } else if (ua.indexOf("xblwp") !== -1) {
            return /\bxblwp([0-9.]+)/;
        } else if (ua.indexOf("zunewp") !== -1) {
            return /\bzunewp([0-9.]+)/;
        }
        return "windows phone";
    }],
    ["windows", /\bwindows nt ([0-9.]+)/],
    ["macosx", /\bmac os x ([0-9._]+)/],
    ["ios", function (ua) {
        if (/\bcpu(?: iphone)? os /.test(ua)) {
            return /\bcpu(?: iphone)? os ([0-9._]+)/;
        } else if (ua.indexOf("iph os ") !== -1) {
            return /\biph os ([0-9_]+)/;
        } else {
            return /\bios\b/;
        }
    }],
    ["yunos", /\baliyunos ([0-9.]+)/],
    ["android", function (ua) {
        if (ua.indexOf("android") >= 0) {
            return /\bandroid[ \/-]?([0-9.x]+)?/;
        } else if (ua.indexOf("adr") >= 0) {
            if (ua.indexOf("mqqbrowser") >= 0) {
                return /\badr[ ]\(linux; u; ([0-9.]+)?/;
            } else {
                return /\badr(?:[ ]([0-9.]+))?/;
            }
        }
        return "android";
        //return /\b(?:android|\badr)(?:[\/\- ](?:\(linux; u; )?)?([0-9.x]+)?/;
    }],
    ["chromeos", /\bcros i686 ([0-9.]+)/],
    ["linux", "linux"],
    ["windowsce", /\bwindows ce(?: ([0-9.]+))?/],
    ["symbian", /\bsymbian(?:os)?\/([0-9.]+)/],
    ["blackberry", function (ua) {
        const m = ua.match(re_blackberry_10) ||
            ua.match(re_blackberry_6_7) ||
            ua.match(re_blackberry_4_5);
        return m ? { version: m[1] } : "blackberry";
    }],
    ['ie', /\rv\:\/([0-9.]+)/]
];


const ENGINE = [
    ["edgehtml", /edge\/([0-9.]+)/],
    ["trident", re_msie],
    ["blink", function () {
        return "chrome" in global && "CSS" in global && /\bapplewebkit[\/]?([0-9.+]+)/;
    }],
    ["webkit", /\bapplewebkit[\/]?([0-9.+]+)/],
    ["gecko", function (ua) {
        const match = ua.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/);
        if (match) {
            return {
                version: match[1] + "." + match[2],
            };
        }
    }],
    ["presto", /\bpresto\/([0-9.]+)/],
    ["androidwebkit", /\bandroidwebkit\/([0-9.]+)/],
    ["coolpadwebkit", /\bcoolpadwebkit\/([0-9.]+)/],
    ["u2", /\bu2\/([0-9.]+)/],
    ["u3", /\bu3\/([0-9.]+)/],
];
const BROWSER = [
    ['coccoc', /coc\_coc\_browser\/([0-9.]+)/],
    // Microsoft Edge Browser, Default browser in Windows 10.
    ["edge", /edge\/([0-9.]+)/],
    ["chrome-edge", /chrome.+edg\/([0-9.]+)/],
    // Sogou.
    ["sogou", function (ua) {
        if (ua.indexOf("sogoumobilebrowser") >= 0) {
            return /sogoumobilebrowser\/([0-9.]+)/;
        } else if (ua.indexOf("sogoumse") >= 0) {
            return true;
        }
        return / se ([0-9.x]+)/;
    }],

    // Maxthon
    ["maxthon", function () {
        try {
            if (external && (external.mxVersion || external.max_version)) {
                return {
                    version: external.mxVersion || external.max_version,
                };
            }
        } catch (ex) { /* */ }
        return /\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/;
    }],
    ["micromessenger", /\bmicromessenger\/([\d.]+)/],
    ["qq", /\bm?qqbrowser\/([0-9.]+)/],
    ["green", "greenbrowser"],
    ["tt", /\btencenttraveler ([0-9.]+)/],
    ["liebao", function (ua) {
        if (ua.indexOf("liebaofast") >= 0) {
            return /\bliebaofast\/([0-9.]+)/;
        }
        if (ua.indexOf("lbbrowser") === -1) { return false; }
        var version;
        try {
            if (external && external.LiebaoGetVersion) {
                version = external.LiebaoGetVersion();
            }
        } catch (ex) { /* */ }
        return {
            version: version || NA_VERSION,
        };
    }],
    ["tao", /\btaobrowser\/([0-9.]+)/],
    ["coolnovo", /\bcoolnovo\/([0-9.]+)/],
    ["saayaa", "saayaa"],
    ["baidu", /\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],
    ["ie", re_msie],
    ["mi", /\bmiuibrowser\/([0-9.]+)/],
    ["opera", function (ua) {
        const re_opera_old = /\bopera.+version\/([0-9.ab]+)/;
        const re_opera_new = /\bopr\/([0-9.]+)/;
        return re_opera_old.test(ua) ? re_opera_old : re_opera_new;
    }],
    ["oupeng", /\boupeng\/([0-9.]+)/],
    ["yandex", /yabrowser\/([0-9.]+)/],
    ["ali-ap", function (ua) {
        if (ua.indexOf("aliapp") > 0) {
            return /\baliapp\(ap\/([0-9.]+)\)/;
        } else {
            return /\balipayclient\/([0-9.]+)\b/;
        }
    }],
    ["ali-ap-pd", /\baliapp\(ap-pd\/([0-9.]+)\)/],
    ["ali-am", /\baliapp\(am\/([0-9.]+)\)/],
    ["ali-tb", /\baliapp\(tb\/([0-9.]+)\)/],
    ["ali-tb-pd", /\baliapp\(tb-pd\/([0-9.]+)\)/],
    ["ali-tm", /\baliapp\(tm\/([0-9.]+)\)/],
    ["ali-tm-pd", /\baliapp\(tm-pd\/([0-9.]+)\)/],

    ["uc", function (ua) {
        if (ua.indexOf("ucbrowser/") >= 0) {
            return /\bucbrowser\/([0-9.]+)/;
        } else if (ua.indexOf("ubrowser/") >= 0) {
            return /\bubrowser\/([0-9.]+)/;
        } else if (/\buc\/[0-9]/.test(ua)) {
            return /\buc\/([0-9.]+)/;
        } else if (ua.indexOf("ucweb") >= 0) {
            // `ucweb/2.0` is compony info.
            // `UCWEB8.7.2.214/145/800` is browser info.
            return /\bucweb([0-9.]+)?/;
        } else {
            return /\b(?:ucbrowser|uc)\b/;
        }
    }],
    ["baiduboxapp",
        function (ua) {
            var back = 0;
            var a;
            if (/ baiduboxapp\//i.test(ua)) {
                a = /([\d+.]+)_(?:diordna|enohpi)_/.exec(ua);
                if (a) {
                    a = a[1].split(".");
                    back = a.reverse().join(".");
                } else if ((a = /baiduboxapp\/([\d+.]+)/.exec(ua))) {
                    back = a[1];
                }

                return {
                    version: back,
                };
            }
            return false;
        },
    ],
    ["oppobrowser", /\boppobrowser\/([0-9.]+)/],
    ["chrome", / (?:chrome|crios|crmo)\/([0-9.]+)/],
    // Android safari 
    ["android", function (ua) {
        if (ua.indexOf("android") === -1) { return; }
        return /\bversion\/([0-9.]+(?: beta)?)/;
    }],
    ["blackberry", function (ua) {
        const m = ua.match(re_blackberry_10) ||
            ua.match(re_blackberry_6_7) ||
            ua.match(re_blackberry_4_5);
        return m ? { version: m[1] } : "blackberry";
    }],
    ["safari", /\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],
    //  Safari， WebView
    ["webview", /\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],
    ["firefox", /\bfirefox\/([0-9.ab]+)/],
    ["nokia", /\bnokiabrowser\/([0-9.]+)/]
];

module.exports = {
    device: DEVICES,
    os: OS,
    browser: BROWSER,
    engine: ENGINE,
    re_msie: re_msie,
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(13)))

/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global, Buffer) {/* harmony import */ var _DocxTpl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(19);
/* harmony import */ var _assets_content_types_xml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(41);
/* harmony import */ var _assets_rels_xml__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(42);
/* harmony import */ var _assets_document_xml_rels__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(43);
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(21);
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _HTML5_Dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(2);
/* harmony import */ var _HTML5_Svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(9);











function JSDocx(props) {
    if (props.blob)
        this.blob = props.blob;

    if (props.blob)
        this.buffer = props.buffer;
}

JSDocx.prototype.saveAs = function (fileName) {
    var src;
    if (this.blob) {
        src = (URL || webkitURL).createObjectURL(this.blob);
    }
    else if (this.buffer) {
        src = "data:application/octet-stream," + encodeURIComponent(this.buffer);
    }

    var element = document.createElement('a');
    element.setAttribute('href', src);
    element.setAttribute('download', fileName);

    element.style.display = 'none';
    document.body.appendChild(element);
    element.click();
    document.body.removeChild(element);
};


JSDocx._prepareImageParts = function (htmlSource) {
    var imageContentParts = [];
    var inlinedSrcPattern = /\"data:(\w+\/\w+);(\w+),(\S+)\"/g;
    var inlinedReplacer = function (match, contentType, contentEncoding, encodedContent) {
        var index = imageContentParts.length;
        var extension = contentType.split('/')[1];
        var contentLocation = "file:///C:/fake/image" + index + "." + extension;
        // mht_part: new Function('contentType', 'contentEncoding', 'contentLocation', 'encodedContent', 'return ' + TemplateString.parse(mht_pathTpl).toJSCode())
        imageContentParts.push(_DocxTpl__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].mht_part(contentType, contentEncoding, contentLocation, encodedContent));
        return "\"" + contentLocation + "\"";
    };
    if (typeof htmlSource === 'string') {
        if (!/<img/g.test(htmlSource)) {
            return {
                htmlSource: htmlSource,
                imageContentParts: imageContentParts
            };
        }
        htmlSource = htmlSource.replace(inlinedSrcPattern, inlinedReplacer);
        return {
            htmlSource: htmlSource,
            imageContentParts: imageContentParts
        };
    } else {
        throw new Error("Not a valid source provided!");
    }
};



JSDocx._getMHTdocument = function (htmlSource) {
    var imageContentParts, _ref;
    _ref = this._prepareImageParts(htmlSource), htmlSource = _ref.htmlSource, imageContentParts = _ref.imageContentParts;
    htmlSource = htmlSource.replace(/\=/g, '=3D');
    return _DocxTpl__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].mht_document(htmlSource,
        imageContentParts.join('\n')
    );
};

/**
 * @param {JSZip} zip
 */
JSDocx._generateDocument = function (zip) {
    return zip.generateAsync({ type: 'arraybuffer' }).then(function (buffer) {
        var props = {};
        if (global.Blob)
            props.blob = new Blob([buffer], { type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' });
        else if (global.Buffer)
            props.buffer = new Buffer(new Uint8Array(buffer));
        else
            throw new Error("Neither Blob nor Buffer are accessible in this environment. " +
                "Consider adding Blob.js shim");
        return new JSDocx(props);
    });
};


JSDocx._renderDocumentFile = function (pageSetting) {

    return _DocxTpl__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].document(pageSetting);
};

JSDocx._createPageSetting = function (documentOptions) {
    documentOptions = documentOptions || {};
    var pageSetting = {
        margins: {
            top: 1440,
            right: 1440,
            bottom: 1440,
            left: 1440,
            header: 720,
            footer: 720,
            gutter: 0
        }
    };
    if (documentOptions.orientation == 'landscape') {
        Object.assign(pageSetting, {
            height: 12240, width: 15840, orient: 'landscape'
        });
    }
    else {
        Object.assign(pageSetting, {
            width: 12240, height: 15840, orient: 'portrait'
        });
    }
    if (documentOptions.margins) {
        Object.assign(pageSetting, documentOptions.margins);
    }
    return pageSetting;
};


JSDocx._addFiles = function (zip, htmlSource, pageSetting) {
    zip.file('[Content_Types].xml', _assets_content_types_xml__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"]);
    zip.folder('_rels')
        .file('.rels', _assets_rels_xml__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"]);
    zip.folder('word')
        .file('document.xml', _DocxTpl__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].document(pageSetting));


    zip.folder('word')
        .file('document.xml', JSDocx._renderDocumentFile(pageSetting))
        .file('afchunk.mht', JSDocx._getMHTdocument(htmlSource))
        .folder('_rels')
        .file('document.xml.rels', _assets_document_xml_rels__WEBPACK_IMPORTED_MODULE_3__[/* default */ "a"]);

    return zip;
};

JSDocx.fromHTMLCode = function (html, options) {
    var zip = new jszip__WEBPACK_IMPORTED_MODULE_4___default.a();
    JSDocx._addFiles(zip, html, JSDocx._createPageSetting(options));
    return JSDocx._generateDocument(zip);
};

JSDocx.fromHTMLElement = function (element, options, getOuter, isWorkingElement) {
    if (typeof element == 'string') {
        element = _HTML5_Dom__WEBPACK_IMPORTED_MODULE_5__[/* default */ "a"].ShareInstance.$(element);
    }
    if (!element) throw new Error('@param element must be HTMLElement');

    var preRender;
    if (!isWorkingElement) {
        preRender = _HTML5_Dom__WEBPACK_IMPORTED_MODULE_5__[/* default */ "a"].ShareInstance._('div');
        preRender.addStyle({
            position: 'fixed',
            top: '0',
            left: '0',
            zIndex: '-10000',
            opacity: '0'
        }).addTo(document.body);
        Array.prototype.forEach.call(element.childNodes, function (e) {
            if (e.tagName != 'script')
                preRender.addChild(e.cloneNode(true));
        });
    }
    else {
        preRender = element;
    }

    _HTML5_Dom__WEBPACK_IMPORTED_MODULE_5__[/* default */ "a"].ShareInstance.$('script', preRender, function (e) {
        e.parentElement.removeChild(e);
        return false;
    });

    var imageTask = [];
    _HTML5_Dom__WEBPACK_IMPORTED_MODULE_5__[/* default */ "a"].ShareInstance.$('img', preRender, function (e) {
        if (e.src && !e.src.match(/data:/)) {
            var task = _HTML5_Dom__WEBPACK_IMPORTED_MODULE_5__[/* default */ "a"].imageToCanvas(e).then(function (canvas) {
                var newSrc = canvas.toDataURL();
                e.src = newSrc;
            });
            imageTask.push(task);

        }
        return false;
    });

    _HTML5_Dom__WEBPACK_IMPORTED_MODULE_5__[/* default */ "a"].ShareInstance.$('svg', preRender, function (e) {
        var task = _HTML5_Svg__WEBPACK_IMPORTED_MODULE_6__[/* default */ "a"].svgToCanvas(e).then(function (canvas) {
            var newSrc = canvas.toDataURL();
            var image = _HTML5_Dom__WEBPACK_IMPORTED_MODULE_5__[/* default */ "a"].ShareInstance._('img');
            image.src = newSrc;
            _HTML5_Dom__WEBPACK_IMPORTED_MODULE_5__[/* default */ "a"].ShareInstance.$(e).selfReplace(image);

        });
        imageTask.push(task);

        return false;
    });


    return Promise.all(imageTask).then(function () {
        var code;
        if (getOuter) {
            code = preRender.outerHTML;
            if (!code) {
                var temp = document.createElement('div');
                temp.addChild(preRender);
                code = temp.innerHTML;
            }
        }
        else {
            code = preRender.innerHTML;
        }
        return JSDocx.fromHTMLCode(code, options);
    });
};

/* harmony default export */ __webpack_exports__["a"] = (JSDocx);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(13), __webpack_require__(20).Buffer))

/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = ("<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\">\r\n  <Default Extension=\"rels\" ContentType=\r\n    \"application/vnd.openxmlformats-package.relationships+xml\" />\r\n  <Override PartName=\"/word/document.xml\" ContentType=\r\n    \"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml\"/>\r\n  <Override PartName=\"/word/afchunk.mht\" ContentType=\"message/rfc822\"/>\r\n</Types>\r\n");

/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = ("<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\r\n  <Relationship\r\n      Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\"\r\n      Target=\"/word/document.xml\" Id=\"R09c83fafc067488e\" />\r\n</Relationships>\r\n");

/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = ("<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\r\n  <Relationship Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk\"\r\n    Target=\"/word/afchunk.mht\" Id=\"htmlChunk\" />\r\n</Relationships>\r\n");

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, '__esModule', { value: true });

const beforeExpr = true;
const startsExpr = true;
const isLoop = true;
const isAssign = true;
const prefix = true;
const postfix = true;
class TokenType {
  constructor(label, conf = {}) {
    this.label = void 0;
    this.keyword = void 0;
    this.beforeExpr = void 0;
    this.startsExpr = void 0;
    this.rightAssociative = void 0;
    this.isLoop = void 0;
    this.isAssign = void 0;
    this.prefix = void 0;
    this.postfix = void 0;
    this.binop = void 0;
    this.updateContext = void 0;
    this.label = label;
    this.keyword = conf.keyword;
    this.beforeExpr = !!conf.beforeExpr;
    this.startsExpr = !!conf.startsExpr;
    this.rightAssociative = !!conf.rightAssociative;
    this.isLoop = !!conf.isLoop;
    this.isAssign = !!conf.isAssign;
    this.prefix = !!conf.prefix;
    this.postfix = !!conf.postfix;
    this.binop = conf.binop != null ? conf.binop : null;
    this.updateContext = null;
  }

}
const keywords = new Map();

function createKeyword(name, options = {}) {
  options.keyword = name;
  const token = new TokenType(name, options);
  keywords.set(name, token);
  return token;
}

function createBinop(name, binop) {
  return new TokenType(name, {
    beforeExpr,
    binop
  });
}

const types = {
  num: new TokenType("num", {
    startsExpr
  }),
  bigint: new TokenType("bigint", {
    startsExpr
  }),
  decimal: new TokenType("decimal", {
    startsExpr
  }),
  regexp: new TokenType("regexp", {
    startsExpr
  }),
  string: new TokenType("string", {
    startsExpr
  }),
  name: new TokenType("name", {
    startsExpr
  }),
  eof: new TokenType("eof"),
  bracketL: new TokenType("[", {
    beforeExpr,
    startsExpr
  }),
  bracketHashL: new TokenType("#[", {
    beforeExpr,
    startsExpr
  }),
  bracketBarL: new TokenType("[|", {
    beforeExpr,
    startsExpr
  }),
  bracketR: new TokenType("]"),
  bracketBarR: new TokenType("|]"),
  braceL: new TokenType("{", {
    beforeExpr,
    startsExpr
  }),
  braceBarL: new TokenType("{|", {
    beforeExpr,
    startsExpr
  }),
  braceHashL: new TokenType("#{", {
    beforeExpr,
    startsExpr
  }),
  braceR: new TokenType("}"),
  braceBarR: new TokenType("|}"),
  parenL: new TokenType("(", {
    beforeExpr,
    startsExpr
  }),
  parenR: new TokenType(")"),
  comma: new TokenType(",", {
    beforeExpr
  }),
  semi: new TokenType(";", {
    beforeExpr
  }),
  colon: new TokenType(":", {
    beforeExpr
  }),
  doubleColon: new TokenType("::", {
    beforeExpr
  }),
  dot: new TokenType("."),
  question: new TokenType("?", {
    beforeExpr
  }),
  questionDot: new TokenType("?."),
  arrow: new TokenType("=>", {
    beforeExpr
  }),
  template: new TokenType("template"),
  ellipsis: new TokenType("...", {
    beforeExpr
  }),
  backQuote: new TokenType("`", {
    startsExpr
  }),
  dollarBraceL: new TokenType("${", {
    beforeExpr,
    startsExpr
  }),
  at: new TokenType("@"),
  hash: new TokenType("#", {
    startsExpr
  }),
  interpreterDirective: new TokenType("#!..."),
  eq: new TokenType("=", {
    beforeExpr,
    isAssign
  }),
  assign: new TokenType("_=", {
    beforeExpr,
    isAssign
  }),
  incDec: new TokenType("++/--", {
    prefix,
    postfix,
    startsExpr
  }),
  bang: new TokenType("!", {
    beforeExpr,
    prefix,
    startsExpr
  }),
  tilde: new TokenType("~", {
    beforeExpr,
    prefix,
    startsExpr
  }),
  pipeline: createBinop("|>", 0),
  nullishCoalescing: createBinop("??", 1),
  logicalOR: createBinop("||", 1),
  logicalAND: createBinop("&&", 2),
  bitwiseOR: createBinop("|", 3),
  bitwiseXOR: createBinop("^", 4),
  bitwiseAND: createBinop("&", 5),
  equality: createBinop("==/!=/===/!==", 6),
  relational: createBinop("</>/<=/>=", 7),
  bitShift: createBinop("<</>>/>>>", 8),
  plusMin: new TokenType("+/-", {
    beforeExpr,
    binop: 9,
    prefix,
    startsExpr
  }),
  modulo: new TokenType("%", {
    beforeExpr,
    binop: 10,
    startsExpr
  }),
  star: new TokenType("*", {
    binop: 10
  }),
  slash: createBinop("/", 10),
  exponent: new TokenType("**", {
    beforeExpr,
    binop: 11,
    rightAssociative: true
  }),
  _break: createKeyword("break"),
  _case: createKeyword("case", {
    beforeExpr
  }),
  _catch: createKeyword("catch"),
  _continue: createKeyword("continue"),
  _debugger: createKeyword("debugger"),
  _default: createKeyword("default", {
    beforeExpr
  }),
  _do: createKeyword("do", {
    isLoop,
    beforeExpr
  }),
  _else: createKeyword("else", {
    beforeExpr
  }),
  _finally: createKeyword("finally"),
  _for: createKeyword("for", {
    isLoop
  }),
  _function: createKeyword("function", {
    startsExpr
  }),
  _if: createKeyword("if"),
  _return: createKeyword("return", {
    beforeExpr
  }),
  _switch: createKeyword("switch"),
  _throw: createKeyword("throw", {
    beforeExpr,
    prefix,
    startsExpr
  }),
  _try: createKeyword("try"),
  _var: createKeyword("var"),
  _const: createKeyword("const"),
  _while: createKeyword("while", {
    isLoop
  }),
  _with: createKeyword("with"),
  _new: createKeyword("new", {
    beforeExpr,
    startsExpr
  }),
  _this: createKeyword("this", {
    startsExpr
  }),
  _super: createKeyword("super", {
    startsExpr
  }),
  _class: createKeyword("class", {
    startsExpr
  }),
  _extends: createKeyword("extends", {
    beforeExpr
  }),
  _export: createKeyword("export"),
  _import: createKeyword("import", {
    startsExpr
  }),
  _null: createKeyword("null", {
    startsExpr
  }),
  _true: createKeyword("true", {
    startsExpr
  }),
  _false: createKeyword("false", {
    startsExpr
  }),
  _in: createKeyword("in", {
    beforeExpr,
    binop: 7
  }),
  _instanceof: createKeyword("instanceof", {
    beforeExpr,
    binop: 7
  }),
  _typeof: createKeyword("typeof", {
    beforeExpr,
    prefix,
    startsExpr
  }),
  _void: createKeyword("void", {
    beforeExpr,
    prefix,
    startsExpr
  }),
  _delete: createKeyword("delete", {
    beforeExpr,
    prefix,
    startsExpr
  })
};

const lineBreak = /\r\n?|[\n\u2028\u2029]/;
const lineBreakG = new RegExp(lineBreak.source, "g");
function isNewLine(code) {
  switch (code) {
    case 10:
    case 13:
    case 8232:
    case 8233:
      return true;

    default:
      return false;
  }
}
const skipWhiteSpace = /(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g;
function isWhitespace(code) {
  switch (code) {
    case 0x0009:
    case 0x000b:
    case 0x000c:
    case 32:
    case 160:
    case 5760:
    case 0x2000:
    case 0x2001:
    case 0x2002:
    case 0x2003:
    case 0x2004:
    case 0x2005:
    case 0x2006:
    case 0x2007:
    case 0x2008:
    case 0x2009:
    case 0x200a:
    case 0x202f:
    case 0x205f:
    case 0x3000:
    case 0xfeff:
      return true;

    default:
      return false;
  }
}

class Position {
  constructor(line, col) {
    this.line = void 0;
    this.column = void 0;
    this.line = line;
    this.column = col;
  }

}
class SourceLocation {
  constructor(start, end) {
    this.start = void 0;
    this.end = void 0;
    this.filename = void 0;
    this.identifierName = void 0;
    this.start = start;
    this.end = end;
  }

}
function getLineInfo(input, offset) {
  let line = 1;
  let lineStart = 0;
  let match;
  lineBreakG.lastIndex = 0;

  while ((match = lineBreakG.exec(input)) && match.index < offset) {
    line++;
    lineStart = lineBreakG.lastIndex;
  }

  return new Position(line, offset - lineStart);
}

class BaseParser {
  constructor() {
    this.sawUnambiguousESM = false;
    this.ambiguousScriptDifferentAst = false;
  }

  hasPlugin(name) {
    return this.plugins.has(name);
  }

  getPluginOption(plugin, name) {
    if (this.hasPlugin(plugin)) return this.plugins.get(plugin)[name];
  }

}

function last(stack) {
  return stack[stack.length - 1];
}

class CommentsParser extends BaseParser {
  addComment(comment) {
    if (this.filename) comment.loc.filename = this.filename;
    this.state.trailingComments.push(comment);
    this.state.leadingComments.push(comment);
  }

  adjustCommentsAfterTrailingComma(node, elements, takeAllComments) {
    if (this.state.leadingComments.length === 0) {
      return;
    }

    let lastElement = null;
    let i = elements.length;

    while (lastElement === null && i > 0) {
      lastElement = elements[--i];
    }

    if (lastElement === null) {
      return;
    }

    for (let j = 0; j < this.state.leadingComments.length; j++) {
      if (this.state.leadingComments[j].end < this.state.commentPreviousNode.end) {
        this.state.leadingComments.splice(j, 1);
        j--;
      }
    }

    const newTrailingComments = [];

    for (let i = 0; i < this.state.leadingComments.length; i++) {
      const leadingComment = this.state.leadingComments[i];

      if (leadingComment.end < node.end) {
        newTrailingComments.push(leadingComment);

        if (!takeAllComments) {
          this.state.leadingComments.splice(i, 1);
          i--;
        }
      } else {
        if (node.trailingComments === undefined) {
          node.trailingComments = [];
        }

        node.trailingComments.push(leadingComment);
      }
    }

    if (takeAllComments) this.state.leadingComments = [];

    if (newTrailingComments.length > 0) {
      lastElement.trailingComments = newTrailingComments;
    } else if (lastElement.trailingComments !== undefined) {
      lastElement.trailingComments = [];
    }
  }

  processComment(node) {
    if (node.type === "Program" && node.body.length > 0) return;
    const stack = this.state.commentStack;
    let firstChild, lastChild, trailingComments, i, j;

    if (this.state.trailingComments.length > 0) {
      if (this.state.trailingComments[0].start >= node.end) {
        trailingComments = this.state.trailingComments;
        this.state.trailingComments = [];
      } else {
        this.state.trailingComments.length = 0;
      }
    } else if (stack.length > 0) {
      const lastInStack = last(stack);

      if (lastInStack.trailingComments && lastInStack.trailingComments[0].start >= node.end) {
        trailingComments = lastInStack.trailingComments;
        delete lastInStack.trailingComments;
      }
    }

    if (stack.length > 0 && last(stack).start >= node.start) {
      firstChild = stack.pop();
    }

    while (stack.length > 0 && last(stack).start >= node.start) {
      lastChild = stack.pop();
    }

    if (!lastChild && firstChild) lastChild = firstChild;

    if (firstChild) {
      switch (node.type) {
        case "ObjectExpression":
          this.adjustCommentsAfterTrailingComma(node, node.properties);
          break;

        case "ObjectPattern":
          this.adjustCommentsAfterTrailingComma(node, node.properties, true);
          break;

        case "CallExpression":
          this.adjustCommentsAfterTrailingComma(node, node.arguments);
          break;

        case "ArrayExpression":
          this.adjustCommentsAfterTrailingComma(node, node.elements);
          break;

        case "ArrayPattern":
          this.adjustCommentsAfterTrailingComma(node, node.elements, true);
          break;
      }
    } else if (this.state.commentPreviousNode && (this.state.commentPreviousNode.type === "ImportSpecifier" && node.type !== "ImportSpecifier" || this.state.commentPreviousNode.type === "ExportSpecifier" && node.type !== "ExportSpecifier")) {
      this.adjustCommentsAfterTrailingComma(node, [this.state.commentPreviousNode]);
    }

    if (lastChild) {
      if (lastChild.leadingComments) {
        if (lastChild !== node && lastChild.leadingComments.length > 0 && last(lastChild.leadingComments).end <= node.start) {
          node.leadingComments = lastChild.leadingComments;
          delete lastChild.leadingComments;
        } else {
          for (i = lastChild.leadingComments.length - 2; i >= 0; --i) {
            if (lastChild.leadingComments[i].end <= node.start) {
              node.leadingComments = lastChild.leadingComments.splice(0, i + 1);
              break;
            }
          }
        }
      }
    } else if (this.state.leadingComments.length > 0) {
      if (last(this.state.leadingComments).end <= node.start) {
        if (this.state.commentPreviousNode) {
          for (j = 0; j < this.state.leadingComments.length; j++) {
            if (this.state.leadingComments[j].end < this.state.commentPreviousNode.end) {
              this.state.leadingComments.splice(j, 1);
              j--;
            }
          }
        }

        if (this.state.leadingComments.length > 0) {
          node.leadingComments = this.state.leadingComments;
          this.state.leadingComments = [];
        }
      } else {
        for (i = 0; i < this.state.leadingComments.length; i++) {
          if (this.state.leadingComments[i].end > node.start) {
            break;
          }
        }

        const leadingComments = this.state.leadingComments.slice(0, i);

        if (leadingComments.length) {
          node.leadingComments = leadingComments;
        }

        trailingComments = this.state.leadingComments.slice(i);

        if (trailingComments.length === 0) {
          trailingComments = null;
        }
      }
    }

    this.state.commentPreviousNode = node;

    if (trailingComments) {
      if (trailingComments.length && trailingComments[0].start >= node.start && last(trailingComments).end <= node.end) {
        node.innerComments = trailingComments;
      } else {
        const firstTrailingCommentIndex = trailingComments.findIndex(comment => comment.end >= node.end);

        if (firstTrailingCommentIndex > 0) {
          node.innerComments = trailingComments.slice(0, firstTrailingCommentIndex);
          node.trailingComments = trailingComments.slice(firstTrailingCommentIndex);
        } else {
          node.trailingComments = trailingComments;
        }
      }
    }

    stack.push(node);
  }

}

const ErrorMessages = Object.freeze({
  AccessorIsGenerator: "A %0ter cannot be a generator",
  ArgumentsInClass: "'arguments' is only allowed in functions and class methods",
  AsyncFunctionInSingleStatementContext: "Async functions can only be declared at the top level or inside a block",
  AwaitBindingIdentifier: "Can not use 'await' as identifier inside an async function",
  AwaitExpressionFormalParameter: "await is not allowed in async function parameters",
  AwaitNotInAsyncContext: "'await' is only allowed within async functions and at the top levels of modules",
  AwaitNotInAsyncFunction: "'await' is only allowed within async functions",
  BadGetterArity: "getter must not have any formal parameters",
  BadSetterArity: "setter must have exactly one formal parameter",
  BadSetterRestParameter: "setter function argument must not be a rest parameter",
  ConstructorClassField: "Classes may not have a field named 'constructor'",
  ConstructorClassPrivateField: "Classes may not have a private field named '#constructor'",
  ConstructorIsAccessor: "Class constructor may not be an accessor",
  ConstructorIsAsync: "Constructor can't be an async function",
  ConstructorIsGenerator: "Constructor can't be a generator",
  DeclarationMissingInitializer: "%0 require an initialization value",
  DecoratorBeforeExport: "Decorators must be placed *before* the 'export' keyword. You can set the 'decoratorsBeforeExport' option to false to use the 'export @decorator class {}' syntax",
  DecoratorConstructor: "Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",
  DecoratorExportClass: "Using the export keyword between a decorator and a class is not allowed. Please use `export @dec class` instead.",
  DecoratorSemicolon: "Decorators must not be followed by a semicolon",
  DecoratorStaticBlock: "Decorators can't be used with a static block",
  DeletePrivateField: "Deleting a private field is not allowed",
  DestructureNamedImport: "ES2015 named imports do not destructure. Use another statement for destructuring after the import.",
  DuplicateConstructor: "Duplicate constructor in the same class",
  DuplicateDefaultExport: "Only one default export allowed per module.",
  DuplicateExport: "`%0` has already been exported. Exported identifiers must be unique.",
  DuplicateProto: "Redefinition of __proto__ property",
  DuplicateRegExpFlags: "Duplicate regular expression flag",
  DuplicateStaticBlock: "Duplicate static block in the same class",
  ElementAfterRest: "Rest element must be last element",
  EscapedCharNotAnIdentifier: "Invalid Unicode escape",
  ExportBindingIsString: "A string literal cannot be used as an exported binding without `from`.\n- Did you mean `export { '%0' as '%1' } from 'some-module'`?",
  ExportDefaultFromAsIdentifier: "'from' is not allowed as an identifier after 'export default'",
  ForInOfLoopInitializer: "%0 loop variable declaration may not have an initializer",
  GeneratorInSingleStatementContext: "Generators can only be declared at the top level or inside a block",
  IllegalBreakContinue: "Unsyntactic %0",
  IllegalLanguageModeDirective: "Illegal 'use strict' directive in function with non-simple parameter list",
  IllegalReturn: "'return' outside of function",
  ImportBindingIsString: 'A string literal cannot be used as an imported binding.\n- Did you mean `import { "%0" as foo }`?',
  ImportCallArgumentTrailingComma: "Trailing comma is disallowed inside import(...) arguments",
  ImportCallArity: "import() requires exactly %0",
  ImportCallNotNewExpression: "Cannot use new with import(...)",
  ImportCallSpreadArgument: "... is not allowed in import()",
  ImportMetaOutsideModule: `import.meta may appear only with 'sourceType: "module"'`,
  ImportOutsideModule: `'import' and 'export' may appear only with 'sourceType: "module"'`,
  InvalidBigIntLiteral: "Invalid BigIntLiteral",
  InvalidCodePoint: "Code point out of bounds",
  InvalidDecimal: "Invalid decimal",
  InvalidDigit: "Expected number in radix %0",
  InvalidEscapeSequence: "Bad character escape sequence",
  InvalidEscapeSequenceTemplate: "Invalid escape sequence in template",
  InvalidEscapedReservedWord: "Escape sequence in keyword %0",
  InvalidIdentifier: "Invalid identifier %0",
  InvalidLhs: "Invalid left-hand side in %0",
  InvalidLhsBinding: "Binding invalid left-hand side in %0",
  InvalidNumber: "Invalid number",
  InvalidOrMissingExponent: "Floating-point numbers require a valid exponent after the 'e'",
  InvalidOrUnexpectedToken: "Unexpected character '%0'",
  InvalidParenthesizedAssignment: "Invalid parenthesized assignment pattern",
  InvalidPrivateFieldResolution: "Private name #%0 is not defined",
  InvalidPropertyBindingPattern: "Binding member expression",
  InvalidRecordProperty: "Only properties and spread elements are allowed in record definitions",
  InvalidRestAssignmentPattern: "Invalid rest operator's argument",
  LabelRedeclaration: "Label '%0' is already declared",
  LetInLexicalBinding: "'let' is not allowed to be used as a name in 'let' or 'const' declarations.",
  LineTerminatorBeforeArrow: "No line break is allowed before '=>'",
  MalformedRegExpFlags: "Invalid regular expression flag",
  MissingClassName: "A class name is required",
  MissingEqInAssignment: "Only '=' operator can be used for specifying default value.",
  MissingUnicodeEscape: "Expecting Unicode escape sequence \\uXXXX",
  MixingCoalesceWithLogical: "Nullish coalescing operator(??) requires parens when mixing with logical operators",
  ModuleAttributeDifferentFromType: "The only accepted module attribute is `type`",
  ModuleAttributeInvalidValue: "Only string literals are allowed as module attribute values",
  ModuleAttributesWithDuplicateKeys: 'Duplicate key "%0" is not allowed in module attributes',
  ModuleExportNameHasLoneSurrogate: "An export name cannot include a lone surrogate, found '\\u%0'",
  ModuleExportUndefined: "Export '%0' is not defined",
  MultipleDefaultsInSwitch: "Multiple default clauses",
  NewlineAfterThrow: "Illegal newline after throw",
  NoCatchOrFinally: "Missing catch or finally clause",
  NumberIdentifier: "Identifier directly after number",
  NumericSeparatorInEscapeSequence: "Numeric separators are not allowed inside unicode escape sequences or hex escape sequences",
  ObsoleteAwaitStar: "await* has been removed from the async functions proposal. Use Promise.all() instead.",
  OptionalChainingNoNew: "constructors in/after an Optional Chain are not allowed",
  OptionalChainingNoTemplate: "Tagged Template Literals are not allowed in optionalChain",
  ParamDupe: "Argument name clash",
  PatternHasAccessor: "Object pattern can't contain getter or setter",
  PatternHasMethod: "Object pattern can't contain methods",
  PipelineBodyNoArrow: 'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized',
  PipelineBodySequenceExpression: "Pipeline body may not be a comma-separated sequence expression",
  PipelineHeadSequenceExpression: "Pipeline head should not be a comma-separated sequence expression",
  PipelineTopicUnused: "Pipeline is in topic style but does not use topic reference",
  PrimaryTopicNotAllowed: "Topic reference was used in a lexical context without topic binding",
  PrimaryTopicRequiresSmartPipeline: "Primary Topic Reference found but pipelineOperator not passed 'smart' for 'proposal' option.",
  PrivateInExpectedIn: "Private names are only allowed in property accesses (`obj.#%0`) or in `in` expressions (`#%0 in obj`)",
  PrivateNameRedeclaration: "Duplicate private name #%0",
  RecordExpressionBarIncorrectEndSyntaxType: "Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'",
  RecordExpressionBarIncorrectStartSyntaxType: "Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'",
  RecordExpressionHashIncorrectStartSyntaxType: "Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'",
  RecordNoProto: "'__proto__' is not allowed in Record expressions",
  RestTrailingComma: "Unexpected trailing comma after rest element",
  SloppyFunction: "In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement",
  StaticPrototype: "Classes may not have static property named prototype",
  StrictDelete: "Deleting local variable in strict mode",
  StrictEvalArguments: "Assigning to '%0' in strict mode",
  StrictEvalArgumentsBinding: "Binding '%0' in strict mode",
  StrictFunction: "In strict mode code, functions can only be declared at top level or inside a block",
  StrictNumericEscape: "The only valid numeric escape in strict mode is '\\0'",
  StrictOctalLiteral: "Legacy octal literals are not allowed in strict mode",
  StrictWith: "'with' in strict mode",
  SuperNotAllowed: "super() is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",
  SuperPrivateField: "Private fields can't be accessed on super",
  TrailingDecorator: "Decorators must be attached to a class element",
  TupleExpressionBarIncorrectEndSyntaxType: "Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'",
  TupleExpressionBarIncorrectStartSyntaxType: "Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'",
  TupleExpressionHashIncorrectStartSyntaxType: "Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'",
  UnexpectedArgumentPlaceholder: "Unexpected argument placeholder",
  UnexpectedAwaitAfterPipelineBody: 'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal',
  UnexpectedDigitAfterHash: "Unexpected digit after hash token",
  UnexpectedImportExport: "'import' and 'export' may only appear at the top level",
  UnexpectedKeyword: "Unexpected keyword '%0'",
  UnexpectedLeadingDecorator: "Leading decorators must be attached to a class declaration",
  UnexpectedLexicalDeclaration: "Lexical declaration cannot appear in a single-statement context",
  UnexpectedNewTarget: "new.target can only be used in functions",
  UnexpectedNumericSeparator: "A numeric separator is only allowed between two digits",
  UnexpectedPrivateField: "Private names can only be used as the name of a class element (i.e. class C { #p = 42; #m() {} } )\n or a property of member expression (i.e. this.#p).",
  UnexpectedReservedWord: "Unexpected reserved word '%0'",
  UnexpectedSuper: "super is only allowed in object methods and classes",
  UnexpectedToken: "Unexpected token '%0'",
  UnexpectedTokenUnaryExponentiation: "Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",
  UnsupportedBind: "Binding should be performed on object property.",
  UnsupportedDecoratorExport: "A decorated export must export a class declaration",
  UnsupportedDefaultExport: "Only expressions, functions or classes are allowed as the `default` export.",
  UnsupportedImport: "import can only be used in import() or import.meta",
  UnsupportedMetaProperty: "The only valid meta property for %0 is %0.%1",
  UnsupportedParameterDecorator: "Decorators cannot be used to decorate parameters",
  UnsupportedPropertyDecorator: "Decorators cannot be used to decorate object literal properties",
  UnsupportedSuper: "super can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop])",
  UnterminatedComment: "Unterminated comment",
  UnterminatedRegExp: "Unterminated regular expression",
  UnterminatedString: "Unterminated string constant",
  UnterminatedTemplate: "Unterminated template",
  VarRedeclaration: "Identifier '%0' has already been declared",
  YieldBindingIdentifier: "Can not use 'yield' as identifier inside a generator",
  YieldInParameter: "Yield expression is not allowed in formal parameters",
  ZeroDigitNumericSeparator: "Numeric separator can not be used after leading 0"
});

class ParserError extends CommentsParser {
  getLocationForPosition(pos) {
    let loc;
    if (pos === this.state.start) loc = this.state.startLoc;else if (pos === this.state.lastTokStart) loc = this.state.lastTokStartLoc;else if (pos === this.state.end) loc = this.state.endLoc;else if (pos === this.state.lastTokEnd) loc = this.state.lastTokEndLoc;else loc = getLineInfo(this.input, pos);
    return loc;
  }

  raise(pos, errorTemplate, ...params) {
    return this.raiseWithData(pos, undefined, errorTemplate, ...params);
  }

  raiseWithData(pos, data, errorTemplate, ...params) {
    const loc = this.getLocationForPosition(pos);
    const message = errorTemplate.replace(/%(\d+)/g, (_, i) => params[i]) + ` (${loc.line}:${loc.column})`;
    return this._raise(Object.assign({
      loc,
      pos
    }, data), message);
  }

  _raise(errorContext, message) {
    const err = new SyntaxError(message);
    Object.assign(err, errorContext);

    if (this.options.errorRecovery) {
      if (!this.isLookahead) this.state.errors.push(err);
      return err;
    } else {
      throw err;
    }
  }

}

var estree = (superClass => class extends superClass {
  estreeParseRegExpLiteral({
    pattern,
    flags
  }) {
    let regex = null;

    try {
      regex = new RegExp(pattern, flags);
    } catch (e) {}

    const node = this.estreeParseLiteral(regex);
    node.regex = {
      pattern,
      flags
    };
    return node;
  }

  estreeParseBigIntLiteral(value) {
    let bigInt;

    try {
      bigInt = BigInt(value);
    } catch (_unused) {
      bigInt = null;
    }

    const node = this.estreeParseLiteral(bigInt);
    node.bigint = String(node.value || value);
    return node;
  }

  estreeParseDecimalLiteral(value) {
    const decimal = null;
    const node = this.estreeParseLiteral(decimal);
    node.decimal = String(node.value || value);
    return node;
  }

  estreeParseLiteral(value) {
    return this.parseLiteral(value, "Literal");
  }

  directiveToStmt(directive) {
    const directiveLiteral = directive.value;
    const stmt = this.startNodeAt(directive.start, directive.loc.start);
    const expression = this.startNodeAt(directiveLiteral.start, directiveLiteral.loc.start);
    expression.value = directiveLiteral.extra.expressionValue;
    expression.raw = directiveLiteral.extra.raw;
    stmt.expression = this.finishNodeAt(expression, "Literal", directiveLiteral.end, directiveLiteral.loc.end);
    stmt.directive = directiveLiteral.extra.raw.slice(1, -1);
    return this.finishNodeAt(stmt, "ExpressionStatement", directive.end, directive.loc.end);
  }

  initFunction(node, isAsync) {
    super.initFunction(node, isAsync);
    node.expression = false;
  }

  checkDeclaration(node) {
    if (node != null && this.isObjectProperty(node)) {
      this.checkDeclaration(node.value);
    } else {
      super.checkDeclaration(node);
    }
  }

  getObjectOrClassMethodParams(method) {
    return method.value.params;
  }

  isValidDirective(stmt) {
    var _stmt$expression$extr;

    return stmt.type === "ExpressionStatement" && stmt.expression.type === "Literal" && typeof stmt.expression.value === "string" && !((_stmt$expression$extr = stmt.expression.extra) == null ? void 0 : _stmt$expression$extr.parenthesized);
  }

  stmtToDirective(stmt) {
    const directive = super.stmtToDirective(stmt);
    const value = stmt.expression.value;
    this.addExtra(directive.value, "expressionValue", value);
    return directive;
  }

  parseBlockBody(node, ...args) {
    super.parseBlockBody(node, ...args);
    const directiveStatements = node.directives.map(d => this.directiveToStmt(d));
    node.body = directiveStatements.concat(node.body);
    delete node.directives;
  }

  pushClassMethod(classBody, method, isGenerator, isAsync, isConstructor, allowsDirectSuper) {
    this.parseMethod(method, isGenerator, isAsync, isConstructor, allowsDirectSuper, "ClassMethod", true);

    if (method.typeParameters) {
      method.value.typeParameters = method.typeParameters;
      delete method.typeParameters;
    }

    classBody.body.push(method);
  }

  parseExprAtom(refExpressionErrors) {
    switch (this.state.type) {
      case types.num:
      case types.string:
        return this.estreeParseLiteral(this.state.value);

      case types.regexp:
        return this.estreeParseRegExpLiteral(this.state.value);

      case types.bigint:
        return this.estreeParseBigIntLiteral(this.state.value);

      case types.decimal:
        return this.estreeParseDecimalLiteral(this.state.value);

      case types._null:
        return this.estreeParseLiteral(null);

      case types._true:
        return this.estreeParseLiteral(true);

      case types._false:
        return this.estreeParseLiteral(false);

      default:
        return super.parseExprAtom(refExpressionErrors);
    }
  }

  parseLiteral(value, type, startPos, startLoc) {
    const node = super.parseLiteral(value, type, startPos, startLoc);
    node.raw = node.extra.raw;
    delete node.extra;
    return node;
  }

  parseFunctionBody(node, allowExpression, isMethod = false) {
    super.parseFunctionBody(node, allowExpression, isMethod);
    node.expression = node.body.type !== "BlockStatement";
  }

  parseMethod(node, isGenerator, isAsync, isConstructor, allowDirectSuper, type, inClassScope = false) {
    let funcNode = this.startNode();
    funcNode.kind = node.kind;
    funcNode = super.parseMethod(funcNode, isGenerator, isAsync, isConstructor, allowDirectSuper, type, inClassScope);
    funcNode.type = "FunctionExpression";
    delete funcNode.kind;
    node.value = funcNode;
    type = type === "ClassMethod" ? "MethodDefinition" : type;
    return this.finishNode(node, type);
  }

  parseObjectMethod(prop, isGenerator, isAsync, isPattern, isAccessor) {
    const node = super.parseObjectMethod(prop, isGenerator, isAsync, isPattern, isAccessor);

    if (node) {
      node.type = "Property";
      if (node.kind === "method") node.kind = "init";
      node.shorthand = false;
    }

    return node;
  }

  parseObjectProperty(prop, startPos, startLoc, isPattern, refExpressionErrors) {
    const node = super.parseObjectProperty(prop, startPos, startLoc, isPattern, refExpressionErrors);

    if (node) {
      node.kind = "init";
      node.type = "Property";
    }

    return node;
  }

  toAssignable(node, isLHS = false) {
    if (node != null && this.isObjectProperty(node)) {
      this.toAssignable(node.value, isLHS);
      return node;
    }

    return super.toAssignable(node, isLHS);
  }

  toAssignableObjectExpressionProp(prop, ...args) {
    if (prop.kind === "get" || prop.kind === "set") {
      this.raise(prop.key.start, ErrorMessages.PatternHasAccessor);
    } else if (prop.method) {
      this.raise(prop.key.start, ErrorMessages.PatternHasMethod);
    } else {
      super.toAssignableObjectExpressionProp(prop, ...args);
    }
  }

  finishCallExpression(node, optional) {
    super.finishCallExpression(node, optional);

    if (node.callee.type === "Import") {
      node.type = "ImportExpression";
      node.source = node.arguments[0];
      delete node.arguments;
      delete node.callee;
    }

    return node;
  }

  toReferencedArguments(node) {
    if (node.type === "ImportExpression") {
      return;
    }

    super.toReferencedArguments(node);
  }

  parseExport(node) {
    super.parseExport(node);

    switch (node.type) {
      case "ExportAllDeclaration":
        node.exported = null;
        break;

      case "ExportNamedDeclaration":
        if (node.specifiers.length === 1 && node.specifiers[0].type === "ExportNamespaceSpecifier") {
          node.type = "ExportAllDeclaration";
          node.exported = node.specifiers[0].exported;
          delete node.specifiers;
        }

        break;
    }

    return node;
  }

  parseSubscript(base, startPos, startLoc, noCalls, state) {
    const node = super.parseSubscript(base, startPos, startLoc, noCalls, state);

    if (state.optionalChainMember) {
      if (node.type === "OptionalMemberExpression" || node.type === "OptionalCallExpression") {
        node.type = node.type.substring(8);
      }

      if (state.stop) {
        const chain = this.startNodeAtNode(node);
        chain.expression = node;
        return this.finishNode(chain, "ChainExpression");
      }
    } else if (node.type === "MemberExpression" || node.type === "CallExpression") {
      node.optional = false;
    }

    return node;
  }

  hasPropertyAsPrivateName(node) {
    if (node.type === "ChainExpression") {
      node = node.expression;
    }

    return super.hasPropertyAsPrivateName(node);
  }

  isOptionalChain(node) {
    return node.type === "ChainExpression";
  }

  isObjectProperty(node) {
    return node.type === "Property" && node.kind === "init" && !node.method;
  }

  isObjectMethod(node) {
    return node.method || node.kind === "get" || node.kind === "set";
  }

});

class TokContext {
  constructor(token, isExpr, preserveSpace, override) {
    this.token = void 0;
    this.isExpr = void 0;
    this.preserveSpace = void 0;
    this.override = void 0;
    this.token = token;
    this.isExpr = !!isExpr;
    this.preserveSpace = !!preserveSpace;
    this.override = override;
  }

}
const types$1 = {
  braceStatement: new TokContext("{", false),
  braceExpression: new TokContext("{", true),
  recordExpression: new TokContext("#{", true),
  templateQuasi: new TokContext("${", false),
  parenStatement: new TokContext("(", false),
  parenExpression: new TokContext("(", true),
  template: new TokContext("`", true, true, p => p.readTmplToken()),
  functionExpression: new TokContext("function", true),
  functionStatement: new TokContext("function", false)
};

types.parenR.updateContext = types.braceR.updateContext = function () {
  if (this.state.context.length === 1) {
    this.state.exprAllowed = true;
    return;
  }

  let out = this.state.context.pop();

  if (out === types$1.braceStatement && this.curContext().token === "function") {
    out = this.state.context.pop();
  }

  this.state.exprAllowed = !out.isExpr;
};

types.name.updateContext = function (prevType) {
  let allowed = false;

  if (prevType !== types.dot) {
    if (this.state.value === "of" && !this.state.exprAllowed && prevType !== types._function && prevType !== types._class) {
      allowed = true;
    }
  }

  this.state.exprAllowed = allowed;

  if (this.state.isIterator) {
    this.state.isIterator = false;
  }
};

types.braceL.updateContext = function (prevType) {
  this.state.context.push(this.braceIsBlock(prevType) ? types$1.braceStatement : types$1.braceExpression);
  this.state.exprAllowed = true;
};

types.dollarBraceL.updateContext = function () {
  this.state.context.push(types$1.templateQuasi);
  this.state.exprAllowed = true;
};

types.parenL.updateContext = function (prevType) {
  const statementParens = prevType === types._if || prevType === types._for || prevType === types._with || prevType === types._while;
  this.state.context.push(statementParens ? types$1.parenStatement : types$1.parenExpression);
  this.state.exprAllowed = true;
};

types.incDec.updateContext = function () {};

types._function.updateContext = types._class.updateContext = function (prevType) {
  if (prevType.beforeExpr && prevType !== types.semi && prevType !== types._else && !(prevType === types._return && this.hasPrecedingLineBreak()) && !((prevType === types.colon || prevType === types.braceL) && this.curContext() === types$1.b_stat)) {
    this.state.context.push(types$1.functionExpression);
  } else {
    this.state.context.push(types$1.functionStatement);
  }

  this.state.exprAllowed = false;
};

types.backQuote.updateContext = function () {
  if (this.curContext() === types$1.template) {
    this.state.context.pop();
  } else {
    this.state.context.push(types$1.template);
  }

  this.state.exprAllowed = false;
};

types.braceHashL.updateContext = function () {
  this.state.context.push(types$1.recordExpression);
  this.state.exprAllowed = true;
};

let nonASCIIidentifierStartChars = "\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08c7\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d04-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31bf\u31f0-\u31ff\u3400-\u4dbf\u4e00-\u9ffc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7ca\ua7f5-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab69\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";
let nonASCIIidentifierChars = "\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b55-\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d81-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1abf\u1ac0\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf4\u1cf7-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua82c\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f";
const nonASCIIidentifierStart = new RegExp("[" + nonASCIIidentifierStartChars + "]");
const nonASCIIidentifier = new RegExp("[" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + "]");
nonASCIIidentifierStartChars = nonASCIIidentifierChars = null;
const astralIdentifierStartCodes = [0, 11, 2, 25, 2, 18, 2, 1, 2, 14, 3, 13, 35, 122, 70, 52, 268, 28, 4, 48, 48, 31, 14, 29, 6, 37, 11, 29, 3, 35, 5, 7, 2, 4, 43, 157, 19, 35, 5, 35, 5, 39, 9, 51, 157, 310, 10, 21, 11, 7, 153, 5, 3, 0, 2, 43, 2, 1, 4, 0, 3, 22, 11, 22, 10, 30, 66, 18, 2, 1, 11, 21, 11, 25, 71, 55, 7, 1, 65, 0, 16, 3, 2, 2, 2, 28, 43, 28, 4, 28, 36, 7, 2, 27, 28, 53, 11, 21, 11, 18, 14, 17, 111, 72, 56, 50, 14, 50, 14, 35, 349, 41, 7, 1, 79, 28, 11, 0, 9, 21, 107, 20, 28, 22, 13, 52, 76, 44, 33, 24, 27, 35, 30, 0, 3, 0, 9, 34, 4, 0, 13, 47, 15, 3, 22, 0, 2, 0, 36, 17, 2, 24, 85, 6, 2, 0, 2, 3, 2, 14, 2, 9, 8, 46, 39, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 4, 0, 19, 0, 13, 4, 159, 52, 19, 3, 21, 2, 31, 47, 21, 1, 2, 0, 185, 46, 42, 3, 37, 47, 21, 0, 60, 42, 14, 0, 72, 26, 230, 43, 117, 63, 32, 7, 3, 0, 3, 7, 2, 1, 2, 23, 16, 0, 2, 0, 95, 7, 3, 38, 17, 0, 2, 0, 29, 0, 11, 39, 8, 0, 22, 0, 12, 45, 20, 0, 35, 56, 264, 8, 2, 36, 18, 0, 50, 29, 113, 6, 2, 1, 2, 37, 22, 0, 26, 5, 2, 1, 2, 31, 15, 0, 328, 18, 190, 0, 80, 921, 103, 110, 18, 195, 2749, 1070, 4050, 582, 8634, 568, 8, 30, 114, 29, 19, 47, 17, 3, 32, 20, 6, 18, 689, 63, 129, 74, 6, 0, 67, 12, 65, 1, 2, 0, 29, 6135, 9, 1237, 43, 8, 8952, 286, 50, 2, 18, 3, 9, 395, 2309, 106, 6, 12, 4, 8, 8, 9, 5991, 84, 2, 70, 2, 1, 3, 0, 3, 1, 3, 3, 2, 11, 2, 0, 2, 6, 2, 64, 2, 3, 3, 7, 2, 6, 2, 27, 2, 3, 2, 4, 2, 0, 4, 6, 2, 339, 3, 24, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 7, 2357, 44, 11, 6, 17, 0, 370, 43, 1301, 196, 60, 67, 8, 0, 1205, 3, 2, 26, 2, 1, 2, 0, 3, 0, 2, 9, 2, 3, 2, 0, 2, 0, 7, 0, 5, 0, 2, 0, 2, 0, 2, 2, 2, 1, 2, 0, 3, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 1, 2, 0, 3, 3, 2, 6, 2, 3, 2, 3, 2, 0, 2, 9, 2, 16, 6, 2, 2, 4, 2, 16, 4421, 42717, 35, 4148, 12, 221, 3, 5761, 15, 7472, 3104, 541, 1507, 4938];
const astralIdentifierCodes = [509, 0, 227, 0, 150, 4, 294, 9, 1368, 2, 2, 1, 6, 3, 41, 2, 5, 0, 166, 1, 574, 3, 9, 9, 370, 1, 154, 10, 176, 2, 54, 14, 32, 9, 16, 3, 46, 10, 54, 9, 7, 2, 37, 13, 2, 9, 6, 1, 45, 0, 13, 2, 49, 13, 9, 3, 2, 11, 83, 11, 7, 0, 161, 11, 6, 9, 7, 3, 56, 1, 2, 6, 3, 1, 3, 2, 10, 0, 11, 1, 3, 6, 4, 4, 193, 17, 10, 9, 5, 0, 82, 19, 13, 9, 214, 6, 3, 8, 28, 1, 83, 16, 16, 9, 82, 12, 9, 9, 84, 14, 5, 9, 243, 14, 166, 9, 71, 5, 2, 1, 3, 3, 2, 0, 2, 1, 13, 9, 120, 6, 3, 6, 4, 0, 29, 9, 41, 6, 2, 3, 9, 0, 10, 10, 47, 15, 406, 7, 2, 7, 17, 9, 57, 21, 2, 13, 123, 5, 4, 0, 2, 1, 2, 6, 2, 0, 9, 9, 49, 4, 2, 1, 2, 4, 9, 9, 330, 3, 19306, 9, 135, 4, 60, 6, 26, 9, 1014, 0, 2, 54, 8, 3, 82, 0, 12, 1, 19628, 1, 5319, 4, 4, 5, 9, 7, 3, 6, 31, 3, 149, 2, 1418, 49, 513, 54, 5, 49, 9, 0, 15, 0, 23, 4, 2, 14, 1361, 6, 2, 16, 3, 6, 2, 1, 2, 4, 262, 6, 10, 9, 419, 13, 1495, 6, 110, 6, 6, 9, 4759, 9, 787719, 239];

function isInAstralSet(code, set) {
  let pos = 0x10000;

  for (let i = 0, length = set.length; i < length; i += 2) {
    pos += set[i];
    if (pos > code) return false;
    pos += set[i + 1];
    if (pos >= code) return true;
  }

  return false;
}

function isIdentifierStart(code) {
  if (code < 65) return code === 36;
  if (code <= 90) return true;
  if (code < 97) return code === 95;
  if (code <= 122) return true;

  if (code <= 0xffff) {
    return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));
  }

  return isInAstralSet(code, astralIdentifierStartCodes);
}
function isIdentifierChar(code) {
  if (code < 48) return code === 36;
  if (code < 58) return true;
  if (code < 65) return false;
  if (code <= 90) return true;
  if (code < 97) return code === 95;
  if (code <= 122) return true;

  if (code <= 0xffff) {
    return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));
  }

  return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes);
}

const reservedWords = {
  keyword: ["break", "case", "catch", "continue", "debugger", "default", "do", "else", "finally", "for", "function", "if", "return", "switch", "throw", "try", "var", "const", "while", "with", "new", "this", "super", "class", "extends", "export", "import", "null", "true", "false", "in", "instanceof", "typeof", "void", "delete"],
  strict: ["implements", "interface", "let", "package", "private", "protected", "public", "static", "yield"],
  strictBind: ["eval", "arguments"]
};
const keywords$1 = new Set(reservedWords.keyword);
const reservedWordsStrictSet = new Set(reservedWords.strict);
const reservedWordsStrictBindSet = new Set(reservedWords.strictBind);
function isReservedWord(word, inModule) {
  return inModule && word === "await" || word === "enum";
}
function isStrictReservedWord(word, inModule) {
  return isReservedWord(word, inModule) || reservedWordsStrictSet.has(word);
}
function isStrictBindOnlyReservedWord(word) {
  return reservedWordsStrictBindSet.has(word);
}
function isStrictBindReservedWord(word, inModule) {
  return isStrictReservedWord(word, inModule) || isStrictBindOnlyReservedWord(word);
}
function isKeyword(word) {
  return keywords$1.has(word);
}

const keywordRelationalOperator = /^in(stanceof)?$/;
function isIteratorStart(current, next) {
  return current === 64 && next === 64;
}

const SCOPE_OTHER = 0b00000000,
      SCOPE_PROGRAM = 0b00000001,
      SCOPE_FUNCTION = 0b00000010,
      SCOPE_ARROW = 0b00000100,
      SCOPE_SIMPLE_CATCH = 0b00001000,
      SCOPE_SUPER = 0b00010000,
      SCOPE_DIRECT_SUPER = 0b00100000,
      SCOPE_CLASS = 0b01000000,
      SCOPE_TS_MODULE = 0b10000000,
      SCOPE_VAR = SCOPE_PROGRAM | SCOPE_FUNCTION | SCOPE_TS_MODULE;
const BIND_KIND_VALUE = 0b00000000001,
      BIND_KIND_TYPE = 0b00000000010,
      BIND_SCOPE_VAR = 0b00000000100,
      BIND_SCOPE_LEXICAL = 0b00000001000,
      BIND_SCOPE_FUNCTION = 0b00000010000,
      BIND_FLAGS_NONE = 0b00001000000,
      BIND_FLAGS_CLASS = 0b00010000000,
      BIND_FLAGS_TS_ENUM = 0b00100000000,
      BIND_FLAGS_TS_CONST_ENUM = 0b01000000000,
      BIND_FLAGS_TS_EXPORT_ONLY = 0b10000000000;
const BIND_CLASS = BIND_KIND_VALUE | BIND_KIND_TYPE | BIND_SCOPE_LEXICAL | BIND_FLAGS_CLASS,
      BIND_LEXICAL = BIND_KIND_VALUE | 0 | BIND_SCOPE_LEXICAL | 0,
      BIND_VAR = BIND_KIND_VALUE | 0 | BIND_SCOPE_VAR | 0,
      BIND_FUNCTION = BIND_KIND_VALUE | 0 | BIND_SCOPE_FUNCTION | 0,
      BIND_TS_INTERFACE = 0 | BIND_KIND_TYPE | 0 | BIND_FLAGS_CLASS,
      BIND_TS_TYPE = 0 | BIND_KIND_TYPE | 0 | 0,
      BIND_TS_ENUM = BIND_KIND_VALUE | BIND_KIND_TYPE | BIND_SCOPE_LEXICAL | BIND_FLAGS_TS_ENUM,
      BIND_TS_AMBIENT = 0 | 0 | 0 | BIND_FLAGS_TS_EXPORT_ONLY,
      BIND_NONE = 0 | 0 | 0 | BIND_FLAGS_NONE,
      BIND_OUTSIDE = BIND_KIND_VALUE | 0 | 0 | BIND_FLAGS_NONE,
      BIND_TS_CONST_ENUM = BIND_TS_ENUM | BIND_FLAGS_TS_CONST_ENUM,
      BIND_TS_NAMESPACE = 0 | 0 | 0 | BIND_FLAGS_TS_EXPORT_ONLY;
const CLASS_ELEMENT_FLAG_STATIC = 0b100,
      CLASS_ELEMENT_KIND_GETTER = 0b010,
      CLASS_ELEMENT_KIND_SETTER = 0b001,
      CLASS_ELEMENT_KIND_ACCESSOR = CLASS_ELEMENT_KIND_GETTER | CLASS_ELEMENT_KIND_SETTER;
const CLASS_ELEMENT_STATIC_GETTER = CLASS_ELEMENT_KIND_GETTER | CLASS_ELEMENT_FLAG_STATIC,
      CLASS_ELEMENT_STATIC_SETTER = CLASS_ELEMENT_KIND_SETTER | CLASS_ELEMENT_FLAG_STATIC,
      CLASS_ELEMENT_INSTANCE_GETTER = CLASS_ELEMENT_KIND_GETTER,
      CLASS_ELEMENT_INSTANCE_SETTER = CLASS_ELEMENT_KIND_SETTER,
      CLASS_ELEMENT_OTHER = 0;

const reservedTypes = new Set(["_", "any", "bool", "boolean", "empty", "extends", "false", "interface", "mixed", "null", "number", "static", "string", "true", "typeof", "void"]);
const FlowErrors = Object.freeze({
  AmbiguousConditionalArrow: "Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",
  AmbiguousDeclareModuleKind: "Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module",
  AssignReservedType: "Cannot overwrite reserved type %0",
  DeclareClassElement: "The `declare` modifier can only appear on class fields.",
  DeclareClassFieldInitializer: "Initializers are not allowed in fields with the `declare` modifier.",
  DuplicateDeclareModuleExports: "Duplicate `declare module.exports` statement",
  EnumBooleanMemberNotInitialized: "Boolean enum members need to be initialized. Use either `%0 = true,` or `%0 = false,` in enum `%1`.",
  EnumDuplicateMemberName: "Enum member names need to be unique, but the name `%0` has already been used before in enum `%1`.",
  EnumInconsistentMemberValues: "Enum `%0` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.",
  EnumInvalidExplicitType: "Enum type `%1` is not valid. Use one of `boolean`, `number`, `string`, or `symbol` in enum `%0`.",
  EnumInvalidExplicitTypeUnknownSupplied: "Supplied enum type is not valid. Use one of `boolean`, `number`, `string`, or `symbol` in enum `%0`.",
  EnumInvalidMemberInitializerPrimaryType: "Enum `%0` has type `%2`, so the initializer of `%1` needs to be a %2 literal.",
  EnumInvalidMemberInitializerSymbolType: "Symbol enum members cannot be initialized. Use `%1,` in enum `%0`.",
  EnumInvalidMemberInitializerUnknownType: "The enum member initializer for `%1` needs to be a literal (either a boolean, number, or string) in enum `%0`.",
  EnumInvalidMemberName: "Enum member names cannot start with lowercase 'a' through 'z'. Instead of using `%0`, consider using `%1`, in enum `%2`.",
  EnumNumberMemberNotInitialized: "Number enum members need to be initialized, e.g. `%1 = 1` in enum `%0`.",
  EnumStringMemberInconsistentlyInitailized: "String enum members need to consistently either all use initializers, or use no initializers, in enum `%0`.",
  ImportTypeShorthandOnlyInPureImport: "The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements",
  InexactInsideExact: "Explicit inexact syntax cannot appear inside an explicit exact object type",
  InexactInsideNonObject: "Explicit inexact syntax cannot appear in class or interface definitions",
  InexactVariance: "Explicit inexact syntax cannot have variance",
  InvalidNonTypeImportInDeclareModule: "Imports within a `declare module` body must always be `import type` or `import typeof`",
  MissingTypeParamDefault: "Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",
  NestedDeclareModule: "`declare module` cannot be used inside another `declare module`",
  NestedFlowComment: "Cannot have a flow comment inside another flow comment",
  OptionalBindingPattern: "A binding pattern parameter cannot be optional in an implementation signature.",
  SpreadVariance: "Spread properties cannot have variance",
  TypeBeforeInitializer: "Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`",
  TypeCastInPattern: "The type cast expression is expected to be wrapped with parenthesis",
  UnexpectedExplicitInexactInObject: "Explicit inexact syntax must appear at the end of an inexact object",
  UnexpectedReservedType: "Unexpected reserved type %0",
  UnexpectedReservedUnderscore: "`_` is only allowed as a type argument to call or new",
  UnexpectedSpaceBetweenModuloChecks: "Spaces between `%` and `checks` are not allowed here.",
  UnexpectedSpreadType: "Spread operator cannot appear in class or interface definitions",
  UnexpectedSubtractionOperand: 'Unexpected token, expected "number" or "bigint"',
  UnexpectedTokenAfterTypeParameter: "Expected an arrow function after this type parameter declaration",
  UnexpectedTypeParameterBeforeAsyncArrowFunction: "Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`",
  UnsupportedDeclareExportKind: "`declare export %0` is not supported. Use `%1` instead",
  UnsupportedStatementInDeclareModule: "Only declares and type imports are allowed inside declare module",
  UnterminatedFlowComment: "Unterminated flow-comment"
});

function isEsModuleType(bodyElement) {
  return bodyElement.type === "DeclareExportAllDeclaration" || bodyElement.type === "DeclareExportDeclaration" && (!bodyElement.declaration || bodyElement.declaration.type !== "TypeAlias" && bodyElement.declaration.type !== "InterfaceDeclaration");
}

function hasTypeImportKind(node) {
  return node.importKind === "type" || node.importKind === "typeof";
}

function isMaybeDefaultImport(state) {
  return (state.type === types.name || !!state.type.keyword) && state.value !== "from";
}

const exportSuggestions = {
  const: "declare export var",
  let: "declare export var",
  type: "export type",
  interface: "export interface"
};

function partition(list, test) {
  const list1 = [];
  const list2 = [];

  for (let i = 0; i < list.length; i++) {
    (test(list[i], i, list) ? list1 : list2).push(list[i]);
  }

  return [list1, list2];
}

const FLOW_PRAGMA_REGEX = /\*?\s*@((?:no)?flow)\b/;
var flow = (superClass => {
  var _temp;

  return _temp = class extends superClass {
    constructor(options, input) {
      super(options, input);
      this.flowPragma = void 0;
      this.flowPragma = undefined;
    }

    shouldParseTypes() {
      return this.getPluginOption("flow", "all") || this.flowPragma === "flow";
    }

    shouldParseEnums() {
      return !!this.getPluginOption("flow", "enums");
    }

    finishToken(type, val) {
      if (type !== types.string && type !== types.semi && type !== types.interpreterDirective) {
        if (this.flowPragma === undefined) {
          this.flowPragma = null;
        }
      }

      return super.finishToken(type, val);
    }

    addComment(comment) {
      if (this.flowPragma === undefined) {
        const matches = FLOW_PRAGMA_REGEX.exec(comment.value);

        if (!matches) ; else if (matches[1] === "flow") {
          this.flowPragma = "flow";
        } else if (matches[1] === "noflow") {
          this.flowPragma = "noflow";
        } else {
          throw new Error("Unexpected flow pragma");
        }
      }

      return super.addComment(comment);
    }

    flowParseTypeInitialiser(tok) {
      const oldInType = this.state.inType;
      this.state.inType = true;
      this.expect(tok || types.colon);
      const type = this.flowParseType();
      this.state.inType = oldInType;
      return type;
    }

    flowParsePredicate() {
      const node = this.startNode();
      const moduloLoc = this.state.startLoc;
      const moduloPos = this.state.start;
      this.expect(types.modulo);
      const checksLoc = this.state.startLoc;
      this.expectContextual("checks");

      if (moduloLoc.line !== checksLoc.line || moduloLoc.column !== checksLoc.column - 1) {
        this.raise(moduloPos, FlowErrors.UnexpectedSpaceBetweenModuloChecks);
      }

      if (this.eat(types.parenL)) {
        node.value = this.parseExpression();
        this.expect(types.parenR);
        return this.finishNode(node, "DeclaredPredicate");
      } else {
        return this.finishNode(node, "InferredPredicate");
      }
    }

    flowParseTypeAndPredicateInitialiser() {
      const oldInType = this.state.inType;
      this.state.inType = true;
      this.expect(types.colon);
      let type = null;
      let predicate = null;

      if (this.match(types.modulo)) {
        this.state.inType = oldInType;
        predicate = this.flowParsePredicate();
      } else {
        type = this.flowParseType();
        this.state.inType = oldInType;

        if (this.match(types.modulo)) {
          predicate = this.flowParsePredicate();
        }
      }

      return [type, predicate];
    }

    flowParseDeclareClass(node) {
      this.next();
      this.flowParseInterfaceish(node, true);
      return this.finishNode(node, "DeclareClass");
    }

    flowParseDeclareFunction(node) {
      this.next();
      const id = node.id = this.parseIdentifier();
      const typeNode = this.startNode();
      const typeContainer = this.startNode();

      if (this.isRelational("<")) {
        typeNode.typeParameters = this.flowParseTypeParameterDeclaration();
      } else {
        typeNode.typeParameters = null;
      }

      this.expect(types.parenL);
      const tmp = this.flowParseFunctionTypeParams();
      typeNode.params = tmp.params;
      typeNode.rest = tmp.rest;
      this.expect(types.parenR);
      [typeNode.returnType, node.predicate] = this.flowParseTypeAndPredicateInitialiser();
      typeContainer.typeAnnotation = this.finishNode(typeNode, "FunctionTypeAnnotation");
      id.typeAnnotation = this.finishNode(typeContainer, "TypeAnnotation");
      this.resetEndLocation(id);
      this.semicolon();
      return this.finishNode(node, "DeclareFunction");
    }

    flowParseDeclare(node, insideModule) {
      if (this.match(types._class)) {
        return this.flowParseDeclareClass(node);
      } else if (this.match(types._function)) {
        return this.flowParseDeclareFunction(node);
      } else if (this.match(types._var)) {
        return this.flowParseDeclareVariable(node);
      } else if (this.eatContextual("module")) {
        if (this.match(types.dot)) {
          return this.flowParseDeclareModuleExports(node);
        } else {
          if (insideModule) {
            this.raise(this.state.lastTokStart, FlowErrors.NestedDeclareModule);
          }

          return this.flowParseDeclareModule(node);
        }
      } else if (this.isContextual("type")) {
        return this.flowParseDeclareTypeAlias(node);
      } else if (this.isContextual("opaque")) {
        return this.flowParseDeclareOpaqueType(node);
      } else if (this.isContextual("interface")) {
        return this.flowParseDeclareInterface(node);
      } else if (this.match(types._export)) {
        return this.flowParseDeclareExportDeclaration(node, insideModule);
      } else {
        throw this.unexpected();
      }
    }

    flowParseDeclareVariable(node) {
      this.next();
      node.id = this.flowParseTypeAnnotatableIdentifier(true);
      this.scope.declareName(node.id.name, BIND_VAR, node.id.start);
      this.semicolon();
      return this.finishNode(node, "DeclareVariable");
    }

    flowParseDeclareModule(node) {
      this.scope.enter(SCOPE_OTHER);

      if (this.match(types.string)) {
        node.id = this.parseExprAtom();
      } else {
        node.id = this.parseIdentifier();
      }

      const bodyNode = node.body = this.startNode();
      const body = bodyNode.body = [];
      this.expect(types.braceL);

      while (!this.match(types.braceR)) {
        let bodyNode = this.startNode();

        if (this.match(types._import)) {
          this.next();

          if (!this.isContextual("type") && !this.match(types._typeof)) {
            this.raise(this.state.lastTokStart, FlowErrors.InvalidNonTypeImportInDeclareModule);
          }

          this.parseImport(bodyNode);
        } else {
          this.expectContextual("declare", FlowErrors.UnsupportedStatementInDeclareModule);
          bodyNode = this.flowParseDeclare(bodyNode, true);
        }

        body.push(bodyNode);
      }

      this.scope.exit();
      this.expect(types.braceR);
      this.finishNode(bodyNode, "BlockStatement");
      let kind = null;
      let hasModuleExport = false;
      body.forEach(bodyElement => {
        if (isEsModuleType(bodyElement)) {
          if (kind === "CommonJS") {
            this.raise(bodyElement.start, FlowErrors.AmbiguousDeclareModuleKind);
          }

          kind = "ES";
        } else if (bodyElement.type === "DeclareModuleExports") {
          if (hasModuleExport) {
            this.raise(bodyElement.start, FlowErrors.DuplicateDeclareModuleExports);
          }

          if (kind === "ES") {
            this.raise(bodyElement.start, FlowErrors.AmbiguousDeclareModuleKind);
          }

          kind = "CommonJS";
          hasModuleExport = true;
        }
      });
      node.kind = kind || "CommonJS";
      return this.finishNode(node, "DeclareModule");
    }

    flowParseDeclareExportDeclaration(node, insideModule) {
      this.expect(types._export);

      if (this.eat(types._default)) {
        if (this.match(types._function) || this.match(types._class)) {
          node.declaration = this.flowParseDeclare(this.startNode());
        } else {
          node.declaration = this.flowParseType();
          this.semicolon();
        }

        node.default = true;
        return this.finishNode(node, "DeclareExportDeclaration");
      } else {
        if (this.match(types._const) || this.isLet() || (this.isContextual("type") || this.isContextual("interface")) && !insideModule) {
          const label = this.state.value;
          const suggestion = exportSuggestions[label];
          throw this.raise(this.state.start, FlowErrors.UnsupportedDeclareExportKind, label, suggestion);
        }

        if (this.match(types._var) || this.match(types._function) || this.match(types._class) || this.isContextual("opaque")) {
            node.declaration = this.flowParseDeclare(this.startNode());
            node.default = false;
            return this.finishNode(node, "DeclareExportDeclaration");
          } else if (this.match(types.star) || this.match(types.braceL) || this.isContextual("interface") || this.isContextual("type") || this.isContextual("opaque")) {
            node = this.parseExport(node);

            if (node.type === "ExportNamedDeclaration") {
              node.type = "ExportDeclaration";
              node.default = false;
              delete node.exportKind;
            }

            node.type = "Declare" + node.type;
            return node;
          }
      }

      throw this.unexpected();
    }

    flowParseDeclareModuleExports(node) {
      this.next();
      this.expectContextual("exports");
      node.typeAnnotation = this.flowParseTypeAnnotation();
      this.semicolon();
      return this.finishNode(node, "DeclareModuleExports");
    }

    flowParseDeclareTypeAlias(node) {
      this.next();
      this.flowParseTypeAlias(node);
      node.type = "DeclareTypeAlias";
      return node;
    }

    flowParseDeclareOpaqueType(node) {
      this.next();
      this.flowParseOpaqueType(node, true);
      node.type = "DeclareOpaqueType";
      return node;
    }

    flowParseDeclareInterface(node) {
      this.next();
      this.flowParseInterfaceish(node);
      return this.finishNode(node, "DeclareInterface");
    }

    flowParseInterfaceish(node, isClass = false) {
      node.id = this.flowParseRestrictedIdentifier(!isClass, true);
      this.scope.declareName(node.id.name, isClass ? BIND_FUNCTION : BIND_LEXICAL, node.id.start);

      if (this.isRelational("<")) {
        node.typeParameters = this.flowParseTypeParameterDeclaration();
      } else {
        node.typeParameters = null;
      }

      node.extends = [];
      node.implements = [];
      node.mixins = [];

      if (this.eat(types._extends)) {
        do {
          node.extends.push(this.flowParseInterfaceExtends());
        } while (!isClass && this.eat(types.comma));
      }

      if (this.isContextual("mixins")) {
        this.next();

        do {
          node.mixins.push(this.flowParseInterfaceExtends());
        } while (this.eat(types.comma));
      }

      if (this.isContextual("implements")) {
        this.next();

        do {
          node.implements.push(this.flowParseInterfaceExtends());
        } while (this.eat(types.comma));
      }

      node.body = this.flowParseObjectType({
        allowStatic: isClass,
        allowExact: false,
        allowSpread: false,
        allowProto: isClass,
        allowInexact: false
      });
    }

    flowParseInterfaceExtends() {
      const node = this.startNode();
      node.id = this.flowParseQualifiedTypeIdentifier();

      if (this.isRelational("<")) {
        node.typeParameters = this.flowParseTypeParameterInstantiation();
      } else {
        node.typeParameters = null;
      }

      return this.finishNode(node, "InterfaceExtends");
    }

    flowParseInterface(node) {
      this.flowParseInterfaceish(node);
      return this.finishNode(node, "InterfaceDeclaration");
    }

    checkNotUnderscore(word) {
      if (word === "_") {
        this.raise(this.state.start, FlowErrors.UnexpectedReservedUnderscore);
      }
    }

    checkReservedType(word, startLoc, declaration) {
      if (!reservedTypes.has(word)) return;
      this.raise(startLoc, declaration ? FlowErrors.AssignReservedType : FlowErrors.UnexpectedReservedType, word);
    }

    flowParseRestrictedIdentifier(liberal, declaration) {
      this.checkReservedType(this.state.value, this.state.start, declaration);
      return this.parseIdentifier(liberal);
    }

    flowParseTypeAlias(node) {
      node.id = this.flowParseRestrictedIdentifier(false, true);
      this.scope.declareName(node.id.name, BIND_LEXICAL, node.id.start);

      if (this.isRelational("<")) {
        node.typeParameters = this.flowParseTypeParameterDeclaration();
      } else {
        node.typeParameters = null;
      }

      node.right = this.flowParseTypeInitialiser(types.eq);
      this.semicolon();
      return this.finishNode(node, "TypeAlias");
    }

    flowParseOpaqueType(node, declare) {
      this.expectContextual("type");
      node.id = this.flowParseRestrictedIdentifier(true, true);
      this.scope.declareName(node.id.name, BIND_LEXICAL, node.id.start);

      if (this.isRelational("<")) {
        node.typeParameters = this.flowParseTypeParameterDeclaration();
      } else {
        node.typeParameters = null;
      }

      node.supertype = null;

      if (this.match(types.colon)) {
        node.supertype = this.flowParseTypeInitialiser(types.colon);
      }

      node.impltype = null;

      if (!declare) {
        node.impltype = this.flowParseTypeInitialiser(types.eq);
      }

      this.semicolon();
      return this.finishNode(node, "OpaqueType");
    }

    flowParseTypeParameter(requireDefault = false) {
      const nodeStart = this.state.start;
      const node = this.startNode();
      const variance = this.flowParseVariance();
      const ident = this.flowParseTypeAnnotatableIdentifier();
      node.name = ident.name;
      node.variance = variance;
      node.bound = ident.typeAnnotation;

      if (this.match(types.eq)) {
        this.eat(types.eq);
        node.default = this.flowParseType();
      } else {
        if (requireDefault) {
          this.raise(nodeStart, FlowErrors.MissingTypeParamDefault);
        }
      }

      return this.finishNode(node, "TypeParameter");
    }

    flowParseTypeParameterDeclaration() {
      const oldInType = this.state.inType;
      const node = this.startNode();
      node.params = [];
      this.state.inType = true;

      if (this.isRelational("<") || this.match(types.jsxTagStart)) {
        this.next();
      } else {
        this.unexpected();
      }

      let defaultRequired = false;

      do {
        const typeParameter = this.flowParseTypeParameter(defaultRequired);
        node.params.push(typeParameter);

        if (typeParameter.default) {
          defaultRequired = true;
        }

        if (!this.isRelational(">")) {
          this.expect(types.comma);
        }
      } while (!this.isRelational(">"));

      this.expectRelational(">");
      this.state.inType = oldInType;
      return this.finishNode(node, "TypeParameterDeclaration");
    }

    flowParseTypeParameterInstantiation() {
      const node = this.startNode();
      const oldInType = this.state.inType;
      node.params = [];
      this.state.inType = true;
      this.expectRelational("<");
      const oldNoAnonFunctionType = this.state.noAnonFunctionType;
      this.state.noAnonFunctionType = false;

      while (!this.isRelational(">")) {
        node.params.push(this.flowParseType());

        if (!this.isRelational(">")) {
          this.expect(types.comma);
        }
      }

      this.state.noAnonFunctionType = oldNoAnonFunctionType;
      this.expectRelational(">");
      this.state.inType = oldInType;
      return this.finishNode(node, "TypeParameterInstantiation");
    }

    flowParseTypeParameterInstantiationCallOrNew() {
      const node = this.startNode();
      const oldInType = this.state.inType;
      node.params = [];
      this.state.inType = true;
      this.expectRelational("<");

      while (!this.isRelational(">")) {
        node.params.push(this.flowParseTypeOrImplicitInstantiation());

        if (!this.isRelational(">")) {
          this.expect(types.comma);
        }
      }

      this.expectRelational(">");
      this.state.inType = oldInType;
      return this.finishNode(node, "TypeParameterInstantiation");
    }

    flowParseInterfaceType() {
      const node = this.startNode();
      this.expectContextual("interface");
      node.extends = [];

      if (this.eat(types._extends)) {
        do {
          node.extends.push(this.flowParseInterfaceExtends());
        } while (this.eat(types.comma));
      }

      node.body = this.flowParseObjectType({
        allowStatic: false,
        allowExact: false,
        allowSpread: false,
        allowProto: false,
        allowInexact: false
      });
      return this.finishNode(node, "InterfaceTypeAnnotation");
    }

    flowParseObjectPropertyKey() {
      return this.match(types.num) || this.match(types.string) ? this.parseExprAtom() : this.parseIdentifier(true);
    }

    flowParseObjectTypeIndexer(node, isStatic, variance) {
      node.static = isStatic;

      if (this.lookahead().type === types.colon) {
        node.id = this.flowParseObjectPropertyKey();
        node.key = this.flowParseTypeInitialiser();
      } else {
        node.id = null;
        node.key = this.flowParseType();
      }

      this.expect(types.bracketR);
      node.value = this.flowParseTypeInitialiser();
      node.variance = variance;
      return this.finishNode(node, "ObjectTypeIndexer");
    }

    flowParseObjectTypeInternalSlot(node, isStatic) {
      node.static = isStatic;
      node.id = this.flowParseObjectPropertyKey();
      this.expect(types.bracketR);
      this.expect(types.bracketR);

      if (this.isRelational("<") || this.match(types.parenL)) {
        node.method = true;
        node.optional = false;
        node.value = this.flowParseObjectTypeMethodish(this.startNodeAt(node.start, node.loc.start));
      } else {
        node.method = false;

        if (this.eat(types.question)) {
          node.optional = true;
        }

        node.value = this.flowParseTypeInitialiser();
      }

      return this.finishNode(node, "ObjectTypeInternalSlot");
    }

    flowParseObjectTypeMethodish(node) {
      node.params = [];
      node.rest = null;
      node.typeParameters = null;

      if (this.isRelational("<")) {
        node.typeParameters = this.flowParseTypeParameterDeclaration();
      }

      this.expect(types.parenL);

      while (!this.match(types.parenR) && !this.match(types.ellipsis)) {
        node.params.push(this.flowParseFunctionTypeParam());

        if (!this.match(types.parenR)) {
          this.expect(types.comma);
        }
      }

      if (this.eat(types.ellipsis)) {
        node.rest = this.flowParseFunctionTypeParam();
      }

      this.expect(types.parenR);
      node.returnType = this.flowParseTypeInitialiser();
      return this.finishNode(node, "FunctionTypeAnnotation");
    }

    flowParseObjectTypeCallProperty(node, isStatic) {
      const valueNode = this.startNode();
      node.static = isStatic;
      node.value = this.flowParseObjectTypeMethodish(valueNode);
      return this.finishNode(node, "ObjectTypeCallProperty");
    }

    flowParseObjectType({
      allowStatic,
      allowExact,
      allowSpread,
      allowProto,
      allowInexact
    }) {
      const oldInType = this.state.inType;
      this.state.inType = true;
      const nodeStart = this.startNode();
      nodeStart.callProperties = [];
      nodeStart.properties = [];
      nodeStart.indexers = [];
      nodeStart.internalSlots = [];
      let endDelim;
      let exact;
      let inexact = false;

      if (allowExact && this.match(types.braceBarL)) {
        this.expect(types.braceBarL);
        endDelim = types.braceBarR;
        exact = true;
      } else {
        this.expect(types.braceL);
        endDelim = types.braceR;
        exact = false;
      }

      nodeStart.exact = exact;

      while (!this.match(endDelim)) {
        let isStatic = false;
        let protoStart = null;
        let inexactStart = null;
        const node = this.startNode();

        if (allowProto && this.isContextual("proto")) {
          const lookahead = this.lookahead();

          if (lookahead.type !== types.colon && lookahead.type !== types.question) {
            this.next();
            protoStart = this.state.start;
            allowStatic = false;
          }
        }

        if (allowStatic && this.isContextual("static")) {
          const lookahead = this.lookahead();

          if (lookahead.type !== types.colon && lookahead.type !== types.question) {
            this.next();
            isStatic = true;
          }
        }

        const variance = this.flowParseVariance();

        if (this.eat(types.bracketL)) {
          if (protoStart != null) {
            this.unexpected(protoStart);
          }

          if (this.eat(types.bracketL)) {
            if (variance) {
              this.unexpected(variance.start);
            }

            nodeStart.internalSlots.push(this.flowParseObjectTypeInternalSlot(node, isStatic));
          } else {
            nodeStart.indexers.push(this.flowParseObjectTypeIndexer(node, isStatic, variance));
          }
        } else if (this.match(types.parenL) || this.isRelational("<")) {
          if (protoStart != null) {
            this.unexpected(protoStart);
          }

          if (variance) {
            this.unexpected(variance.start);
          }

          nodeStart.callProperties.push(this.flowParseObjectTypeCallProperty(node, isStatic));
        } else {
          let kind = "init";

          if (this.isContextual("get") || this.isContextual("set")) {
            const lookahead = this.lookahead();

            if (lookahead.type === types.name || lookahead.type === types.string || lookahead.type === types.num) {
              kind = this.state.value;
              this.next();
            }
          }

          const propOrInexact = this.flowParseObjectTypeProperty(node, isStatic, protoStart, variance, kind, allowSpread, allowInexact != null ? allowInexact : !exact);

          if (propOrInexact === null) {
            inexact = true;
            inexactStart = this.state.lastTokStart;
          } else {
            nodeStart.properties.push(propOrInexact);
          }
        }

        this.flowObjectTypeSemicolon();

        if (inexactStart && !this.match(types.braceR) && !this.match(types.braceBarR)) {
          this.raise(inexactStart, FlowErrors.UnexpectedExplicitInexactInObject);
        }
      }

      this.expect(endDelim);

      if (allowSpread) {
        nodeStart.inexact = inexact;
      }

      const out = this.finishNode(nodeStart, "ObjectTypeAnnotation");
      this.state.inType = oldInType;
      return out;
    }

    flowParseObjectTypeProperty(node, isStatic, protoStart, variance, kind, allowSpread, allowInexact) {
      if (this.eat(types.ellipsis)) {
        const isInexactToken = this.match(types.comma) || this.match(types.semi) || this.match(types.braceR) || this.match(types.braceBarR);

        if (isInexactToken) {
          if (!allowSpread) {
            this.raise(this.state.lastTokStart, FlowErrors.InexactInsideNonObject);
          } else if (!allowInexact) {
            this.raise(this.state.lastTokStart, FlowErrors.InexactInsideExact);
          }

          if (variance) {
            this.raise(variance.start, FlowErrors.InexactVariance);
          }

          return null;
        }

        if (!allowSpread) {
          this.raise(this.state.lastTokStart, FlowErrors.UnexpectedSpreadType);
        }

        if (protoStart != null) {
          this.unexpected(protoStart);
        }

        if (variance) {
          this.raise(variance.start, FlowErrors.SpreadVariance);
        }

        node.argument = this.flowParseType();
        return this.finishNode(node, "ObjectTypeSpreadProperty");
      } else {
        node.key = this.flowParseObjectPropertyKey();
        node.static = isStatic;
        node.proto = protoStart != null;
        node.kind = kind;
        let optional = false;

        if (this.isRelational("<") || this.match(types.parenL)) {
          node.method = true;

          if (protoStart != null) {
            this.unexpected(protoStart);
          }

          if (variance) {
            this.unexpected(variance.start);
          }

          node.value = this.flowParseObjectTypeMethodish(this.startNodeAt(node.start, node.loc.start));

          if (kind === "get" || kind === "set") {
            this.flowCheckGetterSetterParams(node);
          }
        } else {
          if (kind !== "init") this.unexpected();
          node.method = false;

          if (this.eat(types.question)) {
            optional = true;
          }

          node.value = this.flowParseTypeInitialiser();
          node.variance = variance;
        }

        node.optional = optional;
        return this.finishNode(node, "ObjectTypeProperty");
      }
    }

    flowCheckGetterSetterParams(property) {
      const paramCount = property.kind === "get" ? 0 : 1;
      const start = property.start;
      const length = property.value.params.length + (property.value.rest ? 1 : 0);

      if (length !== paramCount) {
        if (property.kind === "get") {
          this.raise(start, ErrorMessages.BadGetterArity);
        } else {
          this.raise(start, ErrorMessages.BadSetterArity);
        }
      }

      if (property.kind === "set" && property.value.rest) {
        this.raise(start, ErrorMessages.BadSetterRestParameter);
      }
    }

    flowObjectTypeSemicolon() {
      if (!this.eat(types.semi) && !this.eat(types.comma) && !this.match(types.braceR) && !this.match(types.braceBarR)) {
        this.unexpected();
      }
    }

    flowParseQualifiedTypeIdentifier(startPos, startLoc, id) {
      startPos = startPos || this.state.start;
      startLoc = startLoc || this.state.startLoc;
      let node = id || this.flowParseRestrictedIdentifier(true);

      while (this.eat(types.dot)) {
        const node2 = this.startNodeAt(startPos, startLoc);
        node2.qualification = node;
        node2.id = this.flowParseRestrictedIdentifier(true);
        node = this.finishNode(node2, "QualifiedTypeIdentifier");
      }

      return node;
    }

    flowParseGenericType(startPos, startLoc, id) {
      const node = this.startNodeAt(startPos, startLoc);
      node.typeParameters = null;
      node.id = this.flowParseQualifiedTypeIdentifier(startPos, startLoc, id);

      if (this.isRelational("<")) {
        node.typeParameters = this.flowParseTypeParameterInstantiation();
      }

      return this.finishNode(node, "GenericTypeAnnotation");
    }

    flowParseTypeofType() {
      const node = this.startNode();
      this.expect(types._typeof);
      node.argument = this.flowParsePrimaryType();
      return this.finishNode(node, "TypeofTypeAnnotation");
    }

    flowParseTupleType() {
      const node = this.startNode();
      node.types = [];
      this.expect(types.bracketL);

      while (this.state.pos < this.length && !this.match(types.bracketR)) {
        node.types.push(this.flowParseType());
        if (this.match(types.bracketR)) break;
        this.expect(types.comma);
      }

      this.expect(types.bracketR);
      return this.finishNode(node, "TupleTypeAnnotation");
    }

    flowParseFunctionTypeParam() {
      let name = null;
      let optional = false;
      let typeAnnotation = null;
      const node = this.startNode();
      const lh = this.lookahead();

      if (lh.type === types.colon || lh.type === types.question) {
        name = this.parseIdentifier();

        if (this.eat(types.question)) {
          optional = true;
        }

        typeAnnotation = this.flowParseTypeInitialiser();
      } else {
        typeAnnotation = this.flowParseType();
      }

      node.name = name;
      node.optional = optional;
      node.typeAnnotation = typeAnnotation;
      return this.finishNode(node, "FunctionTypeParam");
    }

    reinterpretTypeAsFunctionTypeParam(type) {
      const node = this.startNodeAt(type.start, type.loc.start);
      node.name = null;
      node.optional = false;
      node.typeAnnotation = type;
      return this.finishNode(node, "FunctionTypeParam");
    }

    flowParseFunctionTypeParams(params = []) {
      let rest = null;

      while (!this.match(types.parenR) && !this.match(types.ellipsis)) {
        params.push(this.flowParseFunctionTypeParam());

        if (!this.match(types.parenR)) {
          this.expect(types.comma);
        }
      }

      if (this.eat(types.ellipsis)) {
        rest = this.flowParseFunctionTypeParam();
      }

      return {
        params,
        rest
      };
    }

    flowIdentToTypeAnnotation(startPos, startLoc, node, id) {
      switch (id.name) {
        case "any":
          return this.finishNode(node, "AnyTypeAnnotation");

        case "bool":
        case "boolean":
          return this.finishNode(node, "BooleanTypeAnnotation");

        case "mixed":
          return this.finishNode(node, "MixedTypeAnnotation");

        case "empty":
          return this.finishNode(node, "EmptyTypeAnnotation");

        case "number":
          return this.finishNode(node, "NumberTypeAnnotation");

        case "string":
          return this.finishNode(node, "StringTypeAnnotation");

        case "symbol":
          return this.finishNode(node, "SymbolTypeAnnotation");

        default:
          this.checkNotUnderscore(id.name);
          return this.flowParseGenericType(startPos, startLoc, id);
      }
    }

    flowParsePrimaryType() {
      const startPos = this.state.start;
      const startLoc = this.state.startLoc;
      const node = this.startNode();
      let tmp;
      let type;
      let isGroupedType = false;
      const oldNoAnonFunctionType = this.state.noAnonFunctionType;

      switch (this.state.type) {
        case types.name:
          if (this.isContextual("interface")) {
            return this.flowParseInterfaceType();
          }

          return this.flowIdentToTypeAnnotation(startPos, startLoc, node, this.parseIdentifier());

        case types.braceL:
          return this.flowParseObjectType({
            allowStatic: false,
            allowExact: false,
            allowSpread: true,
            allowProto: false,
            allowInexact: true
          });

        case types.braceBarL:
          return this.flowParseObjectType({
            allowStatic: false,
            allowExact: true,
            allowSpread: true,
            allowProto: false,
            allowInexact: false
          });

        case types.bracketL:
          this.state.noAnonFunctionType = false;
          type = this.flowParseTupleType();
          this.state.noAnonFunctionType = oldNoAnonFunctionType;
          return type;

        case types.relational:
          if (this.state.value === "<") {
            node.typeParameters = this.flowParseTypeParameterDeclaration();
            this.expect(types.parenL);
            tmp = this.flowParseFunctionTypeParams();
            node.params = tmp.params;
            node.rest = tmp.rest;
            this.expect(types.parenR);
            this.expect(types.arrow);
            node.returnType = this.flowParseType();
            return this.finishNode(node, "FunctionTypeAnnotation");
          }

          break;

        case types.parenL:
          this.next();

          if (!this.match(types.parenR) && !this.match(types.ellipsis)) {
            if (this.match(types.name)) {
              const token = this.lookahead().type;
              isGroupedType = token !== types.question && token !== types.colon;
            } else {
              isGroupedType = true;
            }
          }

          if (isGroupedType) {
            this.state.noAnonFunctionType = false;
            type = this.flowParseType();
            this.state.noAnonFunctionType = oldNoAnonFunctionType;

            if (this.state.noAnonFunctionType || !(this.match(types.comma) || this.match(types.parenR) && this.lookahead().type === types.arrow)) {
              this.expect(types.parenR);
              return type;
            } else {
              this.eat(types.comma);
            }
          }

          if (type) {
            tmp = this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(type)]);
          } else {
            tmp = this.flowParseFunctionTypeParams();
          }

          node.params = tmp.params;
          node.rest = tmp.rest;
          this.expect(types.parenR);
          this.expect(types.arrow);
          node.returnType = this.flowParseType();
          node.typeParameters = null;
          return this.finishNode(node, "FunctionTypeAnnotation");

        case types.string:
          return this.parseLiteral(this.state.value, "StringLiteralTypeAnnotation");

        case types._true:
        case types._false:
          node.value = this.match(types._true);
          this.next();
          return this.finishNode(node, "BooleanLiteralTypeAnnotation");

        case types.plusMin:
          if (this.state.value === "-") {
            this.next();

            if (this.match(types.num)) {
              return this.parseLiteral(-this.state.value, "NumberLiteralTypeAnnotation", node.start, node.loc.start);
            }

            if (this.match(types.bigint)) {
              return this.parseLiteral(-this.state.value, "BigIntLiteralTypeAnnotation", node.start, node.loc.start);
            }

            throw this.raise(this.state.start, FlowErrors.UnexpectedSubtractionOperand);
          }

          throw this.unexpected();

        case types.num:
          return this.parseLiteral(this.state.value, "NumberLiteralTypeAnnotation");

        case types.bigint:
          return this.parseLiteral(this.state.value, "BigIntLiteralTypeAnnotation");

        case types._void:
          this.next();
          return this.finishNode(node, "VoidTypeAnnotation");

        case types._null:
          this.next();
          return this.finishNode(node, "NullLiteralTypeAnnotation");

        case types._this:
          this.next();
          return this.finishNode(node, "ThisTypeAnnotation");

        case types.star:
          this.next();
          return this.finishNode(node, "ExistsTypeAnnotation");

        default:
          if (this.state.type.keyword === "typeof") {
            return this.flowParseTypeofType();
          } else if (this.state.type.keyword) {
            const label = this.state.type.label;
            this.next();
            return super.createIdentifier(node, label);
          }

      }

      throw this.unexpected();
    }

    flowParsePostfixType() {
      const startPos = this.state.start,
            startLoc = this.state.startLoc;
      let type = this.flowParsePrimaryType();

      while (this.match(types.bracketL) && !this.canInsertSemicolon()) {
        const node = this.startNodeAt(startPos, startLoc);
        node.elementType = type;
        this.expect(types.bracketL);
        this.expect(types.bracketR);
        type = this.finishNode(node, "ArrayTypeAnnotation");
      }

      return type;
    }

    flowParsePrefixType() {
      const node = this.startNode();

      if (this.eat(types.question)) {
        node.typeAnnotation = this.flowParsePrefixType();
        return this.finishNode(node, "NullableTypeAnnotation");
      } else {
        return this.flowParsePostfixType();
      }
    }

    flowParseAnonFunctionWithoutParens() {
      const param = this.flowParsePrefixType();

      if (!this.state.noAnonFunctionType && this.eat(types.arrow)) {
        const node = this.startNodeAt(param.start, param.loc.start);
        node.params = [this.reinterpretTypeAsFunctionTypeParam(param)];
        node.rest = null;
        node.returnType = this.flowParseType();
        node.typeParameters = null;
        return this.finishNode(node, "FunctionTypeAnnotation");
      }

      return param;
    }

    flowParseIntersectionType() {
      const node = this.startNode();
      this.eat(types.bitwiseAND);
      const type = this.flowParseAnonFunctionWithoutParens();
      node.types = [type];

      while (this.eat(types.bitwiseAND)) {
        node.types.push(this.flowParseAnonFunctionWithoutParens());
      }

      return node.types.length === 1 ? type : this.finishNode(node, "IntersectionTypeAnnotation");
    }

    flowParseUnionType() {
      const node = this.startNode();
      this.eat(types.bitwiseOR);
      const type = this.flowParseIntersectionType();
      node.types = [type];

      while (this.eat(types.bitwiseOR)) {
        node.types.push(this.flowParseIntersectionType());
      }

      return node.types.length === 1 ? type : this.finishNode(node, "UnionTypeAnnotation");
    }

    flowParseType() {
      const oldInType = this.state.inType;
      this.state.inType = true;
      const type = this.flowParseUnionType();
      this.state.inType = oldInType;
      this.state.exprAllowed = this.state.exprAllowed || this.state.noAnonFunctionType;
      return type;
    }

    flowParseTypeOrImplicitInstantiation() {
      if (this.state.type === types.name && this.state.value === "_") {
        const startPos = this.state.start;
        const startLoc = this.state.startLoc;
        const node = this.parseIdentifier();
        return this.flowParseGenericType(startPos, startLoc, node);
      } else {
        return this.flowParseType();
      }
    }

    flowParseTypeAnnotation() {
      const node = this.startNode();
      node.typeAnnotation = this.flowParseTypeInitialiser();
      return this.finishNode(node, "TypeAnnotation");
    }

    flowParseTypeAnnotatableIdentifier(allowPrimitiveOverride) {
      const ident = allowPrimitiveOverride ? this.parseIdentifier() : this.flowParseRestrictedIdentifier();

      if (this.match(types.colon)) {
        ident.typeAnnotation = this.flowParseTypeAnnotation();
        this.resetEndLocation(ident);
      }

      return ident;
    }

    typeCastToParameter(node) {
      node.expression.typeAnnotation = node.typeAnnotation;
      this.resetEndLocation(node.expression, node.typeAnnotation.end, node.typeAnnotation.loc.end);
      return node.expression;
    }

    flowParseVariance() {
      let variance = null;

      if (this.match(types.plusMin)) {
        variance = this.startNode();

        if (this.state.value === "+") {
          variance.kind = "plus";
        } else {
          variance.kind = "minus";
        }

        this.next();
        this.finishNode(variance, "Variance");
      }

      return variance;
    }

    parseFunctionBody(node, allowExpressionBody, isMethod = false) {
      if (allowExpressionBody) {
        return this.forwardNoArrowParamsConversionAt(node, () => super.parseFunctionBody(node, true, isMethod));
      }

      return super.parseFunctionBody(node, false, isMethod);
    }

    parseFunctionBodyAndFinish(node, type, isMethod = false) {
      if (this.match(types.colon)) {
        const typeNode = this.startNode();
        [typeNode.typeAnnotation, node.predicate] = this.flowParseTypeAndPredicateInitialiser();
        node.returnType = typeNode.typeAnnotation ? this.finishNode(typeNode, "TypeAnnotation") : null;
      }

      super.parseFunctionBodyAndFinish(node, type, isMethod);
    }

    parseStatement(context, topLevel) {
      if (this.state.strict && this.match(types.name) && this.state.value === "interface") {
        const lookahead = this.lookahead();

        if (lookahead.type === types.name || isKeyword(lookahead.value)) {
          const node = this.startNode();
          this.next();
          return this.flowParseInterface(node);
        }
      } else if (this.shouldParseEnums() && this.isContextual("enum")) {
        const node = this.startNode();
        this.next();
        return this.flowParseEnumDeclaration(node);
      }

      const stmt = super.parseStatement(context, topLevel);

      if (this.flowPragma === undefined && !this.isValidDirective(stmt)) {
        this.flowPragma = null;
      }

      return stmt;
    }

    parseExpressionStatement(node, expr) {
      if (expr.type === "Identifier") {
        if (expr.name === "declare") {
          if (this.match(types._class) || this.match(types.name) || this.match(types._function) || this.match(types._var) || this.match(types._export)) {
            return this.flowParseDeclare(node);
          }
        } else if (this.match(types.name)) {
          if (expr.name === "interface") {
            return this.flowParseInterface(node);
          } else if (expr.name === "type") {
            return this.flowParseTypeAlias(node);
          } else if (expr.name === "opaque") {
            return this.flowParseOpaqueType(node, false);
          }
        }
      }

      return super.parseExpressionStatement(node, expr);
    }

    shouldParseExportDeclaration() {
      return this.isContextual("type") || this.isContextual("interface") || this.isContextual("opaque") || this.shouldParseEnums() && this.isContextual("enum") || super.shouldParseExportDeclaration();
    }

    isExportDefaultSpecifier() {
      if (this.match(types.name) && (this.state.value === "type" || this.state.value === "interface" || this.state.value === "opaque" || this.shouldParseEnums() && this.state.value === "enum")) {
        return false;
      }

      return super.isExportDefaultSpecifier();
    }

    parseExportDefaultExpression() {
      if (this.shouldParseEnums() && this.isContextual("enum")) {
        const node = this.startNode();
        this.next();
        return this.flowParseEnumDeclaration(node);
      }

      return super.parseExportDefaultExpression();
    }

    parseConditional(expr, startPos, startLoc, refNeedsArrowPos) {
      if (!this.match(types.question)) return expr;

      if (refNeedsArrowPos) {
        const result = this.tryParse(() => super.parseConditional(expr, startPos, startLoc));

        if (!result.node) {
          refNeedsArrowPos.start = result.error.pos || this.state.start;
          return expr;
        }

        if (result.error) this.state = result.failState;
        return result.node;
      }

      this.expect(types.question);
      const state = this.state.clone();
      const originalNoArrowAt = this.state.noArrowAt;
      const node = this.startNodeAt(startPos, startLoc);
      let {
        consequent,
        failed
      } = this.tryParseConditionalConsequent();
      let [valid, invalid] = this.getArrowLikeExpressions(consequent);

      if (failed || invalid.length > 0) {
        const noArrowAt = [...originalNoArrowAt];

        if (invalid.length > 0) {
          this.state = state;
          this.state.noArrowAt = noArrowAt;

          for (let i = 0; i < invalid.length; i++) {
            noArrowAt.push(invalid[i].start);
          }

          ({
            consequent,
            failed
          } = this.tryParseConditionalConsequent());
          [valid, invalid] = this.getArrowLikeExpressions(consequent);
        }

        if (failed && valid.length > 1) {
          this.raise(state.start, FlowErrors.AmbiguousConditionalArrow);
        }

        if (failed && valid.length === 1) {
          this.state = state;
          this.state.noArrowAt = noArrowAt.concat(valid[0].start);
          ({
            consequent,
            failed
          } = this.tryParseConditionalConsequent());
        }
      }

      this.getArrowLikeExpressions(consequent, true);
      this.state.noArrowAt = originalNoArrowAt;
      this.expect(types.colon);
      node.test = expr;
      node.consequent = consequent;
      node.alternate = this.forwardNoArrowParamsConversionAt(node, () => this.parseMaybeAssign(undefined, undefined, undefined));
      return this.finishNode(node, "ConditionalExpression");
    }

    tryParseConditionalConsequent() {
      this.state.noArrowParamsConversionAt.push(this.state.start);
      const consequent = this.parseMaybeAssignAllowIn();
      const failed = !this.match(types.colon);
      this.state.noArrowParamsConversionAt.pop();
      return {
        consequent,
        failed
      };
    }

    getArrowLikeExpressions(node, disallowInvalid) {
      const stack = [node];
      const arrows = [];

      while (stack.length !== 0) {
        const node = stack.pop();

        if (node.type === "ArrowFunctionExpression") {
          if (node.typeParameters || !node.returnType) {
            this.finishArrowValidation(node);
          } else {
            arrows.push(node);
          }

          stack.push(node.body);
        } else if (node.type === "ConditionalExpression") {
          stack.push(node.consequent);
          stack.push(node.alternate);
        }
      }

      if (disallowInvalid) {
        arrows.forEach(node => this.finishArrowValidation(node));
        return [arrows, []];
      }

      return partition(arrows, node => node.params.every(param => this.isAssignable(param, true)));
    }

    finishArrowValidation(node) {
      var _node$extra;

      this.toAssignableList(node.params, (_node$extra = node.extra) == null ? void 0 : _node$extra.trailingComma, false);
      this.scope.enter(SCOPE_FUNCTION | SCOPE_ARROW);
      super.checkParams(node, false, true);
      this.scope.exit();
    }

    forwardNoArrowParamsConversionAt(node, parse) {
      let result;

      if (this.state.noArrowParamsConversionAt.indexOf(node.start) !== -1) {
        this.state.noArrowParamsConversionAt.push(this.state.start);
        result = parse();
        this.state.noArrowParamsConversionAt.pop();
      } else {
        result = parse();
      }

      return result;
    }

    parseParenItem(node, startPos, startLoc) {
      node = super.parseParenItem(node, startPos, startLoc);

      if (this.eat(types.question)) {
        node.optional = true;
        this.resetEndLocation(node);
      }

      if (this.match(types.colon)) {
        const typeCastNode = this.startNodeAt(startPos, startLoc);
        typeCastNode.expression = node;
        typeCastNode.typeAnnotation = this.flowParseTypeAnnotation();
        return this.finishNode(typeCastNode, "TypeCastExpression");
      }

      return node;
    }

    assertModuleNodeAllowed(node) {
      if (node.type === "ImportDeclaration" && (node.importKind === "type" || node.importKind === "typeof") || node.type === "ExportNamedDeclaration" && node.exportKind === "type" || node.type === "ExportAllDeclaration" && node.exportKind === "type") {
        return;
      }

      super.assertModuleNodeAllowed(node);
    }

    parseExport(node) {
      const decl = super.parseExport(node);

      if (decl.type === "ExportNamedDeclaration" || decl.type === "ExportAllDeclaration") {
        decl.exportKind = decl.exportKind || "value";
      }

      return decl;
    }

    parseExportDeclaration(node) {
      if (this.isContextual("type")) {
        node.exportKind = "type";
        const declarationNode = this.startNode();
        this.next();

        if (this.match(types.braceL)) {
          node.specifiers = this.parseExportSpecifiers();
          this.parseExportFrom(node);
          return null;
        } else {
          return this.flowParseTypeAlias(declarationNode);
        }
      } else if (this.isContextual("opaque")) {
        node.exportKind = "type";
        const declarationNode = this.startNode();
        this.next();
        return this.flowParseOpaqueType(declarationNode, false);
      } else if (this.isContextual("interface")) {
        node.exportKind = "type";
        const declarationNode = this.startNode();
        this.next();
        return this.flowParseInterface(declarationNode);
      } else if (this.shouldParseEnums() && this.isContextual("enum")) {
        node.exportKind = "value";
        const declarationNode = this.startNode();
        this.next();
        return this.flowParseEnumDeclaration(declarationNode);
      } else {
        return super.parseExportDeclaration(node);
      }
    }

    eatExportStar(node) {
      if (super.eatExportStar(...arguments)) return true;

      if (this.isContextual("type") && this.lookahead().type === types.star) {
        node.exportKind = "type";
        this.next();
        this.next();
        return true;
      }

      return false;
    }

    maybeParseExportNamespaceSpecifier(node) {
      const pos = this.state.start;
      const hasNamespace = super.maybeParseExportNamespaceSpecifier(node);

      if (hasNamespace && node.exportKind === "type") {
        this.unexpected(pos);
      }

      return hasNamespace;
    }

    parseClassId(node, isStatement, optionalId) {
      super.parseClassId(node, isStatement, optionalId);

      if (this.isRelational("<")) {
        node.typeParameters = this.flowParseTypeParameterDeclaration();
      }
    }

    parseClassMember(classBody, member, state) {
      const pos = this.state.start;

      if (this.isContextual("declare")) {
        if (this.parseClassMemberFromModifier(classBody, member)) {
          return;
        }

        member.declare = true;
      }

      super.parseClassMember(classBody, member, state);

      if (member.declare) {
        if (member.type !== "ClassProperty" && member.type !== "ClassPrivateProperty") {
          this.raise(pos, FlowErrors.DeclareClassElement);
        } else if (member.value) {
          this.raise(member.value.start, FlowErrors.DeclareClassFieldInitializer);
        }
      }
    }

    getTokenFromCode(code) {
      const next = this.input.charCodeAt(this.state.pos + 1);

      if (code === 123 && next === 124) {
        return this.finishOp(types.braceBarL, 2);
      } else if (this.state.inType && (code === 62 || code === 60)) {
        return this.finishOp(types.relational, 1);
      } else if (this.state.inType && code === 63) {
        return this.finishOp(types.question, 1);
      } else if (isIteratorStart(code, next)) {
        this.state.isIterator = true;
        return super.readWord();
      } else {
        return super.getTokenFromCode(code);
      }
    }

    isAssignable(node, isBinding) {
      switch (node.type) {
        case "Identifier":
        case "ObjectPattern":
        case "ArrayPattern":
        case "AssignmentPattern":
          return true;

        case "ObjectExpression":
          {
            const last = node.properties.length - 1;
            return node.properties.every((prop, i) => {
              return prop.type !== "ObjectMethod" && (i === last || prop.type === "SpreadElement") && this.isAssignable(prop);
            });
          }

        case "ObjectProperty":
          return this.isAssignable(node.value);

        case "SpreadElement":
          return this.isAssignable(node.argument);

        case "ArrayExpression":
          return node.elements.every(element => this.isAssignable(element));

        case "AssignmentExpression":
          return node.operator === "=";

        case "ParenthesizedExpression":
        case "TypeCastExpression":
          return this.isAssignable(node.expression);

        case "MemberExpression":
        case "OptionalMemberExpression":
          return !isBinding;

        default:
          return false;
      }
    }

    toAssignable(node, isLHS = false) {
      if (node.type === "TypeCastExpression") {
        return super.toAssignable(this.typeCastToParameter(node), isLHS);
      } else {
        return super.toAssignable(node, isLHS);
      }
    }

    toAssignableList(exprList, trailingCommaPos, isLHS) {
      for (let i = 0; i < exprList.length; i++) {
        const expr = exprList[i];

        if ((expr == null ? void 0 : expr.type) === "TypeCastExpression") {
          exprList[i] = this.typeCastToParameter(expr);
        }
      }

      return super.toAssignableList(exprList, trailingCommaPos, isLHS);
    }

    toReferencedList(exprList, isParenthesizedExpr) {
      for (let i = 0; i < exprList.length; i++) {
        var _expr$extra;

        const expr = exprList[i];

        if (expr && expr.type === "TypeCastExpression" && !((_expr$extra = expr.extra) == null ? void 0 : _expr$extra.parenthesized) && (exprList.length > 1 || !isParenthesizedExpr)) {
          this.raise(expr.typeAnnotation.start, FlowErrors.TypeCastInPattern);
        }
      }

      return exprList;
    }

    parseArrayLike(close, canBePattern, isTuple, refExpressionErrors) {
      const node = super.parseArrayLike(close, canBePattern, isTuple, refExpressionErrors);

      if (canBePattern && !this.state.maybeInArrowParameters) {
        this.toReferencedList(node.elements);
      }

      return node;
    }

    checkLVal(expr, ...args) {
      if (expr.type !== "TypeCastExpression") {
        return super.checkLVal(expr, ...args);
      }
    }

    parseClassProperty(node) {
      if (this.match(types.colon)) {
        node.typeAnnotation = this.flowParseTypeAnnotation();
      }

      return super.parseClassProperty(node);
    }

    parseClassPrivateProperty(node) {
      if (this.match(types.colon)) {
        node.typeAnnotation = this.flowParseTypeAnnotation();
      }

      return super.parseClassPrivateProperty(node);
    }

    isClassMethod() {
      return this.isRelational("<") || super.isClassMethod();
    }

    isClassProperty() {
      return this.match(types.colon) || super.isClassProperty();
    }

    isNonstaticConstructor(method) {
      return !this.match(types.colon) && super.isNonstaticConstructor(method);
    }

    pushClassMethod(classBody, method, isGenerator, isAsync, isConstructor, allowsDirectSuper) {
      if (method.variance) {
        this.unexpected(method.variance.start);
      }

      delete method.variance;

      if (this.isRelational("<")) {
        method.typeParameters = this.flowParseTypeParameterDeclaration();
      }

      super.pushClassMethod(classBody, method, isGenerator, isAsync, isConstructor, allowsDirectSuper);
    }

    pushClassPrivateMethod(classBody, method, isGenerator, isAsync) {
      if (method.variance) {
        this.unexpected(method.variance.start);
      }

      delete method.variance;

      if (this.isRelational("<")) {
        method.typeParameters = this.flowParseTypeParameterDeclaration();
      }

      super.pushClassPrivateMethod(classBody, method, isGenerator, isAsync);
    }

    parseClassSuper(node) {
      super.parseClassSuper(node);

      if (node.superClass && this.isRelational("<")) {
        node.superTypeParameters = this.flowParseTypeParameterInstantiation();
      }

      if (this.isContextual("implements")) {
        this.next();
        const implemented = node.implements = [];

        do {
          const node = this.startNode();
          node.id = this.flowParseRestrictedIdentifier(true);

          if (this.isRelational("<")) {
            node.typeParameters = this.flowParseTypeParameterInstantiation();
          } else {
            node.typeParameters = null;
          }

          implemented.push(this.finishNode(node, "ClassImplements"));
        } while (this.eat(types.comma));
      }
    }

    parsePropertyName(node, isPrivateNameAllowed) {
      const variance = this.flowParseVariance();
      const key = super.parsePropertyName(node, isPrivateNameAllowed);
      node.variance = variance;
      return key;
    }

    parseObjPropValue(prop, startPos, startLoc, isGenerator, isAsync, isPattern, isAccessor, refExpressionErrors) {
      if (prop.variance) {
        this.unexpected(prop.variance.start);
      }

      delete prop.variance;
      let typeParameters;

      if (this.isRelational("<") && !isAccessor) {
        typeParameters = this.flowParseTypeParameterDeclaration();
        if (!this.match(types.parenL)) this.unexpected();
      }

      super.parseObjPropValue(prop, startPos, startLoc, isGenerator, isAsync, isPattern, isAccessor, refExpressionErrors);

      if (typeParameters) {
        (prop.value || prop).typeParameters = typeParameters;
      }
    }

    parseAssignableListItemTypes(param) {
      if (this.eat(types.question)) {
        if (param.type !== "Identifier") {
          this.raise(param.start, FlowErrors.OptionalBindingPattern);
        }

        param.optional = true;
      }

      if (this.match(types.colon)) {
        param.typeAnnotation = this.flowParseTypeAnnotation();
      }

      this.resetEndLocation(param);
      return param;
    }

    parseMaybeDefault(startPos, startLoc, left) {
      const node = super.parseMaybeDefault(startPos, startLoc, left);

      if (node.type === "AssignmentPattern" && node.typeAnnotation && node.right.start < node.typeAnnotation.start) {
        this.raise(node.typeAnnotation.start, FlowErrors.TypeBeforeInitializer);
      }

      return node;
    }

    shouldParseDefaultImport(node) {
      if (!hasTypeImportKind(node)) {
        return super.shouldParseDefaultImport(node);
      }

      return isMaybeDefaultImport(this.state);
    }

    parseImportSpecifierLocal(node, specifier, type, contextDescription) {
      specifier.local = hasTypeImportKind(node) ? this.flowParseRestrictedIdentifier(true, true) : this.parseIdentifier();
      this.checkLVal(specifier.local, contextDescription, BIND_LEXICAL);
      node.specifiers.push(this.finishNode(specifier, type));
    }

    maybeParseDefaultImportSpecifier(node) {
      node.importKind = "value";
      let kind = null;

      if (this.match(types._typeof)) {
        kind = "typeof";
      } else if (this.isContextual("type")) {
        kind = "type";
      }

      if (kind) {
        const lh = this.lookahead();

        if (kind === "type" && lh.type === types.star) {
          this.unexpected(lh.start);
        }

        if (isMaybeDefaultImport(lh) || lh.type === types.braceL || lh.type === types.star) {
          this.next();
          node.importKind = kind;
        }
      }

      return super.maybeParseDefaultImportSpecifier(node);
    }

    parseImportSpecifier(node) {
      const specifier = this.startNode();
      const firstIdentLoc = this.state.start;
      const firstIdent = this.parseModuleExportName();
      let specifierTypeKind = null;

      if (firstIdent.type === "Identifier") {
        if (firstIdent.name === "type") {
          specifierTypeKind = "type";
        } else if (firstIdent.name === "typeof") {
          specifierTypeKind = "typeof";
        }
      }

      let isBinding = false;

      if (this.isContextual("as") && !this.isLookaheadContextual("as")) {
        const as_ident = this.parseIdentifier(true);

        if (specifierTypeKind !== null && !this.match(types.name) && !this.state.type.keyword) {
          specifier.imported = as_ident;
          specifier.importKind = specifierTypeKind;
          specifier.local = as_ident.__clone();
        } else {
          specifier.imported = firstIdent;
          specifier.importKind = null;
          specifier.local = this.parseIdentifier();
        }
      } else if (specifierTypeKind !== null && (this.match(types.name) || this.state.type.keyword)) {
        specifier.imported = this.parseIdentifier(true);
        specifier.importKind = specifierTypeKind;

        if (this.eatContextual("as")) {
          specifier.local = this.parseIdentifier();
        } else {
          isBinding = true;
          specifier.local = specifier.imported.__clone();
        }
      } else {
        if (firstIdent.type === "StringLiteral") {
          throw this.raise(specifier.start, ErrorMessages.ImportBindingIsString, firstIdent.value);
        }

        isBinding = true;
        specifier.imported = firstIdent;
        specifier.importKind = null;
        specifier.local = specifier.imported.__clone();
      }

      const nodeIsTypeImport = hasTypeImportKind(node);
      const specifierIsTypeImport = hasTypeImportKind(specifier);

      if (nodeIsTypeImport && specifierIsTypeImport) {
        this.raise(firstIdentLoc, FlowErrors.ImportTypeShorthandOnlyInPureImport);
      }

      if (nodeIsTypeImport || specifierIsTypeImport) {
        this.checkReservedType(specifier.local.name, specifier.local.start, true);
      }

      if (isBinding && !nodeIsTypeImport && !specifierIsTypeImport) {
        this.checkReservedWord(specifier.local.name, specifier.start, true, true);
      }

      this.checkLVal(specifier.local, "import specifier", BIND_LEXICAL);
      node.specifiers.push(this.finishNode(specifier, "ImportSpecifier"));
    }

    parseFunctionParams(node, allowModifiers) {
      const kind = node.kind;

      if (kind !== "get" && kind !== "set" && this.isRelational("<")) {
        node.typeParameters = this.flowParseTypeParameterDeclaration();
      }

      super.parseFunctionParams(node, allowModifiers);
    }

    parseVarId(decl, kind) {
      super.parseVarId(decl, kind);

      if (this.match(types.colon)) {
        decl.id.typeAnnotation = this.flowParseTypeAnnotation();
        this.resetEndLocation(decl.id);
      }
    }

    parseAsyncArrowFromCallExpression(node, call) {
      if (this.match(types.colon)) {
        const oldNoAnonFunctionType = this.state.noAnonFunctionType;
        this.state.noAnonFunctionType = true;
        node.returnType = this.flowParseTypeAnnotation();
        this.state.noAnonFunctionType = oldNoAnonFunctionType;
      }

      return super.parseAsyncArrowFromCallExpression(node, call);
    }

    shouldParseAsyncArrow() {
      return this.match(types.colon) || super.shouldParseAsyncArrow();
    }

    parseMaybeAssign(refExpressionErrors, afterLeftParse, refNeedsArrowPos) {
      var _jsx;

      let state = null;
      let jsx;

      if (this.hasPlugin("jsx") && (this.match(types.jsxTagStart) || this.isRelational("<"))) {
        state = this.state.clone();
        jsx = this.tryParse(() => super.parseMaybeAssign(refExpressionErrors, afterLeftParse, refNeedsArrowPos), state);
        if (!jsx.error) return jsx.node;
        const {
          context
        } = this.state;

        if (context[context.length - 1] === types$1.j_oTag) {
          context.length -= 2;
        } else if (context[context.length - 1] === types$1.j_expr) {
          context.length -= 1;
        }
      }

      if (((_jsx = jsx) == null ? void 0 : _jsx.error) || this.isRelational("<")) {
        var _jsx2, _jsx3;

        state = state || this.state.clone();
        let typeParameters;
        const arrow = this.tryParse(abort => {
          var _arrowExpression$extr;

          typeParameters = this.flowParseTypeParameterDeclaration();
          const arrowExpression = this.forwardNoArrowParamsConversionAt(typeParameters, () => {
            const result = super.parseMaybeAssign(refExpressionErrors, afterLeftParse, refNeedsArrowPos);
            this.resetStartLocationFromNode(result, typeParameters);
            return result;
          });

          if (arrowExpression.type !== "ArrowFunctionExpression" && ((_arrowExpression$extr = arrowExpression.extra) == null ? void 0 : _arrowExpression$extr.parenthesized)) {
            abort();
          }

          const expr = this.maybeUnwrapTypeCastExpression(arrowExpression);
          expr.typeParameters = typeParameters;
          this.resetStartLocationFromNode(expr, typeParameters);
          return arrowExpression;
        }, state);
        let arrowExpression = null;

        if (arrow.node && this.maybeUnwrapTypeCastExpression(arrow.node).type === "ArrowFunctionExpression") {
          if (!arrow.error && !arrow.aborted) {
            if (arrow.node.async) {
              this.raise(typeParameters.start, FlowErrors.UnexpectedTypeParameterBeforeAsyncArrowFunction);
            }

            return arrow.node;
          }

          arrowExpression = arrow.node;
        }

        if ((_jsx2 = jsx) == null ? void 0 : _jsx2.node) {
          this.state = jsx.failState;
          return jsx.node;
        }

        if (arrowExpression) {
          this.state = arrow.failState;
          return arrowExpression;
        }

        if ((_jsx3 = jsx) == null ? void 0 : _jsx3.thrown) throw jsx.error;
        if (arrow.thrown) throw arrow.error;
        throw this.raise(typeParameters.start, FlowErrors.UnexpectedTokenAfterTypeParameter);
      }

      return super.parseMaybeAssign(refExpressionErrors, afterLeftParse, refNeedsArrowPos);
    }

    parseArrow(node) {
      if (this.match(types.colon)) {
        const result = this.tryParse(() => {
          const oldNoAnonFunctionType = this.state.noAnonFunctionType;
          this.state.noAnonFunctionType = true;
          const typeNode = this.startNode();
          [typeNode.typeAnnotation, node.predicate] = this.flowParseTypeAndPredicateInitialiser();
          this.state.noAnonFunctionType = oldNoAnonFunctionType;
          if (this.canInsertSemicolon()) this.unexpected();
          if (!this.match(types.arrow)) this.unexpected();
          return typeNode;
        });
        if (result.thrown) return null;
        if (result.error) this.state = result.failState;
        node.returnType = result.node.typeAnnotation ? this.finishNode(result.node, "TypeAnnotation") : null;
      }

      return super.parseArrow(node);
    }

    shouldParseArrow() {
      return this.match(types.colon) || super.shouldParseArrow();
    }

    setArrowFunctionParameters(node, params) {
      if (this.state.noArrowParamsConversionAt.indexOf(node.start) !== -1) {
        node.params = params;
      } else {
        super.setArrowFunctionParameters(node, params);
      }
    }

    checkParams(node, allowDuplicates, isArrowFunction) {
      if (isArrowFunction && this.state.noArrowParamsConversionAt.indexOf(node.start) !== -1) {
        return;
      }

      return super.checkParams(...arguments);
    }

    parseParenAndDistinguishExpression(canBeArrow) {
      return super.parseParenAndDistinguishExpression(canBeArrow && this.state.noArrowAt.indexOf(this.state.start) === -1);
    }

    parseSubscripts(base, startPos, startLoc, noCalls) {
      if (base.type === "Identifier" && base.name === "async" && this.state.noArrowAt.indexOf(startPos) !== -1) {
        this.next();
        const node = this.startNodeAt(startPos, startLoc);
        node.callee = base;
        node.arguments = this.parseCallExpressionArguments(types.parenR, false);
        base = this.finishNode(node, "CallExpression");
      } else if (base.type === "Identifier" && base.name === "async" && this.isRelational("<")) {
        const state = this.state.clone();
        const arrow = this.tryParse(abort => this.parseAsyncArrowWithTypeParameters(startPos, startLoc) || abort(), state);
        if (!arrow.error && !arrow.aborted) return arrow.node;
        const result = this.tryParse(() => super.parseSubscripts(base, startPos, startLoc, noCalls), state);
        if (result.node && !result.error) return result.node;

        if (arrow.node) {
          this.state = arrow.failState;
          return arrow.node;
        }

        if (result.node) {
          this.state = result.failState;
          return result.node;
        }

        throw arrow.error || result.error;
      }

      return super.parseSubscripts(base, startPos, startLoc, noCalls);
    }

    parseSubscript(base, startPos, startLoc, noCalls, subscriptState) {
      if (this.match(types.questionDot) && this.isLookaheadToken_lt()) {
        subscriptState.optionalChainMember = true;

        if (noCalls) {
          subscriptState.stop = true;
          return base;
        }

        this.next();
        const node = this.startNodeAt(startPos, startLoc);
        node.callee = base;
        node.typeArguments = this.flowParseTypeParameterInstantiation();
        this.expect(types.parenL);
        node.arguments = this.parseCallExpressionArguments(types.parenR, false);
        node.optional = true;
        return this.finishCallExpression(node, true);
      } else if (!noCalls && this.shouldParseTypes() && this.isRelational("<")) {
        const node = this.startNodeAt(startPos, startLoc);
        node.callee = base;
        const result = this.tryParse(() => {
          node.typeArguments = this.flowParseTypeParameterInstantiationCallOrNew();
          this.expect(types.parenL);
          node.arguments = this.parseCallExpressionArguments(types.parenR, false);
          if (subscriptState.optionalChainMember) node.optional = false;
          return this.finishCallExpression(node, subscriptState.optionalChainMember);
        });

        if (result.node) {
          if (result.error) this.state = result.failState;
          return result.node;
        }
      }

      return super.parseSubscript(base, startPos, startLoc, noCalls, subscriptState);
    }

    parseNewArguments(node) {
      let targs = null;

      if (this.shouldParseTypes() && this.isRelational("<")) {
        targs = this.tryParse(() => this.flowParseTypeParameterInstantiationCallOrNew()).node;
      }

      node.typeArguments = targs;
      super.parseNewArguments(node);
    }

    parseAsyncArrowWithTypeParameters(startPos, startLoc) {
      const node = this.startNodeAt(startPos, startLoc);
      this.parseFunctionParams(node);
      if (!this.parseArrow(node)) return;
      return this.parseArrowExpression(node, undefined, true);
    }

    readToken_mult_modulo(code) {
      const next = this.input.charCodeAt(this.state.pos + 1);

      if (code === 42 && next === 47 && this.state.hasFlowComment) {
        this.state.hasFlowComment = false;
        this.state.pos += 2;
        this.nextToken();
        return;
      }

      super.readToken_mult_modulo(code);
    }

    readToken_pipe_amp(code) {
      const next = this.input.charCodeAt(this.state.pos + 1);

      if (code === 124 && next === 125) {
        this.finishOp(types.braceBarR, 2);
        return;
      }

      super.readToken_pipe_amp(code);
    }

    parseTopLevel(file, program) {
      const fileNode = super.parseTopLevel(file, program);

      if (this.state.hasFlowComment) {
        this.raise(this.state.pos, FlowErrors.UnterminatedFlowComment);
      }

      return fileNode;
    }

    skipBlockComment() {
      if (this.hasPlugin("flowComments") && this.skipFlowComment()) {
        if (this.state.hasFlowComment) {
          this.unexpected(null, FlowErrors.NestedFlowComment);
        }

        this.hasFlowCommentCompletion();
        this.state.pos += this.skipFlowComment();
        this.state.hasFlowComment = true;
        return;
      }

      if (this.state.hasFlowComment) {
        const end = this.input.indexOf("*-/", this.state.pos += 2);

        if (end === -1) {
          throw this.raise(this.state.pos - 2, ErrorMessages.UnterminatedComment);
        }

        this.state.pos = end + 3;
        return;
      }

      super.skipBlockComment();
    }

    skipFlowComment() {
      const {
        pos
      } = this.state;
      let shiftToFirstNonWhiteSpace = 2;

      while ([32, 9].includes(this.input.charCodeAt(pos + shiftToFirstNonWhiteSpace))) {
        shiftToFirstNonWhiteSpace++;
      }

      const ch2 = this.input.charCodeAt(shiftToFirstNonWhiteSpace + pos);
      const ch3 = this.input.charCodeAt(shiftToFirstNonWhiteSpace + pos + 1);

      if (ch2 === 58 && ch3 === 58) {
        return shiftToFirstNonWhiteSpace + 2;
      }

      if (this.input.slice(shiftToFirstNonWhiteSpace + pos, shiftToFirstNonWhiteSpace + pos + 12) === "flow-include") {
        return shiftToFirstNonWhiteSpace + 12;
      }

      if (ch2 === 58 && ch3 !== 58) {
        return shiftToFirstNonWhiteSpace;
      }

      return false;
    }

    hasFlowCommentCompletion() {
      const end = this.input.indexOf("*/", this.state.pos);

      if (end === -1) {
        throw this.raise(this.state.pos, ErrorMessages.UnterminatedComment);
      }
    }

    flowEnumErrorBooleanMemberNotInitialized(pos, {
      enumName,
      memberName
    }) {
      this.raise(pos, FlowErrors.EnumBooleanMemberNotInitialized, memberName, enumName);
    }

    flowEnumErrorInvalidMemberName(pos, {
      enumName,
      memberName
    }) {
      const suggestion = memberName[0].toUpperCase() + memberName.slice(1);
      this.raise(pos, FlowErrors.EnumInvalidMemberName, memberName, suggestion, enumName);
    }

    flowEnumErrorDuplicateMemberName(pos, {
      enumName,
      memberName
    }) {
      this.raise(pos, FlowErrors.EnumDuplicateMemberName, memberName, enumName);
    }

    flowEnumErrorInconsistentMemberValues(pos, {
      enumName
    }) {
      this.raise(pos, FlowErrors.EnumInconsistentMemberValues, enumName);
    }

    flowEnumErrorInvalidExplicitType(pos, {
      enumName,
      suppliedType
    }) {
      return this.raise(pos, suppliedType === null ? FlowErrors.EnumInvalidExplicitTypeUnknownSupplied : FlowErrors.EnumInvalidExplicitType, enumName, suppliedType);
    }

    flowEnumErrorInvalidMemberInitializer(pos, {
      enumName,
      explicitType,
      memberName
    }) {
      let message = null;

      switch (explicitType) {
        case "boolean":
        case "number":
        case "string":
          message = FlowErrors.EnumInvalidMemberInitializerPrimaryType;
          break;

        case "symbol":
          message = FlowErrors.EnumInvalidMemberInitializerSymbolType;
          break;

        default:
          message = FlowErrors.EnumInvalidMemberInitializerUnknownType;
      }

      return this.raise(pos, message, enumName, memberName, explicitType);
    }

    flowEnumErrorNumberMemberNotInitialized(pos, {
      enumName,
      memberName
    }) {
      this.raise(pos, FlowErrors.EnumNumberMemberNotInitialized, enumName, memberName);
    }

    flowEnumErrorStringMemberInconsistentlyInitailized(pos, {
      enumName
    }) {
      this.raise(pos, FlowErrors.EnumStringMemberInconsistentlyInitailized, enumName);
    }

    flowEnumMemberInit() {
      const startPos = this.state.start;

      const endOfInit = () => this.match(types.comma) || this.match(types.braceR);

      switch (this.state.type) {
        case types.num:
          {
            const literal = this.parseLiteral(this.state.value, "NumericLiteral");

            if (endOfInit()) {
              return {
                type: "number",
                pos: literal.start,
                value: literal
              };
            }

            return {
              type: "invalid",
              pos: startPos
            };
          }

        case types.string:
          {
            const literal = this.parseLiteral(this.state.value, "StringLiteral");

            if (endOfInit()) {
              return {
                type: "string",
                pos: literal.start,
                value: literal
              };
            }

            return {
              type: "invalid",
              pos: startPos
            };
          }

        case types._true:
        case types._false:
          {
            const literal = this.parseBooleanLiteral();

            if (endOfInit()) {
              return {
                type: "boolean",
                pos: literal.start,
                value: literal
              };
            }

            return {
              type: "invalid",
              pos: startPos
            };
          }

        default:
          return {
            type: "invalid",
            pos: startPos
          };
      }
    }

    flowEnumMemberRaw() {
      const pos = this.state.start;
      const id = this.parseIdentifier(true);
      const init = this.eat(types.eq) ? this.flowEnumMemberInit() : {
        type: "none",
        pos
      };
      return {
        id,
        init
      };
    }

    flowEnumCheckExplicitTypeMismatch(pos, context, expectedType) {
      const {
        explicitType
      } = context;

      if (explicitType === null) {
        return;
      }

      if (explicitType !== expectedType) {
        this.flowEnumErrorInvalidMemberInitializer(pos, context);
      }
    }

    flowEnumMembers({
      enumName,
      explicitType
    }) {
      const seenNames = new Set();
      const members = {
        booleanMembers: [],
        numberMembers: [],
        stringMembers: [],
        defaultedMembers: []
      };

      while (!this.match(types.braceR)) {
        const memberNode = this.startNode();
        const {
          id,
          init
        } = this.flowEnumMemberRaw();
        const memberName = id.name;

        if (memberName === "") {
          continue;
        }

        if (/^[a-z]/.test(memberName)) {
          this.flowEnumErrorInvalidMemberName(id.start, {
            enumName,
            memberName
          });
        }

        if (seenNames.has(memberName)) {
          this.flowEnumErrorDuplicateMemberName(id.start, {
            enumName,
            memberName
          });
        }

        seenNames.add(memberName);
        const context = {
          enumName,
          explicitType,
          memberName
        };
        memberNode.id = id;

        switch (init.type) {
          case "boolean":
            {
              this.flowEnumCheckExplicitTypeMismatch(init.pos, context, "boolean");
              memberNode.init = init.value;
              members.booleanMembers.push(this.finishNode(memberNode, "EnumBooleanMember"));
              break;
            }

          case "number":
            {
              this.flowEnumCheckExplicitTypeMismatch(init.pos, context, "number");
              memberNode.init = init.value;
              members.numberMembers.push(this.finishNode(memberNode, "EnumNumberMember"));
              break;
            }

          case "string":
            {
              this.flowEnumCheckExplicitTypeMismatch(init.pos, context, "string");
              memberNode.init = init.value;
              members.stringMembers.push(this.finishNode(memberNode, "EnumStringMember"));
              break;
            }

          case "invalid":
            {
              throw this.flowEnumErrorInvalidMemberInitializer(init.pos, context);
            }

          case "none":
            {
              switch (explicitType) {
                case "boolean":
                  this.flowEnumErrorBooleanMemberNotInitialized(init.pos, context);
                  break;

                case "number":
                  this.flowEnumErrorNumberMemberNotInitialized(init.pos, context);
                  break;

                default:
                  members.defaultedMembers.push(this.finishNode(memberNode, "EnumDefaultedMember"));
              }
            }
        }

        if (!this.match(types.braceR)) {
          this.expect(types.comma);
        }
      }

      return members;
    }

    flowEnumStringMembers(initializedMembers, defaultedMembers, {
      enumName
    }) {
      if (initializedMembers.length === 0) {
        return defaultedMembers;
      } else if (defaultedMembers.length === 0) {
        return initializedMembers;
      } else if (defaultedMembers.length > initializedMembers.length) {
        for (let _i = 0; _i < initializedMembers.length; _i++) {
          const member = initializedMembers[_i];
          this.flowEnumErrorStringMemberInconsistentlyInitailized(member.start, {
            enumName
          });
        }

        return defaultedMembers;
      } else {
        for (let _i2 = 0; _i2 < defaultedMembers.length; _i2++) {
          const member = defaultedMembers[_i2];
          this.flowEnumErrorStringMemberInconsistentlyInitailized(member.start, {
            enumName
          });
        }

        return initializedMembers;
      }
    }

    flowEnumParseExplicitType({
      enumName
    }) {
      if (this.eatContextual("of")) {
        if (!this.match(types.name)) {
          throw this.flowEnumErrorInvalidExplicitType(this.state.start, {
            enumName,
            suppliedType: null
          });
        }

        const {
          value
        } = this.state;
        this.next();

        if (value !== "boolean" && value !== "number" && value !== "string" && value !== "symbol") {
          this.flowEnumErrorInvalidExplicitType(this.state.start, {
            enumName,
            suppliedType: value
          });
        }

        return value;
      }

      return null;
    }

    flowEnumBody(node, {
      enumName,
      nameLoc
    }) {
      const explicitType = this.flowEnumParseExplicitType({
        enumName
      });
      this.expect(types.braceL);
      const members = this.flowEnumMembers({
        enumName,
        explicitType
      });

      switch (explicitType) {
        case "boolean":
          node.explicitType = true;
          node.members = members.booleanMembers;
          this.expect(types.braceR);
          return this.finishNode(node, "EnumBooleanBody");

        case "number":
          node.explicitType = true;
          node.members = members.numberMembers;
          this.expect(types.braceR);
          return this.finishNode(node, "EnumNumberBody");

        case "string":
          node.explicitType = true;
          node.members = this.flowEnumStringMembers(members.stringMembers, members.defaultedMembers, {
            enumName
          });
          this.expect(types.braceR);
          return this.finishNode(node, "EnumStringBody");

        case "symbol":
          node.members = members.defaultedMembers;
          this.expect(types.braceR);
          return this.finishNode(node, "EnumSymbolBody");

        default:
          {
            const empty = () => {
              node.members = [];
              this.expect(types.braceR);
              return this.finishNode(node, "EnumStringBody");
            };

            node.explicitType = false;
            const boolsLen = members.booleanMembers.length;
            const numsLen = members.numberMembers.length;
            const strsLen = members.stringMembers.length;
            const defaultedLen = members.defaultedMembers.length;

            if (!boolsLen && !numsLen && !strsLen && !defaultedLen) {
              return empty();
            } else if (!boolsLen && !numsLen) {
              node.members = this.flowEnumStringMembers(members.stringMembers, members.defaultedMembers, {
                enumName
              });
              this.expect(types.braceR);
              return this.finishNode(node, "EnumStringBody");
            } else if (!numsLen && !strsLen && boolsLen >= defaultedLen) {
              for (let _i3 = 0, _members$defaultedMem = members.defaultedMembers; _i3 < _members$defaultedMem.length; _i3++) {
                const member = _members$defaultedMem[_i3];
                this.flowEnumErrorBooleanMemberNotInitialized(member.start, {
                  enumName,
                  memberName: member.id.name
                });
              }

              node.members = members.booleanMembers;
              this.expect(types.braceR);
              return this.finishNode(node, "EnumBooleanBody");
            } else if (!boolsLen && !strsLen && numsLen >= defaultedLen) {
              for (let _i4 = 0, _members$defaultedMem2 = members.defaultedMembers; _i4 < _members$defaultedMem2.length; _i4++) {
                const member = _members$defaultedMem2[_i4];
                this.flowEnumErrorNumberMemberNotInitialized(member.start, {
                  enumName,
                  memberName: member.id.name
                });
              }

              node.members = members.numberMembers;
              this.expect(types.braceR);
              return this.finishNode(node, "EnumNumberBody");
            } else {
              this.flowEnumErrorInconsistentMemberValues(nameLoc, {
                enumName
              });
              return empty();
            }
          }
      }
    }

    flowParseEnumDeclaration(node) {
      const id = this.parseIdentifier();
      node.id = id;
      node.body = this.flowEnumBody(this.startNode(), {
        enumName: id.name,
        nameLoc: id.start
      });
      return this.finishNode(node, "EnumDeclaration");
    }

    updateContext(prevType) {
      if (this.match(types.name) && this.state.value === "of" && prevType === types.name && this.input.slice(this.state.lastTokStart, this.state.lastTokEnd) === "interface") {
        this.state.exprAllowed = false;
      } else {
        super.updateContext(prevType);
      }
    }

    isLookaheadToken_lt() {
      const next = this.nextTokenStart();

      if (this.input.charCodeAt(next) === 60) {
        const afterNext = this.input.charCodeAt(next + 1);
        return afterNext !== 60 && afterNext !== 61;
      }

      return false;
    }

    maybeUnwrapTypeCastExpression(node) {
      return node.type === "TypeCastExpression" ? node.expression : node;
    }

  }, _temp;
});

const entities = {
  quot: "\u0022",
  amp: "&",
  apos: "\u0027",
  lt: "<",
  gt: ">",
  nbsp: "\u00A0",
  iexcl: "\u00A1",
  cent: "\u00A2",
  pound: "\u00A3",
  curren: "\u00A4",
  yen: "\u00A5",
  brvbar: "\u00A6",
  sect: "\u00A7",
  uml: "\u00A8",
  copy: "\u00A9",
  ordf: "\u00AA",
  laquo: "\u00AB",
  not: "\u00AC",
  shy: "\u00AD",
  reg: "\u00AE",
  macr: "\u00AF",
  deg: "\u00B0",
  plusmn: "\u00B1",
  sup2: "\u00B2",
  sup3: "\u00B3",
  acute: "\u00B4",
  micro: "\u00B5",
  para: "\u00B6",
  middot: "\u00B7",
  cedil: "\u00B8",
  sup1: "\u00B9",
  ordm: "\u00BA",
  raquo: "\u00BB",
  frac14: "\u00BC",
  frac12: "\u00BD",
  frac34: "\u00BE",
  iquest: "\u00BF",
  Agrave: "\u00C0",
  Aacute: "\u00C1",
  Acirc: "\u00C2",
  Atilde: "\u00C3",
  Auml: "\u00C4",
  Aring: "\u00C5",
  AElig: "\u00C6",
  Ccedil: "\u00C7",
  Egrave: "\u00C8",
  Eacute: "\u00C9",
  Ecirc: "\u00CA",
  Euml: "\u00CB",
  Igrave: "\u00CC",
  Iacute: "\u00CD",
  Icirc: "\u00CE",
  Iuml: "\u00CF",
  ETH: "\u00D0",
  Ntilde: "\u00D1",
  Ograve: "\u00D2",
  Oacute: "\u00D3",
  Ocirc: "\u00D4",
  Otilde: "\u00D5",
  Ouml: "\u00D6",
  times: "\u00D7",
  Oslash: "\u00D8",
  Ugrave: "\u00D9",
  Uacute: "\u00DA",
  Ucirc: "\u00DB",
  Uuml: "\u00DC",
  Yacute: "\u00DD",
  THORN: "\u00DE",
  szlig: "\u00DF",
  agrave: "\u00E0",
  aacute: "\u00E1",
  acirc: "\u00E2",
  atilde: "\u00E3",
  auml: "\u00E4",
  aring: "\u00E5",
  aelig: "\u00E6",
  ccedil: "\u00E7",
  egrave: "\u00E8",
  eacute: "\u00E9",
  ecirc: "\u00EA",
  euml: "\u00EB",
  igrave: "\u00EC",
  iacute: "\u00ED",
  icirc: "\u00EE",
  iuml: "\u00EF",
  eth: "\u00F0",
  ntilde: "\u00F1",
  ograve: "\u00F2",
  oacute: "\u00F3",
  ocirc: "\u00F4",
  otilde: "\u00F5",
  ouml: "\u00F6",
  divide: "\u00F7",
  oslash: "\u00F8",
  ugrave: "\u00F9",
  uacute: "\u00FA",
  ucirc: "\u00FB",
  uuml: "\u00FC",
  yacute: "\u00FD",
  thorn: "\u00FE",
  yuml: "\u00FF",
  OElig: "\u0152",
  oelig: "\u0153",
  Scaron: "\u0160",
  scaron: "\u0161",
  Yuml: "\u0178",
  fnof: "\u0192",
  circ: "\u02C6",
  tilde: "\u02DC",
  Alpha: "\u0391",
  Beta: "\u0392",
  Gamma: "\u0393",
  Delta: "\u0394",
  Epsilon: "\u0395",
  Zeta: "\u0396",
  Eta: "\u0397",
  Theta: "\u0398",
  Iota: "\u0399",
  Kappa: "\u039A",
  Lambda: "\u039B",
  Mu: "\u039C",
  Nu: "\u039D",
  Xi: "\u039E",
  Omicron: "\u039F",
  Pi: "\u03A0",
  Rho: "\u03A1",
  Sigma: "\u03A3",
  Tau: "\u03A4",
  Upsilon: "\u03A5",
  Phi: "\u03A6",
  Chi: "\u03A7",
  Psi: "\u03A8",
  Omega: "\u03A9",
  alpha: "\u03B1",
  beta: "\u03B2",
  gamma: "\u03B3",
  delta: "\u03B4",
  epsilon: "\u03B5",
  zeta: "\u03B6",
  eta: "\u03B7",
  theta: "\u03B8",
  iota: "\u03B9",
  kappa: "\u03BA",
  lambda: "\u03BB",
  mu: "\u03BC",
  nu: "\u03BD",
  xi: "\u03BE",
  omicron: "\u03BF",
  pi: "\u03C0",
  rho: "\u03C1",
  sigmaf: "\u03C2",
  sigma: "\u03C3",
  tau: "\u03C4",
  upsilon: "\u03C5",
  phi: "\u03C6",
  chi: "\u03C7",
  psi: "\u03C8",
  omega: "\u03C9",
  thetasym: "\u03D1",
  upsih: "\u03D2",
  piv: "\u03D6",
  ensp: "\u2002",
  emsp: "\u2003",
  thinsp: "\u2009",
  zwnj: "\u200C",
  zwj: "\u200D",
  lrm: "\u200E",
  rlm: "\u200F",
  ndash: "\u2013",
  mdash: "\u2014",
  lsquo: "\u2018",
  rsquo: "\u2019",
  sbquo: "\u201A",
  ldquo: "\u201C",
  rdquo: "\u201D",
  bdquo: "\u201E",
  dagger: "\u2020",
  Dagger: "\u2021",
  bull: "\u2022",
  hellip: "\u2026",
  permil: "\u2030",
  prime: "\u2032",
  Prime: "\u2033",
  lsaquo: "\u2039",
  rsaquo: "\u203A",
  oline: "\u203E",
  frasl: "\u2044",
  euro: "\u20AC",
  image: "\u2111",
  weierp: "\u2118",
  real: "\u211C",
  trade: "\u2122",
  alefsym: "\u2135",
  larr: "\u2190",
  uarr: "\u2191",
  rarr: "\u2192",
  darr: "\u2193",
  harr: "\u2194",
  crarr: "\u21B5",
  lArr: "\u21D0",
  uArr: "\u21D1",
  rArr: "\u21D2",
  dArr: "\u21D3",
  hArr: "\u21D4",
  forall: "\u2200",
  part: "\u2202",
  exist: "\u2203",
  empty: "\u2205",
  nabla: "\u2207",
  isin: "\u2208",
  notin: "\u2209",
  ni: "\u220B",
  prod: "\u220F",
  sum: "\u2211",
  minus: "\u2212",
  lowast: "\u2217",
  radic: "\u221A",
  prop: "\u221D",
  infin: "\u221E",
  ang: "\u2220",
  and: "\u2227",
  or: "\u2228",
  cap: "\u2229",
  cup: "\u222A",
  int: "\u222B",
  there4: "\u2234",
  sim: "\u223C",
  cong: "\u2245",
  asymp: "\u2248",
  ne: "\u2260",
  equiv: "\u2261",
  le: "\u2264",
  ge: "\u2265",
  sub: "\u2282",
  sup: "\u2283",
  nsub: "\u2284",
  sube: "\u2286",
  supe: "\u2287",
  oplus: "\u2295",
  otimes: "\u2297",
  perp: "\u22A5",
  sdot: "\u22C5",
  lceil: "\u2308",
  rceil: "\u2309",
  lfloor: "\u230A",
  rfloor: "\u230B",
  lang: "\u2329",
  rang: "\u232A",
  loz: "\u25CA",
  spades: "\u2660",
  clubs: "\u2663",
  hearts: "\u2665",
  diams: "\u2666"
};

const HEX_NUMBER = /^[\da-fA-F]+$/;
const DECIMAL_NUMBER = /^\d+$/;
const JsxErrors = Object.freeze({
  AttributeIsEmpty: "JSX attributes must only be assigned a non-empty expression",
  MissingClosingTagFragment: "Expected corresponding JSX closing tag for <>",
  MissingClosingTagElement: "Expected corresponding JSX closing tag for <%0>",
  UnexpectedSequenceExpression: "Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",
  UnsupportedJsxValue: "JSX value should be either an expression or a quoted JSX text",
  UnterminatedJsxContent: "Unterminated JSX contents",
  UnwrappedAdjacentJSXElements: "Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"
});
types$1.j_oTag = new TokContext("<tag", false);
types$1.j_cTag = new TokContext("</tag", false);
types$1.j_expr = new TokContext("<tag>...</tag>", true, true);
types.jsxName = new TokenType("jsxName");
types.jsxText = new TokenType("jsxText", {
  beforeExpr: true
});
types.jsxTagStart = new TokenType("jsxTagStart", {
  startsExpr: true
});
types.jsxTagEnd = new TokenType("jsxTagEnd");

types.jsxTagStart.updateContext = function () {
  this.state.context.push(types$1.j_expr);
  this.state.context.push(types$1.j_oTag);
  this.state.exprAllowed = false;
};

types.jsxTagEnd.updateContext = function (prevType) {
  const out = this.state.context.pop();

  if (out === types$1.j_oTag && prevType === types.slash || out === types$1.j_cTag) {
    this.state.context.pop();
    this.state.exprAllowed = this.curContext() === types$1.j_expr;
  } else {
    this.state.exprAllowed = true;
  }
};

function isFragment(object) {
  return object ? object.type === "JSXOpeningFragment" || object.type === "JSXClosingFragment" : false;
}

function getQualifiedJSXName(object) {
  if (object.type === "JSXIdentifier") {
    return object.name;
  }

  if (object.type === "JSXNamespacedName") {
    return object.namespace.name + ":" + object.name.name;
  }

  if (object.type === "JSXMemberExpression") {
    return getQualifiedJSXName(object.object) + "." + getQualifiedJSXName(object.property);
  }

  throw new Error("Node had unexpected type: " + object.type);
}

var jsx = (superClass => class extends superClass {
  jsxReadToken() {
    let out = "";
    let chunkStart = this.state.pos;

    for (;;) {
      if (this.state.pos >= this.length) {
        throw this.raise(this.state.start, JsxErrors.UnterminatedJsxContent);
      }

      const ch = this.input.charCodeAt(this.state.pos);

      switch (ch) {
        case 60:
        case 123:
          if (this.state.pos === this.state.start) {
            if (ch === 60 && this.state.exprAllowed) {
              ++this.state.pos;
              return this.finishToken(types.jsxTagStart);
            }

            return super.getTokenFromCode(ch);
          }

          out += this.input.slice(chunkStart, this.state.pos);
          return this.finishToken(types.jsxText, out);

        case 38:
          out += this.input.slice(chunkStart, this.state.pos);
          out += this.jsxReadEntity();
          chunkStart = this.state.pos;
          break;

        default:
          if (isNewLine(ch)) {
            out += this.input.slice(chunkStart, this.state.pos);
            out += this.jsxReadNewLine(true);
            chunkStart = this.state.pos;
          } else {
            ++this.state.pos;
          }

      }
    }
  }

  jsxReadNewLine(normalizeCRLF) {
    const ch = this.input.charCodeAt(this.state.pos);
    let out;
    ++this.state.pos;

    if (ch === 13 && this.input.charCodeAt(this.state.pos) === 10) {
      ++this.state.pos;
      out = normalizeCRLF ? "\n" : "\r\n";
    } else {
      out = String.fromCharCode(ch);
    }

    ++this.state.curLine;
    this.state.lineStart = this.state.pos;
    return out;
  }

  jsxReadString(quote) {
    let out = "";
    let chunkStart = ++this.state.pos;

    for (;;) {
      if (this.state.pos >= this.length) {
        throw this.raise(this.state.start, ErrorMessages.UnterminatedString);
      }

      const ch = this.input.charCodeAt(this.state.pos);
      if (ch === quote) break;

      if (ch === 38) {
        out += this.input.slice(chunkStart, this.state.pos);
        out += this.jsxReadEntity();
        chunkStart = this.state.pos;
      } else if (isNewLine(ch)) {
        out += this.input.slice(chunkStart, this.state.pos);
        out += this.jsxReadNewLine(false);
        chunkStart = this.state.pos;
      } else {
        ++this.state.pos;
      }
    }

    out += this.input.slice(chunkStart, this.state.pos++);
    return this.finishToken(types.string, out);
  }

  jsxReadEntity() {
    let str = "";
    let count = 0;
    let entity;
    let ch = this.input[this.state.pos];
    const startPos = ++this.state.pos;

    while (this.state.pos < this.length && count++ < 10) {
      ch = this.input[this.state.pos++];

      if (ch === ";") {
        if (str[0] === "#") {
          if (str[1] === "x") {
            str = str.substr(2);

            if (HEX_NUMBER.test(str)) {
              entity = String.fromCodePoint(parseInt(str, 16));
            }
          } else {
            str = str.substr(1);

            if (DECIMAL_NUMBER.test(str)) {
              entity = String.fromCodePoint(parseInt(str, 10));
            }
          }
        } else {
          entity = entities[str];
        }

        break;
      }

      str += ch;
    }

    if (!entity) {
      this.state.pos = startPos;
      return "&";
    }

    return entity;
  }

  jsxReadWord() {
    let ch;
    const start = this.state.pos;

    do {
      ch = this.input.charCodeAt(++this.state.pos);
    } while (isIdentifierChar(ch) || ch === 45);

    return this.finishToken(types.jsxName, this.input.slice(start, this.state.pos));
  }

  jsxParseIdentifier() {
    const node = this.startNode();

    if (this.match(types.jsxName)) {
      node.name = this.state.value;
    } else if (this.state.type.keyword) {
      node.name = this.state.type.keyword;
    } else {
      this.unexpected();
    }

    this.next();
    return this.finishNode(node, "JSXIdentifier");
  }

  jsxParseNamespacedName() {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    const name = this.jsxParseIdentifier();
    if (!this.eat(types.colon)) return name;
    const node = this.startNodeAt(startPos, startLoc);
    node.namespace = name;
    node.name = this.jsxParseIdentifier();
    return this.finishNode(node, "JSXNamespacedName");
  }

  jsxParseElementName() {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    let node = this.jsxParseNamespacedName();

    if (node.type === "JSXNamespacedName") {
      return node;
    }

    while (this.eat(types.dot)) {
      const newNode = this.startNodeAt(startPos, startLoc);
      newNode.object = node;
      newNode.property = this.jsxParseIdentifier();
      node = this.finishNode(newNode, "JSXMemberExpression");
    }

    return node;
  }

  jsxParseAttributeValue() {
    let node;

    switch (this.state.type) {
      case types.braceL:
        node = this.startNode();
        this.next();
        node = this.jsxParseExpressionContainer(node);

        if (node.expression.type === "JSXEmptyExpression") {
          this.raise(node.start, JsxErrors.AttributeIsEmpty);
        }

        return node;

      case types.jsxTagStart:
      case types.string:
        return this.parseExprAtom();

      default:
        throw this.raise(this.state.start, JsxErrors.UnsupportedJsxValue);
    }
  }

  jsxParseEmptyExpression() {
    const node = this.startNodeAt(this.state.lastTokEnd, this.state.lastTokEndLoc);
    return this.finishNodeAt(node, "JSXEmptyExpression", this.state.start, this.state.startLoc);
  }

  jsxParseSpreadChild(node) {
    this.next();
    node.expression = this.parseExpression();
    this.expect(types.braceR);
    return this.finishNode(node, "JSXSpreadChild");
  }

  jsxParseExpressionContainer(node) {
    if (this.match(types.braceR)) {
      node.expression = this.jsxParseEmptyExpression();
    } else {
      const expression = this.parseExpression();
      node.expression = expression;
    }

    this.expect(types.braceR);
    return this.finishNode(node, "JSXExpressionContainer");
  }

  jsxParseAttribute() {
    const node = this.startNode();

    if (this.eat(types.braceL)) {
      this.expect(types.ellipsis);
      node.argument = this.parseMaybeAssignAllowIn();
      this.expect(types.braceR);
      return this.finishNode(node, "JSXSpreadAttribute");
    }

    node.name = this.jsxParseNamespacedName();
    node.value = this.eat(types.eq) ? this.jsxParseAttributeValue() : null;
    return this.finishNode(node, "JSXAttribute");
  }

  jsxParseOpeningElementAt(startPos, startLoc) {
    const node = this.startNodeAt(startPos, startLoc);

    if (this.match(types.jsxTagEnd)) {
      this.expect(types.jsxTagEnd);
      return this.finishNode(node, "JSXOpeningFragment");
    }

    node.name = this.jsxParseElementName();
    return this.jsxParseOpeningElementAfterName(node);
  }

  jsxParseOpeningElementAfterName(node) {
    const attributes = [];

    while (!this.match(types.slash) && !this.match(types.jsxTagEnd)) {
      attributes.push(this.jsxParseAttribute());
    }

    node.attributes = attributes;
    node.selfClosing = this.eat(types.slash);
    this.expect(types.jsxTagEnd);
    return this.finishNode(node, "JSXOpeningElement");
  }

  jsxParseClosingElementAt(startPos, startLoc) {
    const node = this.startNodeAt(startPos, startLoc);

    if (this.match(types.jsxTagEnd)) {
      this.expect(types.jsxTagEnd);
      return this.finishNode(node, "JSXClosingFragment");
    }

    node.name = this.jsxParseElementName();
    this.expect(types.jsxTagEnd);
    return this.finishNode(node, "JSXClosingElement");
  }

  jsxParseElementAt(startPos, startLoc) {
    const node = this.startNodeAt(startPos, startLoc);
    const children = [];
    const openingElement = this.jsxParseOpeningElementAt(startPos, startLoc);
    let closingElement = null;

    if (!openingElement.selfClosing) {
      contents: for (;;) {
        switch (this.state.type) {
          case types.jsxTagStart:
            startPos = this.state.start;
            startLoc = this.state.startLoc;
            this.next();

            if (this.eat(types.slash)) {
              closingElement = this.jsxParseClosingElementAt(startPos, startLoc);
              break contents;
            }

            children.push(this.jsxParseElementAt(startPos, startLoc));
            break;

          case types.jsxText:
            children.push(this.parseExprAtom());
            break;

          case types.braceL:
            {
              const node = this.startNode();
              this.next();

              if (this.match(types.ellipsis)) {
                children.push(this.jsxParseSpreadChild(node));
              } else {
                children.push(this.jsxParseExpressionContainer(node));
              }

              break;
            }

          default:
            throw this.unexpected();
        }
      }

      if (isFragment(openingElement) && !isFragment(closingElement)) {
        this.raise(closingElement.start, JsxErrors.MissingClosingTagFragment);
      } else if (!isFragment(openingElement) && isFragment(closingElement)) {
        this.raise(closingElement.start, JsxErrors.MissingClosingTagElement, getQualifiedJSXName(openingElement.name));
      } else if (!isFragment(openingElement) && !isFragment(closingElement)) {
        if (getQualifiedJSXName(closingElement.name) !== getQualifiedJSXName(openingElement.name)) {
          this.raise(closingElement.start, JsxErrors.MissingClosingTagElement, getQualifiedJSXName(openingElement.name));
        }
      }
    }

    if (isFragment(openingElement)) {
      node.openingFragment = openingElement;
      node.closingFragment = closingElement;
    } else {
      node.openingElement = openingElement;
      node.closingElement = closingElement;
    }

    node.children = children;

    if (this.isRelational("<")) {
      throw this.raise(this.state.start, JsxErrors.UnwrappedAdjacentJSXElements);
    }

    return isFragment(openingElement) ? this.finishNode(node, "JSXFragment") : this.finishNode(node, "JSXElement");
  }

  jsxParseElement() {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    this.next();
    return this.jsxParseElementAt(startPos, startLoc);
  }

  parseExprAtom(refExpressionErrors) {
    if (this.match(types.jsxText)) {
      return this.parseLiteral(this.state.value, "JSXText");
    } else if (this.match(types.jsxTagStart)) {
      return this.jsxParseElement();
    } else if (this.isRelational("<") && this.input.charCodeAt(this.state.pos) !== 33) {
      this.finishToken(types.jsxTagStart);
      return this.jsxParseElement();
    } else {
      return super.parseExprAtom(refExpressionErrors);
    }
  }

  getTokenFromCode(code) {
    if (this.state.inPropertyName) return super.getTokenFromCode(code);
    const context = this.curContext();

    if (context === types$1.j_expr) {
      return this.jsxReadToken();
    }

    if (context === types$1.j_oTag || context === types$1.j_cTag) {
      if (isIdentifierStart(code)) {
        return this.jsxReadWord();
      }

      if (code === 62) {
        ++this.state.pos;
        return this.finishToken(types.jsxTagEnd);
      }

      if ((code === 34 || code === 39) && context === types$1.j_oTag) {
        return this.jsxReadString(code);
      }
    }

    if (code === 60 && this.state.exprAllowed && this.input.charCodeAt(this.state.pos + 1) !== 33) {
      ++this.state.pos;
      return this.finishToken(types.jsxTagStart);
    }

    return super.getTokenFromCode(code);
  }

  updateContext(prevType) {
    if (this.match(types.braceL)) {
      const curContext = this.curContext();

      if (curContext === types$1.j_oTag) {
        this.state.context.push(types$1.braceExpression);
      } else if (curContext === types$1.j_expr) {
        this.state.context.push(types$1.templateQuasi);
      } else {
        super.updateContext(prevType);
      }

      this.state.exprAllowed = true;
    } else if (this.match(types.slash) && prevType === types.jsxTagStart) {
      this.state.context.length -= 2;
      this.state.context.push(types$1.j_cTag);
      this.state.exprAllowed = false;
    } else {
      return super.updateContext(prevType);
    }
  }

});

class Scope {
  constructor(flags) {
    this.flags = void 0;
    this.var = [];
    this.lexical = [];
    this.functions = [];
    this.flags = flags;
  }

}
class ScopeHandler {
  constructor(raise, inModule) {
    this.scopeStack = [];
    this.undefinedExports = new Map();
    this.undefinedPrivateNames = new Map();
    this.raise = raise;
    this.inModule = inModule;
  }

  get inFunction() {
    return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0;
  }

  get allowSuper() {
    return (this.currentThisScope().flags & SCOPE_SUPER) > 0;
  }

  get allowDirectSuper() {
    return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0;
  }

  get inClass() {
    return (this.currentThisScope().flags & SCOPE_CLASS) > 0;
  }

  get inNonArrowFunction() {
    return (this.currentThisScope().flags & SCOPE_FUNCTION) > 0;
  }

  get treatFunctionsAsVar() {
    return this.treatFunctionsAsVarInScope(this.currentScope());
  }

  createScope(flags) {
    return new Scope(flags);
  }

  enter(flags) {
    this.scopeStack.push(this.createScope(flags));
  }

  exit() {
    this.scopeStack.pop();
  }

  treatFunctionsAsVarInScope(scope) {
    return !!(scope.flags & SCOPE_FUNCTION || !this.inModule && scope.flags & SCOPE_PROGRAM);
  }

  declareName(name, bindingType, pos) {
    let scope = this.currentScope();

    if (bindingType & BIND_SCOPE_LEXICAL || bindingType & BIND_SCOPE_FUNCTION) {
      this.checkRedeclarationInScope(scope, name, bindingType, pos);

      if (bindingType & BIND_SCOPE_FUNCTION) {
        scope.functions.push(name);
      } else {
        scope.lexical.push(name);
      }

      if (bindingType & BIND_SCOPE_LEXICAL) {
        this.maybeExportDefined(scope, name);
      }
    } else if (bindingType & BIND_SCOPE_VAR) {
      for (let i = this.scopeStack.length - 1; i >= 0; --i) {
        scope = this.scopeStack[i];
        this.checkRedeclarationInScope(scope, name, bindingType, pos);
        scope.var.push(name);
        this.maybeExportDefined(scope, name);
        if (scope.flags & SCOPE_VAR) break;
      }
    }

    if (this.inModule && scope.flags & SCOPE_PROGRAM) {
      this.undefinedExports.delete(name);
    }
  }

  maybeExportDefined(scope, name) {
    if (this.inModule && scope.flags & SCOPE_PROGRAM) {
      this.undefinedExports.delete(name);
    }
  }

  checkRedeclarationInScope(scope, name, bindingType, pos) {
    if (this.isRedeclaredInScope(scope, name, bindingType)) {
      this.raise(pos, ErrorMessages.VarRedeclaration, name);
    }
  }

  isRedeclaredInScope(scope, name, bindingType) {
    if (!(bindingType & BIND_KIND_VALUE)) return false;

    if (bindingType & BIND_SCOPE_LEXICAL) {
      return scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;
    }

    if (bindingType & BIND_SCOPE_FUNCTION) {
      return scope.lexical.indexOf(name) > -1 || !this.treatFunctionsAsVarInScope(scope) && scope.var.indexOf(name) > -1;
    }

    return scope.lexical.indexOf(name) > -1 && !(scope.flags & SCOPE_SIMPLE_CATCH && scope.lexical[0] === name) || !this.treatFunctionsAsVarInScope(scope) && scope.functions.indexOf(name) > -1;
  }

  checkLocalExport(id) {
    if (this.scopeStack[0].lexical.indexOf(id.name) === -1 && this.scopeStack[0].var.indexOf(id.name) === -1 && this.scopeStack[0].functions.indexOf(id.name) === -1) {
      this.undefinedExports.set(id.name, id.start);
    }
  }

  currentScope() {
    return this.scopeStack[this.scopeStack.length - 1];
  }

  currentVarScope() {
    for (let i = this.scopeStack.length - 1;; i--) {
      const scope = this.scopeStack[i];

      if (scope.flags & SCOPE_VAR) {
        return scope;
      }
    }
  }

  currentThisScope() {
    for (let i = this.scopeStack.length - 1;; i--) {
      const scope = this.scopeStack[i];

      if ((scope.flags & SCOPE_VAR || scope.flags & SCOPE_CLASS) && !(scope.flags & SCOPE_ARROW)) {
        return scope;
      }
    }
  }

}

class TypeScriptScope extends Scope {
  constructor(...args) {
    super(...args);
    this.types = [];
    this.enums = [];
    this.constEnums = [];
    this.classes = [];
    this.exportOnlyBindings = [];
  }

}

class TypeScriptScopeHandler extends ScopeHandler {
  createScope(flags) {
    return new TypeScriptScope(flags);
  }

  declareName(name, bindingType, pos) {
    const scope = this.currentScope();

    if (bindingType & BIND_FLAGS_TS_EXPORT_ONLY) {
      this.maybeExportDefined(scope, name);
      scope.exportOnlyBindings.push(name);
      return;
    }

    super.declareName(...arguments);

    if (bindingType & BIND_KIND_TYPE) {
      if (!(bindingType & BIND_KIND_VALUE)) {
        this.checkRedeclarationInScope(scope, name, bindingType, pos);
        this.maybeExportDefined(scope, name);
      }

      scope.types.push(name);
    }

    if (bindingType & BIND_FLAGS_TS_ENUM) scope.enums.push(name);
    if (bindingType & BIND_FLAGS_TS_CONST_ENUM) scope.constEnums.push(name);
    if (bindingType & BIND_FLAGS_CLASS) scope.classes.push(name);
  }

  isRedeclaredInScope(scope, name, bindingType) {
    if (scope.enums.indexOf(name) > -1) {
      if (bindingType & BIND_FLAGS_TS_ENUM) {
        const isConst = !!(bindingType & BIND_FLAGS_TS_CONST_ENUM);
        const wasConst = scope.constEnums.indexOf(name) > -1;
        return isConst !== wasConst;
      }

      return true;
    }

    if (bindingType & BIND_FLAGS_CLASS && scope.classes.indexOf(name) > -1) {
      if (scope.lexical.indexOf(name) > -1) {
        return !!(bindingType & BIND_KIND_VALUE);
      } else {
        return false;
      }
    }

    if (bindingType & BIND_KIND_TYPE && scope.types.indexOf(name) > -1) {
      return true;
    }

    return super.isRedeclaredInScope(...arguments);
  }

  checkLocalExport(id) {
    if (this.scopeStack[0].types.indexOf(id.name) === -1 && this.scopeStack[0].exportOnlyBindings.indexOf(id.name) === -1) {
      super.checkLocalExport(id);
    }
  }

}

const PARAM = 0b0000,
      PARAM_YIELD = 0b0001,
      PARAM_AWAIT = 0b0010,
      PARAM_RETURN = 0b0100,
      PARAM_IN = 0b1000;
class ProductionParameterHandler {
  constructor() {
    this.stacks = [];
  }

  enter(flags) {
    this.stacks.push(flags);
  }

  exit() {
    this.stacks.pop();
  }

  currentFlags() {
    return this.stacks[this.stacks.length - 1];
  }

  get hasAwait() {
    return (this.currentFlags() & PARAM_AWAIT) > 0;
  }

  get hasYield() {
    return (this.currentFlags() & PARAM_YIELD) > 0;
  }

  get hasReturn() {
    return (this.currentFlags() & PARAM_RETURN) > 0;
  }

  get hasIn() {
    return (this.currentFlags() & PARAM_IN) > 0;
  }

}
function functionFlags(isAsync, isGenerator) {
  return (isAsync ? PARAM_AWAIT : 0) | (isGenerator ? PARAM_YIELD : 0);
}

function nonNull(x) {
  if (x == null) {
    throw new Error(`Unexpected ${x} value.`);
  }

  return x;
}

function assert(x) {
  if (!x) {
    throw new Error("Assert fail");
  }
}

const TSErrors = Object.freeze({
  ClassMethodHasDeclare: "Class methods cannot have the 'declare' modifier",
  ClassMethodHasReadonly: "Class methods cannot have the 'readonly' modifier",
  ConstructorHasTypeParameters: "Type parameters cannot appear on a constructor declaration.",
  DeclareClassFieldHasInitializer: "Initializers are not allowed in ambient contexts.",
  DeclareFunctionHasImplementation: "An implementation cannot be declared in ambient contexts.",
  DuplicateModifier: "Duplicate modifier: '%0'",
  EmptyHeritageClauseType: "'%0' list cannot be empty.",
  EmptyTypeArguments: "Type argument list cannot be empty.",
  EmptyTypeParameters: "Type parameter list cannot be empty.",
  IndexSignatureHasAbstract: "Index signatures cannot have the 'abstract' modifier",
  IndexSignatureHasAccessibility: "Index signatures cannot have an accessibility modifier ('%0')",
  IndexSignatureHasStatic: "Index signatures cannot have the 'static' modifier",
  IndexSignatureHasDeclare: "Index signatures cannot have the 'declare' modifier",
  InvalidTupleMemberLabel: "Tuple members must be labeled with a simple identifier.",
  MixedLabeledAndUnlabeledElements: "Tuple members must all have names or all not have names.",
  OptionalTypeBeforeRequired: "A required element cannot follow an optional element.",
  PatternIsOptional: "A binding pattern parameter cannot be optional in an implementation signature.",
  PrivateElementHasAbstract: "Private elements cannot have the 'abstract' modifier.",
  PrivateElementHasAccessibility: "Private elements cannot have an accessibility modifier ('%0')",
  TypeAnnotationAfterAssign: "Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`",
  UnexpectedParameterModifier: "A parameter property is only allowed in a constructor implementation.",
  UnexpectedReadonly: "'readonly' type modifier is only permitted on array and tuple literal types.",
  UnexpectedTypeAnnotation: "Did not expect a type annotation here.",
  UnexpectedTypeCastInParameter: "Unexpected type cast in parameter position.",
  UnsupportedImportTypeArgument: "Argument in a type import must be a string literal",
  UnsupportedParameterPropertyKind: "A parameter property may not be declared using a binding pattern.",
  UnsupportedSignatureParameterKind: "Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got %0"
});

function keywordTypeFromName(value) {
  switch (value) {
    case "any":
      return "TSAnyKeyword";

    case "boolean":
      return "TSBooleanKeyword";

    case "bigint":
      return "TSBigIntKeyword";

    case "never":
      return "TSNeverKeyword";

    case "number":
      return "TSNumberKeyword";

    case "object":
      return "TSObjectKeyword";

    case "string":
      return "TSStringKeyword";

    case "symbol":
      return "TSSymbolKeyword";

    case "undefined":
      return "TSUndefinedKeyword";

    case "unknown":
      return "TSUnknownKeyword";

    default:
      return undefined;
  }
}

var typescript = (superClass => class extends superClass {
  getScopeHandler() {
    return TypeScriptScopeHandler;
  }

  tsIsIdentifier() {
    return this.match(types.name);
  }

  tsNextTokenCanFollowModifier() {
    this.next();
    return (this.match(types.bracketL) || this.match(types.braceL) || this.match(types.star) || this.match(types.ellipsis) || this.match(types.hash) || this.isLiteralPropertyName()) && !this.hasPrecedingLineBreak();
  }

  tsParseModifier(allowedModifiers) {
    if (!this.match(types.name)) {
      return undefined;
    }

    const modifier = this.state.value;

    if (allowedModifiers.indexOf(modifier) !== -1 && this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this))) {
      return modifier;
    }

    return undefined;
  }

  tsParseModifiers(modified, allowedModifiers) {
    for (;;) {
      const startPos = this.state.start;
      const modifier = this.tsParseModifier(allowedModifiers);
      if (!modifier) break;

      if (Object.hasOwnProperty.call(modified, modifier)) {
        this.raise(startPos, TSErrors.DuplicateModifier, modifier);
      }

      modified[modifier] = true;
    }
  }

  tsIsListTerminator(kind) {
    switch (kind) {
      case "EnumMembers":
      case "TypeMembers":
        return this.match(types.braceR);

      case "HeritageClauseElement":
        return this.match(types.braceL);

      case "TupleElementTypes":
        return this.match(types.bracketR);

      case "TypeParametersOrArguments":
        return this.isRelational(">");
    }

    throw new Error("Unreachable");
  }

  tsParseList(kind, parseElement) {
    const result = [];

    while (!this.tsIsListTerminator(kind)) {
      result.push(parseElement());
    }

    return result;
  }

  tsParseDelimitedList(kind, parseElement) {
    return nonNull(this.tsParseDelimitedListWorker(kind, parseElement, true));
  }

  tsParseDelimitedListWorker(kind, parseElement, expectSuccess) {
    const result = [];

    for (;;) {
      if (this.tsIsListTerminator(kind)) {
        break;
      }

      const element = parseElement();

      if (element == null) {
        return undefined;
      }

      result.push(element);

      if (this.eat(types.comma)) {
        continue;
      }

      if (this.tsIsListTerminator(kind)) {
        break;
      }

      if (expectSuccess) {
        this.expect(types.comma);
      }

      return undefined;
    }

    return result;
  }

  tsParseBracketedList(kind, parseElement, bracket, skipFirstToken) {
    if (!skipFirstToken) {
      if (bracket) {
        this.expect(types.bracketL);
      } else {
        this.expectRelational("<");
      }
    }

    const result = this.tsParseDelimitedList(kind, parseElement);

    if (bracket) {
      this.expect(types.bracketR);
    } else {
      this.expectRelational(">");
    }

    return result;
  }

  tsParseImportType() {
    const node = this.startNode();
    this.expect(types._import);
    this.expect(types.parenL);

    if (!this.match(types.string)) {
      this.raise(this.state.start, TSErrors.UnsupportedImportTypeArgument);
    }

    node.argument = this.parseExprAtom();
    this.expect(types.parenR);

    if (this.eat(types.dot)) {
      node.qualifier = this.tsParseEntityName(true);
    }

    if (this.isRelational("<")) {
      node.typeParameters = this.tsParseTypeArguments();
    }

    return this.finishNode(node, "TSImportType");
  }

  tsParseEntityName(allowReservedWords) {
    let entity = this.parseIdentifier();

    while (this.eat(types.dot)) {
      const node = this.startNodeAtNode(entity);
      node.left = entity;
      node.right = this.parseIdentifier(allowReservedWords);
      entity = this.finishNode(node, "TSQualifiedName");
    }

    return entity;
  }

  tsParseTypeReference() {
    const node = this.startNode();
    node.typeName = this.tsParseEntityName(false);

    if (!this.hasPrecedingLineBreak() && this.isRelational("<")) {
      node.typeParameters = this.tsParseTypeArguments();
    }

    return this.finishNode(node, "TSTypeReference");
  }

  tsParseThisTypePredicate(lhs) {
    this.next();
    const node = this.startNodeAtNode(lhs);
    node.parameterName = lhs;
    node.typeAnnotation = this.tsParseTypeAnnotation(false);
    node.asserts = false;
    return this.finishNode(node, "TSTypePredicate");
  }

  tsParseThisTypeNode() {
    const node = this.startNode();
    this.next();
    return this.finishNode(node, "TSThisType");
  }

  tsParseTypeQuery() {
    const node = this.startNode();
    this.expect(types._typeof);

    if (this.match(types._import)) {
      node.exprName = this.tsParseImportType();
    } else {
      node.exprName = this.tsParseEntityName(true);
    }

    return this.finishNode(node, "TSTypeQuery");
  }

  tsParseTypeParameter() {
    const node = this.startNode();
    node.name = this.parseIdentifierName(node.start);
    node.constraint = this.tsEatThenParseType(types._extends);
    node.default = this.tsEatThenParseType(types.eq);
    return this.finishNode(node, "TSTypeParameter");
  }

  tsTryParseTypeParameters() {
    if (this.isRelational("<")) {
      return this.tsParseTypeParameters();
    }
  }

  tsParseTypeParameters() {
    const node = this.startNode();

    if (this.isRelational("<") || this.match(types.jsxTagStart)) {
      this.next();
    } else {
      this.unexpected();
    }

    node.params = this.tsParseBracketedList("TypeParametersOrArguments", this.tsParseTypeParameter.bind(this), false, true);

    if (node.params.length === 0) {
      this.raise(node.start, TSErrors.EmptyTypeParameters);
    }

    return this.finishNode(node, "TSTypeParameterDeclaration");
  }

  tsTryNextParseConstantContext() {
    if (this.lookahead().type === types._const) {
      this.next();
      return this.tsParseTypeReference();
    }

    return null;
  }

  tsFillSignature(returnToken, signature) {
    const returnTokenRequired = returnToken === types.arrow;
    signature.typeParameters = this.tsTryParseTypeParameters();
    this.expect(types.parenL);
    signature.parameters = this.tsParseBindingListForSignature();

    if (returnTokenRequired) {
      signature.typeAnnotation = this.tsParseTypeOrTypePredicateAnnotation(returnToken);
    } else if (this.match(returnToken)) {
      signature.typeAnnotation = this.tsParseTypeOrTypePredicateAnnotation(returnToken);
    }
  }

  tsParseBindingListForSignature() {
    return this.parseBindingList(types.parenR, 41).map(pattern => {
      if (pattern.type !== "Identifier" && pattern.type !== "RestElement" && pattern.type !== "ObjectPattern" && pattern.type !== "ArrayPattern") {
        this.raise(pattern.start, TSErrors.UnsupportedSignatureParameterKind, pattern.type);
      }

      return pattern;
    });
  }

  tsParseTypeMemberSemicolon() {
    if (!this.eat(types.comma)) {
      this.semicolon();
    }
  }

  tsParseSignatureMember(kind, node) {
    this.tsFillSignature(types.colon, node);
    this.tsParseTypeMemberSemicolon();
    return this.finishNode(node, kind);
  }

  tsIsUnambiguouslyIndexSignature() {
    this.next();
    return this.eat(types.name) && this.match(types.colon);
  }

  tsTryParseIndexSignature(node) {
    if (!(this.match(types.bracketL) && this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this)))) {
      return undefined;
    }

    this.expect(types.bracketL);
    const id = this.parseIdentifier();
    id.typeAnnotation = this.tsParseTypeAnnotation();
    this.resetEndLocation(id);
    this.expect(types.bracketR);
    node.parameters = [id];
    const type = this.tsTryParseTypeAnnotation();
    if (type) node.typeAnnotation = type;
    this.tsParseTypeMemberSemicolon();
    return this.finishNode(node, "TSIndexSignature");
  }

  tsParsePropertyOrMethodSignature(node, readonly) {
    if (this.eat(types.question)) node.optional = true;
    const nodeAny = node;

    if (!readonly && (this.match(types.parenL) || this.isRelational("<"))) {
      const method = nodeAny;
      this.tsFillSignature(types.colon, method);
      this.tsParseTypeMemberSemicolon();
      return this.finishNode(method, "TSMethodSignature");
    } else {
      const property = nodeAny;
      if (readonly) property.readonly = true;
      const type = this.tsTryParseTypeAnnotation();
      if (type) property.typeAnnotation = type;
      this.tsParseTypeMemberSemicolon();
      return this.finishNode(property, "TSPropertySignature");
    }
  }

  tsParseTypeMember() {
    const node = this.startNode();

    if (this.match(types.parenL) || this.isRelational("<")) {
      return this.tsParseSignatureMember("TSCallSignatureDeclaration", node);
    }

    if (this.match(types._new)) {
      const id = this.startNode();
      this.next();

      if (this.match(types.parenL) || this.isRelational("<")) {
        return this.tsParseSignatureMember("TSConstructSignatureDeclaration", node);
      } else {
        node.key = this.createIdentifier(id, "new");
        return this.tsParsePropertyOrMethodSignature(node, false);
      }
    }

    const readonly = !!this.tsParseModifier(["readonly"]);
    const idx = this.tsTryParseIndexSignature(node);

    if (idx) {
      if (readonly) node.readonly = true;
      return idx;
    }

    this.parsePropertyName(node, false);
    return this.tsParsePropertyOrMethodSignature(node, readonly);
  }

  tsParseTypeLiteral() {
    const node = this.startNode();
    node.members = this.tsParseObjectTypeMembers();
    return this.finishNode(node, "TSTypeLiteral");
  }

  tsParseObjectTypeMembers() {
    this.expect(types.braceL);
    const members = this.tsParseList("TypeMembers", this.tsParseTypeMember.bind(this));
    this.expect(types.braceR);
    return members;
  }

  tsIsStartOfMappedType() {
    this.next();

    if (this.eat(types.plusMin)) {
      return this.isContextual("readonly");
    }

    if (this.isContextual("readonly")) {
      this.next();
    }

    if (!this.match(types.bracketL)) {
      return false;
    }

    this.next();

    if (!this.tsIsIdentifier()) {
      return false;
    }

    this.next();
    return this.match(types._in);
  }

  tsParseMappedTypeParameter() {
    const node = this.startNode();
    node.name = this.parseIdentifierName(node.start);
    node.constraint = this.tsExpectThenParseType(types._in);
    return this.finishNode(node, "TSTypeParameter");
  }

  tsParseMappedType() {
    const node = this.startNode();
    this.expect(types.braceL);

    if (this.match(types.plusMin)) {
      node.readonly = this.state.value;
      this.next();
      this.expectContextual("readonly");
    } else if (this.eatContextual("readonly")) {
      node.readonly = true;
    }

    this.expect(types.bracketL);
    node.typeParameter = this.tsParseMappedTypeParameter();
    node.nameType = this.eatContextual("as") ? this.tsParseType() : null;
    this.expect(types.bracketR);

    if (this.match(types.plusMin)) {
      node.optional = this.state.value;
      this.next();
      this.expect(types.question);
    } else if (this.eat(types.question)) {
      node.optional = true;
    }

    node.typeAnnotation = this.tsTryParseType();
    this.semicolon();
    this.expect(types.braceR);
    return this.finishNode(node, "TSMappedType");
  }

  tsParseTupleType() {
    const node = this.startNode();
    node.elementTypes = this.tsParseBracketedList("TupleElementTypes", this.tsParseTupleElementType.bind(this), true, false);
    let seenOptionalElement = false;
    let labeledElements = null;
    node.elementTypes.forEach(elementNode => {
      var _labeledElements;

      let {
        type
      } = elementNode;

      if (seenOptionalElement && type !== "TSRestType" && type !== "TSOptionalType" && !(type === "TSNamedTupleMember" && elementNode.optional)) {
        this.raise(elementNode.start, TSErrors.OptionalTypeBeforeRequired);
      }

      seenOptionalElement = seenOptionalElement || type === "TSNamedTupleMember" && elementNode.optional || type === "TSOptionalType";

      if (type === "TSRestType") {
        elementNode = elementNode.typeAnnotation;
        type = elementNode.type;
      }

      const isLabeled = type === "TSNamedTupleMember";
      labeledElements = (_labeledElements = labeledElements) != null ? _labeledElements : isLabeled;

      if (labeledElements !== isLabeled) {
        this.raise(elementNode.start, TSErrors.MixedLabeledAndUnlabeledElements);
      }
    });
    return this.finishNode(node, "TSTupleType");
  }

  tsParseTupleElementType() {
    const {
      start: startPos,
      startLoc
    } = this.state;
    const rest = this.eat(types.ellipsis);
    let type = this.tsParseType();
    const optional = this.eat(types.question);
    const labeled = this.eat(types.colon);

    if (labeled) {
      const labeledNode = this.startNodeAtNode(type);
      labeledNode.optional = optional;

      if (type.type === "TSTypeReference" && !type.typeParameters && type.typeName.type === "Identifier") {
        labeledNode.label = type.typeName;
      } else {
        this.raise(type.start, TSErrors.InvalidTupleMemberLabel);
        labeledNode.label = type;
      }

      labeledNode.elementType = this.tsParseType();
      type = this.finishNode(labeledNode, "TSNamedTupleMember");
    } else if (optional) {
      const optionalTypeNode = this.startNodeAtNode(type);
      optionalTypeNode.typeAnnotation = type;
      type = this.finishNode(optionalTypeNode, "TSOptionalType");
    }

    if (rest) {
      const restNode = this.startNodeAt(startPos, startLoc);
      restNode.typeAnnotation = type;
      type = this.finishNode(restNode, "TSRestType");
    }

    return type;
  }

  tsParseParenthesizedType() {
    const node = this.startNode();
    this.expect(types.parenL);
    node.typeAnnotation = this.tsParseType();
    this.expect(types.parenR);
    return this.finishNode(node, "TSParenthesizedType");
  }

  tsParseFunctionOrConstructorType(type) {
    const node = this.startNode();

    if (type === "TSConstructorType") {
      this.expect(types._new);
    }

    this.tsFillSignature(types.arrow, node);
    return this.finishNode(node, type);
  }

  tsParseLiteralTypeNode() {
    const node = this.startNode();

    node.literal = (() => {
      switch (this.state.type) {
        case types.num:
        case types.bigint:
        case types.string:
        case types._true:
        case types._false:
          return this.parseExprAtom();

        default:
          throw this.unexpected();
      }
    })();

    return this.finishNode(node, "TSLiteralType");
  }

  tsParseTemplateLiteralType() {
    const node = this.startNode();
    node.literal = this.parseTemplate(false);
    return this.finishNode(node, "TSLiteralType");
  }

  parseTemplateSubstitution() {
    if (this.state.inType) return this.tsParseType();
    return super.parseTemplateSubstitution();
  }

  tsParseThisTypeOrThisTypePredicate() {
    const thisKeyword = this.tsParseThisTypeNode();

    if (this.isContextual("is") && !this.hasPrecedingLineBreak()) {
      return this.tsParseThisTypePredicate(thisKeyword);
    } else {
      return thisKeyword;
    }
  }

  tsParseNonArrayType() {
    switch (this.state.type) {
      case types.name:
      case types._void:
      case types._null:
        {
          const type = this.match(types._void) ? "TSVoidKeyword" : this.match(types._null) ? "TSNullKeyword" : keywordTypeFromName(this.state.value);

          if (type !== undefined && this.lookaheadCharCode() !== 46) {
            const node = this.startNode();
            this.next();
            return this.finishNode(node, type);
          }

          return this.tsParseTypeReference();
        }

      case types.string:
      case types.num:
      case types.bigint:
      case types._true:
      case types._false:
        return this.tsParseLiteralTypeNode();

      case types.plusMin:
        if (this.state.value === "-") {
          const node = this.startNode();
          const nextToken = this.lookahead();

          if (nextToken.type !== types.num && nextToken.type !== types.bigint) {
            throw this.unexpected();
          }

          node.literal = this.parseMaybeUnary();
          return this.finishNode(node, "TSLiteralType");
        }

        break;

      case types._this:
        return this.tsParseThisTypeOrThisTypePredicate();

      case types._typeof:
        return this.tsParseTypeQuery();

      case types._import:
        return this.tsParseImportType();

      case types.braceL:
        return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this)) ? this.tsParseMappedType() : this.tsParseTypeLiteral();

      case types.bracketL:
        return this.tsParseTupleType();

      case types.parenL:
        return this.tsParseParenthesizedType();

      case types.backQuote:
        return this.tsParseTemplateLiteralType();
    }

    throw this.unexpected();
  }

  tsParseArrayTypeOrHigher() {
    let type = this.tsParseNonArrayType();

    while (!this.hasPrecedingLineBreak() && this.eat(types.bracketL)) {
      if (this.match(types.bracketR)) {
        const node = this.startNodeAtNode(type);
        node.elementType = type;
        this.expect(types.bracketR);
        type = this.finishNode(node, "TSArrayType");
      } else {
        const node = this.startNodeAtNode(type);
        node.objectType = type;
        node.indexType = this.tsParseType();
        this.expect(types.bracketR);
        type = this.finishNode(node, "TSIndexedAccessType");
      }
    }

    return type;
  }

  tsParseTypeOperator(operator) {
    const node = this.startNode();
    this.expectContextual(operator);
    node.operator = operator;
    node.typeAnnotation = this.tsParseTypeOperatorOrHigher();

    if (operator === "readonly") {
      this.tsCheckTypeAnnotationForReadOnly(node);
    }

    return this.finishNode(node, "TSTypeOperator");
  }

  tsCheckTypeAnnotationForReadOnly(node) {
    switch (node.typeAnnotation.type) {
      case "TSTupleType":
      case "TSArrayType":
        return;

      default:
        this.raise(node.start, TSErrors.UnexpectedReadonly);
    }
  }

  tsParseInferType() {
    const node = this.startNode();
    this.expectContextual("infer");
    const typeParameter = this.startNode();
    typeParameter.name = this.parseIdentifierName(typeParameter.start);
    node.typeParameter = this.finishNode(typeParameter, "TSTypeParameter");
    return this.finishNode(node, "TSInferType");
  }

  tsParseTypeOperatorOrHigher() {
    const operator = ["keyof", "unique", "readonly"].find(kw => this.isContextual(kw));
    return operator ? this.tsParseTypeOperator(operator) : this.isContextual("infer") ? this.tsParseInferType() : this.tsParseArrayTypeOrHigher();
  }

  tsParseUnionOrIntersectionType(kind, parseConstituentType, operator) {
    this.eat(operator);
    let type = parseConstituentType();

    if (this.match(operator)) {
      const types = [type];

      while (this.eat(operator)) {
        types.push(parseConstituentType());
      }

      const node = this.startNodeAtNode(type);
      node.types = types;
      type = this.finishNode(node, kind);
    }

    return type;
  }

  tsParseIntersectionTypeOrHigher() {
    return this.tsParseUnionOrIntersectionType("TSIntersectionType", this.tsParseTypeOperatorOrHigher.bind(this), types.bitwiseAND);
  }

  tsParseUnionTypeOrHigher() {
    return this.tsParseUnionOrIntersectionType("TSUnionType", this.tsParseIntersectionTypeOrHigher.bind(this), types.bitwiseOR);
  }

  tsIsStartOfFunctionType() {
    if (this.isRelational("<")) {
      return true;
    }

    return this.match(types.parenL) && this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this));
  }

  tsSkipParameterStart() {
    if (this.match(types.name) || this.match(types._this)) {
      this.next();
      return true;
    }

    if (this.match(types.braceL)) {
      let braceStackCounter = 1;
      this.next();

      while (braceStackCounter > 0) {
        if (this.match(types.braceL)) {
          ++braceStackCounter;
        } else if (this.match(types.braceR)) {
          --braceStackCounter;
        }

        this.next();
      }

      return true;
    }

    if (this.match(types.bracketL)) {
      let braceStackCounter = 1;
      this.next();

      while (braceStackCounter > 0) {
        if (this.match(types.bracketL)) {
          ++braceStackCounter;
        } else if (this.match(types.bracketR)) {
          --braceStackCounter;
        }

        this.next();
      }

      return true;
    }

    return false;
  }

  tsIsUnambiguouslyStartOfFunctionType() {
    this.next();

    if (this.match(types.parenR) || this.match(types.ellipsis)) {
      return true;
    }

    if (this.tsSkipParameterStart()) {
      if (this.match(types.colon) || this.match(types.comma) || this.match(types.question) || this.match(types.eq)) {
        return true;
      }

      if (this.match(types.parenR)) {
        this.next();

        if (this.match(types.arrow)) {
          return true;
        }
      }
    }

    return false;
  }

  tsParseTypeOrTypePredicateAnnotation(returnToken) {
    return this.tsInType(() => {
      const t = this.startNode();
      this.expect(returnToken);
      const asserts = !!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));

      if (asserts && this.match(types._this)) {
        let thisTypePredicate = this.tsParseThisTypeOrThisTypePredicate();

        if (thisTypePredicate.type === "TSThisType") {
          const node = this.startNodeAtNode(t);
          node.parameterName = thisTypePredicate;
          node.asserts = true;
          thisTypePredicate = this.finishNode(node, "TSTypePredicate");
        } else {
          thisTypePredicate.asserts = true;
        }

        t.typeAnnotation = thisTypePredicate;
        return this.finishNode(t, "TSTypeAnnotation");
      }

      const typePredicateVariable = this.tsIsIdentifier() && this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));

      if (!typePredicateVariable) {
        if (!asserts) {
          return this.tsParseTypeAnnotation(false, t);
        }

        const node = this.startNodeAtNode(t);
        node.parameterName = this.parseIdentifier();
        node.asserts = asserts;
        t.typeAnnotation = this.finishNode(node, "TSTypePredicate");
        return this.finishNode(t, "TSTypeAnnotation");
      }

      const type = this.tsParseTypeAnnotation(false);
      const node = this.startNodeAtNode(t);
      node.parameterName = typePredicateVariable;
      node.typeAnnotation = type;
      node.asserts = asserts;
      t.typeAnnotation = this.finishNode(node, "TSTypePredicate");
      return this.finishNode(t, "TSTypeAnnotation");
    });
  }

  tsTryParseTypeOrTypePredicateAnnotation() {
    return this.match(types.colon) ? this.tsParseTypeOrTypePredicateAnnotation(types.colon) : undefined;
  }

  tsTryParseTypeAnnotation() {
    return this.match(types.colon) ? this.tsParseTypeAnnotation() : undefined;
  }

  tsTryParseType() {
    return this.tsEatThenParseType(types.colon);
  }

  tsParseTypePredicatePrefix() {
    const id = this.parseIdentifier();

    if (this.isContextual("is") && !this.hasPrecedingLineBreak()) {
      this.next();
      return id;
    }
  }

  tsParseTypePredicateAsserts() {
    if (!this.match(types.name) || this.state.value !== "asserts" || this.hasPrecedingLineBreak()) {
      return false;
    }

    const containsEsc = this.state.containsEsc;
    this.next();

    if (!this.match(types.name) && !this.match(types._this)) {
      return false;
    }

    if (containsEsc) {
      this.raise(this.state.lastTokStart, ErrorMessages.InvalidEscapedReservedWord, "asserts");
    }

    return true;
  }

  tsParseTypeAnnotation(eatColon = true, t = this.startNode()) {
    this.tsInType(() => {
      if (eatColon) this.expect(types.colon);
      t.typeAnnotation = this.tsParseType();
    });
    return this.finishNode(t, "TSTypeAnnotation");
  }

  tsParseType() {
    assert(this.state.inType);
    const type = this.tsParseNonConditionalType();

    if (this.hasPrecedingLineBreak() || !this.eat(types._extends)) {
      return type;
    }

    const node = this.startNodeAtNode(type);
    node.checkType = type;
    node.extendsType = this.tsParseNonConditionalType();
    this.expect(types.question);
    node.trueType = this.tsParseType();
    this.expect(types.colon);
    node.falseType = this.tsParseType();
    return this.finishNode(node, "TSConditionalType");
  }

  tsParseNonConditionalType() {
    if (this.tsIsStartOfFunctionType()) {
      return this.tsParseFunctionOrConstructorType("TSFunctionType");
    }

    if (this.match(types._new)) {
      return this.tsParseFunctionOrConstructorType("TSConstructorType");
    }

    return this.tsParseUnionTypeOrHigher();
  }

  tsParseTypeAssertion() {
    const node = this.startNode();

    const _const = this.tsTryNextParseConstantContext();

    node.typeAnnotation = _const || this.tsNextThenParseType();
    this.expectRelational(">");
    node.expression = this.parseMaybeUnary();
    return this.finishNode(node, "TSTypeAssertion");
  }

  tsParseHeritageClause(descriptor) {
    const originalStart = this.state.start;
    const delimitedList = this.tsParseDelimitedList("HeritageClauseElement", this.tsParseExpressionWithTypeArguments.bind(this));

    if (!delimitedList.length) {
      this.raise(originalStart, TSErrors.EmptyHeritageClauseType, descriptor);
    }

    return delimitedList;
  }

  tsParseExpressionWithTypeArguments() {
    const node = this.startNode();
    node.expression = this.tsParseEntityName(false);

    if (this.isRelational("<")) {
      node.typeParameters = this.tsParseTypeArguments();
    }

    return this.finishNode(node, "TSExpressionWithTypeArguments");
  }

  tsParseInterfaceDeclaration(node) {
    node.id = this.parseIdentifier();
    this.checkLVal(node.id, "typescript interface declaration", BIND_TS_INTERFACE);
    node.typeParameters = this.tsTryParseTypeParameters();

    if (this.eat(types._extends)) {
      node.extends = this.tsParseHeritageClause("extends");
    }

    const body = this.startNode();
    body.body = this.tsInType(this.tsParseObjectTypeMembers.bind(this));
    node.body = this.finishNode(body, "TSInterfaceBody");
    return this.finishNode(node, "TSInterfaceDeclaration");
  }

  tsParseTypeAliasDeclaration(node) {
    node.id = this.parseIdentifier();
    this.checkLVal(node.id, "typescript type alias", BIND_TS_TYPE);
    node.typeParameters = this.tsTryParseTypeParameters();
    node.typeAnnotation = this.tsInType(() => {
      this.expect(types.eq);

      if (this.isContextual("intrinsic") && this.lookahead().type !== types.dot) {
        const node = this.startNode();
        this.next();
        return this.finishNode(node, "TSIntrinsicKeyword");
      }

      return this.tsParseType();
    });
    this.semicolon();
    return this.finishNode(node, "TSTypeAliasDeclaration");
  }

  tsInNoContext(cb) {
    const oldContext = this.state.context;
    this.state.context = [oldContext[0]];

    try {
      return cb();
    } finally {
      this.state.context = oldContext;
    }
  }

  tsInType(cb) {
    const oldInType = this.state.inType;
    this.state.inType = true;

    try {
      return cb();
    } finally {
      this.state.inType = oldInType;
    }
  }

  tsEatThenParseType(token) {
    return !this.match(token) ? undefined : this.tsNextThenParseType();
  }

  tsExpectThenParseType(token) {
    return this.tsDoThenParseType(() => this.expect(token));
  }

  tsNextThenParseType() {
    return this.tsDoThenParseType(() => this.next());
  }

  tsDoThenParseType(cb) {
    return this.tsInType(() => {
      cb();
      return this.tsParseType();
    });
  }

  tsParseEnumMember() {
    const node = this.startNode();
    node.id = this.match(types.string) ? this.parseExprAtom() : this.parseIdentifier(true);

    if (this.eat(types.eq)) {
      node.initializer = this.parseMaybeAssignAllowIn();
    }

    return this.finishNode(node, "TSEnumMember");
  }

  tsParseEnumDeclaration(node, isConst) {
    if (isConst) node.const = true;
    node.id = this.parseIdentifier();
    this.checkLVal(node.id, "typescript enum declaration", isConst ? BIND_TS_CONST_ENUM : BIND_TS_ENUM);
    this.expect(types.braceL);
    node.members = this.tsParseDelimitedList("EnumMembers", this.tsParseEnumMember.bind(this));
    this.expect(types.braceR);
    return this.finishNode(node, "TSEnumDeclaration");
  }

  tsParseModuleBlock() {
    const node = this.startNode();
    this.scope.enter(SCOPE_OTHER);
    this.expect(types.braceL);
    this.parseBlockOrModuleBlockBody(node.body = [], undefined, true, types.braceR);
    this.scope.exit();
    return this.finishNode(node, "TSModuleBlock");
  }

  tsParseModuleOrNamespaceDeclaration(node, nested = false) {
    node.id = this.parseIdentifier();

    if (!nested) {
      this.checkLVal(node.id, "module or namespace declaration", BIND_TS_NAMESPACE);
    }

    if (this.eat(types.dot)) {
      const inner = this.startNode();
      this.tsParseModuleOrNamespaceDeclaration(inner, true);
      node.body = inner;
    } else {
      this.scope.enter(SCOPE_TS_MODULE);
      this.prodParam.enter(PARAM);
      node.body = this.tsParseModuleBlock();
      this.prodParam.exit();
      this.scope.exit();
    }

    return this.finishNode(node, "TSModuleDeclaration");
  }

  tsParseAmbientExternalModuleDeclaration(node) {
    if (this.isContextual("global")) {
      node.global = true;
      node.id = this.parseIdentifier();
    } else if (this.match(types.string)) {
      node.id = this.parseExprAtom();
    } else {
      this.unexpected();
    }

    if (this.match(types.braceL)) {
      this.scope.enter(SCOPE_TS_MODULE);
      this.prodParam.enter(PARAM);
      node.body = this.tsParseModuleBlock();
      this.prodParam.exit();
      this.scope.exit();
    } else {
      this.semicolon();
    }

    return this.finishNode(node, "TSModuleDeclaration");
  }

  tsParseImportEqualsDeclaration(node, isExport) {
    node.isExport = isExport || false;
    node.id = this.parseIdentifier();
    this.checkLVal(node.id, "import equals declaration", BIND_LEXICAL);
    this.expect(types.eq);
    node.moduleReference = this.tsParseModuleReference();
    this.semicolon();
    return this.finishNode(node, "TSImportEqualsDeclaration");
  }

  tsIsExternalModuleReference() {
    return this.isContextual("require") && this.lookaheadCharCode() === 40;
  }

  tsParseModuleReference() {
    return this.tsIsExternalModuleReference() ? this.tsParseExternalModuleReference() : this.tsParseEntityName(false);
  }

  tsParseExternalModuleReference() {
    const node = this.startNode();
    this.expectContextual("require");
    this.expect(types.parenL);

    if (!this.match(types.string)) {
      throw this.unexpected();
    }

    node.expression = this.parseExprAtom();
    this.expect(types.parenR);
    return this.finishNode(node, "TSExternalModuleReference");
  }

  tsLookAhead(f) {
    const state = this.state.clone();
    const res = f();
    this.state = state;
    return res;
  }

  tsTryParseAndCatch(f) {
    const result = this.tryParse(abort => f() || abort());
    if (result.aborted || !result.node) return undefined;
    if (result.error) this.state = result.failState;
    return result.node;
  }

  tsTryParse(f) {
    const state = this.state.clone();
    const result = f();

    if (result !== undefined && result !== false) {
      return result;
    } else {
      this.state = state;
      return undefined;
    }
  }

  tsTryParseDeclare(nany) {
    if (this.isLineTerminator()) {
      return;
    }

    let starttype = this.state.type;
    let kind;

    if (this.isContextual("let")) {
      starttype = types._var;
      kind = "let";
    }

    return this.tsInDeclareContext(() => {
      switch (starttype) {
        case types._function:
          nany.declare = true;
          return this.parseFunctionStatement(nany, false, true);

        case types._class:
          nany.declare = true;
          return this.parseClass(nany, true, false);

        case types._const:
          if (this.match(types._const) && this.isLookaheadContextual("enum")) {
            this.expect(types._const);
            this.expectContextual("enum");
            return this.tsParseEnumDeclaration(nany, true);
          }

        case types._var:
          kind = kind || this.state.value;
          return this.parseVarStatement(nany, kind);

        case types.name:
          {
            const value = this.state.value;

            if (value === "global") {
              return this.tsParseAmbientExternalModuleDeclaration(nany);
            } else {
              return this.tsParseDeclaration(nany, value, true);
            }
          }
      }
    });
  }

  tsTryParseExportDeclaration() {
    return this.tsParseDeclaration(this.startNode(), this.state.value, true);
  }

  tsParseExpressionStatement(node, expr) {
    switch (expr.name) {
      case "declare":
        {
          const declaration = this.tsTryParseDeclare(node);

          if (declaration) {
            declaration.declare = true;
            return declaration;
          }

          break;
        }

      case "global":
        if (this.match(types.braceL)) {
          this.scope.enter(SCOPE_TS_MODULE);
          this.prodParam.enter(PARAM);
          const mod = node;
          mod.global = true;
          mod.id = expr;
          mod.body = this.tsParseModuleBlock();
          this.scope.exit();
          this.prodParam.exit();
          return this.finishNode(mod, "TSModuleDeclaration");
        }

        break;

      default:
        return this.tsParseDeclaration(node, expr.name, false);
    }
  }

  tsParseDeclaration(node, value, next) {
    switch (value) {
      case "abstract":
        if (this.tsCheckLineTerminatorAndMatch(types._class, next)) {
          const cls = node;
          cls.abstract = true;

          if (next) {
            this.next();

            if (!this.match(types._class)) {
              this.unexpected(null, types._class);
            }
          }

          return this.parseClass(cls, true, false);
        }

        break;

      case "enum":
        if (next || this.match(types.name)) {
          if (next) this.next();
          return this.tsParseEnumDeclaration(node, false);
        }

        break;

      case "interface":
        if (this.tsCheckLineTerminatorAndMatch(types.name, next)) {
          if (next) this.next();
          return this.tsParseInterfaceDeclaration(node);
        }

        break;

      case "module":
        if (next) this.next();

        if (this.match(types.string)) {
          return this.tsParseAmbientExternalModuleDeclaration(node);
        } else if (this.tsCheckLineTerminatorAndMatch(types.name, next)) {
          return this.tsParseModuleOrNamespaceDeclaration(node);
        }

        break;

      case "namespace":
        if (this.tsCheckLineTerminatorAndMatch(types.name, next)) {
          if (next) this.next();
          return this.tsParseModuleOrNamespaceDeclaration(node);
        }

        break;

      case "type":
        if (this.tsCheckLineTerminatorAndMatch(types.name, next)) {
          if (next) this.next();
          return this.tsParseTypeAliasDeclaration(node);
        }

        break;
    }
  }

  tsCheckLineTerminatorAndMatch(tokenType, next) {
    return (next || this.match(tokenType)) && !this.isLineTerminator();
  }

  tsTryParseGenericAsyncArrowFunction(startPos, startLoc) {
    if (!this.isRelational("<")) {
      return undefined;
    }

    const oldMaybeInArrowParameters = this.state.maybeInArrowParameters;
    this.state.maybeInArrowParameters = true;
    const res = this.tsTryParseAndCatch(() => {
      const node = this.startNodeAt(startPos, startLoc);
      node.typeParameters = this.tsParseTypeParameters();
      super.parseFunctionParams(node);
      node.returnType = this.tsTryParseTypeOrTypePredicateAnnotation();
      this.expect(types.arrow);
      return node;
    });
    this.state.maybeInArrowParameters = oldMaybeInArrowParameters;

    if (!res) {
      return undefined;
    }

    return this.parseArrowExpression(res, null, true);
  }

  tsParseTypeArguments() {
    const node = this.startNode();
    node.params = this.tsInType(() => this.tsInNoContext(() => {
      this.expectRelational("<");
      return this.tsParseDelimitedList("TypeParametersOrArguments", this.tsParseType.bind(this));
    }));

    if (node.params.length === 0) {
      this.raise(node.start, TSErrors.EmptyTypeArguments);
    }

    this.state.exprAllowed = false;
    this.expectRelational(">");
    return this.finishNode(node, "TSTypeParameterInstantiation");
  }

  tsIsDeclarationStart() {
    if (this.match(types.name)) {
      switch (this.state.value) {
        case "abstract":
        case "declare":
        case "enum":
        case "interface":
        case "module":
        case "namespace":
        case "type":
          return true;
      }
    }

    return false;
  }

  isExportDefaultSpecifier() {
    if (this.tsIsDeclarationStart()) return false;
    return super.isExportDefaultSpecifier();
  }

  parseAssignableListItem(allowModifiers, decorators) {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    let accessibility;
    let readonly = false;

    if (allowModifiers !== undefined) {
      accessibility = this.parseAccessModifier();
      readonly = !!this.tsParseModifier(["readonly"]);

      if (allowModifiers === false && (accessibility || readonly)) {
        this.raise(startPos, TSErrors.UnexpectedParameterModifier);
      }
    }

    const left = this.parseMaybeDefault();
    this.parseAssignableListItemTypes(left);
    const elt = this.parseMaybeDefault(left.start, left.loc.start, left);

    if (accessibility || readonly) {
      const pp = this.startNodeAt(startPos, startLoc);

      if (decorators.length) {
        pp.decorators = decorators;
      }

      if (accessibility) pp.accessibility = accessibility;
      if (readonly) pp.readonly = readonly;

      if (elt.type !== "Identifier" && elt.type !== "AssignmentPattern") {
        this.raise(pp.start, TSErrors.UnsupportedParameterPropertyKind);
      }

      pp.parameter = elt;
      return this.finishNode(pp, "TSParameterProperty");
    }

    if (decorators.length) {
      left.decorators = decorators;
    }

    return elt;
  }

  parseFunctionBodyAndFinish(node, type, isMethod = false) {
    if (this.match(types.colon)) {
      node.returnType = this.tsParseTypeOrTypePredicateAnnotation(types.colon);
    }

    const bodilessType = type === "FunctionDeclaration" ? "TSDeclareFunction" : type === "ClassMethod" ? "TSDeclareMethod" : undefined;

    if (bodilessType && !this.match(types.braceL) && this.isLineTerminator()) {
      this.finishNode(node, bodilessType);
      return;
    }

    if (bodilessType === "TSDeclareFunction" && this.state.isDeclareContext) {
      this.raise(node.start, TSErrors.DeclareFunctionHasImplementation);

      if (node.declare) {
        super.parseFunctionBodyAndFinish(node, bodilessType, isMethod);
        return;
      }
    }

    super.parseFunctionBodyAndFinish(node, type, isMethod);
  }

  registerFunctionStatementId(node) {
    if (!node.body && node.id) {
      this.checkLVal(node.id, "function name", BIND_TS_AMBIENT);
    } else {
      super.registerFunctionStatementId(...arguments);
    }
  }

  tsCheckForInvalidTypeCasts(items) {
    items.forEach(node => {
      if ((node == null ? void 0 : node.type) === "TSTypeCastExpression") {
        this.raise(node.typeAnnotation.start, TSErrors.UnexpectedTypeAnnotation);
      }
    });
  }

  toReferencedList(exprList, isInParens) {
    this.tsCheckForInvalidTypeCasts(exprList);
    return exprList;
  }

  parseArrayLike(...args) {
    const node = super.parseArrayLike(...args);

    if (node.type === "ArrayExpression") {
      this.tsCheckForInvalidTypeCasts(node.elements);
    }

    return node;
  }

  parseSubscript(base, startPos, startLoc, noCalls, state) {
    if (!this.hasPrecedingLineBreak() && this.match(types.bang)) {
      this.state.exprAllowed = false;
      this.next();
      const nonNullExpression = this.startNodeAt(startPos, startLoc);
      nonNullExpression.expression = base;
      return this.finishNode(nonNullExpression, "TSNonNullExpression");
    }

    if (this.isRelational("<")) {
      const result = this.tsTryParseAndCatch(() => {
        if (!noCalls && this.atPossibleAsyncArrow(base)) {
          const asyncArrowFn = this.tsTryParseGenericAsyncArrowFunction(startPos, startLoc);

          if (asyncArrowFn) {
            return asyncArrowFn;
          }
        }

        const node = this.startNodeAt(startPos, startLoc);
        node.callee = base;
        const typeArguments = this.tsParseTypeArguments();

        if (typeArguments) {
          if (!noCalls && this.eat(types.parenL)) {
            node.arguments = this.parseCallExpressionArguments(types.parenR, false);
            this.tsCheckForInvalidTypeCasts(node.arguments);
            node.typeParameters = typeArguments;
            return this.finishCallExpression(node, state.optionalChainMember);
          } else if (this.match(types.backQuote)) {
            const result = this.parseTaggedTemplateExpression(base, startPos, startLoc, state);
            result.typeParameters = typeArguments;
            return result;
          }
        }

        this.unexpected();
      });
      if (result) return result;
    }

    return super.parseSubscript(base, startPos, startLoc, noCalls, state);
  }

  parseNewArguments(node) {
    if (this.isRelational("<")) {
      const typeParameters = this.tsTryParseAndCatch(() => {
        const args = this.tsParseTypeArguments();
        if (!this.match(types.parenL)) this.unexpected();
        return args;
      });

      if (typeParameters) {
        node.typeParameters = typeParameters;
      }
    }

    super.parseNewArguments(node);
  }

  parseExprOp(left, leftStartPos, leftStartLoc, minPrec) {
    if (nonNull(types._in.binop) > minPrec && !this.hasPrecedingLineBreak() && this.isContextual("as")) {
      const node = this.startNodeAt(leftStartPos, leftStartLoc);
      node.expression = left;

      const _const = this.tsTryNextParseConstantContext();

      if (_const) {
        node.typeAnnotation = _const;
      } else {
        node.typeAnnotation = this.tsNextThenParseType();
      }

      this.finishNode(node, "TSAsExpression");
      this.reScan_lt_gt();
      return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec);
    }

    return super.parseExprOp(left, leftStartPos, leftStartLoc, minPrec);
  }

  checkReservedWord(word, startLoc, checkKeywords, isBinding) {}

  checkDuplicateExports() {}

  parseImport(node) {
    if (this.match(types.name) || this.match(types.star) || this.match(types.braceL)) {
      const ahead = this.lookahead();

      if (this.match(types.name) && ahead.type === types.eq) {
        return this.tsParseImportEqualsDeclaration(node);
      }

      if (this.isContextual("type") && ahead.type !== types.comma && !(ahead.type === types.name && ahead.value === "from")) {
        node.importKind = "type";
        this.next();
      }
    }

    if (!node.importKind) {
      node.importKind = "value";
    }

    const importNode = super.parseImport(node);

    if (importNode.importKind === "type" && importNode.specifiers.length > 1 && importNode.specifiers[0].type === "ImportDefaultSpecifier") {
      this.raise(importNode.start, "A type-only import can specify a default import or named bindings, but not both.");
    }

    return importNode;
  }

  parseExport(node) {
    if (this.match(types._import)) {
      this.expect(types._import);
      return this.tsParseImportEqualsDeclaration(node, true);
    } else if (this.eat(types.eq)) {
      const assign = node;
      assign.expression = this.parseExpression();
      this.semicolon();
      return this.finishNode(assign, "TSExportAssignment");
    } else if (this.eatContextual("as")) {
      const decl = node;
      this.expectContextual("namespace");
      decl.id = this.parseIdentifier();
      this.semicolon();
      return this.finishNode(decl, "TSNamespaceExportDeclaration");
    } else {
      if (this.isContextual("type") && this.lookahead().type === types.braceL) {
        this.next();
        node.exportKind = "type";
      } else {
        node.exportKind = "value";
      }

      return super.parseExport(node);
    }
  }

  isAbstractClass() {
    return this.isContextual("abstract") && this.lookahead().type === types._class;
  }

  parseExportDefaultExpression() {
    if (this.isAbstractClass()) {
      const cls = this.startNode();
      this.next();
      this.parseClass(cls, true, true);
      cls.abstract = true;
      return cls;
    }

    if (this.state.value === "interface") {
      const result = this.tsParseDeclaration(this.startNode(), this.state.value, true);
      if (result) return result;
    }

    return super.parseExportDefaultExpression();
  }

  parseStatementContent(context, topLevel) {
    if (this.state.type === types._const) {
      const ahead = this.lookahead();

      if (ahead.type === types.name && ahead.value === "enum") {
        const node = this.startNode();
        this.expect(types._const);
        this.expectContextual("enum");
        return this.tsParseEnumDeclaration(node, true);
      }
    }

    return super.parseStatementContent(context, topLevel);
  }

  parseAccessModifier() {
    return this.tsParseModifier(["public", "protected", "private"]);
  }

  parseClassMember(classBody, member, state) {
    this.tsParseModifiers(member, ["declare"]);
    const accessibility = this.parseAccessModifier();
    if (accessibility) member.accessibility = accessibility;
    this.tsParseModifiers(member, ["declare"]);

    const callParseClassMember = () => {
      super.parseClassMember(classBody, member, state);
    };

    if (member.declare) {
      this.tsInDeclareContext(callParseClassMember);
    } else {
      callParseClassMember();
    }
  }

  parseClassMemberWithIsStatic(classBody, member, state, isStatic) {
    this.tsParseModifiers(member, ["abstract", "readonly", "declare"]);
    const idx = this.tsTryParseIndexSignature(member);

    if (idx) {
      classBody.body.push(idx);

      if (member.abstract) {
        this.raise(member.start, TSErrors.IndexSignatureHasAbstract);
      }

      if (isStatic) {
        this.raise(member.start, TSErrors.IndexSignatureHasStatic);
      }

      if (member.accessibility) {
        this.raise(member.start, TSErrors.IndexSignatureHasAccessibility, member.accessibility);
      }

      if (member.declare) {
        this.raise(member.start, TSErrors.IndexSignatureHasDeclare);
      }

      return;
    }

    super.parseClassMemberWithIsStatic(classBody, member, state, isStatic);
  }

  parsePostMemberNameModifiers(methodOrProp) {
    const optional = this.eat(types.question);
    if (optional) methodOrProp.optional = true;

    if (methodOrProp.readonly && this.match(types.parenL)) {
      this.raise(methodOrProp.start, TSErrors.ClassMethodHasReadonly);
    }

    if (methodOrProp.declare && this.match(types.parenL)) {
      this.raise(methodOrProp.start, TSErrors.ClassMethodHasDeclare);
    }
  }

  parseExpressionStatement(node, expr) {
    const decl = expr.type === "Identifier" ? this.tsParseExpressionStatement(node, expr) : undefined;
    return decl || super.parseExpressionStatement(node, expr);
  }

  shouldParseExportDeclaration() {
    if (this.tsIsDeclarationStart()) return true;
    return super.shouldParseExportDeclaration();
  }

  parseConditional(expr, startPos, startLoc, refNeedsArrowPos) {
    if (!refNeedsArrowPos || !this.match(types.question)) {
      return super.parseConditional(expr, startPos, startLoc, refNeedsArrowPos);
    }

    const result = this.tryParse(() => super.parseConditional(expr, startPos, startLoc));

    if (!result.node) {
      refNeedsArrowPos.start = result.error.pos || this.state.start;
      return expr;
    }

    if (result.error) this.state = result.failState;
    return result.node;
  }

  parseParenItem(node, startPos, startLoc) {
    node = super.parseParenItem(node, startPos, startLoc);

    if (this.eat(types.question)) {
      node.optional = true;
      this.resetEndLocation(node);
    }

    if (this.match(types.colon)) {
      const typeCastNode = this.startNodeAt(startPos, startLoc);
      typeCastNode.expression = node;
      typeCastNode.typeAnnotation = this.tsParseTypeAnnotation();
      return this.finishNode(typeCastNode, "TSTypeCastExpression");
    }

    return node;
  }

  parseExportDeclaration(node) {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    const isDeclare = this.eatContextual("declare");
    let declaration;

    if (this.match(types.name)) {
      declaration = this.tsTryParseExportDeclaration();
    }

    if (!declaration) {
      declaration = super.parseExportDeclaration(node);
    }

    if (declaration && (declaration.type === "TSInterfaceDeclaration" || declaration.type === "TSTypeAliasDeclaration" || isDeclare)) {
      node.exportKind = "type";
    }

    if (declaration && isDeclare) {
      this.resetStartLocation(declaration, startPos, startLoc);
      declaration.declare = true;
    }

    return declaration;
  }

  parseClassId(node, isStatement, optionalId) {
    if ((!isStatement || optionalId) && this.isContextual("implements")) {
      return;
    }

    super.parseClassId(node, isStatement, optionalId, node.declare ? BIND_TS_AMBIENT : BIND_CLASS);
    const typeParameters = this.tsTryParseTypeParameters();
    if (typeParameters) node.typeParameters = typeParameters;
  }

  parseClassPropertyAnnotation(node) {
    if (!node.optional && this.eat(types.bang)) {
      node.definite = true;
    }

    const type = this.tsTryParseTypeAnnotation();
    if (type) node.typeAnnotation = type;
  }

  parseClassProperty(node) {
    this.parseClassPropertyAnnotation(node);

    if (this.state.isDeclareContext && this.match(types.eq)) {
      this.raise(this.state.start, TSErrors.DeclareClassFieldHasInitializer);
    }

    return super.parseClassProperty(node);
  }

  parseClassPrivateProperty(node) {
    if (node.abstract) {
      this.raise(node.start, TSErrors.PrivateElementHasAbstract);
    }

    if (node.accessibility) {
      this.raise(node.start, TSErrors.PrivateElementHasAccessibility, node.accessibility);
    }

    this.parseClassPropertyAnnotation(node);
    return super.parseClassPrivateProperty(node);
  }

  pushClassMethod(classBody, method, isGenerator, isAsync, isConstructor, allowsDirectSuper) {
    const typeParameters = this.tsTryParseTypeParameters();

    if (typeParameters && isConstructor) {
      this.raise(typeParameters.start, TSErrors.ConstructorHasTypeParameters);
    }

    if (typeParameters) method.typeParameters = typeParameters;
    super.pushClassMethod(classBody, method, isGenerator, isAsync, isConstructor, allowsDirectSuper);
  }

  pushClassPrivateMethod(classBody, method, isGenerator, isAsync) {
    const typeParameters = this.tsTryParseTypeParameters();
    if (typeParameters) method.typeParameters = typeParameters;
    super.pushClassPrivateMethod(classBody, method, isGenerator, isAsync);
  }

  parseClassSuper(node) {
    super.parseClassSuper(node);

    if (node.superClass && this.isRelational("<")) {
      node.superTypeParameters = this.tsParseTypeArguments();
    }

    if (this.eatContextual("implements")) {
      node.implements = this.tsParseHeritageClause("implements");
    }
  }

  parseObjPropValue(prop, ...args) {
    const typeParameters = this.tsTryParseTypeParameters();
    if (typeParameters) prop.typeParameters = typeParameters;
    super.parseObjPropValue(prop, ...args);
  }

  parseFunctionParams(node, allowModifiers) {
    const typeParameters = this.tsTryParseTypeParameters();
    if (typeParameters) node.typeParameters = typeParameters;
    super.parseFunctionParams(node, allowModifiers);
  }

  parseVarId(decl, kind) {
    super.parseVarId(decl, kind);

    if (decl.id.type === "Identifier" && this.eat(types.bang)) {
      decl.definite = true;
    }

    const type = this.tsTryParseTypeAnnotation();

    if (type) {
      decl.id.typeAnnotation = type;
      this.resetEndLocation(decl.id);
    }
  }

  parseAsyncArrowFromCallExpression(node, call) {
    if (this.match(types.colon)) {
      node.returnType = this.tsParseTypeAnnotation();
    }

    return super.parseAsyncArrowFromCallExpression(node, call);
  }

  parseMaybeAssign(...args) {
    var _jsx, _jsx2, _typeCast, _jsx3, _typeCast2, _jsx4, _typeCast3;

    let state;
    let jsx;
    let typeCast;

    if (this.match(types.jsxTagStart)) {
      state = this.state.clone();
      jsx = this.tryParse(() => super.parseMaybeAssign(...args), state);
      if (!jsx.error) return jsx.node;
      const {
        context
      } = this.state;

      if (context[context.length - 1] === types$1.j_oTag) {
        context.length -= 2;
      } else if (context[context.length - 1] === types$1.j_expr) {
        context.length -= 1;
      }
    }

    if (!((_jsx = jsx) == null ? void 0 : _jsx.error) && !this.isRelational("<")) {
      return super.parseMaybeAssign(...args);
    }

    let typeParameters;
    state = state || this.state.clone();
    const arrow = this.tryParse(abort => {
      var _typeParameters;

      typeParameters = this.tsParseTypeParameters();
      const expr = super.parseMaybeAssign(...args);

      if (expr.type !== "ArrowFunctionExpression" || expr.extra && expr.extra.parenthesized) {
        abort();
      }

      if (((_typeParameters = typeParameters) == null ? void 0 : _typeParameters.params.length) !== 0) {
        this.resetStartLocationFromNode(expr, typeParameters);
      }

      expr.typeParameters = typeParameters;
      return expr;
    }, state);
    if (!arrow.error && !arrow.aborted) return arrow.node;

    if (!jsx) {
      assert(!this.hasPlugin("jsx"));
      typeCast = this.tryParse(() => super.parseMaybeAssign(...args), state);
      if (!typeCast.error) return typeCast.node;
    }

    if ((_jsx2 = jsx) == null ? void 0 : _jsx2.node) {
      this.state = jsx.failState;
      return jsx.node;
    }

    if (arrow.node) {
      this.state = arrow.failState;
      return arrow.node;
    }

    if ((_typeCast = typeCast) == null ? void 0 : _typeCast.node) {
      this.state = typeCast.failState;
      return typeCast.node;
    }

    if ((_jsx3 = jsx) == null ? void 0 : _jsx3.thrown) throw jsx.error;
    if (arrow.thrown) throw arrow.error;
    if ((_typeCast2 = typeCast) == null ? void 0 : _typeCast2.thrown) throw typeCast.error;
    throw ((_jsx4 = jsx) == null ? void 0 : _jsx4.error) || arrow.error || ((_typeCast3 = typeCast) == null ? void 0 : _typeCast3.error);
  }

  parseMaybeUnary(refExpressionErrors) {
    if (!this.hasPlugin("jsx") && this.isRelational("<")) {
      return this.tsParseTypeAssertion();
    } else {
      return super.parseMaybeUnary(refExpressionErrors);
    }
  }

  parseArrow(node) {
    if (this.match(types.colon)) {
      const result = this.tryParse(abort => {
        const returnType = this.tsParseTypeOrTypePredicateAnnotation(types.colon);
        if (this.canInsertSemicolon() || !this.match(types.arrow)) abort();
        return returnType;
      });
      if (result.aborted) return;

      if (!result.thrown) {
        if (result.error) this.state = result.failState;
        node.returnType = result.node;
      }
    }

    return super.parseArrow(node);
  }

  parseAssignableListItemTypes(param) {
    if (this.eat(types.question)) {
      if (param.type !== "Identifier" && !this.state.isDeclareContext && !this.state.inType) {
        this.raise(param.start, TSErrors.PatternIsOptional);
      }

      param.optional = true;
    }

    const type = this.tsTryParseTypeAnnotation();
    if (type) param.typeAnnotation = type;
    this.resetEndLocation(param);
    return param;
  }

  toAssignable(node, isLHS = false) {
    switch (node.type) {
      case "TSTypeCastExpression":
        return super.toAssignable(this.typeCastToParameter(node), isLHS);

      case "TSParameterProperty":
        return super.toAssignable(node, isLHS);

      case "TSAsExpression":
      case "TSNonNullExpression":
      case "TSTypeAssertion":
        node.expression = this.toAssignable(node.expression, isLHS);
        return node;

      default:
        return super.toAssignable(node, isLHS);
    }
  }

  checkLVal(expr, contextDescription, ...args) {
    switch (expr.type) {
      case "TSTypeCastExpression":
        return;

      case "TSParameterProperty":
        this.checkLVal(expr.parameter, "parameter property", ...args);
        return;

      case "TSAsExpression":
      case "TSNonNullExpression":
      case "TSTypeAssertion":
        this.checkLVal(expr.expression, contextDescription, ...args);
        return;

      default:
        super.checkLVal(expr, contextDescription, ...args);
        return;
    }
  }

  parseBindingAtom() {
    switch (this.state.type) {
      case types._this:
        return this.parseIdentifier(true);

      default:
        return super.parseBindingAtom();
    }
  }

  parseMaybeDecoratorArguments(expr) {
    if (this.isRelational("<")) {
      const typeArguments = this.tsParseTypeArguments();

      if (this.match(types.parenL)) {
        const call = super.parseMaybeDecoratorArguments(expr);
        call.typeParameters = typeArguments;
        return call;
      }

      this.unexpected(this.state.start, types.parenL);
    }

    return super.parseMaybeDecoratorArguments(expr);
  }

  isClassMethod() {
    return this.isRelational("<") || super.isClassMethod();
  }

  isClassProperty() {
    return this.match(types.bang) || this.match(types.colon) || super.isClassProperty();
  }

  parseMaybeDefault(...args) {
    const node = super.parseMaybeDefault(...args);

    if (node.type === "AssignmentPattern" && node.typeAnnotation && node.right.start < node.typeAnnotation.start) {
      this.raise(node.typeAnnotation.start, TSErrors.TypeAnnotationAfterAssign);
    }

    return node;
  }

  getTokenFromCode(code) {
    if (this.state.inType && (code === 62 || code === 60)) {
      return this.finishOp(types.relational, 1);
    } else {
      return super.getTokenFromCode(code);
    }
  }

  reScan_lt_gt() {
    if (this.match(types.relational)) {
      const code = this.input.charCodeAt(this.state.start);

      if (code === 60 || code === 62) {
        this.state.pos -= 1;
        this.readToken_lt_gt(code);
      }
    }
  }

  toAssignableList(exprList) {
    for (let i = 0; i < exprList.length; i++) {
      const expr = exprList[i];
      if (!expr) continue;

      switch (expr.type) {
        case "TSTypeCastExpression":
          exprList[i] = this.typeCastToParameter(expr);
          break;

        case "TSAsExpression":
        case "TSTypeAssertion":
          if (!this.state.maybeInArrowParameters) {
            exprList[i] = this.typeCastToParameter(expr);
          } else {
            this.raise(expr.start, TSErrors.UnexpectedTypeCastInParameter);
          }

          break;
      }
    }

    return super.toAssignableList(...arguments);
  }

  typeCastToParameter(node) {
    node.expression.typeAnnotation = node.typeAnnotation;
    this.resetEndLocation(node.expression, node.typeAnnotation.end, node.typeAnnotation.loc.end);
    return node.expression;
  }

  shouldParseArrow() {
    return this.match(types.colon) || super.shouldParseArrow();
  }

  shouldParseAsyncArrow() {
    return this.match(types.colon) || super.shouldParseAsyncArrow();
  }

  canHaveLeadingDecorator() {
    return super.canHaveLeadingDecorator() || this.isAbstractClass();
  }

  jsxParseOpeningElementAfterName(node) {
    if (this.isRelational("<")) {
      const typeArguments = this.tsTryParseAndCatch(() => this.tsParseTypeArguments());
      if (typeArguments) node.typeParameters = typeArguments;
    }

    return super.jsxParseOpeningElementAfterName(node);
  }

  getGetterSetterExpectedParamCount(method) {
    const baseCount = super.getGetterSetterExpectedParamCount(method);
    const params = this.getObjectOrClassMethodParams(method);
    const firstParam = params[0];
    const hasContextParam = firstParam && firstParam.type === "Identifier" && firstParam.name === "this";
    return hasContextParam ? baseCount + 1 : baseCount;
  }

  parseCatchClauseParam() {
    const param = super.parseCatchClauseParam();
    const type = this.tsTryParseTypeAnnotation();

    if (type) {
      param.typeAnnotation = type;
      this.resetEndLocation(param);
    }

    return param;
  }

  tsInDeclareContext(cb) {
    const oldIsDeclareContext = this.state.isDeclareContext;
    this.state.isDeclareContext = true;

    try {
      return cb();
    } finally {
      this.state.isDeclareContext = oldIsDeclareContext;
    }
  }

});

types.placeholder = new TokenType("%%", {
  startsExpr: true
});
var placeholders = (superClass => class extends superClass {
  parsePlaceholder(expectedNode) {
    if (this.match(types.placeholder)) {
      const node = this.startNode();
      this.next();
      this.assertNoSpace("Unexpected space in placeholder.");
      node.name = super.parseIdentifier(true);
      this.assertNoSpace("Unexpected space in placeholder.");
      this.expect(types.placeholder);
      return this.finishPlaceholder(node, expectedNode);
    }
  }

  finishPlaceholder(node, expectedNode) {
    const isFinished = !!(node.expectedNode && node.type === "Placeholder");
    node.expectedNode = expectedNode;
    return isFinished ? node : this.finishNode(node, "Placeholder");
  }

  getTokenFromCode(code) {
    if (code === 37 && this.input.charCodeAt(this.state.pos + 1) === 37) {
      return this.finishOp(types.placeholder, 2);
    }

    return super.getTokenFromCode(...arguments);
  }

  parseExprAtom() {
    return this.parsePlaceholder("Expression") || super.parseExprAtom(...arguments);
  }

  parseIdentifier() {
    return this.parsePlaceholder("Identifier") || super.parseIdentifier(...arguments);
  }

  checkReservedWord(word) {
    if (word !== undefined) super.checkReservedWord(...arguments);
  }

  parseBindingAtom() {
    return this.parsePlaceholder("Pattern") || super.parseBindingAtom(...arguments);
  }

  checkLVal(expr) {
    if (expr.type !== "Placeholder") super.checkLVal(...arguments);
  }

  toAssignable(node) {
    if (node && node.type === "Placeholder" && node.expectedNode === "Expression") {
      node.expectedNode = "Pattern";
      return node;
    }

    return super.toAssignable(...arguments);
  }

  verifyBreakContinue(node) {
    if (node.label && node.label.type === "Placeholder") return;
    super.verifyBreakContinue(...arguments);
  }

  parseExpressionStatement(node, expr) {
    if (expr.type !== "Placeholder" || expr.extra && expr.extra.parenthesized) {
      return super.parseExpressionStatement(...arguments);
    }

    if (this.match(types.colon)) {
      const stmt = node;
      stmt.label = this.finishPlaceholder(expr, "Identifier");
      this.next();
      stmt.body = this.parseStatement("label");
      return this.finishNode(stmt, "LabeledStatement");
    }

    this.semicolon();
    node.name = expr.name;
    return this.finishPlaceholder(node, "Statement");
  }

  parseBlock() {
    return this.parsePlaceholder("BlockStatement") || super.parseBlock(...arguments);
  }

  parseFunctionId() {
    return this.parsePlaceholder("Identifier") || super.parseFunctionId(...arguments);
  }

  parseClass(node, isStatement, optionalId) {
    const type = isStatement ? "ClassDeclaration" : "ClassExpression";
    this.next();
    this.takeDecorators(node);
    const oldStrict = this.state.strict;
    const placeholder = this.parsePlaceholder("Identifier");

    if (placeholder) {
      if (this.match(types._extends) || this.match(types.placeholder) || this.match(types.braceL)) {
        node.id = placeholder;
      } else if (optionalId || !isStatement) {
        node.id = null;
        node.body = this.finishPlaceholder(placeholder, "ClassBody");
        return this.finishNode(node, type);
      } else {
        this.unexpected(null, "A class name is required");
      }
    } else {
      this.parseClassId(node, isStatement, optionalId);
    }

    this.parseClassSuper(node);
    node.body = this.parsePlaceholder("ClassBody") || this.parseClassBody(!!node.superClass, oldStrict);
    return this.finishNode(node, type);
  }

  parseExport(node) {
    const placeholder = this.parsePlaceholder("Identifier");
    if (!placeholder) return super.parseExport(...arguments);

    if (!this.isContextual("from") && !this.match(types.comma)) {
      node.specifiers = [];
      node.source = null;
      node.declaration = this.finishPlaceholder(placeholder, "Declaration");
      return this.finishNode(node, "ExportNamedDeclaration");
    }

    this.expectPlugin("exportDefaultFrom");
    const specifier = this.startNode();
    specifier.exported = placeholder;
    node.specifiers = [this.finishNode(specifier, "ExportDefaultSpecifier")];
    return super.parseExport(node);
  }

  isExportDefaultSpecifier() {
    if (this.match(types._default)) {
      const next = this.nextTokenStart();

      if (this.isUnparsedContextual(next, "from")) {
        if (this.input.startsWith(types.placeholder.label, this.nextTokenStartSince(next + 4))) {
          return true;
        }
      }
    }

    return super.isExportDefaultSpecifier();
  }

  maybeParseExportDefaultSpecifier(node) {
    if (node.specifiers && node.specifiers.length > 0) {
      return true;
    }

    return super.maybeParseExportDefaultSpecifier(...arguments);
  }

  checkExport(node) {
    const {
      specifiers
    } = node;

    if (specifiers == null ? void 0 : specifiers.length) {
      node.specifiers = specifiers.filter(node => node.exported.type === "Placeholder");
    }

    super.checkExport(node);
    node.specifiers = specifiers;
  }

  parseImport(node) {
    const placeholder = this.parsePlaceholder("Identifier");
    if (!placeholder) return super.parseImport(...arguments);
    node.specifiers = [];

    if (!this.isContextual("from") && !this.match(types.comma)) {
      node.source = this.finishPlaceholder(placeholder, "StringLiteral");
      this.semicolon();
      return this.finishNode(node, "ImportDeclaration");
    }

    const specifier = this.startNodeAtNode(placeholder);
    specifier.local = placeholder;
    this.finishNode(specifier, "ImportDefaultSpecifier");
    node.specifiers.push(specifier);

    if (this.eat(types.comma)) {
      const hasStarImport = this.maybeParseStarImportSpecifier(node);
      if (!hasStarImport) this.parseNamedImportSpecifiers(node);
    }

    this.expectContextual("from");
    node.source = this.parseImportSource();
    this.semicolon();
    return this.finishNode(node, "ImportDeclaration");
  }

  parseImportSource() {
    return this.parsePlaceholder("StringLiteral") || super.parseImportSource(...arguments);
  }

});

var v8intrinsic = (superClass => class extends superClass {
  parseV8Intrinsic() {
    if (this.match(types.modulo)) {
      const v8IntrinsicStart = this.state.start;
      const node = this.startNode();
      this.eat(types.modulo);

      if (this.match(types.name)) {
        const name = this.parseIdentifierName(this.state.start);
        const identifier = this.createIdentifier(node, name);
        identifier.type = "V8IntrinsicIdentifier";

        if (this.match(types.parenL)) {
          return identifier;
        }
      }

      this.unexpected(v8IntrinsicStart);
    }
  }

  parseExprAtom() {
    return this.parseV8Intrinsic() || super.parseExprAtom(...arguments);
  }

});

function hasPlugin(plugins, name) {
  return plugins.some(plugin => {
    if (Array.isArray(plugin)) {
      return plugin[0] === name;
    } else {
      return plugin === name;
    }
  });
}
function getPluginOption(plugins, name, option) {
  const plugin = plugins.find(plugin => {
    if (Array.isArray(plugin)) {
      return plugin[0] === name;
    } else {
      return plugin === name;
    }
  });

  if (plugin && Array.isArray(plugin)) {
    return plugin[1][option];
  }

  return null;
}
const PIPELINE_PROPOSALS = ["minimal", "smart", "fsharp"];
const RECORD_AND_TUPLE_SYNTAX_TYPES = ["hash", "bar"];
function validatePlugins(plugins) {
  if (hasPlugin(plugins, "decorators")) {
    if (hasPlugin(plugins, "decorators-legacy")) {
      throw new Error("Cannot use the decorators and decorators-legacy plugin together");
    }

    const decoratorsBeforeExport = getPluginOption(plugins, "decorators", "decoratorsBeforeExport");

    if (decoratorsBeforeExport == null) {
      throw new Error("The 'decorators' plugin requires a 'decoratorsBeforeExport' option," + " whose value must be a boolean. If you are migrating from" + " Babylon/Babel 6 or want to use the old decorators proposal, you" + " should use the 'decorators-legacy' plugin instead of 'decorators'.");
    } else if (typeof decoratorsBeforeExport !== "boolean") {
      throw new Error("'decoratorsBeforeExport' must be a boolean.");
    }
  }

  if (hasPlugin(plugins, "flow") && hasPlugin(plugins, "typescript")) {
    throw new Error("Cannot combine flow and typescript plugins.");
  }

  if (hasPlugin(plugins, "placeholders") && hasPlugin(plugins, "v8intrinsic")) {
    throw new Error("Cannot combine placeholders and v8intrinsic plugins.");
  }

  if (hasPlugin(plugins, "pipelineOperator") && !PIPELINE_PROPOSALS.includes(getPluginOption(plugins, "pipelineOperator", "proposal"))) {
    throw new Error("'pipelineOperator' requires 'proposal' option whose value should be one of: " + PIPELINE_PROPOSALS.map(p => `'${p}'`).join(", "));
  }

  if (hasPlugin(plugins, "moduleAttributes")) {
    if (hasPlugin(plugins, "importAssertions")) {
      throw new Error("Cannot combine importAssertions and moduleAttributes plugins.");
    }

    const moduleAttributesVerionPluginOption = getPluginOption(plugins, "moduleAttributes", "version");

    if (moduleAttributesVerionPluginOption !== "may-2020") {
      throw new Error("The 'moduleAttributes' plugin requires a 'version' option," + " representing the last proposal update. Currently, the" + " only supported value is 'may-2020'.");
    }
  }

  if (hasPlugin(plugins, "recordAndTuple") && !RECORD_AND_TUPLE_SYNTAX_TYPES.includes(getPluginOption(plugins, "recordAndTuple", "syntaxType"))) {
    throw new Error("'recordAndTuple' requires 'syntaxType' option whose value should be one of: " + RECORD_AND_TUPLE_SYNTAX_TYPES.map(p => `'${p}'`).join(", "));
  }
}
const mixinPlugins = {
  estree,
  jsx,
  flow,
  typescript,
  v8intrinsic,
  placeholders
};
const mixinPluginNames = Object.keys(mixinPlugins);

const defaultOptions = {
  sourceType: "script",
  sourceFilename: undefined,
  startLine: 1,
  allowAwaitOutsideFunction: false,
  allowReturnOutsideFunction: false,
  allowImportExportEverywhere: false,
  allowSuperOutsideMethod: false,
  allowUndeclaredExports: false,
  plugins: [],
  strictMode: null,
  ranges: false,
  tokens: false,
  createParenthesizedExpressions: false,
  errorRecovery: false
};
function getOptions(opts) {
  const options = {};

  for (let _i = 0, _Object$keys = Object.keys(defaultOptions); _i < _Object$keys.length; _i++) {
    const key = _Object$keys[_i];
    options[key] = opts && opts[key] != null ? opts[key] : defaultOptions[key];
  }

  return options;
}

class State {
  constructor() {
    this.strict = void 0;
    this.curLine = void 0;
    this.startLoc = void 0;
    this.endLoc = void 0;
    this.errors = [];
    this.potentialArrowAt = -1;
    this.noArrowAt = [];
    this.noArrowParamsConversionAt = [];
    this.maybeInArrowParameters = false;
    this.inPipeline = false;
    this.inType = false;
    this.noAnonFunctionType = false;
    this.inPropertyName = false;
    this.hasFlowComment = false;
    this.isIterator = false;
    this.isDeclareContext = false;
    this.topicContext = {
      maxNumOfResolvableTopics: 0,
      maxTopicIndex: null
    };
    this.soloAwait = false;
    this.inFSharpPipelineDirectBody = false;
    this.labels = [];
    this.decoratorStack = [[]];
    this.comments = [];
    this.trailingComments = [];
    this.leadingComments = [];
    this.commentStack = [];
    this.commentPreviousNode = null;
    this.pos = 0;
    this.lineStart = 0;
    this.type = types.eof;
    this.value = null;
    this.start = 0;
    this.end = 0;
    this.lastTokEndLoc = null;
    this.lastTokStartLoc = null;
    this.lastTokStart = 0;
    this.lastTokEnd = 0;
    this.context = [types$1.braceStatement];
    this.exprAllowed = true;
    this.containsEsc = false;
    this.octalPositions = [];
    this.exportedIdentifiers = [];
    this.tokensLength = 0;
  }

  init(options) {
    this.strict = options.strictMode === false ? false : options.sourceType === "module";
    this.curLine = options.startLine;
    this.startLoc = this.endLoc = this.curPosition();
  }

  curPosition() {
    return new Position(this.curLine, this.pos - this.lineStart);
  }

  clone(skipArrays) {
    const state = new State();
    const keys = Object.keys(this);

    for (let i = 0, length = keys.length; i < length; i++) {
      const key = keys[i];
      let val = this[key];

      if (!skipArrays && Array.isArray(val)) {
        val = val.slice();
      }

      state[key] = val;
    }

    return state;
  }

}

var _isDigit = function isDigit(code) {
  return code >= 48 && code <= 57;
};
const VALID_REGEX_FLAGS = new Set(["g", "m", "s", "i", "y", "u"]);
const forbiddenNumericSeparatorSiblings = {
  decBinOct: [46, 66, 69, 79, 95, 98, 101, 111],
  hex: [46, 88, 95, 120]
};
const allowedNumericSeparatorSiblings = {};
allowedNumericSeparatorSiblings.bin = [48, 49];
allowedNumericSeparatorSiblings.oct = [...allowedNumericSeparatorSiblings.bin, 50, 51, 52, 53, 54, 55];
allowedNumericSeparatorSiblings.dec = [...allowedNumericSeparatorSiblings.oct, 56, 57];
allowedNumericSeparatorSiblings.hex = [...allowedNumericSeparatorSiblings.dec, 65, 66, 67, 68, 69, 70, 97, 98, 99, 100, 101, 102];
class Token {
  constructor(state) {
    this.type = state.type;
    this.value = state.value;
    this.start = state.start;
    this.end = state.end;
    this.loc = new SourceLocation(state.startLoc, state.endLoc);
  }

}
class Tokenizer extends ParserError {
  constructor(options, input) {
    super();
    this.isLookahead = void 0;
    this.tokens = [];
    this.state = new State();
    this.state.init(options);
    this.input = input;
    this.length = input.length;
    this.isLookahead = false;
  }

  pushToken(token) {
    this.tokens.length = this.state.tokensLength;
    this.tokens.push(token);
    ++this.state.tokensLength;
  }

  next() {
    if (!this.isLookahead) {
      this.checkKeywordEscapes();

      if (this.options.tokens) {
        this.pushToken(new Token(this.state));
      }
    }

    this.state.lastTokEnd = this.state.end;
    this.state.lastTokStart = this.state.start;
    this.state.lastTokEndLoc = this.state.endLoc;
    this.state.lastTokStartLoc = this.state.startLoc;
    this.nextToken();
  }

  eat(type) {
    if (this.match(type)) {
      this.next();
      return true;
    } else {
      return false;
    }
  }

  match(type) {
    return this.state.type === type;
  }

  lookahead() {
    const old = this.state;
    this.state = old.clone(true);
    this.isLookahead = true;
    this.next();
    this.isLookahead = false;
    const curr = this.state;
    this.state = old;
    return curr;
  }

  nextTokenStart() {
    return this.nextTokenStartSince(this.state.pos);
  }

  nextTokenStartSince(pos) {
    skipWhiteSpace.lastIndex = pos;
    const skip = skipWhiteSpace.exec(this.input);
    return pos + skip[0].length;
  }

  lookaheadCharCode() {
    return this.input.charCodeAt(this.nextTokenStart());
  }

  setStrict(strict) {
    this.state.strict = strict;
    if (!this.match(types.num) && !this.match(types.string)) return;
    this.state.pos = this.state.start;

    while (this.state.pos < this.state.lineStart) {
      this.state.lineStart = this.input.lastIndexOf("\n", this.state.lineStart - 2) + 1;
      --this.state.curLine;
    }

    this.nextToken();
  }

  curContext() {
    return this.state.context[this.state.context.length - 1];
  }

  nextToken() {
    const curContext = this.curContext();
    if (!(curContext == null ? void 0 : curContext.preserveSpace)) this.skipSpace();
    this.state.octalPositions = [];
    this.state.start = this.state.pos;
    this.state.startLoc = this.state.curPosition();

    if (this.state.pos >= this.length) {
      this.finishToken(types.eof);
      return;
    }

    const override = curContext == null ? void 0 : curContext.override;

    if (override) {
      override(this);
    } else {
      this.getTokenFromCode(this.input.codePointAt(this.state.pos));
    }
  }

  pushComment(block, text, start, end, startLoc, endLoc) {
    const comment = {
      type: block ? "CommentBlock" : "CommentLine",
      value: text,
      start: start,
      end: end,
      loc: new SourceLocation(startLoc, endLoc)
    };
    if (this.options.tokens) this.pushToken(comment);
    this.state.comments.push(comment);
    this.addComment(comment);
  }

  skipBlockComment() {
    const startLoc = this.state.curPosition();
    const start = this.state.pos;
    const end = this.input.indexOf("*/", this.state.pos + 2);
    if (end === -1) throw this.raise(start, ErrorMessages.UnterminatedComment);
    this.state.pos = end + 2;
    lineBreakG.lastIndex = start;
    let match;

    while ((match = lineBreakG.exec(this.input)) && match.index < this.state.pos) {
      ++this.state.curLine;
      this.state.lineStart = match.index + match[0].length;
    }

    if (this.isLookahead) return;
    this.pushComment(true, this.input.slice(start + 2, end), start, this.state.pos, startLoc, this.state.curPosition());
  }

  skipLineComment(startSkip) {
    const start = this.state.pos;
    const startLoc = this.state.curPosition();
    let ch = this.input.charCodeAt(this.state.pos += startSkip);

    if (this.state.pos < this.length) {
      while (!isNewLine(ch) && ++this.state.pos < this.length) {
        ch = this.input.charCodeAt(this.state.pos);
      }
    }

    if (this.isLookahead) return;
    this.pushComment(false, this.input.slice(start + startSkip, this.state.pos), start, this.state.pos, startLoc, this.state.curPosition());
  }

  skipSpace() {
    loop: while (this.state.pos < this.length) {
      const ch = this.input.charCodeAt(this.state.pos);

      switch (ch) {
        case 32:
        case 160:
        case 9:
          ++this.state.pos;
          break;

        case 13:
          if (this.input.charCodeAt(this.state.pos + 1) === 10) {
            ++this.state.pos;
          }

        case 10:
        case 8232:
        case 8233:
          ++this.state.pos;
          ++this.state.curLine;
          this.state.lineStart = this.state.pos;
          break;

        case 47:
          switch (this.input.charCodeAt(this.state.pos + 1)) {
            case 42:
              this.skipBlockComment();
              break;

            case 47:
              this.skipLineComment(2);
              break;

            default:
              break loop;
          }

          break;

        default:
          if (isWhitespace(ch)) {
            ++this.state.pos;
          } else {
            break loop;
          }

      }
    }
  }

  finishToken(type, val) {
    this.state.end = this.state.pos;
    this.state.endLoc = this.state.curPosition();
    const prevType = this.state.type;
    this.state.type = type;
    this.state.value = val;
    if (!this.isLookahead) this.updateContext(prevType);
  }

  readToken_numberSign() {
    if (this.state.pos === 0 && this.readToken_interpreter()) {
      return;
    }

    const nextPos = this.state.pos + 1;
    const next = this.input.charCodeAt(nextPos);

    if (next >= 48 && next <= 57) {
      throw this.raise(this.state.pos, ErrorMessages.UnexpectedDigitAfterHash);
    }

    if (next === 123 || next === 91 && this.hasPlugin("recordAndTuple")) {
      this.expectPlugin("recordAndTuple");

      if (this.getPluginOption("recordAndTuple", "syntaxType") !== "hash") {
        throw this.raise(this.state.pos, next === 123 ? ErrorMessages.RecordExpressionHashIncorrectStartSyntaxType : ErrorMessages.TupleExpressionHashIncorrectStartSyntaxType);
      }

      if (next === 123) {
        this.finishToken(types.braceHashL);
      } else {
        this.finishToken(types.bracketHashL);
      }

      this.state.pos += 2;
    } else {
      this.finishOp(types.hash, 1);
    }
  }

  readToken_dot() {
    const next = this.input.charCodeAt(this.state.pos + 1);

    if (next >= 48 && next <= 57) {
      this.readNumber(true);
      return;
    }

    if (next === 46 && this.input.charCodeAt(this.state.pos + 2) === 46) {
      this.state.pos += 3;
      this.finishToken(types.ellipsis);
    } else {
      ++this.state.pos;
      this.finishToken(types.dot);
    }
  }

  readToken_slash() {
    if (this.state.exprAllowed && !this.state.inType) {
      ++this.state.pos;
      this.readRegexp();
      return;
    }

    const next = this.input.charCodeAt(this.state.pos + 1);

    if (next === 61) {
      this.finishOp(types.assign, 2);
    } else {
      this.finishOp(types.slash, 1);
    }
  }

  readToken_interpreter() {
    if (this.state.pos !== 0 || this.length < 2) return false;
    let ch = this.input.charCodeAt(this.state.pos + 1);
    if (ch !== 33) return false;
    const start = this.state.pos;
    this.state.pos += 1;

    while (!isNewLine(ch) && ++this.state.pos < this.length) {
      ch = this.input.charCodeAt(this.state.pos);
    }

    const value = this.input.slice(start + 2, this.state.pos);
    this.finishToken(types.interpreterDirective, value);
    return true;
  }

  readToken_mult_modulo(code) {
    let type = code === 42 ? types.star : types.modulo;
    let width = 1;
    let next = this.input.charCodeAt(this.state.pos + 1);
    const exprAllowed = this.state.exprAllowed;

    if (code === 42 && next === 42) {
      width++;
      next = this.input.charCodeAt(this.state.pos + 2);
      type = types.exponent;
    }

    if (next === 61 && !exprAllowed) {
      width++;
      type = types.assign;
    }

    this.finishOp(type, width);
  }

  readToken_pipe_amp(code) {
    const next = this.input.charCodeAt(this.state.pos + 1);

    if (next === code) {
      if (this.input.charCodeAt(this.state.pos + 2) === 61) {
        this.finishOp(types.assign, 3);
      } else {
        this.finishOp(code === 124 ? types.logicalOR : types.logicalAND, 2);
      }

      return;
    }

    if (code === 124) {
      if (next === 62) {
        this.finishOp(types.pipeline, 2);
        return;
      }

      if (this.hasPlugin("recordAndTuple") && next === 125) {
        if (this.getPluginOption("recordAndTuple", "syntaxType") !== "bar") {
          throw this.raise(this.state.pos, ErrorMessages.RecordExpressionBarIncorrectEndSyntaxType);
        }

        this.finishOp(types.braceBarR, 2);
        return;
      }

      if (this.hasPlugin("recordAndTuple") && next === 93) {
        if (this.getPluginOption("recordAndTuple", "syntaxType") !== "bar") {
          throw this.raise(this.state.pos, ErrorMessages.TupleExpressionBarIncorrectEndSyntaxType);
        }

        this.finishOp(types.bracketBarR, 2);
        return;
      }
    }

    if (next === 61) {
      this.finishOp(types.assign, 2);
      return;
    }

    this.finishOp(code === 124 ? types.bitwiseOR : types.bitwiseAND, 1);
  }

  readToken_caret() {
    const next = this.input.charCodeAt(this.state.pos + 1);

    if (next === 61) {
      this.finishOp(types.assign, 2);
    } else {
      this.finishOp(types.bitwiseXOR, 1);
    }
  }

  readToken_plus_min(code) {
    const next = this.input.charCodeAt(this.state.pos + 1);

    if (next === code) {
      if (next === 45 && !this.inModule && this.input.charCodeAt(this.state.pos + 2) === 62 && (this.state.lastTokEnd === 0 || this.hasPrecedingLineBreak())) {
        this.skipLineComment(3);
        this.skipSpace();
        this.nextToken();
        return;
      }

      this.finishOp(types.incDec, 2);
      return;
    }

    if (next === 61) {
      this.finishOp(types.assign, 2);
    } else {
      this.finishOp(types.plusMin, 1);
    }
  }

  readToken_lt_gt(code) {
    const next = this.input.charCodeAt(this.state.pos + 1);
    let size = 1;

    if (next === code) {
      size = code === 62 && this.input.charCodeAt(this.state.pos + 2) === 62 ? 3 : 2;

      if (this.input.charCodeAt(this.state.pos + size) === 61) {
        this.finishOp(types.assign, size + 1);
        return;
      }

      this.finishOp(types.bitShift, size);
      return;
    }

    if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.state.pos + 2) === 45 && this.input.charCodeAt(this.state.pos + 3) === 45) {
      this.skipLineComment(4);
      this.skipSpace();
      this.nextToken();
      return;
    }

    if (next === 61) {
      size = 2;
    }

    this.finishOp(types.relational, size);
  }

  readToken_eq_excl(code) {
    const next = this.input.charCodeAt(this.state.pos + 1);

    if (next === 61) {
      this.finishOp(types.equality, this.input.charCodeAt(this.state.pos + 2) === 61 ? 3 : 2);
      return;
    }

    if (code === 61 && next === 62) {
      this.state.pos += 2;
      this.finishToken(types.arrow);
      return;
    }

    this.finishOp(code === 61 ? types.eq : types.bang, 1);
  }

  readToken_question() {
    const next = this.input.charCodeAt(this.state.pos + 1);
    const next2 = this.input.charCodeAt(this.state.pos + 2);

    if (next === 63) {
      if (next2 === 61) {
        this.finishOp(types.assign, 3);
      } else {
        this.finishOp(types.nullishCoalescing, 2);
      }
    } else if (next === 46 && !(next2 >= 48 && next2 <= 57)) {
      this.state.pos += 2;
      this.finishToken(types.questionDot);
    } else {
      ++this.state.pos;
      this.finishToken(types.question);
    }
  }

  getTokenFromCode(code) {
    switch (code) {
      case 46:
        this.readToken_dot();
        return;

      case 40:
        ++this.state.pos;
        this.finishToken(types.parenL);
        return;

      case 41:
        ++this.state.pos;
        this.finishToken(types.parenR);
        return;

      case 59:
        ++this.state.pos;
        this.finishToken(types.semi);
        return;

      case 44:
        ++this.state.pos;
        this.finishToken(types.comma);
        return;

      case 91:
        if (this.hasPlugin("recordAndTuple") && this.input.charCodeAt(this.state.pos + 1) === 124) {
          if (this.getPluginOption("recordAndTuple", "syntaxType") !== "bar") {
            throw this.raise(this.state.pos, ErrorMessages.TupleExpressionBarIncorrectStartSyntaxType);
          }

          this.finishToken(types.bracketBarL);
          this.state.pos += 2;
        } else {
          ++this.state.pos;
          this.finishToken(types.bracketL);
        }

        return;

      case 93:
        ++this.state.pos;
        this.finishToken(types.bracketR);
        return;

      case 123:
        if (this.hasPlugin("recordAndTuple") && this.input.charCodeAt(this.state.pos + 1) === 124) {
          if (this.getPluginOption("recordAndTuple", "syntaxType") !== "bar") {
            throw this.raise(this.state.pos, ErrorMessages.RecordExpressionBarIncorrectStartSyntaxType);
          }

          this.finishToken(types.braceBarL);
          this.state.pos += 2;
        } else {
          ++this.state.pos;
          this.finishToken(types.braceL);
        }

        return;

      case 125:
        ++this.state.pos;
        this.finishToken(types.braceR);
        return;

      case 58:
        if (this.hasPlugin("functionBind") && this.input.charCodeAt(this.state.pos + 1) === 58) {
          this.finishOp(types.doubleColon, 2);
        } else {
          ++this.state.pos;
          this.finishToken(types.colon);
        }

        return;

      case 63:
        this.readToken_question();
        return;

      case 96:
        ++this.state.pos;
        this.finishToken(types.backQuote);
        return;

      case 48:
        {
          const next = this.input.charCodeAt(this.state.pos + 1);

          if (next === 120 || next === 88) {
            this.readRadixNumber(16);
            return;
          }

          if (next === 111 || next === 79) {
            this.readRadixNumber(8);
            return;
          }

          if (next === 98 || next === 66) {
            this.readRadixNumber(2);
            return;
          }
        }

      case 49:
      case 50:
      case 51:
      case 52:
      case 53:
      case 54:
      case 55:
      case 56:
      case 57:
        this.readNumber(false);
        return;

      case 34:
      case 39:
        this.readString(code);
        return;

      case 47:
        this.readToken_slash();
        return;

      case 37:
      case 42:
        this.readToken_mult_modulo(code);
        return;

      case 124:
      case 38:
        this.readToken_pipe_amp(code);
        return;

      case 94:
        this.readToken_caret();
        return;

      case 43:
      case 45:
        this.readToken_plus_min(code);
        return;

      case 60:
      case 62:
        this.readToken_lt_gt(code);
        return;

      case 61:
      case 33:
        this.readToken_eq_excl(code);
        return;

      case 126:
        this.finishOp(types.tilde, 1);
        return;

      case 64:
        ++this.state.pos;
        this.finishToken(types.at);
        return;

      case 35:
        this.readToken_numberSign();
        return;

      case 92:
        this.readWord();
        return;

      default:
        if (isIdentifierStart(code)) {
          this.readWord();
          return;
        }

    }

    throw this.raise(this.state.pos, ErrorMessages.InvalidOrUnexpectedToken, String.fromCodePoint(code));
  }

  finishOp(type, size) {
    const str = this.input.slice(this.state.pos, this.state.pos + size);
    this.state.pos += size;
    this.finishToken(type, str);
  }

  readRegexp() {
    const start = this.state.pos;
    let escaped, inClass;

    for (;;) {
      if (this.state.pos >= this.length) {
        throw this.raise(start, ErrorMessages.UnterminatedRegExp);
      }

      const ch = this.input.charAt(this.state.pos);

      if (lineBreak.test(ch)) {
        throw this.raise(start, ErrorMessages.UnterminatedRegExp);
      }

      if (escaped) {
        escaped = false;
      } else {
        if (ch === "[") {
          inClass = true;
        } else if (ch === "]" && inClass) {
          inClass = false;
        } else if (ch === "/" && !inClass) {
          break;
        }

        escaped = ch === "\\";
      }

      ++this.state.pos;
    }

    const content = this.input.slice(start, this.state.pos);
    ++this.state.pos;
    let mods = "";

    while (this.state.pos < this.length) {
      const char = this.input[this.state.pos];
      const charCode = this.input.codePointAt(this.state.pos);

      if (VALID_REGEX_FLAGS.has(char)) {
        if (mods.indexOf(char) > -1) {
          this.raise(this.state.pos + 1, ErrorMessages.DuplicateRegExpFlags);
        }
      } else if (isIdentifierChar(charCode) || charCode === 92) {
        this.raise(this.state.pos + 1, ErrorMessages.MalformedRegExpFlags);
      } else {
        break;
      }

      ++this.state.pos;
      mods += char;
    }

    this.finishToken(types.regexp, {
      pattern: content,
      flags: mods
    });
  }

  readInt(radix, len, forceLen, allowNumSeparator = true) {
    const start = this.state.pos;
    const forbiddenSiblings = radix === 16 ? forbiddenNumericSeparatorSiblings.hex : forbiddenNumericSeparatorSiblings.decBinOct;
    const allowedSiblings = radix === 16 ? allowedNumericSeparatorSiblings.hex : radix === 10 ? allowedNumericSeparatorSiblings.dec : radix === 8 ? allowedNumericSeparatorSiblings.oct : allowedNumericSeparatorSiblings.bin;
    let invalid = false;
    let total = 0;

    for (let i = 0, e = len == null ? Infinity : len; i < e; ++i) {
      const code = this.input.charCodeAt(this.state.pos);
      let val;

      if (code === 95) {
        const prev = this.input.charCodeAt(this.state.pos - 1);
        const next = this.input.charCodeAt(this.state.pos + 1);

        if (allowedSiblings.indexOf(next) === -1) {
          this.raise(this.state.pos, ErrorMessages.UnexpectedNumericSeparator);
        } else if (forbiddenSiblings.indexOf(prev) > -1 || forbiddenSiblings.indexOf(next) > -1 || Number.isNaN(next)) {
          this.raise(this.state.pos, ErrorMessages.UnexpectedNumericSeparator);
        }

        if (!allowNumSeparator) {
          this.raise(this.state.pos, ErrorMessages.NumericSeparatorInEscapeSequence);
        }

        ++this.state.pos;
        continue;
      }

      if (code >= 97) {
        val = code - 97 + 10;
      } else if (code >= 65) {
        val = code - 65 + 10;
      } else if (_isDigit(code)) {
        val = code - 48;
      } else {
        val = Infinity;
      }

      if (val >= radix) {
        if (this.options.errorRecovery && val <= 9) {
          val = 0;
          this.raise(this.state.start + i + 2, ErrorMessages.InvalidDigit, radix);
        } else if (forceLen) {
          val = 0;
          invalid = true;
        } else {
          break;
        }
      }

      ++this.state.pos;
      total = total * radix + val;
    }

    if (this.state.pos === start || len != null && this.state.pos - start !== len || invalid) {
      return null;
    }

    return total;
  }

  readRadixNumber(radix) {
    const start = this.state.pos;
    let isBigInt = false;
    this.state.pos += 2;
    const val = this.readInt(radix);

    if (val == null) {
      this.raise(this.state.start + 2, ErrorMessages.InvalidDigit, radix);
    }

    const next = this.input.charCodeAt(this.state.pos);

    if (next === 110) {
      ++this.state.pos;
      isBigInt = true;
    } else if (next === 109) {
      throw this.raise(start, ErrorMessages.InvalidDecimal);
    }

    if (isIdentifierStart(this.input.codePointAt(this.state.pos))) {
      throw this.raise(this.state.pos, ErrorMessages.NumberIdentifier);
    }

    if (isBigInt) {
      const str = this.input.slice(start, this.state.pos).replace(/[_n]/g, "");
      this.finishToken(types.bigint, str);
      return;
    }

    this.finishToken(types.num, val);
  }

  readNumber(startsWithDot) {
    const start = this.state.pos;
    let isFloat = false;
    let isBigInt = false;
    let isDecimal = false;
    let hasExponent = false;
    let isOctal = false;

    if (!startsWithDot && this.readInt(10) === null) {
      this.raise(start, ErrorMessages.InvalidNumber);
    }

    const hasLeadingZero = this.state.pos - start >= 2 && this.input.charCodeAt(start) === 48;

    if (hasLeadingZero) {
      const integer = this.input.slice(start, this.state.pos);

      if (this.state.strict) {
        this.raise(start, ErrorMessages.StrictOctalLiteral);
      } else {
        const underscorePos = integer.indexOf("_");

        if (underscorePos > 0) {
          this.raise(underscorePos + start, ErrorMessages.ZeroDigitNumericSeparator);
        }
      }

      isOctal = hasLeadingZero && !/[89]/.test(integer);
    }

    let next = this.input.charCodeAt(this.state.pos);

    if (next === 46 && !isOctal) {
      ++this.state.pos;
      this.readInt(10);
      isFloat = true;
      next = this.input.charCodeAt(this.state.pos);
    }

    if ((next === 69 || next === 101) && !isOctal) {
      next = this.input.charCodeAt(++this.state.pos);

      if (next === 43 || next === 45) {
        ++this.state.pos;
      }

      if (this.readInt(10) === null) {
        this.raise(start, ErrorMessages.InvalidOrMissingExponent);
      }

      isFloat = true;
      hasExponent = true;
      next = this.input.charCodeAt(this.state.pos);
    }

    if (next === 110) {
      if (isFloat || hasLeadingZero) {
        this.raise(start, ErrorMessages.InvalidBigIntLiteral);
      }

      ++this.state.pos;
      isBigInt = true;
    }

    if (next === 109) {
      this.expectPlugin("decimal", this.state.pos);

      if (hasExponent || hasLeadingZero) {
        this.raise(start, ErrorMessages.InvalidDecimal);
      }

      ++this.state.pos;
      isDecimal = true;
    }

    if (isIdentifierStart(this.input.codePointAt(this.state.pos))) {
      throw this.raise(this.state.pos, ErrorMessages.NumberIdentifier);
    }

    const str = this.input.slice(start, this.state.pos).replace(/[_mn]/g, "");

    if (isBigInt) {
      this.finishToken(types.bigint, str);
      return;
    }

    if (isDecimal) {
      this.finishToken(types.decimal, str);
      return;
    }

    const val = isOctal ? parseInt(str, 8) : parseFloat(str);
    this.finishToken(types.num, val);
  }

  readCodePoint(throwOnInvalid) {
    const ch = this.input.charCodeAt(this.state.pos);
    let code;

    if (ch === 123) {
      const codePos = ++this.state.pos;
      code = this.readHexChar(this.input.indexOf("}", this.state.pos) - this.state.pos, true, throwOnInvalid);
      ++this.state.pos;

      if (code !== null && code > 0x10ffff) {
        if (throwOnInvalid) {
          this.raise(codePos, ErrorMessages.InvalidCodePoint);
        } else {
          return null;
        }
      }
    } else {
      code = this.readHexChar(4, false, throwOnInvalid);
    }

    return code;
  }

  readString(quote) {
    let out = "",
        chunkStart = ++this.state.pos;

    for (;;) {
      if (this.state.pos >= this.length) {
        throw this.raise(this.state.start, ErrorMessages.UnterminatedString);
      }

      const ch = this.input.charCodeAt(this.state.pos);
      if (ch === quote) break;

      if (ch === 92) {
        out += this.input.slice(chunkStart, this.state.pos);
        out += this.readEscapedChar(false);
        chunkStart = this.state.pos;
      } else if (ch === 8232 || ch === 8233) {
        ++this.state.pos;
        ++this.state.curLine;
        this.state.lineStart = this.state.pos;
      } else if (isNewLine(ch)) {
        throw this.raise(this.state.start, ErrorMessages.UnterminatedString);
      } else {
        ++this.state.pos;
      }
    }

    out += this.input.slice(chunkStart, this.state.pos++);
    this.finishToken(types.string, out);
  }

  readTmplToken() {
    let out = "",
        chunkStart = this.state.pos,
        containsInvalid = false;

    for (;;) {
      if (this.state.pos >= this.length) {
        throw this.raise(this.state.start, ErrorMessages.UnterminatedTemplate);
      }

      const ch = this.input.charCodeAt(this.state.pos);

      if (ch === 96 || ch === 36 && this.input.charCodeAt(this.state.pos + 1) === 123) {
        if (this.state.pos === this.state.start && this.match(types.template)) {
          if (ch === 36) {
            this.state.pos += 2;
            this.finishToken(types.dollarBraceL);
            return;
          } else {
            ++this.state.pos;
            this.finishToken(types.backQuote);
            return;
          }
        }

        out += this.input.slice(chunkStart, this.state.pos);
        this.finishToken(types.template, containsInvalid ? null : out);
        return;
      }

      if (ch === 92) {
        out += this.input.slice(chunkStart, this.state.pos);
        const escaped = this.readEscapedChar(true);

        if (escaped === null) {
          containsInvalid = true;
        } else {
          out += escaped;
        }

        chunkStart = this.state.pos;
      } else if (isNewLine(ch)) {
        out += this.input.slice(chunkStart, this.state.pos);
        ++this.state.pos;

        switch (ch) {
          case 13:
            if (this.input.charCodeAt(this.state.pos) === 10) {
              ++this.state.pos;
            }

          case 10:
            out += "\n";
            break;

          default:
            out += String.fromCharCode(ch);
            break;
        }

        ++this.state.curLine;
        this.state.lineStart = this.state.pos;
        chunkStart = this.state.pos;
      } else {
        ++this.state.pos;
      }
    }
  }

  readEscapedChar(inTemplate) {
    const throwOnInvalid = !inTemplate;
    const ch = this.input.charCodeAt(++this.state.pos);
    ++this.state.pos;

    switch (ch) {
      case 110:
        return "\n";

      case 114:
        return "\r";

      case 120:
        {
          const code = this.readHexChar(2, false, throwOnInvalid);
          return code === null ? null : String.fromCharCode(code);
        }

      case 117:
        {
          const code = this.readCodePoint(throwOnInvalid);
          return code === null ? null : String.fromCodePoint(code);
        }

      case 116:
        return "\t";

      case 98:
        return "\b";

      case 118:
        return "\u000b";

      case 102:
        return "\f";

      case 13:
        if (this.input.charCodeAt(this.state.pos) === 10) {
          ++this.state.pos;
        }

      case 10:
        this.state.lineStart = this.state.pos;
        ++this.state.curLine;

      case 8232:
      case 8233:
        return "";

      case 56:
      case 57:
        if (inTemplate) {
          return null;
        } else if (this.state.strict) {
          this.raise(this.state.pos - 1, ErrorMessages.StrictNumericEscape);
        }

      default:
        if (ch >= 48 && ch <= 55) {
          const codePos = this.state.pos - 1;
          const match = this.input.substr(this.state.pos - 1, 3).match(/^[0-7]+/);
          let octalStr = match[0];
          let octal = parseInt(octalStr, 8);

          if (octal > 255) {
            octalStr = octalStr.slice(0, -1);
            octal = parseInt(octalStr, 8);
          }

          this.state.pos += octalStr.length - 1;
          const next = this.input.charCodeAt(this.state.pos);

          if (octalStr !== "0" || next === 56 || next === 57) {
            if (inTemplate) {
              return null;
            } else if (this.state.strict) {
              this.raise(codePos, ErrorMessages.StrictNumericEscape);
            } else {
              this.state.octalPositions.push(codePos);
            }
          }

          return String.fromCharCode(octal);
        }

        return String.fromCharCode(ch);
    }
  }

  readHexChar(len, forceLen, throwOnInvalid) {
    const codePos = this.state.pos;
    const n = this.readInt(16, len, forceLen, false);

    if (n === null) {
      if (throwOnInvalid) {
        this.raise(codePos, ErrorMessages.InvalidEscapeSequence);
      } else {
        this.state.pos = codePos - 1;
      }
    }

    return n;
  }

  readWord1() {
    let word = "";
    this.state.containsEsc = false;
    const start = this.state.pos;
    let chunkStart = this.state.pos;

    while (this.state.pos < this.length) {
      const ch = this.input.codePointAt(this.state.pos);

      if (isIdentifierChar(ch)) {
        this.state.pos += ch <= 0xffff ? 1 : 2;
      } else if (this.state.isIterator && ch === 64) {
        ++this.state.pos;
      } else if (ch === 92) {
        this.state.containsEsc = true;
        word += this.input.slice(chunkStart, this.state.pos);
        const escStart = this.state.pos;
        const identifierCheck = this.state.pos === start ? isIdentifierStart : isIdentifierChar;

        if (this.input.charCodeAt(++this.state.pos) !== 117) {
          this.raise(this.state.pos, ErrorMessages.MissingUnicodeEscape);
          continue;
        }

        ++this.state.pos;
        const esc = this.readCodePoint(true);

        if (esc !== null) {
          if (!identifierCheck(esc)) {
            this.raise(escStart, ErrorMessages.EscapedCharNotAnIdentifier);
          }

          word += String.fromCodePoint(esc);
        }

        chunkStart = this.state.pos;
      } else {
        break;
      }
    }

    return word + this.input.slice(chunkStart, this.state.pos);
  }

  isIterator(word) {
    return word === "@@iterator" || word === "@@asyncIterator";
  }

  readWord() {
    const word = this.readWord1();
    const type = keywords.get(word) || types.name;

    if (this.state.isIterator && (!this.isIterator(word) || !this.state.inType)) {
      this.raise(this.state.pos, ErrorMessages.InvalidIdentifier, word);
    }

    this.finishToken(type, word);
  }

  checkKeywordEscapes() {
    const kw = this.state.type.keyword;

    if (kw && this.state.containsEsc) {
      this.raise(this.state.start, ErrorMessages.InvalidEscapedReservedWord, kw);
    }
  }

  braceIsBlock(prevType) {
    const parent = this.curContext();

    if (parent === types$1.functionExpression || parent === types$1.functionStatement) {
      return true;
    }

    if (prevType === types.colon && (parent === types$1.braceStatement || parent === types$1.braceExpression)) {
      return !parent.isExpr;
    }

    if (prevType === types._return || prevType === types.name && this.state.exprAllowed) {
      return this.hasPrecedingLineBreak();
    }

    if (prevType === types._else || prevType === types.semi || prevType === types.eof || prevType === types.parenR || prevType === types.arrow) {
      return true;
    }

    if (prevType === types.braceL) {
      return parent === types$1.braceStatement;
    }

    if (prevType === types._var || prevType === types._const || prevType === types.name) {
      return false;
    }

    if (prevType === types.relational) {
      return true;
    }

    return !this.state.exprAllowed;
  }

  updateContext(prevType) {
    const type = this.state.type;
    let update;

    if (type.keyword && (prevType === types.dot || prevType === types.questionDot)) {
      this.state.exprAllowed = false;
    } else if (update = type.updateContext) {
      update.call(this, prevType);
    } else {
      this.state.exprAllowed = type.beforeExpr;
    }
  }

}

class UtilParser extends Tokenizer {
  addExtra(node, key, val) {
    if (!node) return;
    const extra = node.extra = node.extra || {};
    extra[key] = val;
  }

  isRelational(op) {
    return this.match(types.relational) && this.state.value === op;
  }

  expectRelational(op) {
    if (this.isRelational(op)) {
      this.next();
    } else {
      this.unexpected(null, types.relational);
    }
  }

  isContextual(name) {
    return this.match(types.name) && this.state.value === name && !this.state.containsEsc;
  }

  isUnparsedContextual(nameStart, name) {
    const nameEnd = nameStart + name.length;
    return this.input.slice(nameStart, nameEnd) === name && (nameEnd === this.input.length || !isIdentifierChar(this.input.charCodeAt(nameEnd)));
  }

  isLookaheadContextual(name) {
    const next = this.nextTokenStart();
    return this.isUnparsedContextual(next, name);
  }

  eatContextual(name) {
    return this.isContextual(name) && this.eat(types.name);
  }

  expectContextual(name, message) {
    if (!this.eatContextual(name)) this.unexpected(null, message);
  }

  canInsertSemicolon() {
    return this.match(types.eof) || this.match(types.braceR) || this.hasPrecedingLineBreak();
  }

  hasPrecedingLineBreak() {
    return lineBreak.test(this.input.slice(this.state.lastTokEnd, this.state.start));
  }

  isLineTerminator() {
    return this.eat(types.semi) || this.canInsertSemicolon();
  }

  semicolon() {
    if (!this.isLineTerminator()) this.unexpected(null, types.semi);
  }

  expect(type, pos) {
    this.eat(type) || this.unexpected(pos, type);
  }

  assertNoSpace(message = "Unexpected space.") {
    if (this.state.start > this.state.lastTokEnd) {
      this.raise(this.state.lastTokEnd, message);
    }
  }

  unexpected(pos, messageOrType = "Unexpected token") {
    if (typeof messageOrType !== "string") {
      messageOrType = `Unexpected token, expected "${messageOrType.label}"`;
    }

    throw this.raise(pos != null ? pos : this.state.start, messageOrType);
  }

  expectPlugin(name, pos) {
    if (!this.hasPlugin(name)) {
      throw this.raiseWithData(pos != null ? pos : this.state.start, {
        missingPlugin: [name]
      }, `This experimental syntax requires enabling the parser plugin: '${name}'`);
    }

    return true;
  }

  expectOnePlugin(names, pos) {
    if (!names.some(n => this.hasPlugin(n))) {
      throw this.raiseWithData(pos != null ? pos : this.state.start, {
        missingPlugin: names
      }, `This experimental syntax requires enabling one of the following parser plugin(s): '${names.join(", ")}'`);
    }
  }

  tryParse(fn, oldState = this.state.clone()) {
    const abortSignal = {
      node: null
    };

    try {
      const node = fn((node = null) => {
        abortSignal.node = node;
        throw abortSignal;
      });

      if (this.state.errors.length > oldState.errors.length) {
        const failState = this.state;
        this.state = oldState;
        return {
          node,
          error: failState.errors[oldState.errors.length],
          thrown: false,
          aborted: false,
          failState
        };
      }

      return {
        node,
        error: null,
        thrown: false,
        aborted: false,
        failState: null
      };
    } catch (error) {
      const failState = this.state;
      this.state = oldState;

      if (error instanceof SyntaxError) {
        return {
          node: null,
          error,
          thrown: true,
          aborted: false,
          failState
        };
      }

      if (error === abortSignal) {
        return {
          node: abortSignal.node,
          error: null,
          thrown: false,
          aborted: true,
          failState
        };
      }

      throw error;
    }
  }

  checkExpressionErrors(refExpressionErrors, andThrow) {
    if (!refExpressionErrors) return false;
    const {
      shorthandAssign,
      doubleProto
    } = refExpressionErrors;
    if (!andThrow) return shorthandAssign >= 0 || doubleProto >= 0;

    if (shorthandAssign >= 0) {
      this.unexpected(shorthandAssign);
    }

    if (doubleProto >= 0) {
      this.raise(doubleProto, ErrorMessages.DuplicateProto);
    }
  }

  isLiteralPropertyName() {
    return this.match(types.name) || !!this.state.type.keyword || this.match(types.string) || this.match(types.num) || this.match(types.bigint) || this.match(types.decimal);
  }

  isPrivateName(node) {
    return node.type === "PrivateName";
  }

  getPrivateNameSV(node) {
    return node.id.name;
  }

  hasPropertyAsPrivateName(node) {
    return (node.type === "MemberExpression" || node.type === "OptionalMemberExpression") && this.isPrivateName(node.property);
  }

  isOptionalChain(node) {
    return node.type === "OptionalMemberExpression" || node.type === "OptionalCallExpression";
  }

  isObjectProperty(node) {
    return node.type === "ObjectProperty";
  }

  isObjectMethod(node) {
    return node.type === "ObjectMethod";
  }

}
class ExpressionErrors {
  constructor() {
    this.shorthandAssign = -1;
    this.doubleProto = -1;
  }

}

class Node {
  constructor(parser, pos, loc) {
    this.type = void 0;
    this.start = void 0;
    this.end = void 0;
    this.loc = void 0;
    this.range = void 0;
    this.leadingComments = void 0;
    this.trailingComments = void 0;
    this.innerComments = void 0;
    this.extra = void 0;
    this.type = "";
    this.start = pos;
    this.end = 0;
    this.loc = new SourceLocation(loc);
    if (parser == null ? void 0 : parser.options.ranges) this.range = [pos, 0];
    if (parser == null ? void 0 : parser.filename) this.loc.filename = parser.filename;
  }

  __clone() {
    const newNode = new Node();
    const keys = Object.keys(this);

    for (let i = 0, length = keys.length; i < length; i++) {
      const key = keys[i];

      if (key !== "leadingComments" && key !== "trailingComments" && key !== "innerComments") {
        newNode[key] = this[key];
      }
    }

    return newNode;
  }

}

class NodeUtils extends UtilParser {
  startNode() {
    return new Node(this, this.state.start, this.state.startLoc);
  }

  startNodeAt(pos, loc) {
    return new Node(this, pos, loc);
  }

  startNodeAtNode(type) {
    return this.startNodeAt(type.start, type.loc.start);
  }

  finishNode(node, type) {
    return this.finishNodeAt(node, type, this.state.lastTokEnd, this.state.lastTokEndLoc);
  }

  finishNodeAt(node, type, pos, loc) {

    node.type = type;
    node.end = pos;
    node.loc.end = loc;
    if (this.options.ranges) node.range[1] = pos;
    this.processComment(node);
    return node;
  }

  resetStartLocation(node, start, startLoc) {
    node.start = start;
    node.loc.start = startLoc;
    if (this.options.ranges) node.range[0] = start;
  }

  resetEndLocation(node, end = this.state.lastTokEnd, endLoc = this.state.lastTokEndLoc) {
    node.end = end;
    node.loc.end = endLoc;
    if (this.options.ranges) node.range[1] = end;
  }

  resetStartLocationFromNode(node, locationNode) {
    this.resetStartLocation(node, locationNode.start, locationNode.loc.start);
  }

}

const unwrapParenthesizedExpression = node => {
  return node.type === "ParenthesizedExpression" ? unwrapParenthesizedExpression(node.expression) : node;
};

class LValParser extends NodeUtils {
  toAssignable(node, isLHS = false) {
    var _node$extra, _node$extra3;

    let parenthesized = undefined;

    if (node.type === "ParenthesizedExpression" || ((_node$extra = node.extra) == null ? void 0 : _node$extra.parenthesized)) {
      parenthesized = unwrapParenthesizedExpression(node);

      if (isLHS) {
        if (parenthesized.type === "Identifier") {
          this.expressionScope.recordParenthesizedIdentifierError(node.start, ErrorMessages.InvalidParenthesizedAssignment);
        } else if (parenthesized.type !== "MemberExpression") {
          this.raise(node.start, ErrorMessages.InvalidParenthesizedAssignment);
        }
      } else {
        this.raise(node.start, ErrorMessages.InvalidParenthesizedAssignment);
      }
    }

    switch (node.type) {
      case "Identifier":
      case "ObjectPattern":
      case "ArrayPattern":
      case "AssignmentPattern":
        break;

      case "ObjectExpression":
        node.type = "ObjectPattern";

        for (let i = 0, length = node.properties.length, last = length - 1; i < length; i++) {
          var _node$extra2;

          const prop = node.properties[i];
          const isLast = i === last;
          this.toAssignableObjectExpressionProp(prop, isLast, isLHS);

          if (isLast && prop.type === "RestElement" && ((_node$extra2 = node.extra) == null ? void 0 : _node$extra2.trailingComma)) {
            this.raiseRestNotLast(node.extra.trailingComma);
          }
        }

        break;

      case "ObjectProperty":
        this.toAssignable(node.value, isLHS);
        break;

      case "SpreadElement":
        {
          this.checkToRestConversion(node);
          node.type = "RestElement";
          const arg = node.argument;
          this.toAssignable(arg, isLHS);
          break;
        }

      case "ArrayExpression":
        node.type = "ArrayPattern";
        this.toAssignableList(node.elements, (_node$extra3 = node.extra) == null ? void 0 : _node$extra3.trailingComma, isLHS);
        break;

      case "AssignmentExpression":
        if (node.operator !== "=") {
          this.raise(node.left.end, ErrorMessages.MissingEqInAssignment);
        }

        node.type = "AssignmentPattern";
        delete node.operator;
        this.toAssignable(node.left, isLHS);
        break;

      case "ParenthesizedExpression":
        this.toAssignable(parenthesized, isLHS);
        break;
    }

    return node;
  }

  toAssignableObjectExpressionProp(prop, isLast, isLHS) {
    if (prop.type === "ObjectMethod") {
      const error = prop.kind === "get" || prop.kind === "set" ? ErrorMessages.PatternHasAccessor : ErrorMessages.PatternHasMethod;
      this.raise(prop.key.start, error);
    } else if (prop.type === "SpreadElement" && !isLast) {
      this.raiseRestNotLast(prop.start);
    } else {
      this.toAssignable(prop, isLHS);
    }
  }

  toAssignableList(exprList, trailingCommaPos, isLHS) {
    let end = exprList.length;

    if (end) {
      const last = exprList[end - 1];

      if ((last == null ? void 0 : last.type) === "RestElement") {
        --end;
      } else if ((last == null ? void 0 : last.type) === "SpreadElement") {
        last.type = "RestElement";
        let arg = last.argument;
        this.toAssignable(arg, isLHS);
        arg = unwrapParenthesizedExpression(arg);

        if (arg.type !== "Identifier" && arg.type !== "MemberExpression" && arg.type !== "ArrayPattern" && arg.type !== "ObjectPattern") {
          this.unexpected(arg.start);
        }

        if (trailingCommaPos) {
          this.raiseTrailingCommaAfterRest(trailingCommaPos);
        }

        --end;
      }
    }

    for (let i = 0; i < end; i++) {
      const elt = exprList[i];

      if (elt) {
        this.toAssignable(elt, isLHS);

        if (elt.type === "RestElement") {
          this.raiseRestNotLast(elt.start);
        }
      }
    }

    return exprList;
  }

  toReferencedList(exprList, isParenthesizedExpr) {
    return exprList;
  }

  toReferencedListDeep(exprList, isParenthesizedExpr) {
    this.toReferencedList(exprList, isParenthesizedExpr);

    for (let _i = 0; _i < exprList.length; _i++) {
      const expr = exprList[_i];

      if ((expr == null ? void 0 : expr.type) === "ArrayExpression") {
        this.toReferencedListDeep(expr.elements);
      }
    }
  }

  parseSpread(refExpressionErrors, refNeedsArrowPos) {
    const node = this.startNode();
    this.next();
    node.argument = this.parseMaybeAssignAllowIn(refExpressionErrors, undefined, refNeedsArrowPos);
    return this.finishNode(node, "SpreadElement");
  }

  parseRestBinding() {
    const node = this.startNode();
    this.next();
    node.argument = this.parseBindingAtom();
    return this.finishNode(node, "RestElement");
  }

  parseBindingAtom() {
    switch (this.state.type) {
      case types.bracketL:
        {
          const node = this.startNode();
          this.next();
          node.elements = this.parseBindingList(types.bracketR, 93, true);
          return this.finishNode(node, "ArrayPattern");
        }

      case types.braceL:
        return this.parseObjectLike(types.braceR, true);
    }

    return this.parseIdentifier();
  }

  parseBindingList(close, closeCharCode, allowEmpty, allowModifiers) {
    const elts = [];
    let first = true;

    while (!this.eat(close)) {
      if (first) {
        first = false;
      } else {
        this.expect(types.comma);
      }

      if (allowEmpty && this.match(types.comma)) {
        elts.push(null);
      } else if (this.eat(close)) {
        break;
      } else if (this.match(types.ellipsis)) {
        elts.push(this.parseAssignableListItemTypes(this.parseRestBinding()));
        this.checkCommaAfterRest(closeCharCode);
        this.expect(close);
        break;
      } else {
        const decorators = [];

        if (this.match(types.at) && this.hasPlugin("decorators")) {
          this.raise(this.state.start, ErrorMessages.UnsupportedParameterDecorator);
        }

        while (this.match(types.at)) {
          decorators.push(this.parseDecorator());
        }

        elts.push(this.parseAssignableListItem(allowModifiers, decorators));
      }
    }

    return elts;
  }

  parseAssignableListItem(allowModifiers, decorators) {
    const left = this.parseMaybeDefault();
    this.parseAssignableListItemTypes(left);
    const elt = this.parseMaybeDefault(left.start, left.loc.start, left);

    if (decorators.length) {
      left.decorators = decorators;
    }

    return elt;
  }

  parseAssignableListItemTypes(param) {
    return param;
  }

  parseMaybeDefault(startPos, startLoc, left) {
    var _startLoc, _startPos, _left;

    startLoc = (_startLoc = startLoc) != null ? _startLoc : this.state.startLoc;
    startPos = (_startPos = startPos) != null ? _startPos : this.state.start;
    left = (_left = left) != null ? _left : this.parseBindingAtom();
    if (!this.eat(types.eq)) return left;
    const node = this.startNodeAt(startPos, startLoc);
    node.left = left;
    node.right = this.parseMaybeAssignAllowIn();
    return this.finishNode(node, "AssignmentPattern");
  }

  checkLVal(expr, contextDescription, bindingType = BIND_NONE, checkClashes, disallowLetBinding, strictModeChanged = false) {
    switch (expr.type) {
      case "Identifier":
        {
          const {
            name
          } = expr;

          if (this.state.strict && (strictModeChanged ? isStrictBindReservedWord(name, this.inModule) : isStrictBindOnlyReservedWord(name))) {
            this.raise(expr.start, bindingType === BIND_NONE ? ErrorMessages.StrictEvalArguments : ErrorMessages.StrictEvalArgumentsBinding, name);
          }

          if (checkClashes) {
            if (checkClashes.has(name)) {
              this.raise(expr.start, ErrorMessages.ParamDupe);
            } else {
              checkClashes.add(name);
            }
          }

          if (disallowLetBinding && name === "let") {
            this.raise(expr.start, ErrorMessages.LetInLexicalBinding);
          }

          if (!(bindingType & BIND_NONE)) {
            this.scope.declareName(name, bindingType, expr.start);
          }

          break;
        }

      case "MemberExpression":
        if (bindingType !== BIND_NONE) {
          this.raise(expr.start, ErrorMessages.InvalidPropertyBindingPattern);
        }

        break;

      case "ObjectPattern":
        for (let _i2 = 0, _expr$properties = expr.properties; _i2 < _expr$properties.length; _i2++) {
          let prop = _expr$properties[_i2];
          if (this.isObjectProperty(prop)) prop = prop.value;else if (this.isObjectMethod(prop)) continue;
          this.checkLVal(prop, "object destructuring pattern", bindingType, checkClashes, disallowLetBinding);
        }

        break;

      case "ArrayPattern":
        for (let _i3 = 0, _expr$elements = expr.elements; _i3 < _expr$elements.length; _i3++) {
          const elem = _expr$elements[_i3];

          if (elem) {
            this.checkLVal(elem, "array destructuring pattern", bindingType, checkClashes, disallowLetBinding);
          }
        }

        break;

      case "AssignmentPattern":
        this.checkLVal(expr.left, "assignment pattern", bindingType, checkClashes);
        break;

      case "RestElement":
        this.checkLVal(expr.argument, "rest element", bindingType, checkClashes);
        break;

      case "ParenthesizedExpression":
        this.checkLVal(expr.expression, "parenthesized expression", bindingType, checkClashes);
        break;

      default:
        {
          this.raise(expr.start, bindingType === BIND_NONE ? ErrorMessages.InvalidLhs : ErrorMessages.InvalidLhsBinding, contextDescription);
        }
    }
  }

  checkToRestConversion(node) {
    if (node.argument.type !== "Identifier" && node.argument.type !== "MemberExpression") {
      this.raise(node.argument.start, ErrorMessages.InvalidRestAssignmentPattern);
    }
  }

  checkCommaAfterRest(close) {
    if (this.match(types.comma)) {
      if (this.lookaheadCharCode() === close) {
        this.raiseTrailingCommaAfterRest(this.state.start);
      } else {
        this.raiseRestNotLast(this.state.start);
      }
    }
  }

  raiseRestNotLast(pos) {
    throw this.raise(pos, ErrorMessages.ElementAfterRest);
  }

  raiseTrailingCommaAfterRest(pos) {
    this.raise(pos, ErrorMessages.RestTrailingComma);
  }

}

const kExpression = 0,
      kMaybeArrowParameterDeclaration = 1,
      kMaybeAsyncArrowParameterDeclaration = 2,
      kParameterDeclaration = 3;

class ExpressionScope {
  constructor(type = kExpression) {
    this.type = void 0;
    this.type = type;
  }

  canBeArrowParameterDeclaration() {
    return this.type === kMaybeAsyncArrowParameterDeclaration || this.type === kMaybeArrowParameterDeclaration;
  }

  isCertainlyParameterDeclaration() {
    return this.type === kParameterDeclaration;
  }

}

class ArrowHeadParsingScope extends ExpressionScope {
  constructor(type) {
    super(type);
    this.errors = new Map();
  }

  recordDeclarationError(pos, message) {
    this.errors.set(pos, message);
  }

  clearDeclarationError(pos) {
    this.errors.delete(pos);
  }

  iterateErrors(iterator) {
    this.errors.forEach(iterator);
  }

}

class ExpressionScopeHandler {
  constructor(raise) {
    this.stack = [new ExpressionScope()];
    this.raise = raise;
  }

  enter(scope) {
    this.stack.push(scope);
  }

  exit() {
    this.stack.pop();
  }

  recordParameterInitializerError(pos, message) {
    const {
      stack
    } = this;
    let i = stack.length - 1;
    let scope = stack[i];

    while (!scope.isCertainlyParameterDeclaration()) {
      if (scope.canBeArrowParameterDeclaration()) {
        scope.recordDeclarationError(pos, message);
      } else {
        return;
      }

      scope = stack[--i];
    }

    this.raise(pos, message);
  }

  recordParenthesizedIdentifierError(pos, message) {
    const {
      stack
    } = this;
    const scope = stack[stack.length - 1];

    if (scope.isCertainlyParameterDeclaration()) {
      this.raise(pos, message);
    } else if (scope.canBeArrowParameterDeclaration()) {
      scope.recordDeclarationError(pos, message);
    } else {
      return;
    }
  }

  recordAsyncArrowParametersError(pos, message) {
    const {
      stack
    } = this;
    let i = stack.length - 1;
    let scope = stack[i];

    while (scope.canBeArrowParameterDeclaration()) {
      if (scope.type === kMaybeAsyncArrowParameterDeclaration) {
        scope.recordDeclarationError(pos, message);
      }

      scope = stack[--i];
    }
  }

  validateAsPattern() {
    const {
      stack
    } = this;
    const currentScope = stack[stack.length - 1];
    if (!currentScope.canBeArrowParameterDeclaration()) return;
    currentScope.iterateErrors((message, pos) => {
      this.raise(pos, message);
      let i = stack.length - 2;
      let scope = stack[i];

      while (scope.canBeArrowParameterDeclaration()) {
        scope.clearDeclarationError(pos);
        scope = stack[--i];
      }
    });
  }

}
function newParameterDeclarationScope() {
  return new ExpressionScope(kParameterDeclaration);
}
function newArrowHeadScope() {
  return new ArrowHeadParsingScope(kMaybeArrowParameterDeclaration);
}
function newAsyncArrowScope() {
  return new ArrowHeadParsingScope(kMaybeAsyncArrowParameterDeclaration);
}
function newExpressionScope() {
  return new ExpressionScope();
}

class ExpressionParser extends LValParser {
  checkProto(prop, isRecord, protoRef, refExpressionErrors) {
    if (prop.type === "SpreadElement" || this.isObjectMethod(prop) || prop.computed || prop.shorthand) {
      return;
    }

    const key = prop.key;
    const name = key.type === "Identifier" ? key.name : key.value;

    if (name === "__proto__") {
      if (isRecord) {
        this.raise(key.start, ErrorMessages.RecordNoProto);
        return;
      }

      if (protoRef.used) {
        if (refExpressionErrors) {
          if (refExpressionErrors.doubleProto === -1) {
            refExpressionErrors.doubleProto = key.start;
          }
        } else {
          this.raise(key.start, ErrorMessages.DuplicateProto);
        }
      }

      protoRef.used = true;
    }
  }

  shouldExitDescending(expr, potentialArrowAt) {
    return expr.type === "ArrowFunctionExpression" && expr.start === potentialArrowAt;
  }

  getExpression() {
    let paramFlags = PARAM;

    if (this.hasPlugin("topLevelAwait") && this.inModule) {
      paramFlags |= PARAM_AWAIT;
    }

    this.scope.enter(SCOPE_PROGRAM);
    this.prodParam.enter(paramFlags);
    this.nextToken();
    const expr = this.parseExpression();

    if (!this.match(types.eof)) {
      this.unexpected();
    }

    expr.comments = this.state.comments;
    expr.errors = this.state.errors;
    return expr;
  }

  parseExpression(disallowIn, refExpressionErrors) {
    if (disallowIn) {
      return this.disallowInAnd(() => this.parseExpressionBase(refExpressionErrors));
    }

    return this.allowInAnd(() => this.parseExpressionBase(refExpressionErrors));
  }

  parseExpressionBase(refExpressionErrors) {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    const expr = this.parseMaybeAssign(refExpressionErrors);

    if (this.match(types.comma)) {
      const node = this.startNodeAt(startPos, startLoc);
      node.expressions = [expr];

      while (this.eat(types.comma)) {
        node.expressions.push(this.parseMaybeAssign(refExpressionErrors));
      }

      this.toReferencedList(node.expressions);
      return this.finishNode(node, "SequenceExpression");
    }

    return expr;
  }

  parseMaybeAssignDisallowIn(refExpressionErrors, afterLeftParse, refNeedsArrowPos) {
    return this.disallowInAnd(() => this.parseMaybeAssign(refExpressionErrors, afterLeftParse, refNeedsArrowPos));
  }

  parseMaybeAssignAllowIn(refExpressionErrors, afterLeftParse, refNeedsArrowPos) {
    return this.allowInAnd(() => this.parseMaybeAssign(refExpressionErrors, afterLeftParse, refNeedsArrowPos));
  }

  parseMaybeAssign(refExpressionErrors, afterLeftParse, refNeedsArrowPos) {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;

    if (this.isContextual("yield")) {
      if (this.prodParam.hasYield) {
        this.state.exprAllowed = true;
        let left = this.parseYield();

        if (afterLeftParse) {
          left = afterLeftParse.call(this, left, startPos, startLoc);
        }

        return left;
      }
    }

    let ownExpressionErrors;

    if (refExpressionErrors) {
      ownExpressionErrors = false;
    } else {
      refExpressionErrors = new ExpressionErrors();
      ownExpressionErrors = true;
    }

    if (this.match(types.parenL) || this.match(types.name)) {
      this.state.potentialArrowAt = this.state.start;
    }

    let left = this.parseMaybeConditional(refExpressionErrors, refNeedsArrowPos);

    if (afterLeftParse) {
      left = afterLeftParse.call(this, left, startPos, startLoc);
    }

    if (this.state.type.isAssign) {
      const node = this.startNodeAt(startPos, startLoc);
      const operator = this.state.value;
      node.operator = operator;

      if (this.match(types.eq)) {
        node.left = this.toAssignable(left, true);
        refExpressionErrors.doubleProto = -1;
      } else {
        node.left = left;
      }

      if (refExpressionErrors.shorthandAssign >= node.left.start) {
        refExpressionErrors.shorthandAssign = -1;
      }

      this.checkLVal(left, "assignment expression");
      this.next();
      node.right = this.parseMaybeAssign();
      return this.finishNode(node, "AssignmentExpression");
    } else if (ownExpressionErrors) {
      this.checkExpressionErrors(refExpressionErrors, true);
    }

    return left;
  }

  parseMaybeConditional(refExpressionErrors, refNeedsArrowPos) {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    const potentialArrowAt = this.state.potentialArrowAt;
    const expr = this.parseExprOps(refExpressionErrors);

    if (this.shouldExitDescending(expr, potentialArrowAt)) {
      return expr;
    }

    return this.parseConditional(expr, startPos, startLoc, refNeedsArrowPos);
  }

  parseConditional(expr, startPos, startLoc, refNeedsArrowPos) {
    if (this.eat(types.question)) {
      const node = this.startNodeAt(startPos, startLoc);
      node.test = expr;
      node.consequent = this.parseMaybeAssignAllowIn();
      this.expect(types.colon);
      node.alternate = this.parseMaybeAssign();
      return this.finishNode(node, "ConditionalExpression");
    }

    return expr;
  }

  parseExprOps(refExpressionErrors) {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    const potentialArrowAt = this.state.potentialArrowAt;
    const expr = this.parseMaybeUnary(refExpressionErrors);

    if (this.shouldExitDescending(expr, potentialArrowAt)) {
      return expr;
    }

    return this.parseExprOp(expr, startPos, startLoc, -1);
  }

  parseExprOp(left, leftStartPos, leftStartLoc, minPrec) {
    let prec = this.state.type.binop;

    if (prec != null && (this.prodParam.hasIn || !this.match(types._in))) {
      if (prec > minPrec) {
        const op = this.state.type;

        if (op === types.pipeline) {
          this.expectPlugin("pipelineOperator");

          if (this.state.inFSharpPipelineDirectBody) {
            return left;
          }

          this.state.inPipeline = true;
          this.checkPipelineAtInfixOperator(left, leftStartPos);
        }

        const node = this.startNodeAt(leftStartPos, leftStartLoc);
        node.left = left;
        node.operator = this.state.value;

        if (op === types.exponent && left.type === "UnaryExpression" && (this.options.createParenthesizedExpressions || !(left.extra && left.extra.parenthesized))) {
          this.raise(left.argument.start, ErrorMessages.UnexpectedTokenUnaryExponentiation);
        }

        const logical = op === types.logicalOR || op === types.logicalAND;
        const coalesce = op === types.nullishCoalescing;

        if (coalesce) {
          prec = types.logicalAND.binop;
        }

        this.next();

        if (op === types.pipeline && this.getPluginOption("pipelineOperator", "proposal") === "minimal") {
          if (this.match(types.name) && this.state.value === "await" && this.prodParam.hasAwait) {
            throw this.raise(this.state.start, ErrorMessages.UnexpectedAwaitAfterPipelineBody);
          }
        }

        node.right = this.parseExprOpRightExpr(op, prec);
        this.finishNode(node, logical || coalesce ? "LogicalExpression" : "BinaryExpression");
        const nextOp = this.state.type;

        if (coalesce && (nextOp === types.logicalOR || nextOp === types.logicalAND) || logical && nextOp === types.nullishCoalescing) {
          throw this.raise(this.state.start, ErrorMessages.MixingCoalesceWithLogical);
        }

        return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec);
      }
    }

    return left;
  }

  parseExprOpRightExpr(op, prec) {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;

    switch (op) {
      case types.pipeline:
        switch (this.getPluginOption("pipelineOperator", "proposal")) {
          case "smart":
            return this.withTopicPermittingContext(() => {
              return this.parseSmartPipelineBody(this.parseExprOpBaseRightExpr(op, prec), startPos, startLoc);
            });

          case "fsharp":
            return this.withSoloAwaitPermittingContext(() => {
              return this.parseFSharpPipelineBody(prec);
            });
        }

      default:
        return this.parseExprOpBaseRightExpr(op, prec);
    }
  }

  parseExprOpBaseRightExpr(op, prec) {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    return this.parseExprOp(this.parseMaybeUnary(), startPos, startLoc, op.rightAssociative ? prec - 1 : prec);
  }

  parseMaybeUnary(refExpressionErrors) {
    if (this.isContextual("await") && this.isAwaitAllowed()) {
      return this.parseAwait();
    }

    const update = this.match(types.incDec);
    const node = this.startNode();

    if (this.state.type.prefix) {
      node.operator = this.state.value;
      node.prefix = true;

      if (this.match(types._throw)) {
        this.expectPlugin("throwExpressions");
      }

      const isDelete = this.match(types._delete);
      this.next();
      node.argument = this.parseMaybeUnary();
      this.checkExpressionErrors(refExpressionErrors, true);

      if (this.state.strict && isDelete) {
        const arg = node.argument;

        if (arg.type === "Identifier") {
          this.raise(node.start, ErrorMessages.StrictDelete);
        } else if (this.hasPropertyAsPrivateName(arg)) {
          this.raise(node.start, ErrorMessages.DeletePrivateField);
        }
      }

      if (!update) {
        return this.finishNode(node, "UnaryExpression");
      }
    }

    return this.parseUpdate(node, update, refExpressionErrors);
  }

  parseUpdate(node, update, refExpressionErrors) {
    if (update) {
      this.checkLVal(node.argument, "prefix operation");
      return this.finishNode(node, "UpdateExpression");
    }

    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    let expr = this.parseExprSubscripts(refExpressionErrors);
    if (this.checkExpressionErrors(refExpressionErrors, false)) return expr;

    while (this.state.type.postfix && !this.canInsertSemicolon()) {
      const node = this.startNodeAt(startPos, startLoc);
      node.operator = this.state.value;
      node.prefix = false;
      node.argument = expr;
      this.checkLVal(expr, "postfix operation");
      this.next();
      expr = this.finishNode(node, "UpdateExpression");
    }

    return expr;
  }

  parseExprSubscripts(refExpressionErrors) {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    const potentialArrowAt = this.state.potentialArrowAt;
    const expr = this.parseExprAtom(refExpressionErrors);

    if (this.shouldExitDescending(expr, potentialArrowAt)) {
      return expr;
    }

    return this.parseSubscripts(expr, startPos, startLoc);
  }

  parseSubscripts(base, startPos, startLoc, noCalls) {
    const state = {
      optionalChainMember: false,
      maybeAsyncArrow: this.atPossibleAsyncArrow(base),
      stop: false
    };

    do {
      base = this.parseSubscript(base, startPos, startLoc, noCalls, state);
      state.maybeAsyncArrow = false;
    } while (!state.stop);

    return base;
  }

  parseSubscript(base, startPos, startLoc, noCalls, state) {
    if (!noCalls && this.eat(types.doubleColon)) {
      return this.parseBind(base, startPos, startLoc, noCalls, state);
    } else if (this.match(types.backQuote)) {
      return this.parseTaggedTemplateExpression(base, startPos, startLoc, state);
    }

    let optional = false;

    if (this.match(types.questionDot)) {
      if (noCalls && this.lookaheadCharCode() === 40) {
        state.stop = true;
        return base;
      }

      state.optionalChainMember = optional = true;
      this.next();
    }

    if (!noCalls && this.match(types.parenL)) {
      return this.parseCoverCallAndAsyncArrowHead(base, startPos, startLoc, state, optional);
    } else if (optional || this.match(types.bracketL) || this.eat(types.dot)) {
      return this.parseMember(base, startPos, startLoc, state, optional);
    } else {
      state.stop = true;
      return base;
    }
  }

  parseMember(base, startPos, startLoc, state, optional) {
    const node = this.startNodeAt(startPos, startLoc);
    const computed = this.eat(types.bracketL);
    node.object = base;
    node.computed = computed;
    const property = computed ? this.parseExpression() : this.parseMaybePrivateName(true);

    if (this.isPrivateName(property)) {
      if (node.object.type === "Super") {
        this.raise(startPos, ErrorMessages.SuperPrivateField);
      }

      this.classScope.usePrivateName(this.getPrivateNameSV(property), property.start);
    }

    node.property = property;

    if (computed) {
      this.expect(types.bracketR);
    }

    if (state.optionalChainMember) {
      node.optional = optional;
      return this.finishNode(node, "OptionalMemberExpression");
    } else {
      return this.finishNode(node, "MemberExpression");
    }
  }

  parseBind(base, startPos, startLoc, noCalls, state) {
    const node = this.startNodeAt(startPos, startLoc);
    node.object = base;
    node.callee = this.parseNoCallExpr();
    state.stop = true;
    return this.parseSubscripts(this.finishNode(node, "BindExpression"), startPos, startLoc, noCalls);
  }

  parseCoverCallAndAsyncArrowHead(base, startPos, startLoc, state, optional) {
    const oldMaybeInArrowParameters = this.state.maybeInArrowParameters;
    this.state.maybeInArrowParameters = true;
    this.next();
    let node = this.startNodeAt(startPos, startLoc);
    node.callee = base;

    if (state.maybeAsyncArrow) {
      this.expressionScope.enter(newAsyncArrowScope());
    }

    if (state.optionalChainMember) {
      node.optional = optional;
    }

    if (optional) {
      node.arguments = this.parseCallExpressionArguments(types.parenR, false);
    } else {
      node.arguments = this.parseCallExpressionArguments(types.parenR, state.maybeAsyncArrow, base.type === "Import", base.type !== "Super", node);
    }

    this.finishCallExpression(node, state.optionalChainMember);

    if (state.maybeAsyncArrow && this.shouldParseAsyncArrow() && !optional) {
      state.stop = true;
      this.expressionScope.validateAsPattern();
      this.expressionScope.exit();
      node = this.parseAsyncArrowFromCallExpression(this.startNodeAt(startPos, startLoc), node);
    } else {
      if (state.maybeAsyncArrow) {
        this.expressionScope.exit();
      }

      this.toReferencedArguments(node);
    }

    this.state.maybeInArrowParameters = oldMaybeInArrowParameters;
    return node;
  }

  toReferencedArguments(node, isParenthesizedExpr) {
    this.toReferencedListDeep(node.arguments, isParenthesizedExpr);
  }

  parseTaggedTemplateExpression(base, startPos, startLoc, state) {
    const node = this.startNodeAt(startPos, startLoc);
    node.tag = base;
    node.quasi = this.parseTemplate(true);

    if (state.optionalChainMember) {
      this.raise(startPos, ErrorMessages.OptionalChainingNoTemplate);
    }

    return this.finishNode(node, "TaggedTemplateExpression");
  }

  atPossibleAsyncArrow(base) {
    return base.type === "Identifier" && base.name === "async" && this.state.lastTokEnd === base.end && !this.canInsertSemicolon() && base.end - base.start === 5 && base.start === this.state.potentialArrowAt;
  }

  finishCallExpression(node, optional) {
    if (node.callee.type === "Import") {
      if (node.arguments.length === 2) {
        if (!this.hasPlugin("moduleAttributes")) {
          this.expectPlugin("importAssertions");
        }
      }

      if (node.arguments.length === 0 || node.arguments.length > 2) {
        this.raise(node.start, ErrorMessages.ImportCallArity, this.hasPlugin("importAssertions") || this.hasPlugin("moduleAttributes") ? "one or two arguments" : "one argument");
      } else {
        for (let _i = 0, _node$arguments = node.arguments; _i < _node$arguments.length; _i++) {
          const arg = _node$arguments[_i];

          if (arg.type === "SpreadElement") {
            this.raise(arg.start, ErrorMessages.ImportCallSpreadArgument);
          }
        }
      }
    }

    return this.finishNode(node, optional ? "OptionalCallExpression" : "CallExpression");
  }

  parseCallExpressionArguments(close, possibleAsyncArrow, dynamicImport, allowPlaceholder, nodeForExtra) {
    const elts = [];
    let first = true;
    const oldInFSharpPipelineDirectBody = this.state.inFSharpPipelineDirectBody;
    this.state.inFSharpPipelineDirectBody = false;

    while (!this.eat(close)) {
      if (first) {
        first = false;
      } else {
        this.expect(types.comma);

        if (this.match(close)) {
          if (dynamicImport && !this.hasPlugin("importAssertions") && !this.hasPlugin("moduleAttributes")) {
            this.raise(this.state.lastTokStart, ErrorMessages.ImportCallArgumentTrailingComma);
          }

          if (nodeForExtra) {
            this.addExtra(nodeForExtra, "trailingComma", this.state.lastTokStart);
          }

          this.next();
          break;
        }
      }

      elts.push(this.parseExprListItem(false, possibleAsyncArrow ? new ExpressionErrors() : undefined, possibleAsyncArrow ? {
        start: 0
      } : undefined, allowPlaceholder));
    }

    this.state.inFSharpPipelineDirectBody = oldInFSharpPipelineDirectBody;
    return elts;
  }

  shouldParseAsyncArrow() {
    return this.match(types.arrow) && !this.canInsertSemicolon();
  }

  parseAsyncArrowFromCallExpression(node, call) {
    var _call$extra;

    this.expect(types.arrow);
    this.parseArrowExpression(node, call.arguments, true, (_call$extra = call.extra) == null ? void 0 : _call$extra.trailingComma);
    return node;
  }

  parseNoCallExpr() {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    return this.parseSubscripts(this.parseExprAtom(), startPos, startLoc, true);
  }

  parseExprAtom(refExpressionErrors) {
    if (this.state.type === types.slash) this.readRegexp();
    const canBeArrow = this.state.potentialArrowAt === this.state.start;
    let node;

    switch (this.state.type) {
      case types._super:
        return this.parseSuper();

      case types._import:
        node = this.startNode();
        this.next();

        if (this.match(types.dot)) {
          return this.parseImportMetaProperty(node);
        }

        if (!this.match(types.parenL)) {
          this.raise(this.state.lastTokStart, ErrorMessages.UnsupportedImport);
        }

        return this.finishNode(node, "Import");

      case types._this:
        node = this.startNode();
        this.next();
        return this.finishNode(node, "ThisExpression");

      case types.name:
        {
          const containsEsc = this.state.containsEsc;
          const id = this.parseIdentifier();

          if (!containsEsc && id.name === "async" && !this.canInsertSemicolon()) {
            if (this.match(types._function)) {
              const last = this.state.context.length - 1;

              if (this.state.context[last] !== types$1.functionStatement) {
                throw new Error("Internal error");
              }

              this.state.context[last] = types$1.functionExpression;
              this.next();
              return this.parseFunction(this.startNodeAtNode(id), undefined, true);
            } else if (this.match(types.name)) {
              return this.parseAsyncArrowUnaryFunction(id);
            }
          }

          if (canBeArrow && this.match(types.arrow) && !this.canInsertSemicolon()) {
            this.next();
            return this.parseArrowExpression(this.startNodeAtNode(id), [id], false);
          }

          return id;
        }

      case types._do:
        {
          return this.parseDo();
        }

      case types.regexp:
        {
          const value = this.state.value;
          node = this.parseLiteral(value.value, "RegExpLiteral");
          node.pattern = value.pattern;
          node.flags = value.flags;
          return node;
        }

      case types.num:
        return this.parseLiteral(this.state.value, "NumericLiteral");

      case types.bigint:
        return this.parseLiteral(this.state.value, "BigIntLiteral");

      case types.decimal:
        return this.parseLiteral(this.state.value, "DecimalLiteral");

      case types.string:
        return this.parseLiteral(this.state.value, "StringLiteral");

      case types._null:
        node = this.startNode();
        this.next();
        return this.finishNode(node, "NullLiteral");

      case types._true:
      case types._false:
        return this.parseBooleanLiteral();

      case types.parenL:
        return this.parseParenAndDistinguishExpression(canBeArrow);

      case types.bracketBarL:
      case types.bracketHashL:
        {
          return this.parseArrayLike(this.state.type === types.bracketBarL ? types.bracketBarR : types.bracketR, false, true, refExpressionErrors);
        }

      case types.bracketL:
        {
          return this.parseArrayLike(types.bracketR, true, false, refExpressionErrors);
        }

      case types.braceBarL:
      case types.braceHashL:
        {
          return this.parseObjectLike(this.state.type === types.braceBarL ? types.braceBarR : types.braceR, false, true, refExpressionErrors);
        }

      case types.braceL:
        {
          return this.parseObjectLike(types.braceR, false, false, refExpressionErrors);
        }

      case types._function:
        return this.parseFunctionOrFunctionSent();

      case types.at:
        this.parseDecorators();

      case types._class:
        node = this.startNode();
        this.takeDecorators(node);
        return this.parseClass(node, false);

      case types._new:
        return this.parseNewOrNewTarget();

      case types.backQuote:
        return this.parseTemplate(false);

      case types.doubleColon:
        {
          node = this.startNode();
          this.next();
          node.object = null;
          const callee = node.callee = this.parseNoCallExpr();

          if (callee.type === "MemberExpression") {
            return this.finishNode(node, "BindExpression");
          } else {
            throw this.raise(callee.start, ErrorMessages.UnsupportedBind);
          }
        }

      case types.hash:
        {
          if (this.state.inPipeline) {
            node = this.startNode();

            if (this.getPluginOption("pipelineOperator", "proposal") !== "smart") {
              this.raise(node.start, ErrorMessages.PrimaryTopicRequiresSmartPipeline);
            }

            this.next();

            if (!this.primaryTopicReferenceIsAllowedInCurrentTopicContext()) {
              this.raise(node.start, ErrorMessages.PrimaryTopicNotAllowed);
            }

            this.registerTopicReference();
            return this.finishNode(node, "PipelinePrimaryTopicReference");
          }

          const nextCh = this.input.codePointAt(this.state.end);

          if (isIdentifierStart(nextCh) || nextCh === 92) {
            const start = this.state.start;
            node = this.parseMaybePrivateName(true);

            if (this.match(types._in)) {
              this.expectPlugin("privateIn");
              this.classScope.usePrivateName(node.id.name, node.start);
            } else if (this.hasPlugin("privateIn")) {
              this.raise(this.state.start, ErrorMessages.PrivateInExpectedIn, node.id.name);
            } else {
              throw this.unexpected(start);
            }

            return node;
          }
        }

      case types.relational:
        {
          if (this.state.value === "<") {
            const lookaheadCh = this.input.codePointAt(this.nextTokenStart());

            if (isIdentifierStart(lookaheadCh) || lookaheadCh === 62) {
                this.expectOnePlugin(["jsx", "flow", "typescript"]);
              }
          }
        }

      default:
        throw this.unexpected();
    }
  }

  parseAsyncArrowUnaryFunction(id) {
    const node = this.startNodeAtNode(id);
    this.prodParam.enter(functionFlags(true, this.prodParam.hasYield));
    const params = [this.parseIdentifier()];
    this.prodParam.exit();

    if (this.hasPrecedingLineBreak()) {
      this.raise(this.state.pos, ErrorMessages.LineTerminatorBeforeArrow);
    }

    this.expect(types.arrow);
    this.parseArrowExpression(node, params, true);
    return node;
  }

  parseDo() {
    this.expectPlugin("doExpressions");
    const node = this.startNode();
    this.next();
    const oldLabels = this.state.labels;
    this.state.labels = [];
    node.body = this.parseBlock();
    this.state.labels = oldLabels;
    return this.finishNode(node, "DoExpression");
  }

  parseSuper() {
    const node = this.startNode();
    this.next();

    if (this.match(types.parenL) && !this.scope.allowDirectSuper && !this.options.allowSuperOutsideMethod) {
      this.raise(node.start, ErrorMessages.SuperNotAllowed);
    } else if (!this.scope.allowSuper && !this.options.allowSuperOutsideMethod) {
      this.raise(node.start, ErrorMessages.UnexpectedSuper);
    }

    if (!this.match(types.parenL) && !this.match(types.bracketL) && !this.match(types.dot)) {
      this.raise(node.start, ErrorMessages.UnsupportedSuper);
    }

    return this.finishNode(node, "Super");
  }

  parseBooleanLiteral() {
    const node = this.startNode();
    node.value = this.match(types._true);
    this.next();
    return this.finishNode(node, "BooleanLiteral");
  }

  parseMaybePrivateName(isPrivateNameAllowed) {
    const isPrivate = this.match(types.hash);

    if (isPrivate) {
      this.expectOnePlugin(["classPrivateProperties", "classPrivateMethods"]);

      if (!isPrivateNameAllowed) {
        this.raise(this.state.pos, ErrorMessages.UnexpectedPrivateField);
      }

      const node = this.startNode();
      this.next();
      this.assertNoSpace("Unexpected space between # and identifier");
      node.id = this.parseIdentifier(true);
      return this.finishNode(node, "PrivateName");
    } else {
      return this.parseIdentifier(true);
    }
  }

  parseFunctionOrFunctionSent() {
    const node = this.startNode();
    this.next();

    if (this.prodParam.hasYield && this.match(types.dot)) {
      const meta = this.createIdentifier(this.startNodeAtNode(node), "function");
      this.next();
      return this.parseMetaProperty(node, meta, "sent");
    }

    return this.parseFunction(node);
  }

  parseMetaProperty(node, meta, propertyName) {
    node.meta = meta;

    if (meta.name === "function" && propertyName === "sent") {
      if (this.isContextual(propertyName)) {
        this.expectPlugin("functionSent");
      } else if (!this.hasPlugin("functionSent")) {
        this.unexpected();
      }
    }

    const containsEsc = this.state.containsEsc;
    node.property = this.parseIdentifier(true);

    if (node.property.name !== propertyName || containsEsc) {
      this.raise(node.property.start, ErrorMessages.UnsupportedMetaProperty, meta.name, propertyName);
    }

    return this.finishNode(node, "MetaProperty");
  }

  parseImportMetaProperty(node) {
    const id = this.createIdentifier(this.startNodeAtNode(node), "import");
    this.next();

    if (this.isContextual("meta")) {
      if (!this.inModule) {
        this.raiseWithData(id.start, {
          code: "BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED"
        }, ErrorMessages.ImportMetaOutsideModule);
      }

      this.sawUnambiguousESM = true;
    }

    return this.parseMetaProperty(node, id, "meta");
  }

  parseLiteral(value, type, startPos, startLoc) {
    startPos = startPos || this.state.start;
    startLoc = startLoc || this.state.startLoc;
    const node = this.startNodeAt(startPos, startLoc);
    this.addExtra(node, "rawValue", value);
    this.addExtra(node, "raw", this.input.slice(startPos, this.state.end));
    node.value = value;
    this.next();
    return this.finishNode(node, type);
  }

  parseParenAndDistinguishExpression(canBeArrow) {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    let val;
    this.next();
    this.expressionScope.enter(newArrowHeadScope());
    const oldMaybeInArrowParameters = this.state.maybeInArrowParameters;
    const oldInFSharpPipelineDirectBody = this.state.inFSharpPipelineDirectBody;
    this.state.maybeInArrowParameters = true;
    this.state.inFSharpPipelineDirectBody = false;
    const innerStartPos = this.state.start;
    const innerStartLoc = this.state.startLoc;
    const exprList = [];
    const refExpressionErrors = new ExpressionErrors();
    const refNeedsArrowPos = {
      start: 0
    };
    let first = true;
    let spreadStart;
    let optionalCommaStart;

    while (!this.match(types.parenR)) {
      if (first) {
        first = false;
      } else {
        this.expect(types.comma, refNeedsArrowPos.start || null);

        if (this.match(types.parenR)) {
          optionalCommaStart = this.state.start;
          break;
        }
      }

      if (this.match(types.ellipsis)) {
        const spreadNodeStartPos = this.state.start;
        const spreadNodeStartLoc = this.state.startLoc;
        spreadStart = this.state.start;
        exprList.push(this.parseParenItem(this.parseRestBinding(), spreadNodeStartPos, spreadNodeStartLoc));
        this.checkCommaAfterRest(41);
        break;
      } else {
        exprList.push(this.parseMaybeAssignAllowIn(refExpressionErrors, this.parseParenItem, refNeedsArrowPos));
      }
    }

    const innerEndPos = this.state.lastTokEnd;
    const innerEndLoc = this.state.lastTokEndLoc;
    this.expect(types.parenR);
    this.state.maybeInArrowParameters = oldMaybeInArrowParameters;
    this.state.inFSharpPipelineDirectBody = oldInFSharpPipelineDirectBody;
    let arrowNode = this.startNodeAt(startPos, startLoc);

    if (canBeArrow && this.shouldParseArrow() && (arrowNode = this.parseArrow(arrowNode))) {
      this.expressionScope.validateAsPattern();
      this.expressionScope.exit();
      this.parseArrowExpression(arrowNode, exprList, false);
      return arrowNode;
    }

    this.expressionScope.exit();

    if (!exprList.length) {
      this.unexpected(this.state.lastTokStart);
    }

    if (optionalCommaStart) this.unexpected(optionalCommaStart);
    if (spreadStart) this.unexpected(spreadStart);
    this.checkExpressionErrors(refExpressionErrors, true);
    if (refNeedsArrowPos.start) this.unexpected(refNeedsArrowPos.start);
    this.toReferencedListDeep(exprList, true);

    if (exprList.length > 1) {
      val = this.startNodeAt(innerStartPos, innerStartLoc);
      val.expressions = exprList;
      this.finishNodeAt(val, "SequenceExpression", innerEndPos, innerEndLoc);
    } else {
      val = exprList[0];
    }

    if (!this.options.createParenthesizedExpressions) {
      this.addExtra(val, "parenthesized", true);
      this.addExtra(val, "parenStart", startPos);
      return val;
    }

    const parenExpression = this.startNodeAt(startPos, startLoc);
    parenExpression.expression = val;
    this.finishNode(parenExpression, "ParenthesizedExpression");
    return parenExpression;
  }

  shouldParseArrow() {
    return !this.canInsertSemicolon();
  }

  parseArrow(node) {
    if (this.eat(types.arrow)) {
      return node;
    }
  }

  parseParenItem(node, startPos, startLoc) {
    return node;
  }

  parseNewOrNewTarget() {
    const node = this.startNode();
    this.next();

    if (this.match(types.dot)) {
      const meta = this.createIdentifier(this.startNodeAtNode(node), "new");
      this.next();
      const metaProp = this.parseMetaProperty(node, meta, "target");

      if (!this.scope.inNonArrowFunction && !this.scope.inClass) {
        let error = ErrorMessages.UnexpectedNewTarget;

        if (this.hasPlugin("classProperties")) {
          error += " or class properties";
        }

        this.raise(metaProp.start, error);
      }

      return metaProp;
    }

    return this.parseNew(node);
  }

  parseNew(node) {
    node.callee = this.parseNoCallExpr();

    if (node.callee.type === "Import") {
      this.raise(node.callee.start, ErrorMessages.ImportCallNotNewExpression);
    } else if (this.isOptionalChain(node.callee)) {
      this.raise(this.state.lastTokEnd, ErrorMessages.OptionalChainingNoNew);
    } else if (this.eat(types.questionDot)) {
      this.raise(this.state.start, ErrorMessages.OptionalChainingNoNew);
    }

    this.parseNewArguments(node);
    return this.finishNode(node, "NewExpression");
  }

  parseNewArguments(node) {
    if (this.eat(types.parenL)) {
      const args = this.parseExprList(types.parenR);
      this.toReferencedList(args);
      node.arguments = args;
    } else {
      node.arguments = [];
    }
  }

  parseTemplateElement(isTagged) {
    const elem = this.startNode();

    if (this.state.value === null) {
      if (!isTagged) {
        this.raise(this.state.start + 1, ErrorMessages.InvalidEscapeSequenceTemplate);
      }
    }

    elem.value = {
      raw: this.input.slice(this.state.start, this.state.end).replace(/\r\n?/g, "\n"),
      cooked: this.state.value
    };
    this.next();
    elem.tail = this.match(types.backQuote);
    return this.finishNode(elem, "TemplateElement");
  }

  parseTemplate(isTagged) {
    const node = this.startNode();
    this.next();
    node.expressions = [];
    let curElt = this.parseTemplateElement(isTagged);
    node.quasis = [curElt];

    while (!curElt.tail) {
      this.expect(types.dollarBraceL);
      node.expressions.push(this.parseTemplateSubstitution());
      this.expect(types.braceR);
      node.quasis.push(curElt = this.parseTemplateElement(isTagged));
    }

    this.next();
    return this.finishNode(node, "TemplateLiteral");
  }

  parseTemplateSubstitution() {
    return this.parseExpression();
  }

  parseObjectLike(close, isPattern, isRecord, refExpressionErrors) {
    if (isRecord) {
      this.expectPlugin("recordAndTuple");
    }

    const oldInFSharpPipelineDirectBody = this.state.inFSharpPipelineDirectBody;
    this.state.inFSharpPipelineDirectBody = false;
    const propHash = Object.create(null);
    let first = true;
    const node = this.startNode();
    node.properties = [];
    this.next();

    while (!this.match(close)) {
      if (first) {
        first = false;
      } else {
        this.expect(types.comma);

        if (this.match(close)) {
          this.addExtra(node, "trailingComma", this.state.lastTokStart);
          break;
        }
      }

      const prop = this.parsePropertyDefinition(isPattern, refExpressionErrors);

      if (!isPattern) {
        this.checkProto(prop, isRecord, propHash, refExpressionErrors);
      }

      if (isRecord && !this.isObjectProperty(prop) && prop.type !== "SpreadElement") {
        this.raise(prop.start, ErrorMessages.InvalidRecordProperty);
      }

      if (prop.shorthand) {
        this.addExtra(prop, "shorthand", true);
      }

      node.properties.push(prop);
    }

    this.state.exprAllowed = false;
    this.next();
    this.state.inFSharpPipelineDirectBody = oldInFSharpPipelineDirectBody;
    let type = "ObjectExpression";

    if (isPattern) {
      type = "ObjectPattern";
    } else if (isRecord) {
      type = "RecordExpression";
    }

    return this.finishNode(node, type);
  }

  maybeAsyncOrAccessorProp(prop) {
    return !prop.computed && prop.key.type === "Identifier" && (this.isLiteralPropertyName() || this.match(types.bracketL) || this.match(types.star));
  }

  parsePropertyDefinition(isPattern, refExpressionErrors) {
    let decorators = [];

    if (this.match(types.at)) {
      if (this.hasPlugin("decorators")) {
        this.raise(this.state.start, ErrorMessages.UnsupportedPropertyDecorator);
      }

      while (this.match(types.at)) {
        decorators.push(this.parseDecorator());
      }
    }

    const prop = this.startNode();
    let isGenerator = false;
    let isAsync = false;
    let isAccessor = false;
    let startPos;
    let startLoc;

    if (this.match(types.ellipsis)) {
      if (decorators.length) this.unexpected();

      if (isPattern) {
        this.next();
        prop.argument = this.parseIdentifier();
        this.checkCommaAfterRest(125);
        return this.finishNode(prop, "RestElement");
      }

      return this.parseSpread();
    }

    if (decorators.length) {
      prop.decorators = decorators;
      decorators = [];
    }

    prop.method = false;

    if (isPattern || refExpressionErrors) {
      startPos = this.state.start;
      startLoc = this.state.startLoc;
    }

    if (!isPattern) {
      isGenerator = this.eat(types.star);
    }

    const containsEsc = this.state.containsEsc;
    const key = this.parsePropertyName(prop, false);

    if (!isPattern && !isGenerator && !containsEsc && this.maybeAsyncOrAccessorProp(prop)) {
      const keyName = key.name;

      if (keyName === "async" && !this.hasPrecedingLineBreak()) {
        isAsync = true;
        isGenerator = this.eat(types.star);
        this.parsePropertyName(prop, false);
      }

      if (keyName === "get" || keyName === "set") {
        isAccessor = true;
        prop.kind = keyName;

        if (this.match(types.star)) {
          isGenerator = true;
          this.raise(this.state.pos, ErrorMessages.AccessorIsGenerator, keyName);
          this.next();
        }

        this.parsePropertyName(prop, false);
      }
    }

    this.parseObjPropValue(prop, startPos, startLoc, isGenerator, isAsync, isPattern, isAccessor, refExpressionErrors);
    return prop;
  }

  getGetterSetterExpectedParamCount(method) {
    return method.kind === "get" ? 0 : 1;
  }

  getObjectOrClassMethodParams(method) {
    return method.params;
  }

  checkGetterSetterParams(method) {
    var _params;

    const paramCount = this.getGetterSetterExpectedParamCount(method);
    const params = this.getObjectOrClassMethodParams(method);
    const start = method.start;

    if (params.length !== paramCount) {
      if (method.kind === "get") {
        this.raise(start, ErrorMessages.BadGetterArity);
      } else {
        this.raise(start, ErrorMessages.BadSetterArity);
      }
    }

    if (method.kind === "set" && ((_params = params[params.length - 1]) == null ? void 0 : _params.type) === "RestElement") {
      this.raise(start, ErrorMessages.BadSetterRestParameter);
    }
  }

  parseObjectMethod(prop, isGenerator, isAsync, isPattern, isAccessor) {
    if (isAccessor) {
      this.parseMethod(prop, isGenerator, false, false, false, "ObjectMethod");
      this.checkGetterSetterParams(prop);
      return prop;
    }

    if (isAsync || isGenerator || this.match(types.parenL)) {
      if (isPattern) this.unexpected();
      prop.kind = "method";
      prop.method = true;
      return this.parseMethod(prop, isGenerator, isAsync, false, false, "ObjectMethod");
    }
  }

  parseObjectProperty(prop, startPos, startLoc, isPattern, refExpressionErrors) {
    prop.shorthand = false;

    if (this.eat(types.colon)) {
      prop.value = isPattern ? this.parseMaybeDefault(this.state.start, this.state.startLoc) : this.parseMaybeAssignAllowIn(refExpressionErrors);
      return this.finishNode(prop, "ObjectProperty");
    }

    if (!prop.computed && prop.key.type === "Identifier") {
      this.checkReservedWord(prop.key.name, prop.key.start, true, false);

      if (isPattern) {
        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key.__clone());
      } else if (this.match(types.eq) && refExpressionErrors) {
        if (refExpressionErrors.shorthandAssign === -1) {
          refExpressionErrors.shorthandAssign = this.state.start;
        }

        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key.__clone());
      } else {
        prop.value = prop.key.__clone();
      }

      prop.shorthand = true;
      return this.finishNode(prop, "ObjectProperty");
    }
  }

  parseObjPropValue(prop, startPos, startLoc, isGenerator, isAsync, isPattern, isAccessor, refExpressionErrors) {
    const node = this.parseObjectMethod(prop, isGenerator, isAsync, isPattern, isAccessor) || this.parseObjectProperty(prop, startPos, startLoc, isPattern, refExpressionErrors);
    if (!node) this.unexpected();
    return node;
  }

  parsePropertyName(prop, isPrivateNameAllowed) {
    if (this.eat(types.bracketL)) {
      prop.computed = true;
      prop.key = this.parseMaybeAssignAllowIn();
      this.expect(types.bracketR);
    } else {
      const oldInPropertyName = this.state.inPropertyName;
      this.state.inPropertyName = true;
      prop.key = this.match(types.num) || this.match(types.string) || this.match(types.bigint) || this.match(types.decimal) ? this.parseExprAtom() : this.parseMaybePrivateName(isPrivateNameAllowed);

      if (!this.isPrivateName(prop.key)) {
        prop.computed = false;
      }

      this.state.inPropertyName = oldInPropertyName;
    }

    return prop.key;
  }

  initFunction(node, isAsync) {
    node.id = null;
    node.generator = false;
    node.async = !!isAsync;
  }

  parseMethod(node, isGenerator, isAsync, isConstructor, allowDirectSuper, type, inClassScope = false) {
    this.initFunction(node, isAsync);
    node.generator = !!isGenerator;
    const allowModifiers = isConstructor;
    this.scope.enter(SCOPE_FUNCTION | SCOPE_SUPER | (inClassScope ? SCOPE_CLASS : 0) | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));
    this.prodParam.enter(functionFlags(isAsync, node.generator));
    this.parseFunctionParams(node, allowModifiers);
    this.parseFunctionBodyAndFinish(node, type, true);
    this.prodParam.exit();
    this.scope.exit();
    return node;
  }

  parseArrayLike(close, canBePattern, isTuple, refExpressionErrors) {
    if (isTuple) {
      this.expectPlugin("recordAndTuple");
    }

    const oldInFSharpPipelineDirectBody = this.state.inFSharpPipelineDirectBody;
    this.state.inFSharpPipelineDirectBody = false;
    const node = this.startNode();
    this.next();
    node.elements = this.parseExprList(close, !isTuple, refExpressionErrors, node);
    this.state.inFSharpPipelineDirectBody = oldInFSharpPipelineDirectBody;
    return this.finishNode(node, isTuple ? "TupleExpression" : "ArrayExpression");
  }

  parseArrowExpression(node, params, isAsync, trailingCommaPos) {
    this.scope.enter(SCOPE_FUNCTION | SCOPE_ARROW);
    let flags = functionFlags(isAsync, false);

    if (!this.match(types.bracketL) && this.prodParam.hasIn) {
      flags |= PARAM_IN;
    }

    this.prodParam.enter(flags);
    this.initFunction(node, isAsync);
    const oldMaybeInArrowParameters = this.state.maybeInArrowParameters;

    if (params) {
      this.state.maybeInArrowParameters = true;
      this.setArrowFunctionParameters(node, params, trailingCommaPos);
    }

    this.state.maybeInArrowParameters = false;
    this.parseFunctionBody(node, true);
    this.prodParam.exit();
    this.scope.exit();
    this.state.maybeInArrowParameters = oldMaybeInArrowParameters;
    return this.finishNode(node, "ArrowFunctionExpression");
  }

  setArrowFunctionParameters(node, params, trailingCommaPos) {
    node.params = this.toAssignableList(params, trailingCommaPos, false);
  }

  parseFunctionBodyAndFinish(node, type, isMethod = false) {
    this.parseFunctionBody(node, false, isMethod);
    this.finishNode(node, type);
  }

  parseFunctionBody(node, allowExpression, isMethod = false) {
    const isExpression = allowExpression && !this.match(types.braceL);
    this.expressionScope.enter(newExpressionScope());

    if (isExpression) {
      node.body = this.parseMaybeAssign();
      this.checkParams(node, false, allowExpression, false);
    } else {
      const oldStrict = this.state.strict;
      const oldLabels = this.state.labels;
      this.state.labels = [];
      this.prodParam.enter(this.prodParam.currentFlags() | PARAM_RETURN);
      node.body = this.parseBlock(true, false, hasStrictModeDirective => {
        const nonSimple = !this.isSimpleParamList(node.params);

        if (hasStrictModeDirective && nonSimple) {
          const errorPos = (node.kind === "method" || node.kind === "constructor") && !!node.key ? node.key.end : node.start;
          this.raise(errorPos, ErrorMessages.IllegalLanguageModeDirective);
        }

        const strictModeChanged = !oldStrict && this.state.strict;
        this.checkParams(node, !this.state.strict && !allowExpression && !isMethod && !nonSimple, allowExpression, strictModeChanged);

        if (this.state.strict && node.id) {
          this.checkLVal(node.id, "function name", BIND_OUTSIDE, undefined, undefined, strictModeChanged);
        }
      });
      this.prodParam.exit();
      this.expressionScope.exit();
      this.state.labels = oldLabels;
    }
  }

  isSimpleParamList(params) {
    for (let i = 0, len = params.length; i < len; i++) {
      if (params[i].type !== "Identifier") return false;
    }

    return true;
  }

  checkParams(node, allowDuplicates, isArrowFunction, strictModeChanged = true) {
    const checkClashes = new Set();

    for (let _i2 = 0, _node$params = node.params; _i2 < _node$params.length; _i2++) {
      const param = _node$params[_i2];
      this.checkLVal(param, "function parameter list", BIND_VAR, allowDuplicates ? null : checkClashes, undefined, strictModeChanged);
    }
  }

  parseExprList(close, allowEmpty, refExpressionErrors, nodeForExtra) {
    const elts = [];
    let first = true;

    while (!this.eat(close)) {
      if (first) {
        first = false;
      } else {
        this.expect(types.comma);

        if (this.match(close)) {
          if (nodeForExtra) {
            this.addExtra(nodeForExtra, "trailingComma", this.state.lastTokStart);
          }

          this.next();
          break;
        }
      }

      elts.push(this.parseExprListItem(allowEmpty, refExpressionErrors));
    }

    return elts;
  }

  parseExprListItem(allowEmpty, refExpressionErrors, refNeedsArrowPos, allowPlaceholder) {
    let elt;

    if (this.match(types.comma)) {
      if (!allowEmpty) {
        this.raise(this.state.pos, ErrorMessages.UnexpectedToken, ",");
      }

      elt = null;
    } else if (this.match(types.ellipsis)) {
      const spreadNodeStartPos = this.state.start;
      const spreadNodeStartLoc = this.state.startLoc;
      elt = this.parseParenItem(this.parseSpread(refExpressionErrors, refNeedsArrowPos), spreadNodeStartPos, spreadNodeStartLoc);
    } else if (this.match(types.question)) {
      this.expectPlugin("partialApplication");

      if (!allowPlaceholder) {
        this.raise(this.state.start, ErrorMessages.UnexpectedArgumentPlaceholder);
      }

      const node = this.startNode();
      this.next();
      elt = this.finishNode(node, "ArgumentPlaceholder");
    } else {
      elt = this.parseMaybeAssignAllowIn(refExpressionErrors, this.parseParenItem, refNeedsArrowPos);
    }

    return elt;
  }

  parseIdentifier(liberal) {
    const node = this.startNode();
    const name = this.parseIdentifierName(node.start, liberal);
    return this.createIdentifier(node, name);
  }

  createIdentifier(node, name) {
    node.name = name;
    node.loc.identifierName = name;
    return this.finishNode(node, "Identifier");
  }

  parseIdentifierName(pos, liberal) {
    let name;
    const {
      start,
      type
    } = this.state;

    if (type === types.name) {
      name = this.state.value;
    } else if (type.keyword) {
      name = type.keyword;
      const curContext = this.curContext();

      if ((type === types._class || type === types._function) && (curContext === types$1.functionStatement || curContext === types$1.functionExpression)) {
        this.state.context.pop();
      }
    } else {
      throw this.unexpected();
    }

    if (liberal) {
      this.state.type = types.name;
    } else {
      this.checkReservedWord(name, start, !!type.keyword, false);
    }

    this.next();
    return name;
  }

  checkReservedWord(word, startLoc, checkKeywords, isBinding) {
    if (this.prodParam.hasYield && word === "yield") {
      this.raise(startLoc, ErrorMessages.YieldBindingIdentifier);
      return;
    }

    if (word === "await") {
      if (this.prodParam.hasAwait) {
        this.raise(startLoc, ErrorMessages.AwaitBindingIdentifier);
        return;
      } else {
        this.expressionScope.recordAsyncArrowParametersError(startLoc, ErrorMessages.AwaitBindingIdentifier);
      }
    }

    if (this.scope.inClass && !this.scope.inNonArrowFunction && word === "arguments") {
      this.raise(startLoc, ErrorMessages.ArgumentsInClass);
      return;
    }

    if (checkKeywords && isKeyword(word)) {
      this.raise(startLoc, ErrorMessages.UnexpectedKeyword, word);
      return;
    }

    const reservedTest = !this.state.strict ? isReservedWord : isBinding ? isStrictBindReservedWord : isStrictReservedWord;

    if (reservedTest(word, this.inModule)) {
      if (!this.prodParam.hasAwait && word === "await") {
        this.raise(startLoc, this.hasPlugin("topLevelAwait") ? ErrorMessages.AwaitNotInAsyncContext : ErrorMessages.AwaitNotInAsyncFunction);
      } else {
        this.raise(startLoc, ErrorMessages.UnexpectedReservedWord, word);
      }
    }
  }

  isAwaitAllowed() {
    if (this.prodParam.hasAwait) return true;

    if (this.options.allowAwaitOutsideFunction && !this.scope.inFunction) {
      return true;
    }

    return false;
  }

  parseAwait() {
    const node = this.startNode();
    this.next();
    this.expressionScope.recordParameterInitializerError(node.start, ErrorMessages.AwaitExpressionFormalParameter);

    if (this.eat(types.star)) {
      this.raise(node.start, ErrorMessages.ObsoleteAwaitStar);
    }

    if (!this.scope.inFunction && !this.options.allowAwaitOutsideFunction) {
      if (this.hasPrecedingLineBreak() || this.match(types.plusMin) || this.match(types.parenL) || this.match(types.bracketL) || this.match(types.backQuote) || this.match(types.regexp) || this.match(types.slash) || this.hasPlugin("v8intrinsic") && this.match(types.modulo)) {
        this.ambiguousScriptDifferentAst = true;
      } else {
        this.sawUnambiguousESM = true;
      }
    }

    if (!this.state.soloAwait) {
      node.argument = this.parseMaybeUnary();
    }

    return this.finishNode(node, "AwaitExpression");
  }

  parseYield() {
    const node = this.startNode();
    this.expressionScope.recordParameterInitializerError(node.start, ErrorMessages.YieldInParameter);
    this.next();

    if (this.match(types.semi) || !this.match(types.star) && !this.state.type.startsExpr || this.hasPrecedingLineBreak()) {
      node.delegate = false;
      node.argument = null;
    } else {
      node.delegate = this.eat(types.star);
      node.argument = this.parseMaybeAssign();
    }

    return this.finishNode(node, "YieldExpression");
  }

  checkPipelineAtInfixOperator(left, leftStartPos) {
    if (this.getPluginOption("pipelineOperator", "proposal") === "smart") {
      if (left.type === "SequenceExpression") {
        this.raise(leftStartPos, ErrorMessages.PipelineHeadSequenceExpression);
      }
    }
  }

  parseSmartPipelineBody(childExpression, startPos, startLoc) {
    this.checkSmartPipelineBodyEarlyErrors(childExpression, startPos);
    return this.parseSmartPipelineBodyInStyle(childExpression, startPos, startLoc);
  }

  checkSmartPipelineBodyEarlyErrors(childExpression, startPos) {
    if (this.match(types.arrow)) {
      throw this.raise(this.state.start, ErrorMessages.PipelineBodyNoArrow);
    } else if (childExpression.type === "SequenceExpression") {
      this.raise(startPos, ErrorMessages.PipelineBodySequenceExpression);
    }
  }

  parseSmartPipelineBodyInStyle(childExpression, startPos, startLoc) {
    const bodyNode = this.startNodeAt(startPos, startLoc);
    const isSimpleReference = this.isSimpleReference(childExpression);

    if (isSimpleReference) {
      bodyNode.callee = childExpression;
    } else {
      if (!this.topicReferenceWasUsedInCurrentTopicContext()) {
        this.raise(startPos, ErrorMessages.PipelineTopicUnused);
      }

      bodyNode.expression = childExpression;
    }

    return this.finishNode(bodyNode, isSimpleReference ? "PipelineBareFunction" : "PipelineTopicExpression");
  }

  isSimpleReference(expression) {
    switch (expression.type) {
      case "MemberExpression":
        return !expression.computed && this.isSimpleReference(expression.object);

      case "Identifier":
        return true;

      default:
        return false;
    }
  }

  withTopicPermittingContext(callback) {
    const outerContextTopicState = this.state.topicContext;
    this.state.topicContext = {
      maxNumOfResolvableTopics: 1,
      maxTopicIndex: null
    };

    try {
      return callback();
    } finally {
      this.state.topicContext = outerContextTopicState;
    }
  }

  withTopicForbiddingContext(callback) {
    const outerContextTopicState = this.state.topicContext;
    this.state.topicContext = {
      maxNumOfResolvableTopics: 0,
      maxTopicIndex: null
    };

    try {
      return callback();
    } finally {
      this.state.topicContext = outerContextTopicState;
    }
  }

  withSoloAwaitPermittingContext(callback) {
    const outerContextSoloAwaitState = this.state.soloAwait;
    this.state.soloAwait = true;

    try {
      return callback();
    } finally {
      this.state.soloAwait = outerContextSoloAwaitState;
    }
  }

  allowInAnd(callback) {
    const flags = this.prodParam.currentFlags();
    const prodParamToSet = PARAM_IN & ~flags;

    if (prodParamToSet) {
      this.prodParam.enter(flags | PARAM_IN);

      try {
        return callback();
      } finally {
        this.prodParam.exit();
      }
    }

    return callback();
  }

  disallowInAnd(callback) {
    const flags = this.prodParam.currentFlags();
    const prodParamToClear = PARAM_IN & flags;

    if (prodParamToClear) {
      this.prodParam.enter(flags & ~PARAM_IN);

      try {
        return callback();
      } finally {
        this.prodParam.exit();
      }
    }

    return callback();
  }

  registerTopicReference() {
    this.state.topicContext.maxTopicIndex = 0;
  }

  primaryTopicReferenceIsAllowedInCurrentTopicContext() {
    return this.state.topicContext.maxNumOfResolvableTopics >= 1;
  }

  topicReferenceWasUsedInCurrentTopicContext() {
    return this.state.topicContext.maxTopicIndex != null && this.state.topicContext.maxTopicIndex >= 0;
  }

  parseFSharpPipelineBody(prec) {
    const startPos = this.state.start;
    const startLoc = this.state.startLoc;
    this.state.potentialArrowAt = this.state.start;
    const oldInFSharpPipelineDirectBody = this.state.inFSharpPipelineDirectBody;
    this.state.inFSharpPipelineDirectBody = true;
    const ret = this.parseExprOp(this.parseMaybeUnary(), startPos, startLoc, prec);
    this.state.inFSharpPipelineDirectBody = oldInFSharpPipelineDirectBody;
    return ret;
  }

}

const loopLabel = {
  kind: "loop"
},
      switchLabel = {
  kind: "switch"
};
const FUNC_NO_FLAGS = 0b000,
      FUNC_STATEMENT = 0b001,
      FUNC_HANGING_STATEMENT = 0b010,
      FUNC_NULLABLE_ID = 0b100;
const loneSurrogate = /[\uD800-\uDFFF]/u;
class StatementParser extends ExpressionParser {
  parseTopLevel(file, program) {
    program.sourceType = this.options.sourceType;
    program.interpreter = this.parseInterpreterDirective();
    this.parseBlockBody(program, true, true, types.eof);

    if (this.inModule && !this.options.allowUndeclaredExports && this.scope.undefinedExports.size > 0) {
      for (let _i = 0, _Array$from = Array.from(this.scope.undefinedExports); _i < _Array$from.length; _i++) {
        const [name] = _Array$from[_i];
        const pos = this.scope.undefinedExports.get(name);
        this.raise(pos, ErrorMessages.ModuleExportUndefined, name);
      }
    }

    file.program = this.finishNode(program, "Program");
    file.comments = this.state.comments;
    if (this.options.tokens) file.tokens = this.tokens;
    return this.finishNode(file, "File");
  }

  stmtToDirective(stmt) {
    const expr = stmt.expression;
    const directiveLiteral = this.startNodeAt(expr.start, expr.loc.start);
    const directive = this.startNodeAt(stmt.start, stmt.loc.start);
    const raw = this.input.slice(expr.start, expr.end);
    const val = directiveLiteral.value = raw.slice(1, -1);
    this.addExtra(directiveLiteral, "raw", raw);
    this.addExtra(directiveLiteral, "rawValue", val);
    directive.value = this.finishNodeAt(directiveLiteral, "DirectiveLiteral", expr.end, expr.loc.end);
    return this.finishNodeAt(directive, "Directive", stmt.end, stmt.loc.end);
  }

  parseInterpreterDirective() {
    if (!this.match(types.interpreterDirective)) {
      return null;
    }

    const node = this.startNode();
    node.value = this.state.value;
    this.next();
    return this.finishNode(node, "InterpreterDirective");
  }

  isLet(context) {
    if (!this.isContextual("let")) {
      return false;
    }

    const next = this.nextTokenStart();
    const nextCh = this.input.charCodeAt(next);
    if (nextCh === 91) return true;
    if (context) return false;
    if (nextCh === 123) return true;

    if (isIdentifierStart(nextCh)) {
      let pos = next + 1;

      while (isIdentifierChar(this.input.charCodeAt(pos))) {
        ++pos;
      }

      const ident = this.input.slice(next, pos);
      if (!keywordRelationalOperator.test(ident)) return true;
    }

    return false;
  }

  parseStatement(context, topLevel) {
    if (this.match(types.at)) {
      this.parseDecorators(true);
    }

    return this.parseStatementContent(context, topLevel);
  }

  parseStatementContent(context, topLevel) {
    let starttype = this.state.type;
    const node = this.startNode();
    let kind;

    if (this.isLet(context)) {
      starttype = types._var;
      kind = "let";
    }

    switch (starttype) {
      case types._break:
      case types._continue:
        return this.parseBreakContinueStatement(node, starttype.keyword);

      case types._debugger:
        return this.parseDebuggerStatement(node);

      case types._do:
        return this.parseDoStatement(node);

      case types._for:
        return this.parseForStatement(node);

      case types._function:
        if (this.lookaheadCharCode() === 46) break;

        if (context) {
          if (this.state.strict) {
            this.raise(this.state.start, ErrorMessages.StrictFunction);
          } else if (context !== "if" && context !== "label") {
            this.raise(this.state.start, ErrorMessages.SloppyFunction);
          }
        }

        return this.parseFunctionStatement(node, false, !context);

      case types._class:
        if (context) this.unexpected();
        return this.parseClass(node, true);

      case types._if:
        return this.parseIfStatement(node);

      case types._return:
        return this.parseReturnStatement(node);

      case types._switch:
        return this.parseSwitchStatement(node);

      case types._throw:
        return this.parseThrowStatement(node);

      case types._try:
        return this.parseTryStatement(node);

      case types._const:
      case types._var:
        kind = kind || this.state.value;

        if (context && kind !== "var") {
          this.raise(this.state.start, ErrorMessages.UnexpectedLexicalDeclaration);
        }

        return this.parseVarStatement(node, kind);

      case types._while:
        return this.parseWhileStatement(node);

      case types._with:
        return this.parseWithStatement(node);

      case types.braceL:
        return this.parseBlock();

      case types.semi:
        return this.parseEmptyStatement(node);

      case types._import:
        {
          const nextTokenCharCode = this.lookaheadCharCode();

          if (nextTokenCharCode === 40 || nextTokenCharCode === 46) {
              break;
            }
        }

      case types._export:
        {
          if (!this.options.allowImportExportEverywhere && !topLevel) {
            this.raise(this.state.start, ErrorMessages.UnexpectedImportExport);
          }

          this.next();
          let result;

          if (starttype === types._import) {
            result = this.parseImport(node);

            if (result.type === "ImportDeclaration" && (!result.importKind || result.importKind === "value")) {
              this.sawUnambiguousESM = true;
            }
          } else {
            result = this.parseExport(node);

            if (result.type === "ExportNamedDeclaration" && (!result.exportKind || result.exportKind === "value") || result.type === "ExportAllDeclaration" && (!result.exportKind || result.exportKind === "value") || result.type === "ExportDefaultDeclaration") {
              this.sawUnambiguousESM = true;
            }
          }

          this.assertModuleNodeAllowed(node);
          return result;
        }

      default:
        {
          if (this.isAsyncFunction()) {
            if (context) {
              this.raise(this.state.start, ErrorMessages.AsyncFunctionInSingleStatementContext);
            }

            this.next();
            return this.parseFunctionStatement(node, true, !context);
          }
        }
    }

    const maybeName = this.state.value;
    const expr = this.parseExpression();

    if (starttype === types.name && expr.type === "Identifier" && this.eat(types.colon)) {
      return this.parseLabeledStatement(node, maybeName, expr, context);
    } else {
      return this.parseExpressionStatement(node, expr);
    }
  }

  assertModuleNodeAllowed(node) {
    if (!this.options.allowImportExportEverywhere && !this.inModule) {
      this.raiseWithData(node.start, {
        code: "BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED"
      }, ErrorMessages.ImportOutsideModule);
    }
  }

  takeDecorators(node) {
    const decorators = this.state.decoratorStack[this.state.decoratorStack.length - 1];

    if (decorators.length) {
      node.decorators = decorators;
      this.resetStartLocationFromNode(node, decorators[0]);
      this.state.decoratorStack[this.state.decoratorStack.length - 1] = [];
    }
  }

  canHaveLeadingDecorator() {
    return this.match(types._class);
  }

  parseDecorators(allowExport) {
    const currentContextDecorators = this.state.decoratorStack[this.state.decoratorStack.length - 1];

    while (this.match(types.at)) {
      const decorator = this.parseDecorator();
      currentContextDecorators.push(decorator);
    }

    if (this.match(types._export)) {
      if (!allowExport) {
        this.unexpected();
      }

      if (this.hasPlugin("decorators") && !this.getPluginOption("decorators", "decoratorsBeforeExport")) {
        this.raise(this.state.start, ErrorMessages.DecoratorExportClass);
      }
    } else if (!this.canHaveLeadingDecorator()) {
      throw this.raise(this.state.start, ErrorMessages.UnexpectedLeadingDecorator);
    }
  }

  parseDecorator() {
    this.expectOnePlugin(["decorators-legacy", "decorators"]);
    const node = this.startNode();
    this.next();

    if (this.hasPlugin("decorators")) {
      this.state.decoratorStack.push([]);
      const startPos = this.state.start;
      const startLoc = this.state.startLoc;
      let expr;

      if (this.eat(types.parenL)) {
        expr = this.parseExpression();
        this.expect(types.parenR);
      } else {
        expr = this.parseIdentifier(false);

        while (this.eat(types.dot)) {
          const node = this.startNodeAt(startPos, startLoc);
          node.object = expr;
          node.property = this.parseIdentifier(true);
          node.computed = false;
          expr = this.finishNode(node, "MemberExpression");
        }
      }

      node.expression = this.parseMaybeDecoratorArguments(expr);
      this.state.decoratorStack.pop();
    } else {
      node.expression = this.parseExprSubscripts();
    }

    return this.finishNode(node, "Decorator");
  }

  parseMaybeDecoratorArguments(expr) {
    if (this.eat(types.parenL)) {
      const node = this.startNodeAtNode(expr);
      node.callee = expr;
      node.arguments = this.parseCallExpressionArguments(types.parenR, false);
      this.toReferencedList(node.arguments);
      return this.finishNode(node, "CallExpression");
    }

    return expr;
  }

  parseBreakContinueStatement(node, keyword) {
    const isBreak = keyword === "break";
    this.next();

    if (this.isLineTerminator()) {
      node.label = null;
    } else {
      node.label = this.parseIdentifier();
      this.semicolon();
    }

    this.verifyBreakContinue(node, keyword);
    return this.finishNode(node, isBreak ? "BreakStatement" : "ContinueStatement");
  }

  verifyBreakContinue(node, keyword) {
    const isBreak = keyword === "break";
    let i;

    for (i = 0; i < this.state.labels.length; ++i) {
      const lab = this.state.labels[i];

      if (node.label == null || lab.name === node.label.name) {
        if (lab.kind != null && (isBreak || lab.kind === "loop")) break;
        if (node.label && isBreak) break;
      }
    }

    if (i === this.state.labels.length) {
      this.raise(node.start, ErrorMessages.IllegalBreakContinue, keyword);
    }
  }

  parseDebuggerStatement(node) {
    this.next();
    this.semicolon();
    return this.finishNode(node, "DebuggerStatement");
  }

  parseHeaderExpression() {
    this.expect(types.parenL);
    const val = this.parseExpression();
    this.expect(types.parenR);
    return val;
  }

  parseDoStatement(node) {
    this.next();
    this.state.labels.push(loopLabel);
    node.body = this.withTopicForbiddingContext(() => this.parseStatement("do"));
    this.state.labels.pop();
    this.expect(types._while);
    node.test = this.parseHeaderExpression();
    this.eat(types.semi);
    return this.finishNode(node, "DoWhileStatement");
  }

  parseForStatement(node) {
    this.next();
    this.state.labels.push(loopLabel);
    let awaitAt = -1;

    if (this.isAwaitAllowed() && this.eatContextual("await")) {
      awaitAt = this.state.lastTokStart;
    }

    this.scope.enter(SCOPE_OTHER);
    this.expect(types.parenL);

    if (this.match(types.semi)) {
      if (awaitAt > -1) {
        this.unexpected(awaitAt);
      }

      return this.parseFor(node, null);
    }

    const isLet = this.isLet();

    if (this.match(types._var) || this.match(types._const) || isLet) {
      const init = this.startNode();
      const kind = isLet ? "let" : this.state.value;
      this.next();
      this.parseVar(init, true, kind);
      this.finishNode(init, "VariableDeclaration");

      if ((this.match(types._in) || this.isContextual("of")) && init.declarations.length === 1) {
        return this.parseForIn(node, init, awaitAt);
      }

      if (awaitAt > -1) {
        this.unexpected(awaitAt);
      }

      return this.parseFor(node, init);
    }

    const refExpressionErrors = new ExpressionErrors();
    const init = this.parseExpression(true, refExpressionErrors);

    if (this.match(types._in) || this.isContextual("of")) {
      this.toAssignable(init, true);
      const description = this.isContextual("of") ? "for-of statement" : "for-in statement";
      this.checkLVal(init, description);
      return this.parseForIn(node, init, awaitAt);
    } else {
      this.checkExpressionErrors(refExpressionErrors, true);
    }

    if (awaitAt > -1) {
      this.unexpected(awaitAt);
    }

    return this.parseFor(node, init);
  }

  parseFunctionStatement(node, isAsync, declarationPosition) {
    this.next();
    return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), isAsync);
  }

  parseIfStatement(node) {
    this.next();
    node.test = this.parseHeaderExpression();
    node.consequent = this.parseStatement("if");
    node.alternate = this.eat(types._else) ? this.parseStatement("if") : null;
    return this.finishNode(node, "IfStatement");
  }

  parseReturnStatement(node) {
    if (!this.prodParam.hasReturn && !this.options.allowReturnOutsideFunction) {
      this.raise(this.state.start, ErrorMessages.IllegalReturn);
    }

    this.next();

    if (this.isLineTerminator()) {
      node.argument = null;
    } else {
      node.argument = this.parseExpression();
      this.semicolon();
    }

    return this.finishNode(node, "ReturnStatement");
  }

  parseSwitchStatement(node) {
    this.next();
    node.discriminant = this.parseHeaderExpression();
    const cases = node.cases = [];
    this.expect(types.braceL);
    this.state.labels.push(switchLabel);
    this.scope.enter(SCOPE_OTHER);
    let cur;

    for (let sawDefault; !this.match(types.braceR);) {
      if (this.match(types._case) || this.match(types._default)) {
        const isCase = this.match(types._case);
        if (cur) this.finishNode(cur, "SwitchCase");
        cases.push(cur = this.startNode());
        cur.consequent = [];
        this.next();

        if (isCase) {
          cur.test = this.parseExpression();
        } else {
          if (sawDefault) {
            this.raise(this.state.lastTokStart, ErrorMessages.MultipleDefaultsInSwitch);
          }

          sawDefault = true;
          cur.test = null;
        }

        this.expect(types.colon);
      } else {
        if (cur) {
          cur.consequent.push(this.parseStatement(null));
        } else {
          this.unexpected();
        }
      }
    }

    this.scope.exit();
    if (cur) this.finishNode(cur, "SwitchCase");
    this.next();
    this.state.labels.pop();
    return this.finishNode(node, "SwitchStatement");
  }

  parseThrowStatement(node) {
    this.next();

    if (this.hasPrecedingLineBreak()) {
      this.raise(this.state.lastTokEnd, ErrorMessages.NewlineAfterThrow);
    }

    node.argument = this.parseExpression();
    this.semicolon();
    return this.finishNode(node, "ThrowStatement");
  }

  parseCatchClauseParam() {
    const param = this.parseBindingAtom();
    const simple = param.type === "Identifier";
    this.scope.enter(simple ? SCOPE_SIMPLE_CATCH : 0);
    this.checkLVal(param, "catch clause", BIND_LEXICAL);
    return param;
  }

  parseTryStatement(node) {
    this.next();
    node.block = this.parseBlock();
    node.handler = null;

    if (this.match(types._catch)) {
      const clause = this.startNode();
      this.next();

      if (this.match(types.parenL)) {
        this.expect(types.parenL);
        clause.param = this.parseCatchClauseParam();
        this.expect(types.parenR);
      } else {
        clause.param = null;
        this.scope.enter(SCOPE_OTHER);
      }

      clause.body = this.withTopicForbiddingContext(() => this.parseBlock(false, false));
      this.scope.exit();
      node.handler = this.finishNode(clause, "CatchClause");
    }

    node.finalizer = this.eat(types._finally) ? this.parseBlock() : null;

    if (!node.handler && !node.finalizer) {
      this.raise(node.start, ErrorMessages.NoCatchOrFinally);
    }

    return this.finishNode(node, "TryStatement");
  }

  parseVarStatement(node, kind) {
    this.next();
    this.parseVar(node, false, kind);
    this.semicolon();
    return this.finishNode(node, "VariableDeclaration");
  }

  parseWhileStatement(node) {
    this.next();
    node.test = this.parseHeaderExpression();
    this.state.labels.push(loopLabel);
    node.body = this.withTopicForbiddingContext(() => this.parseStatement("while"));
    this.state.labels.pop();
    return this.finishNode(node, "WhileStatement");
  }

  parseWithStatement(node) {
    if (this.state.strict) {
      this.raise(this.state.start, ErrorMessages.StrictWith);
    }

    this.next();
    node.object = this.parseHeaderExpression();
    node.body = this.withTopicForbiddingContext(() => this.parseStatement("with"));
    return this.finishNode(node, "WithStatement");
  }

  parseEmptyStatement(node) {
    this.next();
    return this.finishNode(node, "EmptyStatement");
  }

  parseLabeledStatement(node, maybeName, expr, context) {
    for (let _i2 = 0, _this$state$labels = this.state.labels; _i2 < _this$state$labels.length; _i2++) {
      const label = _this$state$labels[_i2];

      if (label.name === maybeName) {
        this.raise(expr.start, ErrorMessages.LabelRedeclaration, maybeName);
      }
    }

    const kind = this.state.type.isLoop ? "loop" : this.match(types._switch) ? "switch" : null;

    for (let i = this.state.labels.length - 1; i >= 0; i--) {
      const label = this.state.labels[i];

      if (label.statementStart === node.start) {
        label.statementStart = this.state.start;
        label.kind = kind;
      } else {
        break;
      }
    }

    this.state.labels.push({
      name: maybeName,
      kind: kind,
      statementStart: this.state.start
    });
    node.body = this.parseStatement(context ? context.indexOf("label") === -1 ? context + "label" : context : "label");
    this.state.labels.pop();
    node.label = expr;
    return this.finishNode(node, "LabeledStatement");
  }

  parseExpressionStatement(node, expr) {
    node.expression = expr;
    this.semicolon();
    return this.finishNode(node, "ExpressionStatement");
  }

  parseBlock(allowDirectives = false, createNewLexicalScope = true, afterBlockParse) {
    const node = this.startNode();
    this.expect(types.braceL);

    if (createNewLexicalScope) {
      this.scope.enter(SCOPE_OTHER);
    }

    this.parseBlockBody(node, allowDirectives, false, types.braceR, afterBlockParse);

    if (createNewLexicalScope) {
      this.scope.exit();
    }

    return this.finishNode(node, "BlockStatement");
  }

  isValidDirective(stmt) {
    return stmt.type === "ExpressionStatement" && stmt.expression.type === "StringLiteral" && !stmt.expression.extra.parenthesized;
  }

  parseBlockBody(node, allowDirectives, topLevel, end, afterBlockParse) {
    const body = node.body = [];
    const directives = node.directives = [];
    this.parseBlockOrModuleBlockBody(body, allowDirectives ? directives : undefined, topLevel, end, afterBlockParse);
  }

  parseBlockOrModuleBlockBody(body, directives, topLevel, end, afterBlockParse) {
    const octalPositions = [];
    const oldStrict = this.state.strict;
    let hasStrictModeDirective = false;
    let parsedNonDirective = false;

    while (!this.match(end)) {
      if (!parsedNonDirective && this.state.octalPositions.length) {
        octalPositions.push(...this.state.octalPositions);
      }

      const stmt = this.parseStatement(null, topLevel);

      if (directives && !parsedNonDirective && this.isValidDirective(stmt)) {
        const directive = this.stmtToDirective(stmt);
        directives.push(directive);

        if (!hasStrictModeDirective && directive.value.value === "use strict") {
          hasStrictModeDirective = true;
          this.setStrict(true);
        }

        continue;
      }

      parsedNonDirective = true;
      body.push(stmt);
    }

    if (this.state.strict && octalPositions.length) {
      for (let _i3 = 0; _i3 < octalPositions.length; _i3++) {
        const pos = octalPositions[_i3];
        this.raise(pos, ErrorMessages.StrictOctalLiteral);
      }
    }

    if (afterBlockParse) {
      afterBlockParse.call(this, hasStrictModeDirective);
    }

    if (!oldStrict) {
      this.setStrict(false);
    }

    this.next();
  }

  parseFor(node, init) {
    node.init = init;
    this.expect(types.semi);
    node.test = this.match(types.semi) ? null : this.parseExpression();
    this.expect(types.semi);
    node.update = this.match(types.parenR) ? null : this.parseExpression();
    this.expect(types.parenR);
    node.body = this.withTopicForbiddingContext(() => this.parseStatement("for"));
    this.scope.exit();
    this.state.labels.pop();
    return this.finishNode(node, "ForStatement");
  }

  parseForIn(node, init, awaitAt) {
    const isForIn = this.match(types._in);
    this.next();

    if (isForIn) {
      if (awaitAt > -1) this.unexpected(awaitAt);
    } else {
      node.await = awaitAt > -1;
    }

    if (init.type === "VariableDeclaration" && init.declarations[0].init != null && (!isForIn || this.state.strict || init.kind !== "var" || init.declarations[0].id.type !== "Identifier")) {
      this.raise(init.start, ErrorMessages.ForInOfLoopInitializer, isForIn ? "for-in" : "for-of");
    } else if (init.type === "AssignmentPattern") {
      this.raise(init.start, ErrorMessages.InvalidLhs, "for-loop");
    }

    node.left = init;
    node.right = isForIn ? this.parseExpression() : this.parseMaybeAssignAllowIn();
    this.expect(types.parenR);
    node.body = this.withTopicForbiddingContext(() => this.parseStatement("for"));
    this.scope.exit();
    this.state.labels.pop();
    return this.finishNode(node, isForIn ? "ForInStatement" : "ForOfStatement");
  }

  parseVar(node, isFor, kind) {
    const declarations = node.declarations = [];
    const isTypescript = this.hasPlugin("typescript");
    node.kind = kind;

    for (;;) {
      const decl = this.startNode();
      this.parseVarId(decl, kind);

      if (this.eat(types.eq)) {
        decl.init = isFor ? this.parseMaybeAssignDisallowIn() : this.parseMaybeAssignAllowIn();
      } else {
        if (kind === "const" && !(this.match(types._in) || this.isContextual("of"))) {
          if (!isTypescript) {
            this.raise(this.state.lastTokEnd, ErrorMessages.DeclarationMissingInitializer, "Const declarations");
          }
        } else if (decl.id.type !== "Identifier" && !(isFor && (this.match(types._in) || this.isContextual("of")))) {
          this.raise(this.state.lastTokEnd, ErrorMessages.DeclarationMissingInitializer, "Complex binding patterns");
        }

        decl.init = null;
      }

      declarations.push(this.finishNode(decl, "VariableDeclarator"));
      if (!this.eat(types.comma)) break;
    }

    return node;
  }

  parseVarId(decl, kind) {
    decl.id = this.parseBindingAtom();
    this.checkLVal(decl.id, "variable declaration", kind === "var" ? BIND_VAR : BIND_LEXICAL, undefined, kind !== "var");
  }

  parseFunction(node, statement = FUNC_NO_FLAGS, isAsync = false) {
    const isStatement = statement & FUNC_STATEMENT;
    const isHangingStatement = statement & FUNC_HANGING_STATEMENT;
    const requireId = !!isStatement && !(statement & FUNC_NULLABLE_ID);
    this.initFunction(node, isAsync);

    if (this.match(types.star) && isHangingStatement) {
      this.raise(this.state.start, ErrorMessages.GeneratorInSingleStatementContext);
    }

    node.generator = this.eat(types.star);

    if (isStatement) {
      node.id = this.parseFunctionId(requireId);
    }

    const oldMaybeInArrowParameters = this.state.maybeInArrowParameters;
    this.state.maybeInArrowParameters = false;
    this.scope.enter(SCOPE_FUNCTION);
    this.prodParam.enter(functionFlags(isAsync, node.generator));

    if (!isStatement) {
      node.id = this.parseFunctionId();
    }

    this.parseFunctionParams(node, false);
    this.withTopicForbiddingContext(() => {
      this.parseFunctionBodyAndFinish(node, isStatement ? "FunctionDeclaration" : "FunctionExpression");
    });
    this.prodParam.exit();
    this.scope.exit();

    if (isStatement && !isHangingStatement) {
      this.registerFunctionStatementId(node);
    }

    this.state.maybeInArrowParameters = oldMaybeInArrowParameters;
    return node;
  }

  parseFunctionId(requireId) {
    return requireId || this.match(types.name) ? this.parseIdentifier() : null;
  }

  parseFunctionParams(node, allowModifiers) {
    this.expect(types.parenL);
    this.expressionScope.enter(newParameterDeclarationScope());
    node.params = this.parseBindingList(types.parenR, 41, false, allowModifiers);
    this.expressionScope.exit();
  }

  registerFunctionStatementId(node) {
    if (!node.id) return;
    this.scope.declareName(node.id.name, this.state.strict || node.generator || node.async ? this.scope.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION, node.id.start);
  }

  parseClass(node, isStatement, optionalId) {
    this.next();
    this.takeDecorators(node);
    const oldStrict = this.state.strict;
    this.state.strict = true;
    this.parseClassId(node, isStatement, optionalId);
    this.parseClassSuper(node);
    node.body = this.parseClassBody(!!node.superClass, oldStrict);
    return this.finishNode(node, isStatement ? "ClassDeclaration" : "ClassExpression");
  }

  isClassProperty() {
    return this.match(types.eq) || this.match(types.semi) || this.match(types.braceR);
  }

  isClassMethod() {
    return this.match(types.parenL);
  }

  isNonstaticConstructor(method) {
    return !method.computed && !method.static && (method.key.name === "constructor" || method.key.value === "constructor");
  }

  parseClassBody(constructorAllowsSuper, oldStrict) {
    this.classScope.enter();
    const state = {
      constructorAllowsSuper,
      hadConstructor: false,
      hadStaticBlock: false
    };
    let decorators = [];
    const classBody = this.startNode();
    classBody.body = [];
    this.expect(types.braceL);
    this.withTopicForbiddingContext(() => {
      while (!this.match(types.braceR)) {
        if (this.eat(types.semi)) {
          if (decorators.length > 0) {
            throw this.raise(this.state.lastTokEnd, ErrorMessages.DecoratorSemicolon);
          }

          continue;
        }

        if (this.match(types.at)) {
          decorators.push(this.parseDecorator());
          continue;
        }

        const member = this.startNode();

        if (decorators.length) {
          member.decorators = decorators;
          this.resetStartLocationFromNode(member, decorators[0]);
          decorators = [];
        }

        this.parseClassMember(classBody, member, state);

        if (member.kind === "constructor" && member.decorators && member.decorators.length > 0) {
          this.raise(member.start, ErrorMessages.DecoratorConstructor);
        }
      }
    });
    this.state.strict = oldStrict;
    this.next();

    if (decorators.length) {
      throw this.raise(this.state.start, ErrorMessages.TrailingDecorator);
    }

    this.classScope.exit();
    return this.finishNode(classBody, "ClassBody");
  }

  parseClassMemberFromModifier(classBody, member) {
    const key = this.parseIdentifier(true);

    if (this.isClassMethod()) {
      const method = member;
      method.kind = "method";
      method.computed = false;
      method.key = key;
      method.static = false;
      this.pushClassMethod(classBody, method, false, false, false, false);
      return true;
    } else if (this.isClassProperty()) {
      const prop = member;
      prop.computed = false;
      prop.key = key;
      prop.static = false;
      classBody.body.push(this.parseClassProperty(prop));
      return true;
    }

    return false;
  }

  parseClassMember(classBody, member, state) {
    const isStatic = this.isContextual("static");

    if (isStatic) {
      if (this.parseClassMemberFromModifier(classBody, member)) {
        return;
      }

      if (this.eat(types.braceL)) {
        this.parseClassStaticBlock(classBody, member, state);
        return;
      }
    }

    this.parseClassMemberWithIsStatic(classBody, member, state, isStatic);
  }

  parseClassMemberWithIsStatic(classBody, member, state, isStatic) {
    const publicMethod = member;
    const privateMethod = member;
    const publicProp = member;
    const privateProp = member;
    const method = publicMethod;
    const publicMember = publicMethod;
    member.static = isStatic;

    if (this.eat(types.star)) {
      method.kind = "method";
      this.parseClassElementName(method);

      if (this.isPrivateName(method.key)) {
        this.pushClassPrivateMethod(classBody, privateMethod, true, false);
        return;
      }

      if (this.isNonstaticConstructor(publicMethod)) {
        this.raise(publicMethod.key.start, ErrorMessages.ConstructorIsGenerator);
      }

      this.pushClassMethod(classBody, publicMethod, true, false, false, false);
      return;
    }

    const containsEsc = this.state.containsEsc;
    const key = this.parseClassElementName(member);
    const isPrivate = this.isPrivateName(key);
    const isSimple = key.type === "Identifier";
    const maybeQuestionTokenStart = this.state.start;
    this.parsePostMemberNameModifiers(publicMember);

    if (this.isClassMethod()) {
      method.kind = "method";

      if (isPrivate) {
        this.pushClassPrivateMethod(classBody, privateMethod, false, false);
        return;
      }

      const isConstructor = this.isNonstaticConstructor(publicMethod);
      let allowsDirectSuper = false;

      if (isConstructor) {
        publicMethod.kind = "constructor";

        if (state.hadConstructor && !this.hasPlugin("typescript")) {
          this.raise(key.start, ErrorMessages.DuplicateConstructor);
        }

        state.hadConstructor = true;
        allowsDirectSuper = state.constructorAllowsSuper;
      }

      this.pushClassMethod(classBody, publicMethod, false, false, isConstructor, allowsDirectSuper);
    } else if (this.isClassProperty()) {
      if (isPrivate) {
        this.pushClassPrivateProperty(classBody, privateProp);
      } else {
        this.pushClassProperty(classBody, publicProp);
      }
    } else if (isSimple && key.name === "async" && !containsEsc && !this.isLineTerminator()) {
      const isGenerator = this.eat(types.star);

      if (publicMember.optional) {
        this.unexpected(maybeQuestionTokenStart);
      }

      method.kind = "method";
      this.parseClassElementName(method);
      this.parsePostMemberNameModifiers(publicMember);

      if (this.isPrivateName(method.key)) {
        this.pushClassPrivateMethod(classBody, privateMethod, isGenerator, true);
      } else {
        if (this.isNonstaticConstructor(publicMethod)) {
          this.raise(publicMethod.key.start, ErrorMessages.ConstructorIsAsync);
        }

        this.pushClassMethod(classBody, publicMethod, isGenerator, true, false, false);
      }
    } else if (isSimple && (key.name === "get" || key.name === "set") && !containsEsc && !(this.match(types.star) && this.isLineTerminator())) {
      method.kind = key.name;
      this.parseClassElementName(publicMethod);

      if (this.isPrivateName(method.key)) {
        this.pushClassPrivateMethod(classBody, privateMethod, false, false);
      } else {
        if (this.isNonstaticConstructor(publicMethod)) {
          this.raise(publicMethod.key.start, ErrorMessages.ConstructorIsAccessor);
        }

        this.pushClassMethod(classBody, publicMethod, false, false, false, false);
      }

      this.checkGetterSetterParams(publicMethod);
    } else if (this.isLineTerminator()) {
      if (isPrivate) {
        this.pushClassPrivateProperty(classBody, privateProp);
      } else {
        this.pushClassProperty(classBody, publicProp);
      }
    } else {
      this.unexpected();
    }
  }

  parseClassElementName(member) {
    const key = this.parsePropertyName(member, true);

    if (!member.computed && member.static && (key.name === "prototype" || key.value === "prototype")) {
      this.raise(key.start, ErrorMessages.StaticPrototype);
    }

    if (this.isPrivateName(key) && this.getPrivateNameSV(key) === "constructor") {
      this.raise(key.start, ErrorMessages.ConstructorClassPrivateField);
    }

    return key;
  }

  parseClassStaticBlock(classBody, member, state) {
    var _member$decorators;

    this.expectPlugin("classStaticBlock", member.start);
    this.scope.enter(SCOPE_CLASS | SCOPE_SUPER);
    this.expressionScope.enter(newExpressionScope());
    const oldLabels = this.state.labels;
    this.state.labels = [];
    this.prodParam.enter(PARAM);
    const body = member.body = [];
    this.parseBlockOrModuleBlockBody(body, undefined, false, types.braceR);
    this.prodParam.exit();
    this.expressionScope.exit();
    this.scope.exit();
    this.state.labels = oldLabels;
    classBody.body.push(this.finishNode(member, "StaticBlock"));

    if (state.hadStaticBlock) {
      this.raise(member.start, ErrorMessages.DuplicateStaticBlock);
    }

    if ((_member$decorators = member.decorators) == null ? void 0 : _member$decorators.length) {
      this.raise(member.start, ErrorMessages.DecoratorStaticBlock);
    }

    state.hadStaticBlock = true;
  }

  pushClassProperty(classBody, prop) {
    if (!prop.computed && (prop.key.name === "constructor" || prop.key.value === "constructor")) {
      this.raise(prop.key.start, ErrorMessages.ConstructorClassField);
    }

    classBody.body.push(this.parseClassProperty(prop));
  }

  pushClassPrivateProperty(classBody, prop) {
    this.expectPlugin("classPrivateProperties", prop.key.start);
    const node = this.parseClassPrivateProperty(prop);
    classBody.body.push(node);
    this.classScope.declarePrivateName(this.getPrivateNameSV(node.key), CLASS_ELEMENT_OTHER, node.key.start);
  }

  pushClassMethod(classBody, method, isGenerator, isAsync, isConstructor, allowsDirectSuper) {
    classBody.body.push(this.parseMethod(method, isGenerator, isAsync, isConstructor, allowsDirectSuper, "ClassMethod", true));
  }

  pushClassPrivateMethod(classBody, method, isGenerator, isAsync) {
    this.expectPlugin("classPrivateMethods", method.key.start);
    const node = this.parseMethod(method, isGenerator, isAsync, false, false, "ClassPrivateMethod", true);
    classBody.body.push(node);
    const kind = node.kind === "get" ? node.static ? CLASS_ELEMENT_STATIC_GETTER : CLASS_ELEMENT_INSTANCE_GETTER : node.kind === "set" ? node.static ? CLASS_ELEMENT_STATIC_SETTER : CLASS_ELEMENT_INSTANCE_SETTER : CLASS_ELEMENT_OTHER;
    this.classScope.declarePrivateName(this.getPrivateNameSV(node.key), kind, node.key.start);
  }

  parsePostMemberNameModifiers(methodOrProp) {}

  parseClassPrivateProperty(node) {
    this.parseInitializer(node);
    this.semicolon();
    return this.finishNode(node, "ClassPrivateProperty");
  }

  parseClassProperty(node) {
    if (!node.typeAnnotation || this.match(types.eq)) {
      this.expectPlugin("classProperties");
    }

    this.parseInitializer(node);
    this.semicolon();
    return this.finishNode(node, "ClassProperty");
  }

  parseInitializer(node) {
    this.scope.enter(SCOPE_CLASS | SCOPE_SUPER);
    this.expressionScope.enter(newExpressionScope());
    this.prodParam.enter(PARAM);
    node.value = this.eat(types.eq) ? this.parseMaybeAssignAllowIn() : null;
    this.expressionScope.exit();
    this.prodParam.exit();
    this.scope.exit();
  }

  parseClassId(node, isStatement, optionalId, bindingType = BIND_CLASS) {
    if (this.match(types.name)) {
      node.id = this.parseIdentifier();

      if (isStatement) {
        this.checkLVal(node.id, "class name", bindingType);
      }
    } else {
      if (optionalId || !isStatement) {
        node.id = null;
      } else {
        this.unexpected(null, ErrorMessages.MissingClassName);
      }
    }
  }

  parseClassSuper(node) {
    node.superClass = this.eat(types._extends) ? this.parseExprSubscripts() : null;
  }

  parseExport(node) {
    const hasDefault = this.maybeParseExportDefaultSpecifier(node);
    const parseAfterDefault = !hasDefault || this.eat(types.comma);
    const hasStar = parseAfterDefault && this.eatExportStar(node);
    const hasNamespace = hasStar && this.maybeParseExportNamespaceSpecifier(node);
    const parseAfterNamespace = parseAfterDefault && (!hasNamespace || this.eat(types.comma));
    const isFromRequired = hasDefault || hasStar;

    if (hasStar && !hasNamespace) {
      if (hasDefault) this.unexpected();
      this.parseExportFrom(node, true);
      return this.finishNode(node, "ExportAllDeclaration");
    }

    const hasSpecifiers = this.maybeParseExportNamedSpecifiers(node);

    if (hasDefault && parseAfterDefault && !hasStar && !hasSpecifiers || hasNamespace && parseAfterNamespace && !hasSpecifiers) {
      throw this.unexpected(null, types.braceL);
    }

    let hasDeclaration;

    if (isFromRequired || hasSpecifiers) {
      hasDeclaration = false;
      this.parseExportFrom(node, isFromRequired);
    } else {
      hasDeclaration = this.maybeParseExportDeclaration(node);
    }

    if (isFromRequired || hasSpecifiers || hasDeclaration) {
      this.checkExport(node, true, false, !!node.source);
      return this.finishNode(node, "ExportNamedDeclaration");
    }

    if (this.eat(types._default)) {
      node.declaration = this.parseExportDefaultExpression();
      this.checkExport(node, true, true);
      return this.finishNode(node, "ExportDefaultDeclaration");
    }

    throw this.unexpected(null, types.braceL);
  }

  eatExportStar(node) {
    return this.eat(types.star);
  }

  maybeParseExportDefaultSpecifier(node) {
    if (this.isExportDefaultSpecifier()) {
      this.expectPlugin("exportDefaultFrom");
      const specifier = this.startNode();
      specifier.exported = this.parseIdentifier(true);
      node.specifiers = [this.finishNode(specifier, "ExportDefaultSpecifier")];
      return true;
    }

    return false;
  }

  maybeParseExportNamespaceSpecifier(node) {
    if (this.isContextual("as")) {
      if (!node.specifiers) node.specifiers = [];
      const specifier = this.startNodeAt(this.state.lastTokStart, this.state.lastTokStartLoc);
      this.next();
      specifier.exported = this.parseModuleExportName();
      node.specifiers.push(this.finishNode(specifier, "ExportNamespaceSpecifier"));
      return true;
    }

    return false;
  }

  maybeParseExportNamedSpecifiers(node) {
    if (this.match(types.braceL)) {
      if (!node.specifiers) node.specifiers = [];
      node.specifiers.push(...this.parseExportSpecifiers());
      node.source = null;
      node.declaration = null;
      return true;
    }

    return false;
  }

  maybeParseExportDeclaration(node) {
    if (this.shouldParseExportDeclaration()) {
      node.specifiers = [];
      node.source = null;
      node.declaration = this.parseExportDeclaration(node);
      return true;
    }

    return false;
  }

  isAsyncFunction() {
    if (!this.isContextual("async")) return false;
    const next = this.nextTokenStart();
    return !lineBreak.test(this.input.slice(this.state.pos, next)) && this.isUnparsedContextual(next, "function");
  }

  parseExportDefaultExpression() {
    const expr = this.startNode();
    const isAsync = this.isAsyncFunction();

    if (this.match(types._function) || isAsync) {
      this.next();

      if (isAsync) {
        this.next();
      }

      return this.parseFunction(expr, FUNC_STATEMENT | FUNC_NULLABLE_ID, isAsync);
    } else if (this.match(types._class)) {
      return this.parseClass(expr, true, true);
    } else if (this.match(types.at)) {
      if (this.hasPlugin("decorators") && this.getPluginOption("decorators", "decoratorsBeforeExport")) {
        this.raise(this.state.start, ErrorMessages.DecoratorBeforeExport);
      }

      this.parseDecorators(false);
      return this.parseClass(expr, true, true);
    } else if (this.match(types._const) || this.match(types._var) || this.isLet()) {
      throw this.raise(this.state.start, ErrorMessages.UnsupportedDefaultExport);
    } else {
      const res = this.parseMaybeAssignAllowIn();
      this.semicolon();
      return res;
    }
  }

  parseExportDeclaration(node) {
    return this.parseStatement(null);
  }

  isExportDefaultSpecifier() {
    if (this.match(types.name)) {
      const value = this.state.value;

      if (value === "async" && !this.state.containsEsc || value === "let") {
        return false;
      }

      if ((value === "type" || value === "interface") && !this.state.containsEsc) {
        const l = this.lookahead();

        if (l.type === types.name && l.value !== "from" || l.type === types.braceL) {
          this.expectOnePlugin(["flow", "typescript"]);
          return false;
        }
      }
    } else if (!this.match(types._default)) {
      return false;
    }

    const next = this.nextTokenStart();
    const hasFrom = this.isUnparsedContextual(next, "from");

    if (this.input.charCodeAt(next) === 44 || this.match(types.name) && hasFrom) {
      return true;
    }

    if (this.match(types._default) && hasFrom) {
      const nextAfterFrom = this.input.charCodeAt(this.nextTokenStartSince(next + 4));
      return nextAfterFrom === 34 || nextAfterFrom === 39;
    }

    return false;
  }

  parseExportFrom(node, expect) {
    if (this.eatContextual("from")) {
      node.source = this.parseImportSource();
      this.checkExport(node);
      const assertions = this.maybeParseImportAssertions();

      if (assertions) {
        node.assertions = assertions;
      }
    } else {
      if (expect) {
        this.unexpected();
      } else {
        node.source = null;
      }
    }

    this.semicolon();
  }

  shouldParseExportDeclaration() {
    if (this.match(types.at)) {
      this.expectOnePlugin(["decorators", "decorators-legacy"]);

      if (this.hasPlugin("decorators")) {
        if (this.getPluginOption("decorators", "decoratorsBeforeExport")) {
          this.unexpected(this.state.start, ErrorMessages.DecoratorBeforeExport);
        } else {
          return true;
        }
      }
    }

    return this.state.type.keyword === "var" || this.state.type.keyword === "const" || this.state.type.keyword === "function" || this.state.type.keyword === "class" || this.isLet() || this.isAsyncFunction();
  }

  checkExport(node, checkNames, isDefault, isFrom) {
    if (checkNames) {
      if (isDefault) {
        this.checkDuplicateExports(node, "default");

        if (this.hasPlugin("exportDefaultFrom")) {
          var _declaration$extra;

          const declaration = node.declaration;

          if (declaration.type === "Identifier" && declaration.name === "from" && declaration.end - declaration.start === 4 && !((_declaration$extra = declaration.extra) == null ? void 0 : _declaration$extra.parenthesized)) {
            this.raise(declaration.start, ErrorMessages.ExportDefaultFromAsIdentifier);
          }
        }
      } else if (node.specifiers && node.specifiers.length) {
        for (let _i4 = 0, _node$specifiers = node.specifiers; _i4 < _node$specifiers.length; _i4++) {
          const specifier = _node$specifiers[_i4];
          const {
            exported
          } = specifier;
          const exportedName = exported.type === "Identifier" ? exported.name : exported.value;
          this.checkDuplicateExports(specifier, exportedName);

          if (!isFrom && specifier.local) {
            const {
              local
            } = specifier;

            if (local.type === "StringLiteral") {
              this.raise(specifier.start, ErrorMessages.ExportBindingIsString, local.value, exportedName);
            } else {
              this.checkReservedWord(local.name, local.start, true, false);
              this.scope.checkLocalExport(local);
            }
          }
        }
      } else if (node.declaration) {
        if (node.declaration.type === "FunctionDeclaration" || node.declaration.type === "ClassDeclaration") {
          const id = node.declaration.id;
          if (!id) throw new Error("Assertion failure");
          this.checkDuplicateExports(node, id.name);
        } else if (node.declaration.type === "VariableDeclaration") {
          for (let _i5 = 0, _node$declaration$dec = node.declaration.declarations; _i5 < _node$declaration$dec.length; _i5++) {
            const declaration = _node$declaration$dec[_i5];
            this.checkDeclaration(declaration.id);
          }
        }
      }
    }

    const currentContextDecorators = this.state.decoratorStack[this.state.decoratorStack.length - 1];

    if (currentContextDecorators.length) {
      throw this.raise(node.start, ErrorMessages.UnsupportedDecoratorExport);
    }
  }

  checkDeclaration(node) {
    if (node.type === "Identifier") {
      this.checkDuplicateExports(node, node.name);
    } else if (node.type === "ObjectPattern") {
      for (let _i6 = 0, _node$properties = node.properties; _i6 < _node$properties.length; _i6++) {
        const prop = _node$properties[_i6];
        this.checkDeclaration(prop);
      }
    } else if (node.type === "ArrayPattern") {
      for (let _i7 = 0, _node$elements = node.elements; _i7 < _node$elements.length; _i7++) {
        const elem = _node$elements[_i7];

        if (elem) {
          this.checkDeclaration(elem);
        }
      }
    } else if (node.type === "ObjectProperty") {
      this.checkDeclaration(node.value);
    } else if (node.type === "RestElement") {
      this.checkDeclaration(node.argument);
    } else if (node.type === "AssignmentPattern") {
      this.checkDeclaration(node.left);
    }
  }

  checkDuplicateExports(node, name) {
    if (this.state.exportedIdentifiers.indexOf(name) > -1) {
      this.raise(node.start, name === "default" ? ErrorMessages.DuplicateDefaultExport : ErrorMessages.DuplicateExport, name);
    }

    this.state.exportedIdentifiers.push(name);
  }

  parseExportSpecifiers() {
    const nodes = [];
    let first = true;
    this.expect(types.braceL);

    while (!this.eat(types.braceR)) {
      if (first) {
        first = false;
      } else {
        this.expect(types.comma);
        if (this.eat(types.braceR)) break;
      }

      const node = this.startNode();
      node.local = this.parseModuleExportName();
      node.exported = this.eatContextual("as") ? this.parseModuleExportName() : node.local.__clone();
      nodes.push(this.finishNode(node, "ExportSpecifier"));
    }

    return nodes;
  }

  parseModuleExportName() {
    if (this.match(types.string)) {
      this.expectPlugin("moduleStringNames");
      const result = this.parseLiteral(this.state.value, "StringLiteral");
      const surrogate = result.value.match(loneSurrogate);

      if (surrogate) {
        this.raise(result.start, ErrorMessages.ModuleExportNameHasLoneSurrogate, surrogate[0].charCodeAt(0).toString(16));
      }

      return result;
    }

    return this.parseIdentifier(true);
  }

  parseImport(node) {
    node.specifiers = [];

    if (!this.match(types.string)) {
      const hasDefault = this.maybeParseDefaultImportSpecifier(node);
      const parseNext = !hasDefault || this.eat(types.comma);
      const hasStar = parseNext && this.maybeParseStarImportSpecifier(node);
      if (parseNext && !hasStar) this.parseNamedImportSpecifiers(node);
      this.expectContextual("from");
    }

    node.source = this.parseImportSource();
    const assertions = this.maybeParseImportAssertions();

    if (assertions) {
      node.assertions = assertions;
    } else {
        const attributes = this.maybeParseModuleAttributes();

        if (attributes) {
          node.attributes = attributes;
        }
      }

    this.semicolon();
    return this.finishNode(node, "ImportDeclaration");
  }

  parseImportSource() {
    if (!this.match(types.string)) this.unexpected();
    return this.parseExprAtom();
  }

  shouldParseDefaultImport(node) {
    return this.match(types.name);
  }

  parseImportSpecifierLocal(node, specifier, type, contextDescription) {
    specifier.local = this.parseIdentifier();
    this.checkLVal(specifier.local, contextDescription, BIND_LEXICAL);
    node.specifiers.push(this.finishNode(specifier, type));
  }

  parseAssertEntries() {
    const attrs = [];
    const attrNames = new Set();

    do {
      if (this.match(types.braceR)) {
        break;
      }

      const node = this.startNode();
      const keyName = this.state.value;

      if (this.match(types.string)) {
        node.key = this.parseLiteral(keyName, "StringLiteral");
      } else {
        node.key = this.parseIdentifier(true);
      }

      this.expect(types.colon);

      if (keyName !== "type") {
        this.raise(node.key.start, ErrorMessages.ModuleAttributeDifferentFromType, keyName);
      }

      if (attrNames.has(keyName)) {
        this.raise(node.key.start, ErrorMessages.ModuleAttributesWithDuplicateKeys, keyName);
      }

      attrNames.add(keyName);

      if (!this.match(types.string)) {
        throw this.unexpected(this.state.start, ErrorMessages.ModuleAttributeInvalidValue);
      }

      node.value = this.parseLiteral(this.state.value, "StringLiteral");
      this.finishNode(node, "ImportAttribute");
      attrs.push(node);
    } while (this.eat(types.comma));

    return attrs;
  }

  maybeParseModuleAttributes() {
    if (this.match(types._with) && !this.hasPrecedingLineBreak()) {
      this.expectPlugin("moduleAttributes");
      this.next();
    } else {
      if (this.hasPlugin("moduleAttributes")) return [];
      return null;
    }

    const attrs = [];
    const attributes = new Set();

    do {
      const node = this.startNode();
      node.key = this.parseIdentifier(true);

      if (node.key.name !== "type") {
        this.raise(node.key.start, ErrorMessages.ModuleAttributeDifferentFromType, node.key.name);
      }

      if (attributes.has(node.key.name)) {
        this.raise(node.key.start, ErrorMessages.ModuleAttributesWithDuplicateKeys, node.key.name);
      }

      attributes.add(node.key.name);
      this.expect(types.colon);

      if (!this.match(types.string)) {
        throw this.unexpected(this.state.start, ErrorMessages.ModuleAttributeInvalidValue);
      }

      node.value = this.parseLiteral(this.state.value, "StringLiteral");
      this.finishNode(node, "ImportAttribute");
      attrs.push(node);
    } while (this.eat(types.comma));

    return attrs;
  }

  maybeParseImportAssertions() {
    if (this.isContextual("assert") && !this.hasPrecedingLineBreak()) {
      this.expectPlugin("importAssertions");
      this.next();
    } else {
      if (this.hasPlugin("importAssertions")) return [];
      return null;
    }

    this.eat(types.braceL);
    const attrs = this.parseAssertEntries();
    this.eat(types.braceR);
    return attrs;
  }

  maybeParseDefaultImportSpecifier(node) {
    if (this.shouldParseDefaultImport(node)) {
      this.parseImportSpecifierLocal(node, this.startNode(), "ImportDefaultSpecifier", "default import specifier");
      return true;
    }

    return false;
  }

  maybeParseStarImportSpecifier(node) {
    if (this.match(types.star)) {
      const specifier = this.startNode();
      this.next();
      this.expectContextual("as");
      this.parseImportSpecifierLocal(node, specifier, "ImportNamespaceSpecifier", "import namespace specifier");
      return true;
    }

    return false;
  }

  parseNamedImportSpecifiers(node) {
    let first = true;
    this.expect(types.braceL);

    while (!this.eat(types.braceR)) {
      if (first) {
        first = false;
      } else {
        if (this.eat(types.colon)) {
          throw this.raise(this.state.start, ErrorMessages.DestructureNamedImport);
        }

        this.expect(types.comma);
        if (this.eat(types.braceR)) break;
      }

      this.parseImportSpecifier(node);
    }
  }

  parseImportSpecifier(node) {
    const specifier = this.startNode();
    specifier.imported = this.parseModuleExportName();

    if (this.eatContextual("as")) {
      specifier.local = this.parseIdentifier();
    } else {
      const {
        imported
      } = specifier;

      if (imported.type === "StringLiteral") {
        throw this.raise(specifier.start, ErrorMessages.ImportBindingIsString, imported.value);
      }

      this.checkReservedWord(imported.name, specifier.start, true, true);
      specifier.local = imported.__clone();
    }

    this.checkLVal(specifier.local, "import specifier", BIND_LEXICAL);
    node.specifiers.push(this.finishNode(specifier, "ImportSpecifier"));
  }

}

class ClassScope {
  constructor() {
    this.privateNames = new Set();
    this.loneAccessors = new Map();
    this.undefinedPrivateNames = new Map();
  }

}
class ClassScopeHandler {
  constructor(raise) {
    this.stack = [];
    this.undefinedPrivateNames = new Map();
    this.raise = raise;
  }

  current() {
    return this.stack[this.stack.length - 1];
  }

  enter() {
    this.stack.push(new ClassScope());
  }

  exit() {
    const oldClassScope = this.stack.pop();
    const current = this.current();

    for (let _i = 0, _Array$from = Array.from(oldClassScope.undefinedPrivateNames); _i < _Array$from.length; _i++) {
      const [name, pos] = _Array$from[_i];

      if (current) {
        if (!current.undefinedPrivateNames.has(name)) {
          current.undefinedPrivateNames.set(name, pos);
        }
      } else {
        this.raise(pos, ErrorMessages.InvalidPrivateFieldResolution, name);
      }
    }
  }

  declarePrivateName(name, elementType, pos) {
    const classScope = this.current();
    let redefined = classScope.privateNames.has(name);

    if (elementType & CLASS_ELEMENT_KIND_ACCESSOR) {
      const accessor = redefined && classScope.loneAccessors.get(name);

      if (accessor) {
        const oldStatic = accessor & CLASS_ELEMENT_FLAG_STATIC;
        const newStatic = elementType & CLASS_ELEMENT_FLAG_STATIC;
        const oldKind = accessor & CLASS_ELEMENT_KIND_ACCESSOR;
        const newKind = elementType & CLASS_ELEMENT_KIND_ACCESSOR;
        redefined = oldKind === newKind || oldStatic !== newStatic;
        if (!redefined) classScope.loneAccessors.delete(name);
      } else if (!redefined) {
        classScope.loneAccessors.set(name, elementType);
      }
    }

    if (redefined) {
      this.raise(pos, ErrorMessages.PrivateNameRedeclaration, name);
    }

    classScope.privateNames.add(name);
    classScope.undefinedPrivateNames.delete(name);
  }

  usePrivateName(name, pos) {
    let classScope;

    for (let _i2 = 0, _this$stack = this.stack; _i2 < _this$stack.length; _i2++) {
      classScope = _this$stack[_i2];
      if (classScope.privateNames.has(name)) return;
    }

    if (classScope) {
      classScope.undefinedPrivateNames.set(name, pos);
    } else {
      this.raise(pos, ErrorMessages.InvalidPrivateFieldResolution, name);
    }
  }

}

class Parser extends StatementParser {
  constructor(options, input) {
    options = getOptions(options);
    super(options, input);
    const ScopeHandler = this.getScopeHandler();
    this.options = options;
    this.inModule = this.options.sourceType === "module";
    this.scope = new ScopeHandler(this.raise.bind(this), this.inModule);
    this.prodParam = new ProductionParameterHandler();
    this.classScope = new ClassScopeHandler(this.raise.bind(this));
    this.expressionScope = new ExpressionScopeHandler(this.raise.bind(this));
    this.plugins = pluginsMap(this.options.plugins);
    this.filename = options.sourceFilename;
  }

  getScopeHandler() {
    return ScopeHandler;
  }

  parse() {
    let paramFlags = PARAM;

    if (this.hasPlugin("topLevelAwait") && this.inModule) {
      paramFlags |= PARAM_AWAIT;
    }

    this.scope.enter(SCOPE_PROGRAM);
    this.prodParam.enter(paramFlags);
    const file = this.startNode();
    const program = this.startNode();
    this.nextToken();
    file.errors = null;
    this.parseTopLevel(file, program);
    file.errors = this.state.errors;
    return file;
  }

}

function pluginsMap(plugins) {
  const pluginMap = new Map();

  for (let _i = 0; _i < plugins.length; _i++) {
    const plugin = plugins[_i];
    const [name, options] = Array.isArray(plugin) ? plugin : [plugin, {}];
    if (!pluginMap.has(name)) pluginMap.set(name, options || {});
  }

  return pluginMap;
}

function parse(input, options) {
  var _options;

  if (((_options = options) == null ? void 0 : _options.sourceType) === "unambiguous") {
    options = Object.assign({}, options);

    try {
      options.sourceType = "module";
      const parser = getParser(options, input);
      const ast = parser.parse();

      if (parser.sawUnambiguousESM) {
        return ast;
      }

      if (parser.ambiguousScriptDifferentAst) {
        try {
          options.sourceType = "script";
          return getParser(options, input).parse();
        } catch (_unused) {}
      } else {
        ast.program.sourceType = "script";
      }

      return ast;
    } catch (moduleError) {
      try {
        options.sourceType = "script";
        return getParser(options, input).parse();
      } catch (_unused2) {}

      throw moduleError;
    }
  } else {
    return getParser(options, input).parse();
  }
}
function parseExpression(input, options) {
  const parser = getParser(options, input);

  if (parser.options.strictMode) {
    parser.state.strict = true;
  }

  return parser.getExpression();
}

function getParser(options, input) {
  let cls = Parser;

  if (options == null ? void 0 : options.plugins) {
    validatePlugins(options.plugins);
    cls = getParserClass(options.plugins);
  }

  return new cls(options, input);
}

const parserClassCache = {};

function getParserClass(pluginsFromOptions) {
  const pluginList = mixinPluginNames.filter(name => hasPlugin(pluginsFromOptions, name));
  const key = pluginList.join("/");
  let cls = parserClassCache[key];

  if (!cls) {
    cls = Parser;

    for (let _i = 0; _i < pluginList.length; _i++) {
      const plugin = pluginList[_i];
      cls = mixinPlugins[plugin](cls);
    }

    parserClassCache[key] = cls;
  }

  return cls;
}

exports.parse = parse;
exports.parseExpression = parseExpression;
exports.tokTypes = types;
//# sourceMappingURL=index.js.map


/***/ }),
/* 45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var FormClass = {
  openUrlInNewTab: function openUrlInNewTab(url) {
    // must exec in "onclick" event
    window.open(url, "_blank");
  },
  form_post_newtab: function form_post_newtab(url, params) {
    form_post(url, params, "_blank");
  },
  form_post: function form_post(url, params, target) {
    var form = document.createElement("form");

    if (params === undefined) {
      params = [];
      target = null;
    } else if (target === undefined) {
      target = null;
    }

    var hiddenField;
    var i;
    form.setAttribute("method", "post");
    form.setAttribute("action", url);
    if (target != null) form.setAttribute("target", target);

    for (i = 0; i < params.length; i++) {
      hiddenField = document.createElement("input");
      hiddenField.setAttribute("type", "hidden");
      hiddenField.setAttribute("name", params[i][0]);
      hiddenField.setAttribute("value", params[i][1]);
      form.appendChild(hiddenField);
    }

    document.body.appendChild(form);
    form.submit();
  },
  unpackString: function unpackString(params) {
    var xlen, hlen, data;
    if (params.offset === undefined) params.offset = 0;
    xlen = parseInt(param.text.substr(params.offset, 1), 16);
    params.offset += 1;
    hlen = parseInt(param.text.substr(params.offset, xlen), 16);
    params.offset += xlen;
    data = param.text.substr(params.offset, hlen);
    params.offset += hlen;
    return data;
  },
  parseArray_o: function parseArray_o(params) {
    var i, len, code, data;
    code = params.text.substr(params.offset, 1);
    params.offset += 1;

    if (code == "v") {
      return EncodingClass.utf8.decode(FormClass.unpackString(params));
    }

    if (code == "a") {
      len = parseInt(FormClass.unpackString(params), 10);
      data = [];

      for (i = 0; i < len; i++) {
        data.push(FormClass.parseArray_o(params));
      }

      return data;
    }

    return null;
  },
  parseArray: function parseArray(str) {
    return parseArray_o({
      text: str,
      offset: 0
    });
  },
  urlencode: function urlencode(str) {
    str = str + '';
    return encodeURIComponent(str).replace(/!/g, '%21').replace(/'/g, '%27').replace(/\(/g, '%28').replace(/\)/g, '%29').replace(/\*/g, '%2A').replace(/%20/g, '+');
  },
  queue: function queue(n) {
    var r,
        i,
        x = [];

    for (i = 0; i < n; i++) {
      x.push(null);
    }

    r = {
      list: [],
      buffer: x
    };

    r.call = function (r) {
      return function (tparams) {
        r.list.push(tparams);
      };
    }(r);

    r.release = function (r) {
      return function () {
        r.list = null;
        r.buffer = null;
      };
    }(r);

    r.thread = function (r) {
      return function () {
        var i, j, c, x, t;

        if (r.buffer != null && r.list != null) {
          if (r.list.length > 0) {
            c = 0;

            for (i = 0; i < r.buffer.length; i++) {
              if (r.buffer[i] == null) {
                c = 1;
                break;
              }
            }

            if (c > 0) {
              for (i = 0; i < r.buffer.length; i++) {
                if (r.buffer[i] == null) {
                  r.buffer[i] = r.list[0].func;

                  r.list[0].func = function (i) {
                    return function (success, message) {
                      var t;

                      if (r.buffer != null) {
                        t = r.buffer[i];
                        r.buffer[i] = null;
                        if (t != null) t(success, message);
                      }
                    };
                  }(i);

                  t = r.list.shift();
                  FormClass.api_call(t);
                  if (r.list.length == 0) break;
                }
              }
            }
          }

          setTimeout(function () {
            r.thread();
          }, 10);
        }
      };
    }(r);

    setTimeout(function () {
      r.thread();
    }, 10);
    return r;
  },
  api_call: function api_call(calldata) {
    var st;
    var i, k;
    var boundary;
    var index, url, params, fileuploads, func;
    var x = {
      req: null,
      func: calldata.func
    };
    url = calldata.url;
    params = calldata.params;

    if (calldata.fileuploads !== undefined) {
      fileuploads = calldata.fileuploads;
    } else {
      fileuploads = [];
    }

    try {
      x.req = new XMLHttpRequest();
    } catch (e) {
      try {
        x.req = new ActiveXObject("Msxml2.XMLHTTP");
      } catch (e) {
        try {
          x.req = new ActiveXObject("Microsoft.XMLHTTP");
        } catch (oc) {
          alert("No AJAX Support");
          return;
        }
      }
    }

    x.req.onreadystatechange = function (x) {
      return function () {
        if (x.req.readyState == 4) {
          if (x.req.status == 200) {
            x.func(true, x.req.responseText);
          } else if (x.req.statusText != "") {
            x.func(false, "Response Code: " + x.req.status + " / " + x.req.statusText);
          } else {
            x.func(false, "Response Code: " + x.req.status);
          }
        }
      };
    }(x);

    if (params.length > 0 || fileuploads.length > 0) {
      x.req.open("POST", url, true);
      i = new Date().getTime();
      boundary = i + EncodingClass.md5.encode(i);
      x.req.setRequestHeader("Content-type", "multipart/form-data; boundary=" + boundary);
      st = "";

      for (i = 0; i < params.length; i++) {
        st += "--" + boundary + "\r\n";
        st += "Content-Disposition: form-data; ";
        st += "name=\"" + EncodingClass.utf8.encode(params[i].name) + "\"\r\n\r\n";
        st += EncodingClass.utf8.encode(params[i].value) + "\r\n";
      }

      for (i = 0; i < fileuploads.length; i++) {
        st += "--" + boundary + "\r\n";
        st += "Content-Disposition: form-data; ";
        st += "name=\"" + EncodingClass.utf8.encode(fileuploads[i].name) + "\"; filename=\"" + EncodingClass.utf8.encode(fileuploads[i].filename) + "\"\r\n\r\n";
        st += fileuploads[i].content + "\r\n";
      }

      st += "--" + boundary + "--\r\n";
      var nBytes = st.length,
          ui8Data = new Uint8Array(nBytes);

      for (var nIdx = 0; nIdx < nBytes; nIdx++) {
        ui8Data[nIdx] = st.charCodeAt(nIdx) & 0xff;
      }

      x.req.send(ui8Data);
    } else {
      x.req.open("GET", url, true);
      x.req.send(null);
    }
  },
  convertFileToFunctionString: function convertFileToFunctionString() {
    var x = DOMElement.input({
      attrs: {
        type: "file",
        multiple: true
      }
    });

    var convertfunc = function convertfunc(flist, tf) {
      var i, n;
      if (flist.length == 0) return;
      var f = new FileReader();
      var filehandle = flist.shift();

      f.onload = function (flist, tf, filehandle) {
        return function (e) {
          var st;
          var i, k, n;
          n = e.target.result.length;
          st = "function () {\r\n";
          st += "var s = \"\";\r\n";

          for (i = 0; i < n; i = k) {
            k = i + 96;
            if (k > n) k = n;
            st += "s += \"" + EncodingClass.base64.encode(e.target.result.substr(i, k - i)) + "\";\r\n";
          }

          st += "return EncodingClass.base64.decode(s);\r\n";
          st += "}();";
          FormClass.saveAsText(filehandle.name + ".txt", st);
          setTimeout(function (flist, tf) {
            return function () {
              tf(flist, tf);
            };
          }(flist, tf), 100);
        };
      }(flist, tf, filehandle);

      f.readAsBinaryString(filehandle);
    };

    var submitbutton = DOMElement.input({
      attrs: {
        type: "submit",
        value: "Convert",
        onclick: function (inputElement, func) {
          return function (event, me) {
            var i,
                n = inputElement.files.length;
            var flist = [];
            if (n == 0) return;

            for (i = 0; i < n; i++) {
              flist.push(inputElement.files[i]);
            }

            setTimeout(function (func, flist) {
              return function () {
                func(flist, func);
              };
            }(func, flist), 100);
            ModalElement.close();
          };
        }(x, convertfunc)
      }
    });
    ModalElement.showWindow({
      title: "convert file",
      bodycontent: DOMElement.table({
        data: [[x, {
          style: {
            width: "20px",
            height: "28px"
          }
        }, submitbutton]]
      })
    });
  },
  saveAsText: function saveAsText(filename, textcontent) {
    var st = EncodingClass.utf8.encode(textcontent);
    var nBytes = st.length;
    var x = new ArrayBuffer(nBytes);
    var ui8Data = new Uint8Array(x);

    for (var nIdx = 0; nIdx < nBytes; nIdx++) {
      ui8Data[nIdx] = st.charCodeAt(nIdx) & 0xff;
    }

    return FormClass.saveAsRaw(filename, [new DataView(x)]);
  },
  saveAs: function saveAs(filename, content) {
    var nBytes = content.length;
    var x = new ArrayBuffer(nBytes);
    var ui8Data = new Uint8Array(x);

    for (var nIdx = 0; nIdx < nBytes; nIdx++) {
      ui8Data[nIdx] = content[nIdx] & 0xff;
    }

    return FormClass.saveAsRaw(filename, [new DataView(x)]);
  },
  saveAsRaw: function saveAsRaw(filename, content) {
    var xurl = window.URL || window.webkitURL;
    if (xurl == null) return false;
    var blob = new Blob(content, {
      type: 'application/octet-binary'
    });
    if (blob == null) return false;
    var element = document.createElement('a');
    if (element == null) return false;
    element.setAttribute('href', xurl.createObjectURL(blob));
    element.setAttribute('download', filename);
    element.style.display = 'none';
    document.body.appendChild(element);
    element.click();
    document.body.removeChild(element);
    return true;
  },
  readFile: function readFile(filehandle, callbackFunc) {
    var f = new FileReader();

    f.onload = function (callbackFunc, filehandle) {
      return function (e) {
        callbackFunc([{
          name: filehandle.name,
          type: filehandle.type,
          size: filehandle.size,
          lastModified: new Date(filehandle.lastModified),
          content: e.target.result
        }]);
      };
    }(callbackFunc, filehandle);

    f.readAsBinaryString(filehandle);
  },
  readFileFromInput: function readFileFromInput(inputElement, callbackFunc) {
    var rv, i, f;

    if (inputElement.files.length == 0) {
      callbackFunc([]);
      return;
    }

    if (inputElement.files.length == 1) {
      FormClass.readFile(inputElement.files[0], callbackFunc);
    } else {
      rv = [];

      for (i = 0; i < inputElement.files.length; i++) {
        rv.push(undefined);
      }

      for (i = 0; i < inputElement.files.length; i++) {
        FormClass.readFile(inputElement.files[i], function (rv, index, callbackFunc) {
          return function (retval) {
            var i;
            rv[index] = retval[0];

            for (i = 0; i < rv.length; i++) {
              if (rv[i] === undefined) return;
            }

            callbackFunc(rv);
          };
        }(rv, i, callbackFunc));
      }
    }
  },
  readSingleFile: function readSingleFile(callbackFunc, accept) {
    if (accept === undefined) accept = null;
    var fi = DOMElement.input({
      attrs: {
        type: "file",
        style: {
          display: "none"
        },
        accept: accept
      }
    });

    var x = function (element, callbackFunc) {
      return function (retval) {
        DOMElement.bodyElement.removeChild(element);
        return callbackFunc(retval);
      };
    }(fi, callbackFunc);

    fi.onchange = function (callbackFunc) {
      return function (event) {
        FormClass.readFileFromInput(this, callbackFunc);
      };
    }(x);

    DOMElement.bodyElement.appendChild(fi);
    fi.click();
  },
  readMultipleFiles: function readMultipleFiles(callbackFunc, accept) {
    if (accept === undefined) accept = null;
    var fi = DOMElement.input({
      attrs: {
        type: "file",
        style: {
          display: "none"
        },
        accept: accept,
        multiple: true
      }
    });

    var x = function (element, callbackFunc) {
      return function (retval) {
        DOMElement.bodyElement.removeChild(element);
        return callbackFunc(retval);
      };
    }(fi, callbackFunc);

    fi.onchange = function (callbackFunc) {
      return function (event) {
        FormClass.readFileFromInput(this, callbackFunc);
      };
    }(x);

    DOMElement.bodyElement.appendChild(fi);
    fi.click();
  }
};
/* harmony default export */ __webpack_exports__["a"] = (FormClass);

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(291);


/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {
    "use strict";

    if (global.setImmediate) {
        return;
    }

    var nextHandle = 1; // Spec says greater than zero
    var tasksByHandle = {};
    var currentlyRunningATask = false;
    var doc = global.document;
    var registerImmediate;

    function setImmediate(callback) {
      // Callback can either be a function or a string
      if (typeof callback !== "function") {
        callback = new Function("" + callback);
      }
      // Copy function arguments
      var args = new Array(arguments.length - 1);
      for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i + 1];
      }
      // Store and register the task
      var task = { callback: callback, args: args };
      tasksByHandle[nextHandle] = task;
      registerImmediate(nextHandle);
      return nextHandle++;
    }

    function clearImmediate(handle) {
        delete tasksByHandle[handle];
    }

    function run(task) {
        var callback = task.callback;
        var args = task.args;
        switch (args.length) {
        case 0:
            callback();
            break;
        case 1:
            callback(args[0]);
            break;
        case 2:
            callback(args[0], args[1]);
            break;
        case 3:
            callback(args[0], args[1], args[2]);
            break;
        default:
            callback.apply(undefined, args);
            break;
        }
    }

    function runIfPresent(handle) {
        // From the spec: "Wait until any invocations of this algorithm started before this one have completed."
        // So if we're currently running a task, we'll need to delay this invocation.
        if (currentlyRunningATask) {
            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
            // "too much recursion" error.
            setTimeout(runIfPresent, 0, handle);
        } else {
            var task = tasksByHandle[handle];
            if (task) {
                currentlyRunningATask = true;
                try {
                    run(task);
                } finally {
                    clearImmediate(handle);
                    currentlyRunningATask = false;
                }
            }
        }
    }

    function installNextTickImplementation() {
        registerImmediate = function(handle) {
            process.nextTick(function () { runIfPresent(handle); });
        };
    }

    function canUsePostMessage() {
        // The test against `importScripts` prevents this implementation from being installed inside a web worker,
        // where `global.postMessage` means something completely different and can't be used for this purpose.
        if (global.postMessage && !global.importScripts) {
            var postMessageIsAsynchronous = true;
            var oldOnMessage = global.onmessage;
            global.onmessage = function() {
                postMessageIsAsynchronous = false;
            };
            global.postMessage("", "*");
            global.onmessage = oldOnMessage;
            return postMessageIsAsynchronous;
        }
    }

    function installPostMessageImplementation() {
        // Installs an event handler on `global` for the `message` event: see
        // * https://developer.mozilla.org/en/DOM/window.postMessage
        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages

        var messagePrefix = "setImmediate$" + Math.random() + "$";
        var onGlobalMessage = function(event) {
            if (event.source === global &&
                typeof event.data === "string" &&
                event.data.indexOf(messagePrefix) === 0) {
                runIfPresent(+event.data.slice(messagePrefix.length));
            }
        };

        if (global.addEventListener) {
            global.addEventListener("message", onGlobalMessage, false);
        } else {
            global.attachEvent("onmessage", onGlobalMessage);
        }

        registerImmediate = function(handle) {
            global.postMessage(messagePrefix + handle, "*");
        };
    }

    function installMessageChannelImplementation() {
        var channel = new MessageChannel();
        channel.port1.onmessage = function(event) {
            var handle = event.data;
            runIfPresent(handle);
        };

        registerImmediate = function(handle) {
            channel.port2.postMessage(handle);
        };
    }

    function installReadyStateChangeImplementation() {
        var html = doc.documentElement;
        registerImmediate = function(handle) {
            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
            var script = doc.createElement("script");
            script.onreadystatechange = function () {
                runIfPresent(handle);
                script.onreadystatechange = null;
                html.removeChild(script);
                script = null;
            };
            html.appendChild(script);
        };
    }

    function installSetTimeoutImplementation() {
        registerImmediate = function(handle) {
            setTimeout(runIfPresent, 0, handle);
        };
    }

    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.
    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;

    // Don't get fooled by e.g. browserify environments.
    if ({}.toString.call(global.process) === "[object process]") {
        // For Node.js before 0.9
        installNextTickImplementation();

    } else if (canUsePostMessage()) {
        // For non-IE10 modern browsers
        installPostMessageImplementation();

    } else if (global.MessageChannel) {
        // For web workers, where supported
        installMessageChannelImplementation();

    } else if (doc && "onreadystatechange" in doc.createElement("script")) {
        // For IE 6–8
        installReadyStateChangeImplementation();

    } else {
        // For older browsers
        installSetTimeoutImplementation();
    }

    attachTo.setImmediate = setImmediate;
    attachTo.clearImmediate = clearImmediate;
}(typeof self === "undefined" ? typeof global === "undefined" ? this : global : self));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(13), __webpack_require__(48)))

/***/ }),
/* 48 */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(
      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)
    ))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),
/* 50 */
/***/ (function(module, exports) {

exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),
/* 51 */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),
/* 52 */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),
/* 53 */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(this, {}))

/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(55);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-debug-task {\r\n    position: fixed;\r\n    right: 10px;\r\n    bottom: 10px;\r\n    z-index: 999999;\r\n    border-radius: 4px;\r\n    background: rgba(169, 169, 171, 0.3);\r\n    border: solid 1px rgba(21, 21, 214, 0.5);\r\n    min-width: 45px;\r\n    min-height: 30px;\r\n    font-size: 12px;\r\n    padding: 5px;\r\n    pointer-events: none;\r\n}\r\n\r\n.absol-debug-task-name{\r\n    color: darkcyan;\r\n}\r\n\r\n.absol-debug-task-value{\r\n    color: rgb(159, 8, 197);\r\n}", ""]);



/***/ }),
/* 56 */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(58);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-autocomplete-input {\r\n    display: inline-block;\r\n    position: relative;\r\n    box-sizing: border-box;\r\n    border: solid 1px #d6d6d6;\r\n}\r\n\r\n.absol-autocomplete-input.absol-disabled {\r\n    pointer-events: none;\r\n    color: rgb(84, 84, 84);\r\n    background-color: rgb(235, 235, 228);\r\n}\r\n\r\n.absol-autocomplete-input>input {\r\n    min-width: 100%;\r\n    min-height: 100%;\r\n    box-sizing: border-box;\r\n    background-color: transparent;\r\n    border: none;\r\n}\r\n\r\n\r\n.absol-autocomplete-input-dropdown {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 100%;\r\n    min-width: 100%;\r\n    z-index: 1005;\r\n    border: solid 1px rgb(169, 169, 169);\r\n    box-sizing: border-box;\r\n    background-color: white;\r\n}\r\n\r\n.absol-autocomplete-input-dropdown .as-bscroller{\r\n    overflow-y: auto;\r\n}\r\n\r\n.absol-autocomplete-input-dropdown.top {\r\n    top: auto;\r\n    bottom: 100%;\r\n}\r\n\r\n.absol-autocomplete-input-item {\r\n    height: 30px;\r\n}\r\n\r\n.absol-autocomplete-input-item:hover {\r\n    background-color: rgba(169, 169, 169, 0.18605);\r\n    cursor: pointer;\r\n}\r\n\r\n.absol-autocomplete-input-item.active,\r\n.absol-autocomplete-input-item.active:hover {\r\n    background-color: rgba(169, 169, 169, 0.37209);\r\n}\r\n\r\n.absol-autocomplete-input-item-text {\r\n    line-height: 30px;\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n}", ""]);



/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-has-board-table-drag,\r\n.as-has-board-table-drag * {\r\n    cursor: grabbing;\r\n    -webkit-user-select: none !important;\r\n    -moz-user-select: none !important;\r\n    -ms-user-select: none !important;\r\n    user-select: none !important;\r\n}\r\n\r\n\r\n\r\n.as-board-table {\r\n    overflow: visible;\r\n    position: relative;\r\n\r\n}\r\n\r\n.as-board-drag-zone {\r\n    -webkit-user-select: none !important;\r\n    -moz-user-select: none !important;\r\n    -ms-user-select: none !important;\r\n    user-select: none !important;\r\n}\r\n\r\n\r\n.as-board {\r\n    white-space: normal;\r\n    box-sizing: border-box;\r\n    position: relative;\r\n    vertical-align: middle;\r\n}\r\n\r\n/**\r\nBug note: don't put fixed position element to a element which has transform\r\n */\r\n.as-board-moving {\r\n    transform-origin: 30% 55%;\r\n    transform: rotate(5deg);\r\n    transition: transform 0.05s;\r\n    user-select: none;\r\n    pointer-events: none;\r\n    position: fixed !important;\r\n    z-index: 2000;\r\n}\r\n\r\n\r\n.as-board-place-holder {\r\n    opacity: 0.3;\r\n}\r\n\r\n.as-board-table-prevent-context {\r\n    position: fixed;\r\n    --x: -10000px;\r\n    --y: -10000px;\r\n    left: calc(var(--x) - 100px);\r\n    top: calc(var(--y) - 100px);\r\n    opacity: 0;\r\n    z-index: 100000000;\r\n    width: 200px;\r\n    height: 200px;\r\n    cursor: default;\r\n    -webkit-user-select: none;\r\n    -webkit-touch-callout: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    -o-user-select: none;\r\n}", ""]);



/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(61);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-has-hanger-drag,\r\n.as-has-hanger-drag * {\r\n    touch-action: none;\r\n    -webkit-user-select: none !important;\r\n    -moz-user-select: none !important;\r\n    -ms-user-select: none !important;\r\n    user-select: none !important;\r\n}", ""]);



/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(63);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "/* OLD module */\r\n\r\n.absol-bscroller {\r\n    scrollbar-width: thin;\r\n    scrollbar-color: rgba(151, 151, 151, 0.4) rgba(220, 220, 220, 0.4);\r\n    overflow: auto;\r\n}\r\n\r\n\r\n.absol-bscroller::-webkit-scrollbar {\r\n    width: 6px;\r\n    height: 6px;\r\n}\r\n\r\n.absol-bscroller::-webkit-scrollbar-track {\r\n    background: rgba(220, 220, 220, 0.4);\r\n}\r\n\r\n.absol-bscroller::-webkit-scrollbar-thumb {\r\n    background: rgba(182, 182, 182, 0.4);\r\n}\r\n\r\n.absol-bscroller::-webkit-scrollbar-thumb:hover {\r\n    background: rgba(32, 32, 32, 0.4);\r\n}\r\n\r\n.absol-bscroller::-webkit-scrollbar-thumb:active {\r\n    background: rgba(13, 13, 13, 0.6);\r\n}\r\n\r\n.absol-bscroller.dark,\r\n.dark .absol-bscroller {\r\n    scrollbar-color: rgba(104, 104, 104, 0.4) rgba(35, 35, 35, 0.4);\r\n}\r\n\r\n\r\n.absol-bscroller.dark::-webkit-scrollbar-track,\r\n.dark .absol-bscroller::-webkit-scrollbar-track {\r\n    background: rgba(35, 35, 35, 0.4);\r\n}\r\n\r\n.absol-bscroller.dark::-webkit-scrollbar-thumb,\r\n.dark .absol-bscroller::-webkit-scrollbar-thumb {\r\n    background: rgba(73, 73, 73, 0.4);\r\n}\r\n\r\n.absol-bscroller.dark::-webkit-scrollbar-thumb:hover,\r\n.dark .absol-bscroller::-webkit-scrollbar-thumb:hover {\r\n    background: rgba(223, 223, 223, 0.4);\r\n}\r\n\r\n.absol-bscroller.dark::-webkit-scrollbar-thumb:active,\r\n.dark .absol-bscroller::-webkit-scrollbar-thumb:active {\r\n    background: rgba(242, 242, 242, 0.6);\r\n}\r\n\r\n/*******************************************/\r\n.as-bscroller {\r\n    scrollbar-width: thin;\r\n    scrollbar-color: rgba(151, 151, 151, 0.4) rgba(220, 220, 220, 0.4);\r\n}\r\n\r\n\r\n.as-bscroller::-webkit-scrollbar {\r\n    width: 6px;\r\n    height: 6px;\r\n}\r\n\r\n.as-bscroller::-webkit-scrollbar-track {\r\n    background: rgba(220, 220, 220, 0.4);\r\n}\r\n\r\n.as-bscroller::-webkit-scrollbar-thumb {\r\n    background: rgba(182, 182, 182, 0.4);\r\n}\r\n\r\n.as-bscroller::-webkit-scrollbar-thumb:hover {\r\n    background: rgba(32, 32, 32, 0.4);\r\n}\r\n\r\n.as-bscroller::-webkit-scrollbar-thumb:active {\r\n    background: rgba(13, 13, 13, 0.6);\r\n}\r\n\r\n.as-bscroller.dark,\r\n.dark .as-bscroller,\r\n.as-dark .as-bscroller,\r\n.as-dark.as-bscroller\r\n{\r\n    scrollbar-color: rgba(104, 104, 104, 0.4) rgba(150, 150, 150, 0.4);\r\n}\r\n\r\n\r\n.as-bscroller.dark::-webkit-scrollbar-track,\r\n.dark .as-bscroller::-webkit-scrollbar-track,\r\n.as-dark .as-bscroller::-webkit-scrollbar-track,\r\n.as-dark.as-bscroller::-webkit-scrollbar-track\r\n{\r\n    background: rgba(150, 150, 150, 0.4);\r\n}\r\n\r\n.as-bscroller.dark::-webkit-scrollbar-thumb,\r\n.dark .as-bscroller::-webkit-scrollbar-thumb,\r\n.as-dark .as-bscroller::-webkit-scrollbar-thumb,\r\n.as-dark.as-bscroller::-webkit-scrollbar-thumb\r\n{\r\n    background: rgba(104, 104, 104, 0.4);\r\n}\r\n\r\n.as-bscroller.dark::-webkit-scrollbar-thumb:hover,\r\n.dark .as-bscroller::-webkit-scrollbar-thumb:hover,\r\n.as-dark .as-bscroller::-webkit-scrollbar-thumb:hover,\r\n.as-dark.as-bscroller::-webkit-scrollbar-thumb:hover\r\n{\r\n    background: rgba(223, 223, 223, 0.4);\r\n}\r\n\r\n.as-bscroller.dark::-webkit-scrollbar-thumb:active,\r\n.dark .as-bscroller::-webkit-scrollbar-thumb:active,\r\n.as-dark .as-bscroller::-webkit-scrollbar-thumb:active,\r\n.as-dark.as-bscroller::-webkit-scrollbar-thumb:active\r\n{\r\n    background: rgba(242, 242, 242, 0.6);\r\n}", ""]);



/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(65);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-button-array {\r\n    font-size: 14px;\r\n    border: 1px solid #006ce5;\r\n    display: inline-block;\r\n    border-radius: 0.2em;\r\n    overflow: hidden;\r\n}\r\n\r\n.as-button-array-item {\r\n    text-align: center;\r\n    font-size: inherit;\r\n    height: 2em;\r\n    border: none;\r\n    box-sizing: border-box;\r\n    padding-left: 0.35714em;\r\n    padding-right: 0.35714em;\r\n    outline: none;\r\n    color: #006ce5;\r\n    background-color: white;\r\n    border-radius: 0;\r\n    transition: background-color 0.1s, color 0.1s;\r\n    margin: 0;\r\n}\r\n\r\n.as-button-array-item:not(:first-child) {\r\n    border-left: 1px solid #006ce5;\r\n    border-right: none;\r\n}\r\n\r\n\r\n.as-button-array-item.as-active {\r\n    color: white;\r\n    background-color: #006ce5;\r\n}", ""]);



/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(67);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-calendar-input {\r\n    font-size: 14px;\r\n    width: 7em;\r\n    height: 2em;\r\n    box-sizing: content-box;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    border: solid 1px #d6d6d6;\r\n    border-radius: 0.2em;\r\n}\r\n\r\n.absol-calendar-input>input {\r\n    text-align: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    outline: none;\r\n    cursor: pointer;\r\n    border: none;\r\n    background: transparent;\r\n    padding: 0;\r\n}\r\n\r\n.absol-calendar-input>input:hover,\r\n.absol-calendar-input>input:focus {\r\n    color: red;\r\n}\r\n\r\n.absol-calendar-input.absol-disabled {\r\n    pointer-events: none;\r\n}\r\n\r\n.absol-calendar-input.absol-disabled input {\r\n    color: rgb(169, 169, 171);\r\n}", ""]);



/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(69);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-chrome-calendar {\r\n    display: inline-block;\r\n    font-family: Arial;\r\n    font-size: 14px;\r\n    padding: 0.6em;\r\n    border: solid 1px rgb(191, 191, 191);\r\n    box-shadow: 1px 1px 2px rgb(240, 240, 240);\r\n    z-index: 100;\r\n    touch-action: manipulation;\r\n    user-select: none;\r\n    background-color: rgb(255, 255, 255);\r\n    white-space: initial;\r\n}\r\n\r\n\r\n.absol-chrome-calendar-header {\r\n    white-space: nowrap;\r\n    position: relative;\r\n}\r\n\r\n\r\n.absol-chrome-calendar-title {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n.absol-chrome-calendar-header-buttons {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n}\r\n\r\n.absol-chrome-calendar-header-buttons>button {\r\n    font-size: 1em;\r\n    width: 1.5em;\r\n    height: 1.5em;\r\n    padding: 0;\r\n    border-radius: 0.2em;\r\n    border: solid 1px rgb(167, 167, 167);\r\n    background: linear-gradient(rgb(240, 240, 240), rgb(233, 233, 233), rgb(223, 223, 223));\r\n    cursor: pointer;\r\n    outline: none;\r\n    box-shadow: 1px 1px 2px #aaa;\r\n    color: rgb(110, 110, 110);\r\n}\r\n\r\n.absol-chrome-calendar-header-buttons>button:nth-child(2) {\r\n    margin-left: 0.2em;\r\n    margin-right: 0.2em;\r\n}\r\n\r\n\r\n.absol-chrome-calendar-header-buttons>button:active {\r\n    box-shadow: 0px 0px 2px #aaa;\r\n\r\n}\r\n\r\n.absol-chrome-calendar-title {\r\n    cursor: pointer;\r\n}\r\n\r\n.absol-chrome-calendar-title>span {\r\n    line-height: 1.5em;\r\n}\r\n\r\n.absol-chrome-calendar-instance {\r\n    margin-top: 1em;\r\n    border: solid 1px rgb(190, 190, 190);\r\n    width: 14em;\r\n    position: relative;\r\n    height: calc(8.4em + 3px);\r\n    overflow: hidden;\r\n    /*border*/\r\n}\r\n\r\n.absol-chrome-calendar-dayofweek {\r\n    background-color: rgb(241, 241, 241);\r\n    height: 1.2em;\r\n    white-space: nowrap;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 10;\r\n}\r\n\r\n.absol-chrome-calendar-dayofweek>div {\r\n    text-align: center;\r\n    line-height: 1.2;\r\n    display: inline-block;\r\n    width: 14.2857142857%;\r\n    border-bottom: solid 1px rgb(191, 191, 191);\r\n    box-sizing: border-box;\r\n}\r\n\r\n.absol-chrome-calendar-month-animation-container {\r\n    position: absolute;\r\n    transition: top 0.2s;\r\n}\r\n\r\n.absol-chrome-calendar-month-animation-container.old {\r\n    z-index: 7;\r\n    /* background: red; */\r\n}\r\n\r\n.absol-chrome-calendar-month-animation-container.new {\r\n    z-index: 8;\r\n    /* background: blue; */\r\n}\r\n\r\n.absol-chrome-calendar-month-animation-container>.absol-chrome-calendar-month {\r\n    width: 100%;\r\n    height: 100%;\r\n    margin-top: -1px;\r\n}\r\n\r\n\r\n.absol-chrome-calendar-month {\r\n    display: table;\r\n    width: 100%;\r\n    margin-top: 1.2em;\r\n    background-color: white;\r\n    /*for header*/\r\n}\r\n\r\n.absol-chrome-calendar-week-in-mounth {\r\n    display: table-row;\r\n    height: 1.2em;\r\n}\r\n\r\n.absol-chrome-calendar-week-in-mounth>div {\r\n    display: table-cell;\r\n    text-align: right;\r\n    padding-right: 0.4em;\r\n    cursor: pointer;\r\n}\r\n\r\n.absol-chrome-calendar-week-in-mounth>div:hover {\r\n    background-color: rgb(224, 245, 256);\r\n}\r\n\r\n\r\n.absol-chrome-calendar-not-in-month {\r\n    color: rgb(190, 190, 190);\r\n}\r\n\r\n.absol-chrome-calendar-today {\r\n    border: inset 1px rgb(191, 191, 191);\r\n    box-sizing: border-box;\r\n}\r\n\r\n.absol-chrome-calendar-selected {\r\n    background-color: rgb(188, 205, 236);\r\n}\r\n\r\n.absol-chrome-calendar-years {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n\r\n.absol-chrome-calendar:not(.view-year) .absol-chrome-calendar-years {\r\n    /* display: none; */\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: -10000;\r\n    opacity: 0;\r\n    visibility: hidden;\r\n}\r\n\r\n.absol-chrome-calendar.view-year .absol-chrome-calendar-instance {\r\n    border-color: rgb(77, 114, 254)\r\n}\r\n\r\n.absol-chrome-calendar:not(.view-month) .absol-chrome-calendar-month,\r\n.absol-chrome-calendar:not(.view-month) .absol-chrome-calendar-dayofweek {\r\n    display: none;\r\n}\r\n\r\n.absol-chrome-calendar:not(.view-month) .absol-chrome-calendar-title {\r\n    color: rgb(191, 191, 191);\r\n}\r\n\r\n\r\n.absol-chrome-calendar-year {\r\n    overflow: hidden;\r\n}\r\n\r\n\r\n.absol-chrome-calendar-year-head {\r\n    background-color: rgb(241, 241, 241);\r\n    border-bottom: solid 1px rgb(191, 191, 191);\r\n    height: 1.5em;\r\n    text-align: center;\r\n    line-height: 1.5em;\r\n}\r\n\r\n\r\n.absol-chrome-calendar-year:last-child .absol-chrome-calendar-year-head {\r\n    border-bottom: solid 1px rgb(191, 191, 191);\r\n}\r\n\r\n.absol-chrome-calendar-year.start-opening .absol-chrome-calendar-year-mounths,\r\n.absol-chrome-calendar-year.closing .absol-chrome-calendar-year-mounths {\r\n    margin-bottom: -6em;\r\n    transition: margin-bottom linear 0.1s;\r\n}\r\n\r\n.absol-chrome-calendar-year.opening .absol-chrome-calendar-year-mounths,\r\n.absol-chrome-calendar-year.start-closing .absol-chrome-calendar-year-mounths {\r\n    margin-bottom: 0;\r\n    transition: margin-bottom linear 0.1s;\r\n\r\n}\r\n\r\n.absol-chrome-calendar-year-mounths {\r\n    width: 100%;\r\n    display: table;\r\n    height: 6em;\r\n    border-bottom: solid 1px rgb(191, 191, 191);\r\n}\r\n\r\n.absol-chrome-calendar-year-row-months {\r\n    display: table-row;\r\n}\r\n\r\n.absol-chrome-calendar-year-month {\r\n    text-align: center;\r\n    display: table-cell;\r\n    vertical-align: middle;\r\n}\r\n\r\n.absol-chrome-calendar-year-month:hover {\r\n    background-color: rgb(224, 245, 256);\r\n}\r\n\r\n\r\n\r\n\r\n.absol-chrome-calendar-years:hover .absol-scrollbar {\r\n    opacity: 1;\r\n\r\n}\r\n\r\n.absol-chrome-calendar-years .absol-scrollbar {\r\n    background-color: rgba(169, 169, 172, 0.2);\r\n    opacity: 0;\r\n    transition: opacity 0.2s;\r\n}\r\n\r\n.absol-chrome-calendar-date-disabled {\r\n    color: rgb(240, 230, 230);\r\n    pointer-events: none;\r\n    cursor: not-allowed;\r\n}\r\n\r\nbutton.absol-chrome-calendar-button-disabled {\r\n    color: rgb(220, 210, 210);\r\n    pointer-events: none;\r\n    box-shadow: none;\r\n    cursor: not-allowed;\r\n}", ""]);



/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(71);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-vscroller {\r\n    position: relative;\r\n    overflow-x: hidden;\r\n}\r\n\r\n\r\n.absol-vscroller.disabled>.absol-vscroller-viewport {\r\n    overflow-y: visible;\r\n    margin-right: 0px;\r\n    min-width: 100%;\r\n}\r\n\r\n.absol-vscroller.disabled {\r\n    overflow: visible;\r\n    overflow-x: visible;\r\n\r\n}\r\n\r\n\r\n.absol-vscroller-viewport {\r\n    overflow-y: scroll;\r\n    box-sizing: content-box;\r\n\r\n}\r\n\r\n.absol-vscroller>.absol-vscroller-viewport {\r\n    max-height: 100%;\r\n}\r\n\r\n.absol-vscroller.limited-height>.absol-vscroller-viewport {\r\n    max-height: inherit;\r\n}\r\n\r\n\r\n/************  hscroller  ***********/\r\n.absol-hscroller {\r\n    position: relative;\r\n    overflow-y: hidden;\r\n}\r\n\r\n.absol-hscroller.disabled {\r\n    overflow: visible;\r\n    overflow-y: visible;\r\n}\r\n\r\n.absol-hscroller-viewport {\r\n    overflow-x: scroll;\r\n    box-sizing: content-box;\r\n    min-height: calc(100% + 17px);\r\n}\r\n\r\n.absol-hscroller.disabled>.absol-hscroller-viewport {\r\n    overflow-x: visible;\r\n    margin-bottom: 0px;\r\n}\r\n\r\n\r\n.absol-hscroller>.absol-hscroller-viewport {\r\n    max-width: 100%;\r\n}\r\n\r\n\r\n/********** scroll bar *********************/\r\n.absol-scrollbar-force-modal {\r\n    position: fixed;\r\n    top: 5px;\r\n    left: 5px;\r\n    right: 5px;\r\n    bottom: 5px;\r\n    z-index: 1000000;\r\n}\r\n\r\n.absol-scrollbar-container {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: 10;\r\n}\r\n\r\n.absol-scrollbar-container.vertical {\r\n    top: 0;\r\n    width: 7px;\r\n}\r\n\r\n.absol-scrollbar-container.horizontal {\r\n    height: 7px;\r\n    left: 0;\r\n}\r\n\r\n.absol-scrollbar-container>.absol-scrollbar {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n.absol-scrollbar-container.vertical>.absol-scrollbar>.absol-scrollbar-button {\r\n    left: 1px;\r\n    right: 1px;\r\n    top: 0;\r\n}\r\n\r\n.absol-scrollbar-container.horizontal>.absol-scrollbar>.absol-scrollbar-button {\r\n    top: 1px;\r\n    bottom: 1px;\r\n    left: 0;\r\n}\r\n\r\n.absol-scrollbar {\r\n    position: relative;\r\n    background: transparent;\r\n}\r\n\r\n.absol-scrollbar-button {\r\n    position: absolute;\r\n    background-color: rgba(0, 0, 0, 0.25);\r\n    border-radius: 2px;\r\n}\r\n\r\n\r\n.absol-scrollbar.absol-hidden {\r\n    visibility: hidden;\r\n}", ""]);



/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(73);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ":root {\r\n    --candy-border-color: #929292;\r\n    --candy-hover-background-color: #eeeee9;\r\n    --candy-disabled-background-color: #ebebe4;\r\n}\r\n\r\nlabel.as-checkbox-input {\r\n    display: inline-block;\r\n    position: relative;\r\n    width: calc(1em + 2px);\r\n    height: calc(1em + 2px);\r\n    cursor: pointer;\r\n    font-size: inherit;\r\n    box-sizing: border-box;\r\n    vertical-align: middle;\r\n    border-radius: 0.25em;\r\n    padding: 0;\r\n    margin: 0; /*fix boostrap override*/\r\n}\r\n\r\nlabel.as-checkbox-input:hover .bound,\r\n.absol-checkbox:hover .bound {\r\n    fill: var(--candy-hover-background-color);\r\n}\r\n\r\n.as-checkbox-input .tick {\r\n    fill: #606060;\r\n}\r\n\r\n.as-checkbox-input input.as-checkbox-input-value {\r\n    font-size: inherit;\r\n    position: absolute;\r\n    right: 100%;\r\n    top: 0;\r\n    opacity: 0.0;\r\n    z-index: -100000000000;\r\n}\r\n\r\ninput.as-checkbox-input-value:not(:checked) ~ svg .tick {\r\n    opacity: 0;\r\n}\r\n\r\nlabel.as-checkbox-input .bound {\r\n    stroke: var(--candy-border-color);\r\n    fill: white;\r\n}\r\n\r\nlabel.as-checkbox-input .tick {\r\n    opacity: 1;\r\n    transition: opacity 0.1s;\r\n}\r\n\r\nlabel.as-checkbox-input.as-disabled > svg .bound,\r\nlabel.as-checkbox-input.as-disabled:hover > svg .bound {\r\n    stroke: #929292;\r\n    fill: #ebebe4;\r\n}\r\n\r\n\r\n.as-checkbox-input > svg {\r\n    width: 100%;\r\n    height: 100%;\r\n}", ""]);



/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(75);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "/** align middle in table cell **/\r\ntd > .absol-checkbox:first-child:last-child {\r\n    display: block;\r\n}\r\n\r\ntd > .absol-checkbox.as-no-label:first-child:last-child .as-checkbox-input {\r\n    display: block;\r\n}\r\n\r\n.absol-checkbox {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    cursor: pointer;\r\n    user-select: none;\r\n}\r\n\r\n.absol-checkbox.right > .absol-checkbox-label.as-right {\r\n    display: none;\r\n}\r\n\r\n\r\n.absol-checkbox:not(.right) > .absol-checkbox-label.as-left {\r\n    display: none;\r\n}\r\n\r\n.absol-checkbox-label {\r\n    vertical-align: middle;\r\n    display: inline-block;\r\n}\r\n\r\n\r\n.absol-checkbox-label.as-left {\r\n    padding-right: 0.3em;\r\n}\r\n\r\n\r\n.absol-checkbox-label.as-right {\r\n    padding-left: 0.3em;\r\n}\r\n\r\n.absol-checkbox.as-no-label {\r\n    width: calc(1em + 2px);\r\n    height: calc(1em + 2px);\r\n}\r\n\r\n\r\n.absol-checkbox.as-no-label .absol-checkbox-label {\r\n    display: none;\r\n}\r\n\r\n.absol-checkbox.as-disabled .absol-checkbox-label {\r\n    color: #777;\r\n}\r\n", ""]);



/***/ }),
/* 76 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(77);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-circle-section-label {\r\n    position: relative;\r\n    -webkit-print-color-adjust: exact;\r\n    /*friendly print*/\r\n}\r\n\r\n.as-circle-section-label-text {\r\n    position: relative;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    font-size: 1em;\r\n    padding-right: 2.5em;\r\n    color: white;\r\n    font-weight: bold;\r\n    z-index: 2;\r\n}\r\n\r\n\r\n.as-circle-section-label-index {\r\n    position: relative;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    text-align: center;\r\n    color: rgb(30, 162, 245);\r\n    font-weight: 900;\r\n    z-index: 2;\r\n}\r\n\r\n\r\n@media print {\r\n    .as-circle-section-label-text {\r\n        color: white !important;\r\n    }\r\n\r\n    .as-circle-section-label-index {\r\n        color: rgb(30, 162, 245) !important;\r\n    }\r\n}\r\n\r\n\r\n.as-circle-section-label-background {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    z-index: 1;\r\n}\r\n\r\n.as-circle-section-label-background>svg {\r\n    display: block;\r\n}\r\n\r\n.as-circle-section-label-index-box {\r\n    stroke: rgb(129, 211, 246);\r\n    fill: white;\r\n    stroke-width: 2.5;\r\n}\r\n\r\n.as-circle-section-label-arrow {\r\n    stroke: rgb(30, 162, 245);\r\n    fill: none;\r\n    stroke-linecap: round;\r\n}\r\n\r\n.as-circle-section-label-text-box {\r\n    fill: rgb(30, 162, 245);\r\n    stroke: none;\r\n}\r\n\r\n.as-circle-section-label-arrow-marker-path {\r\n    fill: rgb(30, 162, 245);\r\n    stroke: none;\r\n}", ""]);



/***/ }),
/* 78 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(79);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 79 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-context-menu-hook {\r\n    position: absolute;\r\n    z-index: -100000;\r\n    width: 14px;\r\n    height: 14px;\r\n    top: 0;\r\n    opacity: 0;\r\n    resize: none;\r\n    cursor: default;\r\n}\r\n\r\n.absol-context-hinge-fixed-container {\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    z-index: 1000000001;\r\n}\r\n\r\n.absol-context-hinge {\r\n    position: relative;\r\n    width: 0;\r\n    height: 0;\r\n}\r\n\r\n.absol-context-hinge > .absol-context-menu {\r\n    position: absolute;\r\n    top: -10000px;\r\n    left: -10000px;\r\n    visibility: hidden;\r\n    z-index: 55;\r\n    display: inline-block;\r\n}\r\n\r\n.absol-context-hinge .absol-vmenu,\r\n.absol-context-hinge .absol-hmenu {\r\n    padding-top: 0.4em;\r\n    padding-bottom: 0.4em;\r\n    /* background-color: rgb(37, 37, 38);\r\n    -webkit-box-shadow: 2px 2px 9px 0px rgba(7, 7, 7, 1);\r\n    -moz-box-shadow: 2px 2px 9px 0px rgb(7, 7, 7, 1);\r\n    box-shadow: 2px 2px 9px 0px rgba(7, 7, 7, 1); */\r\n    color: black;\r\n    background-color: rgb(252, 252, 255);\r\n    -webkit-box-shadow: 2px 2px 9px 0px rgba(20, 20, 20, 1);\r\n    -moz-box-shadow: 2px 2px 9px 0px rgba(20, 20, 20, 1);\r\n    box-shadow: 2px 2px 9px 0px rgba(20, 20, 20, 1);\r\n}\r\n\r\n.absol-context-hinge.dark .absol-hmenu,\r\n.absol-context-hinge.dark .absol-vmenu,\r\n.dark .absol-context-hinge .absol-hmenu,\r\n.dark .absol-context-hinge .absol-vmenu {\r\n    background-color: rgb(37, 37, 38);\r\n}\r\n\r\n\r\n.absol-context-menu-anchor {\r\n    position: fixed;\r\n    z-index: -1000;\r\n    left: 0;\r\n    top: 0;\r\n    display: block;\r\n    opacity: 0;\r\n    visibility: hidden;\r\n    font-size: 12px;\r\n}\r\n\r\n.absol-context-menu-anchor > textarea {\r\n    width: 160px;\r\n    height: 160px;\r\n    margin: 0;\r\n    resize: none;\r\n    border: none;\r\n    opacity: 0;\r\n    cursor: default;\r\n}\r\n\r\n.absol-context-menu-anchor.absol-active {\r\n    z-index: 100000000;\r\n    opacity: 1;\r\n    visibility: visible;\r\n}\r\n\r\n\r\n.absol-context-menu-anchor .absol-vmenu,\r\n.absol-context-menu-anchor .absol-hmenu {\r\n    padding-top: 0.4em;\r\n    padding-bottom: 0.4em;\r\n    -webkit-box-shadow: 2px 2px 9px 0px rgba(7, 7, 7, 1);\r\n    -moz-box-shadow: 2px 2px 9px 0px rgb(7, 7, 7, 1);\r\n    box-shadow: 2px 2px 9px 0px rgba(7, 7, 7, 1);\r\n    color: black;\r\n    background-color: rgb(252, 252, 255);\r\n    -webkit-box-shadow: 2px 2px 9px 0px rgba(20, 20, 20, 1);\r\n    -moz-box-shadow: 2px 2px 9px 0px rgba(20, 20, 20, 1);\r\n    box-shadow: 2px 2px 9px 0px rgba(20, 20, 20, 1);\r\n}\r\n\r\n\r\n.as-system-context-menu {\r\n    /** nothing here, to define use system context menu**/\r\n}", ""]);



/***/ }),
/* 80 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(81);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 81 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-ico {\r\n    width: 1em;\r\n    height: 1em;\r\n}\r\n\r\n.absol-button {\r\n    white-space: normal;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.absol-dropdown {\r\n    position: relative;\r\n}\r\n\r\n.absol-dropdown-content {\r\n    z-index: 1;\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    overflow: auto;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.absol-dropdown.top > .absol-dropdown-content {\r\n    top: auto;\r\n    bottom: 100%;\r\n}\r\n\r\n.absol-dropdown.overlap-left > .absol-dropdown-content {\r\n    left: auto;\r\n    right: 0;\r\n}\r\n\r\n.absol-dropright {\r\n    position: relative;\r\n}\r\n\r\n.absol-dropright-content {\r\n    z-index: 1;\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    overflow: auto;\r\n}\r\n\r\n.absol-dropright.overlap-top > .absol-dropright-content {\r\n    top: unset;\r\n    bottom: 0;\r\n}\r\n\r\n.absol-drop-hidden > .absol-dropdown-content,\r\n.absol-drop-hidden > .absol-dropright-content {\r\n    display: none;\r\n}\r\n\r\n\r\n.absol-hmenu {\r\n    display: inline-block;\r\n    background-color: rgb(252, 252, 255);\r\n    /* background-color: rgb(33, 33, 33); */\r\n\r\n}\r\n\r\n.absol-hmenu > .absol-dropdown {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n.absol-hmenu-button:hover,\r\n.absol-hmenu .absol-hmenu-button-hover {\r\n\r\n    background-color: rgb(175, 175, 175);\r\n}\r\n\r\n.absol-hmenu-button {\r\n    padding-left: 1em;\r\n    padding-right: 1em;\r\n}\r\n\r\n.absol-hmenu-button:focus {\r\n    outline: none;\r\n}\r\n\r\n.absol-hmenu-button,\r\n.absol-vmenu-button {\r\n    color: rgb(55, 55, 55);\r\n    height: 100%;\r\n    background-color: transparent;\r\n    font-size: 1em;\r\n    border: none;\r\n    padding: 0;\r\n    margin: 0;\r\n    outline: none;\r\n}\r\n\r\n.absol-hmenu-button {\r\n    padding-left: 1em;\r\n    padding-right: 1em;\r\n}\r\n\r\n.absol-vmenu {\r\n}\r\n\r\n.absol-hmenu .absol-dropdown-content,\r\n.absol-hmenu .absol-dropright-content,\r\n.as-v-root-menu .absol-dropright-content {\r\n    padding-top: 0.4em;\r\n    padding-bottom: 0.4em;\r\n    background-color: rgb(252, 252, 255);\r\n    -webkit-box-shadow: 2px 2px 9px 0px rgba(20, 20, 20, 1);\r\n    -moz-box-shadow: 2px 2px 9px 0px rgba(20, 20, 20, 1);\r\n    box-shadow: 2px 2px 9px 0px rgba(20, 20, 20, 1);\r\n}\r\n\r\n.absol-vmenu-button {\r\n    text-align: left;\r\n    padding-left: 0.5em;\r\n    padding-right: 2em;\r\n    height: 1.8em;\r\n    white-space: nowrap;\r\n    position: relative;\r\n}\r\n\r\nimg.absol-vmenu-button-icon {\r\n    opacity: 0;\r\n    display: none;\r\n}\r\n\r\nimg.absol-vmenu-button-icon[src] {\r\n    display: block;\r\n}\r\n\r\n.absol-vmenu-button-ext-icon-container {\r\n    display: inline-block;\r\n    width: 1.2em;\r\n    height: 1.2em;\r\n    vertical-align: middle;\r\n    margin-right: 0.5em;\r\n}\r\n\r\n.absol-vmenu-button-ext-icon-container > span,\r\n.absol-vmenu-button-ext-icon-container > i {\r\n    font-size: 1.2em;\r\n    line-height: 1;\r\n    display: block;\r\n}\r\n\r\n\r\n.absol-vmenu-button-ext-icon-container > svg,\r\n.absol-vmenu-button-ext-icon-container > img {\r\n    height: 1.2em;\r\n    width: 1.2em;\r\n    display: block;\r\n}\r\n\r\n\r\n.absol-vmenu-button-text,\r\n.absol-vmenu-button-key {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n.absol-vmenu-button-key {\r\n    font-style: italic;\r\n    text-align: right;\r\n    margin-left: 1em;\r\n}\r\n\r\n.absol-vmenu-arrow-container {\r\n    position: absolute;\r\n    right: 0.2em;\r\n    top: 0.3em;\r\n    bottom: 0.3em;\r\n}\r\n\r\n\r\n.absol-vmenu-arrow-container::after {\r\n    content: \"\";\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 100%;\r\n}\r\n\r\n\r\n.absol-vmenu-arrow {\r\n    display: inline-block;\r\n    font-size: inherit;\r\n    vertical-align: middle;\r\n}\r\n\r\n.absol-menu-item-disable .absol-vmenu-arrow {\r\n    display: none;\r\n}\r\n\r\n.absol-vmenu-button:hover,\r\n.absol-vmenu .absol-vmenu-button-hover {\r\n    background-color: rgb(214, 214, 217);\r\n}\r\n\r\n.absol-menu-item-disable .absol-vmenu-button:hover,\r\n.absol-menu-item-disable .absol-vmenu .absol-vmenu-button-hover,\r\n.absol-menu-item-disable .absol-hmenu-button:hover,\r\n.absol-menu-item-disable .absol-hmenu .absol-hmenu-button-hover {\r\n    background-color: transparent;\r\n}\r\n\r\n.absol-vmenu-line {\r\n    text-align: center;\r\n    padding: 0.2em 1em;\r\n}\r\n\r\n.absol-vmenu-line > div {\r\n    height: 1px;\r\n    background-color: rgb(97, 97, 97);\r\n}\r\n\r\n.absol-menu-item-disable {\r\n}\r\n\r\n.absol-menu-item-disable button {\r\n    color: rgb(155, 155, 159);\r\n}\r\n\r\n.dark .absol-menu-item-disable button {\r\n    color: rgb(100, 100, 100);\r\n}\r\n\r\n.dark .absol-vmenu-button:hover,\r\n.dark .absol-vmenu .absol-vmenu-button-hover {\r\n    background-color: rgb(9, 71, 113);\r\n}\r\n\r\n\r\n.dark .absol-hmenu .absol-dropdown-content,\r\n.dark .absol-hmenu .absol-dropright-content {\r\n    background-color: rgb(37, 37, 38);\r\n}\r\n\r\n\r\n.dark .absol-hmenu-button,\r\n.dark .absol-vmenu-button {\r\n    color: rgb(200, 200, 200);\r\n\r\n}\r\n\r\n\r\n.dark .absol-hmenu-button:hover,\r\n.dark .absol-hmenu .absol-hmenu-button-hover {\r\n    background-color: rgb(80, 80, 80);\r\n}\r\n\r\n\r\n.dark .absol-hmenu {\r\n    background-color: rgb(33, 33, 33);\r\n}\r\n\r\n/*standard-alone*/\r\n.absol-vmenu-button.standard-alone {\r\n    height: 2em;\r\n    border-radius: 0.3em;\r\n    border: solid rgb(169, 169, 170) 1px;\r\n    outline: none;\r\n}\r\n\r\n.as-v-root-menu {\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n}", ""]);



/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(83);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 83 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-follower {\r\n    position: fixed;\r\n    z-index: 100;\r\n}\r\n\r\n.absol-follower-hidden{\r\n    z-index: -1000 !important;\r\n    opacity: 0;\r\n    visibility: hidden;\r\n}", ""]);



/***/ }),
/* 84 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-date-input {\r\n    border: 1px solid #ddd;\r\n    border-radius: 3px;\r\n    height: 30px;\r\n    width: calc(6em + 30px);\r\n    box-sizing: border-box;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    position: relative;\r\n    background-color: white;\r\n}\r\n\r\n.as-date-input input {\r\n    outline: none;\r\n    width: calc(100% - 30px);\r\n    height: 100%;\r\n    border: none;\r\n    background-color: transparent;\r\n    display: block;\r\n    padding: 0 0 0 0.5em;\r\n\r\n}\r\n\r\n.as-date-input-icon-ctn {\r\n    border-left: 1px solid #ddd;\r\n    text-align: center;\r\n    position: absolute;\r\n    right: 0;\r\n    width: 29px;\r\n    box-sizing: border-box;\r\n    top: 0;\r\n    height: 28px;\r\n    background-color: rgba(169, 169, 169, 0.1);\r\n    cursor: pointer;\r\n}\r\n\r\n\r\n.as-date-input-icon-ctn:hover {\r\n    background-color: rgba(169, 169, 169, 0.25);\r\n}\r\n\r\n.as-date-input-icon-ctn:active {\r\n    background-color: rgba(169, 169, 169, 0.5);\r\n}\r\n\r\n\r\n.as-date-input-icon-ctn > span {\r\n    line-height: 28px;\r\n    font-size: 16px;\r\n}\r\n\r\n.as-date-input.as-disabled {\r\n    color: rgb(102, 102, 102);\r\n    pointer-events: none;\r\n}", ""]);



/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-draggable-stack {\r\n    position: relative;\r\n}\r\n\r\n.absol-draggable-stack .drag-zone {\r\n    touch-action: none;\r\n}\r\n\r\n.absol-draggable-stack > .as-dragging {\r\n    opacity: 0.2 !important;\r\n}\r\n\r\n.absol-draggable-stack-child-container.as-dragging {\r\n    opacity: 0.2 !important;\r\n}\r\n\r\n.absol-draggable-stack-clone-container {\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    z-index: 100000;\r\n    user-select: none;\r\n    -moz-user-select: none;\r\n    -webkit-user-select: none;\r\n    -ms-user-select: none;\r\n    pointer-events: all;\r\n    opacity: 0.5;\r\n    background: white;\r\n}\r\n\r\n.absol-draggable-vstack > .absol-draggable-stack-clone-container {\r\n    left: 0;\r\n    right: 0;\r\n\r\n}\r\n\r\n.absol-draggable-stack-clone-container * {\r\n    pointer-events: none !important;\r\n}\r\n\r\n.absol-draggable-stack-clone-container > * {\r\n    width: 100% !important;\r\n    height: 100% !important;\r\n    box-sizing: border-box;\r\n}\r\n\r\n\r\n.absol-draggable-stack-clone-container.home-going {\r\n    transition: top 0.2s;\r\n}\r\n\r\n.absol-draggable-stack-dest-line {\r\n    position: absolute;\r\n    z-index: 99;\r\n    box-sizing: content-box;\r\n}\r\n\r\n.absol-draggable-vstack > .absol-draggable-stack-dest-line {\r\n    transition: top 0.1s;\r\n    left: 0;\r\n    right: 0;\r\n    border-top: solid 3px rgb(74, 174, 233);\r\n    border-bottom: solid 3px rgb(74, 174, 233);\r\n}\r\n\r\n\r\n.absol-draggable-hstack {\r\n    --dest-x: 0px;\r\n}\r\n\r\n.absol-draggable-hstack.as-has-dragging::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    transition: left 0.1s;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: calc(var(--dest-x) - 3px);\r\n    border-left: solid 3px rgb(74, 174, 233);\r\n    border-right: solid 3px rgb(74, 174, 233);\r\n}\r\n\r\n.absol-draggable-hstack.as-no-change::after {\r\n    visibility: hidden;\r\n}\r\n\r\n\r\n.absol-draggable-hstack > * {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n.absol-draggable-vstack {\r\n    --dest-y: unset;\r\n}\r\n\r\n/**.as-state-drag*/\r\n.absol-draggable-vstack.as-state-drag::after {\r\n    content: \"\";\r\n    display: block;\r\n    position: absolute;\r\n    top: calc(var(--dest-y) - 3px);\r\n    left: 0;\r\n    right: 0;\r\n    transition: top 0.1s;\r\n    border-top: solid 3px rgb(74, 174, 233);\r\n    border-bottom: solid 3px rgb(74, 174, 233);\r\n    z-index: 999;\r\n}\r\n\r\n\r\n.absol-draggable-vstack.as-state-no-change::after {\r\n    visibility: hidden;\r\n}", ""]);



/***/ }),
/* 86 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-drop-panel-head {\r\n    height: 2.75em;\r\n    line-height: 2.75em;\r\n    -webkit-box-shadow: 0px 3px 4px -3px rgba(0, 0, 0, 0.75);\r\n    -moz-box-shadow: 0px 3px 4px -3px rgba(0, 0, 0, 0.75);\r\n    box-shadow: 0px 3px 4px -3px rgba(0, 0, 0, 0.75);\r\n    background-color: rgba(240, 240, 242);\r\n    color: black;\r\n}\r\n\r\n.absol-drop-panel-head .toggler-ico path {\r\n    fill: rgb(104, 104, 104);\r\n}\r\n\r\n\r\n.dark .absol-drop-panel-head {\r\n    background-color: rgba(54, 54, 56);\r\n    color: rgb(204, 204, 204);\r\n}\r\n\r\n.absol-drop-panel.show .absol-drop-panel-body {\r\n    height:auto;\r\n}\r\n\r\n.absol-drop-panel-body {\r\n    transition: height 0.2s;\r\n    height: 0;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n}\r\n\r\n\r\n.absol-drop-panel.show>.absol-drop-panel-head  .toggle-close{\r\n    display: none;\r\n}\r\n\r\n.absol-drop-panel:not(.show)>.absol-drop-panel-head  .toggle-open{\r\n    display: none;\r\n}\r\n\r\n", ""]);



/***/ }),
/* 87 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(88);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 88 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-exp-node {\r\n    height: 2em;\r\n    text-align: left;\r\n    background-color: transparent;\r\n    border: none;\r\n    outline: none;\r\n    white-space: nowrap;\r\n    font-size: inherit;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    position: relative;\r\n    color: rgb(33, 33, 34);\r\n}\r\n\r\n.absol-exp-node .toggler-ico {\r\n    width: 0.7em;\r\n    height: 0.7em;\r\n    margin-right: 0.35em;\r\n}\r\n\r\n.absol-exp-node .toggler-ico path {\r\n    fill: rgb(104, 104, 104);\r\n}\r\n\r\n.absol-exp-node.status-removable .toggler-ico,\r\n.absol-exp-node.status-modified .toggler-ico {\r\n    display: none;\r\n}\r\n\r\n.absol-exp-node:not(.status-open) .toggle-open {\r\n    display: none;\r\n}\r\n\r\n.absol-exp-node:not(.status-close) .toggle-close {\r\n    display: none;\r\n}\r\n\r\n\r\n\r\n.absol-exp-node:hover .remove-ico {\r\n    visibility: visible;\r\n}\r\n\r\n\r\n\r\n.absol-exp-node.status-removable .remove-ico,\r\n.absol-exp-node.status-modified .remove-ico {\r\n    display: inline-block;\r\n}\r\n\r\n.absol-exp-node.status-removable .remove-ico .modified {\r\n    visibility: hidden;\r\n}\r\n\r\n.absol-exp-node.status-modified .remove-ico .close {\r\n    visibility: hidden;\r\n}\r\n\r\n.absol-exp-node.status-modified .remove-ico:hover .close {\r\n    visibility: visible;\r\n}\r\n\r\n.absol-exp-node.status-modified .remove-ico:hover .modified {\r\n    visibility: hidden;\r\n}\r\n\r\n\r\n.absol-exp-node .remove-ico {\r\n    width: 0.9em;\r\n    height: 0.9em;\r\n    display: none;\r\n    visibility: hidden;\r\n    margin-left: -0.3em;\r\n    margin-right: 0.45em;\r\n}\r\n\r\n.absol-exp-node .remove-ico .close,\r\n.absol-exp-node .remove-ico .modified {\r\n    fill: rgb(169, 169, 169);\r\n    stroke: none;\r\n}\r\n\r\n\r\n.absol-exp-node.has-status {\r\n    padding-right: 2.5em;\r\n}\r\n\r\n.absol-exp-node>div,\r\n.absol-exp-node>svg {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n.absol-exp-node .editing input {\r\n    color: khaki;\r\n    padding-top: 2px;\r\n    padding-bottom: 2px;\r\n}\r\n\r\n.absol-exp-node:hover {\r\n    background-color: rgba(169, 169, 172, 0.1);\r\n}\r\n\r\n.absol-exp-node:focus,\r\n.absol-exp-node.as-active:focus {\r\n    background-color: rgba(20, 185, 235, 0.3);\r\n}\r\n\r\n.absol-exp-node.as-active {\r\n    background-color: rgba(169, 169, 172, 0.2);\r\n}\r\n\r\n\r\n\r\n.absol-exp-node-name {\r\n    /* -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none; */\r\n    user-select: none;\r\n    vertical-align: middle;\r\n    color: black;\r\n    margin-left: 0.5em;\r\n}\r\n\r\n.absol-exp-node-desc {\r\n    color: rgb(104, 104, 104);\r\n    margin-left: 0.5em;\r\n    font-size: 0.85em;\r\n}\r\n\r\n.absol-exp-node-desc:empty {\r\n    margin-left: 0;\r\n}\r\n\r\n\r\n.absol-exp-node-expand-icon {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    margin-right: 0.2em;\r\n    height: 0.5em;\r\n    width: 0.5em;\r\n}\r\n\r\nimg.absol-exp-node-ext-icon {\r\n    display: none;\r\n}\r\n\r\n.absol-exp-node-ext-icon,\r\n.absol-exp-node-ext-icon>img {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    width: 1.5em;\r\n    height: 1.5em;\r\n}\r\n\r\ndiv.absol-exp-node-ext-icon:empty {\r\n    display: none;\r\n}\r\n\r\ndiv.absol-exp-node-ext-icon {\r\n    text-align: center;\r\n}\r\n\r\n.absol-exp-node-ext-icon>.mdi,\r\n.absol-exp-node-ext-icon>span .absol-exp-node-ext-icon>svg {\r\n    line-height: 1em;\r\n    font-size: 1.5em;\r\n}\r\n\r\nimg.absol-exp-node-ext-icon[src] {\r\n    display: inline-block;\r\n}\r\n\r\n\r\n.absol-exp-tree>.absol-exp-node {\r\n    width: 100%;\r\n    display: block;\r\n}\r\n\r\n.absol-exp-tree.hide-children>.absol-exp-items {\r\n    display: none;\r\n}\r\n\r\n\r\n.dark .toggler-ico path {\r\n    fill: rgb(169, 169, 169);\r\n}\r\n\r\n\r\n.dark .absol-exp-node-name {\r\n    color: rgb(204, 204, 204);\r\n}\r\n\r\n.dark .absol-exp-node-desc {\r\n    color: rgb(169, 169, 170);\r\n}\r\n\r\n.dark .absol-exp-node {\r\n    color: rgb(169, 169, 170);\r\n}", ""]);



/***/ }),
/* 89 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(90);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 90 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "\r\n.absol-editabe-text {\r\n    display: inline;\r\n}\r\n\r\n.absol-editabe-text span {\r\n    font-style: inherit;\r\n    font-size: inherit;\r\n    white-space: pre;\r\n}\r\n\r\n.absol-editabe-text-higne {\r\n    display: inline-block;\r\n    position: relative;\r\n    width: 0px;\r\n    height: 0ox;\r\n}\r\n\r\n.absol-editabe-text-higne input {\r\n    position: absolute;\r\n    display: none;\r\n    border: none;\r\n    top: -2;\r\n    left: -2;\r\n    padding-top: 0px;\r\n    padding-left: 2px;\r\n    padding-bottom: 4px;\r\n    margin: 0;\r\n    background: transparent;\r\n    outline: none;\r\n    font-style: inherit;\r\n    font-size: inherit;\r\n}\r\n\r\n.absol-editabe-text.editing .absol-editabe-text-higne input {\r\n    display: block;\r\n}\r\n\r\n.absol-editabe-text.editing span {\r\n    visibility: hidden;\r\n}\r\n\r\n.absol-editabe-text.editing {\r\n    -webkit-box-shadow: 0px 0px 2px 0px rgba(33, 77, 255, 1);\r\n    -moz-box-shadow: 0px 0px 2px 0px rgba(33, 77, 255, 1);\r\n    box-shadow: 0px 0px 2px 0px rgba(33, 77, 255, 1);\r\n    border-radius: 0.17em;\r\n}\r\n", ""]);



/***/ }),
/* 91 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(92);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 92 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-emoji-picker {\r\n    font-size: 12px;\r\n    border: 1px solid #dddddd;\r\n    box-sizing: border-box;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n}\r\n\r\n.as-emoji-picker-preview {\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    width: 80px;\r\n    height: 110px;\r\n    border-right: 1px solid #dddddd;\r\n    text-align: center;\r\n\r\n}\r\n\r\n\r\n.as-emoji-picker-preview-anim {\r\n    width: 60px;\r\n    height: 60px;\r\n    margin-top: 5px;\r\n}\r\n\r\n.as-emoji-picker-preview-desc {\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n    color: black;\r\n}\r\n\r\n.as-emoji-picker-preview-shortcut {\r\n    font-size: 12px;\r\n    color: rgb(70, 70, 70);\r\n}\r\n\r\n\r\n.as-emoji-picker-list {\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    overflow-y: auto;\r\n    width: calc(100% - 81px);\r\n    height: 110px;\r\n    padding: 5px;\r\n    box-sizing: border-box;\r\n}\r\n\r\n\r\n.as-emoji-picker-item {\r\n    display: inline-block;\r\n    padding: 5px;\r\n    width: 30px;\r\n    height: 30px;\r\n    box-sizing: border-box;\r\n    border-radius: 6px;\r\n}\r\n\r\n.as-emoji-picker-item:hover {\r\n    background-color: rgba(169, 169, 170, 0.3);\r\n}\r\n\r\n.as-emoji-picker-item:active {\r\n    background-color: rgba(169, 169, 170, 0.7);\r\n}", ""]);



/***/ }),
/* 93 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(94);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 94 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-flexicon-button {\r\n    box-sizing: border-box;\r\n    border: solid 1px #bfbfbf;\r\n    background-color: #ebebeb;\r\n    border-radius: 0.2em;\r\n    outline: none;\r\n    padding: 0;\r\n    overflow: hidden;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n.as-flexicon-button div,\r\n.as-flexicon-button span {\r\n    font-weight: inherit;\r\n    font-size: inherit;\r\n}\r\n\r\n\r\n.as-icon-button-table-box {\r\n    display: table;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.as-flexicon-button:hover .as-flexicon-button-content {\r\n    background-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.as-flexicon-button:active {\r\n    -webkit-box-shadow: inset 0 0.2em 0.25em rgba(0, 0, 0, 0.125);\r\n    box-shadow: inset 0 0.2em 0.25em rgba(0, 0, 0, 0.125);\r\n}\r\n\r\n\r\n.as-flexicon-button-content {\r\n    display: table-row;\r\n}\r\n\r\n\r\n.as-flexicon-button-icon-container,\r\n.as-flexicon-button-text-container {\r\n    display: table-cell;\r\n    box-sizing: content-box;\r\n    vertical-align: middle;\r\n    text-align: center;\r\n}\r\n\r\n.as-flexicon-button-icon-container:empty,\r\n.as-flexicon-button-text-container:empty {\r\n    display: none;\r\n}\r\n\r\n.as-flexicon-button-icon-container {\r\n    width: 2em;\r\n    background-color: rgba(0, 0, 0, 0.0893617021);\r\n    color: rgb(146, 146, 146);\r\n}\r\n\r\n\r\n.as-flexicon-button-icon-container > span,\r\n.as-flexicon-button-icon-container > i,\r\n.as-flexicon-button-icon-container > svg,\r\n.as-flexicon-button-icon-container > img {\r\n    font-size: 1em;\r\n}\r\n\r\n.as-flexicon-button-text-container {\r\n    padding-left: 0.357em;\r\n    padding-right: 0.357em;\r\n    box-sizing: border-box;\r\n    min-width: 2em;\r\n}\r\n\r\n\r\n.as-flexicon-button-icon-container + .as-flexicon-button-text-container {\r\n    border-left: solid 1px #bfbfbf;\r\n}\r\n\r\n.as-flexicon-button-icon-container:empty + .as-flexicon-button-text-container {\r\n    border-left: none\r\n}\r\n\r\n/*** theme  ***/\r\n\r\n.as-flexicon-button.primary {\r\n    border-color: #005bbd;\r\n    background-color: #007bff;\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.primary .as-flexicon-button-icon-container {\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.primary .as-flexicon-button-text-container {\r\n    border-color: #005bbd;\r\n}\r\n\r\n\r\n.as-flexicon-button.secondary {\r\n    border-color: #4e555a;\r\n    background-color: #6d767e;\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.secondary .as-flexicon-button-icon-container {\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.secondary .as-flexicon-button-text-container {\r\n    border-left-color: #4e555a;\r\n}\r\n\r\n\r\n.as-flexicon-button.success {\r\n    border-color: #1e7b34;\r\n    background-color: #29a847;\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.success .as-flexicon-button-icon-container {\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.success .as-flexicon-button-text-container {\r\n    border-left-color: #1e7b34;\r\n}\r\n\r\n\r\n.as-flexicon-button.danger {\r\n    border-color: #b21f2e;\r\n    background-color: #dc3848;\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.danger .as-flexicon-button-icon-container {\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.danger .as-flexicon-button-text-container {\r\n    border-left-color: #b21f2e;\r\n}\r\n\r\n.as-flexicon-button.warning {\r\n    border-color: #9e7700;\r\n    background-color: #e0a800;\r\n    color: black;\r\n}\r\n\r\n.as-flexicon-button.warning .as-flexicon-button-icon-container {\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.warning .as-flexicon-button-text-container {\r\n    border-left-color: #9e7700;\r\n}\r\n\r\n.as-flexicon-button.info {\r\n    border-color: #117888;\r\n    background-color: #17a2b8;\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.info .as-flexicon-button-icon-container {\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.info .as-flexicon-button-text-container {\r\n    border-left-color: #117888;\r\n}\r\n\r\n.as-flexicon-button.light {\r\n    border-color: #c9d1d9;\r\n    background-color: #f8f9fa;\r\n    color: #212529;\r\n}\r\n\r\n.as-flexicon-button.light .as-flexicon-button-icon-container {\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.light .as-flexicon-button-text-container {\r\n    border-left-color: #c9d1d9;\r\n}\r\n\r\n.as-flexicon-button.dark {\r\n    border-color: #171a1c;\r\n    background-color: #343a40;\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.dark .as-flexicon-button-icon-container {\r\n    color: white;\r\n}\r\n\r\n.as-flexicon-button.dark .as-flexicon-button-text-container {\r\n    border-left-color: #171a1c;\r\n}\r\n\r\n.as-flexicon-button.link {\r\n    border-color: transparent;\r\n    background-color: transparent;\r\n    color: #007bff;\r\n}\r\n\r\n.as-flexicon-button.link .as-flexicon-button-icon-container {\r\n    color: #007bff;\r\n    background: transparent;\r\n}\r\n\r\n.as-flexicon-button.link .as-flexicon-button-text-container {\r\n    border-left-color: transparent;\r\n}\r\n\r\n.as-flexicon-button.link:hover .as-flexicon-button-text-container {\r\n    text-decoration: underline;\r\n}", ""]);



/***/ }),
/* 95 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(96);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 96 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-flexicon-input-icon-ctn > span,\r\n.as-flexicon-input-icon-ctn > i,\r\n.as-flexicon-input-icon-ctn > svg,\r\n.as-flexicon-input-icon-ctn > img {\r\n    font-size: 1em;\r\n    line-height: 1;\r\n}\r\n\r\n.as-flexicon-input {\r\n    position: relative;\r\n    border: 1px solid #dddddd;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 2em;\r\n    font-size: 14px;\r\n    box-sizing: border-box;\r\n    border-radius: 3px;\r\n    text-align: left;\r\n    white-space: nowrap;\r\n}\r\n\r\n.as-flexicon-input::before {\r\n    content: \"\";\r\n    width: 0;\r\n    height: 100%;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n.as-flexicon-input-icon-ctn:empty {\r\n    display: none;\r\n}\r\n\r\n.as-flexicon-input-icon-ctn {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    /*text-align: center;*/\r\n    font-size: 1.2em;\r\n    width: 1.25em;\r\n    text-align: center;\r\n}\r\n\r\n.as-flexicon-input-unit-ctn {\r\n    width: 1.5em;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    text-align: center;\r\n}\r\n\r\n.as-flexicon-input-unit-ctn:empty {\r\n    display: none;\r\n}\r\n\r\n\r\n.as-flexicon-input input {\r\n    border: none;\r\n    font-size: 1em;\r\n    outline: none;\r\n    height: 100%;\r\n    background-color: transparent;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    font-family: inherit;\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n.as-flexicon-input.as-flexicon-input-has-icon input,\r\n.as-flexicon-input.as-flexicon-input-has-unit input {\r\n    width: calc(100% - 1.5em);\r\n}\r\n\r\n.as-flexicon-input.as-flexicon-input-has-unit input{\r\n    text-align: right;\r\n}\r\n\r\n\r\n.as-flexicon-input.as-flexicon-input-has-icon.as-flexicon-input-has-unit input {\r\n    width: calc(100% - 3em);\r\n}", ""]);



/***/ }),
/* 97 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(98);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 98 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-frame{\r\n    \r\n}", ""]);



/***/ }),
/* 99 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(100);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 100 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-frame-view {\r\n    position: relative;\r\n}\r\n\r\n\r\n.absol-frame-view-frame-container {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n}\r\n\r\n\r\n.absol-frame-view-frame-container:not(.absol-active) {\r\n    z-index: -100;\r\n    visibility: hidden;\r\n    opacity: 0;\r\n}\r\n\r\n.absol-frame-view-frame-container:not(.absol-active) *,\r\n.absol-frame-view-frame-container:not(.absol-active) {\r\n    pointer-events: none;\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n}\r\n\r\n\r\n.absol-frame-view-frame-container > div {\r\n    width: 100%;\r\n    height: 100%;\r\n}", ""]);



/***/ }),
/* 101 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-tabbar {\r\n    white-space: normal;\r\n    height: 2em;\r\n    white-space: nowrap;\r\n}\r\n\r\n\r\n.absol-tabbar .absol-hscroller-viewport {\r\n    overflow-y: hidden;\r\n}\r\n\r\n.absol-tabbar .absol-tabbar-button {\r\n    height: 100%;\r\n}\r\n\r\n/* .absol-tabbar .absol-scrollbar-container {\r\n    height: 5px;\r\n} */\r\n\r\n.absol-tabbar .absol-scrollbar-container.horizontal {\r\n    bottom: -2px;\r\n}\r\n\r\n.absol-tabbar .absol-scrollbar-container {\r\n    opacity: 0;\r\n    transition: opacity 0.2s;\r\n    background: rgba(169, 169, 169, 0.1);\r\n}\r\n\r\n.absol-tabbar:hover .absol-scrollbar-container,\r\n.absol-tabbar:active .absol-scrollbar-container {\r\n    opacity: 1;\r\n}\r\n\r\n.absol-tabbar .absol-scrollbar-button {\r\n    background-color: rgba(33, 33, 40, 0.1);\r\n}\r\n\r\n.absol-tabbar .absol-scrollbar-button:hover {\r\n    background-color: rgba(33, 33, 40, 0.3);\r\n}\r\n\r\n\r\n.absol-tabbar .absol-scrollbar-button:active,\r\n.absol-tabbar .absol-hscrollbar.absol-active .absol-scrollbar-button {\r\n    background-color: rgba(47, 47, 55, 0.4);\r\n\r\n}\r\n\r\n\r\n.absol-tabbar-button {\r\n    padding-left: 1em;\r\n    padding-right: 1em;\r\n    background-color: rgb(45, 45, 45);\r\n    color: rgb(200, 200, 200);\r\n    margin-right: 1px;\r\n    border: none;\r\n    outline: none;\r\n    font-size: 1em;\r\n}\r\n\r\n.absol-tabbar .absol-tabbar-button-active {\r\n    background-color: rgb(30, 30, 30);\r\n    color: rgb(250, 250, 252);\r\n}\r\n\r\n.absol-tabbar-button-text,\r\n.absol-tabbar-button-close {\r\n    display: inline;\r\n    vertical-align: middle;\r\n}\r\n\r\n.absol-tabbar-button .absol-tabbar-button-close {\r\n    visibility: hidden;\r\n    color: rgb(190, 190, 190);\r\n    font-size: 1em\r\n}\r\n\r\n.absol-tabbar-button-icon-container {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    margin-left: 0.5em;\r\n}\r\n\r\n.absol-tabbar-button-icon-container > span {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n.absol-tabbar-button:hover .absol-tabbar-button-close,\r\n.absol-tabbar-button-active .absol-tabbar-button-close {\r\n    visibility: visible;\r\n    color: red;\r\n}\r\n\r\n.absol-tabbar-button-active .absol-tabbar-button-modified-flag {\r\n    color: lightblue;\r\n}\r\n\r\n.absol-tabbar-button-modified-flag {\r\n    color: mediumaquamarine;\r\n}\r\n\r\n.absol-tabbar-button:not(.absol-tabbar-button-modified) .absol-tabbar-button-modified-flag,\r\n.absol-tabbar-button.absol-tabbar-button-modified:not(.active) .absol-tabbar-button-icon-container:hover .absol-tabbar-button-modified-flag,\r\n.absol-tabbar-button.absol-tabbar-button-modified .absol-tabbar-button-icon-container:not(:hover) .absol-tabbar-button-close {\r\n    display: none;\r\n}\r\n\r\n\r\n.absol-button-range {\r\n}\r\n\r\n\r\n.absol-tabview {\r\n    position: relative;\r\n}\r\n\r\n\r\n.absol-tabview-container {\r\n    position: absolute;\r\n    top: 2em;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    overflow: auto;\r\n}\r\n\r\n\r\n.absol-tabview-container.absol-tabview-container-hidden {\r\n    z-index: -9999;\r\n    visibility: hidden;\r\n    opacity: 0;\r\n\r\n}\r\n\r\n.absol-tabview-container.absol-tabview-container-hidden *,\r\n.absol-tabview-container.absol-tabview-container-hidden {\r\n    pointer-events: none;\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n}\r\n\r\n\r\n.absol-tabview-container > div,\r\n.absol-tabview-container > pre {\r\n    width: 100%;\r\n    height: 100%;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.absol-tabview-container > pre {\r\n    margin: 0;\r\n}\r\n\r\n.absol-tabview .absol-tabbar-button {\r\n    border-radius: 10px 10px 0 0;\r\n    height: 2em;\r\n    box-sizing: border-box;\r\n    border: solid 1px #ccc;\r\n    background-color: white;\r\n    color: black;\r\n    padding-left: 1em;\r\n    padding-right: 0.357em;\r\n    margin-right: 0.357em;\r\n}\r\n\r\n.absol-tabview .absol-tabbar {\r\n    height: 2em;\r\n    overflow-y: hidden;\r\n    border-bottom: 1px solid #ccc;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.absol-tabview .absol-tabbar-button-active {\r\n    background-color: #5bc0de;\r\n    border-color: #46b8da;\r\n    color: white;\r\n}\r\n\r\n/* .absol-tabview .absol-tabbar-button-close {\r\n    color: rgb(170, 170, 170);\r\n    line-height: 1.5em;\r\n    margin-left: 1em;\r\n    font-size: 1.3em;\r\n} */\r\n\r\n.absol-tabview .absol-tabbar-button-close:hover {\r\n    color: red;\r\n}\r\n\r\n\r\n/************** Mini version - like window form ***********************/\r\n\r\n.absol-tabview.xp-tiny .absol-tabbar {\r\n    height: 22px;\r\n    border-bottom: none;\r\n}\r\n\r\n.absol-tabview.xp-tiny .absol-tabbar-button {\r\n    height: 20px;\r\n    padding-left: 5px;\r\n    padding-right: 5px;\r\n    border-radius: 0;\r\n    margin: 0;\r\n    vertical-align: bottom;\r\n    margin-top: 2px;\r\n    background-color: rgb(242, 242, 242);\r\n    color: black;\r\n    position: relative;\r\n}\r\n\r\n.absol-tabview.xp-tiny::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 18px;\r\n    z-index: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    border-bottom: solid 1px #ccc;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.absol-tabview.xp-tiny .absol-tabbar-button.absol-tabbar-button-active {\r\n    height: 22px;\r\n    margin-top: 0;\r\n    background-color: white;\r\n    border-top-color: #ccc;\r\n    border-left-color: #ccc;\r\n    border-right-color: #ccc;\r\n    border-bottom-color: white;\r\n}\r\n\r\n\r\n.absol-hscroller.absol-tabbar.disabled .absol-scrollbar-container {\r\n    visibility: hidden;\r\n}\r\n\r\n.absol-tabview.absol-tabview.xp-tiny .absol-tabbar-button-close {\r\n    line-height: 18px;\r\n}\r\n\r\n.absol-tabview.xp-tiny .absol-tabbar-button-close.mdi.mdi-close {\r\n    display: none;\r\n}\r\n\r\n.absol-tabview.xp-tiny .absol-tabview-container {\r\n    top: 22px;\r\n}\r\n\r\n.absol-tabview.xp-tiny .absol-tab-absol {\r\n    border-left: solid 1px #ccc;\r\n    border-right: solid 1px #ccc;\r\n    border-bottom: solid 1px #ccc;\r\n    box-sizing: border-box;\r\n}\r\n\r\n\r\n.absol-tabview.as-without-close-button > .absol-tabbar .absol-tabbar-button .absol-tabbar-button-icon-container {\r\n    display: none;\r\n}\r\n\r\n.absol-tabview.as-without-close-button > .absol-tabbar .absol-tabbar-button {\r\n    padding-right: 1em;\r\n}\r\n\r\n/************************ Like Metro theme *********************/\r\n\r\n.absol-tabview.metro-flat > .absol-tabbar .absol-tabbar-button {\r\n    border-radius: 0;\r\n    margin-right: 0;\r\n    margin-left: 0;\r\n    border-left: none;\r\n    border-top: none;\r\n    border-bottom: none;\r\n    border-right: solid 1px rgba(169, 169, 169, 0.3);\r\n    font-size: 1em;\r\n}\r\n\r\n.absol-tabview.metro-flat > .absol-tabbar {\r\n    box-shadow: 0px -1px 0px 0px #ccc;\r\n}\r\n", ""]);



/***/ }),
/* 102 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(103);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 103 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-single-page {\r\n    position: relative;\r\n}\r\n\r\n\r\n.absol-single-page-header {\r\n    box-sizing: border-box;\r\n    z-index: 2;\r\n    display: block;\r\n}\r\n\r\n.absol-single-page-footer {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    box-sizing: border-box;\r\n}\r\n\r\n\r\n.absol-single-page-scroller-viewport {\r\n    min-height: 100%;\r\n    display: block;\r\n    position: relative;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.absol-single-page-scroller {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    overflow-y: auto;\r\n}\r\n\r\n.absol-single-page.as-viewport-full > .absol-single-page-scroller > .absol-single-page-scroller-viewport {\r\n    height: 100%;\r\n    width: 100%;\r\n}", ""]);



/***/ }),
/* 104 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(105);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 105 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-hexa-section-label {\r\n    position: relative;\r\n    -webkit-print-color-adjust: exact;\r\n    /*friendly print*/\r\n}\r\n\r\n.as-hexa-section-label-text {\r\n    position: relative;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    font-size: 1em;\r\n    padding-right: 2.5em;\r\n    color: white;\r\n    font-weight: bold;\r\n    z-index: 2;\r\n}\r\n\r\n@media print {\r\n    .as-hexa-section-label-text {\r\n        color: white !important;\r\n    }\r\n\r\n    .as-hexa-section-label-index {\r\n        color: rgb(237, 147, 54) !important;\r\n    }\r\n}\r\n\r\n\r\n.as-hexa-section-label-index {\r\n    position: relative;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    text-align: center;\r\n    color: rgb(237, 147, 54);\r\n    font-weight: 900;\r\n    z-index: 2;\r\n}\r\n\r\n.as-hexa-section-label-background {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    z-index: 1;\r\n}\r\n\r\n.as-hexa-section-label-background>svg {\r\n    display: block;\r\n}\r\n\r\n.as-hexa-section-label-index-box {\r\n    stroke: rgb(251, 186, 130);\r\n    fill: white;\r\n    stroke-width: 2.5;\r\n}\r\n\r\n.as-hexa-section-label-text-box {\r\n    fill: rgb(237, 147, 54);\r\n    stroke: none;\r\n}", ""]);



/***/ }),
/* 106 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(107);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 107 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "/*margin for border size*/\r\n.as-vruler {\r\n    position: relative;\r\n    width: 1.5em;\r\n    border: solid 1px black;\r\n    overflow: hidden;\r\n    font-family: courier, \"courier new\", monospace;\r\n    box-sizing: border-box;\r\n}\r\n\r\n\r\n.as-vruler-line {\r\n    position: absolute;\r\n    right: 0;\r\n    width: 25%;\r\n    border-top: solid 1px rgb(17, 48, 43);\r\n    box-sizing: border-box;\r\n\r\n}\r\n\r\n.as-vruler-line.major {\r\n    width: 50%;\r\n    border-top: solid 1px rgb(5, 20, 18);\r\n}\r\n\r\n.as-vruler-major-number {\r\n    position: absolute;\r\n    text-align: center;\r\n    width:  5em;\r\n    pointer-events: none;\r\n    font-size: 0.7em;\r\n    right: calc(52% - 2em);\r\n    height: 1em;\r\n    transform-origin: center;\r\n    \r\n    -webkit-transform:rotate(90deg);\r\n    -moz-transform:rotate(90deg);\r\n    -o-transform: rotate(90deg);\r\n    -ms-transform:rotate(90deg);\r\n    transform: rotate(-90deg);\r\n}", ""]);



/***/ }),
/* 108 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(109);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 109 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "/*margin for border size*/\r\n.as-hruler {\r\n    position: relative;\r\n    height: 1.5em;\r\n    border: solid 1px black;\r\n    overflow: hidden;\r\n    font-family: courier, \"courier new\", monospace;\r\n    box-sizing: border-box;\r\n}\r\n\r\n\r\n.as-hruler-line {\r\n    position: absolute;\r\n    bottom: 0;\r\n    height: 25%;\r\n    border-left: solid 1px rgb(17, 48, 43);\r\n    box-sizing: border-box;\r\n}\r\n\r\n.as-hruler-line.major {\r\n    height: 50%;\r\n    border-left: solid 1px rgb(5, 20, 18);\r\n}\r\n\r\n.as-hruler-major-number{\r\n    position: absolute;\r\n    text-align: center;\r\n    width: 5em;\r\n    pointer-events: none;\r\n    font-size: 0.7em;\r\n    bottom: 50%;\r\n} ", ""]);



/***/ }),
/* 110 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(111);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 111 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-linear-color-bar {\r\n    position: relative;\r\n    height: 2em;\r\n}\r\n\r\n.as-linear-color-background {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    display: block;\r\n}\r\n\r\n.as-linear-color-value-text {\r\n    position: absolute;\r\n    top: 0;\r\n    font-weight: 900;\r\n    white-space: nowrap;\r\n}\r\n\r\n.as-linear-color-min-value-text,\r\n.as-linear-color-max-value-text {\r\n    position: absolute;\r\n    bottom: 0;\r\n    white-space: nowrap;\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n\r\n.as-linear-color-min-value-text {\r\n    left: 0;\r\n}\r\n\r\n.as-linear-color-rect {\r\n    stroke: none;\r\n}\r\n\r\n\r\n.as-linear-color-value-arrow {\r\n    fill: rgb(244, 124, 32);\r\n    stroke: rgb(244, 124, 32);\r\n}\r\n\r\n.as-linear-color-split-line {\r\n    stroke: white;\r\n}", ""]);



/***/ }),
/* 112 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(113);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 113 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".vmedia-no-show {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 1;\r\n    height: 1;\r\n    z-index: -100000;\r\n    opacity: 0;\r\n}\r\n\r\n.vmedia-no-select,\r\n.vmedia-no-select * {\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\ncoccocgrammar {\r\n    display: none;\r\n}\r\n\r\n.vmedia-media-input {\r\n    box-sizing: border-box;\r\n    border: solid 1px rgba(0, 0, 0, 0.1)\r\n}\r\n\r\n\r\n.vmedia-media-input-text-container {\r\n    position: relative;\r\n    min-height: 2.5em;\r\n}\r\n\r\n.vmedia-media-input-text-container-editor:focus {\r\n    outline: none;\r\n}\r\n\r\n.vmedia-media-input-text-container-editor img {\r\n    display: none;\r\n}\r\n\r\n.vmedia-media-input-text-container-editor * {\r\n    font-family: inherit;\r\n    font-size: inherit;\r\n    font-weight: inherit;\r\n    text-decoration: inherit;\r\n    color: inherit;\r\n    background: none;\r\n    padding: 0;\r\n    margin: 0;\r\n    white-space: pre;\r\n}\r\n\r\n.vmedia-media-input-text-container-editor {\r\n    min-height: 2em;\r\n    padding-left: 0.5em;\r\n    padding-top: 0.25em;\r\n    padding-bottom: 0.25em;\r\n    margin-right: 0.5em;\r\n    box-sizing: border-box;\r\n    max-height: 6.66666666em;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n}\r\n\r\n.vmedia-media-input-imagepreview-container {\r\n    white-space: normal;\r\n}\r\n\r\n.vmedia-media-input:not(.dragover) .vmedia-media-input-dropover {\r\n    display: none;\r\n}\r\n\r\n.vmedia-media-input-dropover {\r\n    display: inline-block;\r\n    width: 7em;\r\n    height: 7em;\r\n}\r\n\r\n.vmedia-media-input-dropover>svg {\r\n    width: 7em;\r\n    height: 7em;\r\n}\r\n\r\n.vmedia-media-input-imagepreview-container .vmedia-media-input-filepreview,\r\n.vmedia-media-input-imagepreview-container .vmedia-media-input-imagepreview {\r\n    margin: 0.3em;\r\n    vertical-align: middle;\r\n}\r\n\r\n.vmedia-media-input-filepreview,\r\n.vmedia-media-input-imagepreview {\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n\r\n.vmedia-media-input-imagepreview img {\r\n    height: 2.5em;\r\n    width: auto;\r\n}\r\n\r\n.vmedia-media-input-filepreview svg.attachment {\r\n    height: 2em;\r\n    width: 2em;\r\n}\r\n\r\n.vmedia-media-input-filepreview svg.times,\r\n.vmedia-media-input-imagepreview svg.times {\r\n    position: absolute;\r\n    top: 0.1em;\r\n    right: 0.1em;\r\n    width: 1em;\r\n    height: 1em;\r\n    fill: rgba(69, 69, 69, 0.6);\r\n}\r\n\r\n.vmedia-media-input-filepreview svg.times:hover,\r\n.vmedia-media-input-imagepreview svg.times:hover {\r\n    fill: rgba(144, 144, 144, 0.6);\r\n}\r\n\r\n.vmedia-media-input-filepreview svg.times:active,\r\n.vmedia-media-input-imagepreview svg.times:active {\r\n    fill: rgba(220, 220, 240, 0.6);\r\n}\r\n\r\n.vmedia-media-input-plug-button-container {\r\n    position: absolute;\r\n    left: 0.25em;\r\n    bottom: 0.25em;\r\n    top: 0.25em;\r\n}\r\n\r\n.vmedia-media-input-plug-button-container svg {\r\n    height: 1.5em;\r\n    width: 1.5em;\r\n    vertical-align: middle;\r\n    transition: transform .22s cubic-bezier(.5, 0, .4, 1);\r\n}\r\n\r\n\r\n.vmedia-media-input-plug-button-container svg path {\r\n    fill: rgba(66, 133, 244, 0.7);\r\n    transition: fill .22s cubic-bezier(.5, 0, .4, 1);\r\n}\r\n\r\n.vmedia-media-input.show-plugin .vmedia-media-input-plug-button svg path {\r\n    fill: rgba(134, 142, 153, 0.75);\r\n}\r\n\r\n\r\n\r\n.vmedia-media-input-plug-button {\r\n    padding: 0;\r\n    height: 100%;\r\n    width: 2em;\r\n    border: none;\r\n    background: transparent;\r\n    outline: none;\r\n\r\n}\r\n\r\n\r\n.vmedia-media-input-plugin-content-container {\r\n    position: absolute;\r\n    bottom: calc(1px + 100%);\r\n    opacity: 1;\r\n    transition: opacity .22s cubic-bezier(.5, 0, .4, 1);\r\n    background-color: white;\r\n    box-sizing: border-box;\r\n    border: solid 1px rgba(0, 0, 0, 0.1);\r\n    z-index: 20;\r\n    background: white;\r\n}\r\n\r\n.vmedia-media-input-plugin-content-container:empty{\r\n    display: none;\r\n}\r\n\r\n\r\n\r\n.vmedia-media-input-tool-container {\r\n    position: relative;\r\n    display: block;\r\n    height: 1.5em;\r\n    /* background: red;     */\r\n}\r\n\r\n\r\n\r\n.vmedia-media-input-tool-container-left {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n}\r\n\r\n.vmedia-media-input-tool-container-right {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n}\r\n\r\n.vmedia-media-input-tool-container button {\r\n    width: 2.5em;\r\n    height: 100%;\r\n    font-size: 1em;\r\n    margin-left: 0.1em;\r\n    margin-right: 0.1em;\r\n    border: none;\r\n    background-color: transparent;\r\n    border-radius: 0.4em;\r\n}\r\n\r\n.vmedia-media-input-text-container-editor {\r\n    scrollbar-width: thin;\r\n}\r\n\r\n.vmedia-media-input-text-container-editor::-webkit-scrollbar {\r\n    width: 7px;\r\n}\r\n\r\n\r\n\r\n.vmedia-media-input-text-container-editor::-webkit-scrollbar-track {\r\n    background: rgb(240, 240, 240);\r\n}\r\n\r\n.vmedia-media-input-text-container-editor::-webkit-scrollbar-thumb {\r\n    background: rgb(205, 205, 205);\r\n}\r\n\r\n.vmedia-media-input-tool-container button svg {\r\n    height: 1.25em;\r\n    width: 1.25em;\r\n}\r\n\r\n.vmedia-media-input-tool-container button:hover {\r\n    background-color: rgba(91, 192, 222, 0.1);\r\n}\r\n\r\n.vmedia-media-input-tool-container button:active {\r\n    background-color: rgba(91, 192, 222, 0.4);\r\n}\r\n\r\n.vmedia-media-input-tool-container button svg.send {\r\n    fill: rgba(66, 133, 244, 0.7);\r\n}\r\n\r\n.vmedia-media-input-tool-container button svg.add-file,\r\n.vmedia-media-input-tool-container button svg.add-image {\r\n    fill: rgba(66, 66, 66, 0.5);\r\n}\r\n\r\n.vmedia-media-input-tool-container button .mdi{\r\n    font-size:1.2em; \r\n}\r\n\r\n.vmedia-media-input-tool-container button:focus {\r\n    outline: none;\r\n}\r\n\r\n.vmedia-media-input-tool-container button{\r\n    vertical-align: middle;\r\n}\r\n\r\n.vmedia-media-input-plugin-content-container.blur{\r\n    visibility: hidden;\r\n}", ""]);



/***/ }),
/* 114 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(115);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 115 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-message-input {\r\n    position: relative;\r\n    box-sizing: border-box;\r\n    padding-top: 5px;\r\n    padding-bottom: 5px;\r\n    padding-left: 5px;\r\n    overflow: visible;\r\n    --plugin-buttons-width: 0px;\r\n}\r\n\r\n\r\n.as-message-input-plugin-btn {\r\n    font-size: inherit;\r\n    width: 40px;\r\n    height: 40px;\r\n    padding: 0;\r\n    border: none;\r\n    color: rgb(122, 122, 122);\r\n    background-color: rgb(241, 241, 241);\r\n    outline: none;\r\n    border-radius: 50%;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n.as-message-input-plugin-btn:active {\r\n    background-color: rgb(212, 212, 212);\r\n}\r\n\r\n.as-message-input-plugin-btn:hover {\r\n    background-color: rgb(235, 235, 235);\r\n\r\n}\r\n\r\n\r\n.as-message-input-plugin-btn span {\r\n    font-size: 24px;\r\n}\r\n\r\n\r\n.as-message-input-right {\r\n    position: absolute;\r\n    bottom: 10px;\r\n    right: 5px;\r\n    z-index: 0;\r\n    white-space: nowrap;\r\n}\r\n\r\n.as-message-input-right .as-message-input-plugin-btn {\r\n    margin-left: 10px;\r\n}\r\n\r\n\r\n.as-message-input-emoji-btn-ctn {\r\n    position: absolute;\r\n    left: 5px;\r\n    bottom: 5px;\r\n}\r\n\r\n\r\n.as-message-input-pre-ctn {\r\n    position: relative;\r\n    width: calc(100% - 55px - var(--plugin-buttons-width));\r\n    border-radius: 25px;\r\n    box-sizing: border-box;\r\n    transition: width 0.1s;\r\n    padding: 10px 20px 10px 50px;\r\n    background-color: rgb(241, 241, 244);\r\n}\r\n\r\n\r\n.as-message-input-pre-ctn::after {\r\n    display: inline-block;\r\n    content: \"\";\r\n    height: 30px;\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n.as-message-input.as-has-text .as-message-input-pre-ctn,\r\n.as-message-input.as-has-attachment .as-message-input-pre-ctn\r\n{\r\n    width: calc(100% - 55px);\r\n}\r\n\r\n\r\n.as-message-input-pre {\r\n    display: inline-block;\r\n    width: calc(100% - 2px);\r\n    max-height: 6.5em;\r\n    box-sizing: border-box;\r\n    font-family: inherit;\r\n    font-size: inherit;\r\n    outline: none;\r\n    vertical-align: middle;\r\n    margin: 0;\r\n    white-space: pre-wrap;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    line-height: 1.5;\r\n    border: none;\r\n}\r\n\r\n.as-message-input-pre:before {\r\n    content: \"\";\r\n    line-height: 30px;\r\n    display: inline;\r\n    vertical-align: middle;\r\n}\r\n\r\n.as-message-input-camera-caller,\r\n.as-message-input-camera-microphone {\r\n    display: none;\r\n}\r\n\r\n.as-message-input-emoji-picker-ctn {\r\n    position: absolute;\r\n    bottom: 100%;\r\n    left: 0;\r\n    right: 0;\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    background-color: white;\r\n}\r\n\r\n\r\n.as-message-input-plugin-btn.as-message-input-plugin-send {\r\n    color: white;\r\n    background: linear-gradient(135deg, rgb(0, 120, 212), rgb(0, 188, 242));\r\n    transform: scale(1);\r\n    transition: scale 0.1s;\r\n}\r\n\r\n.as-message-input-plugin-btn.as-message-input-plugin-send span {\r\n    font-size: 20px;\r\n}\r\n\r\n.as-message-input-plugin-btn.as-message-input-plugin-send:hover {\r\n    background: linear-gradient(135deg, rgb(0, 140, 212), rgb(0, 208, 252));\r\n}\r\n\r\n.as-message-input-plugin-btn.as-message-input-plugin-send:active {\r\n    transform: scale(0.9);\r\n}\r\n\r\n\r\n.as-message-input:not(.as-text-changed):not(.as-has-attachment) .as-message-input-plugin-send,\r\n.as-message-input:not(.as-has-text):not(.as-has-attachment) .as-message-input-plugin-send,\r\n.as-message-input:not(.as-mode-edit) .as-message-input-plugin-cancel,\r\n.as-message-input.as-mode-edit.as-text-changed.as-has-text .as-message-input-plugin-cancel,\r\n.as-message-input:not(.as-has-attachment):not(.as-drag-hover) .as-message-input-attachment-ctn,\r\n.as-message-input.as-auto-send .as-message-input-attachment-ctn,\r\n.as-message-input.as-mode-edit .as-message-input-plugin-file,\r\n.as-message-input.as-has-text .as-message-input-plugin-file {\r\n    display: none;\r\n}\r\n\r\n.as-message-input-attachment-ctn {\r\n    border-bottom: 1px solid #ddd;\r\n    max-height: 170px;\r\n    overflow-y: auto;\r\n}\r\n\r\n\r\n.as-message-input-attach-preview {\r\n    display: inline-block;\r\n    position: relative;\r\n    width: 135px;\r\n    height: 135px;\r\n    vertical-align: middle;\r\n    margin-right: 5px;\r\n    margin-bottom: 5px;\r\n    border-radius: 10px;\r\n    background-color: white;\r\n    overflow: hidden;\r\n}\r\n\r\n.as-message-input-attach-preview-image {\r\n    min-width: 20px;\r\n    image-orientation: from-image;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-size: cover;\r\n    background-position: center center;\r\n    background-repeat: no-repeat;\r\n}\r\n\r\n\r\n.as-message-input-attach-preview-file {\r\n    max-width: 50%;\r\n    max-height: 50%;\r\n    margin-left: 10px;\r\n    margin-top: 10px;\r\n}\r\n\r\n.as-message-input-attach-preview-close-btn {\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 10px;\r\n    width: 18px;\r\n    height: 18px;\r\n    border-radius: 50%;\r\n    text-align: center;\r\n    border: 1px solid white;\r\n    outline: none;\r\n    padding: 0;\r\n    color: white;\r\n    -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.64);\r\n    -moz-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.64);\r\n    box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.64);\r\n    background-color: rgba(100, 100, 100, 0.5);\r\n}\r\n\r\n.as-message-input-attach-preview-close-btn span {\r\n    font-size: 14px;\r\n}\r\n\r\n.as-message-input-attach-preview-close-btn:hover {\r\n    background-color: rgba(255, 255, 255, 0.5);\r\n    color: rgb(200, 200, 200);\r\n}\r\n\r\n.as-message-input-attach-preview-close-btn:active {\r\n    background-color: rgba(255, 255, 255, 0.7);\r\n    color: rgb(255, 255, 255);\r\n}\r\n\r\n\r\n.as-message-input:not(.as-drag-hover) .as-message-input-attachment-add-btn-drop,\r\n.as-message-input.as-drag-hover .as-message-input-attachment-add-btn-plus {\r\n    display: none;\r\n}\r\n\r\n.as-message-input-attach-preview-name {\r\n    position: absolute;\r\n    left: 10px;\r\n    bottom: 10px;\r\n    right: 10px;\r\n    text-shadow: 0px 1px 3px white;\r\n    color: black;\r\n    font-size: 14px;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.as-message-input-attachment-add-btn {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 135px;\r\n    width: 60px;\r\n    border: none;\r\n    border-radius: 10px;\r\n    padding: 0;\r\n    background-color: rgb(196, 196, 200);\r\n    color: white;\r\n    font-size: 50px;\r\n    outline: none;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.as-message-input-attachment-add-btn:hover {\r\n    background-color: rgb(169, 169, 169)\r\n\r\n}\r\n\r\n.as-message-input-attachment-add-btn:active {\r\n    background-color: rgb(138, 141, 145)\r\n}\r\n\r\n.as-message-input-external-tools-popup {\r\n    position: absolute;\r\n    left: 0;\r\n    max-width: 100%;\r\n    bottom: 100%;\r\n    background-color: white;\r\n}\r\n", ""]);



/***/ }),
/* 116 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(117);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 117 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-number-input {\r\n    text-align: right;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    position: relative;\r\n    min-width: calc(1em + 2px);\r\n    height: calc(2em + 2px);\r\n    border: solid 1px #d6d6d6;\r\n    font-size: 14px;\r\n    box-sizing: border-box;\r\n    width: 4em;\r\n}\r\n\r\n.absol-number-input-button-up-container {\r\n    top: 0;\r\n}\r\n\r\n.absol-number-input-button-down-container {\r\n    bottom: 0;\r\n}\r\n\r\n.absol-number-input-button-up-container,\r\n.absol-number-input-button-down-container {\r\n    right: 0;\r\n    position: absolute;\r\n    height: 1em;\r\n    width: 1em;\r\n    max-height: 50%;\r\n}\r\n\r\n.absol-number-input-button-up-container>button,\r\n.absol-number-input-button-down-container>button {\r\n    width: 100%;\r\n    height: 100%;\r\n    line-height: 1;\r\n    padding: 0;\r\n    border: none;\r\n    box-sizing: border-box;\r\n    outline: none;\r\n    color: rgb(101, 101, 101);\r\n    background-color: transparent;\r\n    background-color: rgb(101, 101, 101, 0.05);\r\n}\r\n\r\n.absol-number-input-button-up-container>button:active,\r\n.absol-number-input-button-down-container>button:active{\r\n    color: black;\r\n    background-color: rgb(101, 101, 101, 0.3);\r\n}\r\n\r\n.absol-number-input-text-container {\r\n    left: 0em;\r\n    right: 1.2em;\r\n    top: 0;\r\n    bottom: 0;\r\n    position: absolute;\r\n}\r\n\r\n\r\n.absol-number-input-text-container>input[type=\"text\"] {\r\n    border: none;\r\n    outline: none;\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 0;\r\n    text-align: right;\r\n    padding-left:0.2em;\r\n    padding-right: 0.2em;  \r\n    box-sizing: border-box;\r\n}\r\n\r\n.absol-number-input.absol-disabled{\r\n    pointer-events: none;\r\n}\r\n\r\n.absol-number-input.absol-disabled{\r\n    pointer-events: none;\r\n}\r\n\r\n.absol-number-input.absol-disabled .absol-number-input-button-up-container,\r\n.absol-number-input.absol-disabled .absol-number-input-button-down-container\r\n{\r\n    opacity: 0.3;\r\n}", ""]);



/***/ }),
/* 118 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(119);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 119 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-onscreen-window {\r\n    z-index: 1002;\r\n    position: fixed;\r\n    left: 10px;\r\n    top: 10px;\r\n    width: 12em;\r\n    height: 5em;\r\n    /*default size*/\r\n    /* min-width: 12em;\r\n    min-height: 1.4em; */\r\n}\r\n\r\n.absol-onscreen-window-content {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: white;\r\n    -webkit-box-shadow: 2px 2px 17px -1px rgba(0, 0, 0, 0.54);\r\n    -moz-box-shadow: 2px 2px 17px -1px rgba(0, 0, 0, 0.54);\r\n    box-shadow: 2px 2px 17px -1px rgba(0, 0, 0, 0.54);\r\n}\r\n\r\n.absol-onscreen-window-head-bar {\r\n    height: 1.4em;\r\n    position: relative;\r\n    background-color: rgba(169, 169, 169, 0.15);\r\n    padding: 0.2em;\r\n    box-sizing: border-box;\r\n}\r\n\r\nspan.absol-onscreen-window-head-bar-icon {\r\n    line-height: 1.2em;\r\n    font-size: 1em;\r\n    margin-right: 0.2em;\r\n}\r\n\r\nspan.absol-onscreen-window-head-bar-title {\r\n    line-height: 1.2em;\r\n    font-size: 1em;\r\n    color: rgba(33, 33, 34);\r\n}\r\n\r\n.absol-onscreen-window-head-bar-buttons {\r\n    position: absolute;\r\n    right: 0.1em;\r\n    top: 0.1em;\r\n    bottom: 0.1em;\r\n}\r\n\r\n.absol-onscreen-window-head-bar-buttons>button {\r\n    height: 100%;\r\n    width: 1em;\r\n    font-size: 1em;\r\n    padding: 0;\r\n    margin: 0 0 0 0.1em;\r\n    border: none;\r\n    color: rgba(169, 169, 169);\r\n    outline: none;\r\n}\r\n\r\n.absol-onscreen-window-head-bar-buttons>button:hover {\r\n    color: rgba(103, 103, 103);\r\n}\r\n\r\n.absol-onscreen-window-head-bar-buttons>button:active {\r\n    color: rgba(33, 33, 34);\r\n}\r\n\r\n.absol-onscreen-window-head-bar-buttons>button:hover>.mdi-close {\r\n    color: rgb(255, 59, 59);\r\n}\r\n\r\n.absol-onscreen-window-head-bar-buttons>button>span {\r\n    vertical-align: middle;\r\n}\r\n\r\n.absol-onscreen-window-body-container {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 1.4em;\r\n    bottom: 0;\r\n}\r\n\r\n\r\n.absol-onscreen-window-moving-modal {\r\n    position: fixed;\r\n    left: 1px;\r\n    right: 1px;\r\n    top: 1px;\r\n    bottom: 1px;\r\n    z-index: 100006;\r\n}\r\n\r\n.absol-onscreen-window-resizer {\r\n    position: absolute;\r\n}\r\n\r\n.absol-onscreen-window-resizer.absol-onscreen-window-resize-bottom {\r\n    bottom: -3px;\r\n    height: 6px;\r\n    left: 3px;\r\n    right: 3px;\r\n    z-index: 3;\r\n}\r\n\r\n.absol-onscreen-window-resizer.absol-onscreen-window-resize-top {\r\n    top: -3px;\r\n    height: 6px;\r\n    left: 3px;\r\n    right: 3px;\r\n    z-index: 3;\r\n}\r\n\r\n.absol-onscreen-window-resizer.absol-onscreen-window-resize-left {\r\n    left: -3px;\r\n    top: 3px;\r\n    bottom: 3px;\r\n    width: 6px;\r\n    cursor: ew-resize;\r\n}\r\n\r\n.absol-onscreen-window-resizer.absol-onscreen-window-resize-right {\r\n    right: -3px;\r\n    top: 3px;\r\n    bottom: 3px;\r\n    width: 6px;\r\n    cursor: ew-resize;\r\n}\r\n\r\n.absol-onscreen-window-resizer.absol-onscreen-window-resize-bottom-right {\r\n    width: 6px;\r\n    height: 6px;\r\n    right: -3px;\r\n    bottom: -3px;\r\n}\r\n\r\n.absol-onscreen-window-resizer.absol-onscreen-window-resize-bottom-left {\r\n    width: 6px;\r\n    height: 6px;\r\n    left: -3px;\r\n    bottom: -3px;\r\n}\r\n\r\n.absol-onscreen-window-resizer.absol-onscreen-window-resize-top-left {\r\n    width: 6px;\r\n    height: 6px;\r\n    left: -3px;\r\n    top: -3px;\r\n}\r\n\r\n.absol-onscreen-window-resizer.absol-onscreen-window-resize-top-right {\r\n    width: 6px;\r\n    height: 6px;\r\n    right: -3px;\r\n    top: -3px;\r\n}\r\n\r\n\r\n.absol-onscreen-window-resize-top,\r\n.absol-onscreen-window-resize-bottom {\r\n    cursor: ns-resize;\r\n\r\n}\r\n\r\n.absol-onscreen-window-resize-left,\r\n.absol-onscreen-window-resize-right {\r\n    cursor: ew-resize;\r\n\r\n}\r\n\r\n\r\n.absol-onscreen-window-resize-bottom-right {\r\n    cursor: se-resize;\r\n}\r\n\r\n.absol-onscreen-window-resize-bottom-left {\r\n    cursor: sw-resize;\r\n}\r\n\r\n.absol-onscreen-window-resize-top-left {\r\n    cursor: nw-resize;\r\n}\r\n\r\n.absol-onscreen-window-resize-top-right {\r\n    cursor: ne-resize;\r\n}", ""]);



/***/ }),
/* 120 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(121);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 121 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-page-selector{\r\n    white-space: normal;\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n}\r\n\r\n.absol-page-selector > ul{\r\n    margin-bottom: 0px;\r\n    margin-top: 0;\r\n}\r\n\r\n.absol-page-number-buttons{\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n.absol-page-number-input > label{\r\n    font-weight: 100;\r\n}\r\n\r\n.absol-page-number-buttons > li.page-previous, \r\n.absol-page-number-buttons > li.page-next,\r\n.absol-page-number-buttons > li.page-first,\r\n.absol-page-number-buttons > li.page-last\r\n{\r\n    display: inline-block;\r\n    height: 30px;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    text-align: center;\r\n    transition: all .3s linear;\r\n    background-color: transparent;\r\n    cursor: pointer;\r\n}\r\n\r\n.absol-page-number-buttons > li.absol-page-number{\r\n    display: inline-block;\r\n    height: 30px;\r\n    width: 40px;\r\n    text-align: center;\r\n    transition: all .3s linear;\r\n    background-color: transparent;\r\n    cursor: pointer;\r\n}\r\n\r\n\r\n.absol-page-number-buttons > li.absol-page-number.active{\r\n    box-shadow:  0 2px 5px 0 rgba(0,0,0,.16), 0 2px 10px 0 rgba(0,0,0,.12);\r\n    background-color: #4285f4;\r\n    border-radius:2px; \r\n    \r\n}\r\n\r\n.absol-page-number-buttons > li.absol-page-number.active > a{\r\n\tcolor: white;\r\n    \r\n}\r\n\r\n.absol-page-number-buttons > li> a{\r\n    line-height: 30px;\r\n    text-decoration:none;\r\n    outline: none;\r\n}\r\n\r\n.absol-page-number-buttons > li:not(.active):hover{\r\n    background-color: #eee;\r\n\r\n}\r\n\r\n.absol-page-selector .absol-page-number-input{\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n.absol-page-selector .absol-page-number-input  input[type=\"text\"]{\r\n    width: 3em;\r\n    margin-left: 5px; \r\n    margin-right: 10px;\r\n    text-align: center;\r\n    height: 26px;\r\n    border: none;\r\n    border: solid 1px #ccc; \r\n    border-radius: 2px;\r\n\r\n}\r\n\r\n.absol-page-link {\r\n    color: #147af6;\r\n    cursor: pointer;\r\n    text-decoration: underline;\r\n}\r\n\r\n.absol-page-number {\r\n    color: #147af6;\r\n    cursor: pointer;\r\n}", ""]);



/***/ }),
/* 122 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(123);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 123 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-preinput {\r\n    margin: 0;\r\n    padding: 0;\r\n    white-space: pre-wrap;\r\n    -moz-user-modify: read-write;\r\n    -webkit-user-modify: read-write;\r\n}\r\n\r\n\r\n.as-preinput img {\r\n    display: none;\r\n}", ""]);



/***/ }),
/* 124 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(125);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 125 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-progress-bar {\r\n    height: 1em;\r\n    background-color: #e9ecef;\r\n    border-radius: .25em;\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n}\r\n\r\n\r\n.as-progress-bar-value {\r\n    height: 100%;\r\n    width: 0;\r\n    color: #fff;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    background-color: #007bff;\r\n    transition: width .6s ease;\r\n}\r\n\r\n.as-progress-bar.as-variant-success .as-progress-bar-value {\r\n    background-color: #28a745;\r\n}\r\n\r\n.as-progress-bar.as-variant-info .as-progress-bar-value {\r\n    background-color: #17a2b8;\r\n}\r\n\r\n.as-progress-bar.as-variant-warning .as-progress-bar-value {\r\n    background-color: #ffc107;\r\n}\r\n\r\n.as-progress-bar.as-variant-danger .as-progress-bar-value {\r\n    background-color: #dc3545;\r\n}\r\n\r\n\r\n.as-progress-bar.as-striped .as-progress-bar-value,\r\n.as-progress-bar.as-animated .as-progress-bar-value {\r\n    background-image: linear-gradient(45deg, hsla(0, 0%, 100%, .15) 25%, transparent 0, transparent 50%, hsla(0, 0%, 100%, .15) 0, hsla(0, 0%, 100%, .15) 75%, transparent 0, transparent);\r\n    background-size: 1.33333em 1.33333em;\r\n}\r\n\r\n@keyframes as-progress-bar-stripes {\r\n    0% {\r\n        background-position: 1.33333em 0\r\n    }\r\n\r\n    to {\r\n        background-position: 0 0\r\n    }\r\n}\r\n\r\n.as-progress-bar.as-animated .as-progress-bar-value {\r\n    animation: as-progress-bar-stripes 1s linear infinite;\r\n}", ""]);



/***/ }),
/* 126 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(127);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 127 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-quick-list-button {\r\n    box-sizing: border-box;\r\n    height: calc(2em + 2px);\r\n    font-size: 14px;\r\n}\r\n\r\n.as-quick-list-button .as-flexicon-button-text-container {\r\n    border-right: solid 1px #bfbfbf;\r\n}\r\n\r\n\r\n.as-quick-list-button-follower .absol-selectlist {\r\n    max-height: calc(100vh - 20px);\r\n    overflow-y: auto;\r\n    border: solid 1px rgb(100, 100, 255);\r\n    box-sizing: border-box;\r\n    background-color: white;\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    -webkit-box-shadow: 2px 2px 6px 0px rgba(0, 0, 90, 0.55);\r\n    -moz-box-shadow: 2px 2px 6px 0px rgba(0, 0, 90, 0.55);\r\n    box-shadow: 2px 2px 6px 0px rgba(0, 0, 90, 0.55);\r\n}", ""]);



/***/ }),
/* 128 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-selectlist {\r\n    font-family: \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n}\r\n\r\n.absol-selectlist * {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.absol-selectlist .absol-selectlist-item:hover {\r\n    background-color: #efefef;\r\n}\r\n\r\n.absol-selectlist .absol-selectlist-item {\r\n    height: 20px;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n}\r\n\r\n.absol-selectlist-item.as-selected {\r\n    background-color: #dfdfdf;\r\n}\r\n\r\n\r\n.absol-selectlist:not(.as-searching)>.absol-selectlist-item.as-last-in-group:not(:last-child) {\r\n    border-bottom: 1px solid #dddddd;\r\n}\r\n\r\n.absol-selectlist-item>span {\r\n    line-height: 20px;\r\n    white-space: pre;\r\n    padding-left: 7px;\r\n    padding-right: 7px;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.absol-selectlist-item {\r\n    position: relative;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.absol-selectlist-item-desc-container {\r\n    position: absolute;\r\n    right: 0.3em;\r\n    top: 0;\r\n    bottom: 0;\r\n}\r\n\r\n.absol-selectlist-item-desc {\r\n    font-style: italic;\r\n    line-height: 20px;\r\n    white-space: nowrap;\r\n    color: rgb(37, 37, 37);\r\n}\r\n\r\n.absol-selectlist-item-desc:empty {\r\n    display: none;\r\n}\r\n\r\n\r\n", ""]);



/***/ }),
/* 129 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(130);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 130 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-quick-path {\r\n    position: relative;\r\n    box-sizing: border-box;\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    -ms-user-select: none;\r\n    -moz-user-select: none;\r\n    min-height: 1.5em;\r\n}\r\n\r\n.absol-quick-path button {\r\n    outline: none;\r\n    color: rgb(69, 69, 69);\r\n    height: 1.5em;\r\n}\r\n\r\n.absol-quick-path button:hover {\r\n    color: black;\r\n}\r\n\r\n.absol-quick-path .toggler-ico path {\r\n    fill: rgb(104, 104, 104);\r\n}\r\n\r\n.dark .absol-quick-path button {\r\n    color: rgb(200, 200, 200);\r\n}\r\n\r\n\r\n.dark .absol-quick-path button:hover {\r\n    color: white;\r\n}\r\n\r\n.dark .absol-quick-path .toggler-ico path {\r\n    fill: rgb(169, 169, 169);\r\n}\r\n\r\n\r\n\r\n.absol-quick-path-btn:focus span {\r\n    text-decoration: underline;\r\n}\r\n\r\n/* \r\n.absol-quick-path-btn .toggler-ico path {\r\n    fill: rgb(104, 104, 104);\r\n} */\r\n", ""]);



/***/ }),
/* 131 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(132);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 132 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-radio-button {\r\n    display: inline;\r\n    cursor: pointer;\r\n    white-space: nowrap;\r\n}\r\n\r\n.absol-radio-button input {\r\n    display: none;\r\n}\r\n\r\n\r\n.absol-radio-button > svg {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    width: calc(1em + 4px);\r\n    height: calc(1em + 4px);\r\n}\r\n\r\n.absol-radio-button > svg .bound {\r\n    stroke: #929292;\r\n    fill: white;\r\n}\r\n\r\n.absol-radio-button:hover > svg .bound {\r\n    fill: #d6d6d6;\r\n    stroke: black;\r\n}\r\n\r\n.absol-radio-icon .border {\r\n}\r\n\r\n.absol-radio-button .dot {\r\n    transition: opacity 0.07s;\r\n    opacity: 0;\r\n    fill: #606060;\r\n}\r\n\r\n.absol-radio-button:hover .dot {\r\n    transition: opacity 0.07s;\r\n    opacity: 0;\r\n    fill: black;\r\n}\r\n\r\n.absol-radio-button.checked .dot {\r\n    opacity: 1;\r\n    transition: opacity 0.1s;\r\n}\r\n\r\n\r\n\r\n.absol-radio-button > span:last-child {\r\n    display: none;\r\n}\r\n\r\n\r\n.absol-radio-button.disabled {\r\n    cursor: default;\r\n}\r\n\r\n.absol-radio-button.disabled:hover .dot,\r\n.absol-radio-button.disabled .dot {\r\n    fill: #929292;\r\n}\r\n\r\n.absol-radio-button.disabled .bound,\r\n.absol-radio-button.disabled:hover .bound {\r\n    stroke: #929292;\r\n    fill: #ebebe4;\r\n}\r\n\r\n\r\n.absol-radio .standar-alone {\r\n    display: inline-block;\r\n}\r\n\r\n.absol-radio > span:not(:last-child) {\r\n    padding-right: 0.3em;\r\n}\r\n\r\n.absol-radio span:last-child {\r\n    padding-left: 0.3em;\r\n}\r\n\r\ninput:checked ~ .absol-radio-icon .dot {\r\n    opacity: 1;\r\n}", ""]);



/***/ }),
/* 133 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(134);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 134 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-radio {\r\n    display: inline;\r\n    cursor: pointer;\r\n    white-space: nowrap;\r\n}\r\n\r\n.absol-radio input {\r\n    display: none;\r\n}\r\n\r\n.absol-radio > span {\r\n    white-space: pre;\r\n    cursor: inherit;\r\n    vertical-align: middle;\r\n    margin: 0;\r\n    font-size: inherit;\r\n}\r\n\r\n.absol-radio > span:empty {\r\n    display: none;\r\n}\r\n\r\n.absol-radio > svg {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    width: calc(1em + 4px);\r\n    height: calc(1em + 4px);\r\n}\r\n\r\n.absol-radio > svg .bound {\r\n    stroke: #929292;\r\n    fill: white;\r\n}\r\n\r\n.absol-radio:hover > svg .bound {\r\n    fill: #d6d6d6;\r\n    stroke: black;\r\n}\r\n\r\n/* \r\n.absol-radio>svg .bound {\r\n    fill: none;\r\n} */\r\n\r\n.absol-radio-icon .border {\r\n}\r\n\r\n.absol-radio .dot {\r\n    transition: opacity 0.07s;\r\n    opacity: 0;\r\n    fill: #606060;\r\n}\r\n\r\n.absol-radio:hover .dot {\r\n    transition: opacity 0.07s;\r\n    opacity: 0;\r\n    fill: black;\r\n}\r\n\r\n.absol-radio.checked .dot {\r\n    opacity: 1;\r\n    transition: opacity 0.1s;\r\n}\r\n\r\n.absol-radio:not(.right) > span.absol-radio-left-label {\r\n    display: none;\r\n}\r\n\r\n.absol-radio.right > span.absol-radio-right-label {\r\n    display: none;\r\n}\r\n\r\nspan.absol-radio-left-label {\r\n    padding-right: 0.3em;\r\n}\r\n\r\nspan.absol-radio-right-label {\r\n    padding-left: 0.3em;\r\n}\r\n\r\n\r\n\r\n\r\n.absol-radio.disabled {\r\n    cursor: default;\r\n}\r\n\r\n.absol-radio.disabled{\r\n    color: #777;\r\n}\r\n\r\n.absol-radio.disabled:hover .dot,\r\n.absol-radio.disabled .dot {\r\n    fill: #929292;\r\n}\r\n\r\n.absol-radio.disabled .bound,\r\n.absol-radio.disabled:hover .bound {\r\n    stroke: #929292;\r\n    fill: #ebebe4;\r\n}\r\n\r\n\r\n.absol-radio .standar-alone {\r\n    display: inline-block;\r\n}\r\n\r\ninput:checked ~ .absol-radio-icon .dot {\r\n    opacity: 1;\r\n}", ""]);



/***/ }),
/* 135 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(136);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 136 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-resize-box {\r\n    position: absolute;\r\n    /*or fixed*/\r\n    z-index: 1;\r\n    box-sizing: border-box;\r\n    opacity: 0.5;\r\n    pointer-events: none;\r\n}\r\n\r\n.as-resize-box-body {\r\n    margin: -1px;\r\n    width: calc(100% + 2px);\r\n    height: calc(100% + 2px);\r\n    position: relative;\r\n    box-sizing: border-box;\r\n    border: solid 2px rgb(32, 150, 218);\r\n}\r\n\r\n.as-resize-box.as-can-move .as-resize-box-body {\r\n    cursor: move;\r\n    pointer-events: all;\r\n}\r\n\r\n.as-resize-box.as-can-click .as-resize-box-body {\r\n    pointer-events: all;\r\n}\r\n\r\n.as-resize-box.as-can-move .as-resize-box-dot,\r\n.as-resize-box.as-can-resize .as-resize-box-dot.right,\r\n.as-resize-box.as-can-resize .as-resize-box-dot.bottom,\r\n.as-resize-box.as-can-resize .as-resize-box-dot.right-bottom {\r\n    display: unset;\r\n\r\n}\r\n\r\n.as-resize-box-dot {\r\n    position: absolute;\r\n    width: 0.6em;\r\n    height: 0.6em;\r\n    background: rgb(32, 150, 218);\r\n    display: none;\r\n    pointer-events: all;\r\n}\r\n\r\n.as-resize-box-dot.left-top {\r\n    top: calc(-0.3em - 1px);\r\n    left: calc(-0.3em - 1px);\r\n    cursor: nw-resize;\r\n}\r\n\r\n.as-resize-box-dot.left-bottom {\r\n    bottom: calc(-0.3em - 1px);\r\n    left: calc(-0.3em - 1px);\r\n    cursor: sw-resize;\r\n}\r\n\r\n.as-resize-box-dot.left {\r\n    top: calc(50% - 0.3em);\r\n    left: calc(-0.3em - 1px);\r\n    cursor: w-resize;\r\n}\r\n\r\n.as-resize-box-dot.top {\r\n    top: calc(-0.3em - 1px);\r\n    left: calc(50% - 0.3em);\r\n    cursor: n-resize;\r\n}\r\n\r\n.as-resize-box-dot.bottom {\r\n    bottom: calc(-0.3em - 1px);\r\n    left: calc(50% - 0.3em);\r\n    cursor: s-resize;\r\n}\r\n\r\n.as-resize-box-dot.right-top {\r\n    top: calc(-0.3em - 1px);\r\n    right: calc(-0.3em - 1px);\r\n    cursor: ne-resize;\r\n}\r\n\r\n.as-resize-box-dot.right-bottom {\r\n    bottom: calc(-0.3em - 1px);\r\n    right: calc(-0.3em - 1px);\r\n    cursor: se-resize;\r\n}\r\n\r\n\r\n.as-resize-box-dot.right {\r\n    top: calc(50% - 0.3em);\r\n    right: calc(-0.3em - 1px);\r\n    cursor: e-resize;\r\n}\r\n\r\n.as-resize-box-overiding .as-resize-box-dot,\r\n.as-resize-box-overiding .as-resize-box-body {\r\n    cursor: unset;\r\n}\r\n\r\n.as-resize-box-overiding.body {\r\n    cursor: move !important;\r\n}\r\n\r\n\r\n.as-resize-box-overiding.left-top {\r\n    cursor: nw-resize !important;\r\n}\r\n\r\n.as-resize-box-overiding.left-bottom {\r\n    cursor: sw-resize !important;\r\n}\r\n\r\n.as-resize-box-overiding.left {\r\n    cursor: w-resize !important;\r\n}\r\n\r\n.as-resize-box-overiding.top {\r\n    cursor: n-resize !important;\r\n}\r\n\r\n.as-resize-box-overiding.bottom {\r\n    cursor: s-resize !important;\r\n}\r\n\r\n.as-resize-box-overiding.right-top {\r\n    cursor: ne-resize !important;\r\n}\r\n\r\n.as-resize-box-overiding.right-bottom {\r\n    cursor: se-resize !important;\r\n}\r\n\r\n\r\n.as-resize-box-overiding.right {\r\n    cursor: e-resize !important;\r\n}", ""]);



/***/ }),
/* 137 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(138);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 138 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-search-text-input {\r\n    position: relative;\r\n    height: 2em;\r\n    border-radius: 0.3em;\r\n    border: solid 1px #a9a9a9;\r\n    font-size: 14px;\r\n    background-color: white;\r\n}\r\n\r\n.absol-search-text-input.focus {\r\n    outline: solid 1px rgba(30, 30, 255, 0.4);\r\n}\r\n\r\n.absol-search-text-input-container {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 2em;\r\n}\r\n\r\n.absol-search-text-button-container {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    width: 2em;\r\n    bottom: 0em;\r\n}\r\n\r\n.absol-search-text-button-container button {\r\n    width: 100%;\r\n    height: 100%;\r\n    outline: none;\r\n    border: none;\r\n    background: transparent;\r\n    padding: 0;\r\n    font-size: 1em;\r\n}\r\n\r\n.absol-search-text-button-container button>svg {\r\n    height: 1.14285714286em;\r\n    width: 1.14285714286em;\r\n    fill: rgb(132, 132, 132);\r\n}\r\n\r\n.absol-search-text-input-container input {\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 1em;\r\n    box-sizing: border-box;\r\n    outline: none;\r\n    border: none;\r\n    background-color: transparent;\r\n    padding-left: 0.6em;\r\n}\r\n\r\n.absol-search-text-input:not(.searching) svg.times{\r\n    display: none;\r\n}\r\n\r\n.absol-search-text-input.searching svg.find{\r\n    display: none;\r\n}\r\n\r\n.absol-search-text-input-container input::-webkit-search-cancel-button{\r\n    display: none;\r\n}", ""]);



/***/ }),
/* 139 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(140);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 140 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ":root {\r\n    --select-box-item-height: 20px;\r\n    --select-box-item-font-size: 14px;\r\n    --select-box-item-border-radius: 9px;\r\n    --select-box-item-close-opacity: 0;\r\n    --select-box-min-height: 30px;\r\n    --select-box-focus-item-color: rgb(208, 145, 239);\r\n}\r\n\r\n.absol-selectbox {\r\n    --list-min-width: 40px;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    position: relative;\r\n    min-height: var(--select-box-min-height);\r\n    min-width: var(--list-min-width);\r\n    border: solid 1px #d6d6d6;\r\n    border-radius: 3px;\r\n    box-sizing: border-box;\r\n    padding-right: 20px;\r\n    overflow-y: auto;\r\n    outline: none;\r\n    background-color: white;\r\n}\r\n\r\n.absol-selectbox:not(.as-disable-click-to-focus) {\r\n    cursor: copy;\r\n}\r\n\r\n.absol-selectbox.as-disabled {\r\n    pointer-events: none;\r\n    background-color: #ebebe4;\r\n}\r\n\r\n.absol-selectbox.as-disabled .absol-selectbox-item {\r\n    opacity: 0.7;\r\n}\r\n\r\n.absol-selectbox {\r\n    white-space: normal;\r\n}\r\n\r\n.absol-selectbox .absol-selectbox-item {\r\n    margin: calc((var(--select-box-min-height) - 2px - var(--select-box-item-height)) / 2) 2px;\r\n}\r\n\r\n.absol-selectbox-item {\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    display: inline-block;\r\n    position: relative;\r\n    font-size: var(--select-box-item-font-size);\r\n    height: var(--select-box-item-height);\r\n    box-sizing: border-box;\r\n    border-radius: var(--select-box-item-border-radius);\r\n    overflow: hidden;\r\n    background-color: #5bc0de;\r\n    border-color: #46b8da;\r\n    vertical-align: top;\r\n    white-space: normal;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    color: black;\r\n    cursor: pointer;\r\n}\r\n\r\n\r\n.absol-selectbox-item.as-theme-confirmed {\r\n    background-color: rgb(145, 228, 251);\r\n}\r\n\r\n.absol-selectbox-item.as-theme-declined {\r\n    background-color: rgb(255, 138, 138)\r\n}\r\n\r\n.absol-selectbox-item.as-theme-waiting {\r\n    background-color: rgb(255, 227, 174);\r\n    color: black;\r\n}\r\n\r\n.absol-selectbox-item-text {\r\n    height: var(--select-box-item-height);\r\n    padding-right: calc(var(--select-box-item-height) + 5px);\r\n    padding-left: 5px;\r\n    font-size: inherit;\r\n    white-space: nowrap;\r\n}\r\n\r\n.absol-selectbox-item-text:hover {\r\n    background-color: rgba(0, 0, 0, 0.0893617021);\r\n}\r\n\r\n.absol-selectbox-item-text span {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    white-space: nowrap;\r\n}\r\n\r\n.absol-selectbox-item-close {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: var(--select-box-item-height);\r\n    text-align: center;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    cursor: pointer;\r\n    background-color: rgba(0, 0, 0, var(--select-box-item-close-opacity));\r\n    white-space: nowrap;\r\n}\r\n\r\n.absol-selectbox-item-close::after,\r\n.absol-selectbox-item-text::before {\r\n    content: \"\";\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 100%;\r\n}\r\n\r\n.absol-selectbox-item-close span {\r\n    font-size: 1.25em;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n.absol-selectbox.as-item-focusable .absol-selectbox-item.as-active {\r\n    background-color: var(--select-box-focus-item-color);\r\n}", ""]);



/***/ }),
/* 141 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-selectmenu-anchor-container {\r\n    /* position: fixed; */\r\n\r\n    /* top: 0; */\r\n    /* left: 0; */\r\n    width: 0;\r\n    height: 0;\r\n    overflow: visible;\r\n}\r\n\r\n.absol-selectmenu-anchor {\r\n    position: relative;\r\n}\r\n\r\n.absol-selectmenu-anchor-content-container {\r\n    position: absolute;\r\n    z-index: 1002;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.absol-selectmenu-anchor-content-container .absol-bscroller {\r\n    max-height: calc(100vh - 50px);\r\n}\r\n\r\n\r\n.absol-selectmenu-anchor.absol-disabled .absol-selectmenu-anchor-content-container {\r\n    visibility: hidden;\r\n    top: -100000px;\r\n    left: -10000px;\r\n    z-index: -1000;\r\n    opacity: 0;\r\n}\r\n\r\n\r\n.absol-selectmenu-dropdown-box {\r\n    border: solid 1px rgb(100, 100, 255);\r\n    box-sizing: border-box;\r\n    background-color: white;\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    -webkit-box-shadow: 2px 2px 6px 0px rgba(0, 0, 90, 0.55);\r\n    -moz-box-shadow: 2px 2px 6px 0px rgba(0, 0, 90, 0.55);\r\n    box-shadow: 2px 2px 6px 0px rgba(0, 0, 90, 0.55);\r\n}\r\n\r\n.absol-selectmenu-dropdown-box > .as-bscroller {\r\n    overflow-y: auto;\r\n}\r\n\r\n.absol-selectmenu-dropdown-box .absol-search-text-input {\r\n    margin: 0.2em;\r\n}\r\n\r\n\r\n.absol-selectmenu.absol-hidden {\r\n    display: none !important;\r\n}\r\n\r\n.absol-selectmenu-render-space {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: -1000;\r\n    visibility: hidden;\r\n    font-size: 14px;\r\n}\r\n\r\n.absol-selectmenu-render-space > div {\r\n    display: inline-block;\r\n}\r\n\r\n\r\n.absol-selectmenu.as-disabled,\r\n.as-select-menu.as-disabled\r\n{\r\n    pointer-events: none;\r\n    background-color: #ebebe4;\r\n\r\n}\r\n\r\n.absol-selectmenu {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    position: relative;\r\n    height: 30px;\r\n    min-width: 30px;\r\n    border: solid 1px #d6d6d6;\r\n    border-radius: 2px;\r\n    box-sizing: border-box;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    outline: none;\r\n    font-family: \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n}\r\n\r\n/* .absol-selectmenu:hover {\r\n    border: solid 1px black;\r\n} */\r\n\r\n.absol-selectmenu-btn {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    width: 30px;\r\n    border: none;\r\n    background: transparent;\r\n    z-index: 2;\r\n    pointer-events: none;\r\n}\r\n\r\n.absol-selectmenu-btn:focus {\r\n    outline: none;\r\n}\r\n\r\n.absol-selectmenu-btn svg.dropdown {\r\n    width: 10px;\r\n    height: 10px;\r\n    fill: #929292;\r\n}\r\n\r\n.absol-selectmenu:hover svg.dropdown {\r\n    width: 10px;\r\n    height: 10px;\r\n    fill: black;\r\n}\r\n\r\n.absol-selectmenu-holder-item {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 4px;\r\n    bottom: 4px;\r\n    /*1px for border*/\r\n}\r\n\r\n\r\n.absol-selectmenu .absol-selectlist-item span {\r\n    padding-right: 28px;\r\n}\r\n\r\n.absol-selectmenu .absol-scroll-button {\r\n    background-color: rgba(0, 0, 0, 0.1);\r\n    border-radius: 3px;\r\n}\r\n\r\n.absol-selectmenu .absol-scroll-button:hover {\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.absol-scroll-bar-v-container {\r\n    width: 10px;\r\n}\r\n\r\n.absol-selectmenu .absol-search-text-input {\r\n    margin: 4px;\r\n}\r\n\r\n.absol-selectmenu-render-space .absol-selectlist-item span {\r\n    padding-right: 0;\r\n}\r\n\r\n\r\n.absol-selectmenu .absol-selectlist-item-desc-container {\r\n    right: 30px;\r\n}\r\n\r\n\r\n.absol-selectmenu-dropdown-box .absol-bscroller {\r\n    overflow-y: auto;\r\n}\r\n\r\n\r\n.as-select-anchor {\r\n    position: fixed;\r\n    z-index: 1000001;\r\n}\r\n\r\n\r\n.as-select-anchor.as-hidden {\r\n    left: 0;\r\n    top: 0;\r\n    z-index: -1000;\r\n    visibility: hidden;\r\n    opacity: 0;\r\n}\r\n\r\n\r\n.as-select-menu {\r\n    --select-list-estimate-width: 0;\r\n    --select-list-desc-width: 0;\r\n    width: calc(var( --select-list-estimate-width) + 32px);\r\n    min-width: calc(var( --select-list-estimate-width) + 32px);\r\n}", ""]);



/***/ }),
/* 142 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(143);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 143 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-select-list-box {\r\n    --select-list-estimate-width: 0;\r\n    --max-height: calc(100vh - 80px);\r\n    position: fixed;\r\n    top: 10px;\r\n    left: 10px;\r\n    width: calc(var(--select-list-estimate-width) + 2px + 5px);\r\n    font-size: 14px;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    border: solid 1px rgb(100, 100, 255);\r\n    box-sizing: border-box;\r\n    background-color: white;\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    -webkit-box-shadow: 2px 2px 6px 0px rgba(0, 0, 90, 0.55);\r\n    -moz-box-shadow: 2px 2px 6px 0px rgba(0, 0, 90, 0.55);\r\n    box-shadow: 2px 2px 6px 0px rgba(0, 0, 90, 0.55);\r\n    outline: none;\r\n}\r\n\r\n.absol-follower.as-select-list-box{\r\n    z-index: 1000000;\r\n}\r\n\r\n.as-select-list-box .as-select-list-box {\r\n    min-width: 100%;\r\n}\r\n\r\n.as-select-list-box-search-ctn {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n}\r\n\r\n.as-select-list-box.as-enable-search.as-anchor-6 .as-select-list-box-search-ctn,\r\n.as-select-list-box.as-enable-search.as-anchor-5 .as-select-list-box-search-ctn {\r\n    bottom: 0;\r\n}\r\n\r\n.as-select-list-box.as-enable-search.as-anchor-6,\r\n.as-select-list-box.as-enable-search.as-anchor-5 {\r\n    padding-bottom: 38px;\r\n}\r\n\r\n.as-select-list-box.as-enable-search.as-anchor-1,\r\n.as-select-list-box.as-enable-search.as-anchor-2 {\r\n    padding-top: 38px;\r\n}\r\n\r\n.as-select-list-box.as-enable-search.as-anchor-1 .as-select-list-box-search-ctn,\r\n.as-select-list-box.as-enable-search.as-anchor-2 .as-select-list-box-search-ctn {\r\n    top: 0;\r\n}\r\n\r\n.as-select-list-box-scroller {\r\n    overflow-y: auto;\r\n    overflow-x: visible;\r\n}\r\n\r\n.as-select-list-box .as-select-list-box-scroller {\r\n    max-height: var(--max-height);\r\n}\r\n\r\n.as-select-list-box.as-enable-search .as-select-list-box-scroller {\r\n    max-height: calc(var(--max-height) - 38px);\r\n}\r\n\r\n.as-select-list-box-content {\r\n    position: relative;\r\n}\r\n\r\n.as-select-list-box-page {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n}\r\n\r\n.as-select-list-box .absol-selectlist-item{\r\n    cursor: default;\r\n}\r\n\r\n.as-select-list-box-search-ctn {\r\n    display: none;\r\n    padding: 5px;\r\n}\r\n\r\n\r\n.as-select-list-box.as-enable-search .as-select-list-box-search-ctn {\r\n    display: block;\r\n}\r\n\r\n.as-select-list-box:not(.as-searching) .as-last-in-group {\r\n    border-bottom: 1px solid #dddddd;\r\n}\r\n\r\n.as-select-list-box .as-last-in-group span {\r\n    line-height: 19px;\r\n}\r\n\r\n\r\n.as-select-list-box .absol-selectlist-item:hover {\r\n    background-color: #efefef;\r\n}\r\n\r\n.as-select-list-box.as-value-hidden .absol-selectlist-item.as-selected{\r\n    color: #aaaaaa;\r\n}\r\n\r\n.as-select-list-box.as-value-hidden .absol-selectlist-item.as-selected.as-is-leaft{\r\n    display: none;\r\n}", ""]);



/***/ }),
/* 144 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-select-table-render-space {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: -1000;\r\n    visibility: hidden;\r\n    font-size: 14px;\r\n}\r\n\r\n.absol-select-table {\r\n    border: solid 1px #a9a9a9;\r\n    min-width: 26em;\r\n    overflow: hidden;\r\n}\r\n\r\n.absol-select-table-header {\r\n    display: block;\r\n    position: relative;\r\n    box-sizing: content-box;\r\n    height: 2.2857142857em;\r\n}\r\n\r\n.absol-select-table-searchtextinput-container {\r\n    position: absolute;\r\n    left: 0.14285714285em;\r\n    top: 0.14285714285em;\r\n    height: 2em;\r\n    right: 10em;\r\n    /* background-color: cyan; */\r\n}\r\n\r\n.absol-select-table.disable-move-all .absol-select-table-buttons-container {\r\n    display: none;\r\n}\r\n\r\n.absol-select-table.disable-move-all .absol-select-table-searchtextinput-container {\r\n    right: 0.14285714285em !important;\r\n}\r\n\r\n.absol-select-table-buttons-container {\r\n    position: absolute;\r\n    right: 0.14285714285em;\r\n    top: 0.14285714285em;\r\n    width: 10.7142857143em;\r\n    height: 2em;\r\n    white-space: nowrap;\r\n}\r\n\r\n.absol-select-table-buttons-container>button {\r\n    height: 2em;\r\n    font-size: 1em;\r\n    background-color: transparent;\r\n    border: none;\r\n    padding: 0 0.5em;\r\n    margin: 0;\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n}\r\n\r\n.absol-select-table-buttons-container>button:focus {\r\n    outline: none;\r\n}\r\n\r\n.absol-select-table-buttons-container>button:hover {\r\n    color: #a9a9a9;\r\n}\r\n\r\n.absol-select-table-buttons-container>button:active {\r\n    color: #a9a9ff;\r\n}\r\n\r\n.absol-select-table-body {\r\n    margin: 0.14285714285em;\r\n    white-space: nowrap;\r\n}\r\n\r\n.absol-select-table-items-scroller {\r\n    width: 50%;\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n    vertical-align: top;\r\n    overflow-y: auto;\r\n}\r\n\r\n.absol-select-table-items-scroller .absol-scroll-button {\r\n    background-color: rgba(1, 1, 30, 0.1);\r\n}\r\n\r\n.absol-select-table-items-scroller .absol-scroll-bar-v-container {\r\n    width: 0.69em;\r\n}\r\n\r\n.absol-select-table-selected-search-items-container,\r\n.absol-select-table-nonselected-search-items-container,\r\n.absol-select-table.searching .absol-select-table-selected-items-container,\r\n.absol-select-table.searching .absol-select-table-nonselected-items-container {\r\n    display: none;\r\n}\r\n\r\n.absol-select-table.searching .absol-select-table-selected-search-items-container,\r\n.absol-select-table.searching .absol-select-table-nonselected-search-items-container {\r\n    display: block;\r\n    padding-right: 0.7em;\r\n}\r\n\r\n.absol-select-table-nonselected-items-container,\r\n.absol-select-table-selected-items-container {\r\n    padding-right: 0.7em;\r\n}\r\n\r\n.absol-select-table-nonselected-items-container>.absol-select-table-item,\r\n.absol-select-table-selected-items-container>.absol-select-table-item,\r\n.absol-select-table-nonselected-search-items-container>.absol-select-table-item,\r\n.absol-select-table-selected-search-items-container>.absol-select-table-item {\r\n    margin: 0.14285714285em;\r\n}\r\n\r\n.absol-select-table-item {\r\n    display: block;\r\n    line-height: 2em;\r\n    min-height: 2em;\r\n    position: relative;\r\n    background-color: rgba(169, 169, 169, 0.05);\r\n    border: solid 1px rgb(235, 235, 235);\r\n    border-radius: 0.2em;\r\n    overflow: hidden;\r\n    -webkit-user-select: none;\r\n    /* Safari 3.1+ */\r\n    -moz-user-select: none;\r\n    /* Firefox 2+ */\r\n    -ms-user-select: none;\r\n    /* IE 10+ */\r\n    user-select: none;\r\n    /* Standard syntax */\r\n    padding-left: 0.69em;\r\n    padding-right: 1.8em;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.absol-select-table-item:hover {\r\n    background-color: rgba(169, 169, 169, 0.1);\r\n}\r\n\r\n.absol-select-table-item-right-container {\r\n    right: 0.3em;\r\n    bottom: 0.3em;\r\n    top: 0.3em;\r\n    padding: 0.2em;\r\n    width: 1.4em;\r\n    position: absolute;\r\n    border-radius: 0.2em;\r\n    box-sizing: border-box;\r\n ;\r\n}\r\n\r\n.absol-select-table-item-right-container:hover {\r\n    background-color: rgba(169, 169, 169, 0.3);\r\n}\r\n\r\nspan.absol-select-table-item-text {\r\n    white-space: normal;\r\n    \r\n}\r\n\r\n.absol-select-table-item-right-container-table{\r\n    display: table;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n.absol-select-table-item-right-container-cell{\r\n    display: table-cell;\r\n    vertical-align: middle;\r\n}\r\n\r\n.absol-select-table-item-right-container svg {\r\n    width: 1em;\r\n    height: 1em;\r\n    display: none;\r\n}\r\n\r\n/* clearfix\r\n.absol-select-table-none-nonselected-items-container::after,\r\n.absol-select-table-none-selected-items-container::after {\r\n    content: \"\";\r\n    display:table;\r\n    clear: both;\r\n} */\r\n\r\n.absol-select-table-selected-items-container .absol-select-table-item-right-container svg.sub-icon,\r\n.absol-select-table-selected-search-items-container .absol-select-table-item-right-container svg.sub-icon {\r\n    display: block;\r\n    stroke: rgb(243, 61, 61);\r\n    fill: rgb(226, 100, 100);\r\n}\r\n\r\n.absol-select-table-nonselected-items-container .absol-select-table-item-right-container svg.add-icon,\r\n.absol-select-table-nonselected-search-items-container .absol-select-table-item-right-container svg.add-icon {\r\n    display: block;\r\n    fill: rgb(100, 226, 167);\r\n    stroke: rgb(61, 185, 243);\r\n}\r\n\r\n.absol-select-table.portrait {}", ""]);



/***/ }),
/* 145 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(146);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 146 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-span-input {\r\n    white-space: pre;\r\n}\r\n\r\n.absol-span-input:focus {\r\n    outline-color: rgba(30, 150, 255, 0.3);\r\n    outline-width: 1px;\r\n}\r\n\r\n.absol-span-input:empty::before {\r\n    content: \" \";\r\n    display: inline;\r\n    white-space: pre;\r\n}\r\n\r\n.absol-span-input.absol-span-input-empty-minus:empty::before {\r\n    content: \"-\";\r\n}", ""]);



/***/ }),
/* 147 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(148);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 148 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-static-tabbar {\r\n    position: relative;\r\n}\r\n\r\n.absol-static-tabbar-button {\r\n    height: 2em;\r\n    background-color: transparent;\r\n    border: none;\r\n    font-size: 1em;\r\n    padding-left: 0.5em;\r\n    padding-right: 0.5em;\r\n    color: rgb(104, 104, 104);\r\n}\r\n\r\n.absol-static-tabbar-button:hover {\r\n    color: rgb(30, 30, 55);\r\n}\r\n\r\n.absol-static-tabbar-button.active {\r\n    color: black;\r\n}\r\n\r\n.absol-static-tabbar-button:focus {\r\n    outline: none;\r\n}\r\n\r\n.absol-static-tabbar-button>span {\r\n    font-size: 0.7em;\r\n}\r\n\r\n.absol-static-tabbar-hline {\r\n    border-bottom: solid 1px rgb(127, 127, 128);\r\n    height: 100%;\r\n}\r\n\r\n.absol-static-tabbar-active-box {\r\n    position: absolute;\r\n    bottom: 0;\r\n    top: 0;\r\n    left: 0;\r\n    width: 0;\r\n    transition: left 0.15s, width 0.15s;\r\n    padding-left: 0.5em;\r\n    padding-right: 0.5em;\r\n    box-sizing: border-box;\r\n    /* z-index: 1; */\r\n}\r\n\r\n.absol-static-tabbar.dark .absol-static-tabbar-hline{\r\n    border-bottom-color: white;\r\n}\r\n\r\n.absol-static-tabbar.dark .absol-static-tabbar-button.active{\r\n    color: white;\r\n}\r\n\r\n.absol-static-tabbar.dark .absol-static-tabbar-button {\r\n    color: rgb(204, 204, 204);\r\n}", ""]);



/***/ }),
/* 149 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(150);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 150 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-switch {\r\n    position: relative;\r\n    display: inline-block;\r\n    width: 2.2em;\r\n    height: 1.2em;\r\n    vertical-align: middle;\r\n}\r\n\r\n.absol-switch input {\r\n    opacity: 0;\r\n    width: 0;\r\n    height: 0;\r\n}\r\n\r\n.absol-switch-slider {\r\n    position: absolute;\r\n    cursor: pointer;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: #ccc;\r\n    -webkit-transition: .4s;\r\n    transition: .4s;\r\n    border-radius: 0.6em;\r\n}\r\n\r\n.absol-switch-slider:before {\r\n    position: absolute;\r\n    content: \"\";\r\n    height: 1em;\r\n    width: 1em;\r\n    left: 0.1em;\r\n    bottom: 0.1em;\r\n    background-color: white;\r\n    -webkit-transition: .4s;\r\n    transition: .4s;\r\n    border-radius: 0.5em;\r\n}\r\n\r\ninput:checked+.absol-switch-slider {\r\n    background-color: #2196F3;\r\n}\r\n\r\ninput:focus+.absol-switch-slider {\r\n    box-shadow: 0 0 1px #2196F3;\r\n}\r\n\r\ninput:checked+.absol-switch-slider:before {\r\n    -webkit-transform: translateX(1em);\r\n    -ms-transform: translateX(1em);\r\n    transform: translateX(1em);\r\n}\r\n\r\n/* Rounded absol-switch-sliders */\r\n.absol-switch.square .absol-switch-slider {\r\n    border-radius: 0;\r\n}\r\n\r\n.absol-switch.square .absol-switch-slider:before {\r\n    border-radius: 0;\r\n}\r\n\r\n.absol-switch.disabled {\r\n    pointer-events: none;\r\n}\r\n\r\n.absol-switch.disabled .absol-switch-slider:before{\r\n    background-color: rgb(234, 234, 234);\r\n}\r\n\r\n.absol-switch.disabled input:checked+.absol-switch-slider {\r\n    background-color: rgb(141, 188, 226);\r\n}\r\n\r\n.absol-switch.disabled .absol-switch-slider {\r\n    background-color: rgb(171, 171, 171);\r\n}\r\n\r\n", ""]);



/***/ }),
/* 151 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(152);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 152 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-checkbox-button{\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n.as-checkbox-button .absol-checkbox-icon{\r\n    display: block;\r\n}", ""]);



/***/ }),
/* 153 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(154);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 154 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-table-scroller {\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.absol-table-scroller-render-space {\r\n    position: fixed;\r\n    overflow: scroll;\r\n    left: 0;\r\n    top: 0;\r\n    max-width: calc(99vw - 30px);\r\n    max-height: calc(99vh - 30px);\r\n    opacity: 0;\r\n    z-index: -1000;\r\n    visibility: hidden;\r\n}\r\n\r\n\r\n.absol-table-scroller-viewport {\r\n    box-sizing: border-box;\r\n    overflow: scroll;\r\n    width: calc(100% + 17px);\r\n    height: calc(100% + 17px);\r\n}\r\n\r\n.absol-table-scroller-fixed-viewport {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    z-index: 10;\r\n    overflow: hidden;\r\n    /*pointer-events: none;*/\r\n}\r\n\r\n.absol-table-scroller-fixed-viewport>table>thead,\r\n.absol-table-scroller-fixed-viewport>table {\r\n    border-top-color: transparent !important;\r\n}\r\n\r\n.absol-table-scroller-fixed-hidden {\r\n    visibility: hidden !important;\r\n    opacity: 0 !important;\r\n    border-color: transparent !important;\r\n\r\n}\r\n\r\n.absol-table-scroller-header-hscroller {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    right: 0;\r\n    z-index: 9;\r\n    overflow: hidden;\r\n    /*pointer-events: none;*/\r\n}\r\n\r\n.absol-table-scroller-header-hscroller-viewport {\r\n    max-width: 100%;\r\n    overflow-x: scroll;\r\n    margin-bottom: -17px;/*default*/\r\n}\r\n\r\n.absol-table-scroller-header-hscroller-viewport table {\r\n    table-layout: fixed;\r\n}\r\n\r\n\r\n.absol-table-scroller-left-vscroller {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    z-index: 7;\r\n    /* width: 200px; */\r\n    overflow-x: hidden;\r\n    /*pointer-events: none;*/\r\n}\r\n\r\n.absol-table-scroller-left-vscroller-viewport {\r\n    max-height: 100%;\r\n    overflow-y: scroll;\r\n    min-width: calc(100% + 19px);\r\n    overflow-x: hidden;\r\n}\r\n\r\n\r\n.absol-table-scroller-head-line,\r\n.absol-table-scroller-left-line {\r\n    z-index: 30;\r\n    /*pointer-events: none;*/\r\n    position: absolute;\r\n}\r\n\r\n.absol-table-scroller-head-line {\r\n    left: 0;\r\n    width: calc(100% - 6px);\r\n    border-bottom: solid 2px rgb(169, 169, 170);\r\n    width: 100%;\r\n}\r\n\r\n.absol-table-scroller-left-line {\r\n    top: 0;\r\n    border-right: solid 2px rgb(169, 169, 170);\r\n    height: calc(100% - 6px);\r\n    height: 100%;\r\n}\r\n\r\n\r\n.absol-table-scroller.scroll-v .absol-table-scroller-head-line {\r\n    width: 100%;\r\n}\r\n\r\n.absol-table-scroller.scroll-h .absol-table-scroller-left-line {\r\n    height: 100%;\r\n}\r\n\r\n\r\n.absol-table-scroller:not(.scroll-v) .absol-table-scroller-head-line {\r\n    display: none;\r\n}\r\n\r\n.absol-table-scroller:not(.scroll-h) .absol-table-scroller-left-line {\r\n    display: none;\r\n}\r\n\r\n\r\n\r\n.absol-table-scroller-vscrollbar-container {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    width: 8px;\r\n    bottom: 0;\r\n    z-index: 31;\r\n}\r\n\r\n.absol-table-scroller-vscrollbar-container .absol-scrollbar-button {\r\n    left: 1px;\r\n    right: 1px;\r\n}\r\n\r\n\r\n.absol-table-scroller-vscrollbar-container>div,\r\n.absol-table-scroller-hscrollbar-container>div {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.absol-table-scroller-hscrollbar-container {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    height: 12px;\r\n    bottom: 0;\r\n    z-index: 31;\r\n}\r\n\r\n\r\n.absol-table-scroller-hscrollbar-container .absol-scrollbar-button {\r\n    top: 1px;\r\n    bottom: 1px;\r\n}\r\n\r\n\r\n.absol-table-scroller:not(.scroll-v) .absol-table-scroller-vscrollbar-container {\r\n    display: none;\r\n}\r\n\r\n.absol-table-scroller:not(.scroll-h) .absol-table-scroller-hscrollbar-container {\r\n    display: none;\r\n}\r\n\r\n\r\n.absol-table-scroller.scroll-h .absol-table-scroller-vscrollbar-container {\r\n    bottom: 12px;\r\n}\r\n\r\n.absol-table-scroller.scroll-v .absol-table-scroller-hscrollbar-container {\r\n    right: 8px;\r\n}\r\n\r\n.absol-table-scroller-fixed-table{\r\n    table-layout: fixed;\r\n    box-sizing: border-box;\r\n\r\n}\r\n\r\n.absol-table-scroller-fixed-table *,\r\n.absol-table-scroller-header-hscroller *{\r\n    box-sizing: border-box;\r\n}", ""]);



/***/ }),
/* 155 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(156);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 156 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-table-vscroller {\r\n    position: relative;\r\n}\r\n\r\n.absol-table-vscroller-head {\r\n    position: absolute;\r\n    z-index: 2;\r\n    width: 300px;\r\n    height: 20px;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.absol-table-vscroller-head-line{\r\n    position: absolute;\r\n    left: 0;\r\n    z-index: 3;\r\n    pointer-events: none;\r\n    border-bottom:solid 2px rgb(169, 169, 170); \r\n    width: 100%;\r\n}\r\n\r\n.absol-table-vscroller.scroll-v .absol-table-vscroller-head-line{\r\n    width: calc(100% - 7px);\r\n}\r\n\r\n.absol-table-vscroller-viewport {\r\n    max-height: 100%;\r\n    padding-bottom: 1px;\r\n    padding-top: 1px;\r\n    overflow-y: auto;\r\n}\r\n\r\n.absol-table-vscroller-viewport > table{\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n}", ""]);



/***/ }),
/* 157 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(158);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 158 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-textarea2{\r\n    overflow: hidden;\r\n    resize: none;\r\n    box-sizing: border-box;\r\n    height: 1.425em;\r\n} ", ""]);



/***/ }),
/* 159 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(160);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 160 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-text-clipboard {\r\n    opacity: 0;\r\n    font-size: 1px;\r\n    height: 1px;\r\n    width: 1px;\r\n}", ""]);



/***/ }),
/* 161 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(162);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 162 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".ac-time-input {\r\n    box-sizing: border-box;\r\n    height: calc(2em + 2px);\r\n    border: solid 1px #d6d6d6;\r\n    border-radius: 2px;\r\n    box-sizing: border-box;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    outline: none;\r\n    font-family: \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    padding-left: 0.35714285714em;\r\n    padding-right: 0.35714285714em;\r\n    background-color: white;\r\n}\r\n\r\n.ac-time-input-picker-ctn {\r\n    position: fixed;\r\n}\r\n\r\n.ac-time-input>span {\r\n    font-size: 1em;\r\n    line-height: 2em;\r\n}\r\n\r\n.ac-time-input-picker-ctn-hidden {\r\n    z-index: -1000;\r\n    opacity: 0;\r\n    visibility: hidden;\r\n}\r\n\r\n.ac-time-input-picker-ctn-hidden:not(.absol-follower) {\r\n    transition: all 0.1s;\r\n}\r\n\r\n.ac-time-input.as-disabled {\r\n    color: rgb(102, 102, 102);\r\n    pointer-events: none;\r\n}", ""]);



/***/ }),
/* 163 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(164);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 164 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".ac-time-picker {\r\n    /*like chrome-calender*/\r\n    display: inline-block;\r\n    font-family: Arial;\r\n    font-size: 14px;\r\n    padding: 0.6em;\r\n    border: solid 1px rgb(191, 191, 191);\r\n    box-shadow: 1px 1px 2px rgb(240, 240, 240);\r\n    z-index: 100;\r\n    touch-action: manipulation;\r\n    user-select: none;\r\n    background-color: rgb(255, 255, 255);\r\n    white-space: initial;\r\n}\r\n\r\n\r\n@media screen and (orientation: portrait) {\r\n    .ac-time-picker.ac-time-picker-touch {\r\n        font-size: 5vw;\r\n    }\r\n}\r\n\r\n@media screen and (orientation: landscape) {\r\n    .ac-time-picker.ac-time-picker-touch {\r\n        font-size: 4vh;\r\n    }\r\n}\r\n\r\n\r\n.ac-time-picker:not(.ac-time-picker-clock-mode) .ac-time-picker-set-clock,\r\n.ac-time-picker:not(.ac-time-picker-clock-mode) .ac-time-picker-keyboard-btn,\r\n.ac-time-picker:not(.ac-time-picker-touch) .ac-time-picker-keyboard-btn,\r\n.ac-time-picker:not(.ac-time-picker-time-mode) .ac-time-picker-set-time,\r\n.ac-time-picker:not(.ac-time-picker-time-mode) .ac-time-picker-clock-btn {\r\n    display: none;\r\n}\r\n\r\n.ac-time-picker-set-clock-header {\r\n    font-size: 2.8em;\r\n    text-align: center;\r\n    min-width: 4.28571428571em;\r\n    font-weight: bold;\r\n\r\n}\r\n\r\n.ac-time-picker-set-clock-header > span {\r\n    font-size: inherit;\r\n}\r\n\r\n.ac-time-picker-clock {\r\n    width: 12em;\r\n    height: 12em;\r\n}\r\n\r\n.ac-time-picker-clock-hour-pm {\r\n    fill: rgb(20, 20, 20);\r\n    font-size: 0.7em;\r\n}\r\n\r\n\r\n.ac-time-picker-clock-hour-am {\r\n    fill: black;\r\n    font-size: 0.8em;\r\n}\r\n\r\n.ac-time-picker-clock-minute {\r\n    fill: black;\r\n    font-size: 0.8em;\r\n}\r\n\r\n\r\n.ac-time-picker-clock-center,\r\n.ac-time-picker-clock-select-circle {\r\n    fill: rgb(115, 166, 248);\r\n}\r\n\r\n.ac-time-picker-clock-select-center {\r\n    fill: white;\r\n}\r\n\r\n.ac-time-picker-clock-select-line {\r\n    stroke-width: 1;\r\n    stroke: rgb(115, 166, 248);\r\n}\r\n\r\n\r\n.ac-time-picker-hour,\r\n.ac-time-picker-minute {\r\n    outline: none;\r\n}\r\n\r\n.ac-time-picker-edit-hour .ac-time-picker-hour,\r\n.ac-time-picker-edit-minute .ac-time-picker-minute {\r\n    color: rgb(62, 125, 189);\r\n}\r\n\r\n.ac-time-picker:not(.ac-time-picker-edit-hour) .ac-time-picker-clock-hour-ctn,\r\n.ac-time-picker:not(.ac-time-picker-edit-minute) .ac-time-picker-clock-minute-ctn {\r\n    visibility: hidden;\r\n}\r\n\r\n.ac-time-picker:not(.ac-time-picker-edit-hour):not(.ac-time-picker-edit-minute) .ac-time-picker-clock {\r\n    display: none;\r\n}\r\n\r\n.ac-time-picker-hour:empty::before,\r\n.ac-time-picker-minute:empty::before {\r\n    content: \"0\";\r\n    display: inline;\r\n}\r\n\r\n.ac-time-picker-footer {\r\n    display: block;\r\n    position: relative;\r\n    min-height: 1.5em;\r\n    min-width: 12em;\r\n}\r\n\r\n.ac-time-picker-footer-right {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n}\r\n\r\n.ac-time-picker-footer button {\r\n    font-size: 1em;\r\n    height: 1.5em;\r\n    padding-top: 0;\r\n    padding-bottom: 0;\r\n    border: none;\r\n    background-color: transparent;\r\n    outline: none;\r\n    padding-left: 0.3em;\r\n    padding-right: 0.3em;\r\n}\r\n\r\n.ac-time-picker-footer button:hover,\r\n.ac-time-picker-footer button:focus {\r\n    background-color: rgba(170, 170, 170, 0.3);\r\n}\r\n\r\n.ac-time-picker-footer > button {\r\n    margin-right: 1em;\r\n}\r\n\r\n.ac-time-picker-footer-right > button {\r\n    margin-left: 1em;\r\n}\r\n\r\n\r\n.ac-time-picker-footer button .mdi {\r\n    font-size: 1.3em;\r\n}\r\n\r\n\r\n/* .ac-time-picker:not(.ac-time-picker-touch) .ac-time-picker-keyboard-btn {\r\n    display: none;\r\n} */\r\n\r\n/* keyboard-outline */\r\n\r\n.ac-time-picker-set-time-header {\r\n    font-size: 1.4em;\r\n    font-weight: bold;\r\n    margin-bottom: 1em;\r\n}\r\n\r\n.ac-time-picker-set-time-label {\r\n    font-size: 1em;\r\n    font-weight: bold;\r\n    margin-bottom: 0.3em;\r\n}\r\n\r\n.ac-time-picker-set-time-input-group {\r\n    margin-bottom: 0.3em;\r\n    font-size: 1em;\r\n    white-space: nowrap;\r\n}\r\n\r\n.ac-time-picker-set-time-input-hm > input {\r\n    height: 1.2em;\r\n    line-height: 1.2em;\r\n    width: 2em;\r\n    text-align: center;\r\n    font-size: 1em;\r\n    border-top: none;\r\n    border-left: none;\r\n    border-right: none;\r\n    border-bottom: 1px solid rgb(70, 70, 72);\r\n    outline: none;\r\n}\r\n\r\n.ac-time-picker-set-time-input-label-hm {\r\n    font-size: 1em;\r\n    white-space: nowrap;\r\n\r\n}\r\n\r\n.ac-time-picker-set-time-input-label-hm span {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    font-size: 1em;\r\n\r\n}\r\n\r\n\r\n.ac-time-picker-set-time-input-label-hm > span:first-child {\r\n    width: 2em;\r\n}", ""]);



/***/ }),
/* 165 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(166);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 166 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ":root {\r\n    --tool-tip-arrow-pos: 50%;\r\n    --tool-tip-background-color: gray;\r\n    --tool-tip-text-color: white;\r\n}\r\n\r\n.absol-tooltip {\r\n    margin: 0;\r\n    position: relative;\r\n    box-sizing: border-box;\r\n    display: inline-block;\r\n    color: var(--tool-tip-text-color);\r\n}\r\n\r\n.absol-tooltip-content {\r\n    display: inline-block;\r\n    border-radius: 0.25em;\r\n    background-color: var(--tool-tip-background-color);\r\n    padding: 0.25em 0.5em;\r\n    font-size: inherit;\r\n}\r\n\r\n\r\n.absol-tooltip-arrow {\r\n    width: 0;\r\n    height: 0;\r\n    position: absolute;\r\n    box-sizing: content-box;\r\n    font-size: inherit;\r\n}\r\n\r\n.absol-tooltip.top .absol-tooltip-arrow {\r\n    border-left: 0.4em solid transparent;\r\n    border-right: 0.3em solid transparent;\r\n\r\n    border-top: 0.3em solid var(--tool-tip-background-color);\r\n    bottom: 0;\r\n    left: calc(var(--tool-tip-arrow-pos) - 0.3em);\r\n}\r\n\r\n\r\n.absol-tooltip.top {\r\n    padding-bottom: 0.3em;\r\n}\r\n\r\n\r\n.absol-tooltip.bottom .absol-tooltip-arrow {\r\n    border-left: 0.3em solid transparent;\r\n    border-right: 0.4em solid transparent;\r\n    border-bottom: 0.3em solid var(--tool-tip-background-color);\r\n\r\n    top: 0;\r\n    left: calc(var(--tool-tip-arrow-pos) - 0.3em);\r\n}\r\n\r\n.absol-tooltip.bottom {\r\n    padding-top: 0.3em;\r\n}\r\n\r\n\r\n.absol-tooltip.left .absol-tooltip-arrow {\r\n    border-top: 0.3em solid transparent;\r\n    border-bottom: 0.4em solid transparent;\r\n    border-left: 0.4em solid var(--tool-tip-background-color);\r\n\r\n    right: 0;\r\n    top: calc(var(--tool-tip-arrow-pos) - 0.3em);\r\n}\r\n\r\n.absol-tooltip.left {\r\n    padding-right: 0.4em;\r\n}\r\n\r\n\r\n.absol-tooltip.right .absol-tooltip-arrow {\r\n    border-top: 0.4em solid transparent;\r\n    border-bottom: 0.4em solid transparent;\r\n    border-right: 0.4em solid var(--tool-tip-background-color);\r\n\r\n    left: 0;\r\n    top: calc(var(--tool-tip-arrow-pos) - 0.3em);\r\n}\r\n\r\n.absol-tooltip.ne .absol-tooltip-arrow {\r\n    border-top: 0.3em solid transparent;\r\n    border-bottom: 0.4em solid transparent;\r\n    border-left: 0.4em solid var(--tool-tip-background-color);\r\n    bottom: -0.3em;\r\n    left: 0;\r\n}\r\n\r\n.absol-tooltip.nw .absol-tooltip-arrow {\r\n    border-top: 0.3em solid transparent;\r\n    border-bottom: 0.4em solid transparent;\r\n    border-right: 0.4em solid var(--tool-tip-background-color);\r\n    bottom: -0.3em;\r\n    right: 0;\r\n}\r\n\r\n.absol-tooltip.se .absol-tooltip-arrow {\r\n    border-top: 0.3em solid transparent;\r\n    border-bottom: 0.4em solid transparent;\r\n    border-left: 0.4em solid var(--tool-tip-background-color);\r\n    top: -0.3em;\r\n    left: 0;\r\n}\r\n\r\n.absol-tooltip.sw .absol-tooltip-arrow {\r\n    border-top: 0.3em solid transparent;\r\n    border-bottom: 0.4em solid transparent;\r\n    border-right: 0.4em solid var(--tool-tip-background-color);\r\n    top: -0.25em;\r\n    right: 0;\r\n}\r\n\r\n.absol-tooltip.right {\r\n    padding-left: 0.4em;\r\n}\r\n\r\n\r\n.absol-tooltip-root {\r\n    position: relative;\r\n    width: 0;\r\n    height: 0;\r\n}\r\n\r\n.absol-tooltip-root-holder {\r\n    position: fixed;\r\n    z-index: 100000000;\r\n    left: 0;\r\n    top: 0;\r\n}", ""]);



/***/ }),
/* 167 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(168);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 168 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-snackbar {\r\n    visibility: hidden;\r\n    min-width: 250px;\r\n    margin-left: -125px;\r\n    background-color: #333;\r\n    color: #fff;\r\n    text-align: center;\r\n    border-radius: 2px;\r\n    padding: 16px;\r\n    position: fixed;\r\n    z-index: 1;\r\n    left: 50%;\r\n    bottom: 0;\r\n    font-size: 17px;\r\n    opacity: 0;\r\n    transition: opacity 0.25s ease-in, bottom 0.25s ease-in;\r\n\r\n}\r\n\r\n.as-snackbar.as-show {\r\n    visibility: visible;\r\n    bottom: 30px;\r\n    opacity: 1;\r\n}\r\n\r\n.as-snackbar.as-hiding{\r\n    transition: opacity 0.5s ease-out, bottom 0.5s ease-out;\r\n    visibility: visible;\r\n    bottom: 0;\r\n    opacity: 0;\r\n}\r\n\r\n", ""]);



/***/ }),
/* 169 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-tree-list {}\r\n\r\n.absol-tree-list-item {}\r\n\r\n.absol-tree-list-item-parent:hover {\r\n    background: #efefef;\r\n    cursor: pointer;\r\n}\r\n\r\n.absol-tree-list-item-parent {\r\n    padding-left: 0.3em;\r\n    padding-right: 0.6em;\r\n    position: relative;\r\n}\r\n\r\n.absol-tree-list-item.active>.absol-tree-list-item-parent {\r\n    background: #dfdfdf;\r\n}\r\n\r\n.absol-tree-list-item-parent>span {\r\n    line-height: 20px;\r\n    white-space: nowrap;\r\n}\r\n\r\n.absol-tree-list-item-child {}\r\n\r\n.absol-tree-list-item>.absol-tree-list-item-child:empty {\r\n    display: none;\r\n}\r\n\r\n.absol-tree-list-item-desc-container {\r\n    right: 0.3em;\r\n    top: 0;\r\n    bottom: 0;\r\n    position: absolute;\r\n}\r\n\r\n.absol-tree-list-item-desc {\r\n    font-style: italic;\r\n    line-height: 20px;\r\n    white-space: nowrap;\r\n    margin-left: 1em;\r\n    color: rgb(37, 37, 37);\r\n}\r\n\r\n.absol-tree-list-item-desc:empty {\r\n    display: none;\r\n}", ""]);



/***/ }),
/* 170 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(171);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 171 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-selecttreemenu  .absol-tree-list-item-desc-container{\r\n    right: 30px;\r\n}\r\n\r\n\r\n.absol-selectmenu-holder-item .absol-tree-list-item-parent:hover {\r\n    background-color: transparent;\r\n}", ""]);



/***/ }),
/* 172 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(173);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 173 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-width-height-resizer {\r\n    position: relative;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.absol-width-height-resizer-anchor-bot-right {\r\n    cursor: nwse-resize;\r\n    position: absolute;\r\n    z-index: 1;\r\n    right: 0;\r\n    bottom: 0;\r\n    height: 13px;\r\n    width: 13px;\r\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAQUlEQVQoz2NgIBGkpaX9Z2IgA9BWU1pa2n+S/UGSZnRFBDVhU4BXEy4bcGrC5ySsmgj5AUMTMZ4mOehhmhjJ0QkA9TYwPsqIBKMAAAAASUVORK5CYII=');\r\n}\r\n\r\n.absol-width-height-resizer-anchor-bot-left {\r\n    cursor: nesw-resize;\r\n    position: absolute;\r\n    z-index: 1;\r\n    left: 0;\r\n    bottom: 0;\r\n    height: 13px;\r\n    width: 13px;\r\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABCSURBVChTY0hLS/vPQCJggtIkAco0keRMZMVEa0RXSJRGbIoIaoQpIMlGZEmiNRJSiFUjNkGCGrGaRAAwkq6JgQEAnaEwPtyU/MEAAAAASUVORK5CYII=');\r\n}\r\n\r\n.absol-width-height-resizer-anchor-top-right {\r\n    cursor: nesw-resize;\r\n    position: absolute;\r\n    z-index: 1;\r\n    right: 0;\r\n    top: 0;\r\n    height: 13px;\r\n    width: 13px;\r\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABMSURBVChTY0xLS/vPQGsAsoQJygYDdFuJdgUhjTgNwqcQpyYQwKURryYQwKaAoCYQwGUjQYCskGhNIABTTJImGABpQolcYgEZmhgYAEPpMD56IPESAAAAAElFTkSuQmCC')\r\n}\r\n\r\n.absol-width-height-resizer-anchor-top-left {\r\n    cursor: nwse-resize;\r\n    position: absolute;\r\n    z-index: 1;\r\n    top: 0;\r\n    left: 0;\r\n    height: 13px;\r\n    width: 13px;\r\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABNSURBVChTnZFbCgAgCAStw3r/GxQLClaSj/kJckcFBzMvqtKRprwHd6OncRRwN7GfKQFoIS0Ar/gVQGmCYkMpAWgwLYBSWHCPG9GQiDbsRTA+Srvt5gAAAABJRU5ErkJggg==');\r\n}\r\n\r\n.absol-width-height-resizer-content {\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: auto;\r\n}\r\n\r\n/* .absol-width-height-resizer */", ""]);



/***/ }),
/* 174 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(175);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 175 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-modal {\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    z-index: 1000;\r\n    white-space: nowrap;\r\n}\r\n\r\n.as-modal.as-hidden{\r\n    z-index: -1000;\r\n    visibility: hidden;\r\n    opacity: 0;\r\n}\r\n\r\n.as-modal.as-center {\r\n    text-align: center;\r\n}\r\n\r\n\r\n.as-modal.as-middle::before {\r\n    content: \"\";\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 100%;\r\n    width: 0;\r\n}\r\n\r\n.as-modal > .as-modal-content {\r\n    display: inline-block;\r\n    text-align: initial;\r\n    white-space: initial;\r\n}\r\n\r\n/*for content*/\r\n.as-modal.as-middle > .as-modal-content {\r\n    vertical-align: middle;\r\n}\r\n", ""]);



/***/ }),
/* 176 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(177);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 177 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-trackbar {\r\n    height: 1.2em;\r\n    min-width: 7em;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    padding: 0 0.6em;\r\n    box-sizing: border-box;\r\n}\r\n.absol-trackbar-line {\r\n    display: block;\r\n    position: relative;\r\n    margin-top: 0.4em;\r\n    height: 0.4em;\r\n    background-color: rgb(200, 200, 200);\r\n    -webkit-box-shadow: 0 0 0.2em 0.1em rgb(160, 160, 160) inset;\r\n    -moz-box-shadow: 0 0 0.2em 0.1em rgb(160, 160, 160) inset;\r\n    box-shadow: 0 0 0.2em 0.1em rgb(160, 160, 160) inset;\r\n    border-radius: 0.15em;\r\n    cursor: pointer;\r\n}\r\n.absol-trackbar-button {\r\n    position: absolute;\r\n    z-index: 1;\r\n    top: -0.4em;\r\n    /* bottom: -0.4em; */\r\n    height: 1.2em;\r\n    left: 0;\r\n    margin-left: -0.6em;\r\n    width: 1.2em;\r\n    background: rgb(245, 245, 245);\r\n    cursor: pointer;\r\n    border-radius: 50%;\r\n    border: solid 1px rgb(139, 139, 139);\r\n}", ""]);



/***/ }),
/* 178 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(179);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 179 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-trackbar-input {\r\n    box-sizing: border-box;\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n    position: relative;\r\n    min-width: 13.5em;\r\n    height: 2em;\r\n}\r\n\r\n.absol-trackbar-input-trackbar-container {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 3.5em;\r\n    top: 0.4em;\r\n    bottom: 0.4em;\r\n}\r\n\r\n.absol-trackbar-input-trackbar-container .absol-trackbar {\r\n    width: 100%;\r\n}\r\n\r\n.absol-trackbar-input-unit-input-container {\r\n    position: absolute;\r\n    width: 3em;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n}\r\n\r\n\r\n.absol-trackbar-input-unit-input-container .as-flexicon-input {\r\n    width: 100%;\r\n    vertical-align: middle;\r\n    height: 2em;\r\n}\r\n\r\n", ""]);



/***/ }),
/* 180 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(181);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 181 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-button-range-wrapper {\r\n    border-top: 1px solid rgb(209, 209, 213);\r\n    border-bottom: 1px solid rgb(209, 209, 213);\r\n}\r\n\r\n.as-button-range {\r\n    position: relative;\r\n    overflow-y: hidden;\r\n    height: var(--height);\r\n    box-sizing: border-box;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    --underline-left: 0;\r\n    --underline-width: 0;\r\n    --height: 2em;\r\n}\r\n\r\n.as-button-range-scroller {\r\n    font-size: inherit;\r\n    height: calc(var(--height) + 17px);\r\n    box-sizing: border-box;\r\n    overflow-x: scroll;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0.5em;\r\n    right: 0.5em;\r\n    white-space: nowrap;\r\n}\r\n\r\n.as-button-range-scroller::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    left: var(--underline-left);\r\n    width: var(--underline-width);\r\n    height: 0.2em;\r\n    top: calc(var(--height) - 0.2em);\r\n    background-color: rgb(0, 106, 255);\r\n    transition: left 0.2s, width 0.2s;\r\n}\r\n\r\n.as-button-range-left-ctn,\r\n.as-button-range-right-ctn {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n}\r\n\r\n.as-button-range-right-ctn::after,\r\n.as-button-range-left-ctn::before {\r\n    content: \"\";\r\n    height: 100%;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n.as-button-range-left-ctn {\r\n    left: 0;\r\n}\r\n\r\n.as-button-range-right-ctn {\r\n    right: 0;\r\n}\r\n\r\n.as-button-range-right-btn,\r\n.as-button-range-left-btn {\r\n    font-size: inherit;\r\n    padding: 0;\r\n    margin: 0;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    border: none;\r\n    outline: none;\r\n    color: rgb(0, 106, 266);\r\n    background-color: rgba(255, 255, 255, 0.5);\r\n    border-radius: 0.5em;\r\n    overflow: hidden;\r\n}\r\n\r\n.as-button-range-left-btn {\r\n    -webkit-box-shadow: 1em 2px 1.5em -1em rgba(255, 255, 255, 0.62);\r\n    -moz-box-shadow: 1em 2px 1.5em -1em rgba(255, 255, 255, 0.62);\r\n    box-shadow: 1em 2px 1.5em -1em rgba(255, 255, 255, 0.62);\r\n}\r\n\r\n.as-button-range-right-btn {\r\n    -webkit-box-shadow: -1em 2px 1.5em -1em rgba(255, 255, 255, 0.62);\r\n    -moz-box-shadow: -1em 2px 1.5em -1em rgba(255, 255, 255, 0.62);\r\n    box-shadow: -1em 2px 1.5em -1em rgba(255, 255, 255, 0.62);\r\n}\r\n\r\n.as-button-range-right-btn polygon,\r\n.as-button-range-left-btn polygon {\r\n    fill: #2488FF;\r\n}\r\n\r\n.as-button-range-right-btn:disabled,\r\n.as-button-range-left-btn:disabled {\r\n    display: none;\r\n}\r\n\r\n.as-button-range-left-btn > svg,\r\n.as-button-range-right-btn > svg {\r\n    width: 1.25em;\r\n    height: 1.25em;\r\n    margin-left: -0.25em;\r\n    margin-right: -0.25em;\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n.as-button-range-item {\r\n    outline: none;\r\n    font-size: inherit;\r\n    padding: 0 0.5em;\r\n    margin: 0;\r\n    height: var(--height);\r\n    border: none;\r\n    background-color: transparent;\r\n    color: black;\r\n}\r\n\r\n.as-button-range-item.as-active {\r\n    color: rgb(87, 157, 255);\r\n}", ""]);



/***/ }),
/* 182 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(183);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 183 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-drop-zone {\r\n}", ""]);



/***/ }),
/* 184 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(185);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 185 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "label.as-radio-input {\r\n    display: inline-block;\r\n    position: relative;\r\n    width: calc(1em + 2px);\r\n    height: calc(1em + 2px);\r\n    cursor: pointer;\r\n    font-size: inherit;\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n    vertical-align: middle;\r\n    border-radius: 50%;\r\n    border: 1px solid var(--candy-border-color);\r\n    text-align: center;\r\n    background-color: white;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n}\r\n\r\nlabel.as-radio-input:hover {\r\n    background-color: var(--candy-hover-background-color);\r\n}\r\n\r\nlabel.as-radio-input::after{\r\n    content: \"\";\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 100%;\r\n}\r\n\r\n.as-radio-input .as-radio-input-check-mark {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    width: 0.5em;\r\n    height: 0.5em;\r\n    background-color: #606060;\r\n    font-size: inherit;\r\n    border-radius: 50%;\r\n}\r\n\r\n.as-radio-input input.as-radio-input-value {\r\n    font-size: inherit;\r\n    position: absolute;\r\n    right: 100%;\r\n    top: 0;\r\n    opacity: 0.0;\r\n}\r\n\r\ninput.as-radio-input-value:not(:checked) ~ .as-radio-input-check-mark {\r\n    display: none;\r\n}\r\n\r\n\r\nlabel.as-radio-input.as-disabled,\r\nlabel.as-radio-input.as-disabled:hover {\r\n    border-color: #929292;\r\n    background-color: #ebebe4;\r\n}", ""]);



/***/ }),
/* 186 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(187);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 187 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-onscreen-widget {\r\n    --client-width: 0px;\r\n    --client-height: 0px;\r\n    --cx: 90%;\r\n    --cy: 90%;\r\n    position: fixed;\r\n    z-index: 1000000;\r\n    left: calc(var(--cx) - var(--client-width) / 2);\r\n    top: calc(var(--cy) - var(--client-height) / 2);\r\n    touch-action: none;\r\n    user-select: none;\r\n}\r\n\r\n", ""]);



/***/ }),
/* 188 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(189);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 189 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-ribbon-split-button {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 30px;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.as-ribbon-split-button div,\r\n.as-ribbon-split-button span,\r\n.as-ribbon-split-button button {\r\n    font-weight: inherit;\r\n    font-size: inherit;\r\n}\r\n\r\n\r\n.as-ribbon-split-button-content {\r\n    height: 100%;\r\n}\r\n\r\n.as-ribbon-split-button-content > button {\r\n    font-family: inherit;\r\n    border-radius: 0;\r\n    background-color: transparent;\r\n    height: 100%;\r\n    margin-right: 0;\r\n    outline: none;\r\n    box-sizing: border-box;\r\n    border-style: solid;\r\n    border-color: transparent;\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n.as-ribbon-split-button-content > button:hover {\r\n    background-color: rgba(169, 168, 169, 0.15);\r\n}\r\n\r\n.as-ribbon-split-button-content > button:active {\r\n    background-color: rgba(169, 168, 169, 0.3);\r\n}\r\n\r\n\r\n.as-ribbon-split-button-primary {\r\n    font-size: inherit;\r\n    padding-left: 0.5em;\r\n    padding-right: 0;\r\n    border-width: 1px 0px 1px 1px;\r\n}\r\n\r\n.as-ribbon-split-button-extend {\r\n    color: rgb(37, 36, 35);\r\n    width: 16px;\r\n    padding: 0;\r\n    text-align: center;\r\n    font-size: 20px;\r\n    border-width: 1px 1px 1px 0px;\r\n}\r\n\r\n.as-ribbon-split-button-extend span:before {\r\n    margin-left: -3px;\r\n}\r\n\r\n\r\n.as-ribbon-split-button:active:hover .as-ribbon-split-button-content > button,\r\n.as-ribbon-split-button:active .as-ribbon-split-button-content > button {\r\n    border-color: rgba(169, 168, 169, 0.3);\r\n}\r\n\r\n.as-ribbon-split-button:hover .as-ribbon-split-button-content > button {\r\n    border-color: rgba(169, 168, 169, 0.15);\r\n}\r\n\r\n.as-ribbon-split-button-icon {\r\n    font-size: 1.2em;\r\n    margin-right: 0.5em;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\nimg.as-ribbon-split-button-icon,\r\nsvg.as-ribbon-split-button-icon {\r\n    width: 1.2em;\r\n    height: 1.2em;\r\n}\r\n\r\n.as-ribbon-split-button-text {\r\n    vertical-align: middle;\r\n    font-size: inherit;\r\n}\r\n\r\n.as-ribbon-split-button.as-no-dropdown .as-ribbon-split-button-extend {\r\n    display: none;\r\n}\r\n\r\n.as-ribbon-split-button.as-no-dropdown .as-ribbon-split-button-primary {\r\n    padding-right: 5px;\r\n    border-width: 1px 1px 1px 1px;\r\n}", ""]);



/***/ }),
/* 190 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(191);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 191 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-ribbon-button {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 30px;\r\n    padding-left: 0.5em;\r\n    padding-right: 0.5em;\r\n\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    box-sizing: border-box;\r\n    border-radius: 0;\r\n    outline: none;\r\n    border-style: solid;\r\n    border-color: transparent;\r\n    border-width: 1px 1px 1px 1px;\r\n    background-color: transparent;\r\n}\r\n\r\n.as-ribbon-button div,\r\n.as-ribbon-button span {\r\n    font-weight: inherit;\r\n    font-size: inherit;\r\n}\r\n\r\n.as-ribbon-button:hover {\r\n    background-color: rgba(169, 168, 169, 0.15);\r\n}\r\n\r\n.as-ribbon-button:active {\r\n    background-color: rgba(169, 168, 169, 0.3);\r\n}\r\n\r\n\r\n\r\n.as-ribbon-split-button:active:hover .as-ribbon-split-button-content > button,\r\n.as-ribbon-split-button:active .as-ribbon-split-button-content > button {\r\n    border-color: rgba(169, 168, 169, 0.3);\r\n}\r\n\r\n.as-ribbon-split-button:hover .as-ribbon-split-button-content > button {\r\n    border-color: rgba(169, 168, 169, 0.15);\r\n}\r\n\r\n.as-ribbon-button-icon {\r\n    font-size: 1.2em;\r\n    margin-right: 0.5em;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\nimg.as-ribbon-button-icon,\r\nsvg.as-ribbon-button-icon {\r\n    width: 1.2em;\r\n    height: 1.2em;\r\n}\r\n\r\n.as-ribbon-button-text {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    font-size: inherit;\r\n}\r\n\r\n.as-ribbon-button.as-no-dropdown .mdi.mdi-chevron-down {\r\n    display: none;\r\n}", ""]);



/***/ }),
/* 192 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(193);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 193 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-time-select-input {\r\n    display: inline-block;\r\n    position: relative;\r\n    height: 30px;\r\n    border: solid 1px #d6d6d6;\r\n    border-radius: 2px;\r\n    box-sizing: border-box;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    outline: none;\r\n    font-family: \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n    white-space: nowrap;\r\n    padding-right: 30px;\r\n    --list-min-width: unset;\r\n    width: calc(var(--list-min-width) + 30px);\r\n    min-width: calc(var(--list-min-width) + 30px);\r\n}\r\n\r\n.as-time-select-input.as-disabled {\r\n    pointer-events: none;\r\n    background-color: #ebebe4;\r\n}\r\n\r\n.as-time-select-input-text {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 100%;\r\n    width: 100%;\r\n    outline: none;\r\n    border: none;\r\n    box-sizing: border-box;\r\n    padding-left: 10px;\r\n    padding-right: 0;\r\n    background-color: transparent;\r\n}", ""]);



/***/ }),
/* 194 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(195);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 195 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ":root {\r\n    --multi-select-menu-max-height: none;\r\n}\r\n\r\n.as-multi-select-menu {\r\n    --list-min-width: 40px;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    position: relative;\r\n    min-height: var(--select-box-min-height);\r\n    min-width: var(--list-min-width);\r\n    border: solid 1px #d6d6d6;\r\n    border-radius: 3px;\r\n    box-sizing: border-box;\r\n    outline: none;\r\n    background-color: white;\r\n    padding-right: 30px;\r\n}\r\n\r\n.as-multi-select-menu-item-ctn {\r\n    display: block;\r\n    max-height: var(--multi-select-menu-max-height);\r\n    overflow-y: auto;\r\n}\r\n\r\n\r\n.as-multi-select-menu-toggle-btn {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: 30px;\r\n    pointer-events: none;\r\n    border: none;\r\n    background-color: transparent;\r\n}\r\n\r\n.as-multi-select-menu-toggle-btn svg.dropdown {\r\n    width: 10px;\r\n    height: 10px;\r\n    fill: #929292;\r\n}\r\n\r\n.as-multi-select-menu:hover svg.dropdown {\r\n    fill: black;\r\n}\r\n\r\n.as-multi-select-menu.as-disable-click-to-focus .as-multi-select-menu-toggle-btn{\r\n    display: none;\r\n}\r\n\r\n.as-multi-select-menu .absol-selectbox-item {\r\n    margin: calc((var(--select-box-min-height) - 2px - var(--select-box-item-height)) / 2) 2px;\r\n}\r\n\r\n\r\n.as-multi-select-menu.as-item-focusable .absol-selectbox-item.as-active{\r\n    background-color: var(--select-box-focus-item-color);\r\n}", ""]);



/***/ }),
/* 196 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(197);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 197 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".login-register {\r\n    background-size: cover;\r\n    background-repeat: no-repeat;\r\n    background-position: center center;\r\n    height: 100%;\r\n    width: 100%;\r\n    padding: 5% 0;\r\n    position: fixed;\r\n}\r\n\r\n.login-box {\r\n    width: 400px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.card {\r\n    -webkit-box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.1);\r\n    box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.1);\r\n    border-radius: 4px;\r\n}\r\n\r\n.card-body {\r\n    -webkit-box-flex: 1;\r\n    -ms-flex: 1 1 auto;\r\n    flex: 1 1 auto;\r\n    padding: 1.25em;\r\n    background: white;\r\n}\r\n\r\n.text-center {\r\n    text-align: center!important;\r\n}\r\n\r\nhtml body .m-b-20 {\r\n    margin-bottom: 20px;\r\n    color: #455a64;\r\n    font-family: \"Poppins\", sans-serif;\r\n    font-weight: 400;\r\n    line-height: 30px;\r\n    font-size: 21px;\r\n}\r\n\r\n.form-group {\r\n    margin-bottom: 25px;\r\n}\r\n\r\n.form-material .form-group {\r\n    overflow: hidden;\r\n}\r\n\r\n.form-control {\r\n    display: block;\r\n    width: calc(100% - 1.5rem);\r\n    padding: .375rem .75em;\r\n    font-size: 18px;\r\n    line-height: 1.5;\r\n    color: #495057;\r\n    background-color: #fff;\r\n    background-clip: padding-box;\r\n    border: 1px solid #ced4da;\r\n    border-radius: .25em;\r\n    transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;\r\n}\r\n\r\n.form-control {\r\n    color: #67757c;\r\n    display: initial;\r\n}\r\n\r\n.form-material .form-control {\r\n    background-color: transparent;\r\n    background-position: center bottom, center calc(100% - 1px);\r\n    background-repeat: no-repeat;\r\n    background-size: 0 2px, 100% 1px;\r\n    -webkit-transition: background 0s ease-out 0s;\r\n    -o-transition: background 0s ease-out 0s;\r\n    transition: background 0s ease-out 0s;\r\n}\r\n\r\n.form-material .form-control,\r\n.form-material .form-control.focus,\r\n.form-material .form-control:focus {\r\n    background-image: -webkit-gradient(linear, left top, left bottom, from(#1976d2), to(#1976d2)), -webkit-gradient(linear, left top, left bottom, from(rgba(120, 130, 140, 0.13)), to(rgba(120, 130, 140, 0.13)));\r\n    background-image: -webkit-linear-gradient(#1976d2, #1976d2), -webkit-linear-gradient(rgba(120, 130, 140, 0.13), rgba(120, 130, 140, 0.13));\r\n    background-image: -o-linear-gradient(#1976d2, #1976d2), -o-linear-gradient(rgba(120, 130, 140, 0.13), rgba(120, 130, 140, 0.13));\r\n    background-image: linear-gradient(#1976d2, #1976d2), linear-gradient(rgba(120, 130, 140, 0.13), rgba(120, 130, 140, 0.13));\r\n    border: 0 none;\r\n    border-radius: 0;\r\n    -webkit-box-shadow: none;\r\n    box-shadow: none;\r\n    float: none;\r\n}\r\n\r\n.btn-login {\r\n    display: inline-block;\r\n    font-weight: 400;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    vertical-align: middle;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    border: 1px solid transparent;\r\n    padding: .375rem .75em;\r\n    font-size: 1em;\r\n    line-height: 1.5;\r\n    border-radius: .25em;\r\n    transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;\r\n}\r\n\r\n.btn-login-info {\r\n    color: #fff;\r\n    background-color: #17a2b8;\r\n    border-color: #17a2b8;\r\n}\r\n\r\n.btn-login-group-lg>.btn-login,\r\n.btn-login-lg {\r\n    padding: .5rem 1em;\r\n    font-size: 1.25em;\r\n    line-height: 1.5;\r\n    border-radius: .3em;\r\n}\r\n\r\n.btn-login-block {\r\n    display: block;\r\n    width: 100%;\r\n}\r\n\r\n.text-uppercase {\r\n    text-transform: uppercase!important;\r\n}\r\n\r\n.waves-effect {\r\n    position: relative;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    overflow: hidden;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    -webkit-tap-highlight-color: transparent;\r\n    vertical-align: middle;\r\n    z-index: 1;\r\n    will-change: opacity, transform;\r\n    -webkit-transition: all 0.1s ease-out;\r\n    -moz-transition: all 0.1s ease-out;\r\n    -o-transition: all 0.1s ease-out;\r\n    -ms-transition: all 0.1s ease-out;\r\n    transition: all 0.1s ease-out;\r\n}\r\n\r\n.btn-login {\r\n    padding: 7px 12px;\r\n    cursor: pointer;\r\n}\r\n\r\n.btn-login-lg {\r\n    padding: .75rem 1.5em;\r\n    font-size: 1.25em;\r\n}\r\n\r\n.btn-login-info,\r\n.btn-login-info.disabled {\r\n    background: #1976d2;\r\n    border: 1px solid #1976d2;\r\n    -webkit-box-shadow: 0 2px 2px 0 rgba(66, 165, 245, 0.14), 0 3px 1px -2px rgba(66, 165, 245, 0.2), 0 1px 5px 0 rgba(66, 165, 245, 0.12);\r\n    box-shadow: 0 2px 2px 0 rgba(66, 165, 245, 0.14), 0 3px 1px -2px rgba(66, 165, 245, 0.2), 0 1px 5px 0 rgba(66, 165, 245, 0.12);\r\n    -webkit-transition: 0.2s ease-in;\r\n    -o-transition: 0.2s ease-in;\r\n    transition: 0.2s ease-in;\r\n}\r\n\r\n.btn-login:not(:disabled):not(.disabled) {\r\n    cursor: pointer;\r\n}\r\n\r\n.alert {\r\n    position: relative;\r\n    padding: .75rem 1.25em;\r\n    margin-bottom: 1em;\r\n    border: 1px solid transparent;\r\n    border-radius: .25em;\r\n}\r\n\r\n.alert-danger {\r\n    color: #721c24;\r\n    background-color: #f8d7da;\r\n    border-color: #f5c6cb;\r\n}", ""]);



/***/ }),
/* 198 */
/***/ (function(module, exports) {

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

var EncodingClass = {
  func: {
    tempFunc: null,
    exec: function exec(st) {
      eval(st);
    },
    encode: function encode(st) {
      eval("EncodingClass.func.tempFunc = " + st + ";");
      return EncodingClass.func.tempFunc;
    },
    encodeBody: function encodeBody(st) {
      return new Function(st);
    },
    decode: function decode(fn) {
      return fn.toString();
    },
    decodeBody: function decodeBody(fn) {
      return fn.toString().match(/function[^{]+\{([\s\S]*)\}$/)[1];
    }
  },
  type: {
    isNumber: function isNumber(obj) {
      if (typeof obj === "number") return true;
      return false;
    },
    isString: function isString(obj) {
      if (typeof obj === "string") return true;
      if (obj instanceof String) return true;
      return false;
    },
    isBoolean: function isBoolean(obj) {
      if (typeof obj === "boolean") return true;
      return false;
    },
    isObject: function isObject(obj) {
      if (_typeof(obj) === "object") return true;
      return false;
    },
    isFunction: function isFunction(obj) {
      if (typeof obj === "function") return true;
      return false;
    },
    isDate: function isDate(obj) {
      if (!(obj instanceof Date)) return false;
      if (typeof obj.getDate !== 'function') return false;
      if (typeof obj.getDay !== 'function') return false;
      if (typeof obj.getFullYear !== 'function') return false;
      if (typeof obj.getHours !== 'function') return false;
      if (typeof obj.getMilliseconds !== 'function') return false;
      if (typeof obj.getMinutes !== 'function') return false;
      if (typeof obj.getMonth !== 'function') return false;
      if (typeof obj.getSeconds !== 'function') return false;
      if (typeof obj.getTime !== 'function') return false;
      return true;
    },
    isArray: function isArray(obj) {
      if (obj === undefined) return false;
      if (obj == null) return false;

      if (Array !== undefined) {
        if (Array.isArray !== undefined) return Array.isArray(obj);

        if (obj.constructor !== undefined) {
          if (obj.constructor === Array) return true;
        }

        if (obj instanceof Array) return true;
      }

      if (Object !== undefined) {
        if (Object.prototype !== undefined) {
          if (Object.prototype.toString !== undefined) {
            if (Object.prototype.toString.call !== undefined) {
              if (Object.prototype.toString.call(obj) == "[object Array]") return true;
            }
          }
        }
      }

      return false;
    }
  },
  color: {
    nameToHex: function nameToHex(name) {
      var t = {
        "aliceblue": "#f0f8ff",
        "antiquewhite": "#faebd7",
        "aqua": "#00ffff",
        "aquamarine": "#7fffd4",
        "azure": "#f0ffff",
        "beige": "#f5f5dc",
        "bisque": "#ffe4c4",
        "black": "#000000",
        "blanchedalmond": "#ffebcd",
        "blue": "#0000ff",
        "blueviolet": "#8a2be2",
        "brown": "#a52a2a",
        "burlywood": "#deb887",
        "cadetblue": "#5f9ea0",
        "chartreuse": "#7fff00",
        "chocolate": "#d2691e",
        "coral": "#ff7f50",
        "cornflowerblue": "#6495ed",
        "cornsilk": "#fff8dc",
        "crimson": "#dc143c",
        "cyan": "#00ffff",
        "darkblue": "#00008b",
        "darkcyan": "#008b8b",
        "darkgoldenrod": "#b8860b",
        "darkgray": "#a9a9a9",
        "darkgreen": "#006400",
        "darkkhaki": "#bdb76b",
        "darkmagenta": "#8b008b",
        "darkolivegreen": "#556b2f",
        "darkorange": "#ff8c00",
        "darkorchid": "#9932cc",
        "darkred": "#8b0000",
        "darksalmon": "#e9967a",
        "darkseagreen": "#8fbc8f",
        "darkslateblue": "#483d8b",
        "darkslategray": "#2f4f4f",
        "darkturquoise": "#00ced1",
        "darkviolet": "#9400d3",
        "deeppink": "#ff1493",
        "deepskyblue": "#00bfff",
        "dimgray": "#696969",
        "dodgerblue": "#1e90ff",
        "firebrick": "#b22222",
        "floralwhite": "#fffaf0",
        "forestgreen": "#228b22",
        "fuchsia": "#ff00ff",
        "gainsboro": "#dcdcdc",
        "ghostwhite": "#f8f8ff",
        "gold": "#ffd700",
        "goldenrod": "#daa520",
        "gray": "#808080",
        "green": "#008000",
        "greenyellow": "#adff2f",
        "honeydew": "#f0fff0",
        "hotpink": "#ff69b4",
        "indianred ": "#cd5c5c",
        "indigo": "#4b0082",
        "ivory": "#fffff0",
        "khaki": "#f0e68c",
        "lavender": "#e6e6fa",
        "lavenderblush": "#fff0f5",
        "lawngreen": "#7cfc00",
        "lemonchiffon": "#fffacd",
        "lightblue": "#add8e6",
        "lightcoral": "#f08080",
        "lightcyan": "#e0ffff",
        "lightgoldenrodyellow": "#fafad2",
        "lightgrey": "#d3d3d3",
        "lightgreen": "#90ee90",
        "lightpink": "#ffb6c1",
        "lightsalmon": "#ffa07a",
        "lightseagreen": "#20b2aa",
        "lightskyblue": "#87cefa",
        "lightslategray": "#778899",
        "lightsteelblue": "#b0c4de",
        "lightyellow": "#ffffe0",
        "lime": "#00ff00",
        "limegreen": "#32cd32",
        "linen": "#faf0e6",
        "magenta": "#ff00ff",
        "maroon": "#800000",
        "mediumaquamarine": "#66cdaa",
        "mediumblue": "#0000cd",
        "mediumorchid": "#ba55d3",
        "mediumpurple": "#9370d8",
        "mediumseagreen": "#3cb371",
        "mediumslateblue": "#7b68ee",
        "mediumspringgreen": "#00fa9a",
        "mediumturquoise": "#48d1cc",
        "mediumvioletred": "#c71585",
        "midnightblue": "#191970",
        "mintcream": "#f5fffa",
        "mistyrose": "#ffe4e1",
        "moccasin": "#ffe4b5",
        "navajowhite": "#ffdead",
        "navy": "#000080",
        "oldlace": "#fdf5e6",
        "olive": "#808000",
        "olivedrab": "#6b8e23",
        "orange": "#ffa500",
        "orangered": "#ff4500",
        "orchid": "#da70d6",
        "palegoldenrod": "#eee8aa",
        "palegreen": "#98fb98",
        "paleturquoise": "#afeeee",
        "palevioletred": "#d87093",
        "papayawhip": "#ffefd5",
        "peachpuff": "#ffdab9",
        "peru": "#cd853f",
        "pink": "#ffc0cb",
        "plum": "#dda0dd",
        "powderblue": "#b0e0e6",
        "purple": "#800080",
        "red": "#ff0000",
        "rosybrown": "#bc8f8f",
        "royalblue": "#4169e1",
        "saddlebrown": "#8b4513",
        "salmon": "#fa8072",
        "sandybrown": "#f4a460",
        "seagreen": "#2e8b57",
        "seashell": "#fff5ee",
        "sienna": "#a0522d",
        "silver": "#c0c0c0",
        "skyblue": "#87ceeb",
        "slateblue": "#6a5acd",
        "slategray": "#708090",
        "snow": "#fffafa",
        "springgreen": "#00ff7f",
        "steelblue": "#4682b4",
        "tan": "#d2b48c",
        "teal": "#008080",
        "thistle": "#d8bfd8",
        "tomato": "#ff6347",
        "turquoise": "#40e0d0",
        "violet": "#ee82ee",
        "wheat": "#f5deb3",
        "white": "#ffffff",
        "whitesmoke": "#f5f5f5",
        "yellow": "#ffff00",
        "yellowgreen": "#9acd32",
        "transparent": "#ffffff"
      };
      name = name.toLowerCase();
      if (name == "") name = "transparent";
      if (t[name] !== undefined) return t[name];
      return name;
    },
    /////////
    hex2rgb: function hex2rgb(c) {
      if (c[0] === '#') c = c.substr(1);
      var r = parseInt(c.slice(0, 2), 16),
          g = parseInt(c.slice(2, 4), 16),
          b = parseInt(c.slice(4, 6), 16);
      return {
        r: r,
        g: g,
        b: b
      };
    }
  },
  string: {
    merge: function merge(stringArray) {
      var i, k, x, t;

      while (true) {
        t = [];
        k = stringArray.length;

        if (k > 1) {
          for (i = 0; i < k; i += 2) {
            if (i + 1 == k) {
              x = stringArray[i];
            } else {
              x = stringArray[i] + stringArray[i + 1];
            }

            t.push(x);
          }
        } else if (k == 1) {
          return stringArray[0];
        } else {
          return "";
        }

        stringArray = t;
      }
    },
    cvtest: function cvtest(varname) {
      var sx, st;
      eval("sx = EncodingClass.string.fromVariable(" + varname + ");");
      st = "Length = " + sx.length;
      st = EncodingClass.string.toVariable(sx);
    },
    exportVariable: function exportVariable(obj, level) {
      var i, k, n, x, z, st, sx, keys;
      if (obj === undefined) return "undefined";
      if (obj == null) return "null";
      if (level === undefined) level = 0;

      if (EncodingClass.type.isArray(obj)) {
        n = obj.length;
        if (n == 0) return "[]";
        st = "[\r\n";

        for (i = 0; i < n; i++) {
          for (k = 0; k < level + 4; k++) {
            st += " ";
          }

          st += EncodingClass.string.exportVariable(obj[i], level + 4);
          if (i + 1 < n) st += ",";
          st += "\r\n";
        }

        for (k = 0; k < level; k++) {
          st += " ";
        }

        return st + "]";
      } else if (EncodingClass.type.isDate(obj)) {
        return "new Date(" + obj.getTime() + ")";
      } else if (EncodingClass.type.isObject(obj)) {
        keys = Object.keys(obj);
        n = keys.length;
        st = "{\r\n";

        for (i = 0; i < n; i++) {
          for (k = 0; k < level + 4; k++) {
            st += " ";
          }

          st += keys[i] + ": " + EncodingClass.string.exportVariable(obj[keys[i]], level + 4);
          if (i + 1 < n) st += ",";
          st += "\r\n";
        }

        for (k = 0; k < level; k++) {
          st += " ";
        }

        return st + "}";
      } else if (EncodingClass.type.isFunction(obj)) {
        return obj.toString();
      } else if (EncodingClass.type.isBoolean(obj)) {
        if (obj) return "true";
        return "false";
      } else if (EncodingClass.type.isNumber(obj)) {
        return obj;
      } else if (EncodingClass.type.isString(obj)) {
        return "\"" + obj + "\"";
      } else {
        return "unknown";
      }
    },
    compare: function compare(obj1, obj2) {
      var i, k, m, n, x, z, keys, keys2;
      if (obj1 === undefined && obj2 === undefined) return 0;
      if (obj1 === undefined) return -1;
      if (obj2 === undefined) return 1;
      if (obj1 === null && obj2 === null) return 0;
      if (obj1 === null) return -1;
      if (obj2 === null) return 1;

      if (EncodingClass.type.isArray(obj1) && EncodingClass.type.isArray(obj2)) {
        n = obj1.length;
        m = obj2.length;

        for (i = 0; i < n; i++) {
          if (i >= m) return 1;
          k = EncodingClass.string.compare(obj1[i], obj2[i]);
          if (k != 0) return k;
        }

        if (n < m) return -1;
        return 0;
      } else if (EncodingClass.type.isDate(obj1)) {
        return EncodingClass.string.compare(obj1.getTime(), obj2);
      } else if (EncodingClass.type.isDate(obj2)) {
        return EncodingClass.string.compare(obj1, obj2.getTime());
      } else if (EncodingClass.type.isObject(obj1) && EncodingClass.type.isObject(obj2)) {
        keys = Object.keys(obj1);
        n = keys.length;
        keys2 = Object.keys(obj2);
        m = keys2.length;
        keys.sort();
        keys2.sort();

        for (i = 0; i < n; i++) {
          if (i >= m) return 1;
          k = EncodingClass.string.compare(keys[i], keys2[i]);
          if (k != 0) return k;
          k = EncodingClass.string.compare(obj1[keys[i]], obj2[keys2[i]]);
          if (k != 0) return k;
        }

        if (n < m) return -1;
        return 0;
      } else if (EncodingClass.type.isObject(obj1) && EncodingClass.type.isArray(obj2)) {
        keys = Object.keys(obj1);
        n = keys.length;
        keys.sort();
        m = obj2.length;

        for (i = 0; i < n; i++) {
          if (i >= m) return 1;
          k = EncodingClass.string.compare(obj1[keys[i]], obj2[i]);
          if (k != 0) return k;
        }

        if (n < m) return -1;
        return 0;
      } else if (EncodingClass.type.isArray(obj1) && EncodingClass.type.isObject(obj2)) {
        n = obj1.length;
        keys2 = Object.keys(obj2);
        m = keys2.length;
        keys2.sort();

        for (i = 0; i < n; i++) {
          if (i >= m) return 1;
          k = EncodingClass.string.compare(obj1[i], obj2[keys2[i]]);
          if (k != 0) return k;
        }

        if (n < m) return -1;
        return 0;
      } else if (EncodingClass.type.isArray(obj1)) {
        if (obj1.length == 0) return -1;
        k = EncodingClass.string.compare(obj1[0], obj2);
        if (k != 0) return k;
        if (obj1.length > 0) return 1;
        return 0;
      } else if (EncodingClass.type.isArray(obj2)) {
        if (obj2.length == 0) return 1;
        k = EncodingClass.string.compare(obj1, obj2[0]);
        if (k != 0) return k;
        if (obj2.length > 0) return -1;
        return 0;
      } else if (EncodingClass.type.isObject(obj1)) {
        keys = Object.keys(obj1);
        if (keys.length == 0) return -1;
        keys.sort();
        k = EncodingClass.string.compare(obj1[keys[0]], obj2);
        if (k != 0) return k;
        if (keys.length > 0) return 1;
        return 0;
      } else if (EncodingClass.type.isObject(obj2)) {
        keys = Object.keys(obj2);
        if (keys.length == 0) return 1;
        keys.sort();
        k = EncodingClass.string.compare(obj1, obj2[keys[0]]);
        if (k != 0) return k;
        if (keys.length > 0) return -1;
        return 0;
      } else if (EncodingClass.type.isBoolean(obj1)) {
        if (obj1) {
          return EncodingClass.string.compare(1, obj2);
        } else {
          return EncodingClass.string.compare(0, obj2);
        }
      } else if (EncodingClass.type.isBoolean(obj2)) {
        if (obj2) {
          return EncodingClass.string.compare(obj1, 1);
        } else {
          return EncodingClass.string.compare(obj1, 0);
        }
      } else if (EncodingClass.type.isNumber(obj1) && EncodingClass.type.isNumber(obj2)) {
        if (obj1 < obj2) return -1;
        if (obj1 > obj2) return 1;
        return 0;
      } else if (EncodingClass.type.isFunction(obj1)) {
        return EncodingClass.string.compare(obj1.toString(), obj2);
      } else if (EncodingClass.type.isFunction(obj2)) {
        return EncodingClass.string.compare(obj1, obj2.toString());
      } else if (EncodingClass.type.isString(obj1) && EncodingClass.type.isString(obj2)) {
        if (obj1 < obj2) return -1;
        if (obj1 > obj2) return 1;
        return 0;
      } else if (EncodingClass.type.isString(obj1)) {
        return EncodingClass.string.compare(obj1, obj2.toString());
      } else if (EncodingClass.type.isString(obj2)) {
        return EncodingClass.string.compare(obj1.toString(), obj2);
      }

      return EncodingClass.string.compare(obj1.toString(), obj2.toString());
    },
    duplicate: function duplicate(obj) {
      var i, n, x, z, st, sx, keys, ss;
      if (obj === undefined) return undefined;
      if (obj === null) return null;

      if (EncodingClass.type.isArray(obj)) {
        n = obj.length;
        st = [];

        for (i = 0; i < n; i++) {
          st.push(EncodingClass.string.duplicate(obj[i]));
        }

        return st;
      } else if (EncodingClass.type.isDate(obj)) {
        return new Date(obj.getTime());
      } else if (EncodingClass.type.isObject(obj)) {
        keys = Object.keys(obj);
        n = keys.length;
        st = {};

        for (i = 0; i < n; i++) {
          st[keys[i]] = EncodingClass.string.duplicate(obj[keys[i]]);
        }

        return st;
      } else if (EncodingClass.type.isFunction(obj)) {
        return obj;
      } else if (EncodingClass.type.isBoolean(obj)) {
        if (obj) {
          return true;
        } else {
          return false;
        }
      } else if (EncodingClass.type.isNumber(obj)) {
        return obj;
      } else if (EncodingClass.type.isString(obj)) {
        return obj + "";
      }

      return obj;
    },
    fromVariable: function fromVariable(obj) {
      var i, n, x, z, st, sx, keys, ss;
      if (obj === undefined) return "undefined#";
      if (obj == null) return "null#";

      if (EncodingClass.type.isArray(obj)) {
        n = obj.length;
        st = [];

        for (i = 0; i < n; i++) {
          sx = EncodingClass.string.fromVariable(obj[i]);
          st.push(sx.length + "#" + sx);
        }

        return "array#" + n + "#" + EncodingClass.string.merge(st);
      } else if (EncodingClass.type.isDate(obj)) {
        obj = obj.getTime();
        sx = EncodingClass.base64.encode(obj + "");
        return "date#" + sx.length + "#" + sx;
      } else if (EncodingClass.type.isObject(obj)) {
        keys = Object.keys(obj);
        n = keys.length;
        st = [];

        for (i = 0; i < n; i++) {
          sx = EncodingClass.base64.encode(keys[i]);
          st.push(sx.length + "#" + sx);
          sx = EncodingClass.string.fromVariable(obj[keys[i]]);
          st.push(sx.length + "#" + sx);
        }

        return "obj#" + n + "#" + EncodingClass.string.merge(st);
      } else if (EncodingClass.type.isFunction(obj)) {
        sx = EncodingClass.base64.encode(EncodingClass.utf8.encode(obj.toString() + ""));
        return "function#" + sx.length + "#" + sx;
      } else if (EncodingClass.type.isBoolean(obj)) {
        if (obj) {
          st = "1";
        } else {
          st = "0";
        }

        return "bool#" + st;
      } else if (EncodingClass.type.isNumber(obj)) {
        sx = EncodingClass.base64.encode(obj + "");
        return "number#" + sx.length + "#" + sx;
      } else if (EncodingClass.type.isString(obj)) {
        sx = EncodingClass.base64.encode(EncodingClass.utf8.encode(obj + ""));
        return "string#" + sx.length + "#" + sx;
      } else {
        return "unknown#";
      }
    },
    toVariable: function toVariable(str) {
      var i, k, x, n, z, r, sx, st, kv;
      k = str.indexOf("#");
      if (k <= 0) return undefined;
      st = str.substr(0, k);
      str = str.substr(k + 1);

      switch (st) {
        case "null":
          return null;

        case "string":
        case "number":
        case "date":
        case "function":
          k = str.indexOf("#");
          if (k <= 0) return undefined;
          sx = str.substr(0, k);
          str = str.substr(k + 1);
          if (st == "date") return new Date(parseInt(EncodingClass.base64.decode(str), 10));
          if (st == "number") return parseFloat(EncodingClass.base64.decode(str));
          sx = EncodingClass.utf8.decode(EncodingClass.base64.decode(str));
          if (st == "string") return sx;
          return new Function("return " + sx)();

        case "array":
          r = [];
          k = str.indexOf("#");
          if (k <= 0) return undefined;
          n = parseInt(str.substr(0, k), 10);
          str = str.substr(k + 1);

          for (i = 0; i < n; i++) {
            k = str.indexOf("#");
            if (k <= 0) return undefined;
            z = parseInt(str.substr(0, k), 10);
            x = str.substr(k + 1, z);
            str = str.substr(k + z + 1);
            r.push(EncodingClass.string.toVariable(x));
          }

          return r;

        case "obj":
          r = {};
          k = str.indexOf("#");
          if (k <= 0) return undefined;
          n = parseInt(str.substr(0, k), 10);
          str = str.substr(k + 1);

          for (i = 0; i < n; i++) {
            k = str.indexOf("#");
            if (k <= 0) return undefined;
            z = parseInt(str.substr(0, k), 10);
            x = str.substr(k + 1, z);
            str = str.substr(k + z + 1);
            kv = EncodingClass.base64.decode(x);
            k = str.indexOf("#");
            if (k <= 0) return undefined;
            z = parseInt(str.substr(0, k), 10);
            x = str.substr(k + 1, z);
            str = str.substr(k + z + 1);
            r[kv] = EncodingClass.string.toVariable(x);
          }

          return r;

        case "bool":
          if (str == "1") return true;
          if (str == "0") return false;

        case "undefined":
        case "unknown":
        default:
          return undefined;
      }

      ;
    },
    fromDouble: function fromDouble(value, precise) {
      var s, d, k, sign;
      if (precise === undefined) precise = -3;

      if (precise < 0) {
        if (value >= 0) {
          sign = "";
        } else {
          sign = "-";
          value = -value;
        }

        s = value.toFixed(-precise) + "";
        k = s.indexOf(".");

        if (k >= 0) {
          d = s.substr(0, k);
          s = s.substr(k + 1);

          while (s != "") {
            k = s.length - 1;

            if (s.substr(k, 1) == "0") {
              s = s.substr(0, k - 1);
            } else {
              break;
            }
          }

          if (s == "") return d;
          return sign + d + "." + s;
        }

        return sign + s;
      }

      if (value >= 0) return value.toFixed(precise);
      return "-" + (-value).toFixed(precise);
    },
    addslashes: function addslashes(str) {
      return str.replace(/\\/g, '\\\\').replace(/\u0008/g, '\\b').replace(/\t/g, '\\t').replace(/\n/g, '\\n').replace(/\f/g, '\\f').replace(/\r/g, '\\r').replace(/'/g, '\\\'').replace(/"/g, '\\"');
    },
    readln: function readln(str) {
      var k = str.indexOf("\n");
      if (k == -1) return {
        result: str,
        remain: ""
      };
      return {
        result: str.substr(0, k),
        remain: str.substr(k + 1)
      };
    },
    readlnInt: function readlnInt(str) {
      var t = EncodingClass.string.readln(str);
      return {
        result: parseInt(t.result, 10),
        remain: t.remain
      };
    },
    readlnHex: function readlnHex(str) {
      var t = EncodingClass.string.readln(str);
      return {
        result: parseInt(t.result, 16),
        remain: t.remain
      };
    },
    readlnFloat: function readlnFloat(str) {
      var t = EncodingClass.string.readln(str);
      return {
        result: parseFloat(t.result, 10),
        remain: t.remain
      };
    },
    toHex: function toHex(number, width) {
      var i, t, h;
      if (width === undefined) width = 0;
      t = number.toString(16);
      if (width == 0) return t;
      h = t.length;

      if (width > 0) {
        for (i = h; i < width; i++) {
          t = "0" + t;
        }

        return t;
      } else {
        width = -width;

        if (h <= width) {
          for (i = h; i < width; i++) {
            t = "0" + t;
          }

          return t;
        } else {
          return t.substr(width - h);
        }
      }
    },
    fromHex: function fromHex(str) {
      return parseInt(str, 16);
    },
    getStringLine: function getStringLine(st) {
      var k;
      k = st.indexOf("\n");
      if (k == -1) return {
        result: st,
        remain: null
      };
      return {
        result: st.substr(0, k),
        remain: st.substr(k + 1)
      };
    },
    getBase64StringLine: function getBase64StringLine(st) {
      var k;
      k = st.indexOf("\n");
      if (k == -1) return {
        result: EncodingClass.utf8.decode(EncodingClass.base64.decode(st)),
        remain: null
      };
      return {
        result: EncodingClass.utf8.decode(EncodingClass.base64.decode(st.substr(0, k))),
        remain: st.substr(k + 1)
      };
    },
    innerHTML2Text: function innerHTML2Text(st) {
      var x = document.createElement("div");
      x.innerHTML = st;
      if (x.textContent !== undefined) return x.textContent;
      if (x.innerText !== undefined) return x.innerText;
      return "";
    }
  },
  utf8: {
    encode: function encode(sx) {
      var i, k, x, st;
      sx = sx + "";
      k = sx.length;
      st = "";

      for (i = 0; i < k; i++) {
        x = sx.charCodeAt(i);

        if (x <= 0x7f) {
          st += String.fromCharCode(x);
        } else if (x <= 0x7FF) {
          st += String.fromCharCode(192 + (x >> 6)) + String.fromCharCode(128 + (x & 0x3f));
        } else if (x <= 0xFFFF) {
          st += String.fromCharCode(224 + (x >> 12)) + String.fromCharCode(128 + (x >> 6 & 0x3f)) + String.fromCharCode(128 + (x & 0x3f));
        } else {
          st += String.fromCharCode(240 + (x >> 18)) + String.fromCharCode(128 + (x >> 12 & 0x3f)) + String.fromCharCode(128 + (x >> 6 & 0x3f)) + String.fromCharCode(128 + (x & 0x3f));
        }
      }

      return st;
    },
    decode: function decode(sx) {
      var i, k, x, m, st;
      sx = sx + "";
      k = sx.length;
      st = "";

      for (i = 0; i < k; i++) {
        x = sx.charCodeAt(i);

        if (x >= 240) {
          m = x & 0x7;
          x = sx.charCodeAt(++i);
          m = (m << 6) + (x & 0x3F);
          x = sx.charCodeAt(++i);
          m = (m << 6) + (x & 0x3F);
          x = sx.charCodeAt(++i);
          m = (m << 6) + (x & 0x3F);
          st += String.fromCharCode(m);
        } else if (x >= 224) {
          m = x & 0xF;
          x = sx.charCodeAt(++i);
          m = (m << 6) + (x & 0x3F);
          x = sx.charCodeAt(++i);
          m = (m << 6) + (x & 0x3F);
          st += String.fromCharCode(m);
        } else if (x >= 192) {
          m = x & 0x1F;
          x = sx.charCodeAt(++i);
          m = (m << 6) + (x & 0x3F);
          st += String.fromCharCode(m);
        } else {
          st += String.fromCharCode(x);
        }
      }

      return st;
    }
  },
  quickEncrypt: function quickEncrypt(sx) {
    var i, k, x, st;
    var i, k, x, st;
    sx = EncodingClass.utf8.encode(sx);
    k = sx.length;
    st = "";

    for (i = 0; i < k; i++) {
      x = sx.charCodeAt(i);
      st += String.fromCharCode(65 + (x & 0xF)) + String.fromCharCode(65 + (x >> 4 & 0xF));
    }

    return st;
  },
  quickDecrypt: function quickDecrypt(sx) {
    var i, k, x, y, st;
    k = sx.length;
    st = "";

    for (i = 0; i < k; i++) {
      x = sx.charCodeAt(i++) - 65;
      y = sx.charCodeAt(i) - 65;
      st += String.fromCharCode((y << 4) + x);
    }

    return EncodingClass.utf8.decode(st);
  },
  inputvalue: function inputvalue(str) {
    var st = "";
    str = "" + str;
    var i;
    var x = str.length;

    for (i = 0; i < x; i++) {
      st = st + "&#" + str.charCodeAt(i) + ";";
    }

    return st;
  },
  textshow: function textshow(str, tabEnabled) {
    var st = "",
        t;
    str = "" + str;
    var i;
    var x = str.length;

    for (i = 0; i < x; i++) {
      t = str.charCodeAt(i);

      if (t != 10 && t != 13) {
        st += "&#" + t + ";";
      } else if (t == 10) st += "<br>";
    }

    if (tabEnabled === undefined) tabEnabled = false;
    if (tabEnabled) return "<pre>" + st + "</pre>";
    return st;
  },
  base64: {
    encode: function encode(st) {
      var keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
      var i, j, k, x, sx, v1, v2, v3, t1, t2, t3, t4;
      sx = "";
      x = st.length;

      for (i = 0; i + 3 <= x;) {
        v1 = st.charCodeAt(i++) & 255;
        v2 = st.charCodeAt(i++) & 255;
        v3 = st.charCodeAt(i++) & 255;
        t1 = v1 >> 2;
        t2 = ((v1 & 3) << 4) + (v2 >> 4);
        t3 = ((v2 & 15) << 2) + (v3 >> 6);
        t4 = v3 & 63;
        sx += keyStr.substr(t1, 1) + keyStr.substr(t2, 1) + keyStr.substr(t3, 1) + keyStr.substr(t4, 1);
      }

      if (i + 1 == x) {
        v1 = st.charCodeAt(i++) & 255;
        t1 = v1 >> 2;
        t2 = (v1 & 3) << 4;
        sx += keyStr.substr(t1, 1) + keyStr.substr(t2, 1) + "==";
      } else if (i + 2 == x) {
        v1 = st.charCodeAt(i++) & 255;
        v2 = st.charCodeAt(i++) & 255;
        t1 = v1 >> 2;
        t2 = ((v1 & 3) << 4) + (v2 >> 4);
        t3 = (v2 & 15) << 2;
        sx += keyStr.substr(t1, 1) + keyStr.substr(t2, 1) + keyStr.substr(t3, 1) + "=";
      }

      return sx;
    },
    chartovalue: function chartovalue(c) {
      if (65 <= c && c <= 90) return c - 65;
      if (97 <= c && c <= 122) return c + 26 - 97;
      if (48 <= c && c <= 57) return c + 52 - 48;
      if (c == 43) return 62;
      if (c == 47) return 63;
      return 64;
    },
    decode: function decode(st) {
      var i, j, k, x, sx, v1, v2, v3, t1, t2, t3, t4;
      sx = "";
      x = st.length;

      for (i = 0; i < x;) {
        t1 = EncodingClass.base64.chartovalue(st.charCodeAt(i++));
        t2 = EncodingClass.base64.chartovalue(st.charCodeAt(i++));
        t3 = EncodingClass.base64.chartovalue(st.charCodeAt(i++));
        t4 = EncodingClass.base64.chartovalue(st.charCodeAt(i++));

        if (t3 == 64) {
          v1 = (t1 << 2) + (t2 >> 4);
          sx += String.fromCharCode(v1);
        } else if (t4 == 64) {
          v1 = (t1 << 2) + (t2 >> 4);
          v2 = ((t2 & 15) << 4) + (t3 >> 2);
          sx += String.fromCharCode(v1) + String.fromCharCode(v2);
        } else {
          v1 = (t1 << 2) + (t2 >> 4);
          v2 = ((t2 & 15) << 4) + (t3 >> 2);
          v3 = ((t3 & 3) << 6) + t4;
          sx += String.fromCharCode(v1) + String.fromCharCode(v2) + String.fromCharCode(v3);
        }
      }

      return sx;
    }
  },
  md5: {
    encode: function encode(str) {
      var x = EncodingClass.md5.str2blks_MD5(str);
      var a = 1732584193;
      var b = -271733879;
      var c = -1732584194;
      var d = 271733878;
      var olda, oldb, oldc, oldd, i;

      for (i = 0; i < x.length; i += 16) {
        olda = a;
        oldb = b;
        oldc = c;
        oldd = d;
        a = EncodingClass.md5.local_md5_ff(a, b, c, d, x[i + 0], 7, -680876936);
        d = EncodingClass.md5.local_md5_ff(d, a, b, c, x[i + 1], 12, -389564586);
        c = EncodingClass.md5.local_md5_ff(c, d, a, b, x[i + 2], 17, 606105819);
        b = EncodingClass.md5.local_md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);
        a = EncodingClass.md5.local_md5_ff(a, b, c, d, x[i + 4], 7, -176418897);
        d = EncodingClass.md5.local_md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);
        c = EncodingClass.md5.local_md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);
        b = EncodingClass.md5.local_md5_ff(b, c, d, a, x[i + 7], 22, -45705983);
        a = EncodingClass.md5.local_md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);
        d = EncodingClass.md5.local_md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);
        c = EncodingClass.md5.local_md5_ff(c, d, a, b, x[i + 10], 17, -42063);
        b = EncodingClass.md5.local_md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);
        a = EncodingClass.md5.local_md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);
        d = EncodingClass.md5.local_md5_ff(d, a, b, c, x[i + 13], 12, -40341101);
        c = EncodingClass.md5.local_md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);
        b = EncodingClass.md5.local_md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);
        a = EncodingClass.md5.local_md5_gg(a, b, c, d, x[i + 1], 5, -165796510);
        d = EncodingClass.md5.local_md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);
        c = EncodingClass.md5.local_md5_gg(c, d, a, b, x[i + 11], 14, 643717713);
        b = EncodingClass.md5.local_md5_gg(b, c, d, a, x[i + 0], 20, -373897302);
        a = EncodingClass.md5.local_md5_gg(a, b, c, d, x[i + 5], 5, -701558691);
        d = EncodingClass.md5.local_md5_gg(d, a, b, c, x[i + 10], 9, 38016083);
        c = EncodingClass.md5.local_md5_gg(c, d, a, b, x[i + 15], 14, -660478335);
        b = EncodingClass.md5.local_md5_gg(b, c, d, a, x[i + 4], 20, -405537848);
        a = EncodingClass.md5.local_md5_gg(a, b, c, d, x[i + 9], 5, 568446438);
        d = EncodingClass.md5.local_md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);
        c = EncodingClass.md5.local_md5_gg(c, d, a, b, x[i + 3], 14, -187363961);
        b = EncodingClass.md5.local_md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);
        a = EncodingClass.md5.local_md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);
        d = EncodingClass.md5.local_md5_gg(d, a, b, c, x[i + 2], 9, -51403784);
        c = EncodingClass.md5.local_md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);
        b = EncodingClass.md5.local_md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);
        a = EncodingClass.md5.local_md5_hh(a, b, c, d, x[i + 5], 4, -378558);
        d = EncodingClass.md5.local_md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);
        c = EncodingClass.md5.local_md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);
        b = EncodingClass.md5.local_md5_hh(b, c, d, a, x[i + 14], 23, -35309556);
        a = EncodingClass.md5.local_md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);
        d = EncodingClass.md5.local_md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);
        c = EncodingClass.md5.local_md5_hh(c, d, a, b, x[i + 7], 16, -155497632);
        b = EncodingClass.md5.local_md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);
        a = EncodingClass.md5.local_md5_hh(a, b, c, d, x[i + 13], 4, 681279174);
        d = EncodingClass.md5.local_md5_hh(d, a, b, c, x[i + 0], 11, -358537222);
        c = EncodingClass.md5.local_md5_hh(c, d, a, b, x[i + 3], 16, -722521979);
        b = EncodingClass.md5.local_md5_hh(b, c, d, a, x[i + 6], 23, 76029189);
        a = EncodingClass.md5.local_md5_hh(a, b, c, d, x[i + 9], 4, -640364487);
        d = EncodingClass.md5.local_md5_hh(d, a, b, c, x[i + 12], 11, -421815835);
        c = EncodingClass.md5.local_md5_hh(c, d, a, b, x[i + 15], 16, 530742520);
        b = EncodingClass.md5.local_md5_hh(b, c, d, a, x[i + 2], 23, -995338651);
        a = EncodingClass.md5.local_md5_ii(a, b, c, d, x[i + 0], 6, -198630844);
        d = EncodingClass.md5.local_md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);
        c = EncodingClass.md5.local_md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);
        b = EncodingClass.md5.local_md5_ii(b, c, d, a, x[i + 5], 21, -57434055);
        a = EncodingClass.md5.local_md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);
        d = EncodingClass.md5.local_md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);
        c = EncodingClass.md5.local_md5_ii(c, d, a, b, x[i + 10], 15, -1051523);
        b = EncodingClass.md5.local_md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);
        a = EncodingClass.md5.local_md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);
        d = EncodingClass.md5.local_md5_ii(d, a, b, c, x[i + 15], 10, -30611744);
        c = EncodingClass.md5.local_md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);
        b = EncodingClass.md5.local_md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);
        a = EncodingClass.md5.local_md5_ii(a, b, c, d, x[i + 4], 6, -145523070);
        d = EncodingClass.md5.local_md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);
        c = EncodingClass.md5.local_md5_ii(c, d, a, b, x[i + 2], 15, 718787259);
        b = EncodingClass.md5.local_md5_ii(b, c, d, a, x[i + 9], 21, -343485551);
        a = EncodingClass.md5.local_md5_add(a, olda);
        b = EncodingClass.md5.local_md5_add(b, oldb);
        c = EncodingClass.md5.local_md5_add(c, oldc);
        d = EncodingClass.md5.local_md5_add(d, oldd);
      }

      return EncodingClass.md5.local_md5_rhex(a) + EncodingClass.md5.local_md5_rhex(b) + EncodingClass.md5.local_md5_rhex(c) + EncodingClass.md5.local_md5_rhex(d);
    },
    local_md5_hex_chr: "0123456789abcdef",
    local_md5_rhex: function local_md5_rhex(num) {
      var str = "";
      var j;

      for (j = 0; j <= 3; j++) {
        str += EncodingClass.md5.local_md5_hex_chr.charAt(num >> j * 8 + 4 & 0x0F) + EncodingClass.md5.local_md5_hex_chr.charAt(num >> j * 8 & 0x0F);
      }

      return str;
    },
    str2blks_MD5: function str2blks_MD5(str) {
      var nblk, blks, i;
      nblk = (str.length + 8 >> 6) + 1;
      blks = new Array(nblk * 16);

      for (i = 0; i < nblk * 16; i++) {
        blks[i] = 0;
      }

      for (i = 0; i < str.length; i++) {
        blks[i >> 2] |= str.charCodeAt(i) << i % 4 * 8;
      }

      blks[i >> 2] |= 0x80 << i % 4 * 8;
      blks[nblk * 16 - 2] = str.length * 8;
      return blks;
    },
    local_md5_add: function local_md5_add(x, y) {
      var lsw = (x & 0xFFFF) + (y & 0xFFFF);
      var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
      return msw << 16 | lsw & 0xFFFF;
    },
    local_md5_rol: function local_md5_rol(num, cnt) {
      return num << cnt | num >>> 32 - cnt;
    },
    local_md5_cmn: function local_md5_cmn(q, a, b, x, s, t) {
      return EncodingClass.md5.local_md5_add(EncodingClass.md5.local_md5_rol(EncodingClass.md5.local_md5_add(EncodingClass.md5.local_md5_add(a, q), EncodingClass.md5.local_md5_add(x, t)), s), b);
    },
    local_md5_ff: function local_md5_ff(a, b, c, d, x, s, t) {
      return EncodingClass.md5.local_md5_cmn(b & c | ~b & d, a, b, x, s, t);
    },
    local_md5_gg: function local_md5_gg(a, b, c, d, x, s, t) {
      return EncodingClass.md5.local_md5_cmn(b & d | c & ~d, a, b, x, s, t);
    },
    local_md5_hh: function local_md5_hh(a, b, c, d, x, s, t) {
      return EncodingClass.md5.local_md5_cmn(b ^ c ^ d, a, b, x, s, t);
    },
    local_md5_ii: function local_md5_ii(a, b, c, d, x, s, t) {
      return EncodingClass.md5.local_md5_cmn(c ^ (b | ~d), a, b, x, s, t);
    }
  }
};
window.EncodingClass = EncodingClass;

/***/ }),
/* 199 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(200);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 200 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".lds-roller {\r\n    display: inline-block;\r\n    position: relative;\r\n    width: 80px;\r\n    height: 80px;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) scale(2);\r\n  }\r\n  .lds-roller div {\r\n    animation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\r\n    transform-origin: 40px 40px;\r\n  }\r\n  .lds-roller div:after {\r\n    content: \" \";\r\n    display: block;\r\n    position: absolute;\r\n    width: 7px;\r\n    height: 7px;\r\n    border-radius: 50%;\r\n    background: #fff;\r\n    margin: -4px 0 0 -4px;\r\n  }\r\n  .lds-roller div:nth-child(1) {\r\n    animation-delay: -0.036s;\r\n  }\r\n  .lds-roller div:nth-child(1):after {\r\n    top: 63px;\r\n    left: 63px;\r\n  }\r\n  .lds-roller div:nth-child(2) {\r\n    animation-delay: -0.072s;\r\n  }\r\n  .lds-roller div:nth-child(2):after {\r\n    top: 68px;\r\n    left: 56px;\r\n  }\r\n  .lds-roller div:nth-child(3) {\r\n    animation-delay: -0.108s;\r\n  }\r\n  .lds-roller div:nth-child(3):after {\r\n    top: 71px;\r\n    left: 48px;\r\n  }\r\n  .lds-roller div:nth-child(4) {\r\n    animation-delay: -0.144s;\r\n  }\r\n  .lds-roller div:nth-child(4):after {\r\n    top: 72px;\r\n    left: 40px;\r\n  }\r\n  .lds-roller div:nth-child(5) {\r\n    animation-delay: -0.18s;\r\n  }\r\n  .lds-roller div:nth-child(5):after {\r\n    top: 71px;\r\n    left: 32px;\r\n  }\r\n  .lds-roller div:nth-child(6) {\r\n    animation-delay: -0.216s;\r\n  }\r\n  .lds-roller div:nth-child(6):after {\r\n    top: 68px;\r\n    left: 24px;\r\n  }\r\n  .lds-roller div:nth-child(7) {\r\n    animation-delay: -0.252s;\r\n  }\r\n  .lds-roller div:nth-child(7):after {\r\n    top: 63px;\r\n    left: 17px;\r\n  }\r\n  .lds-roller div:nth-child(8) {\r\n    animation-delay: -0.288s;\r\n  }\r\n  .lds-roller div:nth-child(8):after {\r\n    top: 56px;\r\n    left: 12px;\r\n  }\r\n  @keyframes lds-roller {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n\r\n  .container-wheel{\r\n    width: 100vw;\r\n    height: 100vh;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    pointer-events: none;\r\n    z-index: 9999;\r\n    background-color: rgba(0, 0, 0, 0.502);\r\n  }", ""]);



/***/ }),
/* 201 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(202);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 202 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "html {\r\n    font-size: 14px;\r\n}\r\n\r\ninput {\r\n    font-size: 1em;\r\n}\r\n\r\n.no-animation table.sortTable>tbody>tr.parent {\r\n    opacity: 1;\r\n    transform: none;\r\n    transition: none;\r\n}\r\n\r\n.pizo-app .container-sortTable {\r\n    width: 100%;\r\n}\r\n\r\nbody {\r\n    --blue: #122246;\r\n    --indigo: #6610f2;\r\n    --purple: #6f42c1;\r\n    --pink: #e83e8c;\r\n    --red: #dc3545;\r\n    --orange: #fd7e14;\r\n    --yellow: #ffc107;\r\n    --green: #28a745;\r\n    --teal: #20c997;\r\n    --cyan: #17a2b8;\r\n    --white: #fff;\r\n    --gray: #6c757d;\r\n    --gray-dark: #343a40;\r\n    --primary: #007bff;\r\n    --secondary: #6c757d;\r\n    --success: #28a745;\r\n    --info: #17a2b8;\r\n    --warning: #ffc107;\r\n    --danger: #dc3545;\r\n    --light: #f8f9fa;\r\n    --dark: #343a40;\r\n    --breakpoint-xs: 0;\r\n    --breakpoint-sm: 41.1429em;\r\n    --breakpoint-md: 54.8571em;\r\n    --breakpoint-lg: 70.8571em;\r\n    --breakpoint-xl: 85.7143em;\r\n    --font-family-sans-serif: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\r\n    --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\r\n    --border-color: #253863;\r\n    --color-body: #eef5f9;\r\n    --color-input-color: #d6d6d6;\r\n}\r\n\r\nbody {\r\n    margin: 0em;\r\n    font-family: \"Segoe UI\", \"SegoeuiPc\", \"San Francisco\", \"Helvetica Neue\", \"Helvetica\", \"Lucida Grande\", \"Roboto\", \"Ubuntu\", \"Tahoma\", Microsoft Sans Serif, Tahoma, Arial, sans-serif;\r\n    color: #222222;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-font-smoothing: antialiased;\r\n    text-shadow: 0rem 0 0rem rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.app-container {\r\n    width: 100vw;\r\n    height: 100vh;\r\n}\r\n\r\n.pizo-app {\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n\r\n.pizo-header {\r\n    width: calc(100% - 0.1429rem);\r\n    border: 0.0714rem solid var(--border-color);\r\n    background-color: var(--blue);\r\n}\r\n\r\n.pizo-header-logo {\r\n    padding-left: 1.4286em;\r\n    padding-right: 1.4286em;\r\n    height: calc(100% - 1.4286rem);\r\n    padding-top: 0.7143em;\r\n    padding-bottom: 0.7143em;\r\n    display: inline-block;\r\n}\r\n\r\n.pizo-header-logo-icon {\r\n    height: 2.1429em;\r\n    width: 2.1429em;\r\n    vertical-align: middle;\r\n}\r\n\r\n.pizo-header-logo-text {\r\n    margin-left: 0.3571em;\r\n    height: 1.0714em;\r\n    vertical-align: middle;\r\n}\r\n\r\n.pizo-header-menu {\r\n    vertical-align: middle;\r\n    background-color: transparent;\r\n    padding-top: 1em;\r\n    padding-bottom: 1em;\r\n    text-align: center;\r\n    border-left: 0.0714rem solid var(--border-color);\r\n}\r\n\r\n.pizo-header-menu .absol-hmenu-button {\r\n    color: var(--white);\r\n}\r\n\r\n.pizo-body {\r\n    display: inline-block;\r\n    width: 100%;\r\n    height: calc(100% - 4.0714rem);\r\n    background: var(--color-body);\r\n}\r\n\r\n.pizo-body-title {\r\n    position: absolute;\r\n    width: 100%;\r\n}\r\n\r\n.pizo-body-title-left {\r\n    transform: translateY(-100%) translateY(-5px);\r\n    float: left;\r\n    color: var( --blue);\r\n    line-height: 2.1429em;\r\n    font-size: 1.5em;\r\n    position: fixed;\r\n}\r\n\r\n.breadcrumb-item+.breadcrumb-item::before {\r\n    display: inline-block;\r\n    padding-right: .5em;\r\n    padding-left: .5em;\r\n    color: var(--gray);\r\n    content: \"/\";\r\n}\r\n\r\n.pizo-body-title-right-item {\r\n    color: var(--primary);\r\n    text-decoration: none;\r\n    background-color: transparent;\r\n}\r\n\r\n.pizo-body-title .pizo-body-title-right-item+.pizo-body-title-right-item:before {\r\n    content: \"\\e649\";\r\n    font-family: themify;\r\n    font-size: 0.7857em;\r\n}\r\n\r\n.pizo-body-title-right {\r\n    margin-right: 2.1429em;\r\n    margin-top: 0.71428571428em;\r\n    font-size: 1em;\r\n    float: right;\r\n}\r\n\r\n.absol-single-page-header {\r\n    z-index: 1000;\r\n    width: calc(100% - 17px) !important;\r\n}\r\n\r\n.outer-wrapper {\r\n    width: calc(100% - 1.4286rem);\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    position: relative;\r\n}\r\n\r\n.portal-section {\r\n    float: right;\r\n}\r\n\r\n.not-login-signin {\r\n    background: #2f426d;\r\n    color: #fff;\r\n    padding: 0.5rem 0.7143em;\r\n    border-radius: 0.1429em;\r\n    display: block;\r\n    font-size: 1em;\r\n    white-space: nowrap;\r\n}\r\n\r\n.portal-section .not-loggedin {\r\n    width: auto;\r\n    float: none;\r\n    background: 0 0;\r\n    display: block;\r\n    padding: 0;\r\n    position: absolute;\r\n    transform: translate(-110%, -0);\r\n}\r\n\r\n.material-icons {\r\n    font-size: 1.5em;\r\n}\r\n\r\n.pizo-new-realty-location-detail-row-label-important {\r\n    color: #d93025;\r\n}\r\n\r\n.hasErrorElement {\r\n    background-color: #000000;\r\n}\r\n\r\n.pizo-app .absol-checkbox.pizo-checkbox .absol-checkbox-icon {\r\n    display: block;\r\n}\r\n\r\n._7ql {\r\n    border-radius: 2px;\r\n    display: inline;\r\n    vertical-align: inherit;\r\n}\r\n\r\n._1m6h {\r\n    height: 28px;\r\n    width: 28px;\r\n}\r\n\r\n._h2p ._7ql {\r\n    margin-left: -10px;\r\n}\r\n\r\n._2qgu._2qgu {\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n}\r\n\r\n._1qv9 {\r\n    align-items: center;\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n\r\n._cy7 {\r\n    margin: 11px 0 8px 0;\r\n}\r\n\r\n._h2p ._cy7 {\r\n    margin-right: 1px;\r\n}\r\n\r\n._1vp5 {\r\n    background-color: transparent;\r\n    color: inherit;\r\n    display: inline-block;\r\n    font-size: 12px;\r\n    -webkit-font-smoothing: antialiased;\r\n    font-weight: bold;\r\n    height: 27px;\r\n    line-height: 28px;\r\n    padding: 0 10px 1px;\r\n    position: relative;\r\n    text-decoration: none;\r\n    vertical-align: top;\r\n    white-space: nowrap;\r\n    color: white;\r\n    font-size: 14px;\r\n}", ""]);



/***/ }),
/* 203 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(204);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 204 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-single-page-header {\r\n    padding: 0.7143rem 0.7143rem 0.7143rem 1.4286em;\r\n    background-color: white;\r\n}\r\n\r\n.absol-single-page-header .absol-icon-button:not(:first-child) {\r\n    margin-left: 0.3571em;\r\n}\r\n\r\n.absol-single-page-header .absol-icon-button:not(:last-child) {\r\n    margin-right: 0.3571em;\r\n}\r\n\r\n.pizo-list-realty-button {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n}\r\n\r\n.pizo-app .absol-single-page-header {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-list-realty-page-allinput-input {\r\n    padding: 0.4286em;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    width: calc(100% - 1rem);\r\n    display: inline-block;\r\n    font-size: 1.01em;\r\n}\r\n\r\n.pizo-list-realty-page-allinput {\r\n    padding-left: 1.4286em;\r\n    position: relative;\r\n    flex-grow: 2;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n}\r\n\r\n.pizo-list-realty-page-allinput-search {\r\n    position: absolute;\r\n    height: calc(100% - 0.4rem);\r\n    width: 4em;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    right: 3px;\r\n    top: 3px;\r\n}\r\n\r\n.pizo-list-realty-page-number {\r\n    margin-right: 1.7143em;\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n\r\n.pizo-list-realty-page-number-input {\r\n    width: 2.1429em;\r\n}\r\n\r\n.pizo-list-realty-page-number-line {\r\n    left: calc(100% - 10px);\r\n    position: absolute;\r\n    transform: translate(-100%, 0);\r\n    white-space: nowrap;\r\n    top: 0.7143em;\r\n    height: 2em;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentWidgetsPointsLabel {\r\n    margin: auto;\r\n    margin-left: 0.3571rem\r\n}\r\n\r\n.pizo-body-dashboard {\r\n    margin: 1.4286em;\r\n    margin-top: 2.1429em;\r\n    width: calc(100% - 2.8571rem);\r\n    height: calc(100% - 3.2857rem);\r\n}\r\n\r\n.pizo-body-dashboard>div {\r\n    background-color: white;\r\n}\r\n\r\n.pizo-list-realty-main,\r\n.pizo-list-plan-main {\r\n    margin-left: 1.4286em;\r\n    margin-right: 0.7143em;\r\n    position: absolute;\r\n    height: 100%;\r\n    width: calc(100% - 30px);\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-list-realty-main {\r\n    flex-direction: column;\r\n}\r\n\r\n.pizo-new-realty-desc {\r\n    width: 100%;\r\n}\r\n\r\n.pizo-list-realty-main-search-control {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    flex-shrink: 0;\r\n}\r\n\r\n.pizo-list-realty-main-result-control {\r\n    flex-grow: 2;\r\n    position: relative;\r\n    align-items: stretch;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    flex-direction: column;\r\n    /* max-height: 100%; */\r\n}\r\n\r\n.pizo-list-realty-main-search-control-container {\r\n    width: 100%;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row {\r\n    margin-bottom: 0.7143em;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row>div {\r\n    min-height: 0.0714em;\r\n    display: inline-block;\r\n    vertical-align: bottom;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-date {\r\n    width: calc(18% + 1.4286rem);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-phone {\r\n    width: calc(18% - 1.7857rem);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-button {\r\n    width: calc(28% - 1.8125rem);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-MS {\r\n    width: 9%;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-MS-input>input {\r\n    width: calc(100% - 1rem);\r\n    padding: 0.4286em;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-SN {\r\n    width: 9%;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-SN-input>input {\r\n    width: calc(100% - 1rem);\r\n    padding: 0.4286em;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-TD {\r\n    width: calc(18% - 1.7857rem);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-TD-input>input {\r\n    width: calc(100% - 1rem);\r\n    padding: 0.4286em;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-PX {\r\n    width: calc(18% - 1.7857rem);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-PX-input>input {\r\n    width: calc(100% - 1rem);\r\n    padding: 0.4286em;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-QH {\r\n    width: calc(18% - 1.7857rem);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-QH-input>input {\r\n    width: calc(100% - 1rem);\r\n    padding: 0.4286em;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-TT {\r\n    width: calc(18% - 1.7857rem);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-TT-input>input {\r\n    width: calc(100% - 1rem);\r\n    padding: 0.4286em;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-HT-input {\r\n    height: 1.9375em;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-HT-input>div {\r\n    min-width: 100% !important;\r\n    height: 100%;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row>div:not(:first-child) {\r\n    margin-left: 1.4286em;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-price-input>input {\r\n    width: calc(50% - 1rem);\r\n    padding: 0.4286em;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    text-align: right;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-phone-input>input {\r\n    padding: 0.4286em;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    width: calc(100% - 1rem);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-price-input>input::-webkit-inner-spin-button,\r\n.pizo-list-realty-main-search-control-row-price-input>input::-webkit-outer-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-phone-input>input::-webkit-inner-spin-button,\r\n.pizo-list-realty-main-search-control-row-phone-input>input::-webkit-outer-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-MS-input>input::-webkit-inner-spin-button,\r\n.pizo-list-realty-main-search-control-row-MS-input>input::-webkit-outer-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-button-search {\r\n    margin-top: 1em;\r\n    margin-bottom: auto;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-date-input .absol-calendar-input {\r\n    width: calc(50% - 0.1429rem);\r\n}\r\n\r\n.pizo-list-realty-button-apply.pizo-list-realty-button-element {\r\n    width: calc(50% - 0.6428rem);\r\n}\r\n\r\n.pizo-list-realty-button-deleteall.pizo-list-realty-button-element {\r\n    margin-left: 1em;\r\n    width: calc(50% - 0.6428rem);\r\n}\r\n\r\n.pizo-list-realty-page-allinput-container {\r\n    display: inline-block;\r\n    position: relative;\r\n    width: calc(100% - 9rem);\r\n}\r\n\r\n.navbar-search__filter {\r\n    width: 1.5em;\r\n    stroke: #ee4d2d!important;\r\n    fill: #ee4d2d!important;\r\n    display: inline-block;\r\n}\r\n\r\n.navbar-search__filter-text {\r\n    color: #ee4d2d;\r\n    display: inline-block;\r\n    vertical-align: bottom;\r\n    font-size: 0.8em;\r\n}\r\n\r\n.pizo-list-realty-page-allinput-filter {\r\n    display: inline-block;\r\n    position: relative;\r\n    vertical-align: middle;\r\n    margin-left: 1em;\r\n    display: none;\r\n    margin-bottom: 0.2em;\r\n}\r\n\r\n.pizo-list-realty-main-search-control.showTranslate {\r\n    transform: translateX(-100%);\r\n}\r\n\r\n.pizo-list-realty-main-search-control.showTranslate .pizo-list-realty-main-search-control-container {\r\n    transform: translateX(-100%);\r\n}\r\n\r\n.pizo-list-realty-main-search-control.showTranslate .hideTranslate.pizo-list-realty-main-search-control-container {\r\n    transform: translateX(0);\r\n}\r\n\r\n.pizo-list-realty-main-result-control .sortTable {\r\n    width: 100%;\r\n}\r\n\r\n\r\n/* after the second non-.parent, toggle again */\r\n\r\n.pizo-list-realty-main-result-control tr:not(.parent)~tr:not(.parent)~.parent:nth-child(even) td {\r\n    background-color: #f5f5f5;\r\n}\r\n\r\n.pizo-list-realty-main-result-control tr:not(.parent)~tr:not(.parent)~.parent:nth-child(odd) td {\r\n    background-color: #fff;\r\n}\r\n\r\n\r\n/* after the first non-.parent, toggle colors */\r\n\r\n.pizo-list-realty-main-result-control tr:not(.parent)~.parent:nth-child(odd) td {\r\n    background-color: #f5f5f5;\r\n}\r\n\r\n.pizo-list-realty-main-result-control tr:not(.parent)~.parent:nth-child(even) td {\r\n    background-color: #fff;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-HT-label {\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    flex-shrink: 0;\r\n    align-items: center;\r\n    padding-right: 10px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-HT-input {\r\n    flex-grow: 2;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    height: 30px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-HT {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    align-items: center;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-price-label {\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    flex-shrink: 0;\r\n    align-items: center;\r\n    padding-right: 10px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-price-input {\r\n    flex-grow: 2;\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n}", ""]);



/***/ }),
/* 205 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(206);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 206 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "    .mpot-choice-value {\r\n        padding-top: 0.5em;\r\n        padding-bottom: 0.5em;\r\n    }\r\n    \r\n    .mpot-preview-body {\r\n        position: relative;\r\n    }\r\n    \r\n    #preview-GPS {\r\n        flex-grow: 2;\r\n        display: flex;\r\n        width: 100%;\r\n        position: relative;\r\n        margin: 0;\r\n        padding-left: 5px;\r\n    }\r\n    \r\n    #preview-GPS .mpot-base-preview-name {\r\n        display: none;\r\n    }\r\n    \r\n    #preview-GPS .mpot-base-preview-content {\r\n        width: 100%;\r\n        height: 100%;\r\n        padding: 0;\r\n    }\r\n    \r\n    #preview-GPS .mpot-base-preview-content>div {\r\n        width: 100%;\r\n        height: 100%;\r\n        padding: 0;\r\n    }\r\n    \r\n    #preview-GPS .mpot-base-preview-content .card-edit-company-block-maps-child {\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n    \r\n    #preview-GPS .mpot-base-preview-content .pizo-new-realty-location-map-view {\r\n        width: 100%;\r\n        margin: 0;\r\n        height: 100%;\r\n        position: absolute;\r\n        min-width: unset;\r\n    }\r\n    \r\n    .mpot-base-preview {\r\n        margin-top: 5px;\r\n    }\r\n    \r\n    #preview-general {\r\n        flex-grow: 2;\r\n        display: flex;\r\n        width: 100%;\r\n        flex-direction: column;\r\n        padding-right: 5px;\r\n    }\r\n    \r\n    #preview-general>div {\r\n        width: 100%;\r\n        display: flex;\r\n    }\r\n    \r\n    #preview-address {\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n    }\r\n    \r\n    #preview-address .mpot-base-preview-name {\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        flex-shrink: 0;\r\n    }\r\n    \r\n    #preview-address-old {\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n    }\r\n    \r\n    #preview-address-old .mpot-base-preview-name {\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        flex-shrink: 0;\r\n    }\r\n    \r\n    #preview-description,\r\n    #preview-name {\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n    }\r\n    \r\n    #preview-description .mpot-base-preview-name,\r\n    #preview-name .mpot-base-preview-name {\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        flex-shrink: 0;\r\n    }\r\n    \r\n    #preview-structure-detail .pizo-new-realty-dectruct-content-area-selectbox:first-child .pizo-new-realty-desc-detail-row:first-child {}\r\n    \r\n    #preview-structure-detail .pizo-new-realty-dectruct-content-area-selectbox:first-child .pizo-new-realty-desc-detail-row:last-child {\r\n        margin-left: 30px;\r\n        width: calc(50% + 5px);\r\n    }\r\n    \r\n    #preview-structure-detail .pizo-new-realty-dectruct-content-area-selectbox:last-child {}\r\n    \r\n    #preview-construction,\r\n    #preview-container-price-juridical {\r\n        flex-grow: 2;\r\n        display: flex;\r\n        width: 100%;\r\n    }\r\n    \r\n    #preview-container-price-juridical {\r\n        padding-left: 5px;\r\n        flex-direction: column;\r\n    }\r\n    \r\n    #preview-construction {\r\n        flex-flow: wrap;\r\n    }\r\n    \r\n    #preview-construction>div.mpot-preview-group-name {\r\n        display: flex;\r\n        width: 100%;\r\n    }\r\n    \r\n    #preview-construction .mpot-base-preview {\r\n        width: 50%;\r\n        display: inline-flex;\r\n    }\r\n    \r\n    #preview-construction .mpot-base-preview .mpot-base-preview-content {\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        flex-shrink: 0;\r\n        padding-right: 30px;\r\n        padding-top: 0;\r\n        padding-bottom: 0;\r\n    }\r\n    \r\n    .mpot-base-preview .mpot-base-preview-content>* {\r\n        padding-top: 0.25em;\r\n        padding-bottom: 0.25em;\r\n    }\r\n    \r\n    .mpot-base-preview .mpot-base-preview-content>span {\r\n        padding-left: 0.25em;\r\n        padding-right: 0.25em;\r\n        text-align: justify;\r\n        display: block;\r\n        width: 100%;\r\n        height: fit-content;\r\n    }\r\n    \r\n    #preview-description .mpot-base-preview-content,\r\n    #preview-name .mpot-base-preview-content,\r\n    #preview-address-old .mpot-base-preview-content,\r\n    #preview-address .mpot-base-preview-content {\r\n        width: 100%;\r\n        display: flex;\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        flex-grow: 2;\r\n    }\r\n    \r\n    #preview-construction .mpot-base-preview .mpot-base-preview-name {\r\n        flex-grow: 2;\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        width: unset;\r\n        white-space: nowrap;\r\n    }\r\n    \r\n    #preview-description .mpot-base-preview-content {\r\n        width: 100%;\r\n        display: flex;\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n    }\r\n    \r\n    #edit-construction .mpot-group-editor-item#width .mpot-choice-list,\r\n    #edit-construction .mpot-group-editor-item#height .mpot-choice-list,\r\n    #edit-construction .mpot-group-editor-item#acreage .mpot-choice-list,\r\n    #edit-construction .mpot-group-editor-item#landarea .mpot-choice-list,\r\n    #edit-construction .mpot-group-editor-item#floorarea .mpot-choice-list,\r\n    #edit-construction .mpot-group-editor-item#direction .mpot-choice-list,\r\n    #edit-construction .mpot-group-editor-item#type-house .mpot-choice-list,\r\n    #edit-construction .mpot-group-editor-item#roadwidth .mpot-choice-list {\r\n        display: flex;\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        table-layout: unset;\r\n    }\r\n    \r\n    #edit-construction .mpot-group-editor-item#width .mpot-choice-list .mpot-choice,\r\n    #edit-construction .mpot-group-editor-item#height .mpot-choice-list .mpot-choice,\r\n    #edit-construction .mpot-group-editor-item#acreage .mpot-choice-list .mpot-choice,\r\n    #edit-construction .mpot-group-editor-item#landarea .mpot-choice-list .mpot-choice,\r\n    #edit-construction .mpot-group-editor-item#floorarea .mpot-choice-list .mpot-choice,\r\n    #edit-construction .mpot-group-editor-item#direction .mpot-choice-list .mpot-choice,\r\n    #edit-construction .mpot-group-editor-item#type-house .mpot-choice-list .mpot-choice,\r\n    #edit-construction .mpot-group-editor-item#roadwidth .mpot-choice-list .mpot-choice {\r\n        flex-grow: 2;\r\n        display: flex;\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        width: 100%;\r\n    }\r\n    \r\n    #preview-structure .pizo-new-realty-desc-detail-row {\r\n        margin-bottom: 0;\r\n    }\r\n    \r\n    #preview-structure .pizo-new-realty-dectruct-content-area-size-zone {\r\n        margin-bottom: 0;\r\n    }\r\n    \r\n    #preview-structure .pizo-new-realty-dectruct-content-area {\r\n        display: none;\r\n    }\r\n    \r\n    #preview-structure .pizo-new-realty-detruct-content-structure {\r\n        width: 120px;\r\n        min-width: unset;\r\n    }\r\n    \r\n    #preview-structure .mpot-base-preview-name {\r\n        padding-top: 12px;\r\n    }\r\n    \r\n    #preview-structure .mpot-base-preview-content>div>div {\r\n        width: 100%;\r\n    }\r\n    \r\n    #preview-structure .pizo-new-realty-dectruct-content-area-size {\r\n        margin-top: 10px;\r\n    }\r\n    \r\n    #structure .mpot-choice-list {\r\n        width: 100%;\r\n    }\r\n    \r\n    #structure .mpot-choice-list .mpot-choice-value>span {\r\n        width: 100%;\r\n        -webkit-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n        -moz-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n        box-shadow: 3px 7px 10px -9px rgba(0, 0, 0, 0.75);\r\n    }\r\n    \r\n    #structure .mpot-choice-list .mpot-choice-value>span>div {\r\n        width: 100%;\r\n        margin-bottom: 0;\r\n    }\r\n    \r\n    #structure .pizo-new-realty-desc-detail-row {\r\n        margin-bottom: 0;\r\n    }\r\n    \r\n    #structure .mpot-choice {\r\n        border-top: 1px;\r\n    }\r\n    \r\n    #structure .pizo-new-realty-detruct-content-structure {\r\n        border-right: none;\r\n    }\r\n    \r\n    #preview-container-general {\r\n        display: -webkit-box;\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        width: 100%;\r\n        height: 100%;\r\n        align-items: stretch;\r\n    }\r\n    \r\n    #preview-container-general>div.mpot-preview-group-name {\r\n        display: none;\r\n    }\r\n    \r\n    #preview-structure-detail .mpot-base-preview-name {\r\n        display: none;\r\n    }\r\n    \r\n    #preview-construction .mpot-base-preview#preview-structure-detail {\r\n        width: 100%;\r\n        margin-top: 0;\r\n    }\r\n    \r\n    #preview-construction .mpot-base-preview#preview-structure-detail .mpot-base-preview-content {\r\n        width: 100%;\r\n        padding-right: 0;\r\n    }\r\n    \r\n    #preview-structure-detail .pizo-new-realty-dectruct-content-area {\r\n        margin-top: 0;\r\n        margin-left: 0;\r\n        margin-right: 30px;\r\n        margin-bottom: 0;\r\n    }\r\n    \r\n    #preview-direction .mpot-base-preview-name {\r\n        font-weight: bold;\r\n    }\r\n    \r\n    #preview-type-house .mpot-base-preview-name {\r\n        font-weight: bold;\r\n    }\r\n    \r\n    #preview-structure-detail .pizo-new-realty-dectruct-content-area-selectbox,\r\n    #structure .pizo-new-realty-dectruct-content-area-selectbox {\r\n        margin: 0;\r\n    }\r\n    /* #preview-structure-detail .absol-checkbox{\r\n    pointer-events: none;\r\n} */\r\n    \r\n    #preview-structure-detail .pizo-new-realty-dectruct-content-area-simple>div:last-child .pizo-new-realty-dectruct-content-area-size-zone {\r\n        margin-bottom: 0;\r\n    }\r\n    \r\n    #preview-construction .mpot-base-preview#preview-roadwidth {\r\n        width: 100%;\r\n    }\r\n    \r\n    #preview-construction .mpot-base-preview#preview-roadwidth .mpot-base-preview-name {\r\n        font-weight: bold;\r\n    }\r\n    \r\n    #edit-equipments .mpot-choice-list {\r\n        width: 100%;\r\n    }\r\n    \r\n    #edit-equipments .mpot-choice-list .mpot-choice-value {\r\n        pointer-events: none;\r\n    }\r\n    \r\n    #edit-equipments .mpot-choice-list .mpot-choice-value>span {\r\n        width: 100%;\r\n        -webkit-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n        -moz-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n        box-shadow: 3px 7px 10px -9px rgba(0, 0, 0, 0.75);\r\n    }\r\n    \r\n    #edit-equipments .mpot-choice-list .mpot-choice-value>span .pizo-new-realty-convenient-content-size {\r\n        margin-right: 0;\r\n    }\r\n    /* #preview-structure-detail .pizo-new-realty-dectruct-content-area-selectbox-child:not(:first-child){\r\n    margin-left: 20px;\r\n}\r\n\r\n#preview-structure-detail .pizo-new-realty-dectruct-content-area-selectbox-child{\r\n    width: calc(50% - 10px);\r\n} */\r\n    \r\n    #edit-equipments .mpot-choice-list .mpot-choice-value .absol-selectbox-item-close {\r\n        display: none;\r\n    }\r\n    \r\n    #edit-equipments .mpot-choice-list .mpot-choice-value .absol-selectbox-item-text {\r\n        padding-right: 10px;\r\n    }\r\n    \r\n    #preview-equipments .mpot-base-preview-content {\r\n        display: none;\r\n    }\r\n    \r\n    #preview-container-orther {\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        width: 100%;\r\n    }\r\n    \r\n    #preview-container-orther>div.mpot-preview-group-name {\r\n        display: none;\r\n    }\r\n    \r\n    #preview-equipments {\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        flex-shrink: 0;\r\n        align-items: center;\r\n    }\r\n    \r\n    #preview-equipments-detail {\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        flex-grow: 2;\r\n    }\r\n    \r\n    #preview-equipments-detail .mpot-base-preview-content {\r\n        width: 100%;\r\n    }\r\n    \r\n    #preview-equipments-detail .mpot-base-preview-content .pizo-new-realty-convenient-content-size {\r\n        margin-right: 0;\r\n    }\r\n    \r\n    #preview-equipments .mpot-base-preview-name {\r\n        width: auto;\r\n        font-weight: bold;\r\n    }\r\n    \r\n    #preview-equipments-detail .mpot-base-preview-name {\r\n        width: 30px;\r\n    }\r\n    \r\n    #edit-contact .mpot-choice-list .mpot-choice-value {\r\n        pointer-events: none;\r\n    }\r\n    \r\n    #edit-contact .mpot-choice-list .mpot-choice-value>span {\r\n        width: 100%;\r\n        -webkit-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n        -moz-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n        box-shadow: 3px 7px 10px -9px rgba(0, 0, 0, 0.75);\r\n    }\r\n    \r\n    #edit-contact .mpot-choice-list .mpot-choice-value>span .pizo-new-realty-convenient-content-size {\r\n        margin-right: 0;\r\n    }\r\n    /* #preview-structure-detail .pizo-new-realty-dectruct-content-area-selectbox-child:not(:first-child){\r\n    margin-left: 20px;\r\n}\r\n\r\n#preview-structure-detail .pizo-new-realty-dectruct-content-area-selectbox-child{\r\n    width: calc(50% - 10px);\r\n} */\r\n    \r\n    #edit-contact .mpot-choice-list .mpot-choice-value .absol-selectbox-item-close {\r\n        display: none;\r\n    }\r\n    \r\n    #edit-contact .mpot-choice-list .mpot-choice-value .absol-selectbox-item-text {\r\n        padding-right: 10px;\r\n    }\r\n    \r\n    #edit-contact .mpot-choice-list {\r\n        width: 100%;\r\n    }\r\n    \r\n    #edit-contact .pizo-new-realty-contact-item-setting {\r\n        display: none;\r\n    }\r\n    \r\n    #edit-contact .pizo-new-realty-contact-item-close {\r\n        display: none;\r\n    }\r\n    \r\n    #edit-contact .pizo-new-realty-contact-item {\r\n        margin-bottom: 0.7143em;\r\n    }\r\n    \r\n    #preview-contact .pizo-new-realty-contact-item {\r\n        padding: 0.7143em;\r\n        margin: 0;\r\n        padding-bottom: 0.7143em;\r\n        -webkit-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n        -moz-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n        box-shadow: 3px 7px 10px -9px rgba(0, 0, 0, 0.75);\r\n        -webkit-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n        -moz-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n        box-shadow: 3px 7px 10px -9px rgba(0, 0, 0, 0.75);\r\n    }\r\n    \r\n    #preview-contact {\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        width: 100%;\r\n    }\r\n    \r\n    #preview-contact .mpot-base-preview-name {\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        flex-shrink: 0;\r\n        align-items: center;\r\n    }\r\n    \r\n    #preview-contact .mpot-base-preview-content {\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        flex-grow: 2;\r\n    }\r\n    \r\n    #preview-contact .mpot-base-preview-content>div {\r\n        width: 100%;\r\n    }\r\n    \r\n    #preview-image-status img {\r\n        vertical-align: middle;\r\n        display: inline-block;\r\n        max-width: 300px;\r\n        max-height: 300px;\r\n        border: solid 1px #122246;\r\n        padding: 0;\r\n    }\r\n    \r\n    #preview-image-juridical img {\r\n        vertical-align: middle;\r\n        display: inline-block;\r\n        max-width: 300px;\r\n        max-height: 300px;\r\n        border: solid 1px #122246;\r\n        padding: 0;\r\n    }\r\n    \r\n    #edit-image-status .pizo-container-icon-radiobutton {\r\n        display: none;\r\n    }\r\n    \r\n    #edit-image-status .close-button-img {\r\n        display: none;\r\n    }\r\n    \r\n    #edit-image-juridical .close-button-img {\r\n        display: none;\r\n    }\r\n    \r\n    #preview-container-price-construct {\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n    \r\n    #preview-container-price-construct>div.mpot-preview-group-name {\r\n        display: none;\r\n    }\r\n    \r\n    .mpot-preview-body>div:not(:last-child) {\r\n        margin-top: 10px;\r\n    }\r\n    \r\n    #fit .mpot-choice-list {\r\n        width: 100%;\r\n    }\r\n    \r\n    #fit .mpot-choice-list .mpot-choice-value {\r\n        pointer-events: none;\r\n    }\r\n    \r\n    #fit .mpot-choice-list .mpot-choice-value>span {\r\n        width: 100%;\r\n        -webkit-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n        -moz-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n        box-shadow: 3px 7px 10px -9px rgba(0, 0, 0, 0.75);\r\n    }\r\n    \r\n    #fit .mpot-choice-list .mpot-choice-value>span .pizo-new-realty-convenient-content-size {\r\n        margin-right: 0;\r\n    }\r\n    \r\n    #fit .mpot-choice-list .mpot-choice-value .absol-selectbox-item-close {\r\n        display: none;\r\n    }\r\n    \r\n    #fit .pizo-new-realty-dectruct-content-area-fit.pizo-new-realty-dectruct-input .absol-selectbox-item .absol-selectbox-item-text {\r\n        padding-right: 5px;\r\n    }\r\n    \r\n    #preview-price {\r\n        display: -webkit-box;\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        width: 100%;\r\n        align-items: stretch;\r\n        flex-direction: column;\r\n    }\r\n    \r\n    #preview-price>div.mpot-preview-group-name {\r\n        display: flex;\r\n    }\r\n    \r\n    #preview-fit {\r\n        display: flex;\r\n        width: 100%;\r\n    }\r\n    \r\n    #preview-fit>div.mpot-base-preview-name {\r\n        display: flex;\r\n        flex-shrink: 0;\r\n        width: fit-content;\r\n        white-space: nowrap;\r\n        padding: 0;\r\n        padding-right: 10px;\r\n        align-items: center;\r\n    }\r\n    \r\n    #preview-fit>div.mpot-base-preview-content {\r\n        flex-grow: 2;\r\n        display: flex;\r\n        width: 100%;\r\n        padding: 0;\r\n    }\r\n    \r\n    #preview-fit>div.mpot-base-preview-content>div {\r\n        flex-grow: 2;\r\n        display: flex;\r\n        width: 100%;\r\n    }\r\n    \r\n    #preview-fit>div.mpot-base-preview-content>div>div.pizo-new-realty-dectruct-content-area-fit.pizo-new-realty-dectruct-input {\r\n        display: block;\r\n    }\r\n    \r\n    .pizo-new-realty-detruct-content-price.pizo-new-realty-dectruct-input {\r\n        text-align: right;\r\n    }\r\n    \r\n    #preview-price-child>div.mpot-base-preview-name {\r\n        display: flex;\r\n        flex-shrink: 0;\r\n        align-items: center;\r\n    }\r\n    \r\n    #preview-price-child>div.mpot-base-preview-content {\r\n        display: flex;\r\n        flex-grow: 2;\r\n        padding: 0;\r\n    }\r\n    \r\n    #preview-price-child>div.mpot-base-preview-content>div {\r\n        display: -webkit-box;\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        width: 100%;\r\n        align-items: stretch;\r\n    }\r\n    \r\n    #preview-price-child {\r\n        display: -webkit-box;\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        width: 100%;\r\n        height: 100%;\r\n        align-items: stretch;\r\n    }\r\n    \r\n    .pizo-new-realty-detruct-content-price.pizo-new-realty-dectruct-input {\r\n        text-align: right;\r\n    }\r\n    \r\n    .pizo-new-realty-detruct-content-price-rent.pizo-new-realty-dectruct-input {\r\n        text-align: right;\r\n    }\r\n    \r\n    #preview-price-rent>div.mpot-base-preview-name {\r\n        display: flex;\r\n        flex-shrink: 0;\r\n        align-items: center;\r\n    }\r\n    \r\n    #preview-price-rent>div.mpot-base-preview-content {\r\n        display: flex;\r\n        flex-grow: 2;\r\n        padding: 0;\r\n    }\r\n    \r\n    #preview-price-rent>div.mpot-base-preview-content>div {\r\n        display: -webkit-box;\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        width: 100%;\r\n        align-items: stretch;\r\n    }\r\n    \r\n    #preview-price-rent {\r\n        display: -webkit-box;\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        width: 100%;\r\n        height: 100%;\r\n        align-items: stretch;\r\n    }\r\n    \r\n    #preview-price-rent .pizo-new-realty-dectruct-content-area-right {\r\n        margin: 0;\r\n        width: 100%;\r\n    }\r\n    \r\n    #price-rent .pizo-new-realty-dectruct-content-area-right {\r\n        margin: 0;\r\n        width: 100%;\r\n    }\r\n    \r\n    #price-rent .pizo-new-realty-detruct-content-price.pizo-new-realty-dectruct-input {\r\n        text-align: right;\r\n    }\r\n    \r\n    #preview-juridical>div.mpot-base-preview-name {\r\n        display: flex;\r\n        flex-shrink: 0;\r\n        align-items: center;\r\n        width: 100%;\r\n        font-size: 1.2em;\r\n        font-weight: bold;\r\n    }\r\n    \r\n    #preview-juridical>div.mpot-base-preview-content {\r\n        display: flex;\r\n        flex-grow: 2;\r\n        padding: 0;\r\n    }\r\n    \r\n    #preview-juridical>div.mpot-base-preview-content>div {\r\n        display: -webkit-box;\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        width: 100%;\r\n        align-items: stretch;\r\n    }\r\n    \r\n    #preview-juridical {\r\n        display: -webkit-box;\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        width: 100%;\r\n        align-items: stretch;\r\n        flex-direction: column;\r\n    }\r\n    \r\n    #preview-juridical .pizo-new-realty-juridical-content {\r\n        display: flex;\r\n        width: 100%;\r\n    }\r\n    \r\n    .displayNonePriceRent #preview-price-rent {\r\n        display: none;\r\n    }", ""]);



/***/ }),
/* 207 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(208);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 208 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".mpot-merge-tool {\r\n    position: relative;\r\n    --preview-width: 50%;\r\n    font-size: 14px;\r\n}\r\n\r\n.mpot-merge-tool-preview-ctn {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: var(--preview-width);\r\n    z-index: 1;\r\n    border-right: 1px solid #dddddd;\r\n    padding: 1em;\r\n    box-sizing: border-box;\r\n    overflow-y: auto;\r\n    background-color: rgb(238, 236, 234);\r\n}\r\n\r\n.mpot-merge-tool-properties-ctn {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    left: var(--preview-width);\r\n    z-index: 1;\r\n}\r\n\r\n.mpot-merge-tool-center-resizer {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: 0.5em;\r\n    left: calc(var(--preview-width) - 0.25em);\r\n    z-index: 2;\r\n    cursor: ew-resize;\r\n    touch-action: none;\r\n}\r\n\r\n.mpot-merge-tool-center-resizer.as-active {\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    width: auto;\r\n}\r\n\r\n\r\n.mpot-merge-tool-preview-ctn > .mpot-preview {\r\n    width: 100%;\r\n    background: white;\r\n    -webkit-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n    -moz-box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n    box-shadow: 3px 7px 25px -9px rgba(0, 0, 0, 0.75);\r\n}\r\n\r\n\r\n.mpot-merge-tool-properties-ctn > .mpot-property-editor {\r\n    width: 100%;\r\n    height: 100%;\r\n    box-sizing: border-box;\r\n}", ""]);



/***/ }),
/* 209 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(210);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 210 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".mpot-preview {\r\n    box-sizing: border-box;\r\n    --page-padding-left: 1em;\r\n    --page-padding-right: 1em;\r\n    --page-padding-top: 1.5em;\r\n    --page-padding-bottom: 1.5em;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    padding-left: var(--page-padding-left);\r\n    padding-right: var(--page-padding-right);\r\n    padding-top: var(--page-padding-top);\r\n    padding-bottom: var(--page-padding-bottom);\r\n}\r\n\r\n\r\n.mpot-preview-header {\r\n    box-sizing: border-box;\r\n    padding-top: var(--page-padding-top);\r\n    padding-bottom: 1em;\r\n\r\n}\r\n\r\n.mpot-preview-title {\r\n    font-size: 1.7em;\r\n    font-weight: bold;\r\n}\r\n\r\n.mpot-preview-body {\r\n    padding-top: 1em;\r\n    padding-bottom: 1em;\r\n    --property-name-width: 7em;\r\n}\r\n\r\n.mpot-preview-group {\r\n    box-sizing: border-box;\r\n    padding-bottom: 0.5em;\r\n    padding-top: 0.5em;\r\n}\r\n\r\n.mpot-preview-group-name {\r\n    font-size: 1.2em;\r\n    font-weight: bold;\r\n}\r\n\r\n", ""]);



/***/ }),
/* 211 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(212);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 212 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-color-picker {\r\n    user-select: none;\r\n    height: 19em;\r\n    width: 20em;\r\n    position: relative;\r\n    background-color: white;\r\n    /* background-color: rgb(45, 45, 49); */\r\n    color: rgb(26, 26, 46);\r\n    border-radius: 0.4em;\r\n    padding: 0.7em;\r\n    display: inline-block;\r\n    border: solid 1px rgba(139, 139, 169, 0.733);\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    -webkit-box-shadow: 2px 2px 17px -1px rgba(0, 0, 0, 0.54);\r\n    -moz-box-shadow: 2px 2px 17px -1px rgba(0, 0, 0, 0.54);\r\n    box-shadow: 2px 2px 17px -1px rgba(0, 0, 0, 0.54);\r\n}\r\n\r\n.absol-color-picker.with-alpha {\r\n    width: 23em;\r\n}\r\n\r\n.absol-color-picker.with-alpha .absol-color-picker-color,\r\n.absol-color-picker.with-alpha .absol-color-picker-input {\r\n    right: 8em;\r\n}\r\n\r\n\r\n.absol-color-picker,\r\n.absol-color-picker * {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.absol-color-picker-color {\r\n    z-index: 1;\r\n    position: absolute;\r\n    left: 1em;\r\n    right: 5em;\r\n    top: 1em;\r\n    bottom: 4em;\r\n    padding: 0;\r\n    border: solid 1px rgb(220, 220, 220);\r\n    border-bottom-width: 2px;\r\n    box-sizing: content-box;\r\n}\r\n\r\n.absol-color-picker-sat {\r\n    box-sizing: content-box;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-image: -webkit-gradient(linear, 0 0, 100% 0, from(#FFF), to(rgba(204, 154, 129, 0)));\r\n    background-image: -webkit-linear-gradient(left, #FFF, rgba(204, 154, 129, 0));\r\n    background-image: -moz-linear-gradient(left, #fff, rgba(204, 154, 129, 0));\r\n    background-image: -o-linear-gradient(left, #fff, rgba(204, 154, 129, 0));\r\n    background-image: -ms-linear-gradient(left, #fff, rgba(204, 154, 129, 0));\r\n    background-image: linear-gradient(to right, #fff, rgba(204, 154, 129, 0));\r\n    -ms-filter: \"progid:DXImageTransform.Microsoft.gradient(GradientType = 1, startColorstr=#FFFFFFFF, endColorstr=#00CC9A81)\";\r\n    filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1, startColorstr='#FFFFFFFF', endColorstr='#00CC9A81');\r\n}\r\n\r\n.absol-color-picker-val {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    box-sizing: content-box;\r\n    background-image: -webkit-gradient(linear, 0 100%, 0 0, from(#000000), to(rgba(204, 154, 129, 0)));\r\n    background-image: -webkit-linear-gradient(bottom, #000000, rgba(204, 154, 129, 0));\r\n    background-image: -moz-linear-gradient(bottom, #000, rgba(204, 154, 129, 0));\r\n    background-image: -o-linear-gradient(bottom, #000, rgba(204, 154, 129, 0));\r\n    background-image: -ms-linear-gradient(bottom, #000, rgba(204, 154, 129, 0));\r\n    background-image: linear-gradient(to top, #000, rgba(204, 154, 129, 0));\r\n    -ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00CC9A81, endColorstr=#FF000000)\";\r\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00CC9A81', endColorstr='#FF000000');\r\n}\r\n\r\n.absol-color-dragger {\r\n    border: solid 1px rgb(160, 160, 160);\r\n    box-shadow: inset 0px 0px 0.4em 0.1em rgba(255, 255, 255, 0.7);\r\n}\r\n\r\n.absol-color-picker-val .absol-color-dragger {\r\n    position: absolute;\r\n    z-index: 10;\r\n    width: 1em;\r\n    height: 1em;\r\n    border: solid 1px rgb(160, 160, 160);\r\n    bottom: 0;\r\n    left: 0;\r\n    margin-top: -0.5em;\r\n    margin-bottom: -0.5em;\r\n    margin-left: -0.5em;\r\n    margin-right: -0.5em;\r\n    border-radius: 50%;\r\n    box-shadow: inset 0px 0px 0.4em 0.1em rgba(255, 255, 255, 0.7);\r\n}\r\n\r\n.absol-color-picker-hue-range {\r\n    position: absolute;\r\n    top: 1em;\r\n    right: 1.5em;\r\n    bottom: 4em;\r\n    width: 1.7em;\r\n}\r\n\r\n.absol-color-picker-hue {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    border: inset 1px rgba(220, 220, 225);\r\n    background: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\r\n}\r\n\r\n.absol-color-picker-hue .absol-color-dragger,\r\n.absol-color-picker-alpha .absol-color-dragger {\r\n    position: absolute;\r\n    height: 0.6em;\r\n    left: -0.3em;\r\n    right: -0.3em;\r\n    top: 0%;\r\n    margin-top: -0.3em;\r\n    margin-bottom: -0.3em;\r\n    border-width: 0.1em;\r\n}\r\n\r\n.absol-color-picker-alpha {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-image: linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 1));\r\n}\r\n\r\n.absol-color-picker-alpha-range,\r\n.absol-color-picker-input {\r\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAaSURBVBhXYzh8+PD///8hJAOcBSRxyRw+DABJUCox2kjvSgAAAABJRU5ErkJggg==');\r\n    background-size: 1.5em;\r\n    image-rendering: optimizeSpeed;\r\n    /* STOP SMOOTHING, GIVE ME SPEED  */\r\n    image-rendering: -moz-crisp-edges;\r\n    /* Firefox                        */\r\n    image-rendering: -o-crisp-edges;\r\n    /* Opera                          */\r\n    image-rendering: -webkit-optimize-contrast;\r\n    /* Chrome (and eventually Safari) */\r\n    image-rendering: pixelated;\r\n    /* Chrome */\r\n    image-rendering: optimize-contrast;\r\n    /* CSS3 Proposed                  */\r\n    -ms-interpolation-mode: nearest-neighbor;\r\n    /* IE8+                           */\r\n}\r\n\r\n.absol-color-picker-alpha-range {\r\n    position: absolute;\r\n    right: 4.5em;\r\n    top: 1em;\r\n    bottom: 4em;\r\n    width: 1.7em;\r\n}\r\n\r\n.absol-color-picker:not(.with-alpha) .absol-color-picker-alpha-range {\r\n    display: none;\r\n}\r\n\r\n.absol-color-picker-input {\r\n    position: absolute;\r\n    left: 1em;\r\n    bottom: 1em;\r\n    right: 5em;\r\n    height: 2em;\r\n}\r\n\r\n.absol-color-picker-text-container {\r\n    background-color: transparent;\r\n    outline: none;\r\n    border: none;\r\n    width: 100%;\r\n    height: 100%;\r\n    color: rgb(230, 230, 235);\r\n    text-align: center;\r\n    font-size: 1em;\r\n    background-color: #000;\r\n}\r\n\r\n.absol-color-picker-text-container> span,\r\n.absol-color-picker-text-container> div{\r\n    line-height: 2.5;\r\n    font-size: 0.8em;\r\n}\r\n\r\n.absol-color-picker-mode {\r\n    position: absolute;\r\n    right: 1em;\r\n    bottom: 1em;\r\n    height: 2em;\r\n    width: 3em;\r\n    box-sizing: border-box;\r\n    font-size: 1em;\r\n    border: none;\r\n    outline: none;\r\n    background-color: rgb(243, 243, 243);\r\n    color: rgb(21, 21, 34);\r\n}\r\n\r\n.absol-color-picker.with-alpha .absol-color-picker-mode {\r\n    right: 2.5em;\r\n    width: 3.7em;\r\n}", ""]);



/***/ }),
/* 213 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(214);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 214 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".as-color-picker-button{\r\n    width: 45px;\r\n    height: 30px;\r\n    border-radius: 3px;\r\n    border: 1px solid #d6d6d6;\r\n    background-color: transparent;\r\n    padding: 5px;\r\n    outline: none;\r\n}\r\n\r\n.as-color-picker-button-inner{\r\n    height: 100%;\r\n    width: 100%;\r\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAaSURBVBhXYzh8+PD///8hJAOcBSRxyRw+DABJUCox2kjvSgAAAABJRU5ErkJggg==');\r\n    background-size: 1.5em;\r\n    image-rendering: optimizeSpeed;\r\n    /* STOP SMOOTHING, GIVE ME SPEED  */\r\n    image-rendering: -moz-crisp-edges;\r\n    /* Firefox                        */\r\n    image-rendering: -o-crisp-edges;\r\n    /* Opera                          */\r\n    image-rendering: -webkit-optimize-contrast;\r\n    /* Chrome (and eventually Safari) */\r\n    image-rendering: pixelated;\r\n    /* Chrome */\r\n    image-rendering: optimize-contrast;\r\n    /* CSS3 Proposed                  */\r\n    -ms-interpolation-mode: nearest-neighbor;\r\n    /* IE8+                           */\r\n}\r\n\r\n.as-color-picker-button-inner-value{\r\n    width: 100%;\r\n    height: 100%;\r\n}", ""]);



/***/ }),
/* 215 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(216);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 216 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".mpot-base-preview {\r\n    display: block;\r\n    cursor: pointer;\r\n}\r\n\r\n.mpot-base-preview:hover {\r\n    background-color: rgba(169, 169, 170, 0.1);\r\n}\r\n\r\n.mpot-base-preview-name {\r\n    box-sizing: border-box;\r\n    width: var(--property-name-width);\r\n}\r\n\r\n.mpot-base-preview-content {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.mpot-preview-group {\r\n    box-sizing: border-box;\r\n    padding-bottom: 0.5em;\r\n    padding-top: 0.5em;\r\n}\r\n\r\n.mpot-preview-group-name {\r\n    font-size: 1.2em;\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n.mpot-base-preview-content,\r\n.mpot-base-preview-name {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    padding-top: 0.25em;\r\n    padding-bottom: 0.25em;\r\n}", ""]);



/***/ }),
/* 217 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(218);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 218 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".mpot-base-editor {\r\n\r\n}\r\n\r\n.mpot-choice-list {\r\n    display: table;\r\n    table-layout: fixed;\r\n}\r\n\r\n.mpot-choice {\r\n    display: table-row;\r\n    vertical-align: middle;\r\n}\r\n\r\n.mpot-choice-select-cell {\r\n    display: table-cell;\r\n    width: 2em;\r\n    text-align: center;\r\n    padding-top: 0.5em;\r\n    padding-bottom: 0.5em;\r\n    vertical-align: middle;\r\n}\r\n\r\n.mpot-choice-value {\r\n    display: table-cell;\r\n    vertical-align: middle;\r\n\r\n}\r\n\r\n.mpot-choice span,\r\n.mpot-choice .absol-radio {\r\n    vertical-align: middle;\r\n    display: inline-block;\r\n}\r\n\r\n.mpot-choice-value img {\r\n    vertical-align: middle;\r\n    display: inline-block;\r\n    max-width: 300px;\r\n    max-height: 300px;\r\n}\r\n\r\n\r\n.mpot-text-input::placeholder {\r\n    color: #c4c4c4;\r\n}\r\n\r\n.mpot-choice-input {\r\n    outline: none;\r\n}\r\n\r\ninput.mpot-choice-input,\r\ntextarea.mpot-choice-input {\r\n    border-width: 1px;\r\n    border-color: #dddddd;\r\n}\r\n\r\n.absol-radio.mpot-choice-input {\r\n    border-radius: 50%;\r\n}\r\n\r\n.mpot-choice-input:focus {\r\n    outline: none;\r\n    -webkit-box-shadow: 0px 0px 5px 0px rgba(97, 136, 232, 0.66);\r\n    -moz-box-shadow: 0px 0px 5px 0px rgba(97, 136, 232, 0.66);\r\n    box-shadow: 0px 0px 5px 0px rgba(97, 136, 232, 0.66);\r\n}\r\n\r\n.mpot-group-editor-item {\r\n    display: block;\r\n}\r\n\r\n.mpot-group-editor-item-name {\r\n    font-weight: bold;\r\n}\r\n\r\n.mpot-group-editor-item-editor {\r\n\r\n}", ""]);



/***/ }),
/* 219 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(220);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 220 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".mpot-property-editor {\r\n    box-sizing: border-box;\r\n    position: relative;\r\n}\r\n\r\n.mpot-property-editor-header {\r\n    padding: 1em;\r\n    box-sizing: border-box;\r\n    user-select: none;\r\n}\r\n\r\n.mpot-property-editor-header .as-button-range {\r\n    max-width: 100%;\r\n}\r\n\r\n.mpot-property-editor-body {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 4em;\r\n    bottom: 0;\r\n}\r\n\r\n.mpot-property-editor-body >.absol-frame-view{\r\n    width: 100%;\r\n    height: 100%;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.mpot-property-editor-frame{\r\n    box-sizing: border-box;\r\n    padding: 1em;\r\n    overflow-y: auto;\r\n}", ""]);



/***/ }),
/* 221 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(222);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 222 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-new-realty-location {\r\n    width: 100vw;\r\n    width: 80vw;\r\n    background-color: white;\r\n}\r\n\r\n.pizo-new-realty-location-tab {\r\n    border-bottom: solid 0.0714rem #ccc;\r\n    margin-bottom: 0.7143em;\r\n    background: #f3f3f3;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n}\r\n\r\n.pizo-new-realty-location-tab>span {\r\n    padding: 0.7143em;\r\n    width: 100%;\r\n}\r\n\r\n.pizo-new-realty-location-donebutton {\r\n    display: inline-block;\r\n    width: 6em;\r\n    margin: 5px;\r\n}\r\n\r\n.pizo-new-realty-location-detail {\r\n    max-width: 100%;\r\n    min-width: 380px;\r\n    display: inline-block;\r\n    margin-bottom: 0.7143em;\r\n    width: calc(50% - 1.0714rem);\r\n    vertical-align: top;\r\n}\r\n\r\n.pizo-new-realty-location-content {\r\n    position: relative;\r\n}\r\n\r\n.pizo-new-realty-location-detail-row {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n    width: 100%;\r\n}\r\n\r\n.pizo-new-realty-location-detail-row:not(:last-child) {\r\n    margin-bottom: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-location-detail-row-label {\r\n    -webkit-box-flex: 0;\r\n    -ms-flex: 0 0 calc(33.333333% - 4.2857rem);\r\n    flex: 0 0 calc(33.333333% - 4.2857rem);\r\n    max-width: calc(33.333333% - 4.2857rem);\r\n    text-align: right;\r\n    font-size: 1em;\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n    padding-left: 2.1429em;\r\n    padding-right: 2.1429em;\r\n}\r\n\r\n.pizo-new-realty-location-detail-row-menu {\r\n    -webkit-box-flex: 0;\r\n    -ms-flex: 0 0 66.666667%;\r\n    flex: 0 0 66.666667%;\r\n    max-width: 66.666667%;\r\n}\r\n\r\ninput.pizo-new-realty-location-detail-row-menu {\r\n    -webkit-box-flex: 0;\r\n    -ms-flex: 0 calc(66.666667% - 1rem);\r\n    flex: 0 0 calc(66.666667% - 1rem);\r\n    max-width: calc(66.666667% - 1rem);\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n}\r\n\r\n.pizo-new-realty-location-detail-row-input {\r\n    -webkit-box-flex: 0;\r\n    -ms-flex: 0 calc(66.666667% - 1rem);\r\n    flex: 0 0 calc(66.666667% - 1rem);\r\n    max-width: calc(66.666667% - 1rem);\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n}\r\n\r\n.pizo-new-realty-location-map-view {\r\n    max-width: 100%;\r\n    min-width: 380px;\r\n    display: inline-block;\r\n    margin-bottom: 0.7143em;\r\n    width: calc(50% - 1.0714rem);\r\n    vertical-align: top;\r\n    height: calc(100% - 0.7143rem);\r\n    position: absolute;\r\n    margin-left: 1.0714em;\r\n}\r\n\r\n.pizo-new-realty-location-map-view-content {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.pizo-new-realty-location-detail-row-input-long {\r\n    display: inline-block;\r\n    margin-left: 2.1429em;\r\n    width: calc(50% - 2.0714rem);\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n}\r\n\r\n.pizo-new-realty-location-detail-row-input-lat {\r\n    display: inline-block;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n    width: calc(50% - 2.0714rem);\r\n}\r\n\r\n.labels .arrow {\r\n    border-top-color: #000000;\r\n    border-right-color: rgba(0, 0, 0, 0);\r\n    border-bottom-color: rgba(0, 0, 0, 0);\r\n    border-left-color: rgba(0, 0, 0, 0);\r\n    border-width: 5px 5px 0;\r\n    bottom: 0;\r\n    left: 50%;\r\n    margin-left: -5px;\r\n    border-style: solid;\r\n    height: 0;\r\n    position: absolute;\r\n    width: 0;\r\n    display: none;\r\n}\r\n\r\n.labels .inner {\r\n    background-color: #fff;\r\n    border-radius: 5px;\r\n    color: #000;\r\n    min-width: 50px;\r\n    padding: 3px 8px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    box-shadow: 2px 2px 2px #7a7a7a;\r\n}\r\n\r\n.labels {\r\n    margin-top: -3px;\r\n    padding: 5px;\r\n    position: absolute;\r\n    visibility: visible;\r\n    z-index: 1030;\r\n}", ""]);



/***/ }),
/* 223 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(224);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 224 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-new-account-container,\r\n.pizo-new-account-container-permission {\r\n    width: calc(50% - 15px);\r\n    min-width: 620px;\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    height: 100%;\r\n}\r\n\r\n.pizo-list-realty-main-result-control-advance:not(:first-child) {\r\n    margin-top: 10px;\r\n}\r\n\r\n.pizo-new-account-container-prermission-label {\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row-permission {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    align-items: stretch;\r\n    margin: auto;\r\n}\r\n\r\n.pizo-new-account-container.pizo-new-account-advance-permission .pizo-new-account-container-permission-child>span {\r\n    width: 20%;\r\n}\r\n\r\n.pizo-new-account-container.pizo-new-account-advance-permission .pizo-new-account-container-permission-child>div {\r\n    width: 80%;\r\n}\r\n\r\n.pizo-new-account-container-permission-realty .pizo-new-realty-desc-detail-row-permission:nth-child(1) {\r\n    width: 20%;\r\n}\r\n\r\n.pizo-new-account-container-permission-realty .pizo-new-realty-desc-detail-row-permission:nth-child(2) {\r\n    width: 25%;\r\n}\r\n\r\n.pizo-new-account-container-permission-realty .pizo-new-realty-desc-detail-row-permission:nth-child(3) {\r\n    width: 25%;\r\n}\r\n\r\n.pizo-new-account-container-permission-realty .pizo-new-realty-desc-detail-row-permission:nth-child(4) {\r\n    width: 30%;\r\n}\r\n\r\n.pizo-new-account-container-permission .pizo-new-account-container-prermission-container-label {\r\n    font-size: 16px;\r\n    color: red;\r\n}\r\n\r\n.pizo-new-account-container-permission {\r\n    padding-left: 30px;\r\n}\r\n\r\n.pizo-new-account-container-permission-child {\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.pizo-new-account-container-username-container,\r\n.pizo-new-account-container-password-container,\r\n.pizo-new-account-container-name-container,\r\n.pizo-new-account-container-email-container,\r\n.pizo-new-account-container-avatar-container,\r\n.pizo-new-account-container-address-container,\r\n.pizo-new-account-container-phone-container,\r\n.pizo-new-account-container-status-container,\r\n.pizo-new-account-container-position-container,\r\n.pizo-new-account-container-status-position,\r\n.pizo-new-account-container-phone-birthday-gender,\r\n.pizo-new-account-container-birthday-container,\r\n.pizo-new-account-container-gender-container {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    align-items: stretch;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.pizo-new-account-container-status-container,\r\n.pizo-new-account-container-position-container,\r\n.pizo-new-account-container-birthday-container,\r\n.pizo-new-account-container-gender-container,\r\n.pizo-new-account-container-phone-container {\r\n    margin-bottom: 0;\r\n}\r\n\r\n.pizo-new-account-container-username-container-label,\r\n.pizo-new-account-container-password-container-label,\r\n.pizo-new-account-container-name-container-label,\r\n.pizo-new-account-container-email-container-label,\r\n.pizo-new-account-container-avatar-container-label,\r\n.pizo-new-account-container-address-container-label,\r\n.pizo-new-account-container-phone-container-label,\r\n.pizo-new-account-container-position-container-label,\r\n.pizo-new-account-container-status,\r\n.pizo-new-account-container-gender,\r\n.pizo-new-account-container-birthday,\r\n.pizo-new-account-container-birthday-container-label,\r\n.pizo-new-account-container-prermission-container-label,\r\n.pizo-new-account-container-gender-container-label {\r\n    font-size: 1em;\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    width: 5.71428571429em;\r\n    padding-right: 0.7143em;\r\n    width: 147px;\r\n    margin: auto;\r\n}\r\n\r\n.pizo-new-account-container-status-container-label,\r\n.pizo-new-account-container-birthday-container-label {\r\n    padding-right: 0.7143em;\r\n    width: auto;\r\n    font-size: 1em;\r\n    line-height: 30px;\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n}\r\n\r\n.pizo-new-account-container-gender,\r\n.pizo-new-account-container-birthday {\r\n    width: auto;\r\n    padding-left: 14px;\r\n    padding-right: 0;\r\n}\r\n\r\n.pizo-new-account-container-status-container-label {\r\n    width: auto;\r\n}\r\n\r\n.pizo-new-account-container-status {\r\n    width: auto;\r\n    padding-right: 0;\r\n    padding-left: 30px;\r\n}\r\n\r\n.pizo-new-account-container-status-container>label {\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n}\r\n\r\n.pizo-new-account-container-birthday-container>div {\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.pizo-new-account-container-gender-container-label {\r\n    width: auto;\r\n    padding-right: 10px;\r\n    vertical-align: top;\r\n}\r\n\r\n.pizo-new-account-container-username-container-input,\r\n.pizo-new-account-container-password-container-input,\r\n.pizo-new-account-container-name-container-input,\r\n.pizo-new-account-container-email-container-input,\r\n.pizo-new-account-container-avatar-container-input,\r\n.pizo-new-account-container-gender-container-input,\r\n.pizo-new-account-container-address-container-input,\r\n.pizo-new-account-container-phone-container-input,\r\n.pizo-new-account-container-position-container-input,\r\n.pizo-new-account-container-position,\r\n.pizo-new-account-container-phone {\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.pizo-new-account-container-position-container-input,\r\n.pizo-new-account-container-position,\r\n.pizo-new-account-container-phone {\r\n    padding: unset;\r\n    border: none;\r\n}\r\n\r\n.pizo-new-account-container-password-container-new,\r\n.pizo-new-account-container-password-container-new-confirm {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: calc(50% - 15px);\r\n    height: 100%;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-new-account-container-password-container-new {\r\n    padding-right: 15px;\r\n}\r\n\r\n.pizo-new-account-container-password-container-new-confirm {\r\n    padding-left: 15px;\r\n}\r\n\r\n.pizo-new-account-container-change-password-show {\r\n    display: unset\r\n}\r\n\r\n.pizo-new-account-container-change-password-hide {\r\n    display: none;\r\n}\r\n\r\n.show-password-change .pizo-new-account-container-change-password-show {\r\n    display: none;\r\n}\r\n\r\n.show-password-change .pizo-new-account-container-change-password-hide {\r\n    display: unset;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row-cell-menu-ultra-span {\r\n    font-size: 1em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    overflow: hidden;\r\n    position: relative;\r\n    align-items: center;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-account-container-permission-child:not(:first-child) {\r\n    margin-top: 10px;\r\n}\r\n\r\n.pizo-new-account-container-change-password {\r\n    cursor: pointer;\r\n    padding-left: 170px;\r\n    margin-bottom: 10px;\r\n    color: var(--primary);\r\n}\r\n\r\n.pizo-new-account-container-password {\r\n    display: none;\r\n}\r\n\r\n.absol-switch-slider:before {\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\ninput:checked+.absol-switch-slider:before {\r\n    -webkit-transform: translateX(1em) translateY(-50%);\r\n    -ms-transform: translateX(1em) translateY(-50%);\r\n    transform: translateX(1em) translateY(-50%);\r\n}\r\n\r\n.pizo-new-account-container-avatar-container-image {\r\n    flex-grow: 2;\r\n    display: flex;\r\n}\r\n\r\n.pizo-new-account-container-avatar-container-image-content {\r\n    max-height: 110px;\r\n    max-width: 110px;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    padding: 10px;\r\n    border: 1px solid rgb(214, 214, 214);\r\n}\r\n\r\n.pizo-new-account-container-permission-addvance-selectmenu-icon {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    padding-right: 30px;\r\n    cursor: pointer;\r\n    font-size: 30px;\r\n}\r\n\r\n.pizo-new-account-container-permission-addvance-selectmenu-icon:hover {\r\n    color: #73aed3;\r\n}\r\n\r\n.pizo-new-account-container-permission-addvance-selectmenu-content {\r\n    display: flex;\r\n    flex-grow: 2;\r\n    height: 100%;\r\n}\r\n\r\n.pizo-new-account-container-permission-addvance-selectmenu {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    align-items: stretch;\r\n    align-items: center;\r\n}\r\n\r\n.absol-selectbox-item.selectedIItem {\r\n    background-color: #4e618d;\r\n}", ""]);



/***/ }),
/* 225 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "/*////////////////////////////////////////////////////////////*/\r\n\r\n.freebirdMaterialHeaderbannerLabelTextContainer {\r\n    color: #fff;\r\n    min-width: 0%;\r\n}\r\n\r\n.icon-ceneter {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n\r\n.PageView {\r\n    width: 100%;\r\n    margin: auto;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderInlineDocTitle .quantumWizTextinputPaperinputPlaceholder {\r\n    color: rgba(255, 255, 255, 0.38);\r\n    font: 500 14px Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n    top: 6px;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderTopRow .quantumWizTextinputPaperinputInput {\r\n    color: #333;\r\n    font: 500 14px Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n    height: 30px;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderTopRow .quantumWizTextinputPaperinputPlaceholder {\r\n    color: rgba(0, 0, 0, 0.38);\r\n}\r\n\r\n.freebirdFormeditorViewHeaderTopRow .quantumWizTextinputPaperinputMainContent {\r\n    height: unset;\r\n    top: -5px;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderTopRow .quantumWizTextinputPaperinputEl {\r\n    padding-bottom: unset;\r\n}\r\n\r\n.freebirdHeaderMastWithOverlay .quantumWizTextinputPaperinputUnderline {\r\n    background-color: rgba(0, 0, 0, 0);\r\n}\r\n\r\n.freebirdFormeditorViewHeaderInlineDocTitle .quantumWizTextinputPaperinputEl {\r\n    width: 100%;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderHeaderMast {\r\n    z-index: 1001;\r\n    width: 100%;\r\n}\r\n\r\n.freebirdHeaderMastWithOverlay {\r\n    padding: 10px;\r\n    background-color: rgb(247, 246, 246);\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderTopRow {\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderLeft {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n}\r\n\r\n.freebirdFormeditorViewTabTabWrapper {\r\n    bottom: 0;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    box-pack: justify;\r\n    -webkit-box-pack: justify;\r\n    -webkit-justify-content: space-between;\r\n    justify-content: space-between;\r\n    left: 0;\r\n    position: absolute;\r\n    right: 0;\r\n}\r\n\r\n.freebirdFormeditorViewTabMargin {\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    height: 0;\r\n    box-pack: center;\r\n    -webkit-box-pack: center;\r\n    -webkit-justify-content: center;\r\n    justify-content: center;\r\n    width: 0;\r\n}\r\n\r\n.freebirdSolidBackground {\r\n    background-color: rgb(103, 58, 183);\r\n    color: rgba(255, 255, 255, 1);\r\n}\r\n\r\n.freebirdFormeditorViewTabTabContainer {\r\n    margin: auto;\r\n    position: relative;\r\n    max-width: 90vw;\r\n    min-width: 770px;\r\n    width: calc(60% + 2px);\r\n}\r\n\r\n.freebirdFormeditorViewTabTabs {\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n}\r\n\r\n.freebirdFormeditorViewTabLightTabList {\r\n    background-color: #fff;\r\n    border: solid 1px rgb(30, 30, 32);\r\n}\r\n\r\n.absol-static-tabbar .absol-static-tabbar-button {\r\n    height: 48px;\r\n    width: 150px;\r\n}\r\n\r\n.freebirdFormeditorViewTabInlineTabContent {\r\n    margin-left: 20px;\r\n}\r\n\r\n.freebirdFormeditorViewEditingsurfaceEl {\r\n    width: 100%;\r\n}\r\n\r\n.freebirdFormeditorViewEditingsurfaceCentered {\r\n    margin: auto;\r\n    padding-bottom: 10px;\r\n    max-width: 90vw;\r\n    min-width: 770px;\r\n    width: 60%;\r\n}\r\n\r\n.freebirdFormeditorViewEditingsurfacePanel {\r\n    display: none;\r\n}\r\n\r\n.freebirdFormeditorViewEditingsurfaceisSelected {\r\n    display: block;\r\n}\r\n\r\n.freebirdFormeditorViewFatDesktop {\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    height: 0;\r\n    box-pack: end;\r\n    -webkit-box-pack: end;\r\n    -webkit-justify-content: flex-end;\r\n    justify-content: flex-end;\r\n    position: relative;\r\n    width: 100%;\r\n}\r\n\r\n.freebirdFormeditorViewFatDesktop .freebirdFormeditorViewFatPositioner {\r\n    top: 44px;\r\n    right: -69px;\r\n    position: absolute;\r\n    -webkit-transition: all .3s cubic-bezier(0.4, 0.0, 0.2, 1);\r\n    transition: all .3s cubic-bezier(0.4, 0.0, 0.2, 1);\r\n}\r\n\r\n.freebirdFormeditorViewFatPositioner {\r\n    width: 52px;\r\n}\r\n\r\n.freebirdFormeditorViewFatDesktop .freebirdFormeditorViewFatMenuItem:first-child {\r\n    margin-top: 8px;\r\n}\r\n\r\n.freebirdFormeditorViewFatDesktop .freebirdFormeditorViewFatMenuItem {\r\n    height: 36px;\r\n    padding: 2px;\r\n}\r\n\r\n.freebirdFormeditorViewFatMenuItem {\r\n    opacity: .54;\r\n}\r\n\r\n.freebirdFormeditorViewFatCard {\r\n    background-color: #fff;\r\n    -webkit-box-shadow: 0 0 2px rgba(0, 0, 0, .12), 0 2px 4px rgba(0, 0, 0, .24);\r\n    box-shadow: 0 0 2px rgba(0, 0, 0, .12), 0 2px 4px rgba(0, 0, 0, .24);\r\n    -webkit-border-radius: 2px;\r\n    border-radius: 2px;\r\n}\r\n\r\n.freebirdFormeditorViewTabPointsBadge {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    height: 100%;\r\n    box-pack: end;\r\n    -webkit-box-pack: end;\r\n    -webkit-justify-content: flex-end;\r\n    justify-content: flex-end;\r\n}\r\n\r\n.freebirdFormeditorViewTabPointLabel {\r\n    color: #757575;\r\n    font: 500 14px Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n}\r\n\r\n.freebirdFormeditorViewTabTitleLabel {\r\n    font: 500 14px Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n    margin-right: 10px;\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n}\r\n\r\n.freebirdFormeditorViewTabTitleLabel:not(:first-child) {\r\n    margin-left: 20px;\r\n}\r\n\r\n.freebirdFormeditorViewTabPointValue {\r\n    -webkit-border-radius: 3px;\r\n    border-radius: 3px;\r\n    font-weight: 700;\r\n    padding: 3px 6px;\r\n}\r\n\r\n.freebirdThemedText {\r\n    color: rgb(103, 58, 183);\r\n}\r\n\r\n.freebirdFormeditorViewTabMobilePointLabel {\r\n    display: none;\r\n}\r\n\r\n.quantumWizTabsPapertabsTabList {\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\r\n    position: relative;\r\n    width: 100%;\r\n}\r\n\r\n.freebirdFormeditorViewTabSchemaEditorTab.exportTab,\r\n.freebirdFormeditorViewTabProcessEditorTab.exportTab,\r\n.freebirdFormeditorViewTabSurveyResultsViewTab.exportTab,\r\n.freebirdFormeditorViewTabResponsesViewTab.exportTab {\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-flex: 0;\r\n    box-flex: 0;\r\n    -webkit-flex-grow: 0;\r\n    flex-grow: 0;\r\n}\r\n\r\n.quantumWizTabsPapertabsTab {\r\n    -webkit-user-select: none;\r\n    -webkit-transition: color .1s;\r\n    transition: color .1s;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    border: 0;\r\n    color: rgba(0, 0, 0, 0.54);\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    line-height: 48px;\r\n    min-width: 4em;\r\n    outline: none;\r\n    overflow: hidden;\r\n    position: relative;\r\n    text-align: center;\r\n    text-transform: uppercase;\r\n    -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\n.quantumWizTabsPapertabsTab.isSelected {\r\n    color: #4285f4;\r\n}\r\n\r\n.quantumWizTabsPapertabsTabContent {\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n}\r\n\r\n.isSelected .quantumWizTabsPapertabsTabContent {\r\n    color: rgb(103, 58, 183);\r\n}\r\n\r\n.quantumWizTabsPapertabsTabContent {\r\n    -webkit-align-self: center;\r\n    align-self: center;\r\n    padding: 0 24px;\r\n}\r\n\r\n.quantumWizTabsPapertabsTab.isStatic .quantumWizTabsPapertabsStaticTabIndicator {\r\n    display: block;\r\n}\r\n\r\n.freebirdThemedTab {\r\n    background-color: rgb(103, 58, 183);\r\n}\r\n\r\n.freebirdThemedTab .quantumWizTabsPapertabsStaticTabIndicator {\r\n    background-color: rgb(103, 58, 183);\r\n}\r\n\r\n.quantumWizTabsPapertabsStaticTabIndicator {\r\n    background-color: #4285f4;\r\n    bottom: 0;\r\n    display: none;\r\n    height: 2px;\r\n    position: absolute;\r\n    width: 100%;\r\n}\r\n\r\n.quantumWizTabsPapertabsTabIndicator {\r\n    background-color: #4285f4;\r\n    bottom: 0;\r\n    height: 2px;\r\n    position: absolute;\r\n    will-change: left, width;\r\n    left: 269px;\r\n    width: 102px;\r\n}\r\n\r\n.freebirdThemedTab .exportIndicator {\r\n    background-color: rgb(103, 58, 183);\r\n}\r\n\r\n.freebirdFormeditorViewTabTabList.exportTabList {\r\n    box-pack: center;\r\n    -webkit-box-pack: center;\r\n    -webkit-justify-content: center;\r\n    justify-content: center;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderDocTitle {\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    min-width: 1em;\r\n    transition: width 0.25s;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderDocTitle .quantumWizTextinputPaperinputContentArea {\r\n    top: 5px;\r\n}\r\n\r\n.freebirdHeaderMastWithOverlay .freebirdMutedText {\r\n    color: rgba(255, 255, 255, 0.7);\r\n}\r\n\r\n.freebirdFormeditorViewHeaderSaveIndicator {\r\n    cursor: default;\r\n    font: 400 12px Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n    font-style: italic;\r\n    margin: 0 16px;\r\n    min-width: 80px;\r\n    -webkit-user-select: none;\r\n    width: 180px;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderBottomRow {\r\n    padding: 8px 20px 0 48px;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderHeaderActions {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    padding-right: 2px;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderSendButton.freebirdFormeditorViewHeaderHeaderMenu,\r\n.freebirdFormeditorViewHeaderHeaderActions .freebirdFormeditorViewHeaderPreviewButton,\r\n.freebirdFormeditorViewHeaderHeaderActions .freebirdFormeditorViewHeaderSettingsButton,\r\n.freebirdFormeditorViewHeaderHeaderActions .freebirdFormeditorViewHeaderCustomThemeButton {\r\n    display: block;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderHeaderActions .absol-selectlist-item-text {\r\n    color: #000;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderSendButton.freebirdFormeditorViewHeaderHeaderMenu {\r\n    background: #fff;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderHeaderMenu {\r\n    margin: 0 10px;\r\n}\r\n\r\n.quantumWizButtonPaperbuttonFocusOverlay {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    background-color: transparent;\r\n}\r\n\r\n.quantumWizButtonPapericonbuttonDark {\r\n    color: rgba(255, 255, 255, 0.749);\r\n    fill: rgba(255, 255, 255, 0.749);\r\n}\r\n\r\n.quantumWizButtonPapericonbuttonEl {\r\n    -webkit-user-select: none;\r\n    -webkit-transition: background .3s;\r\n    transition: background .3s;\r\n    border: 0;\r\n    -webkit-border-radius: 50%;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    -webkit-flex-shrink: 0;\r\n    flex-shrink: 0;\r\n    height: 48px;\r\n    outline: none;\r\n    overflow: hidden;\r\n    position: relative;\r\n    text-align: center;\r\n    -webkit-tap-highlight-color: transparent;\r\n    width: 48px;\r\n    z-index: 0;\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n}\r\n\r\n.freebirdFormeditorViewPagePageCard {\r\n    -webkit-box-shadow: 0 0 2px rgba(0, 0, 0, .12), 0 2px 4px rgba(0, 0, 0, .24);\r\n    box-shadow: 0 0 2px rgba(0, 0, 0, .12), 0 2px 4px rgba(0, 0, 0, .24);\r\n    min-width: 250px;\r\n    word-wrap: break-word;\r\n}\r\n\r\n.freebirdFormeditorViewPagePageHeader {\r\n    -webkit-box-align: start;\r\n    box-align: start;\r\n    -webkit-align-items: flex-start;\r\n    align-items: flex-start;\r\n    background-color: #fff;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    height: 40px;\r\n    overflow-y: visible;\r\n    padding-right: 2px;\r\n}\r\n\r\n.freebirdMaterialHeaderbannerLabelContainer {\r\n    -webkit-box-align: stretch;\r\n    box-align: stretch;\r\n    -webkit-align-items: stretch;\r\n    align-items: stretch;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n}\r\n\r\n.freebirdMaterialHeaderbannerSectionText {\r\n    font: 400 16px/24px Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n    padding: 8px 8px 8px 42px;\r\n}\r\n\r\n.freebirdMaterialHeaderbannerSectionTriangleContainer {\r\n    -webkit-flex-shrink: 0;\r\n    flex-shrink: 0;\r\n    overflow: hidden;\r\n    position: relative;\r\n    width: 18px;\r\n}\r\n\r\n.freebirdMaterialHeaderbannerSectionTriangle {\r\n    height: 100%;\r\n    overflow: visible;\r\n    position: absolute;\r\n    width: 90%;\r\n}\r\n\r\n.freebirdSolidFill {\r\n    fill: rgb(103, 58, 183);\r\n    stroke: rgb(103, 58, 183);\r\n}\r\n\r\n.freebirdMaterialHeaderbannerSectionTriangle>polygon {\r\n    stroke-width: 1;\r\n}\r\n\r\n.freebirdFormeditorViewPageSectionTitleRow .quantumWizTextinputPapertextareaInput {\r\n    font-size: 20px;\r\n    line-height: 135%;\r\n    width: 100%;\r\n    font-weight: bold;\r\n}\r\n\r\n.freebirdFormeditorViewCursorColor {\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    position: relative;\r\n}\r\n\r\n.freebirdFormeditorViewItemInactive .freebirdFormeditorViewCursorColor {\r\n    background-color: #4d90fe;\r\n    width: 3px;\r\n}\r\n\r\n.freebirdFormeditorViewItemcardRoot:hover {\r\n    -webkit-box-shadow: 0px 0px 0px 1px green;\r\n    -moz-box-shadow: 0px 0px 0px 1px green;\r\n    box-shadow: 0px 0px 0px 1px green;\r\n}\r\n\r\n.freebirdFormviewerViewItemList {\r\n    counter-reset: number;\r\n}\r\n\r\n.freebirdFormeditorViewItemcardRoot {\r\n    counter-increment: number;\r\n    margin-top: 1px;\r\n}\r\n\r\n.freebirdFormeditorViewItemTitleRowContain::before {\r\n    content: counter(number);\r\n    font-size: 4em;\r\n    font-weight: bold;\r\n    color: #000;\r\n    opacity: 0.5;\r\n    transition: 0.25s;\r\n    position: relative;\r\n    top: 7px;\r\n}\r\n\r\n.freebirdFormeditorViewPagePageFields:hover {\r\n    -webkit-box-shadow: 0px 0px 0px 1px green;\r\n    -moz-box-shadow: 0px 0px 0px 1px green;\r\n    box-shadow: 0px 0px 0px 1px green;\r\n}\r\n\r\n.freebirdFormeditorViewItemInactive.freebirdFormeditorViewItemcardRoot {\r\n    border: unset;\r\n}\r\n\r\n.freebirdFormeditorViewItemInactive.freebirdFormeditorViewPagePageFields {\r\n    border: unset;\r\n}\r\n\r\n.point-dame .absol-icon-button-icon-container {\r\n    margin-top: 4px;\r\n}\r\n\r\n.OrtherInput {\r\n    width: 50%;\r\n    display: inline-block;\r\n}\r\n\r\n.OrtherInput .quantumWizTextinputPapertextareaInput {\r\n    color: rgba(0, 0, 0, 0.54);\r\n}\r\n\r\n.freebirdFormeditorViewItemInactive .freebirdFormeditorViewItemContentWrapper {\r\n    -webkit-box-shadow: 0 -2px 2px 0 rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.3);\r\n    box-shadow: 0 -2px 2px 0 rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.freebirdFormeditorViewItemInactive .freebirdMaterialIcon {\r\n    visibility: visible;\r\n}\r\n\r\n.freebirdFormeditorViewItemInactive .freebirdFormeditorViewQuestionFooterFooterRow {\r\n    visibility: visible;\r\n}\r\n\r\n.freebirdFormeditorViewItemInactive .freebirdFormeditorViewItemTypechooserTypeChooser {\r\n    display: inline-block;\r\n}\r\n\r\n.freebirdFormeditorViewCursorColorContainer {\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-orient: vertical;\r\n    box-orient: vertical;\r\n    -webkit-flex-direction: column;\r\n    flex-direction: column;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n}\r\n\r\n.freebirdFormeditorViewCursorRoot {\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    height: 100%;\r\n    left: 0;\r\n    padding-right: 13px;\r\n    position: absolute;\r\n    width: 3px;\r\n    z-index: 1;\r\n}\r\n\r\n.freebirdFormeditorViewPagePageFields {\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    background-color: #fff;\r\n    position: relative;\r\n}\r\n\r\n.freebirdFormeditorViewPageTitleAndDescription {\r\n    -webkit-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    outline: none;\r\n    padding-top: 16px;\r\n    padding-bottom: 24px;\r\n    width: 100%;\r\n}\r\n\r\n.freebirdFormeditorViewItemTitleInputWrapper {\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    width: 100%;\r\n}\r\n\r\n.freebirdFormeditorViewItemRoot {\r\n    background-color: #fff;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-orient: vertical;\r\n    box-orient: vertical;\r\n    -webkit-flex-direction: column;\r\n    flex-direction: column;\r\n    outline: none;\r\n}\r\n\r\n.freebirdFormeditorViewItemRoot:last-child {\r\n    border-bottom: none;\r\n}\r\n\r\n.freebirdFormeditorViewItemContentWrapper {\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-orient: horizontal;\r\n    box-orient: horizontal;\r\n    -webkit-flex-direction: row;\r\n    flex-direction: row;\r\n    position: relative;\r\n    -webkit-transition: box-shadow .25s cubic-bezier(0.0, 0.0, 0.2, 1);\r\n    transition: box-shadow .25s cubic-bezier(0.0, 0.0, 0.2, 1);\r\n}\r\n\r\n.item-dlg-dragHandle {\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    box-pack: center;\r\n    -webkit-box-pack: center;\r\n    -webkit-justify-content: center;\r\n    justify-content: center;\r\n    height: 24px;\r\n    position: relative;\r\n}\r\n\r\n.freebirdFormeditorViewItemContent {\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    width: 100%;\r\n}\r\n\r\n.freebirdFormeditorViewItemTitleRow {\r\n    -webkit-box-align: end;\r\n    box-align: end;\r\n    -webkit-align-items: flex-end;\r\n    align-items: flex-end;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n    padding-left: 42px;\r\n}\r\n\r\n.freebirdFormeditorViewItemTitleInput {\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    position: relative;\r\n    transition: 0.25s;\r\n    margin-right: 42px;\r\n    margin-left: 5px;\r\n}\r\n\r\n.freebirdFormeditorViewItemTitleInput .quantumWizTextinputPapertextareaInput,\r\n.freebirdFormeditorViewItemTitleInput .quantumWizTextinputPapertextareaInput,\r\n.freebirdFormeditorViewItemTitleSizer {\r\n    font-size: 16px;\r\n    line-height: 135%;\r\n    font-weight: bold;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionBodyRadioBody,\r\n.freebirdFormeditorViewQuestionBodyCheckboxBody,\r\n.freebirdFormeditorViewQuestionBodySelectBody {\r\n    margin-right: 0;\r\n}\r\n\r\n.docssharedWizOmnilistItemRoot.freebirdFormeditorViewOmnilistItemRoot {\r\n    padding-right: 42px;\r\n}\r\n\r\n.freebirdMaterialIconIconEl {\r\n    direction: ltr;\r\n    text-align: left;\r\n    height: 24px;\r\n    overflow: hidden;\r\n    width: 24px;\r\n    display: inline-block;\r\n    position: relative;\r\n    cursor: move;\r\n    opacity: .3;\r\n}\r\n\r\n.freebirdMaterialIcon {\r\n    visibility: hidden;\r\n}\r\n\r\n.freebirdFormeditorViewOmnilistMorselAddImageButton {\r\n    height: 48px;\r\n    opacity: .54;\r\n}\r\n\r\n.freebirdFormeditorViewOmnilistItemRoot .docssharedWizOmnilistItemPrimaryContent {\r\n    -webkit-box-align: start;\r\n    box-align: start;\r\n    -webkit-align-items: flex-start;\r\n    align-items: flex-start;\r\n}\r\n\r\n.freebirdFormeditorViewOmnilistItemRoot .freebirdFormeditorViewItemDuplicateButton {\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.freebirdFormeditorViewOmnilistItemRoot .freebirdFormeditorViewItemPictureButton {\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.freebirdFormeditorViewItemRoot .freebirdFormeditorViewItemCheckButton {\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.docssharedWizOmnilistItemPrimaryContent {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n.freebirdFormeditorViewOmnilistItemRoot .omnilist-draghandle-container {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    height: 30px;\r\n    margin: auto;\r\n}\r\n\r\n.freebirdMaterialScalecontentContainerSelection {\r\n    -webkit-box-align: stretch;\r\n    box-align: stretch;\r\n    -webkit-align-items: stretch;\r\n    align-items: stretch;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    -webkit-box-orient: vertical;\r\n    box-orient: vertical;\r\n    -webkit-flex-direction: column;\r\n    flex-direction: column;\r\n    text-align: center;\r\n    position: relative;\r\n    width: min-content;\r\n}\r\n\r\n.docssharedWizOmnilistItemRoot .omnilist-draghandle {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    cursor: move;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-orient: vertical;\r\n    box-orient: vertical;\r\n    -webkit-flex-direction: column;\r\n    flex-direction: column;\r\n    -webkit-flex-shrink: 0;\r\n    flex-shrink: 0;\r\n    font-weight: bold;\r\n    opacity: .3;\r\n    width: 42px;\r\n    visibility: hidden;\r\n}\r\n\r\n.docssharedWizOmnilistItemRoot .quantumWizTogglePaperradioEl {\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n    margin-left: 10px;\r\n}\r\n\r\n.docssharedWizOmnilistItemRoot .quantumWizTextinputPapertextareaEl {\r\n    /* margin: auto;\r\n    margin-left: .75em;\r\n    padding-top: 5px; */\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-orient: vertical;\r\n    box-orient: vertical;\r\n    -webkit-flex-direction: column;\r\n    flex-direction: column;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    box-pack: center;\r\n    -webkit-box-pack: center;\r\n    -webkit-justify-content: center;\r\n    justify-content: center;\r\n    margin-left: 10px;\r\n    min-width: 0%;\r\n    min-height: 30px;\r\n}\r\n\r\n.freebirdFormeditorViewItemMinimized {\r\n    padding: 0 24px 20px 42px;\r\n    font-size: 16px;\r\n}\r\n\r\n.freebirdFormeditorViewItemInactive .docssharedWizOmnilistItemRoot .docssharedWizOmnilistItemPrimaryContent:hover .omnilist-draghandle {\r\n    visibility: visible;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionBodyQuestionBody {\r\n    margin-bottom: 20px;\r\n    margin-top: 10px;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionBodyShortTextBody,\r\n.freebirdFormeditorViewQuestionBodyLongTextBody,\r\n.freebirdFormeditorViewQuestionBodyTimeBody,\r\n.freebirdFormeditorViewQuestionBodyScaleBody,\r\n.freebirdFormeditorViewQuestionBodyDateBody,\r\n.freebirdFormeditorViewQuestionBodyFileUploadBody,\r\n.freebirdFormeditorViewQuestionBodyDrawingBody {\r\n    margin-left: 42px;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionBodyLongtextbodyRoot {\r\n    width: 100%;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionBodyLongtextbodyLongTextInput {\r\n    width: unset;\r\n}\r\n\r\n.freebirdFormeditorViewItemTitleRow .freebirdFormeditorViewQuestionBodyLongtextbodyLongTextInput {\r\n    width: 100%;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionBodyShorttextbodyShortTextInput {\r\n    width: 50%;\r\n}\r\n\r\n.freebirdFormeditorViewItemOverflowButton,\r\n.freebirdFormeditorViewItemDeleteButton,\r\n.freebirdFormeditorViewItemDuplicateButton,\r\n.freebirdFormeditorViewItemPictureButton {\r\n    -webkit-flex-shrink: 0;\r\n    flex-shrink: 0;\r\n    opacity: .54;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionFooterFooterRow {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    border-top: 1px solid #e0e0e0;\r\n    height: 64px;\r\n    box-pack: justify;\r\n    -webkit-box-pack: justify;\r\n    -webkit-justify-content: space-between;\r\n    justify-content: space-between;\r\n    margin-left: 42px;\r\n    padding-right: 2px;\r\n    visibility: hidden;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionFooterFooterLeft {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    height: 44px;\r\n    -webkit-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n    overflow: hidden;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionFooterAssessmentIcons {\r\n    -webkit-align-self: baseline;\r\n    align-self: baseline;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionFooterPointsText {\r\n    color: #444;\r\n    cursor: default;\r\n    font-size: 14px;\r\n    padding-left: 2px;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionFooterFooterRight {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    box-pack: end;\r\n    -webkit-box-pack: end;\r\n    -webkit-justify-content: flex-end;\r\n    justify-content: flex-end;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionFooterFooterSeparator {\r\n    border-left: 1px solid #e0e0e0;\r\n    height: 32px;\r\n    margin: 0 16px;\r\n    width: 0;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionFooterToggleLabel {\r\n    color: #444;\r\n    cursor: default;\r\n    font-weight: 600;\r\n    margin-right: 8px;\r\n    -webkit-user-select: none;\r\n    vertical-align: bottom;\r\n}\r\n\r\n.quantumWizTogglePapertoggleEl {\r\n    -webkit-user-select: none;\r\n    -webkit-tap-highlight-color: transparent;\r\n    -webkit-box-sizing: content-box;\r\n    box-sizing: content-box;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    outline: none;\r\n    position: relative;\r\n    vertical-align: middle;\r\n    z-index: 0;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionFooterRequiredToggleContainer .quantumWizTogglePapertoggleEl {\r\n    margin-bottom: 0px;\r\n}\r\n\r\n.freebirdFormeditorViewPagePageBreakGap {\r\n    -webkit-box-align: start;\r\n    box-align: start;\r\n    -webkit-align-items: flex-start;\r\n    align-items: flex-start;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    height: 96px;\r\n}\r\n\r\n.freebirdFormeditorViewPagePageBreakGap {\r\n    -webkit-box-align: start;\r\n    box-align: start;\r\n    -webkit-align-items: flex-start;\r\n    align-items: flex-start;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    height: 96px;\r\n}\r\n\r\n.freebirdFormeditorViewPageGoToPageSelectLabel {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    color: rgba(0, 0, 0, 0.54);\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    font: 400 14px/20px Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n}\r\n\r\n.freebirdFormeditorViewItemTypechooserTypeChooser {\r\n    display: -webkit-inline-block;\r\n    display: none;\r\n    position: relative;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionFooterRequiredToggleContainer {\r\n    margin-right: 16px;\r\n}\r\n\r\n.absol-switch-slider {\r\n    -webkit-transition: unset;\r\n    transition: unset;\r\n}\r\n\r\n.blueBackground {\r\n    background-color: white;\r\n    border-color: #46b8da;\r\n    color: #5bc0de;\r\n}\r\n\r\n.whiteBackground {\r\n    background-color: #673ab7;\r\n    border-color: #ffffff;\r\n    color: #ffffff;\r\n}\r\n\r\n.whiteBackground .absol-icon-button-icon-container {\r\n    background-color: unset;\r\n}\r\n\r\n.whiteBackground .absol-icon-button-icon-container>i {\r\n    color: #ffffff;\r\n    ;\r\n}\r\n\r\n.whiteBackground .absol-icon-button-text-container {\r\n    border-left: unset;\r\n    margin: auto;\r\n    vertical-align: unset;\r\n}\r\n\r\n.blueBackground .absol-icon-button-icon-container {\r\n    background-color: unset;\r\n}\r\n\r\n.blueBackground .absol-icon-button-icon-container>i {\r\n    color: #5bc0de;\r\n}\r\n\r\n.blueBackground .absol-icon-button-text-container {\r\n    border-left: unset;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionBodySelectBody .freebirdFormeditorViewOmnilistItemRoot .docssharedWizOmnilistItemPrimaryContent .freebirdFormeditorViewItemDuplicateButton {\r\n    display: none;\r\n}\r\n\r\n.freebirdFormeditorViewItemInactive .freebirdFormeditorViewQuestionBodySelectBody .freebirdFormeditorViewOmnilistItemRoot .docssharedWizOmnilistItemPrimaryContent .freebirdFormeditorViewItemDuplicateButton {\r\n    display: inline-block;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionBodySelectBody .freebirdFormeditorViewOmnilistItemRoot .docssharedWizOmnilistItemPrimaryContent .freebirdFormeditorViewItemPictureButton {\r\n    visibility: hidden;\r\n}\r\n\r\n.freebirdFormeditorViewItemInactive .freebirdFormeditorViewQuestionBodySelectBody .freebirdFormeditorViewOmnilistItemRoot:hover .docssharedWizOmnilistItemPrimaryContent .freebirdFormeditorViewItemPictureButton {\r\n    visibility: visible;\r\n}\r\n\r\n.freebirdFormeditorViewQuestionBodySelectBody .freebirdFormeditorViewOmnilistItemRoot .docssharedWizOmnilistItemPrimaryContent .quantumWizTextinputPapertextareaEl .quantumWizTextinputPapertextareaMainContent .quantumWizTextinputPapertextareaUnderline {\r\n    visibility: hidden;\r\n}\r\n\r\n.freebirdFormeditorViewItemInactive .freebirdFormeditorViewQuestionBodySelectBody .freebirdFormeditorViewOmnilistItemRoot:hover .docssharedWizOmnilistItemPrimaryContent .quantumWizTextinputPapertextareaEl .quantumWizTextinputPapertextareaMainContent .quantumWizTextinputPapertextareaUnderline {\r\n    visibility: visible;\r\n}\r\n\r\n.docssharedWizOmnilistGhostitemRoot {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    height: 30px;\r\n    margin-left: 52px;\r\n}\r\n\r\n.freebirdFormeditorViewOmnilistGhostitemAddOtherSection {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n}\r\n\r\n.freebirdFormeditorViewOmnilistGhostitemAddOther {\r\n    color: #1a73e8;\r\n    font-size: 13px;\r\n    font-weight: 500;\r\n    line-height: normal;\r\n    margin: 8px 2px;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentHeader {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    -webkit-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n    min-height: 2em;\r\n    padding-bottom: 24px;\r\n    padding-left: 42px;\r\n    padding-right: 42px;\r\n    padding-top: 0;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentTitleRow {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-flex-wrap: nowrap;\r\n    flex-wrap: nowrap;\r\n    box-pack: justify;\r\n    -webkit-box-pack: justify;\r\n    -webkit-justify-content: space-between;\r\n    justify-content: space-between;\r\n    padding-left: 42px;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentHeaderWrapper {\r\n    padding-bottom: 24px;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentFooterFooterRow {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    border-top: 1px solid #e0e0e0;\r\n    height: 64px;\r\n    box-pack: justify;\r\n    -webkit-box-pack: justify;\r\n    -webkit-justify-content: space-between;\r\n    justify-content: space-between;\r\n    margin-left: 42px;\r\n    padding-right: 2px;\r\n}\r\n\r\n.feedBack {\r\n    border: none;\r\n    height: 44px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.feedBack .absol-icon-button-icon-container {\r\n    margin-top: 1px;\r\n}\r\n\r\n.feedBack .material-icons {\r\n    font-size: 21px;\r\n}\r\n\r\n.feedBack .quantumWizButtonPaperbuttonEl {\r\n    text-transform: none;\r\n}\r\n\r\n.feedBack .quantumWizButtonPaperbuttonEl .absol-icon-button-text-container>span {\r\n    margin: 0px;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentTitleInput {\r\n    font-size: 16px;\r\n    margin: auto;\r\n    margin-right: 48px;\r\n    min-width: 60%;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    width: min-content;\r\n    position: relative;\r\n    margin-left: 5px;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentTitleRowContent {\r\n    margin-right: 24px;\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentWidgetsPointsContainer {\r\n    margin-bottom: 0px;\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentWidgetsPointsInput {\r\n    max-width: 250px;\r\n    margin: 0 .5em;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentWidgetsPointsInput .quantumWizTextinputPaperinputInput {\r\n    font-size: 14px;\r\n    text-align: right;\r\n}\r\n\r\n.freebirdFormeditorViewPageTitleInput,\r\n.freebirdFormeditorViewPageDescriptionInput {\r\n    display: block;\r\n    width: 100%;\r\n    margin-top: 16px;\r\n    -webkit-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    padding-bottom: 8px;\r\n}\r\n\r\n.freebirdFormeditorViewPageSectionTitleRow,\r\n.freebirdFormeditorViewPageSectionDescriptionRow {\r\n    padding-right: 24px;\r\n    padding-left: 42px;\r\n}\r\n\r\n.freebirdFormeditorViewPageTitleInput,\r\n.freebirdFormeditorViewPageDescriptionInput {\r\n    display: block;\r\n    width: 100%;\r\n    margin-top: 16px;\r\n    -webkit-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.freebirdFormeditorViewPageTitleInput .quantumWizTextinputPapertextareaPlaceholder {\r\n    font-size: 34px;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentAssessmentBodyContent {\r\n    margin-top: 10px;\r\n    margin-left: 44px;\r\n    margin-right: 24px;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentAnswersListItemContent {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    min-height: 30px;\r\n    overflow: hidden;\r\n    padding: 0 10px;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentAnswersListItem {\r\n    cursor: pointer;\r\n    font-size: 13px;\r\n    font-weight: 400;\r\n    margin: 1px 0;\r\n}\r\n\r\n.freebirdFormeditorViewOmnilistMorselTypeIndicator {\r\n    font-size: 13px;\r\n    font-weight: 400;\r\n    margin-right: 10px;\r\n    pointer-events: none;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentAnswersListIsCorrect .freebirdFormeditorViewAssessmentAnswersListCorrectnessLabel {\r\n    display: inline-block;\r\n}\r\n\r\n.isChecked {\r\n    background-color: #f1f8e9;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentAnswersListItemContent:hover {\r\n    border-left: 2px solid rgba(0, 0, 0, 0.26);\r\n    -webkit-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    padding-left: 8px;\r\n    border-color: green;\r\n}\r\n\r\n.freebirdFormeditorViewAssessmentAnswersListItem .quantumWizButtonEl {\r\n    display: none;\r\n}\r\n\r\n.isChecked .quantumWizButtonEl {\r\n    display: inline-block;\r\n}\r\n\r\n.quantumWizMenuPapermenuiconbuttonEl {\r\n    width: 40px;\r\n    height: 40px;\r\n}\r\n\r\n.quantumWizDialogEl {\r\n    -webkit-flex-shrink: 1;\r\n    flex-shrink: 1;\r\n    max-height: 100%;\r\n}\r\n\r\n.quantumWizDialogPaperdialogEl {\r\n    -webkit-box-align: stretch;\r\n    box-align: stretch;\r\n    -webkit-align-items: stretch;\r\n    align-items: stretch;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-orient: vertical;\r\n    box-orient: vertical;\r\n    -webkit-flex-direction: column;\r\n    flex-direction: column;\r\n    -webkit-transition: -webkit-transform .225s cubic-bezier(0.0, 0.0, 0.2, 1);\r\n    transition: -webkit-transform .225s cubic-bezier(0.0, 0.0, 0.2, 1);\r\n    -webkit-transition: transform .225s cubic-bezier(0.0, 0.0, 0.2, 1);\r\n    transition: transform .225s cubic-bezier(0.0, 0.0, 0.2, 1);\r\n    position: relative;\r\n    background-color: #fff;\r\n    -webkit-border-radius: 2px;\r\n    border-radius: 2px;\r\n    -webkit-box-shadow: 0 12px 15px 0 rgba(0, 0, 0, 0.24);\r\n    box-shadow: 0 12px 15px 0 rgba(0, 0, 0, 0.24);\r\n    max-width: 24em;\r\n    outline: 1px solid transparent;\r\n    overflow: hidden;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderDialog {\r\n    height: auto;\r\n    max-width: 100%;\r\n    width: 440px;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderDialogContent,\r\n.freebirdFormeditorDialogReorderDialog .quantumWizDialogPaperdialogTitleBar {\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.freebirdFormeditorDialogReorderDialog .quantumWizDialogPaperdialogTitleBar {\r\n    font-weight: 400;\r\n}\r\n\r\n.freebirdMaterialScalecontentContainer {\r\n    justify-content: center;\r\n    padding-left: 42px;\r\n    padding-right: 24px;\r\n    -webkit-box-align: stretch;\r\n    box-align: stretch;\r\n    -webkit-align-items: stretch;\r\n    align-items: stretch;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    -webkit-box-orient: vertical;\r\n    box-orient: vertical;\r\n    text-align: center;\r\n}\r\n\r\n.freebirdMaterialScalecontentRangeLabelColumn {\r\n    -webkit-box-align: stretch;\r\n    box-align: stretch;\r\n    -webkit-align-items: stretch;\r\n    align-items: stretch;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    -webkit-box-orient: vertical;\r\n    box-orient: vertical;\r\n    -webkit-flex-direction: column;\r\n    flex-direction: column;\r\n    text-align: center;\r\n    max-width: 120px;\r\n}\r\n\r\n.freebirdMaterialScalecontentContainerMain {\r\n    -webkit-box-align: stretch;\r\n    box-align: stretch;\r\n    -webkit-align-items: stretch;\r\n    align-items: stretch;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    -webkit-box-orient: vertical;\r\n    box-orient: vertical;\r\n    text-align: center;\r\n}\r\n\r\n.freebirdMaterialScalecontentRangeLabelColumn .quantumWizTextinputPapertextareaInput {\r\n    max-width: 120px;\r\n    text-align: center;\r\n}\r\n\r\n.freebirdMaterialScalecontentRangeLabel {\r\n    line-height: 135%;\r\n    min-width: 0%;\r\n    word-wrap: break-word;\r\n    width: 120px;\r\n}\r\n\r\n.freebirdMaterialScalecontentColumn {\r\n    -webkit-box-align: stretch;\r\n    box-align: stretch;\r\n    -webkit-align-items: stretch;\r\n    align-items: stretch;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-box-orient: vertical;\r\n    box-orient: vertical;\r\n    -webkit-flex-direction: column;\r\n    flex-direction: column;\r\n    text-align: center;\r\n    margin-top: auto;\r\n}\r\n\r\n.freebirdMaterialScalecontentLabel,\r\n.freebirdMaterialScalecontentRangeLabelContainer,\r\n.freebirdMaterialScalecontentRangeLabelPlaceholder,\r\n.freebirdMaterialScalecontentColumn .freebirdMaterialScalecontentInput {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    box-pack: center;\r\n    -webkit-box-pack: center;\r\n    -webkit-justify-content: center;\r\n    justify-content: center;\r\n    min-height: 3em;\r\n}\r\n\r\n.freebirdMaterialScalecontentRangeLabelContainer {\r\n    margin-top: auto;\r\n    margin-bottom: 7px;\r\n}\r\n\r\n.freebirdMaterialScalecontentLabel {\r\n    padding-left: 5px;\r\n    padding-right: 5px;\r\n    min-height: 24px;\r\n}\r\n\r\n.freebirdMaterialScalecontentContainerSelection:first-child .freebirdMaterialScalecontentLabel {\r\n    padding-left: 0px;\r\n}\r\n\r\n.freebirdMaterialScalecontentContainerSelection:last-child .freebirdMaterialScalecontentLabel {\r\n    padding-right: 0px;\r\n}\r\n\r\n.freebirdMaterialScalecontentColumn .freebirdMaterialScalecontentInput {\r\n    background-color: #fafafa;\r\n}\r\n\r\n.freebirdMaterialScalecontentLabel .quantumWizTextinputPapertextareaInput {\r\n    text-align: center;\r\n    width: 100%;\r\n}\r\n\r\n.quantumWizDialogPaperdialogTitleBar {\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-flex-shrink: 0;\r\n    flex-shrink: 0;\r\n    padding: 24px 24px 20px 24px;\r\n}\r\n\r\n.quantumWizDialogPaperdialogTitleText {\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    -webkit-flex-shrink: 1;\r\n    flex-shrink: 1;\r\n    overflow: hidden;\r\n    word-wrap: break-word;\r\n    font: 500 20px Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n}\r\n\r\n.quantumWizDialogPaperdialogContent {\r\n    -webkit-box-flex: 2;\r\n    box-flex: 2;\r\n    -webkit-flex-grow: 2;\r\n    flex-grow: 2;\r\n    -webkit-flex-shrink: 2;\r\n    flex-shrink: 2;\r\n    display: block;\r\n    font: 400 14px/20px Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n    padding: 0 24px;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderDialogContent {\r\n    padding: 0;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderDialogContent {\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.quantumWizCommonPositioningScrollableHost {\r\n    position: relative;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderText {\r\n    -webkit-box-flex: 1;\r\n    -webkit-flex: 1;\r\n    flex: 1;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderSection .freebirdFormeditorDialogReorderTitle {\r\n    font-size: 16px;\r\n    font-weight: 550;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderSection .freebirdFormeditorDialogReorderPosition {\r\n    color: rgba(0, 0, 0, 0.54);\r\n    font: 400 13px/20px Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n    line-height: 18px;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderSectionBody {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-flex: 1;\r\n    -webkit-flex: 1;\r\n    flex: 1;\r\n    height: 64px;\r\n}\r\n\r\n.docssharedWizOmnilistMorselRoot {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderSection:first-child {\r\n    border-top: none;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderSection {\r\n    border-top: 1px solid rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.freebirdFormeditorDialogReorderSection:hover .docssharedWizOmnilistItemPrimaryContent .omnilist-draghandle-container .docssharedWizOmnilistItemDragHandle {\r\n    visibility: visible;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderSection .omnilist-draghandle {\r\n    padding: 0 4px;\r\n    visibility: inherit;\r\n    width: 60px;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderSection:hover,\r\n.freebirdFormeditorDialogReorderSection.isFocused {\r\n    border-left: 4px solid #4285f4;\r\n    -webkit-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    cursor: pointer;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderSection:hover .omnilist-draghandle,\r\n.freebirdFormeditorDialogReorderSection.isFocused .omnilist-draghandle {\r\n    padding-left: 0px;\r\n}\r\n\r\n.absol-tooltip-root {\r\n    z-index: 9999;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderSection:first-child .leftControl {\r\n    color: rgba(0, 0, 0, 0.54);\r\n    pointer-events: none;\r\n}\r\n\r\n.freebirdFormeditorDialogReorderSection:last-child .rightControl {\r\n    color: rgba(0, 0, 0, 0.54);\r\n    pointer-events: none;\r\n}\r\n\r\n.quantumWizDialogPaperdialogBottomButtons {\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-flex-shrink: 0;\r\n    flex-shrink: 0;\r\n    box-pack: end;\r\n    -webkit-box-pack: end;\r\n    -webkit-justify-content: flex-end;\r\n    justify-content: flex-end;\r\n    padding: 24px 24px 16px 24px;\r\n}\r\n\r\n.quantumWizButtonPaperbuttonEl {\r\n    -webkit-user-select: none;\r\n    -webkit-transition: background .2s .1s;\r\n    transition: background .2s .1s;\r\n    border: 0;\r\n    -webkit-border-radius: 3px;\r\n    border-radius: 3px;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    font-size: 14px;\r\n    font-weight: 550;\r\n    min-width: 4em;\r\n    outline: none;\r\n    overflow: hidden;\r\n    position: relative;\r\n    text-align: center;\r\n    text-transform: uppercase;\r\n    -webkit-tap-highlight-color: transparent;\r\n    z-index: 0;\r\n}\r\n\r\n.quantumWizDialogPaperdialogBottomButtons {\r\n    padding: 16px;\r\n}\r\n\r\n.quantumWizButtonPaperbutton2El2 {\r\n    line-height: 20px;\r\n    min-width: 88px;\r\n}\r\n\r\n.quantumWizDialogPaperdialogDialogButton.quantumWizButtonPaperbuttonEl.quantumWizButtonPaperbutton2El2,\r\n.quantumWizDialogPaperdialogBottomButtons .quantumWizButtonPaperbuttonEl.quantumWizButtonPaperbutton2El2 {\r\n    min-width: 64px;\r\n}\r\n\r\n.freebirdFormeditorViewMediaEditMenuButton {\r\n    position: absolute;\r\n    top: -12px;\r\n    left: -12px;\r\n    -webkit-user-select: none;\r\n    -webkit-transition: background .3s;\r\n    transition: background .3s;\r\n    border: 0;\r\n    -webkit-border-radius: 50%;\r\n    border-radius: 50%;\r\n    color: #444;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    fill: #444;\r\n    -webkit-flex-shrink: 0;\r\n    flex-shrink: 0;\r\n    height: 48px;\r\n    outline: none;\r\n    overflow: hidden;\r\n    -webkit-tap-highlight-color: transparent;\r\n    width: 48px;\r\n    z-index: 1;\r\n    background-color: #f5f5f5;\r\n    -webkit-box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 2px 1px -1px rgba(0, 0, 0, 0.12), 0 1px 3px 0 rgba(0, 0, 0, 0.2);\r\n    box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 2px 1px -1px rgba(0, 0, 0, 0.12), 0 1px 3px 0 rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.freebirdFormeditorViewMediaEditMenuButtonClose {\r\n    position: absolute;\r\n    top: -7px;\r\n    right: -12px;\r\n    -webkit-user-select: none;\r\n    -webkit-transition: background .3s;\r\n    transition: background .3s;\r\n    border: 0;\r\n    -webkit-border-radius: 50%;\r\n    border-radius: 50%;\r\n    color: #444;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    fill: #444;\r\n    -webkit-flex-shrink: 0;\r\n    flex-shrink: 0;\r\n    height: 36px;\r\n    outline: none;\r\n    overflow: hidden;\r\n    -webkit-tap-highlight-color: transparent;\r\n    width: 36px;\r\n    z-index: 1;\r\n    background-color: #f5f5f5;\r\n    -webkit-box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 2px 1px -1px rgba(0, 0, 0, 0.12), 0 1px 3px 0 rgba(0, 0, 0, 0.2);\r\n    box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 2px 1px -1px rgba(0, 0, 0, 0.12), 0 1px 3px 0 rgba(0, 0, 0, 0.2);\r\n    display: none;\r\n}\r\n\r\n.freebirdFormeditorViewItemInactive .freebirdFormeditorViewMediaEditMenuButtonClose {\r\n    display: inline-block;\r\n}\r\n\r\n.absol-width-height-resizer-anchor-bot-right,\r\n.absol-width-height-resizer-anchor-bot-left,\r\n.absol-width-height-resizer-anchor-top-right,\r\n.absol-width-height-resizer-anchor-top-left {\r\n    display: none;\r\n}\r\n\r\n.hasFocus .absol-width-height-resizer-anchor-bot-right,\r\n.hasFocus .absol-width-height-resizer-anchor-bot-left,\r\n.hasFocus .absol-width-height-resizer-anchor-top-right,\r\n.hasFocus .absol-width-height-resizer-anchor-top-left {\r\n    display: unset;\r\n}\r\n\r\n.freebirdFormeditorViewMediaEditMenuButton {\r\n    display: none;\r\n}\r\n\r\n.freebirdFormeditorViewItemInactive .image-autoresize-create:not(.hasFocus) .freebirdFormeditorViewMediaEditMenuButton {\r\n    display: inline-block;\r\n}\r\n\r\n.infotext {\r\n    display: table-cell;\r\n    vertical-align: top;\r\n    padding-top: 7px;\r\n    height: 30px;\r\n    padding: 0.5em;\r\n}\r\n\r\n.properties {\r\n    display: table-cell;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    font-size: 1em;\r\n    padding: 0.5em;\r\n    vertical-align: middle;\r\n    resize: none;\r\n    width: 374px;\r\n    height: 30px;\r\n    margin-left: 10px;\r\n}\r\n\r\n.container-form {\r\n    display: table-row;\r\n    min-width: 374px;\r\n}\r\n\r\n.point-dame .freebirdMaterialIcon {\r\n    background-color: #673ab7;\r\n}\r\n\r\n.point-dame .freebirdFormeditorViewItemTitleRowContain::before {\r\n    top: 0px;\r\n}\r\n\r\n.absol-context-hinge-fixed-container {\r\n    z-index: 1002;\r\n}\r\n\r\n.vertical-center {\r\n    left: 50%;\r\n    transform: translate(50%, 0);\r\n}\r\n\r\n.disable {\r\n    opacity: .5;\r\n    pointer-events: none;\r\n}\r\n\r\n.visible .disable {\r\n    opacity: 1;\r\n    pointer-events: unset;\r\n}\r\n\r\n.selected .freebirdFormeditorViewItemPictureButton {\r\n    visibility: visible !important;\r\n}", ""]);



/***/ }),
/* 226 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".modal-upload-XML {\r\n    width: 66vw;\r\n    height: 85vh;\r\n    min-width: 520px;\r\n    min-height: 320px;\r\n    max-width: 1052px;\r\n    max-height: 650px;\r\n    background-color: white;\r\n}\r\n\r\n.quantumWizButtonPaperbutton2El2 .quantumWizButtonPaperbuttonLabel {\r\n    margin: 8px;\r\n}\r\n\r\n.quantumWizButtonPaperbuttonLabel {\r\n    display: inline-block;\r\n    margin: .5em;\r\n}\r\n\r\n.modal-upload-XML-header {\r\n    padding: 17px 20px;\r\n    position: relative;\r\n}\r\n\r\n.modal-upload-XML-header-text {\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    display: inline-block;\r\n    font-size: 20px;\r\n    vertical-align: top;\r\n}\r\n\r\n.modal-upload-XML-header-icon-close {\r\n    overflow: hidden;\r\n    position: absolute;\r\n    right: 15px;\r\n    top: 15px;\r\n    cursor: pointer;\r\n    height: inherit;\r\n    margin: 0;\r\n    width: inherit;\r\n    user-select: none;\r\n}\r\n\r\n.modal-upload-XML-body {\r\n    position: relative;\r\n    height: calc(100% - 61px);\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    align-items: stretch;\r\n    flex-direction: column;\r\n}\r\n\r\n.modal-upload-XML-body-navigation {\r\n    height: 50px;\r\n    border-bottom: 1px solid #e1e1e1;\r\n    -moz-box-shadow: 0 1px 5px 1px #e1e1e1;\r\n    -webkit-box-shadow: 0 1px 5px 1px #e1e1e1;\r\n    box-shadow: 0 1px 5px 1px #e1e1e1;\r\n    z-index: 1;\r\n}\r\n\r\n.modal-upload-XML-body-drop {\r\n    position: relative;\r\n    overflow: hidden;\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n\r\n.modal-upload-XML-body-drop-area-main {\r\n    height: 100%;\r\n}\r\n\r\n.modal-upload-XML-body-drop-area-main-form {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    align-items: stretch;\r\n    flex-direction: column;\r\n}\r\n\r\n.modal-upload-XML-body-drop-area-main-form-content {\r\n    border: #ddd 4px dashed;\r\n    border-radius: 2px;\r\n    text-align: center;\r\n    position: relative;\r\n    margin-bottom: 0px;\r\n    padding: 10px;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form {\r\n    display: none;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form-search {\r\n    font-size: 13px;\r\n    text-align: left;\r\n    position: relative;\r\n    margin: 15px 0 4px 20px;\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form-search-input {\r\n    -webkit-transition: all .218s;\r\n    -moz-transition: all .218s;\r\n    -o-transition: all .218s;\r\n    transition: all .218s;\r\n    margin: 4px 15px 5px 0;\r\n    vertical-align: middle;\r\n    -webkit-border-radius: 1px;\r\n    -moz-border-radius: 1px;\r\n    border-radius: 1px;\r\n    border: 1px solid #d9d9d9;\r\n    border-top: 1px solid #c0c0c0;\r\n    font-size: 13px;\r\n    height: 25px;\r\n    padding: 1px 8px;\r\n    width: 410px;\r\n    padding-left: 50px;\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form-search-filter {\r\n    border: 1px solid #dae4f6;\r\n    -webkit-border-radius: 2px;\r\n    -moz-border-radius: 2px;\r\n    border-radius: 2px;\r\n    display: inline-block;\r\n    height: 23px;\r\n    left: 22px;\r\n    outline: medium none;\r\n    position: absolute;\r\n    top: 6px;\r\n    background-color: #c6dafc;\r\n    border-color: #c6dafc;\r\n    left: 2px;\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form-search-filter-text {\r\n    display: inline-block;\r\n    font-size: 12px;\r\n    line-height: 23px;\r\n    padding: 0 3px;\r\n    vertical-align: top;\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form-files {\r\n    bottom: 0;\r\n    border-top: 1px solid #e1e1e1;\r\n    font-size: 13px;\r\n    left: 0;\r\n    overflow-y: auto;\r\n    right: 0;\r\n    height: calc(100% - 122px);\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    background-color: #eee;\r\n}\r\n\r\n.modal-upload-XML-body-drop-area {\r\n    width: calc(100% - 40px);\r\n    height: calc(100% - 20px);\r\n    display: inline-block;\r\n    padding: 20px;\r\n    padding-bottom: 0;\r\n}\r\n\r\n.modal-upload-XML-body-drop-area-main-form-input {\r\n    display: none;\r\n}\r\n\r\n.modal-upload-XML-body-drop-area-main-form-button {\r\n    font-size: 16px;\r\n    vertical-align: top;\r\n}\r\n\r\n.modal-upload-XML-body-drop-area-main-process-bar {\r\n    width: 50%;\r\n    position: absolute;\r\n    bottom: 10px;\r\n    left: 50%;\r\n    transform: translate(-50%, 0);\r\n}\r\n\r\n.modal-upload-XML-body-drop-area-main-form-tutorial {\r\n    font-size: 20pt;\r\n    color: #ccc;\r\n    padding: 0 10px;\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 40%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form-files-list {\r\n    padding: 16px 8px 8px 20px;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form-files-list-title {\r\n    padding-bottom: 8px;\r\n    padding-top: 8px;\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form-files-list-content {\r\n    display: inline-block;\r\n    margin-bottom: 8px;\r\n    width: 100%;\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form-files-list-item {\r\n    display: inline-block;\r\n    position: relative;\r\n    touch-action: pan-x pan-y;\r\n    vertical-align: top;\r\n    margin-top: 16px;\r\n    margin-right: 20px;\r\n    width: calc(25% - 20px);\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form-files-list-img {\r\n    height: auto;\r\n    width: 100%;\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form-files-list-label {\r\n    border-bottom-left-radius: 1px;\r\n    border-bottom-right-radius: 1px;\r\n    height: 30px;\r\n    width: 100%;\r\n    position: relative;\r\n    white-space: nowrap;\r\n    -webkit-box-align: end;\r\n    box-align: end;\r\n    -webkit-align-items: flex-end;\r\n    align-items: flex-end;\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n    border-top: 1px solid #e1e1e1;\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form-files-list-icon {\r\n    margin: 8px;\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n    font-family: 'Material Icons';\r\n    font-weight: normal;\r\n    font-style: normal;\r\n    font-size: 16px;\r\n    line-height: 1;\r\n    letter-spacing: normal;\r\n    text-transform: none;\r\n    white-space: nowrap;\r\n    word-wrap: normal;\r\n    direction: ltr;\r\n    -webkit-font-smoothing: antialiased;\r\n    vertical-align: middle;\r\n    display: inline-block;\r\n    background-color: #6846b6;\r\n    color: white;\r\n}\r\n\r\n.modal-upload-XML-body-db-area-main-form-files-list-labelText {\r\n    margin: auto;\r\n    min-width: 60%;\r\n    -webkit-box-flex: 1;\r\n    box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n    flex-grow: 1;\r\n    width: min-content;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    width: calc(100% - 54px);\r\n}\r\n\r\n.XML-autoresize {\r\n    max-height: calc(100% - 20px);\r\n    vertical-align: middle;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n    height: calc(100% - 20px);\r\n    max-width: calc(100% - 20px);\r\n    display: inline-block;\r\n}\r\n\r\n.absol-width-height-resizer-content {\r\n    width: unset;\r\n}\r\n\r\n#fileElemXML {\r\n    display: none;\r\n}\r\n\r\n.modal-upload-XML-body-navigation-bar {\r\n    background: transparent;\r\n    border: none;\r\n    float: left;\r\n    height: 14px;\r\n    margin: 0 18px;\r\n    padding: 16px 4px 7px;\r\n    position: static;\r\n    user-select: none;\r\n    border-left: 0;\r\n    border-right: 0;\r\n    border-top: 0;\r\n    font-weight: bold;\r\n    padding-bottom: 18px;\r\n    user-select: none;\r\n    color: #2222229e;\r\n}\r\n\r\n.modal-upload-XML-body-navigation-bar:hover {\r\n    border-bottom: 2px solid #4d90fe;\r\n}\r\n\r\n.modal-upload-XML-body-navigation-bar-button {\r\n    display: inline-block;\r\n    font-size: 14px;\r\n    vertical-align: middle;\r\n    user-select: none;\r\n    font-weight: 600;\r\n}\r\n\r\n.modal-upload-XML-body-drop-save {\r\n    position: relative;\r\n    padding: 10px 0;\r\n    display: flex;\r\n    flex-shrink: 0;\r\n}\r\n\r\n.fit-content-XML {\r\n    width: auto;\r\n}\r\n\r\n.selected-modal {\r\n    border-bottom: 2px solid #4d90fe;\r\n    color: #222;\r\n}\r\n\r\n.on-hold {\r\n    box-shadow: 2px 2px 10px;\r\n    -webkit-box-shadow: 0 2px 8px 0 rgba(0, 0, 0, .25);\r\n    -moz-box-shadow: 0 2px 8px 0 rgba(0, 0, 0, .25);\r\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, .25);\r\n}\r\n\r\n.on-hold .modal-upload-XML-body-db-area-main-form-files-list-label {\r\n    background-color: #4285f4;\r\n}\r\n\r\n.on-hold .modal-upload-XML-body-db-area-main-form-files-list-label {\r\n    color: white;\r\n}\r\n\r\n.freebirdCommonSidebarSidebar.freebirdCommonSidebarIsVisible {\r\n    -webkit-transform: translateX(0);\r\n    transform: translateX(0);\r\n    z-index: 1002;\r\n}\r\n\r\n.freebirdCommonSidebarSidebar {\r\n    background-color: #fff;\r\n    bottom: 0;\r\n    -webkit-box-shadow: 0 7px 10px 1px rgba(0, 0, 0, 0.14), 0 2px 16px 1px rgba(0, 0, 0, 0.12), 0 4px 5px -2px rgba(0, 0, 0, 0.2);\r\n    box-shadow: 0 7px 10px 1px rgba(0, 0, 0, 0.14), 0 2px 16px 1px rgba(0, 0, 0, 0.12), 0 4px 5px -2px rgba(0, 0, 0, 0.2);\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-orient: vertical;\r\n    box-orient: vertical;\r\n    -webkit-flex-direction: column;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    max-width: 100%;\r\n    overflow: hidden;\r\n    position: fixed;\r\n    right: 0;\r\n    -webkit-transition: -webkit-transform 300ms ease-out;\r\n    transition: transform 300ms ease-out;\r\n    -webkit-transform: translateX(100%);\r\n    transform: translateX(100%);\r\n    width: 26%;\r\n    min-width: 300px;\r\n    z-index: 3;\r\n}\r\n\r\n.freebirdCommonSidebarHeader {\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    -webkit-box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 2px 1px -1px rgba(0, 0, 0, 0.12), 0 1px 3px 0 rgba(0, 0, 0, 0.2);\r\n    box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 2px 1px -1px rgba(0, 0, 0, 0.12), 0 1px 3px 0 rgba(0, 0, 0, 0.2);\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-flex-shrink: 0;\r\n    flex-shrink: 0;\r\n    font-family: Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n    font-size: 15px;\r\n    box-pack: justify;\r\n    -webkit-box-pack: justify;\r\n    -webkit-justify-content: space-between;\r\n    justify-content: space-between;\r\n    /* padding: 0 0 0 20px; */\r\n    text-transform: uppercase;\r\n}\r\n\r\n.freebirdCommonSidebarContent {\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    -webkit-transition: width 300ms ease-out;\r\n    transition: width 300ms ease-out;\r\n    word-break: break-word;\r\n    white-space: pre;\r\n    -webkit-box-align: center;\r\n    box-align: center;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    -webkit-flex-shrink: 0;\r\n    flex-shrink: 0;\r\n    font-family: Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n    font-size: 15px;\r\n    box-pack: justify;\r\n    -webkit-box-pack: justify;\r\n    -webkit-justify-content: space-between;\r\n    justify-content: space-between;\r\n}\r\n\r\n.freebirdFormeditorQuestionimportHelpText {\r\n    font: 400 13px Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n    font-weight: 300;\r\n    margin-top: 12px;\r\n}\r\n\r\n.freebirdCommonSidebarIsExpanded .freebirdCommonSidebarContent {\r\n    width: 100%;\r\n    height: calc(100% - 48px);\r\n}\r\n\r\n.freebirdFormeditorQuestionimportHeader {\r\n    -webkit-box-align: start;\r\n    box-align: start;\r\n    -webkit-align-items: flex-start;\r\n    align-items: flex-start;\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\r\n    /*display: -webkit-box;*/\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-orient: vertical;\r\n    box-orient: vertical;\r\n    -webkit-flex-direction: column;\r\n    flex-direction: column;\r\n    box-pack: justify;\r\n    -webkit-box-pack: justify;\r\n    -webkit-justify-content: space-between;\r\n    justify-content: space-between;\r\n    padding: 20px;\r\n    white-space: normal;\r\n    width: 100%;\r\n}\r\n\r\n.freebirdFormeditorQuestionimportTitle {\r\n    font: 600 15px Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n    width: 100%;\r\n    word-wrap: break-word;\r\n}\r\n\r\n.freebirdFormeditorQuestionimportImportedQuestions {\r\n    -webkit-box-flex: 0 1 auto;\r\n    -webkit-flex: 0 1 auto;\r\n    flex: 0 1 auto;\r\n    overflow-y: auto;\r\n    white-space: normal;\r\n    height: calc(100% - 113px);\r\n}\r\n\r\n.freebirdFormeditorQuestionimportCheckbox {\r\n    font: 400 13px Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n    margin: 12px;\r\n}\r\n\r\n.freebirdFormeditorQuestionimportSection {\r\n    margin-top: 32px;\r\n}\r\n\r\n.freebirdFormeditorQuestionimportChangeFormButton {\r\n    color: #1a73e8;\r\n    font-size: 13px;\r\n    font-weight: 500;\r\n    line-height: normal;\r\n    margin: 8px 2px;\r\n}\r\n\r\n.freebirdFormeditorQuestionimportSearch {\r\n    font-size: 13px;\r\n    text-align: left;\r\n    position: relative;\r\n    margin-top: 10px;\r\n    width: 100%;\r\n}\r\n\r\n.freebirdFormeditorQuestionimportSearchInput {\r\n    -webkit-transition: all .218s;\r\n    -moz-transition: all .218s;\r\n    -o-transition: all .218s;\r\n    transition: all .218s;\r\n    margin: 4px 15px 5px 0;\r\n    vertical-align: middle;\r\n    -webkit-border-radius: 1px;\r\n    -moz-border-radius: 1px;\r\n    border-radius: 1px;\r\n    border: 1px solid #d9d9d9;\r\n    border-top: 1px solid #c0c0c0;\r\n    font-size: 13px;\r\n    height: 25px;\r\n    width: 410px;\r\n    padding-left: 50px;\r\n}\r\n\r\n.freebirdFormeditorQuestionimportSearchFilter {\r\n    border: 1px solid #dae4f6;\r\n    -webkit-border-radius: 2px;\r\n    -moz-border-radius: 2px;\r\n    border-radius: 2px;\r\n    display: inline-block;\r\n    height: 23px;\r\n    left: 22px;\r\n    outline: medium none;\r\n    position: absolute;\r\n    top: 6px;\r\n    background-color: #c6dafc;\r\n    border-color: #c6dafc;\r\n    left: 2px;\r\n}\r\n\r\n.freebirdFormeditorQuestionimportSearchFilterText {\r\n    display: inline-block;\r\n    font-size: 12px;\r\n    line-height: 23px;\r\n    padding: 0 3px;\r\n    vertical-align: top;\r\n}\r\n\r\n.freebirdFormeditorViewHeaderSendButton.freebirdFormeditorViewHeaderHeaderMenu.freebirdFormeditorSidebarQuestionimportImportButtonWrapper {\r\n    -webkit-box-flex: 0 0 auto;\r\n    -webkit-flex: 0 0 auto;\r\n    flex: 0 0 auto;\r\n    margin-bottom: 10px;\r\n    margin-left: 20px;\r\n    margin-right: 20px;\r\n    margin-top: 10px;\r\n    background: #4285f4;\r\n    color: #fff;\r\n}\r\n\r\n.grid {\r\n    width: 100%;\r\n    display: inline-block;\r\n    position: relative;\r\n}\r\n\r\n.grid-item {\r\n    height: 50%;\r\n    display: inline-block;\r\n    position: relative;\r\n}\r\n\r\n.modal-upload-XML-body-drop-area-main-gallery {\r\n    width: 100%;\r\n    height: calc(100% - 70px);\r\n    position: absolute;\r\n    top: 45px;\r\n    overflow: auto;\r\n}\r\n\r\n.back-white-convert .full-size {\r\n    -webkit-filter: grayscale(100%);\r\n    filter: grayscale(100%);\r\n}\r\n\r\n.pizo-container-icon-radiobutton {\r\n    position: absolute;\r\n    left: 7px;\r\n    background-color: white;\r\n    top: 7px;\r\n    display: flex;\r\n    border-radius: 50%;\r\n    padding: 2px;\r\n}\r\n\r\n.pizo-container-icon-radiobutton>i {\r\n    color: white;\r\n}\r\n\r\n.checked-pizo .pizo-container-icon-radiobutton>i {\r\n    color: #122246;\r\n}", ""]);



/***/ }),
/* 227 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".modal-upload-image {\r\n  width: 66vw;\r\n  height: 85vh;\r\n  min-width: 520px;\r\n  min-height: 320px;\r\n  max-width: 1052px;\r\n  max-height: 650px;\r\n  background-color: white;\r\n}\r\n\r\n.modal-upload-image-header {\r\n  padding: 17px 20px;\r\n  height: 20px;\r\n  position: relative;\r\n}\r\n\r\n.modal-upload-image-header-text {\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  display: inline-block;\r\n  font-size: 20px;\r\n  vertical-align: top;\r\n}\r\n\r\n.modal-upload-image-header-icon-close {\r\n  overflow: hidden;\r\n  position: absolute;\r\n  right: 15px;\r\n  top: 15px;\r\n  cursor: pointer;\r\n  height: inherit;\r\n  margin: 0;\r\n  width: inherit;\r\n  user-select: none;\r\n}\r\n\r\n.modal-upload-image-body {\r\n  position: relative;\r\n  height: calc(100% - 55px);\r\n}\r\n\r\n.modal-upload-image-body-navigation {\r\n  height: 50px;\r\n  border-bottom: 1px solid #e1e1e1;\r\n  -moz-box-shadow: 0 1px 5px 1px #e1e1e1;\r\n  -webkit-box-shadow: 0 1px 5px 1px #e1e1e1;\r\n  box-shadow: 0 1px 5px 1px #e1e1e1;\r\n  z-index: 1;\r\n}\r\n\r\n.modal-upload-image-body-drop {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  top: 51px;\r\n}\r\n\r\n.modal-upload-image-body-drop-area-main {\r\n  height: 100%;\r\n}\r\n\r\n.modal-upload-image-body-drop-area-main-form {\r\n  border: #ddd 4px dashed;\r\n  border-radius: 2px;\r\n  text-align: center;\r\n  position: relative;\r\n  display: none;\r\n  margin: 20px;\r\n  padding: 10px;\r\n  height: calc(100% - 54px);\r\n}\r\n\r\n.modal-upload-image-body-drop-area {\r\n  height: calc(100% - 72px);\r\n}\r\n\r\n.modal-upload-image-body-drop-area-main-form-button {\r\n  font-size: 16px;\r\n}\r\n\r\n.modal-upload-image-body-drop-area-main-process-bar {\r\n  width: 50%;\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 50%;\r\n  transform: translate(-50%, 0);\r\n}\r\n\r\n.modal-upload-image-body-drop-area-main-form-tutorial {\r\n  font-size: 20pt;\r\n  color: #ccc;\r\n  padding: 0 10px;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 40%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n#drop-area.highlight {\r\n  border-color: purple;\r\n}\r\n\r\n#gallery {\r\n  margin-top: 10px;\r\n  height: calc(100% - 45px);\r\n  width: 100%;\r\n  position: relative;\r\n  overflow: auto;\r\n}\r\n\r\n.image-autoresize {\r\n  max-height: calc(100% - 20px);\r\n  vertical-align: middle;\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n  height: calc(100% - 20px);\r\n  max-width: calc(100% - 20px);\r\n  display: inline-block;\r\n}\r\n\r\n.absol-width-height-resizer-content {\r\n  width: unset;\r\n}\r\n\r\n#fileElem {\r\n  display: none;\r\n}\r\n\r\n.modal-upload-image-body-navigation-bar {\r\n  background: transparent;\r\n  border: none;\r\n  float: left;\r\n  height: 14px;\r\n  margin: 0 18px;\r\n  padding: 16px 4px 7px;\r\n  position: static;\r\n  user-select: none;\r\n  border-bottom: 2px solid #4d90fe;\r\n  border-left: 0;\r\n  border-right: 0;\r\n  border-top: 0;\r\n  color: #222;\r\n  font-weight: bold;\r\n  padding-bottom: 18px;\r\n  user-select: none;\r\n}\r\n.modal-upload-image-body-navigation-bar-button{\r\n  display: inline-block;\r\n  font-size: 14px;\r\n  vertical-align: middle;\r\n  user-select: none;\r\n  font-weight: 600;\r\n}\r\n\r\n.modal-upload-image-body-drop-save{\r\n  padding-left: 20px;\r\n  position: absolute;\r\n  bottom: 10px;\r\n}\r\n\r\n.margin-align{\r\n  margin-left: 100px;\r\n  position: relative;\r\n  width: calc(100% - 100px);\r\n  margin-bottom: 0;\r\n}\r\n\r\n.full-size{\r\n  width: auto;\r\n  margin: 2px;\r\n  height: calc(100% - 7px);\r\n}", ""]);



/***/ }),
/* 228 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(229);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 229 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".quantumWizTextinputPaperinputInput {\r\n    display: inline-block;\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n    width: 3em;\r\n    text-align: right;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n}\r\n\r\n.fake-text {\r\n    visibility: hidden;\r\n    position: absolute;\r\n    top: -71.3571em;\r\n    left: -71.3571em;\r\n    font: 500 1.7857rem Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\r\n}\r\n\r\n.background-opacity {\r\n    opacity: 0.5;\r\n    position: fixed;\r\n    pointer-events: none;\r\n    z-index: 100;\r\n    max-width: 100%;\r\n    background-color: white;\r\n    overflow: hidden;\r\n}\r\n\r\n.background-opacity-1 {\r\n    opacity: 0.5;\r\n    position: fixed;\r\n    z-index: 100;\r\n    background-color: white;\r\n}\r\n\r\n.pac-container.pac-logo {\r\n    z-index: 9999999999;\r\n}\r\n\r\n.delete-zone {\r\n    border: 0.1429rem dashed #0087F7;\r\n    text-align: center;\r\n    position: fixed;\r\n}\r\n\r\n.delete-zone-icon {\r\n    font-size: 4.2857em;\r\n    display: inline-block;\r\n}\r\n\r\n.detele-zone-label {\r\n    font-size: 2.1429em;\r\n    display: inline-block;\r\n    vertical-align: top;\r\n}\r\n\r\n.focus-blast .delete-zone {\r\n    border-style: solid;\r\n}\r\n\r\n.focus-blast .delete-zone .delete-zone-icon {\r\n    opacity: 0.5;\r\n}\r\n\r\n.focus-blast .delete-zone .detele-zone-label {\r\n    opacity: 0.5;\r\n}\r\n\r\n.focus-blast.move-hover-zone .move-hover-zone-center {\r\n    border: 0.0714rem solid blue;\r\n}\r\n\r\n.focus-blast.move-hover-zone-topbot .move-hover-zone-middle {\r\n    border: 4px solid blue;\r\n}\r\n\r\n.move-hover-zone-left {\r\n    display: inline-block;\r\n    height: 100%;\r\n}\r\n\r\n.move-hover-zone-right {\r\n    display: inline-block;\r\n    height: 100%;\r\n}\r\n\r\n.move-hover-zone-center {\r\n    display: inline-block;\r\n    height: 100%;\r\n}\r\n\r\n.move-hover-zone {\r\n    display: inline-block;\r\n}\r\n\r\n.move-hover-zone-topbot {\r\n    display: block;\r\n}\r\n\r\n.move-hover-zone-middle {\r\n    opacity: 1;\r\n}\r\n\r\n\r\n/* ------------------------------------------\r\n  Reset ♥\r\n  http://meyerweb.com/eric/tools/css/reset/\r\n  v2.0 | 20110126\r\n  License: none (public domain)\r\n---------------------------------------------*/\r\n\r\ntable.sortTable {\r\n    max-width: 100%;\r\n}\r\n\r\n\r\n/* .absol-single-page-scroller{\r\n  width: 500px;\r\n  margin: auto;\r\n} */\r\n\r\ntable.sortTable,\r\ntable.sortTableClone {\r\n    background: #fff;\r\n    /* margin: 0 auto; */\r\n    position: relative;\r\n    font-size: 1em;\r\n    border-spacing: 0;\r\n    border-collapse: separate;\r\n    /* overflow: hidden; */\r\n}\r\n\r\ntable.sortTableClone {\r\n    left: 0;\r\n    font-size: 1em;\r\n    position: absolute;\r\n    z-index: 1000;\r\n}\r\n\r\ntable.sortTable th,\r\ntable.sortTable td,\r\ntable.sortTableClone th,\r\ntable.sortTableClone td {\r\n    padding: 0.35714285714em;\r\n    text-align: left;\r\n    border-top: 1px solid var(--color-input-color);\r\n    position: relative;\r\n}\r\n\r\ntable.sortTable th,\r\ntable.sortTableClone th {\r\n    background: #36304a;\r\n    vertical-align: top;\r\n    color: #fff;\r\n    position: sticky;\r\n    position: -webkit-sticky;\r\n    top: 0px;\r\n    z-index: 4;\r\n}\r\n\r\ntable.sortTable td,\r\ntable.sortTableClone td {\r\n    vertical-align: middle;\r\n}\r\n\r\ntable.sortTable thead:first-child tr th,\r\ntable.sortTable thead:first-child tr td,\r\ntable.sortTableClone thead:first-child tr th,\r\ntable.sortTableClone thead:first-child tr td {\r\n    border-top: 0;\r\n}\r\n\r\ntable.sortTable tbody+tbody,\r\ntable.sortTableClone tbody+tbody {\r\n    border-top: 1px solid #ddd;\r\n}\r\n\r\ntable.sortTable th+th,\r\ntable.sortTable td+td,\r\ntable.sortTable th+td,\r\ntable.sortTable td+th,\r\ntable.sortTableClone th+th,\r\ntable.sortTableClone td+td,\r\ntable.sortTableClone th+td,\r\ntable.sortTableClone td+th {\r\n    border-left: 1px solid #ddd;\r\n}\r\n\r\ntable.sortTable thead:first-child tr:first-child th,\r\ntable.sortTable tbody:first-child tr:first-child th,\r\ntable.sortTable tbody:first-child tr:first-child td,\r\ntable.sortTableClone thead:first-child tr:first-child th,\r\ntable.sortTableClone tbody:first-child tr:first-child th,\r\ntable.sortTableClone tbody:first-child tr:first-child td {\r\n    border-top: 0;\r\n}\r\n\r\ntable.sortTable tbody {\r\n    position: relative;\r\n}\r\n\r\ntable.sortTable td.postionStickyCell,\r\ntable.sortTable th.postionStickyCell {\r\n    position: sticky;\r\n    position: -webkit-sticky;\r\n    left: 0;\r\n    z-index: 1;\r\n}\r\n\r\ntable.sortTable th.postionStickyCell {\r\n    z-index: 3;\r\n}\r\n\r\n\r\n/*-----------------------------------\r\n  Markup free clearing\r\n  Details: http: //perishablepress.com/press/2009/12/06/new-clearfix-hack\r\n-------------------------------------*/\r\n\r\n.clearfix:after {\r\n    content: \".\";\r\n    display: block;\r\n    height: 0;\r\n    clear: both;\r\n    visibility: hidden;\r\n}\r\n\r\n* html .clearfix {\r\n    height: 1%;\r\n}\r\n\r\n\r\n/* IE6 */\r\n\r\n*:first-child+html .clearfix {\r\n    min-height: 1%;\r\n}\r\n\r\n\r\n/* IE7 */\r\n\r\n\r\n/* Syntax highlighting */\r\n\r\n.c {\r\n    color: #998;\r\n    font-style: italic;\r\n}\r\n\r\n\r\n/* Comment */\r\n\r\n.err {\r\n    color: #a61717;\r\n    background-color: #e3d2d2;\r\n}\r\n\r\n\r\n/* Error */\r\n\r\n.k {\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Keyword */\r\n\r\n.o {\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Operator */\r\n\r\n.cm {\r\n    color: #998;\r\n    font-style: italic;\r\n}\r\n\r\n\r\n/* Comment.Multiline */\r\n\r\n.cp {\r\n    color: #999;\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Comment.Preproc */\r\n\r\n.c1 {\r\n    color: #998;\r\n    font-style: italic;\r\n}\r\n\r\n\r\n/* Comment.Single */\r\n\r\n.cs {\r\n    color: #999;\r\n    font-weight: bold;\r\n    font-style: italic;\r\n}\r\n\r\n\r\n/* Comment.Special */\r\n\r\n.gd {\r\n    color: #000;\r\n    background-color: #fdd;\r\n}\r\n\r\n\r\n/* Generic.Deleted */\r\n\r\n.gd .x {\r\n    color: #000;\r\n    background-color: #faa;\r\n}\r\n\r\n\r\n/* Generic.Deleted.Specific */\r\n\r\n.ge {\r\n    font-style: italic;\r\n}\r\n\r\n\r\n/* Generic.Emph */\r\n\r\n.gr {\r\n    color: #a00;\r\n}\r\n\r\n\r\n/* Generic.Error */\r\n\r\n.gh {\r\n    color: #999;\r\n}\r\n\r\n\r\n/* Generic.Heading */\r\n\r\n.gi {\r\n    color: #000;\r\n    background-color: #dfd;\r\n}\r\n\r\n\r\n/* Generic.Inserted */\r\n\r\n.gi .x {\r\n    color: #000;\r\n    background-color: #afa;\r\n}\r\n\r\n\r\n/* Generic.Inserted.Specific */\r\n\r\n.go {\r\n    color: #888;\r\n}\r\n\r\n\r\n/* Generic.Output */\r\n\r\n.gp {\r\n    color: #555;\r\n}\r\n\r\n\r\n/* Generic.Prompt */\r\n\r\n.gs {\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Generic.Strong */\r\n\r\n.gu {\r\n    color: #aaa;\r\n}\r\n\r\n\r\n/* Generic.Subheading */\r\n\r\n.gt {\r\n    color: #a00;\r\n}\r\n\r\n\r\n/* Generic.Traceback */\r\n\r\n.kc {\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Keyword.Constant */\r\n\r\n.kd {\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Keyword.Declaration */\r\n\r\n.kp {\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Keyword.Pseudo */\r\n\r\n.kr {\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Keyword.Reserved */\r\n\r\n.kt {\r\n    color: #458;\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Keyword.Type */\r\n\r\n.m {\r\n    color: #099;\r\n}\r\n\r\n\r\n/* Literal.Number */\r\n\r\n.s {\r\n    color: #d14;\r\n}\r\n\r\n\r\n/* Literal.String */\r\n\r\n.na {\r\n    color: #008080;\r\n}\r\n\r\n\r\n/* Name.Attribute */\r\n\r\n.nb {\r\n    color: #0086b3;\r\n}\r\n\r\n\r\n/* Name.Builtin */\r\n\r\n.nc {\r\n    color: #458;\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Name.Class */\r\n\r\n.no {\r\n    color: #008080;\r\n}\r\n\r\n\r\n/* Name.Constant */\r\n\r\n.ni {\r\n    color: #800080;\r\n}\r\n\r\n\r\n/* Name.Entity */\r\n\r\n.ne {\r\n    color: #900;\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Name.Exception */\r\n\r\n.nf {\r\n    color: #900;\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Name.Function */\r\n\r\n.nn {\r\n    color: #555;\r\n}\r\n\r\n\r\n/* Name.Namespace */\r\n\r\n.nt {\r\n    color: #000080;\r\n}\r\n\r\n\r\n/* Name.Tag */\r\n\r\n.nv {\r\n    color: #008080;\r\n}\r\n\r\n\r\n/* Name.Variable */\r\n\r\n.ow {\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Operator.Word */\r\n\r\n.w {\r\n    color: #bbb;\r\n}\r\n\r\n\r\n/* Text.Whitespace */\r\n\r\n.mf {\r\n    color: #099;\r\n}\r\n\r\n\r\n/* Literal.Number.Float */\r\n\r\n.mh {\r\n    color: #099;\r\n}\r\n\r\n\r\n/* Literal.Number.Hex */\r\n\r\n.mi {\r\n    color: #099;\r\n}\r\n\r\n\r\n/* Literal.Number.Integer */\r\n\r\n.mo {\r\n    color: #099;\r\n}\r\n\r\n\r\n/* Literal.Number.Oct */\r\n\r\n.sb {\r\n    color: #d14;\r\n}\r\n\r\n\r\n/* Literal.String.Backtick */\r\n\r\n.sc {\r\n    color: #d14;\r\n}\r\n\r\n\r\n/* Literal.String.Char */\r\n\r\n.sd {\r\n    color: #d14;\r\n}\r\n\r\n\r\n/* Literal.String.Doc */\r\n\r\n.s2 {\r\n    color: #d14;\r\n}\r\n\r\n\r\n/* Literal.String.Double */\r\n\r\n.se {\r\n    color: #d14;\r\n}\r\n\r\n\r\n/* Literal.String.Escape */\r\n\r\n.sh {\r\n    color: #d14;\r\n}\r\n\r\n\r\n/* Literal.String.Heredoc */\r\n\r\n.si {\r\n    color: #d14;\r\n}\r\n\r\n\r\n/* Literal.String.Interpol */\r\n\r\n.sx {\r\n    color: #d14;\r\n}\r\n\r\n\r\n/* Literal.String.Other */\r\n\r\n.sr {\r\n    color: #009926;\r\n}\r\n\r\n\r\n/* Literal.String.Regex */\r\n\r\n.s1 {\r\n    color: #d14;\r\n}\r\n\r\n\r\n/* Literal.String.Single */\r\n\r\n.ss {\r\n    color: #990073;\r\n}\r\n\r\n\r\n/* Literal.String.Symbol */\r\n\r\n.bp {\r\n    color: #999;\r\n}\r\n\r\n\r\n/* Name.Builtin.Pseudo */\r\n\r\n.vc {\r\n    color: #008080;\r\n}\r\n\r\n\r\n/* Name.Variable.Class */\r\n\r\n.vg {\r\n    color: #008080;\r\n}\r\n\r\n\r\n/* Name.Variable.Global */\r\n\r\n.vi {\r\n    color: #008080;\r\n}\r\n\r\n\r\n/* Name.Variable.Instance */\r\n\r\n.il {\r\n    color: #099;\r\n}\r\n\r\n\r\n/* Literal.Number.Integer.Long */\r\n\r\n.module-delete-container {\r\n    display: inline-block;\r\n    position: relative;\r\n    padding: 10px;\r\n    border: 1px solid #888;\r\n    border-radius: 4px;\r\n    max-height: 90vh;\r\n    overflow: auto;\r\n    background-color: #fefefe;\r\n    box-shadow: 4px 4px 10px 0px black;\r\n}\r\n\r\n.module-delete-button>button {\r\n    text-align: center;\r\n    padding: 0;\r\n    margin: 0;\r\n    background-color: #ebebeb;\r\n    border: solid 0.0714rem #c0c0c0;\r\n    border-radius: 0.2em;\r\n    font-size: 1em;\r\n    overflow: hidden;\r\n    line-height: 2em;\r\n    box-sizing: content-box;\r\n    height: 2em;\r\n    white-space: nowrap;\r\n    width: 90px;\r\n}\r\n\r\n.module-delete-button>button:hover {\r\n    background-color: rgb(213, 213, 213);\r\n    cursor: pointer;\r\n}\r\n\r\n.module-delete-button>button:not(:first-child) {\r\n    margin-left: 30px;\r\n}\r\n\r\n.module-delete-header {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    align-items: stretch;\r\n    font-weight: bold;\r\n}\r\n\r\n.module-delete-header-title {\r\n    font-size: 1.14285714286em;\r\n    padding-top: 0.5em;\r\n    padding-bottom: 0.5em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    overflow: hidden;\r\n    position: relative;\r\n    min-width: 20em;\r\n}\r\n\r\n.module-delete-header-close-container {\r\n    font-size: 1em;\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    flex-shrink: 0;\r\n    margin: auto;\r\n}\r\n\r\n.module-delete-button {\r\n    text-align: center;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.module-delete-content {\r\n    margin-top: 24px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.module-delete-header-close.material-icons {\r\n    font-weight: bold;\r\n}\r\n\r\n.module-delete-header-close.material-icons:hover {\r\n    color: red;\r\n    cursor: pointer;\r\n}\r\n\r\n\r\n/* \r\n.pagination {\r\n  display: flex;\r\n  justify-content: center;\r\n  position: absolute;\r\n  transform: translateX(-50%) translateY(10px);\r\n  left: 50%;\r\n} */\r\n\r\n.container-sortTable {\r\n    overflow: auto;\r\n    height: 100%;\r\n    display: inline-block;\r\n}\r\n\r\n.pagination {\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    justify-content: center;\r\n    padding-top: 5px;\r\n    padding-bottom: 5px;\r\n}\r\n\r\n.pagination-container {\r\n    padding: 5px 0;\r\n    border-radius: 8px;\r\n    border: 1px solid rgba(0, 0, 0, 0.1);\r\n    background-color: #fff;\r\n    display: inline-flex;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.pagination-hover-overlay {\r\n    background-color: #00c1dd;\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 5px;\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    transition-duration: 0.5s;\r\n    left: 60px;\r\n    opacity: 0;\r\n}\r\n\r\n.pagination .icon-pagination {\r\n    color: rgba(51, 61, 69, 0.5);\r\n    font-size: 11px;\r\n    width: 40px;\r\n    height: 40px;\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n    z-index: 3;\r\n    background-color: #fff;\r\n}\r\n\r\n.pagination-prev {\r\n    margin-right: 5px;\r\n    margin-left: 10px;\r\n    cursor: pointer;\r\n}\r\n\r\n.pagination-prev .icon-pagination-prev {\r\n    transform: rotate(0deg);\r\n}\r\n\r\n.pagination-prev .icon-pagination-prev>i,\r\n.pagination-next .icon-pagination-next>i {\r\n    font-size: 2em;\r\n}\r\n\r\n.pagination-next {\r\n    margin-left: 10px;\r\n    margin-right: 5px;\r\n    cursor: pointer;\r\n}\r\n\r\n.pagination-next .icon-pagination-next {\r\n    transform: rotate(180deg);\r\n}\r\n\r\n.pagination-page-number {\r\n    display: none;\r\n    border-radius: 5px;\r\n    padding: 5px;\r\n    color: #333d45;\r\n    min-width: 30px;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition-duration: 0.5s;\r\n    position: relative;\r\n    z-index: 2;\r\n    font-weight: 700;\r\n    font-size: 18px;\r\n    cursor: pointer;\r\n    -moz-box-sizing: unset;\r\n    box-sizing: unset;\r\n    -webkit-box-sizing: unset;\r\n}\r\n\r\n.pagination-wrapper .pagination-page-number.active {\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n}\r\n\r\n.pagination-page-number:hover {\r\n    color: #fff;\r\n}\r\n\r\n.pagination-page-number.active {\r\n    color: #fff;\r\n}\r\n\r\n.pagination-wrapper {\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n}\r\n\r\n\r\n/* \r\n.pagination-align{\r\n  position: absolute;\r\n  transform: translateX(-50%);\r\n  left: 50%;\r\n  width: 100%;\r\n  height: 72px;\r\n  background-color: white;\r\n} */\r\n\r\n.button-hidden-swipe {\r\n    /* position: absolute;\r\n  right: 0;\r\n  z-index: -1;*/\r\n    height: 100%;\r\n    display: inline-block;\r\n    overflow: hidden;\r\n    transition: width 0.2s ease-out;\r\n    transition: width 0.2s ease-in;\r\n}\r\n\r\n.button-hidden-swipe-container-left {\r\n    position: absolute;\r\n    left: 0;\r\n    z-index: -1;\r\n    top: 0;\r\n    height: 100%;\r\n}\r\n\r\n.button-hidden-swipe-container-right {\r\n    position: absolute;\r\n    right: 0;\r\n    z-index: -1;\r\n    top: 0;\r\n    height: 100%;\r\n}\r\n\r\n.button-hidden-swipe-icon {\r\n    max-width: 100%;\r\n}\r\n\r\n.button-hidden-swipe-text {}\r\n\r\n.button-hidden-swipe-detail-content {\r\n    max-width: 100%;\r\n    display: inline-block;\r\n    position: absolute;\r\n    overflow: hidden;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    color: white;\r\n    font-weight: bolder;\r\n    text-align: center;\r\n}\r\n\r\n.button-hidden-swipe-detail {\r\n    position: relative;\r\n    text-align: center;\r\n    display: table;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    -moz-box-sizing: unset;\r\n    box-sizing: unset;\r\n    -webkit-box-sizing: unset;\r\n}\r\n\r\n.button-hidden-swipe-detail>i {\r\n    display: table-row;\r\n    font-size: 24px;\r\n    line-height: 25px;\r\n}\r\n\r\n.button-hidden-swipe-detail>span {\r\n    display: table-row;\r\n    white-space: nowrap;\r\n}\r\n\r\n.button-hidden-swipe-calcWidth {\r\n    display: inline;\r\n}\r\n\r\n.button-hidden-swipe-activeAll {\r\n    position: absolute;\r\n    right: 0;\r\n    max-width: unset !important;\r\n}\r\n\r\n.button-hidden-swipe-activeAll-width {\r\n    width: 100% !important;\r\n}\r\n\r\n.tableview-choice-container-content {\r\n    display: grid;\r\n    grid-template-columns: auto auto auto auto;\r\n    align-items: center;\r\n    background-color: white;\r\n    width: 50vw;\r\n    height: 50vh;\r\n    position: relative;\r\n}\r\n\r\n.tableview-choice-container-content .absol-checkbox {\r\n    text-align: center;\r\n}\r\n\r\n.tableview-choice-container-button {\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 10px;\r\n}\r\n\r\n.tableview-choice-container-tab {\r\n    border-bottom: solid 0.0714rem #ccc;\r\n    background: #f3f3f3;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n}\r\n\r\n.tableview-choice-container-tab-label {\r\n    padding: 0.7143em;\r\n    width: 100%;\r\n}\r\n\r\n.tableview-choice-container-tab-button {\r\n    display: inline-block;\r\n    width: 6em;\r\n    margin: 5px;\r\n}\r\n\r\n.searchheader-input {\r\n    flex-grow: 2;\r\n    display: flex;\r\n    align-items: center;\r\n    border: none;\r\n    position: absolute;\r\n    width: calc(100% - 4px);\r\n}\r\n\r\n.searchheader {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    align-items: stretch;\r\n    position: relative;\r\n    height: 18px;\r\n    margin-top: 5px;\r\n}", ""]);



/***/ }),
/* 230 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(231);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 231 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".arrow_up {\r\n    position: absolute;\r\n    transform: scale(1.06);\r\n    display: block;\r\n    top: 2px;\r\n}\r\n\r\n.arrow_down {\r\n    position: absolute;\r\n    transform: scale(1.06);\r\n    top: calc(50% + 1px);\r\n}\r\n\r\n.sort-container {\r\n    display: none;\r\n}\r\n\r\n.has-sort .sort-container {\r\n    display: flex;\r\n    position: relative;\r\n    flex-shrink: 0;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 20px;\r\n    min-height: 20px;\r\n}\r\n\r\n.downgrade .sort-container .arrow_up>path {\r\n    fill: #fff !important;\r\n}\r\n\r\n.upgrade .sort-container .arrow_down>path {\r\n    fill: #fff !important;\r\n}\r\n\r\n.has-sort {\r\n    position: relative;\r\n}\r\n\r\n.margin-div-cell {\r\n    width: 1.71428571429em;\r\n    display: inline-block;\r\n}\r\n\r\n.more-icon-container {\r\n    font-size: 16px;\r\n    position: absolute;\r\n    vertical-align: middle;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    top: 50%;\r\n    width: 20px;\r\n    height: 30px;\r\n    transform: translateX(-100%) translateX(-0.71428571428rem) translateY(-50%);\r\n}\r\n\r\n.more-button {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%) translateY(-2px);\r\n    -webkit-transition: 0.5s ease-in-out;\r\n    -moz-transition: 0.5s ease-in-out;\r\n    -o-transition: 0.5s ease-in-out;\r\n    transition: 0.5s ease-in-out;\r\n    font-size: 20px;\r\n}\r\n\r\ntable.sortTable tr.more-child>td>div>i.more-button,\r\ntable.sortTableClone tr.more-child>td>div>i.more-button {\r\n    transform: translateY(-50%) translateY(-2px) rotateZ(90deg);\r\n}\r\n\r\n.container-view {\r\n    display: inline-block;\r\n}\r\n\r\ntable.sortTable td.margin-left-has-icon {\r\n    padding-left: 2.5em;\r\n}\r\n\r\ntable.sortTable.padding-High-table tbody td:first-child {\r\n    padding-left: 2.85714285714em;\r\n}\r\n\r\n.drag-icon-button {\r\n    cursor: context-menu;\r\n}\r\n\r\ntable.sortTable>tbody>tr.parent {\r\n    opacity: 1;\r\n    -moz-user-select: none;\r\n    -webkit-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    -o-user-select: none;\r\n    position: relative;\r\n    /* transform: scale(1); */\r\n    /* transform: none; */\r\n    /* transition: all 0.5s cubic-bezier(.36,-0.64,.34,1.76); */\r\n}\r\n\r\ntable.sortTable>tbody>tr {\r\n    opacity: 0;\r\n    /* transform: rotateX(-90deg); */\r\n    /* transition: all 0.5s cubic-bezier(.36,-0.64,.34,1.76); */\r\n}\r\n\r\ntable.sortTable>tbody>tr.hideTranslate.parent {\r\n    -webkit-transition: 1s ease-in-out;\r\n    -moz-transition: 1s ease-in-out;\r\n    -o-transition: 1s ease-in-out;\r\n    transition: 1s ease-in-out;\r\n    transform: translateX(100%);\r\n}\r\n\r\n.disPlayNone {\r\n    display: none !important;\r\n}\r\n\r\n.absol-frame-view-frame-container:not(.absol-active) {\r\n    visibility: unset;\r\n}\r\n\r\n\r\n/* table.sortTable tr:nth-child(even) {\r\n    background-color: #f5f5f5;\r\n  } */\r\n\r\ntable.sortTable .slip-reordering .container-view {\r\n    z-index: 9999 !important;\r\n}\r\n\r\n.container-header {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    align-items: stretch;\r\n}\r\n\r\n.container-header>span {\r\n    flex-grow: 2;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\ntable.sortTable .parent:nth-child(odd) td {\r\n    background-color: #f5f5f5;\r\n}\r\n\r\ntable.sortTable .parent:nth-child(even) td {\r\n    background-color: #fff;\r\n}\r\n\r\ntable.sortTable tr.parent:hover td {\r\n    background-color: rgb(191 191 191);\r\n}", ""]);



/***/ }),
/* 232 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(233);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 233 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-list-realty-main-result-control-map-view {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-list-realty-main-result-control-map-view .pizo-new-realty-location-map-view {\r\n    flex-grow: 2;\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    margin-bottom: 0;\r\n    width: unset;\r\n    vertical-align: unset;\r\n    height: unset;\r\n    position: unset;\r\n}\r\n\r\n@media screen and (min-width: 1007px) {\r\n    body:not(.mobile-web) .search-page-list-container {\r\n        overflow-y: auto;\r\n        -webkit-box-flex: 0;\r\n        flex: 0 0 390px;\r\n        box-shadow: -2px 2px 5px 0 rgba(0, 0, 0, 0.4);\r\n        z-index: 1;\r\n    }\r\n}\r\n\r\n.search-page-list-container {\r\n    height: 100%;\r\n}\r\n\r\n@media screen and (min-width: 1007px) {\r\n    body:not(.mobile-web) .double-column-only {\r\n        width: 375px;\r\n        -webkit-box-flex: 0;\r\n        flex: 0 0 375px;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 1280px) {\r\n    body:not(.mobile-web) .double-column-only {\r\n        width: 750px;\r\n        -webkit-box-flex: 0;\r\n        flex: 0 0 750px;\r\n    }\r\n}\r\n\r\n.result-list-container {\r\n    position: relative;\r\n    background-color: #fafafa;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n@media screen and (min-width: 1007px) {\r\n    .result-list-container {\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n.responsive-search-page .short-list-cards .result-list-container {\r\n    background: 0 0;\r\n}\r\n\r\n.responsive-search-page .short-list-cards .result-list-container>.search-page-list-header {\r\n    padding: 12px 10px;\r\n}\r\n\r\n@media screen and (min-width: 1007px) {\r\n    .responsive-search-page .short-list-cards .result-list-container>.search-page-list-header {\r\n        padding: 20px;\r\n    }\r\n}\r\n\r\n.result-list-container .search-title {\r\n    font-size: 20px;\r\n    line-height: 26px;\r\n    margin-block-start: 0;\r\n    margin-block-end: 0;\r\n}\r\n\r\n@media screen and (min-width: 1007px) {\r\n    .responsive-search-page .search-page-list-container .search-title {\r\n        margin-bottom: 12px;\r\n    }\r\n}\r\n\r\n.responsive-search-page .short-list-cards .result-list-container .search-subtitle,\r\n.responsive-search-page .short-list-cards .result-list-container .search-title {\r\n    margin-bottom: 0;\r\n}\r\n\r\n@media screen and (min-width: 1007px) {\r\n    .responsive-search-page .short-list-cards .result-list-container .search-title {\r\n        margin-bottom: 8px;\r\n    }\r\n}\r\n\r\n.result-list-container .search-subtitle {\r\n    margin-bottom: 10px;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n}\r\n\r\n@media screen and (min-width: 1007px) {\r\n    .responsive-search-page .search-page-list-container .search-subtitle {\r\n        position: relative;\r\n        /*display: -webkit-box;*/\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        -webkit-box-pack: justify;\r\n        justify-content: space-between;\r\n        font-size: 14px;\r\n        margin-bottom: 12px;\r\n    }\r\n}\r\n\r\n.result-list-container .result-count {\r\n    align-self: flex-start;\r\n    -webkit-box-flex: 1;\r\n    flex: 1;\r\n}\r\n\r\n@media screen and (min-width: 1007px) {\r\n    .responsive-search-page .search-page-list-container .search-subtitle .result-count {\r\n        font-weight: 600;\r\n    }\r\n}\r\n\r\n.result-list-container .sort-options {\r\n    display: none;\r\n}\r\n\r\n.result-list-container .sort-options.visible {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-align: start;\r\n    align-items: flex-start;\r\n}\r\n\r\n.photo-cards.photo-cards_short {\r\n    padding: 0;\r\n    background-color: #f1f1f4;\r\n    margin-block-start: 0;\r\n    margin-block-end: 0;\r\n}\r\n\r\n@media screen and (min-width: 640px) {\r\n    .photo-cards.photo-cards_short {\r\n        padding: 0 8px 0 16px;\r\n    }\r\n}\r\n\r\nbody:not(.mobile-web) .photo-cards.photo-cards_short {\r\n    background-color: #fff;\r\n}\r\n\r\n@media screen and (min-width: 1007px) {\r\n    body:not(.mobile-web) .photo-cards.photo-cards_short {\r\n        padding: 0 16px;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 1280px) {\r\n    body:not(.mobile-web) .photo-cards.photo-cards_short {\r\n        padding: 0 8px 0 16px;\r\n    }\r\n}\r\n\r\n.photo-cards.photo-cards_short>li {\r\n    display: block;\r\n    margin: 0 0 8px;\r\n    width: 100%;\r\n}\r\n\r\n@media screen and (min-width: 640px) {\r\n    .photo-cards.photo-cards_short>li {\r\n        display: inline-block;\r\n        margin-right: 8px;\r\n        vertical-align: top;\r\n        width: calc((100% / 2) - 8px);\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 1007px) {\r\n    body:not(.mobile-web) .photo-cards.photo-cards_short>li {\r\n        display: block;\r\n        margin: 0 0 8px;\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 1280px) {\r\n    body:not(.mobile-web) .photo-cards.photo-cards_short>li {\r\n        display: inline-block;\r\n        margin-right: 8px;\r\n        vertical-align: top;\r\n        width: calc((100% / 2) - 8px);\r\n    }\r\n}\r\n\r\n.list-card {\r\n    background: #fff;\r\n    border-bottom: 4px solid #006aff;\r\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\r\n    cursor: pointer;\r\n}\r\n\r\n.list-card,\r\n.list-card-top {\r\n    position: relative;\r\n}\r\n\r\n.list-card,\r\n.list-card-info {\r\n    /*display: -webkit-box;*/\r\n    -webkit-box-orient: vertical;\r\n}\r\n\r\n.list-card {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-direction: reverse;\r\n    flex-direction: column-reverse;\r\n}\r\n\r\n.list-card,\r\n.list-card-info {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n}\r\n\r\n.list-card {\r\n    grid-template-rows: auto 110px;\r\n    grid-template-areas: \"top\" \"bottom\";\r\n}\r\n\r\n.list-card-short {\r\n    grid-template-rows: auto;\r\n}\r\n\r\n.list-card-info {\r\n    padding: 15px;\r\n}\r\n\r\n.list-card-info {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-direction: normal;\r\n    flex-direction: column;\r\n    min-height: 110px;\r\n}\r\n\r\n.list-card-info {\r\n    grid-area: bottom;\r\n    grid-template-rows: repeat(3, auto);\r\n    min-height: auto;\r\n}\r\n\r\n.list-card-short .list-card-info {\r\n    min-height: 74px;\r\n    padding: 5px 8px 7px;\r\n}\r\n\r\n.list-card-addr,\r\n.list-card-details,\r\n.list-card-favorites-info,\r\n.list-card-footer,\r\n.list-card-heading,\r\n.list-card-link,\r\n.list-card-truncate,\r\n.list-card-type,\r\n.list-card-variable-text {\r\n    margin: 0;\r\n    min-width: 0;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n}\r\n\r\n.list-card-link {\r\n    display: grid;\r\n    -webkit-box-ordinal-group: 3;\r\n    order: 2;\r\n}\r\n\r\n.zsg-link:visited,\r\n.zsg-link_primary:visited,\r\na:visited {\r\n    color: #7a48d6;\r\n}\r\n\r\n.list-card-link:active,\r\n.list-card-link:hover,\r\n.list-card-link:link,\r\n.list-card-link:visited {\r\n    color: #2a2a33;\r\n}\r\n\r\n.list-card-addr {\r\n    font-size: 14px;\r\n    font-style: normal;\r\n    font-weight: 600;\r\n    margin-bottom: 5px;\r\n    min-width: 0;\r\n}\r\n\r\n.list-card-short .list-card-addr,\r\n.list-card-short .list-card-heading {\r\n    margin-bottom: 0;\r\n}\r\n\r\n.list-card-footer,\r\n.list-card-horizontal {\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: normal;\r\n}\r\n\r\n.list-card-footer {\r\n    -webkit-box-ordinal-group: 4;\r\n    order: 3;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n\r\n.list-card-footer,\r\n.list-card-heading {\r\n    grid-template-columns: auto 1fr;\r\n    display: grid;\r\n}\r\n\r\n.list-card-footer {\r\n    grid-row: 3/4;\r\n}\r\n\r\n.list-card-type {\r\n    font-size: 13px;\r\n    font-weight: 600;\r\n    -webkit-box-ordinal-group: 2;\r\n    order: 1;\r\n}\r\n\r\n.list-card-short .list-card-type {\r\n    margin-top: 3px;\r\n    height: 18px;\r\n    font-size: 12px;\r\n    line-height: 18px;\r\n}\r\n\r\n.list-card-heading {\r\n    line-height: 1;\r\n    margin-bottom: 9px;\r\n    -webkit-box-ordinal-group: 2;\r\n    order: 1;\r\n}\r\n\r\n.list-card-heading {\r\n    grid-row: 1/2;\r\n    -webkit-box-align: end;\r\n    align-items: end;\r\n}\r\n\r\n.list-card-price,\r\n.priceStyles {\r\n    font-weight: 600;\r\n    margin-bottom: 0;\r\n}\r\n\r\n.list-card-price {\r\n    display: inline-block;\r\n    font-size: 26px;\r\n}\r\n\r\n.list-card-short .list-card-price {\r\n    font-size: 24px;\r\n    line-height: 32px;\r\n    height: 32px;\r\n}\r\n\r\n.list-card-details {\r\n    display: inline;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    list-style: none;\r\n    margin-left: 15px;\r\n    max-width: 100%;\r\n}\r\n\r\n.list-card-price+.list-card-details {\r\n    margin-bottom: 3px;\r\n}\r\n\r\n.list-card-short .list-card-price+.list-card-details {\r\n    margin-bottom: 5px;\r\n    text-align: right;\r\n}\r\n\r\n.list-card-details>li {\r\n    display: inline;\r\n    padding: 0 6px;\r\n}\r\n\r\n.list-card-details>li:first-child {\r\n    border-left: 0;\r\n    padding-left: 0;\r\n}\r\n\r\n.list-card-details>li:last-child {\r\n    border-left: 1px solid #d1d1d5;\r\n}\r\n\r\n.list-card-label {\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n}\r\n\r\n.list-card-top {\r\n    grid-area: top;\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: auto;\r\n    overflow: hidden;\r\n}\r\n\r\n.list-card-brokerage,\r\n.list-card-variable-text {\r\n    z-index: 1;\r\n}\r\n\r\n.list-card-img-overlay {\r\n    background: rgba(0, 0, 0, 0.54);\r\n    color: #fff;\r\n    padding: 5px 15px;\r\n    font-size: 13px;\r\n}\r\n\r\n.list-card-variable-text {\r\n    max-width: calc(100% - 40px);\r\n    left: 0;\r\n    top: 0;\r\n}\r\n\r\n.list-card-brokerage,\r\n.list-card-save,\r\n.list-card-variable-text {\r\n    position: absolute;\r\n    overflow: hidden;\r\n}\r\n\r\n.list-card-brokerage,\r\n.list-card-img,\r\n.list-card-overlay,\r\n.list-card-save,\r\n.list-card-variable-text {\r\n    grid-area: 1/1/-1/-1;\r\n}\r\n\r\n.list-card-variable-text {\r\n    place-self: start;\r\n}\r\n\r\n.list-card-variable-text {\r\n    -webkit-transition: opacity 0.2s linear;\r\n    transition: opacity 0.2s linear;\r\n}\r\n\r\n.list-card-brokerage {\r\n    background: 0 0;\r\n    width: 100%;\r\n    padding-bottom: 10px;\r\n    text-align: right;\r\n    text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.25);\r\n    bottom: 0;\r\n    right: 0;\r\n}\r\n\r\n.list-card-brokerage {\r\n    grid-area: auto;\r\n    -webkit-transition: opacity 0.2s linear;\r\n    transition: opacity 0.2s linear;\r\n}\r\n\r\n.list-card-img {\r\n    content: \"\";\r\n    display: block;\r\n    padding-top: 53.33%;\r\n    overflow: hidden;\r\n    position: relative;\r\n    background-color: #f1f1f4;\r\n}\r\n\r\n.list-card-link {\r\n    display: grid;\r\n    -webkit-box-ordinal-group: 3;\r\n    order: 2;\r\n}\r\n\r\n.list-card-short .list-card-img {\r\n    padding-top: 41.67%;\r\n}\r\n\r\n.list-card-img img {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    max-width: 100%;\r\n    width: 100%;\r\n    height: auto;\r\n    -webkit-transform: translate3d(-50%, -50%, 0);\r\n    transform: translate3d(-50%, -50%, 0);\r\n}\r\n\r\n.list-card-save {\r\n    z-index: 1;\r\n    background: 0 0;\r\n    border: 0;\r\n    right: 0;\r\n    top: 0;\r\n}\r\n\r\n.list-card-save {\r\n    align-self: start;\r\n    justify-self: end;\r\n}\r\n\r\nbody.responsive-search-page .search-page-container .list-card-save {\r\n    -webkit-transform: translate3d(0, 0, 0);\r\n}\r\n\r\n.list-card-save .list-card-save-content {\r\n    display: block;\r\n    width: 44px;\r\n    padding: 8px 8px 5px;\r\n    -webkit-filter: drop-shadow(0 0 1px rgba(0, 0, 0, 0.66));\r\n    filter: drop-shadow(0 0 1px rgba(0, 0, 0, 0.66));\r\n    -webkit-transition: -webkit-filter 0.2s ease-out;\r\n    transition: -webkit-filter 0.2s ease-out;\r\n    transition: filter 0.2s ease-out;\r\n    transition: filter 0.2s ease-out, -webkit-filter 0.2s ease-out;\r\n}\r\n\r\n.list-card-type-icon.zsg-icon-for-sale {\r\n    font-size: 10px;\r\n}\r\n\r\n.favorite_border.material-icons {\r\n    font-size: 34px;\r\n}\r\n\r\n.responsive-mini-bubble {\r\n    color: #2a2a33;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    line-height: 15.6px;\r\n    position: relative;\r\n    background-color: #fff;\r\n    font-size: 12px;\r\n    -webkit-tap-highlight-color: transparent;\r\n    font-family: Gotham, gotham, Verdana, sans-serif;\r\n    cursor: pointer;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.responsive-mini-bubble .mini-bubble-content {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n}\r\n\r\n.responsive-mini-bubble .mini-bubble-image {\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    content: \"\";\r\n    height: 46px;\r\n    width: 46px;\r\n    margin-right: 5px;\r\n    border: 0;\r\n}\r\n\r\n.responsive-mini-bubble .mini-bubble-details {\r\n    margin-bottom: 0;\r\n    height: 46px;\r\n}\r\n\r\n.responsive-mini-bubble .mini-bubble-details div,\r\n.responsive-mini-bubble .mini-bubble-details strong {\r\n    height: 15.3px;\r\n    white-space: nowrap;\r\n}\r\n\r\n.responsive-mini-bubble .mini-bubble-details div,\r\n.responsive-mini-bubble .mini-bubble-details strong {\r\n    height: 15.3px;\r\n    white-space: nowrap;\r\n}\r\n\r\n.home-details-content {\r\n    position: relative;\r\n}\r\n\r\n.imHfmq {\r\n    height: 100%;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-pack: justify;\r\n    justify-content: space-between;\r\n    -webkit-box-align: center;\r\n    align-items: center;\r\n    margin: 0px 16px;\r\n}\r\n\r\n.ds-text-button {\r\n    color: #006aff;\r\n    padding: 0;\r\n    border: 0;\r\n    background: 0 0;\r\n}\r\n\r\n.fyUmOz {\r\n    clip: rect(0px, 0px, 0px, 0px);\r\n    height: 1px;\r\n    position: absolute;\r\n    width: 1px;\r\n    border-width: 0px;\r\n    border-style: initial;\r\n    border-color: initial;\r\n    border-image: initial;\r\n    margin: -1px;\r\n    overflow: hidden;\r\n    padding: 0px;\r\n}\r\n\r\n.ds-text-button:hover {\r\n    color: #62aef7;\r\n}\r\n\r\n.duJWoc:hover {\r\n    text-decoration: none;\r\n}\r\n\r\n.duJWoc {\r\n    vertical-align: middle;\r\n}\r\n\r\n@media (min-width: 1024px) {\r\n    .imHfmq {\r\n        border-bottom: 1px solid rgb(209, 209, 213);\r\n    }\r\n}\r\n\r\n.zsg-form-group,\r\n.zsg-form-group li,\r\nol,\r\nul {\r\n    list-style: none;\r\n}\r\n\r\n.lhzQGq {\r\n    cursor: pointer;\r\n    color: rgb(0, 106, 255);\r\n    border-width: 0px;\r\n    border-style: initial;\r\n    border-color: initial;\r\n    border-image: initial;\r\n    background: none;\r\n    padding: 0px;\r\n}\r\n\r\n.ds-close-lightbox-icon {\r\n    position: absolute;\r\n    top: 16px;\r\n    right: -40px;\r\n    border: none;\r\n    background-image: none;\r\n    background-color: transparent;\r\n    box-shadow: none;\r\n    padding: 0;\r\n    display: none;\r\n}\r\n\r\n@media only screen and (min-width: 1024px) {\r\n    .ds-close-lightbox-icon {\r\n        display: block;\r\n    }\r\n}\r\n\r\n.ds-wrapper {}\r\n\r\n@media only screen and (min-width: 768px) {\r\n    .ds-wrapper {\r\n        overflow: hidden;\r\n    }\r\n}\r\n\r\n.ds-container {\r\n    -webkit-font-smoothing: antialiased;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    height: 100%;\r\n    max-height: none;\r\n    position: relative;\r\n    height: 90vh;\r\n}\r\n\r\n.ds-media-col {\r\n    scroll-behavior: smooth;\r\n    overflow-x: hidden;\r\n    max-height: 100vh;\r\n}\r\n\r\n.ds-container .ds-data-view,\r\n.ds-container .ds-media-col {\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    -webkit-overflow-scrolling: touch;\r\n}\r\n\r\n.ds-container .ds-media-col {\r\n    background: #fff;\r\n    -ms-flex: 1;\r\n    flex: 1;\r\n}\r\n\r\n@media only screen and (min-width: 768px) {\r\n    .ds-container.ds-mobile-single-scroll .ds-media-col {\r\n        display: block !important;\r\n        position: relative;\r\n    }\r\n}\r\n\r\n.media-stream {\r\n    background: #fff;\r\n}\r\n\r\n.media-stream {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-flow: row wrap;\r\n    flex-flow: row wrap;\r\n    -ms-flex-line-pack: start;\r\n    align-content: flex-start;\r\n    margin: -2px;\r\n    width: calc(100% + 4px);\r\n    min-height: 30% !important;\r\n}\r\n\r\n@media screen and (min-width: 768px) {\r\n    .media-stream {\r\n        max-width: calc(100vw - 600px);\r\n    }\r\n}\r\n\r\n.media-stream {\r\n    display: -ms-grid;\r\n    display: grid;\r\n    grid-gap: 4px;\r\n    grid-auto-columns: 1fr;\r\n    margin: 0 auto;\r\n    padding-inline-start: 0;\r\n    margin-block-start: 0;\r\n    margin-block-end: 0;\r\n}\r\n\r\n.ds-container .ds-data-view>ul,\r\n.ds-container .ds-media-col>ul {\r\n    min-height: 80%;\r\n    overflow: auto;\r\n    height: calc(100% - 48px);\r\n}\r\n\r\n.media-stream-tile {\r\n    cursor: pointer;\r\n    display: block;\r\n    overflow: hidden;\r\n    scroll-snap-align: center;\r\n    box-shadow: inset rgba(0, 0, 0, 0.15) 0 0 10px;\r\n}\r\n\r\n.media-stream .media-stream-tile {\r\n    height: calc(100vw * 3 / 4);\r\n    width: 100%;\r\n    border: 2px solid #eee;\r\n}\r\n\r\n@media screen and (min-width: 550px) {\r\n    .media-stream .media-stream-tile {\r\n        height: calc((100vw - 4px) * 3 / 8);\r\n        width: 50%;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 550px) {\r\n    .media-stream .media-stream-tile--prominent {\r\n        height: calc(100vw * 3 / 4);\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 768px) {\r\n    .media-stream .media-stream-tile {\r\n        height: calc((100vw - 400px) * 3 / 4);\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 900px) {\r\n    .media-stream .media-stream-tile {\r\n        height: calc((100vw - 400px - 4px) * 3 / 8);\r\n        width: 50%;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 900px) {\r\n    .media-stream .media-stream-tile--prominent {\r\n        height: calc((100vw - 400px) * 3 / 4);\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 1024px) {\r\n    .media-stream .media-stream-tile {\r\n        border-width: 2px;\r\n        height: calc((100vw - 400px - 72px * 2 - 4px) * 3 / 8);\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 1024px) {\r\n    .media-stream .media-stream-tile--prominent {\r\n        height: calc((100vw - 400px - 72px * 2) * 3 / 4);\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 1280px) {\r\n    .media-stream .media-stream-tile {\r\n        border-width: 2px;\r\n        height: calc((100vw - 480px - 72px * 2 - 4px) * 3 / 8);\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 1280px) {\r\n    .media-stream .media-stream-tile--prominent {\r\n        height: calc((100vw - 480px - 72px * 2) * 3 / 4);\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 1390px) {\r\n    .media-stream .media-stream-tile {\r\n        height: calc((768px - 4px) * 3 / 8);\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 1390px) {\r\n    .media-stream .media-stream-tile--prominent {\r\n        height: calc(768px * 3 / 4);\r\n    }\r\n}\r\n\r\n.media-stream .media-stream-tile {\r\n    border-width: 0;\r\n    width: auto;\r\n}\r\n\r\n@media screen and (min-width: 550px) {\r\n    .media-stream .media-stream-tile--fullwidth,\r\n    .media-stream .media-stream-tile--prominent {\r\n        -ms-grid-column: span 2;\r\n        grid-column: span 2;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 768px) {\r\n    .media-stream .media-stream-tile--fullwidth,\r\n    .media-stream .media-stream-tile--prominent {\r\n        -ms-grid-column: span 1;\r\n        grid-column: span 1;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 900px) {\r\n    .media-stream .media-stream-tile--fullwidth,\r\n    .media-stream .media-stream-tile--prominent {\r\n        -ms-grid-column: span 2;\r\n        grid-column: span 2;\r\n    }\r\n}\r\n\r\n.media-stream-tile--upsell .upsell-photo-content {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-pack: center;\r\n    justify-content: center;\r\n    -ms-flex-align: center;\r\n    align-items: center;\r\n    -ms-flex-direction: column;\r\n    flex-direction: column;\r\n}\r\n\r\n.ds-container .ds-hero-headline {\r\n    font-weight: 400;\r\n    font-size: 20px;\r\n    line-height: 30px;\r\n}\r\n\r\n.media-stream-tile--upsell .upsell-photo-content .ds-hero-headline {\r\n    font-weight: 600;\r\n    color: #fff;\r\n    text-align: center;\r\n    margin-top: -16px;\r\n    margin-bottom: 16px;\r\n    padding: 0 8px;\r\n}\r\n\r\n.ds-container .contact-button-group {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-align: center;\r\n    align-items: center;\r\n    padding-inline-start: 0;\r\n}\r\n\r\n.ds-container .contact-button-group .contact-button:not(:first-child) {\r\n    margin-left: 8px;\r\n}\r\n\r\n.media-stream-tile--upsell .upsell-photo-content .contact-button-group {\r\n    height: unset;\r\n}\r\n\r\n.ds-container .contact-button-group .contact-button {\r\n    -ms-flex-positive: 1;\r\n    flex-grow: 1;\r\n    -ms-flex-preferred-size: 0;\r\n    flex-basis: 0;\r\n}\r\n\r\n.media-stream-tile--upsell .upsell-photo-content .contact-button-group .contact-button {\r\n    -ms-flex-preferred-size: 0;\r\n    flex-basis: 0%;\r\n}\r\n\r\n.ds-container .ds-label-small {\r\n    font-weight: 600;\r\n    font-size: 14px;\r\n    line-height: 21px;\r\n}\r\n\r\n.ds-white-bg {\r\n    background: #fff !important;\r\n}\r\n\r\n.ds-container .ds-data-col {\r\n    background: #eee;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-direction: column;\r\n    flex-direction: column;\r\n}\r\n\r\n@media only screen and (min-width: 768px) {\r\n    .ds-container .ds-data-col {\r\n        -ms-flex-preferred-size: 400px;\r\n        flex-basis: 400px;\r\n        max-width: 400px;\r\n    }\r\n}\r\n\r\n@media only screen and (min-width: 1280px) {\r\n    .ds-container .ds-data-col {\r\n        -ms-flex-preferred-size: 480px;\r\n        flex-basis: 480px;\r\n        max-width: 480px;\r\n    }\r\n}\r\n\r\n@media only screen and (min-width: 768px) {\r\n    .ds-container .ds-data-col.ds-data-col-data-forward {\r\n        -ms-flex-preferred-size: 500px;\r\n        flex-basis: 500px;\r\n        max-width: 500px;\r\n    }\r\n}\r\n\r\n.ds-container .ds-chip {\r\n    padding-bottom: 16px;\r\n}\r\n\r\n.ds-container .ds-chip,\r\n.ds-container .ds-chip-mobile {\r\n    background-color: #fff;\r\n}\r\n\r\n.ds-home-details-chip {\r\n    margin: 0 16px;\r\n    padding-top: 16px;\r\n}\r\n\r\n.ds-home-details-chip .ds-summary-row-container {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n}\r\n\r\n.ds-home-details-chip .ds-summary-row-content {\r\n    -ms-flex: 1;\r\n    flex: 1;\r\n    width: 100%;\r\n}\r\n\r\n.ds-home-details-chip .ds-summary-row {\r\n    margin-bottom: 4px;\r\n    font-weight: 600;\r\n}\r\n\r\n.zsg-h2.zsg-separator,\r\nbody,\r\ndd,\r\ndl,\r\ndt,\r\nfieldset,\r\nh1,\r\nh2,\r\nh2.zsg-separator,\r\nh3,\r\nh4,\r\nh5,\r\nh6,\r\nol,\r\np,\r\nul {\r\n    margin: 0;\r\n}\r\n\r\n.zsg-h2.zsg-separator,\r\nh1,\r\nh2,\r\nh2.zsg-separator,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n    color: inherit;\r\n}\r\n\r\n.zsg-h3,\r\n.zsg-h3_light,\r\nh3 {\r\n    font-size: 20px;\r\n    line-height: 1.5;\r\n    font-weight: 600;\r\n}\r\n\r\n.zsg-content-item,\r\n.zsg-datatable-table .zsg-table-th,\r\n.zsg-datatable-table th,\r\n.zsg-form-legend,\r\n.zsg-h1,\r\n.zsg-h2,\r\n.zsg-h2.zsg-separator,\r\n.zsg-h3,\r\n.zsg-h4,\r\n.zsg-h5,\r\n.zsg-menu-header,\r\n.zsg-pagination>li,\r\n.zsg-step-content,\r\n.zsg-steps>li>a,\r\n.zsg-subfooter-header,\r\n.zsg-table .zsg-table-th,\r\n.zsg-table th,\r\n.zsg-toolbar_labeled .zsg-toolbar-label {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.zsg-datatable-table .zsg-table-th,\r\n.zsg-datatable-table th,\r\n.zsg-form-legend,\r\n.zsg-h1,\r\n.zsg-h2,\r\n.zsg-h2.zsg-separator,\r\n.zsg-h3,\r\n.zsg-h4,\r\n.zsg-h5,\r\n.zsg-menu-header,\r\n.zsg-pagination>li,\r\n.zsg-step-content,\r\n.zsg-steps>li>a,\r\n.zsg-subfooter-header,\r\n.zsg-table .zsg-table-th,\r\n.zsg-table th,\r\n.zsg-toolbar_labeled .zsg-toolbar-label {\r\n    display: block;\r\n}\r\n\r\n.ds-home-details-chip .ds-summary-row .ds-price {\r\n    display: inline;\r\n    font-size: 26px;\r\n    line-height: 1.26923077;\r\n    margin-right: 16px;\r\n}\r\n\r\narticle,\r\naside,\r\ndetails,\r\nfigcaption,\r\nfigure,\r\nfooter,\r\nheader,\r\nhgroup,\r\nmain,\r\nnav,\r\nsection,\r\nsummary {\r\n    display: block;\r\n}\r\n\r\n.ds-home-details-chip .ds-bed-bath-living-area-header,\r\n.ds-home-details-chip .ds-bed-bath-living-area-header .ds-bed-bath-living-area-container {\r\n    display: inline;\r\n}\r\n\r\n.zsg-h2.zsg-separator,\r\nbody,\r\ndd,\r\ndl,\r\ndt,\r\nfieldset,\r\nh1,\r\nh2,\r\nh2.zsg-separator,\r\nh3,\r\nh4,\r\nh5,\r\nh6,\r\nol,\r\np,\r\nul {\r\n    margin: 0;\r\n}\r\n\r\n.zsg-h2.zsg-separator,\r\nh1,\r\nh2,\r\nh2.zsg-separator,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n    color: inherit;\r\n}\r\n\r\n.zsg-h3,\r\n.zsg-h3_light,\r\nh3 {\r\n    font-size: 20px;\r\n    line-height: 1.5;\r\n    font-weight: 600;\r\n}\r\n\r\n.zsg-content-item,\r\n.zsg-datatable-table .zsg-table-th,\r\n.zsg-datatable-table th,\r\n.zsg-form-legend,\r\n.zsg-h1,\r\n.zsg-h2,\r\n.zsg-h2.zsg-separator,\r\n.zsg-h3,\r\n.zsg-h4,\r\n.zsg-h5,\r\n.zsg-menu-header,\r\n.zsg-pagination>li,\r\n.zsg-step-content,\r\n.zsg-steps>li>a,\r\n.zsg-subfooter-header,\r\n.zsg-table .zsg-table-th,\r\n.zsg-table th,\r\n.zsg-toolbar_labeled .zsg-toolbar-label {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.zsg-datatable-table .zsg-table-th,\r\n.zsg-datatable-table th,\r\n.zsg-form-legend,\r\n.zsg-h1,\r\n.zsg-h2,\r\n.zsg-h2.zsg-separator,\r\n.zsg-h3,\r\n.zsg-h4,\r\n.zsg-h5,\r\n.zsg-menu-header,\r\n.zsg-pagination>li,\r\n.zsg-step-content,\r\n.zsg-steps>li>a,\r\n.zsg-subfooter-header,\r\n.zsg-table .zsg-table-th,\r\n.zsg-table th,\r\n.zsg-toolbar_labeled .zsg-toolbar-label,\r\nh1,\r\nh2,\r\nh2.zsg-separator,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n    display: block;\r\n}\r\n\r\n.ds-home-details-chip .ds-bed-bath-living-area-header,\r\n.ds-home-details-chip .ds-bed-bath-living-area-header .ds-bed-bath-living-area-container {\r\n    display: inline;\r\n}\r\n\r\n.ds-home-details-chip .ds-bed-bath-living-area {\r\n    font-size: 15px;\r\n    line-height: 1.53333333;\r\n}\r\n\r\n.ds-home-details-chip .ds-vertical-divider {\r\n    margin-right: 8px;\r\n    padding-left: 8px;\r\n}\r\n\r\n.ds-home-details-chip .ds-bed-bath-living-area-header .ds-vertical-divider {\r\n    font-size: 15px;\r\n}\r\n\r\n.ds-home-details-chip .ds-bed-bath-living-area {\r\n    font-size: 15px;\r\n    line-height: 1.53333333;\r\n}\r\n\r\n.ds-home-details-chip .ds-summary-row-label-secondary {\r\n    font-weight: 400;\r\n}\r\n\r\n.ds-home-details-chip .ds-price-change-address-row {\r\n    margin-bottom: 4px;\r\n    font-size: 15px;\r\n    line-height: 1.53;\r\n    font-weight: 600;\r\n}\r\n\r\n.ds-home-details-chip .ds-price-change-address-row header {\r\n    display: inline;\r\n}\r\n\r\n.ds-home-details-chip .ds-price-change-address-row .ds-address-container {\r\n    display: inline;\r\n    font-size: 15px;\r\n    line-height: 1.53;\r\n    font-weight: 600;\r\n    letter-spacing: normal;\r\n}\r\n\r\n.ds-home-details-chip .ds-chip-removable-content {\r\n    will-change: height;\r\n}\r\n\r\n.ds-mortgage-row {\r\n    height: 21px;\r\n}\r\n\r\n.ds-container .ds-buttons,\r\n.ds-container .ds-buttons-mobile {\r\n    background: #fff;\r\n}\r\n\r\n.ds-container .ds-buttons {\r\n    padding: 0 16px 16px;\r\n}\r\n\r\n.ds-container .ds-buttons {\r\n    z-index: 1;\r\n    position: relative;\r\n}\r\n\r\n.ds-container .contact-button-group {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-align: center;\r\n    align-items: center;\r\n}\r\n\r\n.ds-container .contact-button-group .contact-button {\r\n    -ms-flex-positive: 1;\r\n    flex-grow: 1;\r\n    -ms-flex-preferred-size: 0;\r\n    flex-basis: 0;\r\n}\r\n\r\n.ds-container .ds-label-small {\r\n    font-weight: 600;\r\n    font-size: 14px;\r\n    line-height: 21px;\r\n}\r\n\r\n@media screen and (min-width: 1390px) {\r\n    .media-stream .media-stream-tile--halfheight {\r\n        height: calc((768px - 4px) * 3 / 16);\r\n    }\r\n}\r\n\r\n.media-stream-tile--upsell {\r\n    background: #000;\r\n    position: relative;\r\n    cursor: unset;\r\n}\r\n\r\n.media-stream-tile figure,\r\n.media-stream-tile img {\r\n    width: 100%;\r\n    height: 100%;\r\n    -o-object-fit: cover;\r\n    object-fit: cover;\r\n    -o-object-position: 50% 50%;\r\n    object-position: 50% 50%;\r\n}\r\n\r\n.iJIIUW {\r\n    -webkit-font-smoothing: antialiased;\r\n    font-family: \"Open Sans\", Tahoma, Geneva, sans-serif;\r\n    font-weight: 600;\r\n    font-size: 14px;\r\n    letter-spacing: 0px;\r\n    text-transform: none;\r\n    text-align: center;\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    user-select: none;\r\n    padding-left: 20px;\r\n    padding-right: 20px;\r\n    cursor: pointer;\r\n    padding-top: 5px;\r\n    padding-bottom: 5px;\r\n    height: 34px;\r\n    line-height: 22px;\r\n    color: rgb(255, 255, 255);\r\n    background-color: rgb(0, 106, 255);\r\n    margin: 0px;\r\n    text-decoration: none;\r\n    border-width: 1px;\r\n    border-style: solid;\r\n    border-image: initial;\r\n    border-radius: 3px;\r\n    transition: all 0.2s ease 0s;\r\n    border-color: rgb(0, 106, 255);\r\n}\r\n\r\n.cllLJF {\r\n    padding-right: 8px;\r\n    padding-left: 8px;\r\n}\r\n\r\n.cKVUOM {\r\n    text-transform: none;\r\n    -webkit-appearance: none;\r\n    font: inherit;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    border-width: initial;\r\n    border-style: none;\r\n    border-color: initial;\r\n    border-image: initial;\r\n    background: none;\r\n}\r\n\r\nbutton,\r\nhtml input[type=\"button\"],\r\ninput[type=\"reset\"],\r\ninput[type=\"submit\"] {\r\n    -webkit-appearance: button;\r\n    cursor: pointer;\r\n}\r\n\r\n.gpVNOz {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-align: center;\r\n    align-items: center;\r\n    font-weight: 700;\r\n    cursor: pointer;\r\n    height: 100%;\r\n    color: rgb(0, 106, 255);\r\n    padding: 0px;\r\n    border-width: 0px;\r\n    border-style: initial;\r\n    border-color: initial;\r\n    border-image: initial;\r\n    background: transparent;\r\n}\r\n\r\n.eKDTCE {\r\n    height: 20px;\r\n    width: 20px;\r\n    margin-right: 4px;\r\n    vertical-align: middle;\r\n}\r\n\r\n.duJWoc {\r\n    vertical-align: middle;\r\n}\r\n\r\n.cjrQwi {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    flex-direction: row;\r\n    -webkit-box-pack: end;\r\n    justify-content: flex-end;\r\n    height: 100%;\r\n    -webkit-box-align: center;\r\n    align-items: center;\r\n}\r\n\r\n.jfjsxZ {\r\n    display: inline;\r\n    color: inherit;\r\n    cursor: pointer;\r\n    font-weight: inherit;\r\n    font-size: inherit;\r\n    font-family: inherit;\r\n    border-top-style: initial;\r\n    border-right-style: initial;\r\n    border-left-style: initial;\r\n    border-top-color: initial;\r\n    border-right-color: initial;\r\n    border-left-color: initial;\r\n    background: none;\r\n    padding: 0px;\r\n    border-width: 0px 0px 1px;\r\n    border-image: initial;\r\n    border-bottom: 1px dashed rgb(0, 106, 255);\r\n}\r\n\r\n.eVrWvb {\r\n    border-bottom: 1px dashed rgb(167, 166, 171);\r\n}\r\n\r\n.eVrWvb,\r\n.eVrWvb.TriggerButton-sc-19o64qd-0,\r\n.eVrWvb.TriggerButton-sc-19o64qd-0::after {\r\n    cursor: help;\r\n}\r\n\r\n.cpEtCH {\r\n    -webkit-font-smoothing: antialiased;\r\n    font-family: \"Open Sans\", Tahoma, Geneva, sans-serif;\r\n    font-weight: 600;\r\n    font-size: 14px;\r\n    letter-spacing: 0px;\r\n    text-transform: none;\r\n    text-align: center;\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    user-select: none;\r\n    padding-left: 20px;\r\n    padding-right: 20px;\r\n    cursor: pointer;\r\n    padding-top: 9px;\r\n    padding-bottom: 9px;\r\n    height: 42px;\r\n    line-height: 22px;\r\n    color: rgb(0, 106, 255);\r\n    background-color: rgb(255, 255, 255);\r\n    margin: 0px;\r\n    text-decoration: none;\r\n    border-width: 1px;\r\n    border-style: solid;\r\n    border-image: initial;\r\n    border-radius: 3px;\r\n    transition: all 0.2s ease 0s;\r\n    border-color: rgb(167, 166, 171);\r\n}\r\n\r\n.btcvqQ {\r\n    -webkit-font-smoothing: antialiased;\r\n    font-family: \"Open Sans\", Tahoma, Geneva, sans-serif;\r\n    font-weight: 600;\r\n    font-size: 14px;\r\n    letter-spacing: 0px;\r\n    text-transform: none;\r\n    text-align: center;\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    user-select: none;\r\n    padding-left: 20px;\r\n    padding-right: 20px;\r\n    cursor: pointer;\r\n    padding-top: 9px;\r\n    padding-bottom: 9px;\r\n    height: 42px;\r\n    line-height: 22px;\r\n    color: rgb(255, 255, 255);\r\n    background-color: rgb(0, 106, 255);\r\n    margin: 0px;\r\n    text-decoration: none;\r\n    border-width: 1px;\r\n    border-style: solid;\r\n    border-image: initial;\r\n    border-radius: 3px;\r\n    transition: all 0.2s ease 0s;\r\n    border-color: rgb(0, 106, 255);\r\n}\r\n\r\n.image-tabcontainer .absol-static-tabbar-active-box {\r\n    top: unset;\r\n}\r\n\r\n.image-tabcontainer .absol-static-tabbar-active-box .absol-static-tabbar-hline {\r\n    border-bottom: solid 5px rgb(127, 127, 128);\r\n}\r\n\r\n.image-tabcontainer .absol-static-tabbar-button>span {\r\n    font-size: 1.2em;\r\n}\r\n\r\n.home-details-content .image-tabcontainer .absol-static-tabbar-button {\r\n    width: 50%;\r\n    min-width: 400px;\r\n}\r\n\r\n.image-tabcontainer .absol-static-tabbar-button:hover {\r\n    color: rgb(30, 30, 55);\r\n    font-weight: 600;\r\n}\r\n\r\n.image-tabcontainer .absol-static-tabbar-button.active {\r\n    background-color: #26438d;\r\n    color: white;\r\n}\r\n\r\n.pizo-new-realty-dectruct.pizo-only-view {\r\n    width: unset;\r\n    margin-top: unset;\r\n    margin-right: unset;\r\n    margin: 10px;\r\n    overflow: auto;\r\n    position: relative;\r\n}\r\n\r\n.pizo-new-realty-dectruct.pizo-only-view input {\r\n    pointer-events: none;\r\n    border: none !important;\r\n    text-align: center;\r\n}\r\n\r\n.pizo-new-realty-dectruct.pizo-only-view textarea {\r\n    pointer-events: none;\r\n}\r\n\r\n.pizo-new-realty-dectruct.pizo-only-view .absol-selectbox-item-close {\r\n    display: none;\r\n}\r\n\r\n.pizo-new-realty-dectruct.pizo-only-view .absol-selectbox-item-text {\r\n    padding-right: 5px;\r\n}\r\n\r\n.pizo-new-realty-dectruct.pizo-only-view .absol-selectmenu:not(.pizo-new-realty-dectruct-content-area-unit-size):not(.pizo-new-realty-dectruct-content-area-unit):not(.pizo-new-realty-detruct-content-price-unit):not(.pizo-new-realty-detruct-content-price-rent-unit) .absol-selectmenu-btn {\r\n    display: none;\r\n}\r\n\r\n.pizo-new-realty-dectruct.pizo-only-view .absol-selectmenu:not(.pizo-new-realty-dectruct-content-area-unit-size):not(.pizo-new-realty-dectruct-content-area-unit):not(.pizo-new-realty-detruct-content-price-unit):not(.pizo-new-realty-detruct-content-price-rent-unit) .absol-selectlist-item span {\r\n    padding-right: 0;\r\n}\r\n\r\n.pizo-new-realty-dectruct.pizo-only-view .absol-selectmenu:not(.pizo-new-realty-dectruct-content-area-unit-size):not(.pizo-new-realty-dectruct-content-area-unit):not(.pizo-new-realty-detruct-content-price-unit):not(.pizo-new-realty-detruct-content-price-rent-unit) {\r\n    text-align: right;\r\n    pointer-events: none;\r\n    height: 33px;\r\n}\r\n\r\n.absol-selectmenu .absol-selectlist-item span {\r\n    padding-right: 7px;\r\n}\r\n\r\n.pizo-new-realty-dectruct.pizo-only-view .pizo-new-realty-contact-item-setting {\r\n    display: none;\r\n}\r\n\r\n.pizo-new-realty-dectruct.pizo-only-view .pizo-new-realty-contact-item-close {\r\n    display: none;\r\n}\r\n\r\n.home-details-content .as-button-range {\r\n    min-height: 2em;\r\n}\r\n\r\n.pizo-new-realty-dectruct-tab-historical-progress-container {\r\n    margin: 0.7143em;\r\n    margin-bottom: 2.1429em;\r\n}\r\n\r\n.search-page-list-container.double-column-only.short-list-cards {\r\n    position: relative;\r\n}", ""]);



/***/ }),
/* 234 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(235);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 235 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".image-show {\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background-color: #3e4041;\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n}\r\n\r\n.image-show__title {\r\n    background-color: #545454;\r\n    color: white;\r\n    font-size: 1.1429em;\r\n    padding-left: 1em;\r\n    height: 2.1429em;\r\n    position: relative;\r\n}\r\n\r\n.image-show__close>.fa-close:before,\r\n.image-show__close>.quote-base__close-icon {\r\n    color: white;\r\n    padding: 0em;\r\n    content: \"close\";\r\n}\r\n\r\n.fl-r {\r\n    float: right;\r\n}\r\n\r\ni.btn.material-icons.fa-chevron-right.unclickable,\r\ni.btn.material-icons.fa-chevron-left.unclickable {\r\n    pointer-events: none;\r\n    cursor: default;\r\n    color: rgb(152, 152, 152);\r\n}\r\n\r\n.clickable,\r\n.txt-clickable,\r\n.chat-message__actions__btn,\r\n.chat-resend,\r\n.sticker-selector__menu__item,\r\n.slideshow__bottom__dot {\r\n    cursor: pointer;\r\n    -webkit-app-region: no-drag;\r\n}\r\n\r\n.image-placeholder,\r\n.media-store-preview-item__picture,\r\n.image-show__thumb,\r\n.card--group-photo__row__item img.card--group-photo__row__item__photo,\r\nimg.chat-message-picture__photo,\r\n.chat-message-picture__gif__thumb,\r\n.chat-message-picture__photo>img,\r\n.quote-banner-thumb,\r\n.link-placeholder,\r\n.link-thumb,\r\n.link-thumb.default,\r\n.thumb-img-suggest,\r\n.card--link-img,\r\n.card--link-img.default,\r\n.media-item__file-type.photo,\r\n.cb-info-file-item-overlay__check,\r\n.quote-base__close-icon,\r\n.file-tick__icon-setting {\r\n    display: inline-block;\r\n    font: normal normal normal 1rem/1 'zalo-font';\r\n    font-size: inherit;\r\n    text-rendering: auto;\r\n    text-shadow: none;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.image-show__body {\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.image-show__btnc {\r\n    position: absolute;\r\n    top: calc((100% - 5.7857rem)/2 - 2.7143rem);\r\n    z-index: 10;\r\n    display: flex;\r\n    align-items: center;\r\n    pointer-events: none;\r\n}\r\n\r\n.image-show__btnc__left {\r\n    left: 0em;\r\n    opacity: 1;\r\n}\r\n\r\n.image-show__btnc__left.hide {\r\n    opacity: 0;\r\n    transition: opacity 1s linear;\r\n}\r\n\r\n.image-show__wrapper__img {\r\n    width: auto;\r\n    text-align: center;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    object-fit: contain;\r\n}\r\n\r\n.image-show__btnc__right {\r\n    right: 50px;\r\n    opacity: 1;\r\n}\r\n\r\n.image-show__btnc__right.hide {\r\n    opacity: 0;\r\n    transition: opacity 1s linear;\r\n}\r\n\r\n.image-show__btnc__fullscreen {\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 0.6429em;\r\n}\r\n\r\n.image-show__btn {\r\n    width: 6.4286em;\r\n    height: 8.5714em;\r\n    color: white;\r\n    opacity: 0.2;\r\n}\r\n\r\n.image-show__btn.clickable {\r\n    opacity: 0.6;\r\n    pointer-events: auto;\r\n}\r\n\r\n.image-show__bottom__ctrl>.btn:hover,\r\n.image-show__bottom__ctrl>a>.btn:hover {\r\n    color: #0068ff;\r\n}\r\n\r\n.image-show__btn.clickable:hover {\r\n    opacity: 0.8;\r\n}\r\n\r\n.image-show__btn__inside {\r\n    background-color: black;\r\n    border-radius: 50%;\r\n    width: 3.5714em;\r\n    height: 3.5714em;\r\n    margin-top: 50%;\r\n    margin-left: 1.4286em;\r\n    line-height: 3.5714em;\r\n    font-size: 1.6429em;\r\n    text-align: center;\r\n}\r\n\r\n.image-show__btn__inside>.fa-chevron-left {\r\n    margin-top: 24px;\r\n    transform: translateX(0.3571rem);\r\n    font-size: 32px;\r\n}\r\n\r\n.fa-chevron-left:before {\r\n    content: \"arrow_back_ios\";\r\n}\r\n\r\n.z-fh {\r\n    max-height: 100%;\r\n}\r\n\r\n.fadeIn,\r\n.fadeInShort,\r\n.fadeInImageShow {\r\n    -webkit-animation-name: fadeIn;\r\n    animation-name: fadeIn;\r\n}\r\n\r\n.image-show__img {\r\n    object-fit: contain;\r\n    transition: transform 0.1s ease-out;\r\n    max-width: 100%;\r\n    user-select: none;\r\n    cursor: default;\r\n    vertical-align: middle;\r\n    display: inline-block;\r\n}\r\n\r\n.fadeInImageShow {\r\n    -webkit-animation-duration: .4s;\r\n    animation-duration: .4s;\r\n}\r\n\r\n.flx-fix,\r\nheader,\r\n.chat-info-general__options,\r\n.chat-info-general__section__header,\r\n.avatar,\r\n.thumb-img-suggest,\r\n.chat-date>span,\r\n.card--link-img,\r\n.card--link-img.default,\r\n.chat-onboard__icon {\r\n    flex: 0 0 auto;\r\n}\r\n\r\n.image-show__btn {\r\n    width: 6.4286em;\r\n    height: 8.5714em;\r\n    color: white;\r\n    opacity: 0.2;\r\n}\r\n\r\n.image-show__btn__inside>.fa-chevron-right {\r\n    margin-top: 24px;\r\n    margin-left: 0.1429em;\r\n    font-size: 32px;\r\n}\r\n\r\n.fa-chevron-right:before {\r\n    content: \"arrow_forward_ios\";\r\n}\r\n\r\n.image-show__icon-fullscreen {\r\n    font-size: 2.8571em;\r\n    color: white;\r\n    opacity: 1;\r\n}\r\n\r\n.image-show__icon-fullscreen.hide {\r\n    opacity: 0;\r\n    transition: opacity 1s linear;\r\n}\r\n\r\n.fa-fullscreen-icon:before {\r\n    content: \"web\";\r\n}\r\n\r\n.image-show__bottom {\r\n    background-color: #545454;\r\n    height: 3.5714em;\r\n    position: relative;\r\n}\r\n\r\n.image-show__bottom__sender {\r\n    width: 30%;\r\n}\r\n\r\n.avatar {\r\n    position: relative;\r\n    color: white;\r\n    contain: layout size style;\r\n}\r\n\r\n.avatar--xs {\r\n    width: 40px;\r\n    height: 40px;\r\n    font-size: 1.2143em;\r\n}\r\n\r\n.dib,\r\n.chat-box-member__info,\r\n.image-show__bottom__sender>.avatar,\r\n.image-show__bottom__sender__info,\r\n.chat-input__img-preview__thumb {\r\n    display: inline-block;\r\n}\r\n\r\n.fl-l,\r\n.image-show__bottom__sender>.avatar,\r\n.image-show__bottom__sender__info,\r\n.chat-input__img-preview__thumb {\r\n    float: left;\r\n}\r\n\r\n.image-show__bottom__sender>.avatar {\r\n    margin-top: 0.3929em;\r\n    margin-right: 1em;\r\n    margin-left: 1em;\r\n}\r\n\r\n.image-show__bottom__sender__info {\r\n    color: white;\r\n    font-size: 0.9286em;\r\n    width: calc(100% - 6.4286rem);\r\n}\r\n\r\n.bg-center,\r\n.link-thumb,\r\n.link-thumb.default,\r\n.avatar-img,\r\n.avatar-img.avatar-number-m,\r\n#zalo,\r\n.thumb-img-suggest,\r\n.chat-input__img-preview__thumb,\r\n.card--link-img,\r\n.card--link-img.default,\r\n.message-view__blur,\r\n.message-info_num,\r\n.sticker-selector__menu__item,\r\n.gif__thumb {\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    background-position: 50%;\r\n}\r\n\r\n.avatar-img,\r\n.avatar-img.avatar-number-m {\r\n    border-radius: 100%;\r\n}\r\n\r\n.avatar--xs>.avatar-img {\r\n    width: 40px;\r\n    height: 40px;\r\n    background-color: #c9d4e5;\r\n}\r\n\r\n.truncate,\r\n.chat-box-member__info__name,\r\n.item-title-name,\r\n.item-message,\r\n.file-banner-content__sender-name,\r\n.file-banner-content__full-name,\r\n.cb-info-file-item__send-date,\r\n.cb-info-file-item__file-size,\r\n.cb-info-file-item__suggest-preview-file,\r\n.cb-info-file-item__suggest-preview-folder,\r\n.cb-info-file-item__error-msg,\r\n.search-result-file__send-date,\r\n.search-result-file__file-size,\r\n.search-result-file__suggest-preview-file,\r\n.search-result-file__suggest-preview-folder,\r\n.search-result-file__file-name,\r\n.search-result-file__file-name-seg,\r\n.file-progress-row__start-text,\r\n.file-progress-row__end-text,\r\n.quote-file__name,\r\n.quote-file__text,\r\n.file-suggest-item__name,\r\n.file-suggest-item__size,\r\n.file-suggest-item__conversation,\r\n.file-star-msg-content__title,\r\n.file-star-msg-content__size,\r\n.file-message__content-title,\r\n.file-message__content-error,\r\n.fmsg-send-time__error-msg {\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    word-wrap: break-word;\r\n}\r\n\r\n.image-show__bottom__sender__info>div:first-child {\r\n    margin-top: 0.4286em;\r\n    margin-bottom: 0.1429em;\r\n}\r\n\r\n.image-show__bottom__ctrl {\r\n    width: 400px;\r\n    margin: 0rem auto;\r\n    padding-top: 1em;\r\n    text-align: center;\r\n}\r\n\r\n.btn {\r\n    cursor: pointer;\r\n    margin: 0em;\r\n    color: #83878d;\r\n}\r\n\r\n.image-show__bottom__ctrl>.btn,\r\n.image-show__bottom__ctrl>a>.btn {\r\n    color: white;\r\n    margin: 0;\r\n    padding-right: 1.4286em;\r\n}\r\n\r\n.image-show__bottom__ctrl>.btn.fa-chevron-left,\r\n.image-show__bottom__ctrl>a>.btn.fa-chevron-left {\r\n    padding-right: 0.5714em;\r\n}\r\n\r\n.image-placeholder:before,\r\n.media-store-preview-item__picture:before,\r\n.image-show__thumb:before,\r\n.card--group-photo__row__item img.card--group-photo__row__item__photo:before,\r\nimg.chat-message-picture__photo:before,\r\n.chat-message-picture__gif__thumb:before,\r\n.chat-message-picture__photo>img:before,\r\n.quote-banner-thumb:before,\r\n.link-placeholder:before,\r\n.link-thumb:before,\r\n.link-thumb.default:before,\r\n.thumb-img-suggest:before,\r\n.card--link-img:before,\r\n.card--link-img.default:before,\r\n.media-item__file-type.photo:before,\r\n.cb-info-file-item-overlay__check:before,\r\n.quote-base__close-icon:before,\r\n.file-tick__icon-setting:before {\r\n    font-family: 'Material Icons';\r\n    font-weight: normal;\r\n    font-style: normal;\r\n    font-size: 1.7143em;\r\n    line-height: 1;\r\n    letter-spacing: normal;\r\n    text-transform: none;\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n    word-wrap: normal;\r\n    direction: ltr;\r\n    -webkit-font-feature-settings: 'liga';\r\n    -webkit-font-smoothing: antialiased;\r\n}\r\n\r\n.image-show__bottom__ctrl>.btn.fa-chevron-right,\r\n.image-show__bottom__ctrl>a>.btn.fa-chevron-right {\r\n    padding-left: 0.6429em;\r\n    padding-right: 0.5714em;\r\n}\r\n\r\n#image-show-forward {\r\n    padding-right: 0;\r\n}\r\n\r\n#image-show-forward>i {\r\n    padding: 0 0.8571em;\r\n    position: relative;\r\n}\r\n\r\n.fa-share-photoview:before {\r\n    content: \"share\";\r\n}\r\n\r\n#image-show-download {\r\n    padding-right: 0;\r\n}\r\n\r\n.image-show__bottom__ctrl>.btn.fa-download,\r\n.image-show__bottom__ctrl>.btn.fa-rotate-left,\r\n.image-show__bottom__ctrl>.btn.fa-rotate-right,\r\n.image-show__bottom__ctrl>a>.btn.fa-download,\r\n.image-show__bottom__ctrl>a>.btn.fa-rotate-left,\r\n.image-show__bottom__ctrl>a>.btn.fa-rotate-right,\r\n.image-show__bottom__ctrl>a>.btn.fa-more-option,\r\n.image-show__bottom__ctrl>.btn.fa-more-option {\r\n    padding-left: 0.8571em;\r\n    padding-right: 0.8571em;\r\n}\r\n\r\n.fa-download:before {\r\n    content: \"vertical_align_bottom\";\r\n}\r\n\r\n.fa-rotate-left:before {\r\n    content: \"rotate_left\";\r\n}\r\n\r\n.fa-rotate-right:before {\r\n    content: \"rotate_right\";\r\n}\r\n\r\n.fa-more-option:before {\r\n    content: \"more_vert\";\r\n}\r\n\r\n.image-show__thumb__legend {\r\n    bottom: 5em;\r\n    color: white;\r\n    padding-left: 0.0714em;\r\n    margin-bottom: 1.4286em;\r\n    margin-left: 0.2143em;\r\n    font-size: 1em;\r\n    background: #3e4041;\r\n    display: flex;\r\n    justify-content: center;\r\n    margin: 0.7143rem 0.5714em;\r\n}\r\n\r\n.image-show__thumb {\r\n    position: relative;\r\n    user-select: none;\r\n    object-fit: cover;\r\n    margin: 0.2857em;\r\n    border-radius: 0.2143em;\r\n    filter: brightness(50%);\r\n    width: 5.7143em;\r\n    height: 5.7143em;\r\n}\r\n\r\n.image-show__thumb-container.selected .image-show__thumb,\r\n.image-show__thumb.chat-message.first-selected,\r\n.image-show__thumb.chat-message.last-selected {\r\n    box-shadow: 0rem 0rem 0rem 0.1429rem rgba(255, 255, 255, 0.5);\r\n    -moz-box-shadow: 0rem 0rem 0rem 0.1429rem rgba(255, 255, 255, 0.5);\r\n    -webkit-box-shadow: 0rem 0rem 0rem 0.1429rem rgba(255, 255, 255, 0.5);\r\n    filter: brightness(100%);\r\n}\r\n\r\n.image-show__thumb-container.selected .image-show__thumb {\r\n    width: 7.1429em;\r\n    height: 7.1429em;\r\n}\r\n\r\n.image-show__thumb-container {\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\n.flx-al-e {\r\n    align-items: flex-end;\r\n}\r\n\r\n.flx,\r\n.snippet,\r\n.item-setting-action,\r\nheader,\r\n#groupNameInput--change,\r\n.item-setting,\r\n.chat-info-general__action__item,\r\n.chat-info-general__section__header,\r\n.group-setting,\r\n.mg-item,\r\n.card,\r\n.card-content,\r\n.modal,\r\n.tab-content,\r\n.file-banner-content,\r\n.file-banner-content__thumb-container,\r\n.empty-btn,\r\n.rl-msg,\r\n.rl-msg .rl-msg-content,\r\n.cb-info-file-item__thumb-container,\r\n.search-result-file__thumb-container,\r\n.search-result-file__file-name,\r\n.file-progress-row,\r\n.file-actions-row,\r\n.file-suggest-item,\r\n.file-suggest-item__left-container,\r\n.file-suggest-item__right-container,\r\n.file-layout,\r\n.file-layout__thumb-container,\r\n.file-layout__right-container,\r\n.file-layout__top-container,\r\n.file-layout__bot-container,\r\n.file-star-msg-content,\r\n.file-star-msg-content__right-block,\r\n.fmsg-send-time,\r\n.entry-content-v2,\r\n.zl-label-add-more,\r\n.zl-modal,\r\n.pr-status-content,\r\n.header-title-container {\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    flex-flow: row nowrap;\r\n}\r\n\r\n.flx,\r\n.snippet,\r\n.item-setting-action,\r\nheader,\r\n#groupNameInput--change,\r\n.item-setting,\r\n.chat-info-general__action__item,\r\n.chat-info-general__section__header,\r\n.group-setting,\r\n.mg-item,\r\n.card,\r\n.card-content,\r\n.modal,\r\n.tab-content,\r\n.file-banner-content,\r\n.file-banner-content__thumb-container,\r\n.empty-btn,\r\n.rl-msg,\r\n.rl-msg .rl-msg-content,\r\n.cb-info-file-item__thumb-container,\r\n.search-result-file__thumb-container,\r\n.search-result-file__file-name,\r\n.file-progress-row,\r\n.file-actions-row,\r\n.file-suggest-item,\r\n.file-suggest-item__left-container,\r\n.file-suggest-item__right-container,\r\n.file-layout,\r\n.file-layout__thumb-container,\r\n.file-layout__right-container,\r\n.file-layout__top-container,\r\n.file-layout__bot-container,\r\n.file-star-msg-content,\r\n.file-star-msg-content__right-block,\r\n.fmsg-send-time,\r\n.entry-content-v2,\r\n.zl-label-add-more,\r\n.zl-modal,\r\n.pr-status-content,\r\n.header-title-container {\r\n    display: flex;\r\n}\r\n\r\n.image-show__list {\r\n    padding: 0em;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    display: inline;\r\n    -ms-overflow-style: none;\r\n    scrollbar-width: none;\r\n    transform: translateX(1.2143rem);\r\n    margin-left: -1.2143em;\r\n}\r\n\r\n.timeline-slider {\r\n    position: relative;\r\n    cursor: pointer;\r\n    width: 1.6429em;\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\n.timeline-slider__track {\r\n    position: absolute;\r\n    height: 100%;\r\n    top: 0.1429em;\r\n}\r\n\r\n.timeline-slider__pivot {\r\n    position: absolute;\r\n    width: 0.8571em;\r\n    height: 0.8571em;\r\n    background: #7a787b;\r\n    left: 0.4643em;\r\n    border-radius: 50%;\r\n    pointer-events: none;\r\n}\r\n\r\n.timeline-slider__pivot--left {\r\n    bottom: calc(0% - 0.8571rem);\r\n}\r\n\r\n.timeline-slider__pivot {\r\n    position: absolute;\r\n    width: 0.8571em;\r\n    height: 0.8571em;\r\n    background: #7a787b;\r\n    left: 0.4643em;\r\n    border-radius: 50%;\r\n    pointer-events: none;\r\n}\r\n\r\n.timeline-slider__pivot--right {\r\n    bottom: calc(100% - 0.8571rem);\r\n}\r\n\r\n.timeline-slider__handle {\r\n    position: absolute;\r\n    background: white;\r\n    border-radius: 50%;\r\n}\r\n\r\n.timeline-slider__track__progress {\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 0.1429em;\r\n    background: #7a787b;\r\n}\r\n\r\n.timeline-slider__tooltip {\r\n    position: absolute;\r\n    top: -0.3571em;\r\n    right: -6.4286em;\r\n    z-index: 1;\r\n    background: white;\r\n    text-align: center;\r\n    font-size: 0.8571em;\r\n    width: 6.0714em;\r\n}\r\n\r\n.fadeInImageShowNoAnimation {\r\n    -webkit-transition: none !important;\r\n    -moz-transition: none !important;\r\n    -o-transition: none !important;\r\n    transition: none !important;\r\n}\r\n\r\n.image-show__meta-wrapper {\r\n    text-align: left;\r\n    position: absolute;\r\n    z-index: 1;\r\n    bottom: 5em;\r\n    max-width: 60%;\r\n    max-height: 6.7857em;\r\n    min-height: 1.7143em;\r\n    cursor: default;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    border-radius: 0.7143em;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    padding: 0.0714rem 0.7143em;\r\n    opacity: 1;\r\n    transition: opacity 1s linear;\r\n}\r\n\r\n.image-show__caption {\r\n    color: rgba(255, 255, 255, 0.9);\r\n    margin: 0.5rem 0;\r\n    overflow-y: auto;\r\n    word-break: break-word;\r\n}\r\n\r\n.displayNone {\r\n    display: none !important;\r\n}\r\n\r\n.timeLineContainerCheck {\r\n    display: flex;\r\n    padding: 1.0714rem 0rem 0rem 1.0714em;\r\n    -webkit-transition: 1s ease-in-out;\r\n    -moz-transition: 1s ease-in-out;\r\n    -o-transition: 1s ease-in-out;\r\n    transition: 1s ease-in-out;\r\n}\r\n\r\n.transformX-100 {\r\n    transform: translateX(-100%);\r\n}", ""]);



/***/ }),
/* 236 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(237);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 237 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-new-realty-desc-tab {\r\n    padding: 0.7143em;\r\n    border-bottom: solid 0.0714rem #ccc;\r\n    margin-bottom: 0.7143em;\r\n    background: #f3f3f3;\r\n}\r\n\r\n.pizo-new-realty-desc-detail {\r\n    width: 50%;\r\n    max-width: 100%;\r\n    min-width: 380px;\r\n    display: inline-block;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row-cell {\r\n    width: calc(50% - 2.1429rem);\r\n    max-width: calc(50% - 2.1429rem);\r\n    display: inline-block;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row-menu {\r\n    -webkit-box-flex: 0;\r\n    -ms-flex: 0 0 calc(80% - 1.5rem);\r\n    flex: 0 0 calc(80% - 1.5rem);\r\n    max-width: calc(80% - 1.5rem);\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row-cell-menu {\r\n    width: calc(100% - 4.8333rem);\r\n    margin-left: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row-cell:not(:first-child) {\r\n    margin-left: 4.2857em;\r\n}\r\n\r\n.pizo-new-realty-desc-content {\r\n    position: relative;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row:not(:last-child) {\r\n    margin-bottom: 0.7143em;\r\n    margin-top: 1px;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row-label {\r\n    font-size: 1em;\r\n    padding-top: 0.4375em;\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    width: 5.71428571429em;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row-cell-input {\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-size-zone .pizo-new-realty-desc-detail-row-cell-label {\r\n    font-size: 1em;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-shrink: 0;\r\n    width: 5.71428571429em;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row-cell-menu-1,\r\n.pizo-new-realty-desc-detail-row-cell-menu-2,\r\n.pizo-new-realty-desc-detail-row-cell-menu-3 {\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row-menu-1-checkbox,\r\n.pizo-new-realty-desc-detail-row-menu-2-checkbox,\r\n.pizo-new-realty-desc-detail-row-menu-3-checkbox {\r\n    font-size: 1em;\r\n    display: flex;\r\n    align-items: center;\r\n    margin: auto;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row-cell-menu-1-span,\r\n.pizo-new-realty-desc-detail-row-cell-menu-2-span,\r\n.pizo-new-realty-desc-detail-row-cell-menu-3-span {\r\n    font-size: 1em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    overflow: hidden;\r\n    position: relative;\r\n    align-items: center;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-1-row-label {\r\n    font-size: 1em;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-shrink: 0;\r\n    width: 5.71428571429em;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row-input {\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-1-row-input {\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.as-modal {\r\n    background-color: rgba(0, 0, 0, 0.502);\r\n    overflow-y: auto;\r\n    z-index: 1002;\r\n}\r\n\r\n.pizo-new-realty-dectruct-tab {\r\n    padding: 0.7143em;\r\n    border-bottom: solid 0.0714rem #ccc;\r\n    background: #f3f3f3;\r\n}\r\n\r\n.pizo-new-realty-dectruct {\r\n    width: 33%;\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    margin-top: 0.7143em;\r\n    margin-right: 30px;\r\n    min-width: 380px;\r\n}\r\n\r\n.pizo-new-realty-desc-infomation-cell {\r\n    display: inline-block;\r\n    width: calc(33% - 30px);\r\n    min-width: 380px;\r\n}\r\n\r\n.pizo-new-realty-desc-infomation-cell:not(:last-child) {\r\n    margin-right: 30px;\r\n}\r\n\r\n.pizo-new-realty-desc-infomation-cell.center-child {\r\n    width: calc(33% - 30px);\r\n    min-width: 380px;\r\n    vertical-align: top;\r\n}\r\n\r\n.pizo-new-realty-utility,\r\n.pizo-new-realty-convenient,\r\n.pizo-new-realty-juridical,\r\n.pizo-new-realty-history,\r\n.pizo-new-realty-contact,\r\n.pizo-new-realty-image {\r\n    width: 100%;\r\n    vertical-align: top;\r\n    margin-top: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-utility-tab,\r\n.pizo-new-realty-convenient-tab,\r\n.pizo-new-realty-juridical-tab,\r\n.pizo-new-realty-history-tab,\r\n.pizo-new-realty-contact-tab,\r\n.pizo-new-realty-image-tab {\r\n    padding: 0.7143em;\r\n    border-bottom: solid 0.0714rem #ccc;\r\n    background: #f3f3f3;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area {\r\n    margin: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-unit {\r\n    width: 4.5rem !important;\r\n    min-width: 4.5rem !important;\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    align-items: center;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-width-label,\r\n.pizo-new-realty-dectruct-content-area-height-label,\r\n.pizo-new-realty-dectruct-content-area-1-label,\r\n.pizo-new-realty-dectruct-content-area-2-label {\r\n    font-size: 1em;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-shrink: 0;\r\n    width: 4em;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-size-zone.no-margin-style .pizo-new-realty-detruct-content-area-label,\r\n.pizo-new-realty-dectruct-content-area-size-zone.margin-style .pizo-new-realty-detruct-content-area-label {\r\n    font-size: 1em;\r\n    flex-shrink: 0;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-size-zone.no-margin-style .pizo-new-realty-detruct-content-area-label {\r\n    width: 4.71428571429em;\r\n    padding-right: 0.71428571429em;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-size-zone.margin-style .pizo-new-realty-detruct-content-area-label {\r\n    width: 4em;\r\n    padding-right: 0.71428571429em;\r\n}\r\n\r\n.pizo-new-realty-dectruct .pizo-new-realty-dectruct-content-area-size {\r\n    margin-left: 0.7143em;\r\n    margin-top: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-unit-size {\r\n    width: 4.5rem !important;\r\n    min-width: 4.5rem !important;\r\n    flex-shrink: 0;\r\n    vertical-align: top;\r\n}\r\n\r\n.pizo-new-realty-dectruct-input {\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.pizo-new-realty-desc-infomation .pizo-new-realty-dectruct-input {\r\n    text-align: right;\r\n}\r\n\r\n.pizo-new-realty-detruct-content-direction {\r\n    min-width: unset !important;\r\n    flex-grow: 2;\r\n    display: flex;\r\n}\r\n\r\n.pizo-new-realty-detruct-content-type {\r\n    min-width: unset !important;\r\n    flex-grow: 2;\r\n    display: flex;\r\n}\r\n\r\n.pizo-new-realty-detruct-content-structure {\r\n    min-width: unset !important;\r\n    flex-grow: 2;\r\n    display: flex;\r\n}\r\n\r\n.pizo-new-realty-detruct-content-area-label {\r\n    font-weight: bold;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-size-zone {\r\n    display: inline-block;\r\n    margin-bottom: 0.7143em;\r\n    width: calc(50% - 1.0714rem);\r\n    vertical-align: top;\r\n}\r\n\r\n.pizo-new-realty-desc-detail-row .pizo-new-realty-dectruct-content-area-size-zone {\r\n    margin-bottom: 0;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-bedroom-label,\r\n.pizo-new-realty-dectruct-content-area-kitchen-label,\r\n.pizo-new-realty-dectruct-content-area-toilet-label,\r\n.pizo-new-realty-dectruct-content-area-living-label,\r\n.pizo-new-realty-dectruct-content-area-basement-label,\r\n.pizo-new-realty-dectruct-content-area-floor-label {\r\n    font-size: 1em;\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    align-items: center;\r\n    width: 6.5em;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-size-zone.no-margin-style {\r\n    width: calc(50% - 0.71428571428rem);\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-size-zone.margin-style {\r\n    width: calc(50% - 1.42857142857rem);\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-size-zone:not(:first-child) {\r\n    margin-left: 2.1429em;\r\n}\r\n\r\n.pizo-new-realty-dectruct .pizo-new-realty-dectruct-content-area-size-right {\r\n    margin-left: 0.7143em;\r\n    margin-bottom: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-right>span,\r\n.pizo-new-realty-detruct-content-price-rent-label,\r\n.pizo-new-realty-detruct-content-area-label {\r\n    padding-right: 0.7143em;\r\n    font-size: 1em;\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    width: 158px;\r\n    align-items: center;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-convenient-content-area-size-zone {\r\n    display: inline-block;\r\n    margin-bottom: 0.7143em;\r\n    width: calc(50% - 1.0714rem);\r\n    vertical-align: top;\r\n}\r\n\r\n.pizo-new-realty-convenient-content-area-size-zone>span {\r\n    display: inline-block;\r\n    vertical-align: -webkit-baseline-middle;\r\n}\r\n\r\n.pizo-new-realty-convenient .pizo-new-realty-convenient-content-area-size {\r\n    margin-left: 0.7143em;\r\n    margin-bottom: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-convenient-content-area {\r\n    margin: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-right {\r\n    margin: 0.7143em;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-new-realty-convenient-content-area-size-zone:not(:first-child) {\r\n    margin-left: 2.1429em;\r\n}\r\n\r\n.pizo-new-realty-convenient-content-size {\r\n    margin: 0.7143em;\r\n}\r\n\r\n.pizo-list-realty-button-element {\r\n    text-align: center;\r\n    padding: 0;\r\n    margin: 0;\r\n    background-color: #ebebeb;\r\n    border: solid 0.0714rem #c0c0c0;\r\n    border-radius: 0.2em;\r\n    font-size: 1em;\r\n    overflow: hidden;\r\n    line-height: 2em;\r\n    box-sizing: content-box;\r\n    height: 2em;\r\n    white-space: nowrap;\r\n}\r\n\r\n.absol-single-page-header .pizo-list-realty-button-element:not(:first-child) {\r\n    margin-left: 0.3571em;\r\n}\r\n\r\n.pizo-list-realty-button-element>span {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 2em;\r\n    box-sizing: border-box;\r\n    line-height: 2em;\r\n    text-align: center;\r\n    font-size: 1em;\r\n    text-align: center;\r\n    margin-left: 0.7em;\r\n    margin-right: 0.7em;\r\n    line-height: inherit;\r\n}\r\n\r\n.absol-dropdown-content {\r\n    z-index: 1001;\r\n}\r\n\r\ninput[type=\"number\"]::-webkit-inner-spin-button,\r\ninput[type=\"number\"]::-webkit-outer-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-1-label {}\r\n\r\n.pizo-new-realty-contact-tab {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    height: 100%;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-new-realty-contact-tab-label {\r\n    flex-grow: 2;\r\n    display: flex;\r\n}\r\n\r\n.pizo-new-realty-contact-tab-button {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    width: fit-content;\r\n    color: #fff;\r\n    background: #122246;\r\n    border: 1px solid #122246;\r\n    padding: 1px;\r\n    border-radius: 4px;\r\n}\r\n\r\n.pizo-new-realty-contact-item-name,\r\n.pizo-new-realty-contact-item-phone,\r\n.pizo-new-realty-contact-item-note {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    align-items: stretch;\r\n    margin-top: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-contact-item-name-label,\r\n.pizo-new-realty-contact-item-phone-label,\r\n.pizo-new-realty-contact-item-note-label {\r\n    font-size: 1em;\r\n    padding-top: 0.4375em;\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    width: 6.5714em;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-contact-item-name-input,\r\n.pizo-new-realty-contact-item-phone-input,\r\n.pizo-new-realty-contact-item-note-input {\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.pizo-new-realty-contact-item-name-selectbox {\r\n    min-width: 130px !important;\r\n}\r\n\r\n.pizo-new-realty-contact-item-close {\r\n    background-color: red;\r\n    color: white;\r\n}\r\n\r\n.pizo-new-realty-contact-item-setting {\r\n    background-color: blue;\r\n    color: white;\r\n}\r\n\r\n.pizo-new-realty-contact-item {\r\n    margin: 0.7143em;\r\n    margin-bottom: 2.1429em;\r\n}\r\n\r\n.btn-wrapper.input-append .pizo-new-realty-contact-tab-button {\r\n    width: 34px;\r\n    margin-left: 7px;\r\n    background: #ac000d;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-fit.pizo-new-realty-dectruct-input {\r\n    padding: 0;\r\n    justify-content: start;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-fit.pizo-new-realty-dectruct-input .absol-selectbox-item {\r\n    height: 24px;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-fit.pizo-new-realty-dectruct-input .absol-selectbox-item .absol-selectbox-item-text {\r\n    height: 24px;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-fit.pizo-new-realty-dectruct-input .absol-selectbox-item .absol-selectbox-item-text span {\r\n    line-height: 24px;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-fit.pizo-new-realty-dectruct-input .absol-selectbox-item .absol-selectbox-item-close {\r\n    width: 24px;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-fit.pizo-new-realty-dectruct-input .absol-selectbox-item .absol-selectbox-item-close span {\r\n    line-height: 24px;\r\n}\r\n\r\n.pizo-new-realty-detruct-content-price {\r\n    flex-grow: 2;\r\n    display: flex;\r\n}\r\n\r\n.absol-selectmenu.pizo-new-realty-detruct-content-price-unit {\r\n    width: 4.5rem !important;\r\n    min-width: 4.5rem !important;\r\n    flex-shrink: 0;\r\n    vertical-align: top;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-size-zone.no-margin-style .pizo-new-realty-detruct-content-price-rent-label.pizo-new-realty-detruct-content-area-label {\r\n    width: fit-content;\r\n}\r\n\r\n.pizo-new-realty-detruct-content-price-rent-unit {\r\n    width: 4.5rem !important;\r\n    min-width: 4.5rem !important;\r\n    flex-shrink: 0;\r\n    vertical-align: top;\r\n}\r\n\r\n.pizo-new-realty-detruct-content-censorship {\r\n    align-items: center;\r\n    display: flex;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-selectbox {\r\n    margin-left: 0.7143em;\r\n    margin-top: 0.7143em;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-selectbox-child {\r\n    width: calc(50% - 10px);\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-selectbox-child:not(:first-child) {\r\n    margin-left: 20px;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-selectbox-child>span {\r\n    flex-grow: 2;\r\n    display: flex;\r\n}\r\n\r\n.pizo-new-realty-dectruct-content-area-size-zone-all {\r\n    display: inline-block;\r\n    margin-bottom: 0.7143em;\r\n    width: calc(50% - 1.0714rem);\r\n    vertical-align: top;\r\n    margin-left: 1.0714em;\r\n}\r\n\r\n.pizo-new-realty-image {\r\n    height: 400px;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    align-items: stretch;\r\n    flex-direction: column;\r\n}\r\n\r\n.pizo-new-realty .modal-upload-XML-body-drop-save {\r\n    display: none;\r\n}\r\n\r\n.pizo-new-realty-image-tab {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n}\r\n\r\n.pizo-new-realty-image-content {\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\n.pizo-new-realty .full-size {\r\n    height: 150px;\r\n}", ""]);



/***/ }),
/* 238 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(239);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 239 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Imports
exports.push([module.i, "@import url(https://fonts.googleapis.com/css?family=Varela+Round);", ""]);

// Module
exports.push([module.i, "/* html, body { background: #333 url(\"https://codepen.io/images/classy_fabric.png\"); } */\r\n\r\n.slides {\r\n    padding: 0;\r\n    width: 80vw;\r\n    height: 90vh;\r\n    display: block;\r\n    margin-top: 0;\r\n    margin-bottom: 0;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.slides * {\r\n    user-select: none;\r\n    -ms-user-select: none;\r\n    -moz-user-select: none;\r\n    -khtml-user-select: none;\r\n    -webkit-user-select: none;\r\n    -webkit-touch-callout: none;\r\n}\r\n\r\n.slides input {\r\n    display: none;\r\n}\r\n\r\n.slide-container {\r\n    display: block;\r\n}\r\n\r\n.slide {\r\n    top: 0;\r\n    opacity: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: block;\r\n    position: absolute;\r\n    text-align: center;\r\n    transform: scale(0);\r\n    transition: all .7s ease-in-out;\r\n}\r\n\r\n.slide img {\r\n    width: auto;\r\n    height: 100%;\r\n    position: absolute;\r\n    transform: translate(-50%, 0);\r\n}\r\n\r\n.nav label {\r\n    width: 14.2857em;\r\n    height: 100%;\r\n    display: none;\r\n    position: absolute;\r\n    opacity: 0;\r\n    z-index: 9;\r\n    cursor: pointer;\r\n    transition: opacity .2s;\r\n    color: #FFF;\r\n    font-size: 15em;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-family: \"Varela Round\", sans-serif;\r\n    background-color: rgba(255, 255, 255, .3);\r\n    text-shadow: 0rem 0rem 1.0714rem rgb(119, 119, 119);\r\n}\r\n\r\n.slide:hover+.nav label {\r\n    opacity: 0.5;\r\n}\r\n\r\n.nav label:hover {\r\n    opacity: 1;\r\n}\r\n\r\n.nav .next {\r\n    right: 0;\r\n}\r\n\r\n.nav .next>span {\r\n    transform: translateY(1.25rem);\r\n}\r\n\r\ninput:checked+.slide-container .slide {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n    transition: opacity 1s ease-in-out;\r\n}\r\n\r\ninput:checked+.slide-container .nav label {\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n}\r\n\r\n.nav-dots {\r\n    width: 100%;\r\n    bottom: 0.6429em;\r\n    height: 0.7857em;\r\n    display: block;\r\n    position: absolute;\r\n    text-align: center;\r\n}\r\n\r\n.nav-dots .nav-dot {\r\n    top: -0.3571em;\r\n    width: 0.7857em;\r\n    height: 0.7857em;\r\n    margin: 0 0.2857em;\r\n    position: relative;\r\n    border-radius: 100%;\r\n    display: inline-block;\r\n    background-color: rgba(0, 0, 0, 0.6);\r\n}\r\n\r\n.nav-dots .nav-dot:hover {\r\n    cursor: pointer;\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n}\r\n\r\ninput#img-1:checked~.nav-dots label#img-dot-1,\r\ninput#img-2:checked~.nav-dots label#img-dot-2,\r\ninput#img-3:checked~.nav-dots label#img-dot-3,\r\ninput#img-4:checked~.nav-dots label#img-dot-4,\r\ninput#img-5:checked~.nav-dots label#img-dot-5,\r\ninput#img-6:checked~.nav-dots label#img-dot-6 {\r\n    background: rgba(0, 0, 0, 0.8);\r\n}\r\n\r\n.pizo-new-relty-desc-content-thumnail-second {\r\n    display: inline-block;\r\n    width: 50%;\r\n    height: 100%;\r\n}\r\n\r\n.pizo-new-relty-desc-content-thumnail img {\r\n    width: 100%;\r\n    margin-top: -33%;\r\n}\r\n\r\n.pizo-new-relty-desc-content-thumnail {\r\n    height: 350px;\r\n    overflow: hidden;\r\n    min-width: 380px;\r\n}", ""]);



/***/ }),
/* 240 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(241);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 241 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-new-contact-container-name-container,\r\n.pizo-new-contact-container-email-container,\r\n.pizo-new-contact-container-type-container,\r\n.pizo-new-contact-container-phone-container {\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-new-contact-container-name-container-label,\r\n.pizo-new-contact-container-email-container-label,\r\n.pizo-new-contact-container-type-container-label,\r\n.pizo-new-contact-container-phone-container-label {\r\n    font-size: 1em;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-shrink: 0;\r\n    width: 9.3571em;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-contact-container-name-container-input,\r\n.pizo-new-contact-container-email-container-input,\r\n.pizo-new-contact-container-type-container-input,\r\n.pizo-new-contact-container-phone-container-input {\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.pizo-new-contact-container>div:not(:last-child) {\r\n    margin-bottom: 0.7143em;\r\n}\r\n\r\n.pizo-new-contact-container {\r\n    width: 50%;\r\n}", ""]);



/***/ }),
/* 242 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(243);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 243 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-list-realty-main-search-control-row-district-ward-input{\r\n    height: 30px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-district-ward{\r\n    width: calc(18% - 0.3571rem);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-district-ward-input>div{\r\n    width: 100%;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-state-ward-input{\r\n    height: 30px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-state-ward{\r\n    width: 18%;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-state-ward-input>div{\r\n    width: 100%;\r\n}", ""]);



/***/ }),
/* 244 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(245);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 245 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-new-ward-container-district-container {\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-new-ward-container-district-container-label {\r\n    font-size: 1em;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-shrink: 0;\r\n    width: 7.7857em;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-ward-container-district-container-input {\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}", ""]);



/***/ }),
/* 246 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(247);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 247 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-list-realty-main-search-control-row-state-street-input{\r\n    height: 30px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-state-street{\r\n    width: calc(24% - 0.3571rem);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-state-street-input>div{\r\n    width: 100%;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-district-street-input{\r\n    height: 30px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-district-street{\r\n    width: calc(24% - 0.7143rem);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-district-street-input>div{\r\n    width: 100%;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-ward-street>div{\r\n    height: 30px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-ward-street{\r\n    width: calc(24% - 1.4286rem);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-ward-street-input>div{\r\n    width: 100%;\r\n}", ""]);



/***/ }),
/* 248 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(249);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 249 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-new-ward-container-ward-container {\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-new-ward-container-ward-container-label {\r\n    font-size: 1em;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-shrink: 0;\r\n    width: 7.7857em;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-ward-container-ward-container-input {\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}", ""]);



/***/ }),
/* 250 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(251);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 251 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 252 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(253);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 253 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-new-state-container-name-container,\r\n.pizo-new-state-container-type-container,\r\n.pizo-new-state-container-nation-container {\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-new-state-container-name-container-label,\r\n.pizo-new-state-container-type-container-label,\r\n.pizo-new-state-container-nation-container-label {\r\n    font-size: 1em;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-shrink: 0;\r\n    width: 7.7857em;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-state-container-name-container-input,\r\n.pizo-new-state-container-type-container-input,\r\n.pizo-new-state-container-nation-container-input {\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    position: relative;\r\n}\r\n\r\n.pizo-new-state-container>div:not(:last-child) {\r\n    margin-bottom: 0.7143em;\r\n}\r\n\r\n.pizo-new-state-container {\r\n    width: 50%;\r\n}", ""]);



/***/ }),
/* 254 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(255);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 255 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-list-realty-main-search-control-row-state-district-input{\r\n    height: 30px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-state-district{\r\n    width: calc(36% + 1.0714rem);\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-state-district-input>div{\r\n    width: 100%;\r\n}", ""]);



/***/ }),
/* 256 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(257);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 257 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 258 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(259);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 259 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-list-realty-main-result-control>.pizo-new-realty-location-map-view {\r\n    max-width: 100%;\r\n    min-width: 27.1429em;\r\n    display: inline-block;\r\n    margin-bottom: unset;\r\n    width: calc(100% - 5px);\r\n    vertical-align: top;\r\n    margin-left: unset;\r\n}\r\n\r\n.hiddenUI {\r\n    display: none;\r\n}\r\n\r\n.pizo-list-plan-main-search-control-row-selectbox-plan {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    width: fit-content;\r\n    align-items: center;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-selectbox-plan-input {\r\n    padding-left: 10px;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    padding-right: 5px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-selectbox-plan-input>div {\r\n    width: 100%;\r\n    min-width: unset !important;\r\n}\r\n\r\n.pizo-list-plan-main-search-control-row {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    align-items: stretch;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.pizo-list-plan-main {\r\n    padding-top: 0;\r\n    padding-right: 10px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-selectbox-plan-input .absol-selectbox-item {\r\n    height: 24px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-selectbox-plan-input .absol-selectbox-item-text {\r\n    height: 24px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-selectbox-plan-input .absol-selectbox-item-close span {\r\n    line-height: 24px;\r\n}\r\n\r\n.pizo-list-realty-main-search-control-row-selectbox-plan-input .absol-selectbox-item-text span {\r\n    line-height: 24px;\r\n}\r\n\r\n.pizo-name-commit-planning-text {\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.pizo-name-commit-planning-input {\r\n    padding: 0.4286em;\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    min-width: 400px;\r\n    display: inline-block;\r\n    font-size: 1.01em;\r\n}\r\n\r\n\r\n/* .gmnoprint{\r\n    transform: scale(1.58);\r\n    left: 196px;\r\n    top: 13px;\r\n} */", ""]);



/***/ }),
/* 260 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(261);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 261 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 262 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-list-help-main {\r\n    margin-left: 1.4286em;\r\n    margin-right: 0.7143em;\r\n    height: 100%;\r\n    position: absolute;\r\n    width: calc(100% - 30px);\r\n}", ""]);



/***/ }),
/* 263 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(264);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 264 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".b-workZone__content.m-workZone__content__nav .absol-tabbar-button {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    justify-items: center;\r\n    align-items: center;\r\n    margin-top: 10px;\r\n    margin-left: 10px;\r\n    border-bottom: 2px #546e7a solid;\r\n}\r\n\r\n.b-workZone__content.m-workZone__content__nav .absol-tabbar-button::before {}\r\n\r\n.b-workZone__content.m-workZone__content__nav .absol-tabbar-button#tabbuton-matd::before {\r\n    content: \"list\";\r\n}\r\n\r\n.b-workZone__content.m-workZone__content__nav .absol-tabbar-button#tabbuton-matd2::before {\r\n    content: \"gavel\";\r\n}\r\n\r\n.b-workZone__content.m-workZone__content__nav .absol-tabbar-button#tabbuton-matd3::before {\r\n    content: \"search\";\r\n}\r\n\r\n.b-tabs__selectorItems {\r\n    white-space: nowrap;\r\n    position: relative;\r\n    width: 100%;\r\n    margin-top: 0;\r\n    box-sizing: content-box;\r\n}\r\n\r\n.b-workZone__content.m-workZone__content__nav .absol-tabview .absol-tabbar-button {\r\n    height: 100%;\r\n}\r\n\r\n.b-workZone__content.m-workZone__content__nav .absol-tabview .absol-tabbar {\r\n    border-bottom: none;\r\n    height: 40px;\r\n}\r\n\r\n.b-workZone__content.m-workZone__content__nav .absol-tabbar-button .absol-tabbar-button-icon-container {\r\n    display: none;\r\n}\r\n\r\n.b-workZone__side.m-workZone__side__nav {\r\n    background-color: #263238;\r\n    height: 100%;\r\n    position: relative;\r\n    vertical-align: top;\r\n    display: flex;\r\n    flex-shrink: 0;\r\n}\r\n\r\ntable.b-workZone__layout {\r\n    border-spacing: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n}\r\n\r\n.b-workZone__layout td,\r\n.b-workZone__layout tr {\r\n    padding: 0;\r\n}\r\n\r\n.b-workZone__content.m-workZone__content__nav .absol-tabview .absol-tabbar-button.absol-tabbar-button-active {\r\n    border-bottom: 2px #546e7a solid;\r\n}\r\n\r\n.m-workZone__side__nav {\r\n    width: 30%;\r\n    padding-right: 1px;\r\n}\r\n\r\n.b-workZone__side {\r\n    padding-left: 1px;\r\n    padding-right: 1px;\r\n    margin: 0;\r\n}\r\n\r\n.b-workZone__layout .absol-tabview {\r\n    position: static;\r\n}\r\n\r\n.b-workZone__layout .absol-tabview-container {\r\n    height: calc(100% - 40px);\r\n    top: 40px;\r\n    left: unset;\r\n    right: unset;\r\n    bottom: unset;\r\n    overflow: unset;\r\n}\r\n\r\n.b-workZone__layout .header-display-visible table.sortTable .parent td {\r\n    background-color: unset;\r\n}\r\n\r\n.b-workZone__layout .sortTable {\r\n    width: 100%;\r\n    border-radius: 0;\r\n    background-color: unset;\r\n    color: #eeeeee;\r\n}\r\n\r\n.b-workZone__layout .sortTable td {\r\n    border-top: 1px solid #000000;\r\n    padding: 7px;\r\n}\r\n\r\n.b-workZone__content.m-workZone__content__nav .sortTableClone {\r\n    width: 100%;\r\n    border-radius: 0;\r\n    background-color: unset;\r\n    color: #eeeeee;\r\n}\r\n\r\n.b-workZone__content.m-workZone__content__nav .sortTableClone>thead {\r\n    display: none;\r\n}\r\n\r\n.b-workZone__layout .sortTableClone td {\r\n    border-top: 1px solid #000000;\r\n    padding: 7px;\r\n}\r\n\r\n.b-workZone__side.m-workZone__side__article {\r\n    background-color: #263238;\r\n    width: unset;\r\n    height: 100%;\r\n    flex-grow: 2;\r\n    display: flex;\r\n}\r\n\r\n.b-workZone__content#workZone_article__content {\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n\r\n.b-pageContent__side #internal_wrapper * {\r\n    box-sizing: content-box;\r\n}\r\n\r\n.b-breadCrumbs__items {\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    width: 100%;\r\n}\r\n\r\n.b-breadCrumbs__item {\r\n    display: -moz-inline-stack;\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    margin: 0;\r\n    font-size: 1em;\r\n}\r\n\r\n.b-article__headerSide.m-article__headerSide__nav {\r\n    font-size: 1em;\r\n    padding: 5px 10px;\r\n    padding-bottom: 20px;\r\n    padding-top: 0;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.b-article__headerSide.m-article__headerSide__buttons {\r\n    font-size: 1em;\r\n    padding: 8px 26px;\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    flex-shrink: 0;\r\n    width: fit-content;\r\n}\r\n\r\n.b-article__headerLayout {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    align-items: stretch;\r\n    background-color: #263238;\r\n}\r\n\r\n.b-controlButtons__item {\r\n    display: -moz-inline-stack;\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    margin: 0 8px 0 0;\r\n    position: relative;\r\n    font-size: 1em;\r\n    white-space: pre;\r\n    cursor: pointer;\r\n}\r\n\r\n.b-controlButtons__item:hover {\r\n    background-color: #b0bec5;\r\n    color: #ffffff;\r\n}\r\n\r\nli.b-controlButtons__item {\r\n    overflow: hidden;\r\n}\r\n\r\n.m-controlButtons__item__print {\r\n    margin: 0;\r\n}\r\n\r\n.b-controlButtons__items {\r\n    margin: 0;\r\n    list-style-type: none;\r\n    padding: 0;\r\n}\r\n\r\n.b-article {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 0;\r\n    position: relative;\r\n    flex-direction: column;\r\n    overflow: auto;\r\n    font-family: Arial;\r\n}\r\n\r\n.b-article__headerLayout-edit#article__header {\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    flex-shrink: 0;\r\n}\r\n\r\n.b-controlButtons__item>span {\r\n    vertical-align: initial;\r\n    padding: 5px;\r\n}\r\n\r\n.b-controlButtons__item>i {\r\n    vertical-align: middle;\r\n    font-size: 22px;\r\n    cursor: pointer;\r\n}\r\n\r\n.cke_screen_reader_only {\r\n    top: 0;\r\n}\r\n\r\n.os-host,\r\n.os-host-textarea {\r\n    position: relative;\r\n    overflow: visible!important;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-box-direction: normal;\r\n    -ms-flex-direction: column;\r\n    flex-direction: column;\r\n    -ms-flex-wrap: nowrap;\r\n    flex-wrap: nowrap;\r\n    -webkit-box-pack: start;\r\n    -ms-flex-pack: start;\r\n    justify-content: flex-start;\r\n    -ms-flex-line-pack: start;\r\n    align-content: flex-start;\r\n    -webkit-box-align: start;\r\n    -ms-flex-align: start;\r\n    -ms-grid-row-align: flex-start;\r\n    align-items: flex-start;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    min-height: 600px;\r\n}\r\n\r\n.b-article__wrapper.os-host.os-theme-dark.os-host-resize-disabled.os-host-scrollbar-horizontal-hidden.os-host-overflow.os-host-overflow-y.os-host-transition .cke.cke_reset.cke_chrome.cke_ltr.cke_browser_webkit {\r\n    height: calc(100% - 2px);\r\n    width: calc(100% - 2px);\r\n}\r\n\r\n.header-display-visible {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    flex-direction: column;\r\n}\r\n\r\n.js-stools-container-bar {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    position: sticky;\r\n}\r\n\r\n.header-display-visible .container-sortTable {\r\n    flex-grow: 2;\r\n    display: flex;\r\n    margin: 10px;\r\n    width: calc(100% - 20px);\r\n    height: calc(100% - 20px);\r\n}\r\n\r\n.absol-tab-frame-small {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.container-content-information {\r\n    flex-grow: 2;\r\n    display: flex;\r\n    font-family: sans-serif, Arial, Verdana, \"Trebuchet MS\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\r\n    font-size: 12px;\r\n    color: #333;\r\n    background-color: #fff;\r\n    margin: 1em;\r\n    overflow: auto;\r\n}\r\n\r\n.container-content-information h1,\r\n.container-content-information h2,\r\n.container-content-information h3,\r\n.container-content-information h4,\r\n.container-content-information h5,\r\n.container-content-information h6 {\r\n    font-weight: normal;\r\n    line-height: 1.2;\r\n}\r\n\r\n.container-content-information h3 {\r\n    display: block;\r\n    font-size: 1.17em;\r\n    margin-block-start: 1em;\r\n    margin-block-end: 1em;\r\n    margin-inline-start: 0px;\r\n    margin-inline-end: 0px;\r\n    font-weight: bold;\r\n}\r\n\r\n.cke_editable {\r\n    cursor: text;\r\n}\r\n\r\n.cke_editable {\r\n    font-size: 16px;\r\n    line-height: 1.6;\r\n    word-wrap: break-word;\r\n}\r\n\r\n.container-content-information ul {\r\n    list-style-type: disc;\r\n}\r\n\r\n.container-content-information li {\r\n    display: list-item;\r\n    text-align: -webkit-match-parent;\r\n}\r\n\r\n.container-content-information .cke_editable.cke_editable_themed.cke_contents_ltr.cke_show_borders {\r\n    margin: 20px;\r\n    margin-top: 0px;\r\n}\r\n\r\n@media print {\r\n    html,\r\n    body,\r\n     :root {\r\n        padding: 0;\r\n        margin: 0;\r\n        height: unset;\r\n        width: unset;\r\n        border: none;\r\n        overflow: unset;\r\n    }\r\n}\r\n\r\n@media print {\r\n    table {\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n@media print {\r\n    table {\r\n        page-break-inside: auto\r\n    }\r\n    tr {\r\n        page-break-inside: avoid;\r\n        page-break-after: auto\r\n    }\r\n}\r\n\r\n.b-controlButtons__item.m-controlButtons__item__print>i {\r\n    vertical-align: top;\r\n    padding-top: 2px;\r\n}\r\n\r\n.cke_show_borders table.cke_show_border,\r\n.cke_show_borders table.cke_show_border>tr>td,\r\n.cke_show_borders table.cke_show_border>tr>th,\r\n.cke_show_borders table.cke_show_border>tbody>tr>td,\r\n.cke_show_borders table.cke_show_border>tbody>tr>th,\r\n.cke_show_borders table.cke_show_border>thead>tr>td,\r\n.cke_show_borders table.cke_show_border>thead>tr>th,\r\n.cke_show_borders table.cke_show_border>tfoot>tr>td,\r\n.cke_show_borders table.cke_show_border>tfoot>tr>th {\r\n    border: #d3d3d3 1px dotted;\r\n}\r\n\r\n.container-content-information tr,\r\n.container-content-information td {\r\n    border: 1px solid grey;\r\n}\r\n\r\n.container-content-information table {\r\n    border-collapse: separate;\r\n    border-spacing: 2px;\r\n}\r\n\r\n.b-article .pizo-new-category-container-name {\r\n    position: sticky;\r\n    top: 0;\r\n    display: flex;\r\n    /* display: -webkit-box; */\r\n    display: -ms-flexbox;\r\n    flex-shrink: 0;\r\n    background-color: #263238;\r\n    z-index: 10;\r\n    color: #eeeeee;\r\n    padding: 5px 10px;\r\n    padding-left: 15px;\r\n}\r\n\r\n.b-workZone__layout_helpcontainer_view .b-article__headerLayout#article__header {\r\n    background-color: white;\r\n    margin: 10px;\r\n    margin-bottom: 0;\r\n    width: unset;\r\n}\r\n\r\n.b-workZone__layout_helpcontainer_view .container-content-information {\r\n    margin-right: 10px;\r\n    margin-left: 10px;\r\n    margin-top: 0;\r\n    margin-bottom: 0;\r\n}\r\n\r\n.b-workZone__layout_helpcontainer_view .b-breadCrumbs__item {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    padding: 10px;\r\n    padding-bottom: 0;\r\n}\r\n\r\n.container-content-information-bottom {\r\n    flex-shrink: 0;\r\n    display: flex;\r\n    background-color: white;\r\n    margin: 10px;\r\n    margin-top: 0;\r\n    padding-bottom: 10px;\r\n    padding-top: 10px;\r\n}\r\n\r\n.b-controlButtons__item.m-controlButtons__item__next {\r\n    position: absolute;\r\n    right: 10px;\r\n}\r\n\r\n.b-controlButtons__item.m-controlButtons__item__prev {\r\n    margin-left: 10px;\r\n}\r\n\r\n.b-workZone__layout_helpcontainer_view a {\r\n    color: #17a2b8;\r\n}\r\n\r\n.b-workZone__layout_helpcontainer_view .b-breadCrumbs__items {\r\n    display: flex;\r\n}\r\n\r\n.b-workZone__layout_helpcontainer_view .b-article__headerSide.m-article__headerSide__nav {\r\n    flex-direction: column;\r\n}\r\n\r\n.b-workZone__layout_helpcontainer_view p {\r\n    margin: 0;\r\n}\r\n\r\n.b-breadCrumbs__location {\r\n    display: flex;\r\n    margin: 10px;\r\n}\r\n\r\n.b-breadCrumbs__location_title {\r\n    white-space: nowrap;\r\n    margin-left: 50px;\r\n}\r\n\r\n.b-breadCrumbs__location_content {\r\n    margin-left: 10px;\r\n}", ""]);



/***/ }),
/* 265 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(266);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 266 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".b-article__wrapper.os-host.os-theme-dark.os-host-resize-disabled.os-host-scrollbar-horizontal-hidden.os-host-overflow.os-host-overflow-y.os-host-transition .cke_inner.cke_reset {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    height: 100% !important;\r\n    align-items: stretch;\r\n    -webkit-flex-direction: column;\r\n    /* Safari */\r\n    flex-direction: column;\r\n}\r\n\r\n.b-article__wrapper.os-host.os-theme-dark.os-host-resize-disabled.os-host-scrollbar-horizontal-hidden.os-host-overflow.os-host-overflow-y.os-host-transition .cke_top.cke_reset_all {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n}\r\n\r\n.b-article__wrapper.os-host.os-theme-dark.os-host-resize-disabled.os-host-scrollbar-horizontal-hidden.os-host-overflow.os-host-overflow-y.os-host-transition .cke_contents.cke_reset {\r\n    flex-grow: 2;\r\n    display: flex;\r\n    height: unset !important;\r\n}\r\n\r\n.b-article__wrapper.os-host.os-theme-dark.os-host-resize-disabled.os-host-scrollbar-horizontal-hidden.os-host-overflow.os-host-overflow-y.os-host-transition .cke_bottom.cke_reset_all {\r\n    flex-shrink: 0;\r\n}\r\n\r\n.material-icons-add::before {\r\n    content: \"add\";\r\n}\r\n\r\n.material-icons-edit::before {\r\n    content: \"edit\";\r\n}\r\n\r\n.material-icons-delete::before {\r\n    content: \"delete\";\r\n}\r\n\r\n.b-workZone__content.m-workZone__content__nav .header-display-visible .sortTable>thead {\r\n    display: table-header-group;\r\n}\r\n\r\n.title-label {}\r\n\r\n.alias-label {\r\n    color: #3071a9;\r\n    font-size: 0.8em;\r\n}\r\n\r\n.b-workZone__content.m-workZone__content__nav .sortTable>tbody>tr:hover {\r\n    background-color: #00000080;\r\n}\r\n\r\n.b-workZone__content.m-workZone__content__nav .header-display-visible .sortTable>tbody>tr.choice-event-category {\r\n    background-color: #000000;\r\n}\r\n\r\n.b-workZone__layout .sortTable>tbody>tr.choice-list-category {\r\n    background-color: #000000;\r\n}\r\n\r\n.list-linkChoice-container {\r\n    width: 80vw;\r\n    height: 80vh;\r\n    min-width: 800px;\r\n    min-height: 600px;\r\n    background-color: #263238;\r\n    top: unset;\r\n    left: unset;\r\n    bottom: unset;\r\n    right: unset;\r\n    position: unset;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.list-linkChoice-container table.sortTable .parent td {\r\n    background-color: unset;\r\n}\r\n\r\n.btn.hasTooltip {\r\n    position: absolute;\r\n    transform: translate(-100%);\r\n}\r\n\r\n.input-search-list {\r\n    padding: 5px;\r\n    -webkit-box-sizing: border-box;\r\n    /* Safari/Chrome, other WebKit */\r\n    -moz-box-sizing: border-box;\r\n    /* Firefox, other Gecko */\r\n    box-sizing: border-box;\r\n    flex-grow: 2;\r\n    display: flex;\r\n}\r\n\r\n.btn-wrapper.input-append {\r\n    margin: 10px;\r\n    position: relative;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    align-items: stretch;\r\n    flex-grow: 2;\r\n}\r\n\r\n#matd .sortTable>thead>tr>th {\r\n    min-width: unset !important;\r\n}\r\n\r\n.pizo-new-category-container-alias-active {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-new-category-container-alias {\r\n    flex-grow: 2;\r\n    display: flex;\r\n}\r\n\r\n.pizo-new-state-publish {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    margin: auto;\r\n    padding-left: 30px;\r\n    padding-right: 10px;\r\n}\r\n\r\n.pizo-new-category-container-publish-container-label {\r\n    margin-right: 10px;\r\n    vertical-align: bottom;\r\n}\r\n\r\ndiv.tick-element:before {\r\n    content: \"check\";\r\n    font-family: 'Material Icons';\r\n    font-weight: normal;\r\n    font-style: normal;\r\n    font-size: 1.2857em;\r\n    line-height: 1;\r\n    letter-spacing: normal;\r\n    text-transform: none;\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n    word-wrap: normal;\r\n    direction: ltr;\r\n    -webkit-font-feature-settings: 'liga';\r\n    -webkit-font-smoothing: antialiased;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n\r\ndiv.cross-element:before {\r\n    content: \"close\";\r\n    font-family: 'Material Icons';\r\n    font-weight: normal;\r\n    font-style: normal;\r\n    font-size: 1.2857em;\r\n    line-height: 1;\r\n    letter-spacing: normal;\r\n    text-transform: none;\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n    word-wrap: normal;\r\n    direction: ltr;\r\n    -webkit-font-feature-settings: 'liga';\r\n    -webkit-font-smoothing: antialiased;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n\r\n.b-workZone__layout {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    align-items: stretch;\r\n}\r\n\r\n.b-workZone__content.m-workZone__content__nav {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n}\r\n\r\n.pizo-list-realty-button-element {\r\n    text-align: center;\r\n    padding: 0;\r\n    margin: 0;\r\n    background-color: #ebebeb;\r\n    border: solid 0.0714rem #c0c0c0;\r\n    border-radius: 0.2em;\r\n    font-size: 1em;\r\n    overflow: hidden;\r\n    line-height: 2em;\r\n    box-sizing: content-box;\r\n    height: 2em;\r\n    white-space: nowrap;\r\n}\r\n\r\n.pizo-list-realty-button .pizo-list-realty-button-element:not(:first-child) {\r\n    margin-left: 0.3571em;\r\n}\r\n\r\n.pizo-list-realty-button-element>span {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 2em;\r\n    box-sizing: border-box;\r\n    line-height: 2em;\r\n    text-align: center;\r\n    font-size: 1em;\r\n    text-align: center;\r\n    margin-left: 0.7em;\r\n    margin-right: 0.7em;\r\n    line-height: inherit;\r\n}\r\n\r\n.b-workZone__side.m-workZone__side__nav table.sortTable>tbody>tr>td:first-child,\r\ntable.sortTableClone>tbody>tr>td:first-child {\r\n    border-left: unset;\r\n}\r\n\r\n.b-workZone__side.m-workZone__side__nav table.sortTable th,\r\n.b-workZone__side.m-workZone__side__nav table.sortTable td,\r\n.b-workZone__side.m-workZone__side__nav table.sortTableClone th,\r\n.b-workZone__side.m-workZone__side__nav table.sortTableClone td {\r\n    border-bottom: unset;\r\n}\r\n\r\n.b-workZone__side.m-workZone__side__nav table.sortTable th,\r\ntable.sortTableClone th {\r\n    background-color: #36304a;\r\n    vertical-align: middle;\r\n    color: #fff;\r\n    position: sticky;\r\n    position: -webkit-sticky;\r\n    top: 0px;\r\n    z-index: 4;\r\n}\r\n\r\n.pizo-new-category-container-alias.hasErrorElement {\r\n    background-color: #000000;\r\n}\r\n\r\n.pizo-new-realty-location-detail-row-label-important {\r\n    color: #d93025;\r\n}\r\n\r\n.cke_button_label.cke_button__linkdb_label {\r\n    display: block;\r\n}\r\n\r\n.cke_button_label.cke_button__note_label {\r\n    display: block;\r\n}\r\n\r\n.setting-page-container {\r\n    z-index: 10;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: calc(100% - 2px);\r\n    background-color: white;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.setting-page-container-title {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    justify-content: flex-end;\r\n    padding: 10px;\r\n}\r\n\r\n.setting-page-container-title-label {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    font-size: 20px;\r\n    align-items: center;\r\n    padding: 10px;\r\n    color: #eeeeee;\r\n    background-color: #263238;\r\n    width: 100px;\r\n}\r\n\r\n.setting-page-container-title-input {\r\n    padding: 5px;\r\n    margin: 10p;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    width: 50%;\r\n}\r\n\r\n.setting-page-container-header,\r\n.setting-page-container-footer {\r\n    width: 100%;\r\n    height: 50%;\r\n    display: flex;\r\n    flex-grow: 2;\r\n    background-color: #263238;\r\n    flex-direction: column;\r\n}\r\n\r\n.setting-page-container-header-label,\r\n.setting-page-container-footer-label {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    font-size: 20px;\r\n    align-items: center;\r\n    padding: 10px;\r\n    color: #eeeeee;\r\n}\r\n\r\n.setting-page-container-header-editor,\r\n.setting-page-container-footer-editor {\r\n    flex-grow: 2;\r\n    display: flex;\r\n}\r\n\r\n.setting-page-container-header-editor>div,\r\n.setting-page-container-footer-editor>div {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.setting-page-container .cke_inner.cke_reset {\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    height: 100% !important;\r\n    align-items: stretch;\r\n    -webkit-flex-direction: column;\r\n    /* Safari */\r\n    flex-direction: column;\r\n}\r\n\r\n.setting-page-container .cke_top.cke_reset_all {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n}\r\n\r\n.setting-page-container .cke_contents.cke_reset {\r\n    flex-grow: 2;\r\n    display: flex;\r\n    height: unset !important;\r\n}\r\n\r\n.setting-page-container .cke_bottom.cke_reset_all {\r\n    flex-shrink: 0;\r\n}\r\n\r\n.b-article .b-article__headerLayout-edit {\r\n    color: #eeeeee;\r\n}\r\n\r\n.os-host-bottom {\r\n    position: relative;\r\n    overflow: visible!important;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-box-direction: normal;\r\n    -ms-flex-direction: column;\r\n    flex-direction: column;\r\n    -ms-flex-wrap: nowrap;\r\n    flex-wrap: nowrap;\r\n    -webkit-box-pack: start;\r\n    -ms-flex-pack: start;\r\n    justify-content: flex-start;\r\n    -ms-flex-line-pack: start;\r\n    align-content: flex-start;\r\n    -webkit-box-align: start;\r\n    -ms-flex-align: start;\r\n    -ms-grid-row-align: flex-start;\r\n    align-items: flex-start;\r\n    flex-shrink: 0;\r\n    display: flex;\r\n}\r\n\r\n.b-article__wrapper.os-host-bottom.os-theme-dark.os-host-resize-disabled.os-host-scrollbar-horizontal-hidden.os-host-overflow.os-host-overflow-y.os-host-transition .cke.cke_reset.cke_chrome.cke_ltr.cke_browser_webkit {\r\n    height: calc(100% - 2px);\r\n    width: calc(100% - 2px);\r\n}\r\n\r\n.b-article__wrapper.os-host-bottom.os-theme-dark.os-host-resize-disabled.os-host-scrollbar-horizontal-hidden.os-host-overflow.os-host-overflow-y.os-host-transition .cke_inner.cke_reset {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    height: 100% !important;\r\n    align-items: stretch;\r\n    -webkit-flex-direction: column;\r\n    flex-direction: column;\r\n}", ""]);



/***/ }),
/* 267 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(268);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 268 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-new-category-container-name-container-input,\r\n.pizo-new-category-container-alias-container-input,\r\n.pizo-new-category-container-code-container-input,\r\n.pizo-new-category-container-note-container-input,\r\n.pizo-new-category-container-username-container-input,\r\n.pizo-new-state-selectbox-container-input {\r\n    border: solid 0.0714rem var(--color-input-color);\r\n    font-size: 1em;\r\n    padding: 0.4286em;\r\n    flex-grow: 2;\r\n    display: flex;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n    color: black;\r\n    background-color: white;\r\n}\r\n\r\n.pizo-new-category-container-name-container-label,\r\n.pizo-new-category-container-alias-container-label,\r\n.pizo-new-category-container-code-container-label,\r\n.pizo-new-category-container-username-container-label,\r\n.pizo-new-category-container-note-container-label,\r\n.pizo-new-state-selectbox-container-label {\r\n    font-size: 1em;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-shrink: 0;\r\n    width: 8em;\r\n    padding-right: 0.7143em;\r\n}\r\n\r\n.pizo-new-category-container-name-container,\r\n.pizo-new-category-container-alias-container,\r\n.pizo-new-category-container-code-container,\r\n.pizo-new-category-container-username-container,\r\n.pizo-new-category-container-note-container,\r\n.pizo-new-state-selectbox-container {\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    align-items: stretch;\r\n}\r\n\r\n.pizo-new-category-container-name,\r\n.pizo-new-category-container-alias,\r\n.pizo-new-category-container-code,\r\n.pizo-new-category-container-username,\r\n.pizo-new-category-container-note,\r\n.pizo-new-state-selectbox {\r\n    padding: 5px;\r\n    padding-right: 0;\r\n}\r\n\r\n.pizo-new-category-container {\r\n    width: 60%;\r\n}\r\n\r\n.pizo-new-catergory-container>div:first-child {\r\n    padding-top: 0;\r\n}\r\n\r\n.pizo-new-catergory-container>div:last-child {\r\n    padding-bottom: 0;\r\n}\r\n\r\n.label-used-error,\r\n.label-invalid-error {\r\n    display: none;\r\n}\r\n\r\n.hasErrorElement.used-error .label-used-error,\r\n.hasErrorElement.invalid-error .label-invalid-error {\r\n    display: inline;\r\n    width: 232px;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n}", ""]);



/***/ }),
/* 269 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(270);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 270 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "span.pizo-list-realty-page-allinput-input:empty:before {\r\n    content: \"\\200b\";\r\n}\r\n\r\n.pizo-list-position-list .sortTable tbody tr:hover td{\r\n    background-color: #BFBFBF;\r\n}\r\n\r\n.pizo-list-position-list .sortTable tbody tr.choice td{\r\n    background-color: #BFBFBF;\r\n}\r\n\r\n.pizo-list-realty-main-result-control-child,.pizo-list-realty-main-result-control-child{\r\n    flex-grow: 2;\r\n    display: flex;\r\n    /*display: -webkit-box;*/\r\n    display: -ms-flexbox;\r\n    justify-content: center;\r\n    overflow: auto;\r\n    position: relative;\r\n}\r\n\r\n.pizo-list-realty-main-result-control .pizo-list-realty-main-result-control-child .sortTable th, .pizo-list-realty-main-result-control .sortTableClone th{\r\n    top:0px;\r\n}\r\n\r\n.list-linkChoice-container .container-sortTable{\r\n    height: auto;\r\n}", ""]);



/***/ }),
/* 271 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(272);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 272 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 273 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(274);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 274 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-new-category-container-note-container-input {\r\n    height: 10em;\r\n}\r\n\r\n.pizo-new-category-container-note-container-label {\r\n    align-items: start;\r\n    margin-top: 0.5em;\r\n}", ""]);



/***/ }),
/* 275 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(276);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 276 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".pizo-list-realty-main-search-control-row-positions,\r\n.pizo-list-realty-main-search-control-row-status {\r\n    min-height: 0.0714em;\r\n    display: inline-block;\r\n    vertical-align: bottom;\r\n    width: calc(18% - 3px);\r\n}", ""]);



/***/ }),
/* 277 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(278);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 278 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 279 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(280);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 280 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 281 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(282);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 282 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, ".absol-autocomplete-input.pizo-new-state-container-type-container-input .absol-autocomplete-input-text {\r\n    padding: 0.4286em;\r\n}", ""]);



/***/ }),
/* 283 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(284);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 284 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 285 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(286);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 286 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 287 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(288);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 288 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 289 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(290);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(5)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),
/* 290 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(4)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 291 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// NAMESPACE OBJECT: ./node_modules/absol/src/String/stringGenerate.js
var stringGenerate_namespaceObject = {};
__webpack_require__.r(stringGenerate_namespaceObject);
__webpack_require__.d(stringGenerate_namespaceObject, "identCharacters", function() { return identCharacters; });
__webpack_require__.d(stringGenerate_namespaceObject, "randomIdent", function() { return randomIdent; });
__webpack_require__.d(stringGenerate_namespaceObject, "parallelMatch", function() { return parallelMatch; });
__webpack_require__.d(stringGenerate_namespaceObject, "ipsumLoremWord", function() { return ipsumLoremWord; });
__webpack_require__.d(stringGenerate_namespaceObject, "randomWord", function() { return randomWord; });
__webpack_require__.d(stringGenerate_namespaceObject, "randomPhrase", function() { return randomPhrase; });
__webpack_require__.d(stringGenerate_namespaceObject, "randomSentence", function() { return randomSentence; });
__webpack_require__.d(stringGenerate_namespaceObject, "randomParagraph", function() { return randomParagraph; });

// NAMESPACE OBJECT: ./node_modules/absol/src/HTML5/Text.js
var Text_namespaceObject = {};
__webpack_require__.r(Text_namespaceObject);
__webpack_require__.d(Text_namespaceObject, "getTextNodesIn", function() { return getTextNodesIn; });
__webpack_require__.d(Text_namespaceObject, "setSelectionRangeStart", function() { return setSelectionRangeStart; });
__webpack_require__.d(Text_namespaceObject, "setSelectionRangeEnd", function() { return setSelectionRangeEnd; });
__webpack_require__.d(Text_namespaceObject, "setSelectionRange", function() { return setSelectionRange; });
__webpack_require__.d(Text_namespaceObject, "getTextIn", function() { return getTextIn; });
__webpack_require__.d(Text_namespaceObject, "textToNodes", function() { return textToNodes; });
__webpack_require__.d(Text_namespaceObject, "getCaretPosition", function() { return Text_getCaretPosition; });
__webpack_require__.d(Text_namespaceObject, "setCaretPosition", function() { return setCaretPosition; });
__webpack_require__.d(Text_namespaceObject, "measureText", function() { return measureText; });

// NAMESPACE OBJECT: ./node_modules/absol/src/Converter/file.js
var file_namespaceObject = {};
__webpack_require__.r(file_namespaceObject);
__webpack_require__.d(file_namespaceObject, "blobToFile", function() { return blobToFile; });
__webpack_require__.d(file_namespaceObject, "dataURItoBlob", function() { return dataURItoBlob; });
__webpack_require__.d(file_namespaceObject, "blobToArrayBuffer", function() { return blobToArrayBuffer; });
__webpack_require__.d(file_namespaceObject, "stringToBlob", function() { return stringToBlob; });

// NAMESPACE OBJECT: ./node_modules/absol/src/Converter/base64.js
var base64_namespaceObject = {};
__webpack_require__.r(base64_namespaceObject);
__webpack_require__.d(base64_namespaceObject, "base64EncodeUnicode", function() { return base64EncodeUnicode; });
__webpack_require__.d(base64_namespaceObject, "base64DecodeUnicode", function() { return base64DecodeUnicode; });
__webpack_require__.d(base64_namespaceObject, "UnicodeBase64Converter", function() { return UnicodeBase64Converter; });

// NAMESPACE OBJECT: ./node_modules/absol/src/String/stringFormat.js
var stringFormat_namespaceObject = {};
__webpack_require__.r(stringFormat_namespaceObject);
__webpack_require__.d(stringFormat_namespaceObject, "wrapToLines", function() { return wrapToLines; });
__webpack_require__.d(stringFormat_namespaceObject, "nonAccentVietnamese", function() { return nonAccentVietnamese; });
__webpack_require__.d(stringFormat_namespaceObject, "pascalCaseToCamelCase", function() { return pascalCaseToCamelCase; });
__webpack_require__.d(stringFormat_namespaceObject, "kebabCaseToCamelCase", function() { return kebabCaseToCamelCase; });
__webpack_require__.d(stringFormat_namespaceObject, "underScoreToCamelCase", function() { return underScoreToCamelCase; });
__webpack_require__.d(stringFormat_namespaceObject, "camelCaseToPascalCase", function() { return camelCaseToPascalCase; });
__webpack_require__.d(stringFormat_namespaceObject, "underScoreToPascalCase", function() { return underScoreToPascalCase; });
__webpack_require__.d(stringFormat_namespaceObject, "kebabCaseToPascalCase", function() { return kebabCaseToPascalCase; });
__webpack_require__.d(stringFormat_namespaceObject, "pascalCaseToKebabCase", function() { return pascalCaseToKebabCase; });
__webpack_require__.d(stringFormat_namespaceObject, "camelCaseToKebabCase", function() { return camelCaseToKebabCase; });
__webpack_require__.d(stringFormat_namespaceObject, "underScoreToKebabCase", function() { return underScoreToKebabCase; });
__webpack_require__.d(stringFormat_namespaceObject, "pascalCaseToUnderScore", function() { return pascalCaseToUnderScore; });
__webpack_require__.d(stringFormat_namespaceObject, "pascalCaseToUpperUnderScore", function() { return pascalCaseToUpperUnderScore; });
__webpack_require__.d(stringFormat_namespaceObject, "camelCaseToUnderScore", function() { return camelCaseToUnderScore; });
__webpack_require__.d(stringFormat_namespaceObject, "camelCaseToUpperUnderScore", function() { return camelCaseToUpperUnderScore; });
__webpack_require__.d(stringFormat_namespaceObject, "kebabCaseToUnderScore", function() { return kebabCaseToUnderScore; });
__webpack_require__.d(stringFormat_namespaceObject, "kebabCaseToUpperUnderScore", function() { return kebabCaseToUpperUnderScore; });

// NAMESPACE OBJECT: ./node_modules/absol/src/JSX/dom.js
var dom_namespaceObject = {};
__webpack_require__.r(dom_namespaceObject);
__webpack_require__.d(dom_namespaceObject, "domVisitor", function() { return domVisitor; });
__webpack_require__.d(dom_namespaceObject, "parseDom", function() { return parseDom; });

// NAMESPACE OBJECT: ./node_modules/absol/src/Math/int.js
var int_namespaceObject = {};
__webpack_require__.r(int_namespaceObject);
__webpack_require__.d(int_namespaceObject, "map", function() { return int_map; });
__webpack_require__.d(int_namespaceObject, "sumArr", function() { return sumArr; });
__webpack_require__.d(int_namespaceObject, "radianInRange", function() { return radianInRange; });
__webpack_require__.d(int_namespaceObject, "distance", function() { return int_distance; });
__webpack_require__.d(int_namespaceObject, "numberToString", function() { return numberToString; });
__webpack_require__.d(int_namespaceObject, "numberAutoFixed", function() { return numberAutoFixed; });
__webpack_require__.d(int_namespaceObject, "harmonicMean", function() { return harmonicMean; });

// NAMESPACE OBJECT: ./node_modules/absol/src/HTML5/Clipboard.js
var Clipboard_namespaceObject = {};
__webpack_require__.r(Clipboard_namespaceObject);
__webpack_require__.d(Clipboard_namespaceObject, "copyImage", function() { return copyImage; });

// NAMESPACE OBJECT: ./node_modules/absol/src/Time/datetime.js
var datetime_namespaceObject = {};
__webpack_require__.r(datetime_namespaceObject);
__webpack_require__.d(datetime_namespaceObject, "MILLIS_PER_DAY", function() { return MILLIS_PER_DAY; });
__webpack_require__.d(datetime_namespaceObject, "MILLIS_PER_HOUR", function() { return MILLIS_PER_HOUR; });
__webpack_require__.d(datetime_namespaceObject, "MILLIS_PER_MINUTE", function() { return MILLIS_PER_MINUTE; });
__webpack_require__.d(datetime_namespaceObject, "ddmmyyyy", function() { return ddmmyyyy; });
__webpack_require__.d(datetime_namespaceObject, "yyymmdd", function() { return yyymmdd; });
__webpack_require__.d(datetime_namespaceObject, "dayNames", function() { return dayNames; });
__webpack_require__.d(datetime_namespaceObject, "shortDayNames", function() { return shortDayNames; });
__webpack_require__.d(datetime_namespaceObject, "monthNames", function() { return monthNames; });
__webpack_require__.d(datetime_namespaceObject, "shortMonthNames", function() { return shortMonthNames; });
__webpack_require__.d(datetime_namespaceObject, "formatTokenRegex", function() { return formatTokenRegex; });
__webpack_require__.d(datetime_namespaceObject, "formartDateString", function() { return formartDateString; });
__webpack_require__.d(datetime_namespaceObject, "parseDateString", function() { return parseDateString; });
__webpack_require__.d(datetime_namespaceObject, "prevDate", function() { return prevDate; });
__webpack_require__.d(datetime_namespaceObject, "nextDate", function() { return nextDate; });
__webpack_require__.d(datetime_namespaceObject, "beginOfHour", function() { return beginOfHour; });
__webpack_require__.d(datetime_namespaceObject, "beginOfDay", function() { return beginOfDay; });
__webpack_require__.d(datetime_namespaceObject, "beginOfWeek", function() { return beginOfWeek; });
__webpack_require__.d(datetime_namespaceObject, "beginOfMonth", function() { return datetime_beginOfMonth; });
__webpack_require__.d(datetime_namespaceObject, "beginOfYear", function() { return beginOfYear; });
__webpack_require__.d(datetime_namespaceObject, "compareDate", function() { return compareDate; });
__webpack_require__.d(datetime_namespaceObject, "compareMonth", function() { return compareMonth; });
__webpack_require__.d(datetime_namespaceObject, "compareYear", function() { return compareYear; });
__webpack_require__.d(datetime_namespaceObject, "nextMonth", function() { return nextMonth; });
__webpack_require__.d(datetime_namespaceObject, "prevMonth", function() { return prevMonth; });
__webpack_require__.d(datetime_namespaceObject, "daysInMonth", function() { return daysInMonth; });

// NAMESPACE OBJECT: ./node_modules/absol/src/String/stringMatching.js
var stringMatching_namespaceObject = {};
__webpack_require__.r(stringMatching_namespaceObject);
__webpack_require__.d(stringMatching_namespaceObject, "wordLike", function() { return wordLike; });
__webpack_require__.d(stringMatching_namespaceObject, "wordsMatch", function() { return wordsMatch; });
__webpack_require__.d(stringMatching_namespaceObject, "phraseMatch", function() { return phraseMatch; });
__webpack_require__.d(stringMatching_namespaceObject, "phraseLike", function() { return phraseLike; });

// NAMESPACE OBJECT: ./node_modules/mpot-merge-tool/js/TypeHandler.js
var TypeHandler_namespaceObject = {};
__webpack_require__.r(TypeHandler_namespaceObject);
__webpack_require__.d(TypeHandler_namespaceObject, "PreviewConstructors", function() { return PreviewConstructors; });
__webpack_require__.d(TypeHandler_namespaceObject, "EditorConstructors", function() { return EditorConstructors; });
__webpack_require__.d(TypeHandler_namespaceObject, "createEditor", function() { return createEditor; });
__webpack_require__.d(TypeHandler_namespaceObject, "createPreview", function() { return createPreview; });

// EXTERNAL MODULE: ./node_modules/absol/src/Polyfill/polyfill.js
var polyfill = __webpack_require__(23);

// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/EventEmitter.js
var EventEmitter = __webpack_require__(3);

// EXTERNAL MODULE: ./node_modules/absol/src/Detector/BrowserDetector.js
var BrowserDetector = __webpack_require__(8);

// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/JSPath.js
var JSPath = __webpack_require__(17);

// EXTERNAL MODULE: ./node_modules/absol/src/JSMaker/TemplateString.js
var TemplateString = __webpack_require__(12);

// CONCATENATED MODULE: ./node_modules/absol/src/XML/XMLConstant.js
var XMLConstant = {
    TYPE_ELEMENT:1,
    TYPE_TEXT:3,
    TYPE_COMMENT:8,
    TYPE_DECLARATION:16
};

/* harmony default export */ var XML_XMLConstant = (XMLConstant);
// CONCATENATED MODULE: ./node_modules/absol/src/XML/XMLDeclarationNode.js


function XMLDeclaretionNode() {
    this.nodeType = XML_XMLConstant.TYPE_DECLARATION;
    this.parentNode;
    /**
     * @type {String}
     */
    this.tagName = '';
    /**
    * @type {XMLElement}
    */
    this.parentNode;
    this.attributes = {};
}

/**
 * @param {String} name attribute name
 */
XMLDeclaretionNode.prototype.getAttribute = function (name) {
    return this.attributes[name];
};

/**
 * @param {String} name attribute name
 * @param {String} value 
 */
XMLDeclaretionNode.prototype.setAttribute = function (name, value) {
    this.attributes[name] = value;
};

/**
 * @param {String} name attribute name
 */
XMLDeclaretionNode.prototype.removeAttribute = function (name) {
    delete this.attributes[name];
};

XMLDeclaretionNode.prototype.remove = function () {
    if (this.parentNode) {
        this.parentNode.removeChild(this);
    }
};


XMLDeclaretionNode.prototype.toObject = function () {
    return { nodeType: this.nodeType, tagName: this.tagName, attributes: Object.assign({}, this.attributes) };
};


/* harmony default export */ var XMLDeclarationNode = (XMLDeclaretionNode);
// CONCATENATED MODULE: ./node_modules/absol/src/XML/XMLClassList.js
/**
 * 
 * @param {XMLElement} xmlNode 
 */
function XMLClassList(xmlNode) {
    this.xmlNode = xmlNode;
}

/**
 * @param {String} name
 * @returns {Boolean}
 */
XMLClassList.prototype.contains = function (name) {
    var className = this.xmlNode.getAttribute('class');
    if (className) {
        var classes = className.trim().split(/\s+/);
        for (var i = 0; i < classes.length; ++i) {
            if (classes[i] == name) return true;
        }
        return false;
    }
    else return false;
};

/**
 * @param {Number} index
 * @returns {String}
 */
XMLClassList.prototype.item = function (index) {
    var className = this.xmlNode.getAttribute('class');
    if (className) {
        var classes = className.trim().split(/\s+/);
        return classes[index];
    }
    else return undefined;
};


/**
 * @param {Array<String>} arguments
 */
XMLClassList.prototype.remove = function () {
    var dict = Array.prototype.reduce.call(arguments, function (ac, name) {
        ac[name] = true;
        return ac;
    }, {});

    var className = this.xmlNode.getAttribute('class');
    if (className) {
        var classes = className.trim().split(/\s+/);
        var newClasses = classes.filter(function (name) {
            dict[name];
        });
        this.xmlNode.setAttribute(newClasses.join(' '));
    }
};

/**
 * @param {Array<String>} arguments
 */
XMLClassList.prototype.add = function () {
    var className = this.xmlNode.getAttribute('class') || '';
    var classes = className.trim().split(/\s+/);
    var dict = classes.reduce(function (ac, name) {
        ac[name] = true;
        return ac;
    }, {});

    for (var i = 0; i < arguments.length; ++i) {
        var newClass = arguments[i].trim();
        if (newClass.length == 0) return;
        if (!dict[newClass]) {
            classes.push(newClass);
            dict[newClass] = true;
        }
    }

    this.xmlNode.setAttribute('class', classes.join(' '));
};


/* harmony default export */ var XML_XMLClassList = (XMLClassList);
// CONCATENATED MODULE: ./node_modules/absol/src/XML/XMLElement.js



function XMLElement() {
    this.nodeType = XML_XMLConstant.TYPE_ELEMENT;

    /**
     * @type {String}
     */
    this.tagName = '';
    /**
     * @type {XMLElement}
     */
    this.parentNode;
    this.attributes = {};
    /**
     * @type {Array} Array of  XMLElement or XMLText
     */
    this.childNodes = [];

    Object.defineProperty(this, 'classList', {
        value: new XML_XMLClassList(this),
        writable: false
    });
}

/**
 * @param {String} name attribute name
 */
XMLElement.prototype.getAttribute = function (name) {
    return this.attributes[name];
};

/**
 * @param {String} name attribute name
 * @param {String} value 
 */
XMLElement.prototype.setAttribute = function (name, value) {
    this.attributes[name] = value;
};

/**
 * @param {String} name attribute name
 */
XMLElement.prototype.removeAttribute = function (name) {
    delete this.attributes[name];
};

XMLElement.prototype.appendChild = function (node) {
    node.remove();
    this.childNodes.push(node);
    node.parentNode = this;
    return node;
};

/**
 * @param {XMLElement} child
 * @returns {XMLElement} removed node
 */
XMLElement.prototype.removeChild = function (child) {
    var result;
    if (this == child.parentNode) {
        var j = 0;
        for (var i = 0; i < this.childNodes.length; ++i) {
            if (child != this.childNodes[i]) {
                this.childNodes[j] = this.childNodes[i];
                ++j;
            }
            else {
                child.parentNode = undefined;
                result = child;
            }
        }
        while (j > this.childNodes.length) {
            this.childNodes.pop();
        }
    }
    return result;
};

/**
 * @param {XMLElement|XMLText|XMLDeclaretionNode} node
 */
XMLElement.prototype.inserBefore = function (node, child) {
    if (node == child) return;
    var childIndex = -1;
    for (var i = 0; i < this.childNodes.length; ++i) {
        if (this.childNodes[i] == child) {
            childIndex = i;
            break;
        }
    }
    if (childIndex < 0) return;
    node.remove();
    node.parentNode = this;
    this.childNodes.push(null);
    var cIndex = this.childNodes.length - 2;
    while (cIndex >= 0) {
        if (this.childNodes[cIndex] == child) {
            this.childNodes[cIndex + 1] = node;
        }
        else
            this.childNodes[cIndex + 1] = this.childNodes[cIndex];
    }
};



XMLElement.prototype.remove = function () {
    if (this.parentNode) {
        this.parentNode.removeChild(this);
    }
};

XMLElement.prototype.toObject = function () {
    return {
        nodeType: this.nodeType, tagName: this.tagName, attributes: Object.assign({}, this.attributes),
        childNodes: this.childNodes.map(function (child) {
            return child.toObject();
        })
    };
};



/* harmony default export */ var XML_XMLElement = (XMLElement);
// CONCATENATED MODULE: ./node_modules/absol/src/XML/XMLTextNode.js


function XMLTextNode(data) {
    this.nodeType = XML_XMLConstant.TYPE_TEXT;
    /**
     * @type {XMLNode}
     */
    this.parentNode;
    /**
     * @type {String}
     */
    this.data = data || '';
}


XMLTextNode.prototype.remove = function () {
    if (this.parentNode) {
        this.parentNode.removeChild(this);
    }
};


XMLTextNode.prototype.toObject = function () {
    return { nodeType: this.nodeType, data: this.data };
};


/* harmony default export */ var XML_XMLTextNode = (XMLTextNode);
// CONCATENATED MODULE: ./node_modules/absol/src/XML/XMLCommentNode.js


function XMLCommentNode(data) {
    this.nodeType = XML_XMLConstant.TYPE_COMMENT;
    /**
     * @type {XMLNode}
     */
    this.parentNode;
    /**
     * @type {String}
     */
    this.data = data || '';
}


XMLCommentNode.prototype.remove = function () {
    if (this.parentNode) {
        this.parentNode.removeChild(this);
    }
};


XMLCommentNode.prototype.toObject = function () {
    return { nodeType: this.nodeType, data: this.data };
};




/* harmony default export */ var XML_XMLCommentNode = (XMLCommentNode);
// CONCATENATED MODULE: ./node_modules/absol/src/XML/XML.js






/**
 * 
 * @param {RegExp} regex 
 */
function getRegexBody(regex) {
    return regex.toString().match(/^\/(.+)\/([gimuy]*)$/)[1];
}

var BEGIN_TAG = 1;
var END_TAG = 2;
var CDATA = 3;
var DECLARATION = 4;
var COMMENT = 5;
var TEXT = 6;



var identRgx = /[^\s\"\r\n\'\!\/=\>\<\]\[\?\+\.]+/;
var spaceRgx = /[\s\r\n]+/;
var stringRgx = /\"(([^\"\\]*|(\\.))*)\"/;
var textRgx = /[^\<\-]+/;
var doctypeOpenRgx = /\<\!DOCTYPE/;
var commentOpenRgx = /\<!\-\-/;
var commentCloseRgx = /\-\-\>/;
var cdataOpenRgx = /\<\!\[CDATA\[/;
var cdataCloseRgx = /\]\]\>/;
var openRgx = /\</;
var openEndTagRgx = /\<\//;
var closeRgx = /\>/;
var shortCloseRgx = /\/\>/;
var declarationOpenRgx = /\<\?/;
var declarationCloseRgx = /\?\>/;
var assignOpRgx = /=/;

var tokenRgxBody = '(' +
    [
        spaceRgx,
        doctypeOpenRgx,
        declarationOpenRgx,
        cdataOpenRgx,
        commentOpenRgx,
        openEndTagRgx,
        openRgx,
        assignOpRgx,
        stringRgx,
        commentCloseRgx,
        identRgx,
        declarationCloseRgx,
        shortCloseRgx,
        closeRgx,
        cdataCloseRgx,
        textRgx
    ].map(function (e) {
        return getRegexBody(e);
    }).join(')|(')
    + ')';

var tokenType = {
    space: spaceRgx,
    doctypeOpen: doctypeOpenRgx,
    declarationOpen: declarationOpenRgx,
    cdataOpen: cdataOpenRgx,
    commentOpen: commentOpenRgx,
    openEndTag: openEndTagRgx,
    open: openRgx,
    ident: identRgx,
    assignOp: assignOpRgx,
    string: stringRgx,
    commentClose: commentCloseRgx,
    declarationClose: declarationCloseRgx,
    shortClose: shortCloseRgx,
    close: closeRgx,
    cdataClose: cdataCloseRgx,
    text: textRgx
}


var tokenRgx = new RegExp(tokenRgxBody);

/**
 * 
 * @typedef {Object} Token
 * @property {String} text
 * @property {*} matched
 */

/**
 * 
 * @param {String} text 
 * @returns {Array<Token>}
 */
function xmlTokenize(text) {
    var texts = text.match(new RegExp(tokenRgxBody, 'g'));
    return text.match(new RegExp(tokenRgxBody, 'g'))
        .map(function (tokenText, i) {
            var result = { text: tokenText, matched: {} };

            for (var tType in tokenType) {
                var matched = tokenText.match(tokenType[tType]);
                if (matched) {
                    if (matched[0] == tokenText) result.matched[tType] = matched;
                }
            }
            return result;
        });
}




/**
 * @typedef {Object} XMLPaseInfo
 * @property {Array<Token>} tokens
 * @property {Number} type
 * @property {Number} start
 * @property {Number} end
 * @property {Error} error
 * @property {Boolean} closed
 * 
 * 
 * 
 * @typedef {Object} XMLParseNode 
 * @property {XMLPaseInfo} __xml__
 * @property {String} tagName
 * @property {*} attributes
 * @property {String} text
 */

/**
 * 
 * @param {Array<Token>} tokens 
 * @param {Number} i 
 * @returns {XMLParseNode}
 */
function matchAssign(tokens, i) {
    var result = { __xml__: { start: i } };
    var cToken;
    if (i < tokens.length) {
        cToken = tokens[i];
        if (cToken.matched['ident']) {
            result.key = cToken.text;
            ++i;
            if (i < tokens.length) {
                cToken = tokens[i];
                if (cToken.matched['space']) {
                    ++i;
                }
                if (i < tokens.length) {
                    cToken = tokens[i];
                    if (cToken.matched['assignOp']) {
                        ++i;
                        if (i < tokens.length) {
                            cToken = tokens[i];
                            if (cToken.matched['space']) {
                                ++i;
                            }
                            if (i < tokens.length) {
                                cToken = tokens[i];
                                if (cToken.matched['string']) {
                                    result.value = cToken.matched.string[1];
                                    ++i;
                                }
                                else {
                                    result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected string');
                                }
                            }
                            else {
                                result.__xml__.error = new Error('End of data found, expected ident');
                            }
                        }
                        else {
                            result.__xml__.error = new Error('End of data found, expected ident');
                        }

                    } else {
                        result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected =');
                    }
                }
                else {
                    result.__xml__.error = new Error('End of data found, expected =');
                }
            }
            else {
                result.__xml__.error = new Error('End of data found, expected =');
            }
        }
        else {
            result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected ident');
        }
    }
    else {
        result.__xml__.error = new Error('End of data found, expected ident');
    }

    result.__xml__.end = i;
    return result;
}



/**
 * 
 * @param {Array<Token>} tokens 
 * @param {Number} i 
 * @returns {XMLParseNode}
 */
function matchBeginTag(tokens, i) {
    var result = { __xml__: { type: BEGIN_TAG, start: i } };
    var cToken;
    if (i < tokens.length) {
        cToken = tokens[i];
        if (cToken.matched['open']) {
            ++i;
            if (i < tokens.length) {
                cToken = tokens[i];
                if (cToken.matched['ident']) {
                    result.tagName = cToken.text;
                    ++i;
                    if (i < tokens.length) {
                        var finished = false;//when find the close symbol
                        while (i < tokens.length) {
                            cToken = tokens[i];
                            if (cToken.matched['space']) {
                                ++i;
                            }//skip space between attributes
                            if (i < tokens.length) {
                                cToken = tokens[i];
                                if (cToken.matched['shortClose']) {
                                    result.__xml__.closed = true;
                                    ++i;
                                    finished = true;
                                    break;
                                }
                                else if (cToken.matched['close']) {
                                    result.__xml__.closed = false;
                                    ++i;
                                    finished = true;
                                    break;
                                }
                                else if (tokens[i - 1].matched['space']) {
                                    var assign = matchAssign(tokens, i);
                                    if (!assign.__xml__.error) {
                                        result.attributes = result.attributes || {};
                                        result.attributes[assign.key] = assign.value;
                                        i = assign.__xml__.end;
                                    }
                                    else if (cToken.matched['ident']) {
                                        result.attributes = result.attributes || {};
                                        result.attributes[cToken.text] = true;// a flag
                                        ++i;
                                    }
                                    else {
                                        //TODO: we can ignore some error here, the same with order Match* function
                                        result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected > or indent');
                                        break;
                                    }
                                }
                                else {
                                    //TODO: we can ignore some error here
                                    result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected > or indent');
                                    break;
                                }
                            }
                            else {
                                result.__xml__.error = new Error('End of data found, expected /> or >');
                                break;
                            }
                        }
                        if (!finished && !result.__xml__.error) {
                            result.__xml__.error = new Error('End of data found, expected /> or >');
                        }
                    }
                    else {
                        result.__xml__.error = new Error('End of data found, expected /> or >');
                    }
                }
                else {
                    result.__xml__.error = new Error('Expected indent');
                }
            }
            else {
                result.__xml__.error = new Error('End of data found, expected indent');
            }
            result.__xml__.end = i;
        }
        else {
            result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected <');
        }
    }
    else {
        result.__xml__.error = new Error('End of data found, expected <');
    }
    result.__xml__.end = i;
    return result;
}


/**
 * 
 * @param {Array<Token>} tokens 
 * @param {Number} i 
 * @returns {XMLParseNode}
 */
function matchEndTag(tokens, i) {
    var result = { __xml__: { type: END_TAG, closed: true, start: i } };
    var cToken;
    if (i < tokens.length) {
        cToken = tokens[i];
        if (cToken.matched['openEndTag']) {
            ++i;
            if (i < tokens.length) {
                cToken = tokens[i];
                if (cToken.matched['ident']) {
                    result.tagName = cToken.text;
                    ++i;
                    if (i < tokens.length) {
                        var finished = false;//when find the close symbol
                        while (i < tokens.length) {
                            cToken = tokens[i];
                            if (cToken.matched['space']) {
                                ++i;
                            }//skip space between attributes
                            if (i < tokens.length) {
                                cToken = tokens[i];
                                if (cToken.matched['close']) {

                                    ++i;
                                    finished = true;
                                    break;
                                }
                                else if (tokens[i - 1].matched['space']) {
                                    var assign = matchAssign(tokens, i);
                                    if (!assign.__xml__.error) {
                                        result.attributes = result.attributes || {};
                                        result.attributes[assign.key] = assign.value;
                                        i = assign.__xml__.end;
                                    }
                                    else if (cToken.matched['ident']) {
                                        result.attributes = result.attributes || {};
                                        result.attributes[cToken.text] = true;// a flag
                                        ++i;
                                    }
                                    else {
                                        result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected > or indent');

                                    }
                                }
                                else {
                                    result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected > or indent');
                                }
                            }
                            else {
                                result.__xml__.error = new Error('End of data found, expected /> or >');
                            }
                        }
                        if (!finished && !result.__xml__.error) {
                            result.__xml__.error = new Error('End of data found, expected /> or >');
                        }
                    }
                    else {
                        result.__xml__.error = new Error('End of data found, expected /> or >');
                    }
                }
                else {
                    result.__xml__.error = new Error('Expected indent');
                }
            }
            else {
                result.__xml__.error = new Error('End of data found, expected indent');
            }
            result.__xml__.end = i;
        }
        else {
            result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected <');
        }
    }
    else {
        result.__xml__.error = new Error('End of data found, expected <');
    }
    result.__xml__.end = i;
    return result;
}

/**
 * 
 * @param {Array<Token>} tokens 
 * @param {Number} i 
 * @returns {XMLParseNode}
 */
function matchDeclaration(tokens, i) {
    var result = { __xml__: { type: DECLARATION, start: i } };
    var cToken;
    if (i < tokens.length) {
        cToken = tokens[i];
        if (cToken.matched['declarationOpen']) {
            ++i;
            if (i < tokens.length) {
                cToken = tokens[i];
                if (cToken.matched['ident']) {
                    result.tagName = cToken.text;
                    ++i;
                    if (i < tokens.length) {
                        var finished = false;//when find the close symbol
                        while (i < tokens.length) {
                            cToken = tokens[i];
                            if (cToken.matched['space']) {
                                ++i;
                            }//skip space between attributes
                            if (i < tokens.length) {
                                cToken = tokens[i];
                                if (cToken.matched['declarationClose']) {
                                    result.__xml__.closed = false;
                                    ++i;
                                    finished = true;
                                    break;
                                }
                                else if (tokens[i - 1].matched['space']) {
                                    var assign = matchAssign(tokens, i);
                                    if (!assign.__xml__.error) {
                                        result.attributes = result.attributes || {};
                                        result.attributes[assign.key] = assign.value;
                                        i = assign.__xml__.end;
                                    }
                                    else if (cToken.matched['ident']) {
                                        result.attributes = result.attributes || {};
                                        result.attributes[cToken.text] = true;// a flag
                                        ++i;
                                    }
                                    else {
                                        result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected > or indent');

                                    }
                                }
                                else {
                                    result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected > or indent');
                                }
                            }
                            else {
                                result.__xml__.error = new Error('End of data found, expected /> or >');
                            }
                        }
                        if (!finished && !result.__xml__.error) {
                            result.__xml__.error = new Error('End of data found, expected /> or >');
                        }
                    }
                    else {
                        result.__xml__.error = new Error('End of data found, expected /> or >');
                    }
                }
                else {
                    result.__xml__.error = new Error('Expected indent');
                }
            }
            else {
                result.__xml__.error = new Error('End of data found, expected indent');
            }
            result.__xml__.end = i;
        }
        else {
            result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected <');
        }
    }
    else {
        result.__xml__.error = new Error('End of data found, expected <');
    }
    result.__xml__.end = i;
    return result;
}



/**
 * 
 * @param {Array<Token>} tokens 
 * @param {Number} i 
 * @returns {XMLParseNode}
 */
function matchCData(tokens, i) {
    var result = { __xml__: { type: CDATA, start: i } };
    var cToken;
    if (i < tokens.length) {
        cToken = tokens[i];
        if (cToken.matched['cdataOpen']) {
            ++i;
            result.text = '';
            var finished = false;
            while (i < tokens.length) {
                cToken = tokens[i];

                if (cToken.matched['cdataClose']) {
                    finished = true;
                    ++i;
                    break;
                }
                else {
                    result.text += cToken.text;
                    ++i;
                }
            }
            if (!finished) {
                result.__xml__.error = new Error('End of data found, expected ]]>');
            }
        }
        else {
            result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected <![CDATA[');
        }
    }
    else {
        result.__xml__.error = new Error('End of data found, expected <![CDATA[');
    }
    result.__xml__.end = i
    return result;
}



/**
 * 
 * @param {Array<Token>} tokens 
 * @param {Number} i 
 * @returns {XMLParseNode}
 */
function matchComment(tokens, i) {
    var result = { __xml__: { type: COMMENT, start: i } };
    var cToken;
    if (i < tokens.length) {
        cToken = tokens[i];
        if (cToken.matched['commentOpen']) {
            ++i;
            result.text = '';
            var finished = false;
            while (i < tokens.length) {
                cToken = tokens[i];

                if (cToken.matched['commentClose']) {
                    finished = true;
                    ++i;
                    break;
                }
                else {
                    result.text += cToken.text;
                    ++i;
                }
            }
            if (!finished) {
                result.__xml__.error = new Error('End of data found, expected -->');
            }
        }
        else {
            result.__xml__.error = new Error('"' + cToken.text + '"' + 'found, expected <!--');
        }
    }
    else {
        result.__xml__.error = new Error('End of data found, expected <!--');
    }
    result.__xml__.end = i;
    return result;
}

/**
 * 
 * @param {Token} tokens 
 */
function parseXMLTab(tokens) {
    var tabs = [];
    var i = 0;
    while (i < tokens.length) {
        var comment = matchComment(tokens, i);
        if (!comment.__xml__.error) {
            tabs.push(comment);
            i = comment.__xml__.end;
        }
        else {
            var declaration = matchDeclaration(tokens, i);
            if (!declaration.__xml__.error) {
                tabs.push(declaration);
                i = declaration.__xml__.end;
            }
            else {
                var begin = matchBeginTag(tokens, i);
                if (!begin.__xml__.error) {
                    tabs.push(begin);
                    i = begin.__xml__.end;
                }
                else {
                    var end = matchEndTag(tokens, i);
                    if (!end.__xml__.error) {
                        tabs.push(end);
                        i = end.__xml__.end;
                    }
                    else {
                        var cdata = matchCData(tokens, i);
                        if (!cdata.__xml__.error) {
                            tabs.push(cdata);
                            i = cdata.__xml__.end;
                        }
                        else {
                            ++i;//skip
                        }
                    }
                }
            }
        }
    }
    return tabs;
}



/**
 * 
 * @param {Array<Token>} tokens 
 * @param {Array<XMLParseNode>} tabs 
 * @returns {Array<XMLParseNode>}
 */
function parseXMLText(tokens, tabs) {
    var texts = [];
    var ofs = 0;
    var text;
    var tab;
    for (var i = 0; i < tabs.length; ++i) {
        tab = tabs[i];
        if (tab.__xml__.start > ofs) {
            text = tokens.slice(ofs, tab.__xml__.start)
                .map(function (token) {
                    return token.text;
                }).join('').trim();
            if (text.length > 0)
                texts.push({
                    __xml__: {
                        type: TEXT,
                        tokens: tokens,
                        start: ofs,
                        end: tab.__xml__.start
                    },
                    text: text
                });
        }
        ofs = tab.__xml__.end;
    }
    if (ofs < tokens.length) {
        text = tokens.slice(ofs)
            .map(function (token) {
                return token.text;
            }).join('').trim();
        if (text.length > 0)
            texts.push({
                __xml__: {
                    type: TEXT,
                    tokens: tokens,
                    start: ofs,
                    end: tab.__xml__.start
                },
                text: text
            });
    }
    return texts;
}


/**
 * 
 * @param {Array<XMLParseNode>} tabs 
 * @param {Array<XMLParseNode>} texts 
 * @return {Array<XMLParseNode>}  
 */
function mergeNodes(tabs, texts) {
    var nodes = [];
    var choose;
    var iTabs = 0, iTexts = 0;
    var diTabs, diTexts;
    var minStart;
    do {
        choose = undefined;
        diTabs = 0, diTexts = 0;
        minStart = 100000000;
        if (iTabs < tabs.length) {
            choose = tabs[iTabs];
            minStart = choose.__xml__.start;
            diTabs = 1;
        }

        if (iTexts < texts.length && texts[iTexts].__xml__.start < minStart) {
            choose = texts[iTexts];
            minStart = choose.__xml__.start;
            diTabs = 0;
            diTexts = 1;
        }
        if (choose) {
            iTexts += diTexts;
            iTabs += diTabs;
            nodes.push(choose);
        }
    } while (choose);
    return nodes;
}

/**
 * 
 * @param {String} text 
 * @return {Array<XMLParseNode>} 
 */
function parseXMLTextToXMLParseNode(text) {
    text = text.trim();
    var tokens = xmlTokenize(text.trim());

    var tabs = parseXMLTab(tokens);
    var texts = parseXMLText(tokens, tabs);
    return mergeNodes(tabs, texts);
}


/**
 * 
 * @param {Array<XMLParseNode>} nodes
 * @returns {Array}
 */
function paresNodesToXMLs(nodes) {
    var node;
    var parentXMLElement = new XML_XMLElement();
    parentXMLElement.tagName = "FAKE_DOCUMENT";

    var assignAttributes = function (node, attributes) {
        Object.keys(attributes).forEach(function (key) {
            node.setAttribute(key, attributes[key]);
        })
    }

    var newXMLNode;
    for (var i = 0; i < nodes.length; ++i) {
        node = nodes[i];
        newXMLNode = undefined;
        switch (node.__xml__.type) {
            case DECLARATION:
                newXMLNode = new XMLDeclarationNode();
                newXMLNode.tagName = node.tagName;
                if (node.attributes)
                    assignAttributes(newXMLNode, node.attributes);

                parentXMLElement.appendChild(newXMLNode);
                break;
            case BEGIN_TAG:
                newXMLNode = new XML_XMLElement();
                newXMLNode.tagName = node.tagName;
                if (node.attributes)
                    assignAttributes(newXMLNode, node.attributes);
                parentXMLElement.appendChild(newXMLNode);
                if (!node.__xml__.closed)
                    parentXMLElement = newXMLNode;
                break;
            case END_TAG:
                if (parentXMLElement && node.tagName == parentXMLElement.tagName) {
                    parentXMLElement = parentXMLElement.parentNode;
                }
                else if (parentXMLElement && (parentXMLElement.tagName == 'img' || parentXMLElement.tagName == 'input')) {
                    // image can be not close
                    while (parentXMLElement.tagName == 'img' || parentXMLElement.tagName == 'input') {
                        parentXMLElement = parentXMLElement.parentNode;
                    }

                    parentXMLElement = parentXMLElement.parentNode;
                }

                else {
                    throw new Error("Unknown close of tagName " + node.tagName
                        + ', but ' + (parentXMLElement ? parentXMLElement.tagName : "EOF") + ' expected');

                }
                break;
            case TEXT:
                newXMLNode = new XML_XMLTextNode(node.text);
                parentXMLElement.appendChild(newXMLNode);
                break;
            case COMMENT:
                newXMLNode = new XML_XMLCommentNode(node.text);
                parentXMLElement.appendChild(newXMLNode);
                break;
        }

    }
    return parentXMLElement.childNodes.slice().map(function (e) {
        e.remove();
        return e;
    });
}


/**
 * 
 * @param {XMLElement} node 
 */
function makeOpenXMLElementTab(node) {
    var res = '<' + node.tagName;
    var attributesText = Object.keys(node.attributes)
        .map(function (key) {
            var value = node.attributes[key];
            if (value === null) {
                return key;
            }
            else {
                return key + '=' + '"' + value + '"';
            }

        }).join(' ');
    if (attributesText.length > 0) {
        res += ' ' + attributesText;
    }
    res += '>';
    return res;
}

/**
 * 
 * @param {XMLDeclaretionNode} node 
 */
function makeXMLDeclaretionTab(node) {
    var res = '<?' + node.tagName;
    var attributesText = Object.keys(node.attributes)
        .map(function (key) {
            var value = node.attributes[key];
            if (value === null) {
                return key;
            }
            else {
                return key + '=' + '"' + value + '"';
            }

        }).join(' ');
    if (attributesText.length > 0) {
        res += ' ' + attributesText;
    }
    res += '?>';
    return res;
}


/**
 * 
 * @param {XMLDeclaretionNode} node 
 */
function makeXMLCommentTab(node) {
    var res = '<!--' + node.data + '-->';
    return res;
}

var XML = {};

/**
 * @param {String} code
 * @returns {Array<XMLElement>}
 */
XML.parseLikeHTML = function (code) {
    var nodes = parseXMLTextToXMLParseNode(code);
    // console.log('nodes', nodes);
    var xmls = paresNodesToXMLs(nodes);
    return xmls;
};

/**
 * @param {String} code
 * @returns {XMLElement}
 */
XML.parse = function (code) {
    var xmls = this.parseLikeHTML(code);
    if (xmls.length == 0) return undefined;
    var obj = xmls[xmls.length - 1].toObject();
    return obj;
};


XML.DFNodeVisit = function (node, handlers, accumulator) {
    if (!node.childNodes || node.childNodes.length == 0) {
        if (handlers.leaf) handlers.leaf(accumulator, node);
    }
    else {
        if (handlers.open) handlers.open(accumulator, node);
        for (var i = 0; i < node.childNodes.length; ++i) {
            this.DFNodeVisit(node.childNodes[i], handlers, accumulator);
        }
        if (handlers.close) handlers.close(accumulator, node);
        return accumulator;
    }
};


/**
 * @typedef {Object} XMLBeautifyOption
 * @property {String} indent
 * @property {Number} initDepth 
 */

/**
 * @param {Array<XMLElement>} o 
 * @param {XMLBeautifyOption} beautifyOption 
 * 
 * 
 */
XML.stringify = function (o, beautifyOption) {
    var texts = [];
    var indent = '';
    var lineBreak = '';
    var depth = 0;
    if (beautifyOption) {
        lineBreak = '\n';
        indent = typeof (beautifyOption.indent) == 'string' ? beautifyOption.indent : '    ';
        depth = beautifyOption.initDepth || 0;
    }

    if (!(o instanceof Array)) {
        o = [o];
    }
    var visitor = {
        open: function (ac, node) {
            var currentLineIndent = ac.lineIndentStack[ac.lineIndentStack.length - 1];

            var openTabText = makeOpenXMLElementTab(node);
            ac.texts.push(currentLineIndent + openTabText);
            ac.lineIndentStack.push(currentLineIndent + ac.indent);
        },
        close: function (ac, node) {
            ac.lineIndentStack.pop();
            var currentLineIndent = ac.lineIndentStack[ac.lineIndentStack.length - 1];
            var endTab = '</' + node.tagName + '>';
            if (node.childNodes.length == 1 && node.childNodes[0].nodeType == XML_XMLConstant.TYPE_TEXT) {
                ac.texts[ac.texts.length - 1] += endTab;
            }
            else {
                ac.texts.push(currentLineIndent + endTab);
            }

        },
        leaf: function (ac, node) {
            var currentLineIndent = ac.lineIndentStack[ac.lineIndentStack.length - 1];
            var tab;
            if (node.nodeType == XML_XMLConstant.TYPE_TEXT) {
                if (node.parentNode && node.parentNode.childNodes.length == 1) {
                    ac.texts[ac.texts.length - 1] += node.data;
                }
                else {
                    ac.texts.push(currentLineIndent + node.data);
                }
            }
            else if (node.nodeType == XML_XMLConstant.TYPE_ELEMENT) {
                var openTabText = makeOpenXMLElementTab(node);
                var endTab = '</' + node.tagName + '>';
                ac.texts.push(currentLineIndent + openTabText + endTab);
            }
            else if (node.nodeType == XML_XMLConstant.TYPE_DECLARATION) {
                tab = makeXMLDeclaretionTab(node);
                ac.texts.push(currentLineIndent + tab);
            }
            else if (node.nodeType == XML_XMLConstant.TYPE_COMMENT) {
                tab = makeXMLCommentTab(node);
                ac.texts.push(currentLineIndent + tab);
            }
        }
    };

    for (var i = 0; i < o.length; ++i) {
        this.DFNodeVisit(o[i],
            visitor,
            {
                depth: 0,
                texts: texts,
                lineIndentStack: [''],
                indent: indent
            });
    }
    return texts.join(lineBreak);
};



/* harmony default export */ var XML_XML = (XML);


// CONCATENATED MODULE: ./node_modules/absol/src/JSMaker/TemplateXML.js





function TemplateXML(props) {
    this.xml = props.xml;
}


TemplateXML.prototype._xmlNodeToJSCode = function (node) {
    var body = [];
    if (node.nodeType == XML_XMLConstant.TYPE_ELEMENT) {
        body.push('tag:' + JSON.stringify(node.tagName));
        var attributeKeys = Object.keys(node.attributes).filter(function (x) { return x != 'class' && x != 'style' && !x.startsWith('az-') });
        if (attributeKeys && attributeKeys.length > 0) {
            body.push('attr: {' + attributeKeys.map(function (key) {
                return JSON.stringify(key) + ': ' + TemplateString["a" /* default */].parse(node.attributes[key]).toJSCode();
            }).join(', ') + '}');
        }

        if (node.attributes['az-props']) {
            body.push('props: ' + TemplateString["a" /* default */].parse(node.attributes['az-props']).toJSCode() );
        }
        if (node.attributes['az-data']) {
            body.push('data: ' + TemplateString["a" /* default */].parse(node.attributes['az-data']).toJSCode() );
        }

        if (node.attributes.style) {
            var styleSheet = node.attributes.style.split(';').map(function (s) {
                var t = s.split(':').map(function (text) { return text.trim() });
                if (t.length == 2) {
                    return JSON.stringify(t[0]) + ': ' + JSON.stringify(t[1]);
                }
                else return false;

            }).filter(function (e) {
                return !!e;
            });
       
            if (styleSheet.length > 0) {
                body.push('style:{' + styleSheet.join(',') + '}');
            }
        }

        if (node.attributes.class) {
            var classList = node.attributes.class.trim().split(/\s+/);
            if (classList.length > 0)
                body.push('class:' + JSON.stringify(classList));
        }

        if (node.childNodes && node.childNodes.length > 0) {
            var childList = '[' + node.childNodes.filter(function (e) {
                return e.nodeType == XML_XMLConstant.TYPE_ELEMENT || e.nodeType == XML_XMLConstant.TYPE_TEXT;
            }).map(function (e) {
                return this._xmlNodeToJSCode(e);
            }.bind(this)).filter(function (e) { return !!e; }).join(', ') + ']';
            if (childList && childList.length > 0)
                body.push('child: ' + childList);
        }
    }
    else if (node.nodeType == XML_XMLConstant.TYPE_TEXT) {
        body.push('text: ' + TemplateString["a" /* default */].parse(node.data).toJSCode());
    }
    else return undefined;

    var res = '{' + body.join(', ') + '}';
    return res;
};

TemplateXML.prototype.toJSCode = function () {
    var res = this._xmlNodeToJSCode(this.xml);
    return res;
};

/**
 * 
 * @param  {...any} args 
 * @returns {Function}
 */
TemplateXML.compileToFunction = function () {
    var innerCode = 'return ' + this.parse(arguments[arguments.length - 1]).toJSCode() + ';';
    var fParam = Array.prototype.slice.call(arguments, 0, arguments.length - 1);
    fParam.push(innerCode);
    return Function.apply(null, fParam);
};



TemplateXML.parse = function (text) {
    var xml = XML_XML.parse(text);
    if (xml) {
        return new TemplateXML({
            xml: xml
        });
    }
    else
        return undefined;
};

/* harmony default export */ var JSMaker_TemplateXML = (TemplateXML);
// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/Dom.js + 1 modules
var HTML5_Dom = __webpack_require__(2);

// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/Svg.js
var Svg = __webpack_require__(9);

// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/OOP.js
var OOP = __webpack_require__(6);

// CONCATENATED MODULE: ./node_modules/absol/src/Color/Color.js


function Color(rgba) {
    this.rgba = rgba.slice();
}


Color.prototype.toHex6 = function () {
    return this.rgba.slice(0, 3).map(function (b) {
        b = b * 255 >> 0;
        return (b < 16 ? '0' : '') + b.toString(16);
    }).join('');
};

Color.prototype.toHex8 = function () {
    return this.rgba.map(function (b) {
        b = b * 255 >> 0;
        return (b < 16 ? '0' : '') + b.toString(16);
    }).join('');
};

Color.prototype.toHex3 = function () {
    return this.rgba.slice(0, 3).map(function (b) {
        b = b * 255 / 17 >> 0;
        return b.toString(16);
    }).join('');
};

Color.prototype.toHex4 = function () {
    return this.rgba.map(function (b) {
        b = b * 255 / 17 >> 0;
        return b.toString(16);
    }).join('');
};


Color.prototype.toHSLA = function () {
    return Color.rgbaToHSLA(this.rgba);
};


Color.prototype.toHSBA = function () {
    return Color.rgbaToHSBA(this.rgba);
};

Color.prototype.toHWBA = function () {
    return Color.rgbaToHWBA(this.rgba);
};


Color.prototype.getHightContrastColor = function () {
    var hsba = this.toHSBA();
    var h, s, b;
    h = hsba[0] > 0.5 ? hsba[0] - 0.5 : hsba[0] + 0.5;
    s = hsba[1] > 0.5 ? hsba[1] - 0.5 : hsba[1] + 0.5;
    b = hsba[2] > 0.5 ? hsba[2] - 0.5 : hsba[2] + 0.5;
    return Color.fromHSB(h, s, b);
};


Color.prototype.getContrastYIQ = function () {
    var r = this.rgba[0] * 255;
    var g = this.rgba[1] * 255;
    var b = this.rgba[2] * 255;
    var yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;
    return (yiq >= 128) ? new Color([0, 0, 0, 1]) : new Color([1, 1, 1, 1]);
};

Color.prototype.clone = function () {
    return new Color(this.rgba.slice());
};

Color.prototype.toString = function (mode) {
    mode = mode || 'rgba';
    mode = mode.toLocaleLowerCase();
    return Color.templates[mode](this);
};

/***
 *
 */
Color.prototype.nearestNamedColor = function (notStandard, hsbWeight) {
    hsbWeight = hsbWeight ||[5, 3, 1]
    var hsba = this.toHSBA();
    var bestMatch = null;
    var dist = 1000;
    Object.keys(Color.namedColors).concat(notStandard ? Object.keys(Color.nonStandarNamedColors) : []).forEach(function (name) {
        var c = Color.parse(Color.namedColors[name] || Color.nonStandarNamedColors[name]);
        var cHSBA = c.toHSBA();
        var cDist = Math.abs(hsba[0] - cHSBA[0]) * hsbWeight[0] + Math.abs(hsba[1] - cHSBA[1]) *  hsbWeight[1] + Math.abs(hsba[2] - cHSBA[2])*  hsbWeight[2];
        if (cDist < dist) {
            dist = cDist;
            bestMatch = name;
        }
    });
    return bestMatch;
};

Color.templates = [
    ['rgba', 'rgba', 'rgba({{x[0]*255>>0}}, {{x[1]*255>>0}}, {{x[2]*255>>0}}, {{x[3]}})'],
    ['rgb', 'rgba', 'rgb({{x[0]*255>>0}}, {{x[1]*255>>0}}, {{x[2]*255>>0}})'],
    ['hsl', 'toHSLA()', 'hsl({{x[0] * 360}}, {{x[1] * 100}}%, {{x[2] * 100}}%)'],
    ['hsla', 'toHSLA()', 'hsla({{x[0] * 360}}, {{x[1] * 100}}%, {{x[2] * 100}}%, {{x[3]}})'],
    ['hsb', 'toHSBA()', 'hsb({{x[0] * 360}}, {{x[1] * 100}}%, {{x[2] * 100}}%)'],
    ['hsba', 'toHSBA()', 'hsba({{x[0] * 360}}, {{x[1] * 100}}%, {{x[2] * 100}}%, {{x[3]}})'],
    ['hex3', 'toHex3()', '#{{x}}'],
    ['hex4', 'toHex4()', '#{{x}}'],
    ['hex6', 'toHex6()', '#{{x}}'],
    ['hex8', 'toHex8()', '#{{x}}'],
    ['hwb', 'toHWBA()', 'hwb({{x[0] * 360}}, {{x[1] * 100}}%, {{x[2] * 100}}%)'],
    ['hwba', 'toHWBA()', 'hwba({{x[0] * 360}}, {{x[1] * 100}}%, {{x[2] * 100}}%, {{x[3]}})']
].reduce(function (ac, cr) {
    ac[cr[0]] = new Function('color', [
        'var x = color.' + cr[1] + ';',
        'return ' + TemplateString["a" /* default */].parse(cr[2]).toJSCode() + ';'
    ].join('\n'));
    return ac;
}, {});


Color.regexes = {
    whiteSpace: /\s*/, // Match zero or more whitespace characters.
    integer: /(\d{1,3})/, // Match integers: 79, 255, etc.
    decimal: /((?:\d+(?:\.\d+)?)|(?:\.\d+))/, // Match 129.6, 79, .9, etc.
    percent: /((?:\d+(?:\.\d+)?)|(?:\.\d+))%/, // Match 12.9%, 79%, .9%, etc.
    hex3: /^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,

    // Match colors in format #XXXX, e.g. #5123.
    hex4: /^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,

    // Match colors in format #XXXXXX, e.g. #b4d455.
    hex6: /^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,

    // Match colors in format #XXXXXXXX, e.g. #b4d45535.
    hex8: /^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i
};


Color.regexes.percent = new RegExp(Color.regexes.decimal.source + '%');

Color.regexes.rgb = new RegExp(
    [
        '^rgb\\(',
        Color.regexes.integer.source,
        ',',
        Color.regexes.integer.source,
        ',',
        Color.regexes.integer.source,
        '\\)$'
    ].join(Color.regexes.whiteSpace.source),
    'i'
);

Color.regexes.rgbPercent = new RegExp(
    [
        '^rgb\\(',
        Color.regexes.percent.source,
        ',',
        Color.regexes.percent.source,
        ',',
        Color.regexes.percent.source,
        '\\)$'
    ].join(Color.regexes.whiteSpace.source),
    'i'
);

// Match colors in format rgb(R, G, B, A), e.g. rgb(255, 0, 128, 0.25).
Color.regexes.rgba = new RegExp(
    [
        '^rgba\\(',
        Color.regexes.integer.source,
        ',',
        Color.regexes.integer.source,
        ',',
        Color.regexes.integer.source,
        ',',
        Color.regexes.decimal.source,
        '\\)$'
    ].join(Color.regexes.whiteSpace.source),
    'i'
);

// Match colors in format rgb(R%, G%, B%, A), e.g. rgb(100%, 0%, 28.9%, 0.5).
Color.regexes.rgbaPercent = new RegExp(
    [
        '^rgba\\(',
        Color.regexes.percent.source,
        ',',
        Color.regexes.percent.source,
        ',',
        Color.regexes.percent.source,
        ',',
        Color.regexes.decimal.source,
        '\\)$'
    ].join(Color.regexes.whiteSpace.source),
    'i'
);
// Match colors in format hsla(H, S%, L%), e.g. hsl(100, 40%, 28.9%).
Color.regexes.hsl = new RegExp(
    [
        '^hsl\\(',
        Color.regexes.integer.source,
        '[deg]*',
        ',',
        Color.regexes.percent.source,
        ',',
        Color.regexes.percent.source,
        '\\)$'
    ].join(Color.regexes.whiteSpace.source),
    'i'
);

// Match colors in format hsla(H, S%, L%, A), e.g. hsla(100, 40%, 28.9%, 0.5).
Color.regexes.hsla = new RegExp(
    [
        '^hsla\\(',
        Color.regexes.integer.source,
        '[deg]*',
        ',',
        Color.regexes.percent.source,
        ',',
        Color.regexes.percent.source,
        ',',
        Color.regexes.decimal.source,
        '\\)$'
    ].join(Color.regexes.whiteSpace.source),
    'i'
);

// Match colors in format hsb(H, S%, B%), e.g. hsb(100, 40%, 28.9%).
Color.regexes.hsb = new RegExp(
    [
        '^hsb\\(',
        Color.regexes.integer.source,
        '[deg]*',
        ',',
        Color.regexes.percent.source,
        ',',
        Color.regexes.percent.source,
        '\\)$'
    ].join(Color.regexes.whiteSpace.source),
    'i'
);

// Match colors in format hsba(H, S%, B%, A), e.g. hsba(100, 40%, 28.9%, 0.5).
Color.regexes.hsba = new RegExp(
    [
        '^hsba\\(',
        Color.regexes.integer.source,
        '[deg]*',
        ',',
        Color.regexes.percent.source,
        ',',
        Color.regexes.percent.source,
        ',',
        Color.regexes.decimal.source,
        '\\)$'
    ].join(Color.regexes.whiteSpace.source),
    'i'
);

Color.regexes.hwb = new RegExp(
    [
        '^hwb\\(',
        Color.regexes.integer.source,
        '[deg]*',
        ',',
        Color.regexes.percent.source,
        ',',
        Color.regexes.percent.source,
        '\\)$'
    ].join(Color.regexes.whiteSpace.source),
    'i'
);

// Match colors in format hsba(H, S%, B%, A), e.g. hsba(100, 40%, 28.9%, 0.5).
Color.regexes.hwba = new RegExp(
    [
        '^hwba\\(',
        Color.regexes.integer.source,
        '[deg]*',
        ',',
        Color.regexes.percent.source,
        ',',
        Color.regexes.percent.source,
        ',',
        Color.regexes.decimal.source,
        '\\)$'
    ].join(Color.regexes.whiteSpace.source),
    'i'
);


Color.fromInt = function (code, bits) {
    var r, g, b, a;
    if (bits == 32) {
        b = (code & 0xff) / 255;
        g = ((code & 0xff00) >> 8) / 255;
        r = ((code & 0xff0000) >> 16) / 255;
        a = (code >> 24) / 255;
    }
    else if (bits == 24) {
        b = (code & 0xff) / 255;
        g = ((code & 0xff00) >> 8) / 255;
        r = ((code & 0xff0000) >> 16) / 255;
        a = 1;
    }
    else if (bits == 16) {
        b = (code & 0x1f) / 0x1f;
        g = ((code & 0x7e0) >> 5) / 0x3f;
        b = (code >> 10) / 0x1f;
        a = 1;
    }
    else if (bits == 8) {//gray-scale
        b = (code & 0x3) / 0x3;
        g = ((code & 0x1c) >> 2) / 0x7;
        b = (code >> 5) / 0x7;
        a = 1;
    }

    return new Color([r, g, b, a]);
};


Color.fromRGB = function (r, g, b) {
    return new Color([r, g, b, 1]);
};

Color.fromRGBA = function (r, g, b, a) {
    return new Color([r, g, b, a]);
};

Color.fromHSL = function (h, s, l) {
    var rgba = this.hslaToRGBA([h, s, l, 1]);
    return new Color(rgba);
};

Color.fromHSLA = function (h, s, l, a) {
    var rgba = this.hslaToRGBA([h, s, l, a]);
    return new Color(rgba);
};

Color.fromHSB = function (h, s, b) {
    var rgba = this.hsbaToRGBA([h, s, b, 1]);
    return new Color(rgba);
};

Color.fromHSBA = function (h, s, b, a) {
    var rgba = this.hsbaToRGBA([h, s, b, a]);
    return new Color(rgba);
};

Color.fromHWB = function (h, s, b) {
    var rgba = this.hwbaToRGBA([h, s, b, 1]);
    return new Color(rgba);
};

Color.fromHWBA = function (h, s, b, a) {
    var rgba = this.hwbaToRGBA([h, s, b, a]);
    return new Color(rgba);
};


/**
 * @param {String} text
 * @returns {Color}
 */
Color.parse = function (text) {
    if (this.namedColors[text]) text = this.namedColors[text];
    if (this.nonStandarNamedColors[text]) text = this.nonStandarNamedColors[text];
    if (this.regexes.hex8.test(text)) {
        return this.fromRGBA.apply(this,
            this.regexes.hex8.exec(text)
                .slice(1)
                .map(function (v) {
                    return parseInt(v, 16) / 255;
                }));
    }
    else if (this.regexes.hex6.test(text)) {
        return this.fromRGB.apply(this,
            this.regexes.hex6.exec(text)
                .slice(1)
                .map(function (v) {
                    return parseInt(v, 16) / 255;
                }));
    }
    else if (this.regexes.hex4.test(text)) {
        return this.fromRGBA.apply(this,
            this.regexes.hex4.exec(text)
                .slice(1)
                .map(function (v) {
                    return parseInt(v + v, 16) / 255;
                }));
    }
    else if (this.regexes.hex3.test(text)) {
        return this.fromRGB.apply(this,
            this.regexes.hex3.exec(text)
                .slice(1)
                .map(function (v) {
                    return parseInt(v + v, 16) / 255;
                }));
    }
    else if (this.regexes.rgba.test(text)) {
        return this.fromRGBA.apply(this,
            this.regexes.rgba.exec(text)
                .slice(1)
                .map(function (v, i) {
                    return i < 3 ? parseFloat(v, 10) / 255 : parseFloat(v, 10);
                }));
    }
    else if (this.regexes.rgb.test(text)) {
        return this.fromRGB.apply(this,
            this.regexes.rgb.exec(text)
                .slice(1)
                .map(function (v, i) {
                    return parseFloat(v, 10) / 255;
                }));
    }
    else if (this.regexes.rgbPercent.test(text)) {
        return this.fromRGB.apply(this,
            this.regexes.rgbPercent.exec(text)
                .slice(1)
                .map(function (v, i) {
                    return parseFloat(v, 10) / 100;
                }));
    }
    else if (this.regexes.rgbaPercent.test(text)) {
        return this.fromRGBA.apply(this,
            this.regexes.rgbaPercent.exec(text)
                .slice(1)
                .map(function (v, i) {
                    return parseFloat(v, 10) / (i < 3 ? 100 : 1);
                }));
    }
    else if (this.regexes.hsl.test(text)) {
        return this.fromHSL.apply(this,
            this.regexes.hsl.exec(text)
                .slice(1)
                .map(function (v, i) {
                    return parseFloat(v, 10) / (i == 0 ? 360 : 100);
                }));
    }
    else if (this.regexes.hsla.test(text)) {
        return this.fromHSLA.apply(this,
            this.regexes.hsla.exec(text)
                .slice(1)
                .map(function (v, i) {
                    return parseFloat(v, 10) / (i == 0 ? 360 : i < 3 ? 100 : 1);
                }));
    }
    else if (this.regexes.hsb.test(text)) {
        return this.fromHSB.apply(this,
            this.regexes.hsb.exec(text)
                .slice(1)
                .map(function (v, i) {
                    return parseFloat(v, 10) / (i == 0 ? 360 : 100);
                }));
    }
    else if (this.regexes.hsba.test(text)) {
        return this.fromHSBA.apply(this,
            this.regexes.hsba.exec(text)
                .slice(1)
                .map(function (v, i) {
                    return parseFloat(v, 10) / (i == 0 ? 360 : i < 3 ? 100 : 1);
                }));
    }
    else if (this.regexes.hwb.test(text)) {
        return this.fromHWB.apply(this,
            this.regexes.hwb.exec(text)
                .slice(1)
                .map(function (v, i) {
                    return parseFloat(v, 10) / (i == 0 ? 360 : 100);
                }));
    }
    else if (this.regexes.hwba.test(text)) {
        return this.fromHWBA.apply(this,
            this.regexes.hwba.exec(text)
                .slice(1)
                .map(function (v, i) {
                    return parseFloat(v, 10) / (i == 0 ? 360 : i < 3 ? 100 : 1);
                }));
    }
    else {
        throw new Error("Fail to parse " + text);
    }
};

/***
 * @typedef {"aliceblue"|"antiquewhite"|"aqua"|"aquamarine"|"azure"|"beige"|"bisque"|"black"|"blanchedalmond"|"blue"|"blueviolet"|"brown"|"burlywood"|"cadetblue"|"chartreuse"|"chocolate"|"coral"|"cornflowerblue"|"cornsilk"|"crimson"|"cyan"|"darkblue"|"darkcyan"|"darkgoldenrod"|"darkgray"|"darkgreen"|"darkgrey"|"darkkhaki"|"darkmagenta"|"darkolivegreen"|"darkorange"|"darkorchid"|"darkred"|"darksalmon"|"darkseagreen"|"darkslateblue"|"darkslategray"|"darkslategrey"|"darkturquoise"|"darkviolet"|"deeppink"|"deepskyblue"|"dimgray"|"dimgrey"|"dodgerblue"|"firebrick"|"floralwhite"|"forestgreen"|"fuchsia"|"gainsboro"|"ghostwhite"|"gold"|"goldenrod"|"gray"|"green"|"greenyellow"|"grey"|"honeydew"|"hotpink"|"indianred"|"indigo"|"ivory"|"khaki"|"lavender"|"lavenderblush"|"lawngreen"|"lemonchiffon"|"lightblue"|"lightcoral"|"lightcyan"|"lightgoldenrodyellow"|"lightgray"|"lightgreen"|"lightgrey"|"lightpink"|"lightsalmon"|"lightseagreen"|"lightskyblue"|"lightslategray"|"lightslategrey"|"lightsteelblue"|"lightyellow"|"lime"|"limegreen"|"linen"|"magenta"|"maroon"|"mediumaquamarine"|"mediumblue"|"mediumorchid"|"mediumpurple"|"mediumseagreen"|"mediumslateblue"|"mediumspringgreen"|"mediumturquoise"|"mediumvioletred"|"midnightblue"|"mintcream"|"mistyrose"|"moccasin"|"navajowhite"|"navy"|"oldlace"|"olive"|"olivedrab"|"orange"|"orangered"|"orchid"|"palegoldenrod"|"palegreen"|"paleturquoise"|"palevioletred"|"papayawhip"|"peachpuff"|"peru"|"pink"|"plum"|"powderblue"|"purple"|"red"|"rosybrown"|"royalblue"|"saddlebrown"|"salmon"|"sandybrown"|"seagreen"|"seashell"|"sienna"|"silver"|"skyblue"|"slateblue"|"slategray"|"slategrey"|"snow"|"springgreen"|"steelblue"|"tan"|"teal"|"thistle"|"tomato"|"turquoise"|"violet"|"wheat"|"white"|"whitesmoke"|"yellow"|"yellowgreen"|"transparent"} NamedColor
 */

Color.namedColors = {
    aliceblue: '#f0f8ff',
    antiquewhite: '#faebd7',
    aqua: '#00ffff',
    aquamarine: '#7fffd4',
    azure: '#f0ffff',
    beige: '#f5f5dc',
    bisque: '#ffe4c4',
    black: '#000000',
    blanchedalmond: '#ffebcd',
    blue: '#0000ff',
    blueviolet: '#8a2be2',
    brown: '#a52a2a',
    burlywood: '#deb887',
    cadetblue: '#5f9ea0',
    chartreuse: '#7fff00',
    chocolate: '#d2691e',
    coral: '#ff7f50',
    cornflowerblue: '#6495ed',
    cornsilk: '#fff8dc',
    crimson: '#dc143c',
    cyan: '#00ffff',
    darkblue: '#00008b',
    darkcyan: '#008b8b',
    darkgoldenrod: '#b8860b',
    darkgray: '#a9a9a9',
    darkgreen: '#006400',
    darkgrey: '#a9a9a9',
    darkkhaki: '#bdb76b',
    darkmagenta: '#8b008b',
    darkolivegreen: '#556b2f',
    darkorange: '#ff8c00',
    darkorchid: '#9932cc',
    darkred: '#8b0000',
    darksalmon: '#e9967a',
    darkseagreen: '#8fbc8f',
    darkslateblue: '#483d8b',
    darkslategray: '#2f4f4f',
    darkslategrey: '#2f4f4f',
    darkturquoise: '#00ced1',
    darkviolet: '#9400d3',
    deeppink: '#ff1493',
    deepskyblue: '#00bfff',
    dimgray: '#696969',
    dimgrey: '#696969',
    dodgerblue: '#1e90ff',
    firebrick: '#b22222',
    floralwhite: '#fffaf0',
    forestgreen: '#228b22',
    fuchsia: '#ff00ff',
    gainsboro: '#dcdcdc',
    ghostwhite: '#f8f8ff',
    gold: '#ffd700',
    goldenrod: '#daa520',
    gray: '#808080',
    green: '#008000',
    greenyellow: '#adff2f',
    grey: '#808080',
    honeydew: '#f0fff0',
    hotpink: '#ff69b4',
    indianred: '#cd5c5c',
    indigo: '#4b0082',
    ivory: '#fffff0',
    khaki: '#f0e68c',
    lavender: '#e6e6fa',
    lavenderblush: '#fff0f5',
    lawngreen: '#7cfc00',
    lemonchiffon: '#fffacd',
    lightblue: '#add8e6',
    lightcoral: '#f08080',
    lightcyan: '#e0ffff',
    lightgoldenrodyellow: '#fafad2',
    lightgray: '#d3d3d3',
    lightgreen: '#90ee90',
    lightgrey: '#d3d3d3',
    lightpink: '#ffb6c1',
    lightsalmon: '#ffa07a',
    lightseagreen: '#20b2aa',
    lightskyblue: '#87cefa',
    lightslategray: '#778899',
    lightslategrey: '#778899',
    lightsteelblue: '#b0c4de',
    lightyellow: '#ffffe0',
    lime: '#00ff00',
    limegreen: '#32cd32',
    linen: '#faf0e6',
    magenta: '#ff00ff',
    maroon: '#800000',
    mediumaquamarine: '#66cdaa',
    mediumblue: '#0000cd',
    mediumorchid: '#ba55d3',
    mediumpurple: '#9370db',
    mediumseagreen: '#3cb371',
    mediumslateblue: '#7b68ee',
    mediumspringgreen: '#00fa9a',
    mediumturquoise: '#48d1cc',
    mediumvioletred: '#c71585',
    midnightblue: '#191970',
    mintcream: '#f5fffa',
    mistyrose: '#ffe4e1',
    moccasin: '#ffe4b5',
    navajowhite: '#ffdead',
    navy: '#000080',
    oldlace: '#fdf5e6',
    olive: '#808000',
    olivedrab: '#6b8e23',
    orange: '#ffa500',
    orangered: '#ff4500',
    orchid: '#da70d6',
    palegoldenrod: '#eee8aa',
    palegreen: '#98fb98',
    paleturquoise: '#afeeee',
    palevioletred: '#db7093',
    papayawhip: '#ffefd5',
    peachpuff: '#ffdab9',
    peru: '#cd853f',
    pink: '#ffc0cb',
    plum: '#dda0dd',
    powderblue: '#b0e0e6',
    purple: '#800080',
    red: '#ff0000',
    rosybrown: '#bc8f8f',
    royalblue: '#4169e1',
    saddlebrown: '#8b4513',
    salmon: '#fa8072',
    sandybrown: '#f4a460',
    seagreen: '#2e8b57',
    seashell: '#fff5ee',
    sienna: '#a0522d',
    silver: '#c0c0c0',
    skyblue: '#87ceeb',
    slateblue: '#6a5acd',
    slategray: '#708090',
    slategrey: '#708090',
    snow: '#fffafa',
    springgreen: '#00ff7f',
    steelblue: '#4682b4',
    tan: '#d2b48c',
    teal: '#008080',
    thistle: '#d8bfd8',
    tomato: '#ff6347',
    turquoise: '#40e0d0',
    violet: '#ee82ee',
    wheat: '#f5deb3',
    white: '#ffffff',
    whitesmoke: '#f5f5f5',
    yellow: '#ffff00',
    yellowgreen: '#9acd32',
    transparent: '#00000000'
};

Color.nonStandarNamedColors = {
    night: '#0C090A',
    gunmetal: '#2C3539',
    midnight: '#2B1B17',
    charcoal: '#34282C',
    oil: '#3B3131',
    blackcat: '#413839',
    iridium: '#3D3C3A',
    blackeel: '#463E3F',
    blackcow: '#4C4646',
    graywolf: '#504A4B',
    vampiregray: '#565051',
    graydolphin: '#5C5858',
    carbongray: '#625D5D',
    ashgray: '#666362',
    cloudygray: '#6D6968',
    smokeygray: '#726E6D',
    granite: '#837E7C',
    battleshipgray: '#848482',
    graycloud: '#B6B6B4',
    graygoose: '#D1D0CE',
    platinum: '#E5E4E2',
    metallicsilver: '#BCC6CC',
    bluegray: '#98AFC7',
    raven: '#657383',
    jetgray: '#616D7E',
    mistblue: '#646D7E',
    marbleblue: '#566D7E',
    shipcove: '#737CA1',
    mariner: '#4863A0',
    bluejay: '#2B547E',
    biscay: '#2B3856',
    navyblue: '#000080',
    bluewhale: '#342D7E',
    lapisblue: '#15317E',
    denimdarkblue: '#151B8D',
    earthblue: '#0000A0',
    cobaltblue: '#0020C2',
    blueberryblue: '#0041C2',
    sapphireblue: '#2554C7',
    blueeyes: '#1569C7',
    blueorchid: '#1F45FC',
    bluelotus: '#6960EC',
    lightslateblue: '#736AFF',
    windowsblue: '#357EC7',
    glacialblueice: '#368BC1',
    silkblue: '#488AC7',
    blueivy: '#3090C7',
    bluekoi: '#659EC7',
    columbiablue: '#87AFC7',
    babyblue: '#95B9C7',
    oceanblue: '#2B65EC',
    blueribbon: '#306EFF',
    bluedress: '#157DEC',
    butterflyblue: '#38ACEC',
    iceberg: '#56A5EC',
    crystalblue: '#5CB3FF',
    denimblue: '#79BAEC',
    dayskyblue: '#82CAFF',
    jeansblue: '#A0CFEC',
    blueangel: '#B7CEEC',
    pastelblue: '#B4CFEC',
    seablue: '#C2DFFF',
    coralblue: '#AFDCEC',
    robineggblue: '#BDEDFF',
    palebluelily: '#CFECEC',
    water: '#EBF4FA',
    lightslate: '#CCFFFF',
    lightaquamarine: '#93FFE8',
    electricblue: '#9AFEFF',
    cyanoraqua: '#00FFFF',
    tronblue: '#7DFDFE',
    bluezircon: '#57FEFF',
    bluelagoon: '#8EEBEC',
    celeste: '#50EBEC',
    bluediamond: '#4EE2EC',
    tiffanyblue: '#81D8D0',
    cyanopaque: '#92C7C7',
    bluehosta: '#77BFC7',
    northernlightsblue: '#78C7C7',
    jellyfish: '#46C7C7',
    bluegreen: '#7BCCB5',
    macawbluegreen: '#43BFC7',
    seaturtlegreen: '#438D80',
    greenishblue: '#307D7E',
    grayishturquoise: '#5E7D7E',
    beetlegreen: '#4C787E',
    camouflagegreen: '#78866B',
    sagegreen: '#848b79',
    hazelgreen: '#617C58',
    venomgreen: '#728C00',
    ferngreen: '#667C26',
    darkforestgreen: '#254117',
    mediumforestgreen: '#347235',
    seaweedgreen: '#437C17',
    pinegreen: '#387C44',
    junglegreen: '#347C2C',
    shamrockgreen: '#347C17',
    greenonion: '#6AA121',
    clovergreen: '#3EA055',
    greensnake: '#6CBB3C',
    aliengreen: '#6CC417',
    greenapple: '#4CC417',
    kellygreen: '#4CC552',
    zombiegreen: '#54C571',
    froggreen: '#99C68E',
    greenpeas: '#89C35C',
    dollarbillgreen: '#85BB65',
    iguanagreen: '#9CB071',
    avocadogreen: '#B2C248',
    pistachiogreen: '#9DC209',
    saladgreen: '#A1C935',
    hummingbirdgreen: '#7FE817',
    nebulagreen: '#59E817',
    stoplightgogreen: '#57E964',
    algaegreen: '#64E986',
    jadegreen: '#5EFB6E',
    emeraldgreen: '#5FFB17',
    dragongreen: '#6AFB92',
    mintgreen: '#98FF98',
    greenthumb: '#B5EAAA',
    lightjade: '#C3FDB8',
    teagreen: '#CCFB5D',
    slimegreen: '#BCE954',
    harvestgold: '#EDE275',
    sunyellow: '#FFE87C',
    cornyellow: '#FFF380',
    parchment: '#FFFFC2',
    cream: '#FFFFCC',
    blonde: '#FBF6D9',
    champagne: '#F7E7CE',
    vanilla: '#F3E5AB',
    tanbrown: '#ECE5B6',
    peach: '#FFE5B4',
    mustard: '#FFDB58',
    rubberduckyyellow: '#FFD801',
    brightgold: '#FDD017',
    goldenbrown: '#EAC117',
    macaroniandcheese: '#F2BB66',
    saffron: '#FBB917',
    beer: '#FBB117',
    cantaloupe: '#FFA62F',
    beeyellow: '#E9AB17',
    brownsugar: '#E2A76F',
    deeppeach: '#FFCBA4',
    gingerbrown: '#C9BE62',
    schoolbusyellow: '#E8A317',
    fallleafbrown: '#C8B560',
    orangegold: '#D4A017',
    sand: '#C2B280',
    cookiebrown: '#C7A317',
    caramel: '#C68E17',
    brass: '#B5A642',
    camelbrown: '#C19A6B',
    bronze: '#CD7F32',
    tigerorange: '#C88141',
    cinnamon: '#C58917',
    bulletshell: '#AF9B60',
    copper: '#B87333',
    wood: '#966F33',
    oakbrown: '#806517',
    armybrown: '#827B60',
    sandstone: '#786D5F',
    mocha: '#493D26',
    taupe: '#483C32',
    coffee: '#6F4E37',
    brownbear: '#835C3B',
    reddirt: '#7F5217',
    sepia: '#7F462C',
    orangesalmon: '#C47451',
    rust: '#C36241',
    redfox: '#C35817',
    sedona: '#CC6600',
    papayaorange: '#E56717',
    halloweenorange: '#E66C2C',
    pumpkinorange: '#F87217',
    constructionconeorange: '#F87431',
    sunriseorange: '#E67451',
    mangoorange: '#FF8040',
    basketballorange: '#F88158',
    tangerine: '#E78A61',
    beanred: '#F75D59',
    valentinered: '#E55451',
    shockingorange: '#E55B3C',
    scarlet: '#FF2400',
    rubyred: '#F62217',
    ferrarired: '#F70D1A',
    fireenginered: '#F62817',
    lavared: '#E42217',
    lovered: '#E41B17',
    grapefruit: '#DC381F',
    chestnutred: '#C34A2C',
    cherryred: '#C24641',
    mahogany: '#C04000',
    chillipepper: '#C11B17',
    cranberry: '#9F000F',
    redwine: '#990012',
    burgundy: '#8C001A',
    chestnut: '#954535',
    bloodred: '#7E3517',
    sangria: '#7E3817',
    plumpie: '#7D0541',
    velvetmaroon: '#7E354D',
    plumvelvet: '#7D0552',
    rosyfinch: '#7F4E52',
    puce: '#7F5A58',
    dullpurple: '#7F525D',
    khakirose: '#C5908E',
    pinkbow: '#C48189',
    lipstickpink: '#C48793',
    rose: '#E8ADAA',
    rosegold: '#ECC5C0',
    desertsand: '#EDC9AF',
    pigpink: '#FDD7E4',
    cottoncandy: '#FCDFFF',
    pinkbubblegum: '#FFDFDD',
    flamingopink: '#F9A7B0',
    pinkrose: '#E7A1B0',
    pinkdaisy: '#E799A3',
    cadillacpink: '#E38AAE',
    carnationpink: '#F778A1',
    blushred: '#E56E94',
    watermelonpink: '#FC6C85',
    violetred: '#F6358A',
    pinkcupcake: '#E45E9D',
    pinklemonade: '#E4287C',
    neonpink: '#F535AA',
    dimorphothecamagenta: '#E3319D',
    brightneonpink: '#F433FF',
    tulippink: '#C25A7C',
    roguepink: '#C12869',
    burntpink: '#C12267',
    bashfulpink: '#C25283',
    darkcarnationpink: '#C12283',
    violapurple: '#7E587E',
    purpleiris: '#571B7E',
    plumpurple: '#583759',
    purplemonster: '#461B7E',
    purplehaze: '#4E387E',
    eggplant: '#614051',
    grape: '#5E5A80',
    purplejam: '#6A287E',
    purpleflower: '#A74AC7',
    purpleamethyst: '#6C2DC7',
    purplesagebush: '#7A5DC7',
    lovelypurple: '#7F38EC',
    aztechpurple: '#893BFF',
    jasminepurple: '#A23BEC',
    purpledaffodil: '#B041FF',
    tyrianpurple: '#C45AEC',
    crocuspurple: '#9172EC',
    purplemimosa: '#9E7BFF',
    heliotropepurple: '#D462FF',
    purpledragon: '#C38EC7',
    lilac: '#C8A2C8',
    blushpink: '#E6A9EC',
    mauve: '#E0B0FF',
    wisteriapurple: '#C6AEC7',
    blossompink: '#F9B7FF',
    periwinkle: '#E9CFEC',
    lavenderpinocchio: '#EBDDE2',
    lavenderblue: '#E3E4FA',
    pearl: '#FDEEF4',
    milkwhite: '#FEFCFF'
};

/********************** COLOR CONVERTER *******************/


Color.rgbToHex = function (rgb) {
    return '#' + rgb.slice(0, 3).map(function (c) {
        var res = ((c * 255) >> 0).toString(16);
        if (res < 10) res = '0' + res;
        return res.toUpperCase();
    }).join('');
};

Color.rgbaToHex = function (rgb) {
    return '#' + rgb.map(function (c) {
        var res = ((c * 255) >> 0).toString(16);
        if (res < 10) res = '0' + res;
        return res.toUpperCase();
    }).join('');
};

Color.hsbaToText = function (hsba) {
    return 'hsba(' + (hsba[0] * 360 >> 0) + 'deg, ' + (hsba[1] * 100 >> 0) + '%, ' + (hsba[2] * 100 >> 0) + '%, ' + (hsba[3].toFixed(3)) + ')';
};

Color.hslaToText = function (hsla) {
    return 'hsla(' + (hsla[0] * 360 >> 0) + 'deg, ' + (hsla[1] * 100 >> 0) + '%, ' + (hsla[2] * 100 >> 0) + '%, ' + (hsla[3].toFixed(3)) + ')';
};

Color.rgbaToText = function (rgba) {
    return 'rgba(' + (rgba[0] * 255 >> 0) + ', ' + (rgba[1] * 255 >> 0) + ', ' + (rgba[2] * 255 >> 0) + ', ' + (rgba[3].toFixed(3)) + ')';
};

Color.hsbToText = function (hsba) {
    return 'hsb(' + (hsba[0] * 360 >> 0) + 'deg, ' + (hsba[1] * 100 >> 0) + '%, ' + (hsba[2] * 100 >> 0) + '%)';
};

Color.hslToText = function (hsl) {
    return 'hsl(' + (hsl[0] * 360 >> 0) + 'deg, ' + (hsl[1] * 100 >> 0) + '%, ' + (hsl[2] * 100 >> 0) + '%)';
};

Color.rgbToText = function (rgba) {
    return 'rgb(' + (rgba[0] * 255 >> 0) + ', ' + (rgba[1] * 255 >> 0) + ', ' + (rgba[2] * 255 >> 0) + ')';
};


Color.hsbaToHSLA = function (hsba) {
    var hue = hsba[0];
    var sat = hsba[1];
    var val = hsba[2];

    // Calculate lightness.
    var li = (2 - sat) * val / 2;

    // Convert saturation.
    if (li !== 0) {
        if (li === 1) {
            sat = 0;
        }
        else if (li < 0.5) {
            sat = sat / (2 - sat);
        }
        else {
            sat = sat * val / (2 - li * 2);
        }
    }

    // Hue and alpha stay the same.
    return [hue, sat, li, hsba[3]];
};

Color.hsbaToRGBA = function (hsba) {
    var hue = hsba[0] * 6; // We will split hue into 6 sectors.
    var sat = hsba[1];
    var val = hsba[2];

    var RGBA = [];

    if (sat === 0) {
        RGBA = [val, val, val, hsba[3]]; // Return early if grayscale.
    }
    else {
        var sector = Math.floor(hue);
        var tint1 = val * (1 - sat);
        var tint2 = val * (1 - sat * (hue - sector));
        var tint3 = val * (1 - sat * (1 + sector - hue));
        var red, green, blue;
        if (sector === 1) {
            // Yellow to green.
            red = tint2;
            green = val;
            blue = tint1;
        }
        else if (sector === 2) {
            // Green to cyan.
            red = tint1;
            green = val;
            blue = tint3;
        }
        else if (sector === 3) {
            // Cyan to blue.
            red = tint1;
            green = tint2;
            blue = val;
        }
        else if (sector === 4) {
            // Blue to magenta.
            red = tint3;
            green = tint1;
            blue = val;
        }
        else if (sector === 5) {
            // Magenta to red.
            red = val;
            green = tint1;
            blue = tint2;
        }
        else {
            // Red to yellow (sector could be 0 or 6).
            red = val;
            green = tint3;
            blue = tint1;
        }
        RGBA = [red, green, blue, hsba[3]];
    }
    return RGBA;
};


Color.hslaToHSBA = function (hsla) {
    var hue = hsla[0];
    var sat = hsla[1];
    var li = hsla[2];

    // Calculate brightness.
    var val;
    if (li < 0.5) {
        val = (1 + sat) * li;
    }
    else {
        val = li + sat - li * sat;
    }

    // Convert saturation.
    sat = 2 * (val - li) / val;

    // Hue and alpha stay the same.
    return [hue, sat, val, hsla[3]];
};

Color.hslaToRGBA = function (hsla) {
    var hue = hsla[0] * 6; // We will split hue into 6 sectors.
    var sat = hsla[1];
    var li = hsla[2];

    var RGBA = [];

    if (sat === 0) {
        RGBA = [li, li, li, hsla[3]]; // Return early if grayscale.
    }
    else {
        // Calculate brightness.
        var val;
        if (li < 0.5) {
            val = (1 + sat) * li;
        }
        else {
            val = li + sat - li * sat;
        }

        // Define zest.
        var zest = 2 * li - val;

        // Implement projection (project onto green by default).
        var hzvToRGB = function (hue, zest, val) {
            if (hue < 0) {
                // Hue must wrap to allow projection onto red and blue.
                hue += 6;
            }
            else if (hue >= 6) {
                hue -= 6;
            }
            if (hue < 1) {
                // Red to yellow (increasing green).
                return zest + (val - zest) * hue;
            }
            else if (hue < 3) {
                // Yellow to cyan (greatest green).
                return val;
            }
            else if (hue < 4) {
                // Cyan to blue (decreasing green).
                return zest + (val - zest) * (4 - hue);
            }
            else {
                // Blue to red (least green).
                return zest;
            }
        };

        // Perform projections, offsetting hue as necessary.
        RGBA = [
            hzvToRGB(hue + 2, zest, val),
            hzvToRGB(hue, zest, val),
            hzvToRGB(hue - 2, zest, val),
            hsla[3]
        ];
    }

    return RGBA;
};


Color.rgbaToHSBA = function (rgba) {
    var red = rgba[0];
    var green = rgba[1];
    var blue = rgba[2];

    var val = Math.max(red, green, blue);
    var chroma = val - Math.min(red, green, blue);

    var hue, sat;
    if (chroma === 0) {
        // Return early if grayscale.
        hue = 0;
        sat = 0;
    }
    else {
        sat = chroma / val;
        if (red === val) {
            // Magenta to yellow.
            hue = (green - blue) / chroma;
        }
        else if (green === val) {
            // Yellow to cyan.
            hue = 2 + (blue - red) / chroma;
        }
        else if (blue === val) {
            // Cyan to magenta.
            hue = 4 + (red - green) / chroma;
        }
        if (hue < 0) {
            // Confine hue to the interval [0, 1).
            hue += 6;
        }
        else if (hue >= 6) {
            hue -= 6;
        }
    }

    return [hue / 6, sat, val, rgba[3]];
};

Color.rgbaToHSLA = function (rgba) {
    var red = rgba[0];
    var green = rgba[1];
    var blue = rgba[2];

    var val = Math.max(red, green, blue);
    var min = Math.min(red, green, blue);
    var li = val + min; // We will halve this later.
    var chroma = val - min;

    var hue, sat;
    if (chroma === 0) {
        // Return early if grayscale.
        hue = 0;
        sat = 0;
    }
    else {
        if (li < 1) {
            sat = chroma / li;
        }
        else {
            sat = chroma / (2 - li);
        }
        if (red === val) {
            // Magenta to yellow.
            hue = (green - blue) / chroma;
        }
        else if (green === val) {
            // Yellow to cyan.
            hue = 2 + (blue - red) / chroma;
        }
        else if (blue === val) {
            // Cyan to magenta.
            hue = 4 + (red - green) / chroma;
        }
        if (hue < 0) {
            // Confine hue to the interval [0, 1).
            hue += 6;
        }
        else if (hue >= 6) {
            hue -= 6;
        }
    }

    return [hue / 6, sat, li / 2, rgba[3]];
};


Color.hwbaToHSBA = function (hwba) {
    return [hwba[0], 1 - hwba[1] / (1 - hwba[2]), 1 - hwba[2], hwba[3]];
};

Color.hsbaToHWBA = function (hsla) {
    return [hsla[0], (1 - hsla[1]) * hsla[2], 1 - hsla[2], hsla[3]];
};

Color.rgbaToHWBA = function (rgba) {
    return this.hsbaToHWBA(this.rgbaToHSBA(rgba));
};

Color.hwbaToRGBA = function (hwba) {
    return this.hsbaToRGBA(this.hwbaToHSBA(hwba));
};

/* harmony default export */ var Color_Color = (Color);
// CONCATENATED MODULE: ./node_modules/absol/src/Math/random.js

/**
 * Returns a random number between min (inclusive) and max (exclusive)
 */
function randomArbitrary(min, max) {
    return Math.random() * (max - min) + min;
}

/**
 * Returns a random integer between min (inclusive) and max (inclusive)
 * Using Math.round() will give you a non-uniform distribution!
 */
function randomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

function randomPick(arr) {
    var id = randomInt(0, arr.length - 1);
    return arr[id];
}
// CONCATENATED MODULE: ./node_modules/absol/src/String/stringGenerate.js


var identCharacters = function () {
    var chars = 'qwertyuiopasdfghjklzxcvbnm';
    chars = chars + chars.toUpperCase();
    var num = '0123456789';
    var spect = '_';
    return (chars + spect + num).split('');

}();


function randomIdent(length) {
    if (!(length > 0)) length = 4;
    var factor = identCharacters;
    return [factor[(Math.random() * (factor.length - 10)) >> 0]].concat(Array(length - 1).fill('').map(function () {
        return factor[(Math.random() * factor.length) >> 0];
    })).join('');
}

function parallelMatch(a, b) {
    var l = Math.min(a.length, b.length);
    var res = 0;
    for (var i = 0; i < l; ++i) {
        if (a[i] == b[i])++res;
    }
    return res;
}

var ipsumLoremWord = ['lorem', 'ipsum', 'dolor', 'sit', 'amet', 'consectetur', 'adipiscing', 'elit', 'sed', 'do',
    'eiusmod', 'tempor', 'incididunt', 'ut', 'labore', 'et', 'dolore', 'magna', 'aliqua', 'enim', 'ad', 'minim',
    'veniam', 'quis', 'nostrud', 'exercitation', 'ullamco', 'laboris', 'nisi', 'aliquip', 'ex', 'ea', 'commodo',
    'consequat', 'duis', 'aute', 'irure', 'in', 'reprehenderit', 'voluptate', 'velit', 'esse', 'cillum',
    'eu', 'fugiat', 'nulla', 'pariatur', 'excepteur', 'sint', 'occaecat', 'cupidatat', 'non', 'proident',
    'sunt', 'culpa', 'qui', 'officia', 'deserunt', 'mollit', 'anim', 'id', 'est', 'laborum', 'perspiciatis',
    'unde', 'omnis', 'iste', 'natus', 'error', 'voluptatem', 'accusantium', 'doloremque', 'laudantium',
    'totam', 'rem', 'aperiam', 'eaque', 'ipsa', 'quae', 'ab', 'illo', 'inventore', 'veritatis', 'quasi', 'architecto',
    'beatae', 'vitae', 'dicta', 'explicabo', 'nemo', 'ipsam', 'quia', 'voluptas', 'aspernatur', 'aut', 'odit',
    'fugit', 'consequuntur', 'magni', 'dolores', 'eos', 'ratione', 'sequi', 'nesciunt', 'neque', 'porro',
    'quisquam', 'dolorem', 'adipisci', 'numquam', 'eius', 'modi', 'tempora', 'incidunt', 'magnam', 'aliquam',
    'quaerat', 'minima', 'nostrum', 'exercitationem', 'ullam', 'corporis', 'suscipit', 'laboriosam', 'aliquid',
    'commodi', 'consequatur', 'autem', 'vel', 'eum', 'iure', 'quam', 'nihil', 'molestiae', 'illum', 'quo',
    'at', 'vero', 'accusamus', 'iusto', 'odio', 'dignissimos', 'ducimus', 'blanditiis', 'praesentium', 'voluptatum',
    'deleniti', 'atque', 'corrupti', 'quos', 'quas', 'molestias', 'excepturi', 'occaecati', 'cupiditate',
    'provident', 'similique', 'mollitia', 'animi', 'dolorum', 'fuga', 'harum', 'quidem', 'rerum', 'facilis',
    'expedita', 'distinctio', 'nam', 'libero', 'tempore', 'sum', 'soluta', 'nobis', 'eligendi', 'optio',
    'cumque', 'impedit', 'minus', 'quod', 'maxime', 'placeat', 'facere', 'possimus', 'assumenda', 'repellendus',
    'temporibus', 'quibusdam', 'officiis', 'debitis', 'necessitatibus', 'saepe', 'eveniet', 'voluptates',
    'repudiandae', 'recusandae', 'itaque', 'earum', 'hic', 'tenetur', 'a', 'sapiente', 'delectus', 'reiciendis',
    'voluptatibus', 'maiores', 'alias', 'perferendis', 'doloribus', 'asperiores', 'repellat', 'integer',
    'nec', 'praesent', 'cursus', 'ante', 'dapibus', 'diam', 'sem', 'nibh', 'elementum', 'imperdiet', 'sagittis',
    'mauris', 'fusce', 'tellus', 'augue', 'semper', 'porta', 'massa', 'vestibulum', 'lacinia', 'arcu', 'eget',
    'class', 'aptent', 'taciti', 'sociosqu', 'litora', 'torquent', 'per', 'conubia', 'nostra', 'inceptos',
    'himenaeos', 'curabitur', 'sodales', 'ligula', 'dignissim', 'nunc', 'tortor', 'pellentesque', 'aenean',
    'scelerisque', 'maecenas', 'mattis', 'convallis', 'tristique', 'proin', 'egestas', 'porttitor', 'morbi',
    'lectus', 'risus', 'iaculis', 'luctus', 'ac', 'turpis', 'aliquet', 'metus', 'ullamcorper', 'tincidunt',
    'euismod', 'quisque', 'volutpat', 'condimentum', 'urna', 'facilisi', 'fringilla', 'suspendisse', 'potenti',
    'feugiat', 'mi', 'sapien', 'etiam', 'ultrices', 'justo', 'lacus', 'pharetra', 'auctor', 'interdum', 'primis',
    'faucibus', 'orci', 'posuere', 'cubilia', 'curae', 'molestie', 'dui', 'blandit', 'congue', 'pede', 'facilisis',
    'laoreet', 'donec', 'viverra', 'malesuada', 'pulvinar', 'sollicitudin', 'cras', 'nisl', 'felis', 'venenatis',
    'ultricies', 'accumsan', 'pretium', 'fermentum', 'nullam', 'purus', 'mollis', 'vivamus', 'consectetuer'
];


function randomWord() {
    var arr = ipsumLoremWord;
    var idx = randomInt(0, arr.length - 1);
    return arr[idx];
}

function randomPhrase(limitLenght) {
    if (!limitLenght) limitLenght = 50;
    var length = Math.ceil(Math.random() * limitLenght / 7);
    return new Array(length)
        .fill(null)
        .map(randomWord)
        .reduce(function (ac, cr) {
            if (ac.length + cr.length < limitLenght) {
                ac.parts.push(cr);
            }
            return ac;
        }, { parts: [], length: 0 }).parts
        .join(' ');

}

function randomSentence(limitLenght) {
    if (!limitLenght) limitLenght = 300;
    var length = Math.ceil(Math.random() * limitLenght / 70);
    var res = new Array(length)
        .fill(null)
        .map(randomPhrase)
        .reduce(function (ac, cr) {
            if (ac.length + cr.length < limitLenght) {
                ac.parts.push(cr);
            }
            return ac;
        }, { parts: [], length: 0 }).parts
        .join(', ');
    if (Math.random() < 0.03) {
        res = res.replace(/\,/i, ':');
    }
    res = res.replace(/^./, function (x) {
        return x.toUpperCase();
    });
    res += '.';
    return res;
}

function randomParagraph(limitLenght) {
    if (!limitLenght) limitLenght = 1000;
    var length = Math.ceil(Math.random() * limitLenght / 200);
    return new Array(length).fill(null)
        .map(randomSentence)
        .reduce(function (ac, cr) {
            if (ac.length + cr.length < limitLenght) {
                ac.parts.push(cr);
            }
            return ac;
        }, { parts: [], length: 0 }).parts
        .join(' ');
}
// CONCATENATED MODULE: ./node_modules/absol/src/Network/IFrameBridge.js



/**
 * 
 * @param {Worker} host 
 */
function IFrameBridge(host, origin) {
    EventEmitter["b" /* default */].call(this);
    this.detach();
    this.origin = origin;
    if (host) this.attach(host);
    this.__azarResolveCallbacks = {};
}

IFrameBridge.prototype.attach = function (host) {
    this.host = host;
    if (this.host.addEventListener) {
        this.host.addEventListener("message", this.__azarMessageListener.bind(this), false);
    }
    else if (this.host.attachEvent) {
        this.host.attachEvent("onmessage", this.__azarMessageListener.bind(this));
    }
    else {
        this.host.onmessage = this.__azarMessageListener.bind(this);
    }
    this.__IFrameBridge_resolve();
};

IFrameBridge.prototype.detach = function () {
    this.sync = new Promise(function (resolve) {
        this.__IFrameBridge_resolve = resolve;
    }.bind(this));
};


IFrameBridge.fromIFrame = function (iframe) {
    var host = iframe.contentWindow || iframe.contentDocument;
    var src = iframe.src;
    var rootOrigin = location.origin;
    var iframeOrigin = src.match(/^(http|https):\/\/[^/]+/);
    if (iframeOrigin){
        iframeOrigin = iframeOrigin[0];
    }
    else{
        iframeOrigin = rootOrigin;
    }
    
    if (host) return new IFrameBridge(host,  iframeOrigin);
    else {
        var result = new IFrameBridge(undefined, iframeOrigin  );
        var attachedHost = function () {
            var host = iframe.contentWindow || iframe.contentDocument;
            result.attach(host);
        };
        if (iframe.addEventListener) {
            iframe.addEventListener("load", attachedHost);
        }

        else {
            iframe.attachEvent("onload", attachedHost);
        }
        return result;
    }
};

IFrameBridge.getInstance = function () {
    if (!IFrameBridge.shareInstance) {
        var origin = location.origin;
        var rootOrigin = IFrameBridge.getParentUrl().match(/^(http|https):\/\/[^/]+/);
        if (rootOrigin){
            rootOrigin = rootOrigin[0];
        }
        else{
            rootOrigin = origin;
        }

        // IFrameBridge.shareInstance = new IFrameBridge(self, rootOrigin == origin? undefined: "*" || rootOrigin );
        IFrameBridge.shareInstance = new IFrameBridge(self, rootOrigin );
    }
    return IFrameBridge.shareInstance;
};


Object.defineProperties(IFrameBridge.prototype, Object.getOwnPropertyDescriptors(EventEmitter["b" /* default */].prototype));
IFrameBridge.prototype.constructor = IFrameBridge;

IFrameBridge.isInIFrame = function () {
    return (top !== self);
};


IFrameBridge.getParentUrl = function(){
    var parentUrl = (window.location != window.parent.location)
                ? document.referrer
                : document.location.href;
    return parentUrl;
};

IFrameBridge.prototype.__azarMessageListener = function (event) {
    this.__azarHandleData(event.data);
};


IFrameBridge.prototype.__azarHandleData = function (data) {
    if (data.type) {
        if (data.type == "INVOKE") {
            var result = this.__azarRelfInvoke(data.name, data.params);
            if (result && typeof result.then == 'function') {
                result.then(function (result) {
                    this.__azarResolve(data.taskId, result);
                }.bind(this));
            }
            else {
                this.__azarResolve(data.taskId, result);
            }
        } else if (data.type == "INVOKE_RESULT") {
            if (this.__azarResolveCallbacks[data.taskId]) {
                this.__azarResolveCallbacks[data.taskId](data.result);
                delete this.__azarResolveCallbacks[data.taskId];
            }
        } else if (data.type == "EMIT") {
            this.fire.apply(this, data.params);
        }
        else this.fire('message', data, this);
    }
};


IFrameBridge.prototype.__azarResolve = function (taskId, result) {
    var data = {
        type: "INVOKE_RESULT",
        taskId: taskId,
        result: result
    };

    if (this.origin) {
        this.host.postMessage(data, this.origin);
    }
    else {
        this.host.postMessage(data);
    }
};


IFrameBridge.prototype.__azarRelfInvoke = function (name, params) {
    if (typeof this[name] == 'function') {
        return this[name].apply(this, params);
    }
    else {
        return this[name];
    }
};


IFrameBridge.prototype.emit = function () {
    var params = [];
    params.push.apply(params, arguments);
    this.sync.then(function () {
        var data = {
            type: "EMIT",
            params: params
        };
        if (this.origin) {
            this.host.postMessage(data, this.origin);
        }
        else {
            this.host.postMessage(data);
        }
    }.bind(this));
    return this;
};


IFrameBridge.prototype.invoke = function (name) {
    var params = [];
    params.push.apply(params, arguments);
    params.shift();
    return this.sync.then(function () {
        var indent = randomIdent(32);
        var data = {
            type: 'INVOKE',
            params: params,
            taskId: indent,
            name: name
        };
        if (this.origin) {
            this.host.postMessage(data, this.origin);
        }
        else {
            this.host.postMessage(data);
        }
        return new Promise(function (resolve) {
            this.__azarResolveCallbacks[indent] = resolve;
        }.bind(this));
    }.bind(this));
};

/* harmony default export */ var Network_IFrameBridge = (IFrameBridge);
// EXTERNAL MODULE: ./node_modules/jszip/dist/jszip.min.js
var jszip_min = __webpack_require__(21);
var jszip_min_default = /*#__PURE__*/__webpack_require__.n(jszip_min);

// EXTERNAL MODULE: ./node_modules/absol/src/JSDocx/JSDocx.js
var JSDocx = __webpack_require__(40);

// CONCATENATED MODULE: ./node_modules/absol/src/Network/Broadcast.js



// it can be replace BroadcastChanel
function Broadcast(channel, id) {
    EventEmitter["b" /* default */].call(this);
    this.channel = channel;
    this.id = id;
    this._ev_message = this._ev_message.bind(this);
    this._ev_storage = this._ev_storage.bind(this);
    this._init();
}

Object.defineProperties(Broadcast.prototype, Object.getOwnPropertyDescriptors(EventEmitter["b" /* default */].prototype));

Broadcast.prototype.constructor = Broadcast;


Broadcast.prototype._init = function () {
    if ('BroadcastChannel' in window) {
        this.nativeBroadcastChannel = new BroadcastChannel(this.channel);
        this.nativeBroadcastChannel.onmessage = this._ev_message;
    }
    else if ('localStorage' in window) {
        if (!('onstorage' in window))
            console.warn("Your browser may not support onstorage event.");
        if (window.addEventListener) {
            window.addEventListener('storage', this._ev_storage);
        }
        else {
            window.attachEvent('onstorage', this._ev_storage);
        }
        this.storageKey = '_broadcast_' + this.channel;
    }
    else {
        throw new Error("Your browser can not support broadcast!");
    }
};

Broadcast.prototype._ev_storage = function (event) {
    if (event.key == this.storageKey) {
        var data = JSON.parse(event.newValue);
        if (data.sourceId != this.id)
            this.handleMessData(data.message);
    }
};

Broadcast.prototype._ev_message = function (event) {
    var data = event.data;
    this.handleMessData(data);
};


Broadcast.prototype.handleMessData = function (data) {
    if (data.type == "EMIT")
        this.fire.apply(this, data.params);
    if (typeof this.onmessage == 'function')
        this.onmessage(event);
};

/**
 * @param {Array<*>}
 */
Broadcast.prototype.emit = function () {
    var params = Array.prototype.slice.call(arguments);
    this.postMessage({ type: "EMIT", params, sourceId: this.id });
};

/**
 * @param {*} message
 */
Broadcast.prototype.postMessage = function (message) {
    if (this.nativeBroadcastChannel) {
        this.nativeBroadcastChannel.postMessage(message);
    }
    else {
        localStorage.setItem(this.storageKey, JSON.stringify({ message: message, sourceId: this.id }));
    }
};

Broadcast.prototype.onmessage = null;


Broadcast.prototype.close = function () {
    if (this.nativeBroadcastChannel) this.nativeBroadcastChannel.close();
};

/* harmony default export */ var Network_Broadcast = (Broadcast);
// CONCATENATED MODULE: ./node_modules/absol/src/HTML5/Text.js


function getTextNodesIn(node) {
    var textNodes = [];
    if (node.nodeType == 3) {
        textNodes.push(node);
    } else {
        var children = node.childNodes;
        for (var i = 0, len = children.length; i < len; ++i) {
            textNodes.push.apply(textNodes, getTextNodesIn(children[i]));
        }
    }
    return textNodes;
}

/**
 * 
 * @param {Element} el 
 * @param {Range} range 
 * @param {Number} start 
 * @returns {Number} -1: ok,  ret >= 0(is length of text) : need move to next element
 * 
 */
function setSelectionRangeStart(el, range, start) {
    if (start > 0) {
        if (el.nodeType == Node.TEXT_NODE) {
            var text = el.data;
            if (start <= text.length) {
                range.setStart(el, start);
                return -1;
            }
            else
                return text.length;
        } if (el.tagName.toLowerCase() == 'br') {
            return 0;
        }
        else {
            var delta = 0;
            var i = 0;
            var textLength = 0;
            var newLine = false;
            while (delta >= 0 && i < el.childNodes.length) {
                var childElt = el.childNodes[i];

                if (newLine) {
                    newLine = false;
                    ++textLength;
                }
                delta = setSelectionRangeStart(childElt, range, start - textLength);

                if (delta >= 0) textLength += delta;
                if (childElt.nodeType != Node.TEXT_NODE
                    && (window.getComputedStyle(childElt).display == 'block'
                        || childElt.tagName.toLowerCase() == 'br')) {
                    newLine = true;
                }
                ++i;
            }
            if (delta >= 0) return textLength;
            return -1;
        }
    }
    else {
        range.setStart(el, 0);
        return -1;
    }
}

/**
 * 
 * @param {Element} el 
 * @param {Range} range 
 * @param {Number} end 
 * @returns {Number} -1: ok,  ret >= 0(is length of text) : need move to next element
 * 
 */
function setSelectionRangeEnd(el, range, end) {
    if (end > 0) {
        if (el.nodeType == Node.TEXT_NODE) {
            var text = el.data;
            if (end <= text.length) {
                range.setEnd(el, end);
                return -1;
            }
            else
                return text.length;
        } if (el.tagName.toLowerCase() == 'br') {
            return 0;
        }
        else {
            var delta = 0;
            var i = 0;
            var textLength = 0;
            var newLine = false;
            while (delta >= 0 && i < el.childNodes.length) {
                var childElt = el.childNodes[i];

                if (newLine) {
                    newLine = false;
                    ++textLength;
                }
                delta = setSelectionRangeEnd(childElt, range, end - textLength);

                if (delta >= 0) textLength += delta;
                if (childElt.nodeType != Node.TEXT_NODE
                    && (window.getComputedStyle(childElt).display == 'block'
                        || childElt.tagName.toLowerCase() == 'br')) {
                    newLine = true;
                }
                ++i;
            }
            if (delta >= 0) return textLength;
            return -1;
        }
    }
    else {
        range.setEnd(el, 0);
        return -1;
    }
}

function setSelectionRange(el, start, end) {
    if (document.createRange && window.getSelection) {
        var range = document.createRange();
        range.selectNodeContents(el);
        var delta;
        if (start >= 0) {
            delta = setSelectionRangeStart(el, range, start);
            if (delta >= 0) range.setStart(el, el.childNodes.length);
        }
        else {
            start = 0;
            range.setStart(el, 0);
        }
        if (end >= start) {
            delta = setSelectionRangeEnd(el, range, end);
            if (delta >= 0) range.setEnd(el, el.childNodes.length);
        }
        var sel = window.getSelection();
        sel.removeAllRanges();
        sel.addRange(range);
    } else if (document.selection && document.body.createTextRange) {
        var textRange = document.body.createTextRange();
        textRange.moveToElementText(el);
        textRange.collapse(true);
        textRange.moveEnd("character", end);
        textRange.moveStart("character", start);
        textRange.select();
    }
}

function getTextIn(e) {
    if (e.nodeType == Node.TEXT_NODE) {
        return e.data;
    }
    if (e.tagName && e.tagName.toLowerCase() == 'br') return '';

    var texts = [];
    var newLine = false;
    for (var i = 0; i < e.childNodes.length; ++i) {
        if (newLine) {
            newLine = false;
            texts.push('\n');
        }
        var childElt = e.childNodes[i];
        texts.push(getTextIn(childElt));


        if (childElt.nodeType != Node.TEXT_NODE
            && (window.getComputedStyle(childElt).display == 'block'
                || childElt.tagName.toLowerCase() == 'br')) {
            newLine = true;
        }
    }
    return texts.join('');
}


function textToNodes(text) {
    var lines = text.split(/\r?\n/);
    return lines.map(function (text) {
        if (text.length == 0) {
            return HTML5_Dom["a" /* default */].ShareInstance._({
                child: { tag: 'br' }
            });
        }
        else {
            return HTML5_Dom["a" /* default */].ShareInstance._({
                child: { text: text }
            });
        }
    });
}


/*
** Returns the caret (cursor) position of the specified text field (oField).
** Return value range is 0-oField.value.length.
*/
function Text_getCaretPosition(oField) {

    // Initialize
    var iCaretPos = 0;

    // IE Support
    if (document.selection) {

        // Set focus on the element
        oField.focus();

        // To get cursor position, get empty selection range
        var oSel = document.selection.createRange();

        // Move selection start to 0 position
        oSel.moveStart('character', -oField.value.length);

        // The caret position is selection length
        iCaretPos = oSel.text.length;
    }

    // Firefox support
    else if (oField.selectionStart || oField.selectionStart == '0')
        iCaretPos = oField.selectionDirection == 'backward' ? oField.selectionStart : oField.selectionEnd;

    // Return results
    return iCaretPos;
}


function setCaretPosition(oField, caretPos) {
    if (oField.createTextRange) {
        var range = oField.createTextRange();
        range.move('character', caretPos);
        range.select();
    }
    else {
        if (oField.selectionStart) {
            oField.focus();
            oField.setSelectionRange(caretPos, caretPos);
        }
        else
            oField.focus();
    }
}

function measureText(text, font) {
    // re-use canvas object for better performance
    var canvas = measureText.canvas || (measureText.canvas = document.createElement("canvas"));
    var context = canvas.getContext("2d");
    if (font)
        context.font = font;
    var metrics = context.measureText(text);
    return metrics;
}

// CONCATENATED MODULE: ./node_modules/absol/src/Converter/file.js
function blobToFile(theBlob, fileName) {
    return new File([theBlob], fileName);
}

function dataURItoBlob(dataURI) {
    var byteString = atob(dataURI.split(',')[1]);
    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];
    var ab = new ArrayBuffer(byteString.length);
    var ia = new Uint8Array(ab);
    for (var i = 0; i < byteString.length; i++) {
        ia[i] = byteString.charCodeAt(i);
    }
    var blob = new Blob([ab], { type: mimeString });
    return blob;

}

function blobToArrayBuffer(blob) {
    var fileReader = new FileReader();
    return new Promise(function (rs) {
        fileReader.onload = function (event) {
            var arrayBuffer = event.target.result;
            rs(arrayBuffer);
        };
        fileReader.readAsArrayBuffer(blob);
    });
}

function stringToBlob(text, type) {
    return new Blob([text], {
        type: type || 'text/plain'
    });
}
// CONCATENATED MODULE: ./node_modules/absol/src/Converter/base64.js
function base64EncodeUnicode(str) {
    return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,
        function toSolidBytes(match, p1) {
            return String.fromCharCode('0x' + p1);
        }));
};

function base64DecodeUnicode(str) {
    return decodeURIComponent(atob(str).split('').map(function (c) {
        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
    }).join(''));
}


var UnicodeBase64Converter = {
    encode: base64EncodeUnicode,
    decode: base64DecodeUnicode
};
// CONCATENATED MODULE: ./node_modules/absol/src/Time/Alarm.js
/**
 * 
 * @param {Date| Number} time 
 * @param {Function} callback 
 */
function Alarm(time, callback) {
    this.LIMIT_TIMEOUT = 2147483647;
    this.callback = callback;
    this.state = "STAND_BY";
    this.timeout = -1;
    if (typeof time == 'number')
        this.time = time;
    else this.time = time.getTime();
    this.args = Array.prototype.slice.call(arguments, 2);
    this.tick = this.tick.bind(this);
    if (this.time >= new Date().getTime())
        this.start();
    else
        this.kill();
}


Alarm.prototype.start = function () {
    if (this.state == 'STAND_BY' || this.state == "PAUSE") {
        this.state = "RUNNING";
        this.tick();
        return true;
    }
    return false;
};

Alarm.prototype.pause = function () {
    if (this.state == "RUNNING") {
        clearTimeout(this.timeout);
        this.timeout = -1;
        this.state = 'PAUSE';
    }
};

Alarm.prototype.tick = function () {
    var now = new Date().getTime();
    if (now >= this.time) {
        this.callback && this.callback.apply(null, this.args);
        this.start = 'FINISH';
    }
    else {
        var deltaTime = Math.min(this.LIMIT_TIMEOUT, this.time - now);
        this.timeout = setTimeout(this.tick, deltaTime);
        this.state = "RUNNING";
    }
}

Alarm.prototype.kill = function () {
    if (this.state != "FINISH" && this.state != "DEAD") {
        if (this.timeout >= 0)
            clearTimeout(this.timeout);
        this.state = 'DEAD';
        return true;
    }
    return false;
};


/* harmony default export */ var Time_Alarm = (Alarm);
// CONCATENATED MODULE: ./node_modules/absol/src/AppPattern/Ref.js
function Ref(value) {
    this.set(value);
}

Ref.prototype.toString = function () {
    return this.value + '';
};

Ref.prototype.valueOf = function () {
    return this.value;
};

Ref.prototype.set = function (value) {
    this.value = value;
};

Ref.prototype.get = function () {
    return this.value;
}

/* harmony default export */ var AppPattern_Ref = (Ref);





// CONCATENATED MODULE: ./node_modules/absol/src/Network/XHR.js

var XHR = {};


XHR.makeHttpObject = function () {
    try {
        return new XMLHttpRequest();
    }
    catch (error) { }
    try {
        return new ActiveXObject("Msxml2.XMLHTTP");
    }
    catch (error) { }
    try {
        return new ActiveXObject("Microsoft.XMLHTTP");
    }
    catch (error) { }

    throw new Error("Could not create HTTP request object.");
};

/***
 * 
 * @param {String} url
 * @param {String} body
 * @param {String} responseType
 * @param {Function} success
 * @param {Function} failure
 * @returns {Promise}
 */
XHR.getRequest = function (url, props, success, failure) {
    return new Promise(function (rs, rj) {
        var request = XHR.makeHttpObject();
        request.open("GET", url, true);
        if (typeof props == 'string')
            request.responseType = props || '';
        else if (props && (typeof props == 'object')) {
            Object.assign(request, props);
        }
        request.send(null);
        request.onreadystatechange = function () {
            if (request.readyState == 4) {
                if (request.status == 200) {
                    var response = request.response;
                    success && success(response);
                    rs(response);
                }
                else {
                    failure && failure(request.status, request.statusText);
                    rj(request.status);
                }
            }
        };

        request.onerror = function () {
            failure && failure(request.status, request.statusText);
            rj(new Error(request.status + request.statusText));
        };
    });
};


XHR.postRepquest = function (url, payload, props, headers, success, failure) {
    return new Promise(function (rs, rj) {
        var method = "POST";
        var shouldBeAsync = true;

        var request = XHR.makeHttpObject();

        request.onreadystatechange = function () {
            if (request.readyState == 4) {
                if (request.status == 200) {
                    success && success(request.response);
                    rs(request.response);
                }
                else if (failure) {
                    failure && failure(request.status, request.statusText);
                    rj({ status: request.status, statusText: request.statusText });
                }
            }
        };

        request.onerror = function () {
            failure && failure(request.status, request.statusText);
            rj(new Error(request.status + request.statusText));
        };

        request.open(method, url, shouldBeAsync);
        if (typeof props == 'string')
            request.responseType = props || '';
        else if (props && (typeof props == 'object')) {
            Object.assign(request, props);
        }
        headers = headers || {};
        headers["Content-Type"] = headers["Content-Type"] || "application/json;charset=UTF-8";
        Object.keys(headers).forEach(function (key) {
            request.setRequestHeader(key, headers[key]);
        });

        request.send(payload);
    });
};

XHR.request = function (method, url, props, headers, body, successCallback, failureCallback) {
    return new Promise(function (rs, rj) {
        var shouldBeAsync = true;
        var request = new XMLHttpRequest();

        request.onreadystatechange = function () {
            if (request.readyState == 4) {
                if (request.status == 200) {
                    successCallback && successCallback(request.response);
                    rs(request.response);
                }
                else {
                    failureCallback && failureCallback(request.status, request.statusText);
                    rj({ status: request.status, statusText: request.statusText });
                }
            }
        };

        request.onerror = function () {
            var error = new Error("Network Error!");
            if (failureCallback) failureCallback(error);
            rj(error);
        };

        request.open(method, url, shouldBeAsync);
        if (typeof props == 'string')
            request.responseType = props || '';
        else if (props && (typeof props == 'object')) {
            Object.assign(request, props);
        }
        headers = headers || {};
        headers["Content-Type"] = headers["Content-Type"] || "application/json;charset=UTF-8";
        Object.keys(headers).forEach(function (key) {
            request.setRequestHeader(key, headers[key]);
        });
        request.send(body);
    });
};

/* harmony default export */ var Network_XHR = (XHR);
// CONCATENATED MODULE: ./node_modules/absol/src/String/stringFormat.js
/**
 * 
 * @param {String} s 
 * @param {Number} maxLength 
 */
function wrapToLines(s, maxLength) {
    var res = [];
    var currentWord = '';
    var currentLine = '';
    for (var i = 0; i < s.length; ++i) {
        if (s[i].match(/\s/)) {
            if (currentWord.length + currentLine.length >= maxLength) {
                if (currentLine.length > 0) {
                    res.push(currentLine.trim());
                    currentLine = '';
                    currentWord = currentWord.trimLeft() + s[i];
                }
                else {
                    currentLine = currentLine + currentWord;
                    res.push(currentLine.trim());
                    currentLine = '';
                    currentWord = '';

                }
            }
            else {
                currentLine = currentLine + currentWord;
                currentWord = s[i];
            }
        }
        else {
            currentWord = currentWord + s[i];
        }
    }
    currentLine = (currentLine + currentWord).trim();
    if (currentLine.length > 0) res.push(currentLine);
    return res;
}

/**
 * 
 * @param {String} s
 * @returns {String} 
 */
function nonAccentVietnamese(s) {
    return s.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, "a")
        .replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, "A")
        .replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, "e")
        .replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, "E")
        .replace(/ì|í|ị|ỉ|ĩ/g, "i")
        .replace(/Ì|Í|Ị|Ỉ|Ĩ/g, "I")
        .replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, "o")
        .replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, "O")
        .replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, "u")
        .replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, "U")
        .replace(/ỳ|ý|ỵ|ỷ|ỹ/g, "y")
        .replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, "Y")
        .replace(/đ/g, "d")
        .replace(/Đ/g, "D")
        .replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g, "")
        .replace(/\u02C6|\u0306|\u031B/g, "");
}




/**
 * 
 * @param {String} s
 * @returns {String} 
 */
function pascalCaseToCamelCase(s) {
    return s.substr(0, 1).toLowerCase() + s.substr(1);
}

/**
 * 
 * @param {String} s
 * @returns {String} 
 */
function kebabCaseToCamelCase(s) {
    return s.replace(/-+([^-])/g, function (full, c) {
        return c.toUpperCase();
    });
}

/**
 * 
 * @param {String} s 
 * @returns {String} 
 */
function underScoreToCamelCase(s) {
    return s.replace(/(_+)?([^_]+)/g, function (full, underscore, word) {
        if (underscore) {
            if (word) {
                return word.substr(0, 1).toUpperCase() + word.substr(1).toLowerCase();
            }
            else return '';
        }
        else {
            return word.toLowerCase();
        };
    });
}


/**
 * 
 * @param {String} s 
 * @returns {String} 
 */
function camelCaseToPascalCase(s) {
    return s.substr(0, 1).toUpperCase() + s.substr(1);
}

/**
 * 
 * @param {String} s 
 * @returns {String} 
 */
function underScoreToPascalCase(s) {
    return s.replace(/(_+|^)?([^_]+)/g, function (full, underscore, word) {
        return word.substr(0, 1).toUpperCase() + word.substr(1).toLowerCase();
    });
}


/**
 * 
 * @param {String} s
 * @returns {String} 
 */
function kebabCaseToPascalCase(s) {
    return s.replace(/(-+|^)([^-])/g, function (full, u, c) {
        return c.toUpperCase();
    });
}


/**
 * 
 * @param {String} s
 * @returns {String} 
 */
function pascalCaseToKebabCase(s) {
    return s.replace(/[A-Z][^A-Z]*/g, function (full, index) {
        if (index == 0)
            return full.toLowerCase();
        return '-' + full.toLowerCase()
    });
}

/**
 * 
 * @param {String} s
 * @returns {String} 
 */
function camelCaseToKebabCase(s) {
    return s.replace(/(^|[A-Z])[^A-Z]*/g, function (full, index) {
        if (index == 0)
            return full.toLowerCase();
        return '-' + full.toLowerCase()
    });
}

/**
 * 
 * @param {String} s
 * @returns {String} 
 */
function underScoreToKebabCase(s) {
    return s.replace(/(^|_+)([^_]+)/g, function (full, score, word, index) {
        if (index == 0)
            return word.toLowerCase();
        return '-' + word.toLowerCase()
    });
}



/**
 * 
 * @param {String} s
 * @returns {String} 
 */
function pascalCaseToUnderScore(s) {
    return s.replace(/[A-Z][^A-Z]*/g, function (full, index) {
        if (index == 0)
            return full.toLowerCase();
        return '_' + full.toLowerCase()
    });
}

/**
 * 
 * @param {String} s
 * @returns {String} 
 */
function pascalCaseToUpperUnderScore(s) {
    return s.replace(/[A-Z][^A-Z]*/g, function (full, index) {
        if (index == 0)
            return full.toUpperCase();
        return '_' + full.toUpperCase()
    });
}


/**
 * 
 * @param {String} s
 * @returns {String} 
 */
function camelCaseToUnderScore(s) {
    return s.replace(/(^|[A-Z])[^A-Z]*/g, function (full, index) {
        if (index == 0)
            return full.toLowerCase();
        return '_' + full.toLowerCase()
    });
}
/**
 * 
 * @param {String} s
 * @returns {String} 
 */
function camelCaseToUpperUnderScore(s) {
    return s.replace(/(^|[A-Z])[^A-Z]*/g, function (full, index) {
        if (index == 0)
            return full.toUpperCase();
        return '_' + full.toUpperCase()
    });
}

/**
 * 
 * @param {String} s
 * @returns {String} 
 */
function kebabCaseToUnderScore(s) {
    return s.replace(/(-+|^)([^-]+)/g, function (full, u, word, index) {
        if (index == 0) return word.toLowerCase();
        return '_' + word.toLowerCase()
    });
}



/**
 * 
 * @param {String} s
 * @returns {String} 
 */
function kebabCaseToUpperUnderScore(s) {
    return s.replace(/(-+|^)([^-]+)/g, function (full, u, word, index) {
        if (index == 0) return word.toUpperCase();
        return '_' + word.toUpperCase()
    });
}



String.nonAccentVietnamese = nonAccentVietnamese;

String.prototype.nonAccentVietnamese = function () {
    return String.nonAccentVietnamese(this);
};
// EXTERNAL MODULE: ./node_modules/@babel/parser/lib/index.js
var lib = __webpack_require__(44);

// EXTERNAL MODULE: ./node_modules/absol/src/JSX/attribute.js
var JSX_attribute = __webpack_require__(14);

// CONCATENATED MODULE: ./node_modules/absol/src/JSX/dom.js



function domVisitor(jsxCode) {
    var visitor = {
        File: function (node, ac) {
            return acept(node.program, ac);
        },
        Program: function (node, ac) {
            ac.child = node.body.map(function (cNode) {
                return acept(cNode, {});
            });
            return ac;
        },
        ExpressionStatement: function (node, ac) {
            return acept(node.expression, ac);
        },
        JSXElement: function (node, ac) {
            acept(node.openingElement, ac);
            if (node.children && node.children.length > 0) {

                ac.child = node.children.map(function (cNode) {

                    return acept(cNode, {});
                });
            }
            return ac;

        },
        JSXOpeningElement: function (node, ac) {
            var name = {};
            acept(node.name, name);
            ac.tag = name.value;
            if (node.attributes && node.attributes.length > 0) {
                node.attributes.forEach(function (aNode) {
                    var attribute = {};
                    acept(aNode, attribute);
                    if (attribute.key) {
                        if (attribute.key.startsWith('data-')) {
                            ac.data = ac.data || {};
                            ac.data[attribute.key.replace('data-', '')] = attribute.value;
                        }
                        else if (attribute.key.startsWith('prop-')) {
                            ac.props = ac.props || {};
                            ac.props[attribute.key.replace('prop-', '')] = attribute.value;
                        }
                        else if (attribute.key.startsWith('on-')) {
                            ac.on = ac.props || {};
                            ac.on[attribute.key.replace('on-', '')] = attribute.value;
                        }
                        else if (attribute.key == 'style') {
                            ac.style = Object(JSX_attribute["parseStyleAttr"])(attribute.value);
                        }
                        else if (attribute.key == 'class') {
                            var classList = Object(JSX_attribute["parseClassAttr"])(attribute.value);
                            if (classList.length > 0)
                                ac.class = classList;
                        }
                        else{
                            ac.attr = ac.attr || {};
                            ac.attr[attribute.key] = attribute.value;
                        }
                    }
                }, {});
            }
            return ac;
        },
        JSXIdentifier: function (node, ac) {
            ac.value = node.name;
        },
        JSXAttribute: function (node, ac) {
            var key = {};
            acept(node.name, key);

            ac.key = key.value;
            var value = {};

            acept(node.value, value);
            ac.value = value.value;
            return ac;
        },
        StringLiteral: function (node, ac) {
            ac.value = node.value;
        },
        JSXExpressionContainer: function (node, ac) {
            ac.value = { expression: jsxCode.substring(node.expression.start, node.expression.end) };
            return ac;
        },
        JSXText: function (node, ac) {
            ac.text = node.value
            return ac;
        }
    };
    function acept(node, ac) {
        return node && visitor[node.type] && visitor[node.type](node, ac);
    }
    return {
        acept: acept,
        visitor: visitor
    }
}


/***
 * @param {String} jsxCode
 */
function parseDom(jsxCode) {
    jsxCode = jsxCode.trim().replace(/>\s+</gm, '><').replace(/<(\/?)(img|input|link|br|meta)([^>]*)>/g, function (sub, end, tag, content) {
        if (end == '/') return '';
        return '<' + tag + content + '/>';
    });
    var ast = lib["parse"](
        jsxCode,
        {
            plugins: [
                "jsx"
            ]
        });
    var xmlData = {};
    domVisitor(jsxCode).acept(ast, xmlData);
    if (xmlData.child.length > 1) return xmlData.child;
    return xmlData.child[0];
};


// CONCATENATED MODULE: ./node_modules/absol/src/AppPattern/Context.js
function Context() {
    this.state = "CREATE";
    /**
     * @type {Context}
     */
    this.parent = null;
}


/**
 * @returns {*}
 */
Context.prototype.getContext = function (key) {
    return this.getContextManager().get(key);
};

/**
 * @returns {*}
 */
Context.prototype.setContext = function (key, value) {
    return this.getContextManager().set(key, value);
};

/**
 * @returns {ContextManager}
 */
Context.prototype.getContextManager = function () {
    return this.parent.getContextManager();
};

/**
 * @param {Application} 
 */
Context.prototype.attach = function (parent) {
    //stop before attach to new context
    this.stop();
    /**
     * @type {Application}
     */
    this.parent = parent;
    this.state = "ATTACHED";
    this.onAttached && this.onAttached();
};

Context.prototype.detach = function () {
    this.stop();
    this.state = "DETACHED";
    this.onDetached && this.onDetached();
    this.parent = null;
};

Context.prototype.pause = function () {
    if (this.state.match(/RUNNING/)) {
        this.state = "PAUSE";
        this.onPause && this.onPause();
    }
    else {
        console.warn(this, "NOT RUNNING");
    }
};
Context.prototype.resume = function () {
    if (!this.state.match(/STANDBY||PAUSE/)) {
        console.error(this, 'NOT READY!');
        return;
    }
    if (this.state == "RUNNING") return;
    this.state = "RUNNING";
    this.onResume && this.onResume();
};

Context.prototype.start = function () {
    if (this.state.match(/DIE/)) {
        console.error(this, 'DIED!');
        return;
    }

    if (this.state.match(/RUNNING/)) return;

    if (this.state.match(/STOP|CREATE|ATTACHED/)) {
        this.state = "STANDBY";
        this.onStart && this.onStart();
    }
    if (this.state.match(/STANDBY|PAUSE/)) {
        this.resume();
    }
};

Context.prototype.stop = function () {
    if (this.state.match(/STOP|DIE|CREATE|ATTACHED|DETACHED/)) return;
    if (this.state.match(/RUNNING/)) this.pause();
    this.state = "STOP";
    this.onStop && this.onStop();
};

Context.prototype.destroy = function () {
    if (this.state.match(/DIE/)) return;
    if (this.state.match(/RUNNING|PAUSE/)) this.stop();
    this.state = "DIE";
    this.onDestroy && this.onDestroy();
};



/* harmony default export */ var AppPattern_Context = (Context);
// CONCATENATED MODULE: ./node_modules/absol/src/AppPattern/Activity.js


//NOTE: !impotant : don't make setter, getter for activity, just code like JAVA
/** 
 * @class
 */
function Activity() {
    AppPattern_Context.call(this);
}


Object.defineProperties(Activity.prototype, Object.getOwnPropertyDescriptors(AppPattern_Context.prototype));
Activity.prototype.constructor = Activity;


Activity.prototype.startActivity = function (activity) {
    if (this.parent) {
        this.parent.startActivity(activity);
    }
    else {
    }
};

Activity.prototype.finish = function () {
    if (this.parent) {
        this.parent.stopActivity(this);
    }
    else {

    }
};

/* harmony default export */ var AppPattern_Activity = (Activity);
// CONCATENATED MODULE: ./node_modules/absol/src/AppPattern/ContextManager.js
function ContextManager(){
    this.__contextData__ = {};
}

/**
 * @param {String} key
 * @returns {*}
 */
ContextManager.prototype.get = function(key){
    return this.__contextData__[key];
};


/**
 * @param {String} key
 * @param {*} value
 * @returns {Context}
 */
ContextManager.prototype.set = function(key, value){
    this.__contextData__[key] = value;
    return this;
};

ContextManager.prototype.assign = function(obj){
    Object.assign(this.__contextData__, obj);
    return this;
};

ContextManager.prototype.remove = function(key){
    delete this.__contextData__[key];
    return this;
};

ContextManager.prototype.contains = function(key){
    return  (key in this.__contextData__);
};



/* harmony default export */ var AppPattern_ContextManager = (ContextManager);
// CONCATENATED MODULE: ./node_modules/absol/src/AppPattern/Application.js



/**
 * @class
 */
function Application() {
    AppPattern_Context.call(this);
    this.activityStack = [];
    /** @type {Activity} */
    this.currentActivity = null;
    this.contextManager = new AppPattern_ContextManager();
}

Object.defineProperties(Application.prototype, Object.getOwnPropertyDescriptors(AppPattern_Context.prototype));
Application.prototype.constructor = Application;

Application.prototype.getContextManager = function () {

    return this.contextManager;
};

/**
 * @param {Activity} activity
 */
Application.prototype.startActivity = function (activity) {
    if (this.currentActivity != null) {
        this.currentActivity.pause();
        this.activityStack.push(this.currentActivity);
    }
    this.currentActivity = activity;
    this.appendChild(activity);
    activity.attach(this);
    this.setContentView(activity.getView(), true);
    activity.start();
};

/**
 * @param {Activity} activity
 */
Application.prototype.stopActivity = function (activity) {
    if (this.currentActivity == activity) {
        if (this.activityStack.length == 0) {
            //todo
        }
        else {
            activity.detach();
            this.removeChild(this.currentActivity);
            this.currentActivity = this.activityStack.pop();
            this.setContentView(this.currentActivity.getView());
            this.currentActivity.resume();
        }
    }
    else {
        console.error("NOT ON TOP ACTIVITY");
    }
};

/**
 * @param {HTMLElement} view
 */
Application.prototype.setContentView = function (view, overlay) {
    throw new Error("Not Implement!");
};

Application.prototype.backToTopActivity = function () {
    while (this.activityStack.length > 0) {
        this.currentActivity.stop();
        this.currentActivity = this.activityStack.pop();
    }
    this.setContentView(this.currentActivity.getView());
    this.currentActivity.resume();
};

/* harmony default export */ var AppPattern_Application = (Application);
// CONCATENATED MODULE: ./node_modules/absol/src/AppPattern/VarScope.js
function VarScope(parent) {
    this.parent = parent;
    this.data = {};
}

VarScope.prototype.declare = function (name, initValue) {
    if (name in this.data) throw new Error(name + ' is already delared in this scope!');
    this.data[name] = initValue;
};

VarScope.prototype.get = function (name) {
    var scope = this.findScope(name);
    if (!scope) throw new Error(name + ' is not declared!');
    return scope.data[name];
};

VarScope.prototype.set = function (name, value) {
    var scope = this.findScope(name);
    if (!scope) throw new Error(name + ' is not declared!');
    scope.data[name] = value;
};


VarScope.prototype.findScope = function (name) {
    var currentScope = this;
    while (currentScope) {
        if (name in currentScope.data) break;
        currentScope = currentScope.parent;
    }
    return currentScope;
};

/* harmony default export */ var AppPattern_VarScope = (VarScope);


// CONCATENATED MODULE: ./node_modules/absol/src/AppPattern/Fragment.js




function Fragment(){
    AppPattern_Context.call(this);
    this.ctxMng = new AppPattern_ContextManager();
}

Object.defineProperties(Fragment.prototype, Object.getOwnPropertyDescriptors(AppPattern_Context.prototype));
Fragment.prototype.constructor = Fragment;


Fragment.prototype.getContextManager = function () {
    return this.ctxMng;
};

Fragment.prototype.getView = function () {
    if (this.$view) return this.$view;
    this.$view = this.createView() || this.$view;
    if (!this.$view) throw new Error("this.$view must be not null!");
    if (this.onCreated) this.onCreated();
    return this.$view;
};

/**
 * find context from parent
 */
Fragment.prototype.getContext = function () {
    return AppPattern_Context.prototype.getContext.apply(this, arguments)
        || (this.parent && this.parent.getContext.apply(this.parent, arguments));
};


/* harmony default export */ var AppPattern_Fragment = (Fragment);
// CONCATENATED MODULE: ./node_modules/absol/src/Math/Vec2.js
/***
 *
 * @param  {Number} x
 * @param {Number} y
 * @constructor
 */
function Vec2(x, y) {
    this.x = x;
    this.y = y;
}

/***
 *
 * @returns {Vec2}
 */
Vec2.prototype.copy = function () {
    return new Vec2(this.x, this.y);
};

/***
 *
 * @returns {string}
 */
Vec2.prototype.toString = function () {
    return "(" + this.x + ", " + this.y + ")";
};

/***
 *
 * @returns {number}
 */
Vec2.prototype.abs = function () {
    return Math.sqrt(this.x * this.x + this.y * this.y);
};

/***
 *
 * @returns {Vec2}
 */
Vec2.prototype.normalized = function () {
    var l = this.abs();
    if (l == 0) l = 1;
    return this.div(l);
};

/***
 *
 * @param {number} h
 * @returns {Vec2}
 */
Vec2.prototype.mult = function (h) {
    return new Vec2(this.x * h, this.y * h);
};

/***
 *
 * @param {number} h
 * @returns {Vec2}
 */
Vec2.prototype.div = function (h) {
    return new Vec2(this.x / h, this.y / h);
};

/***
 *
 * @param v
 * @returns {number}
 */
Vec2.prototype.dist = function (v) {
    var dx = v.x - this.x;
    var dy = v.y - this.y;
    return Math.sqrt(dx * dx + dy * dy);
};

/***
 *
 * @param {Vec2} v
 * @returns {Vec2}
 */
Vec2.prototype.sub = function (v) {
    return new Vec2(this.x - v.x, this.y - v.y);
};

/***
 *
 * @param {Vec2} v
 * @returns {Vec2}
 */
Vec2.prototype.add = function (v) {
    return new Vec2(this.x + v.x, this.y + v.y);
};

/***
 *
 * @returns {Vec2}
 */
Vec2.prototype.inv = function () {
    return new Vec2(-this.x, -this.y);
};

/***
 *
 * @param {Vec2} v
 * @param {number} h
 * @returns {Vec2}
 */
Vec2.prototype.linear = function (v, h) {
    return new Vec2(this.x * (1 - h) + v.x * h, this.y * (1 - h) + v.y * h);
};

/***
 *
 * @param {Vec2} v1
 * @returns {number}
 */
Vec2.prototype.dot = function (v1) {
    return this.x * v1.x + this.y * v1.y;
};

/***
 *
 * @returns {number}
 */
Vec2.prototype.direction = function () {
    return Math.atan2(this.y, this.x);
};

/***
 *
 * @param {Number} dx
 * @param {Number} dy
 */
Vec2.prototype.translate = function (dx, dy) {
    return this.add(new Vec2(dx, dy));
};


/****
 *
 * @param {Number} angle - radian
 * @returns {Vec2}
 */
Vec2.prototype.rotate = function (angle) {
    var sinA = Math.sin(angle);
    var cosA = Math.cos(angle);
    var x = this.x * cosA - this.y * sinA;
    var y = this.x * sinA + this.y * cosA;
    return new Vec2(x, y);
};

/***
 *
 * @returns {Vec2}
 */
Vec2.prototype.rotate90 = function () {
    return new Vec2(-this.y, this.x);
};


/***
 *
 * @param {number} angle
 * @returns {Vec2}
 */
Vec2.fromDirection = function (angle) {
    return new Vec2(Math.cos(angle), Math.sin(angle));
};

/***
 *
 * @param x
 * @param y
 * @returns {Vec2}
 */
Vec2.make = function (x, y) {
    if (x instanceof Array) {
        return new Vec2(x[0], x[1]);
    }
    else if (x instanceof Vec2) {
        return x.copy();
    }
    else
        return new Vec2(x, y);
};

/* harmony default export */ var Math_Vec2 = (Vec2);
// CONCATENATED MODULE: ./node_modules/absol/src/Math/Rectangle.js


/**
 *
 * @param {Number} x
 * @param {Number} y
 * @param {Number} width
 * @param {Number} height
 */
function Rectangle(x, y, width, height) {
    this.width = width;
    this.height = height;
    this.x = x;
    this.y = y;
}

/**
 *
 * @return {Vec2}
 * @constructor
 */
Rectangle.prototype.A = function () {
    return new Math_Vec2(this.x, this.y);
};

/***
 *
 * @return {Vec2}
 * @constructor
 */
Rectangle.prototype.B = function () {
    return new Math_Vec2(this.x + this.width, this.y);
};

/***
 *
 * @return {Vec2}
 * @constructor
 */
Rectangle.prototype.C = function () {
    return new Math_Vec2(this.x + this.width, this.y + this.height);
};

/***
 *
 * @return {Vec2}
 * @constructor
 */
Rectangle.prototype.D = function () {
    return new Math_Vec2(this.x, this.y + this.height);
};

/***
 *
 * @return {number}
 */
Rectangle.prototype.square = function () {
    return this.width * this.height;
};


Rectangle.prototype.nearestPoint = function (arg0, arg1) {
    if (arg1) arg0 = Math_Vec2.make(arg0, arg1);
    var res = this.A();
    var mind = res.dist(arg0);
    var d = this.B().dist(arg0);
    if (d < mind) {
        mind = d;
        res = this.B();
    }
    d = this.C().dist(arg0);
    if (d < mind) {
        mind = d;
        res = this.C();
    }
    d = this.D().dist(arg0);
    if (d < mind) {
        mind = d;
        res = this.D();
    }
    return res;
};

Rectangle.prototype.centerPoint = function () {
    return new Math_Vec2(this.x + this.width / 2, this.y + this.height / 2);
};

/***
 *
 * @param {Rectangle} r
 * @param {boolean} margin
 * @return {boolean}
 */
Rectangle.prototype.isCollapse = function (r, margin) {
    if (!margin) margin = 0;
    if (this.x >= r.x + r.width + margin) return false;
    if (this.y >= r.y + r.height + margin) return false;

    if (r.x >= this.x + this.width + margin) return false;
    if (r.y >= this.y + this.height + margin) return false;
    return true;
};

/***
 *
 * @param {Rectangle} r
 * @return {number}
 */
Rectangle.prototype.collapsedSquare = function (r) {
    var collapseRect = this.collapsedRect(r);
    if (collapseRect) {
        return collapseRect.square();
    }
    else {
        return 0;
    }
};

/***
 *
 * @param {Rectangle} r
 * @return {Rectangle}
 */
Rectangle.prototype.collapsedRect = function (r) {
    var maxX, minX, maxY, minY, width, height;
    minX = Math.max(this.x, r.x);
    minY = Math.max(this.y, r.y);
    maxX = Math.min(this.x + this.width, r.x + r.width);
    maxY = Math.min(this.y + this.height, r.y + r.height);
    width = maxX - minX;
    height = maxY - minY;
    if (width >= 0 && height >= 0) {
        return new Rectangle(minX, minY, width, height);
    }
    return null;
};

/**
 * @param {Rectangle} r
 * @returns {Boolean}
 */
Rectangle.prototype.contains = function (r) {
    return (this.x <= r.x) && (this.y <= r.y) && (this.x + this.width >= r.x + r.width) && (this.y + this.height >= r.y + r.height);
};

/**
 * @param {Vec2} p
 * @returns {Boolean}
 */
Rectangle.prototype.containsPoint = function (p) {
    return (this.x <= p.x) && (this.y <= p.y) && (this.x + this.width >= p.x) && (this.y + this.height >= p.y);
};

/**
 * @param {Rectangle} other
 * @returns {Rectangle}
 */
Rectangle.prototype.merge = function (other) {
    var left = Math.min(this.x, other.x);
    var top = Math.min(this.y, other.y);
    var right = Math.max(this.x + this.width, other.x + other.width);
    var bottom = Math.max(this.y + this.height, other.y + other.height);
    return new Rectangle(left, top, right - left, bottom - top);
};


/**
 * @returns {Rectangle}
 */
Rectangle.prototype.clone = function () {
    return new Rectangle(this.x, this.y, this.width, this.height);
};

/***
 *
 * @param {Rectangle} r
 */
Rectangle.prototype.equals = function (r) {
    return this.x == r.x && this.y == r.y && this.height == r.height && this.width == r.width;
};

/**
 * @param {Number} x
 * @param {Number} y
 * @param {Number} width
 * @param {Number} height
 * @returns {Rectangle}
 */
Rectangle.make = function (x, y, width, height) {
    return new Rectangle(x, y, width, height);
};


/**
 * @param {Number} x
 * @param {Number} y
 * @param {Number} width
 * @param {Number} height
 * @returns {Rectangle}
 */
Rectangle.makeCenter = function (x, y, width, height) {
    return new Rectangle(x - width / 2, y - height / 2, width, height);
};

/**
 * @param {ClientRect} clientRect
 * @returns {Rectangle}
 */
Rectangle.fromClientRect = function (clientRect) {
    return new Rectangle(clientRect.left, clientRect.top, clientRect.width, clientRect.height);
};

/* harmony default export */ var Math_Rectangle = (Rectangle);
// CONCATENATED MODULE: ./node_modules/absol/src/Math/int.js
/**
 *
 * @param {number} x
 * @param {number} l
 * @param {number} h
 * @param {number} L
 * @param {number} H
 * @returns {number}
 */
function int_map(x, l, h, L, H) {
    return (x - l) / (h - l) * (H - L) + L;
}


function sumArr(arr) {
    var res = 0;
    for (var i = 0; i < arr.length; ++i)
        res += arr[i];
    return res;
}

function radianInRange(x, start, end) {
    if (start > end) return radianInRange(x, end, start);
    if (x < start) x += (Math.PI * 2) * Math.ceil((start - x) / 2 / Math.PI);
    if (x > end) x -= (Math.PI * 2) * Math.ceil((x - end) / 2 / Math.PI);
    return x >= start && x <= end;
}


function int_distance(x0, y0, x1, y1) {
    var dx = x0 - x1;
    var dy = y0 - y1;
    return Math.sqrt(dx * dx + dy * dy);
}

/**
 *
 * @param {Number} numb
 * @param {Number} floatFixed
 * @param {"."|","} decimalSeparator
 * @param {","|"."} thousandsSeparator
 * @param {Number} decimalPadding
 */
function numberToString(numb, floatFixed, decimalSeparator, thousandsSeparator, decimalPadding) {
    if (floatFixed === undefined || floatFixed === null || typeof floatFixed != "number" || isNaN(floatFixed) || floatFixed < -1) floatFixed = -1;
    if (decimalSeparator === undefined || decimalSeparator === null || (decimalSeparator != '.' && decimalSeparator != ',')) decimalSeparator = '.';
    if (thousandsSeparator === undefined || thousandsSeparator === null || (floatFixed >= 0 && thousandsSeparator == decimalSeparator)) thousandsSeparator = undefined;
    if (thousandsSeparator != ',' && thousandsSeparator != '.') thousandsSeparator = undefined;
    if (decimalPadding === undefined || decimalPadding === null || typeof decimalPadding != "number" || isNaN(decimalPadding) || decimalPadding < 0) decimalPadding = 0;

    var text = numb.toString();
    var matched = text.match(/[+-]?([0-9]*)(\.([0-9]*))?(e([+-]?[0-9]+))?/);
    var dec = matched[1] || '';
    var real = matched[3] || '';
    var floatPoint = parseInt(matched[5] || '0');
    var decDigits = dec.split('').map(function (d) {
        return parseInt(d)
    });
    var realDigits = real.split('').map(function (d) {
        return parseInt(d)
    });

    while (floatPoint < 0) {
        if (decDigits.length > 0) {
            realDigits.unshift(decDigits.pop());
        }
        else {
            realDigits.unshift(0);
        }
        floatPoint++;
    }
    while (floatPoint > 0) {
        if (realDigits.length > 0) {
            decDigits.push(realDigits.unshift());
        }
        else {
            decDigits.push(0);
        }
        floatPoint++;
    }

    var mem = 0, i, cValue;
    if (floatFixed > realDigits.length) {
        while (realDigits.length < floatFixed) {
            realDigits.push(0);
        }
    }
    else if (floatFixed < realDigits.length && floatFixed >= 0) {
        i = floatFixed;
        mem = realDigits[i] >= 5 ? 1 : 0;
        realDigits.splice(floatFixed);
        --i;
        while (mem > 0) {
            if (i >= 0) {
                cValue = realDigits[i] + mem;
                realDigits[i] = cValue % 10;
                mem = Math.floor(cValue / 10);
            }
            else {
                if (decDigits.length + i < 0) decDigits.unshift(0);
                cValue = decDigits[decDigits.length + i] + mem;
                decDigits[decDigits.length + i] = cValue % 10;
                mem = Math.floor(cValue / 10);
            }
            --i;
        }
    }


    while (decDigits.length < decimalPadding) {
        decDigits.unshift(0);
    }

    var decText = numb < 0 ? '-' : '';
    var breadMod = (decDigits.length + 2) % 3;
    if (thousandsSeparator) {
        for (i = 0; i < decDigits.length; ++i) {
            decText += decDigits[i];
            if (i % 3 == breadMod && i + 1 < decDigits.length) {
                decText += thousandsSeparator;
            }
        }
    }
    else {
        decText += decDigits.join('');
    }

    var realText = realDigits.length == 0 ? '' : decimalSeparator + realDigits.join('');

    return decText + realText;
}


function numberAutoFixed(x, eDelta) {
    eDelta = eDelta || 10;
    eDelta = Math.round(eDelta);
    var e = parseFloat('1e+' + eDelta);
    return Math.round(x * e) / e;
}

function harmonicMean(a, b) {
    return 2 / (1 / a + 1 / b);
}
// CONCATENATED MODULE: ./node_modules/absol/src/Math/Arc.js



function Arc(x, y, r, start, end) {
    this.x = x;
    this.y = y;
    this.r = r;
    this.start = start;
    this.end = end;
}

Arc.prototype.isPointInBound = function (p) {
    if (int_distance(this.x, this.y, p.x, p.y) > r) return false;
    return radianInRange(Math.atan2(p.y - this.y, p.x - this.x), start, end);
};

Arc.prototype.isRectInBound = function (rect) {
    return this.isPointInBound(rect.A()) && this.isPointInBound(rect.B()) &&
        this.isPointInBound(rect.C()) && this.isPointInBound(rect.D());
};

Arc.prototype.isRectOutBound = function (rect) {
    return !this.isPointInBound(rect.A()) && !this.isPointInBound(rect.B()) &&
        !this.isPointInBound(rect.C()) && !this.isPointInBound(rect.D());
};

Arc.prototype.isRectCollapse = function (rect) {
    return this.isPointInBound(rect.A()) || this.isPointInBound(rect.B()) ||
        this.isPointInBound(rect.C()) || this.isPointInBound(rect.D());
};


Arc.prototype.centerPoint = function () {
    var mid = (this.start + this.end) / 2;
    var x = this.x + Math.cos(mid) * this.r * 2 / 3;
    var y = this.y + Math.sin(mid) * this.r * 2 / 3;
    return new Math_Vec2(x, y);
};

Arc.prototype.centerRoundPoint = function () {
    var mid = (this.start + this.end) / 2;
    var x = this.x + Math.cos(mid) * this.r;
    var y = this.y + Math.sin(mid) * this.r;
    return new Math_Vec2(x, y);
};


Arc.make = function (x, y, r, start, end) {
    return new Arc(x, y, r, start, end);
};


/* harmony default export */ var Math_Arc = (Arc);
// CONCATENATED MODULE: ./node_modules/absol/src/Math/NumRange.js
/**
 * 
 * @param {Number} start 
 */
function NumRange(start, length) {
    if (arguments.length == 1)
        length = 0;
    else if (arguments.length == 0) {
        length = 0;
        start = 0;
    }
    this.start = start;
    this.length = length;
}


/**
 * @param {Number} num 
 */
NumRange.prototype.contains = function (num) {
    return (num >= this.start) && (num <= this.start + this.length);
};


/**
 * @param {NumRange} other
 * @returns {NumRange}
 */
NumRange.prototype.merge = function (other) {
    var start = Math.min(this.start, other.start);
    var end = Math.max(this.start + this.length, other.start + other.length);
    return new NumRange(start, end - start);
};


NumRange.prototype.centerValue = function () {
    return this.start + this.length / 2;
};


/**
 * @param {NumRange} other
 * @returns {Boolean}
 */
NumRange.prototype.isCollapse = function (other) {
    var start = Math.max(this.start, other.start);
    var end = Math.min(this.start + this.length, other.start + other.length);
    return start <= end;
};


/**
 * @param {NumRange} other
 * @returns {Boolean}
 */
NumRange.prototype.collapsedNumRange = function (other) {
    var start = Math.max(this.start, other.start);
    var end = Math.min(this.start + this.length, other.start + other.length);
    if (start <= end)
        return new NumRange(start, end - start);
    return null;
};


NumRange.prototype.clone = function () {
    return new NumRange(this.start, this.length);
};


/* harmony default export */ var Math_NumRange = (NumRange);
// CONCATENATED MODULE: ./node_modules/absol/src/HTML5/Clipboard.js
function copyImage(src) {
   
    var ranges, sel;
    if (window.getSelection) {
        sel = window.getSelection();
        //backup
        ranges = [];
        for (var i = 0; i < sel.rangeCount; ++i) {
            ranges.push(sel.getRangeAt(i));
        }
        
        //copy
        var contentdiv = document.createElement('div');
        var image = document.createElement('img');
        contentdiv.appendChild(image);
        image.src = src;
        contentdiv.contentEditable = true;
        // contentdiv.style.display = 'none';
        document.body.appendChild(contentdiv);

        var range = document.createRange();
        range.selectNodeContents(image);
        sel.removeAllRanges();
        sel.addRange(range);
        document.execCommand('copy');
        // contentdiv.remove();

        //recover 
        sel.removeAllRanges();
        for (var i = 0; i < sel.rangeCount; ++i) {
            sel.addRange(ranges[i]);
        }
    }
    else {
        console.error("Not support copy!")
        //not support IE
    }
}



// CONCATENATED MODULE: ./node_modules/absol/src/DataStructure/Heap.js
function defaultCmp(x, y) {
    if (x < y) {
        return -1;
    }
    if (x > y) {
        return 1;
    }
    return 0;
};


/**
 * 
 * @param {Array} arr 
 * @param {Number} pos 
 * @param {Function} cmp 
 */
function heapDown(arr, pos, cmp) {
    if (!cmp) cmp = defaultCmp;
    var item = arr[pos];
    var endPos = arr.length;
    var childPos = (pos << 1) | 1;
    var childRightPos;
    while (childPos < endPos) {
        childRightPos = childPos + 1;
        if (childPos + 1 < endPos && cmp(arr[childPos], arr[childRightPos]) > 0) {
            childPos = childRightPos;
        }
        if (cmp(arr[childPos], item) < 0) {
            arr[pos] = arr[childPos];
            arr[childPos] = item;
            pos = childPos;
            childPos = (pos << 1) | 1;
        }
        else break;
    }
}


/**
 * 
 * @param {Array} arr 
 * @param {Number} pos 
 * @param {Function} cmp 
 */
function heapUp(arr, pos, cmp) {
    if (!cmp) cmp = defaultCmp;
    var item = arr[pos];
    var parPos;
    while (pos > 0) {
        parPos = (pos - 1) >> 1;
        if (cmp(arr[parPos], item) > 0) {
            arr[pos] = arr[parPos];
            arr[parPos] = item;
            pos = parPos;
        }
        else break;
    }
}


/**
 *
 * @param {Array} arr
 * @param {Function} cmp
 */
function heapify(arr, cmp) {
    if (!cmp) cmp = defaultCmp;
    var endPos = arr.length;
    for (var i = 0; i < endPos; ++i)
        heapUp(arr, i, cmp);
}



/**
 * 
 * @param {Array} arr 
 * @param {Function} cmp 
 */
function heapPop(arr, cmp) {
    if (!cmp) cmp = defaultCmp;
    var item = arr[0];
    var lastItem = arr.pop();
    if (arr.length > 0) {
        arr[0] = lastItem;
        heapDown(arr, 0, cmp);
    }
    return item;
}


/**
 * 
 * @param {Array} arr 
 * @param {*} item
 * @param {Function} cmp 
 */
function heapPush(arr, item, cmp) {
    if (!cmp) cmp = defaultCmp;
    arr.push(item);
    heapUp(arr, arr.length - 1, cmp);
}




function Heap(cmd) {
    this.cmp = cmd || defaultCmp;
    this.arr = [];
}

/**
 * @param {Array} arr
 * @param {Function} cmp
 * @returns {Heap}
 */
Heap.fromArray = function (arr, cmp) {
    var heap = new Heap(cmp);
    heapify(arr);
    heap.arr = arr;
    return heap;
};



Heap.prototype.push = function (x) {
    heapPush(this.arr, x, this.cmp);
    return this;
};

Heap.prototype.pop = function () {
    return heapPop(this.arr, this.cmp);
};

Heap.prototype.peek = function () {
    return this.arr[0];
};

Heap.prototype.contains = function (x) {
    return this.arr.indexOf(x) !== -1;
};


Heap.prototype.clear = function () {
    this.arr.splice(0, this.arr.length);
    return this;
};

Heap.prototype.empty = function () {
    return this.arr.length === 0;
};

Heap.prototype.size = function () {
    return this.arr.length;
};

Heap.prototype.clone = function () {
    var heap;
    heap = new Heap(this.cmp);
    heap.arr = this.arr.slice(0);
    return heap;
};

Heap.prototype.toArray = function () {
    return this.arr.slice(0);
};

Heap.prototype.toSortedArray = function () {
    var res = [];
    var heap = this.clone();
    while (!heap.empty())
        res.push(heap.pop());
    return res;
};


Heap.prototype.insert = Heap.prototype.push;

Heap.prototype.top = Heap.prototype.peek;

Heap.prototype.front = Heap.prototype.peek;

Heap.prototype.has = Heap.prototype.contains;

Heap.prototype.copy = Heap.prototype.clone;

/* harmony default export */ var DataStructure_Heap = (Heap);

// CONCATENATED MODULE: ./node_modules/absol/src/Time/datetime.js


var MILLIS_PER_DAY = 24 * 3600000;
var MILLIS_PER_HOUR = 3600000;
var MILLIS_PER_MINUTE = 60000;

/**
 * 
 * @param {Date} date 
 * @returns {String}
 */
function ddmmyyyy(date) {
    var mm = date.getMonth() + 1; // getMonth() is zero-based
    var dd = date.getDate();

    return [(dd > 9 ? '' : '0') + dd,
    (mm > 9 ? '' : '0') + mm,
    date.getFullYear()
    ].join('/');
};



/**
 * 
 * @param {Date} date
 * @returns {String} 
 */
function yyymmdd(date) {
    var mm = date.getMonth() + 1; // getMonth() is zero-based
    var dd = date.getDate();

    return [
        date.getFullYear(),
        (mm > 9 ? '' : '0') + mm,
        (dd > 9 ? '' : '0') + dd
    ].join('/');
};





var dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
var shortDayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
var monthNames = ["January", "February", "March", "April", "May", "June",
    "July", "August", "September", "October", "November", "December"
];

var shortMonthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun",
    "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];



var formatTokenRegex = /([,\.\-\/])|([a-zA-Z0-9]+)/g;//more

/**
 * 
 * @param {Date} date 
 * @param {String} format 
 * @returns {String}
 */
function formartDateString(date, format) {
    format = format || 'dd/mm/yyyy';
    var dt = date.getDate();
    var day = date.getDay();
    var month = date.getMonth();
    var year = date.getFullYear()
    return format.replace(formatTokenRegex, function (x) {
        switch (x) {
            case "dddd": return dayNames[day];
            case "ddd": return shortDayNames[day];
            case "dd": return dt < 10 ? '0' + dt : '' + dt;
            case "d": return '' + dt;
            case "mmmm": return monthNames[month];
            case "mmm": return shortMonthNames[month];
            case "mm": return (month + 1) < 10 ? '0' + (month + 1) : '' + (month + 1);
            case "m": return '' + (month + 1);
            case 'yy': return (year + '').match(/..$/)[0];
            case 'yyyy': return year + '';
            default:
                return x;
        }
    });
};

/**
 *
 * @param {String} text
 * @param {String} format
 * @returns {String}
 */
function parseDateString(text, format) {
    text = nonAccentVietnamese(text).toLowerCase();
    format = nonAccentVietnamese(format).toLowerCase();
    var textTokens = text.match(formatTokenRegex) || [];
    var formatTokens = format.match(formatTokenRegex) || [];
    var year = NaN;
    var month = NaN;
    var day = NaN;
    var n = Math.min(textTokens.length, formatTokens.length);
    var textToken;
    var formatToken;
    for (var i = 0; i < n; ++i) {
        textToken = textTokens[i];
        formatToken = formatTokens[i];
        switch (formatToken) {
            case "dd": day = parseInt(textToken); break;
            case "d": day = parseInt(textToken); break;
            case "mmmm": month = monthNames.indexOf(textToken.substr(0, 1).toUpperCase() + textToken.substr(1).toLowerCase()); break;
            case "mmm": month = shortMonthNames.indexOf(textToken.substr(0, 1).toUpperCase() + textToken.substr(1).toLowerCase()); break;
            case "mm": month = parseInt(textToken) - 1; break;
            case "m": month = parseInt(textToken) - 1; break;
            case 'yy': year = Math.floor((new Date().getFullYear()) / 100) * 100 + parseInt(textToken); break;
            case 'yyyy': year = parseInt(textToken); break;
            default:
                if (textToken != formatToken)
                    throw new Error('Unexpected token ' + textToken);
        }
    }

    if (isNaN(year)) throw new Error('Invalid year');
    if (isNaN(month) && month != -1) {
        throw new Error('Invalid month');
    }
    else {
        month = Math.max(0, Math.min(11, month));
    }
    if (!isNaN(day)) {
        day = Math.max(1, Math.min(31, day));
        if (!isNaN(month)) {
            day = Math.min(daysInMonth(2000, month), day);
            if (!isNaN(year)) day = Math.min(daysInMonth(year, month), day);
        }
    }
    else {
        throw new Error('Invalid day');
    }
    return new Date(year, month, day, 0, 0, 0, 0);
}


/**
 * @param {Date} date
 * @return {Date}  
 */
function prevDate(date) {
    return new Date(date.getTime() - 86400000);
};

/**
 * @param {Date} date
 * @return {Date}  
 */
function nextDate(date) {
    return new Date(date.getTime() + 86400000);
};



/**
 * @param {Date} date
 * @return {Date} date at 00:00 
 */
function beginOfHour(date) {
    var res = new Date(date.getTime());
    res.setMilliseconds(0);
    res.setSeconds(0);
    res.setMinutes(0);
    return res;
};


/**
 * @param {Date} date
 * @param {Boolean} gmt default:false
 * @return {Date} date at 00:00 
 */
function beginOfDay(date, gmt) {
    var res = new Date(date.getTime());
    res.setMilliseconds(0);
    res.setSeconds(0);
    res.setMinutes(0);
    if (gmt)
        res.setUTCHours(0);
    else res.setHours(0);
    return res;
};


/**
 * @param {Date} date
 * @param {Boolean} gmt default:false
 * @return {Date} date at 00:00 
 */
function beginOfWeek(date, gmt, begin) {
    begin = begin || 0;
    var res = beginOfDay(date, gmt);
    while ((gmt ? res.getUTCDay() : res.getDay()) != begin) {
        res = prevDate(res);
    }
    return res;
};

/**
 * @param {Date} date
 * @param {Boolean} gmt default:false
 * @return {Date} date at 00:00 AM 
 */
function datetime_beginOfMonth(date, gmt) {
    gmt = !!gmt;
    var d = gmt ? date.getUTCDate() : date.getDate();
    var m = gmt ? date.getUTCMonth() : date.getMonth();
    var y = gmt ? date.getUTCFullYear() : date.getFullYear();
    var res = new Date();
    if (gmt)
        res.setUTCFullYear(y, m, 1);
    else
        res.setFullYear(y, m, 1);
    return beginOfDay(res, gmt);
};

/**
 * @param {Date} date
 * @param {Boolean} gmt default:false
 * @return {Date} date at 00:00 AM 
 */
function beginOfYear(date, gmt) {
    gmt = !!gmt;
    var d = gmt ? date.getUTCDate() : date.getDate();
    var m = gmt ? date.getUTCMonth() : date.getMonth();
    var y = gmt ? date.getUTCFullYear() : date.getFullYear();
    var res = new Date();
    if (gmt)
        res.setUTCFullYear(y, 0, 1);
    else
        res.setFullYear(y, 0, 1);
    return beginOfDay(res, gmt);
};


/**
 * @param {Date} date0
 * @param {Date} date1
 * @param {Boolean} gmt default:false
 * @return {number} 
 */
function compareDate(date0, date1, gmt) {
    var date0 = beginOfDay(date0, !!gmt);
    var date1 = beginOfDay(date1, !!gmt);
    return (date0.getTime() - date1.getTime()) / (86400000);
};



/**
 * @param {Date} date0
 * @param {Date} date1
 * @param {Boolean} gmt default:false
 * @return {number} 
 */

function compareMonth(date0, date1, gmt) {
    gmt = !!gmt;
    var m0 = gmt ? date0.getUTCMonth() : date0.getMonth();
    var y0 = gmt ? date0.getUTCFullYear() : date0.getFullYear();

    var m1 = gmt ? date1.getUTCMonth() : date1.getMonth();
    var y1 = gmt ? date1.getUTCFullYear() : date1.getFullYear();

    return (y0 - y1) * 12 + (m0 - m1);
};

function compareYear(date0, date1, gmt) {
    gmt = !!gmt;
    var y0 = gmt ? date0.getUTCFullYear() : date0.getFullYear();
    var y1 = gmt ? date1.getUTCFullYear() : date1.getFullYear();
    return y0 - y1;
};



/**
 * 
 * @param {Date} date
 * @returns {Date} 
 */
function nextMonth(date) {
    var m = date.getMonth();
    var y = date.getFullYear();
    if (m == 11) {
        return new Date(y + 1, 0, 1, 0, 0, 0, 0);
    }
    else {
        return new Date(y, m + 1, 1, 0, 0, 0, 0);
    }
}

/**
 * 
 * @param {Date} date
 * @returns {Date} 
 */
function prevMonth(date) {
    var m = date.getMonth();
    var y = date.getFullYear();
    if (m == 0) {
        return new Date(y - 1, 11, 1, 0, 0, 0, 0);
    }
    else {
        return new Date(y, m - 1, 1, 0, 0, 0, 0);
    }
}

/**
 * 
 * @param {Number} year
 * @param {Number} month
 * @returns {Number}
 */
function daysInMonth(year, month) {
    var start = new Date(year, month, 1);
    var end = nextMonth(start);
    return compareDate(end, start);
}
// CONCATENATED MODULE: ./node_modules/absol/src/AppPattern/CMDRunner.js
function CMDRunner(_this, commands) {
    this._this = _this;
    this.commands = {};
    this.assign(commands);
}



CMDRunner.prototype.has = function (cmdName) {
    return !!this.commands[cmdName];
};


CMDRunner.prototype.add = function (cmdName, handler) {
    this.commands[cmdName] = handler;
    return this;
};


CMDRunner.prototype.remove = function (cmdName) {
    delete this.commands[cmdName];
    return this;
};

CMDRunner.prototype.assign = function (obj) {
    for (var cmdName in obj) {
        if (typeof obj[cmdName] == 'function') {
            this.add(cmdName, obj[cmdName]);
        }
    }
};

CMDRunner.prototype.invoke = function () {
    if (this.commands[arguments[0]]) {
        var args = Array.prototype.slice.call(arguments, 1);
        return this.commands[arguments[0]].apply(this._this, args);
    }
    else {
        throw new Error('No command: ' + arguments[0]);
    }
};

/* harmony default export */ var AppPattern_CMDRunner = (CMDRunner);


// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/Element.js
var Element = __webpack_require__(10);

// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/AElementNS.js
var AElementNS = __webpack_require__(15);

// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/AElement.js
var AElement = __webpack_require__(7);

// CONCATENATED MODULE: ./node_modules/absol/src/HTML5/DomSignal.js




/***
 *
 * @extends EventEmitter
 * @param {AElement} attachHookElt
 * @constructor
 */
function DomSignal(attachHookElt) {
    EventEmitter["b" /* default */].call(this);
    this.signals = {};
    this.ev_attached = this.ev_attached.bind(this);
    this.$attachhook = attachHookElt || HTML5_Dom["a" /* default */].ShareInstance._('attachhook');
    this.$attachhookParent = (attachHookElt && attachHookElt.parentElement) || null;
    this.$attachhook.on('attached', this.ev_attached);
}

Object.defineProperties(DomSignal.prototype, Object.getOwnPropertyDescriptors(EventEmitter["b" /* default */].prototype));
DomSignal.prototype.constructor = DomSignal;


DomSignal.prototype.execSignal = function () {
    var signals = this.signals;
    if (this.$attachhook) {
        this.$attachhook.remove();
        this.$attachhook.resetState();
    }
    this.signals = {};
    for (var name in signals) {
        this.fire.apply(this, [name].concat(signals[name]));
    }
};

DomSignal.prototype.emit = function (name) {
    this.signals[name] = Array.prototype.slice.call(arguments, 1);
    if (!this.$attachhookParent) {
        this.$attachhookParent = document.body;
    }
    if (!this.$attachhook.parentElement) {
        this.$attachhookParent.appendChild(this.$attachhook);
    }
};

DomSignal.prototype.ev_attached = function () {
    this.execSignal();
};

/* harmony default export */ var HTML5_DomSignal = (DomSignal);
// CONCATENATED MODULE: ./node_modules/absol/src/Cookie/CookieStore.js


function CookieStore(converter) {
    this.converter = converter || UnicodeBase64Converter;
}


CookieStore.prototype.isEnabled = function () {
    var cookieEnabled = !!navigator.cookieEnabled;

    //if not IE4+ nor NS6+
    if (typeof navigator.cookieEnabled == "undefined" && !cookieEnabled) {
        document.cookie = "testcookie_enabled";
        cookieEnabled = document.cookie.indexOf("testcookie_enabled") != -1;
    }
    return cookieEnabled;
};

CookieStore.prototype.secure = function () {
    document.cookie = "secure";
};


CookieStore.prototype.get = function (key) {
    var bkey = this.converter.encode(key).replace(/=/g, '_');
    var pairs = document.cookie.split(';')
        .map(function (text) { return text.split('=') })
        .filter(function (pair) {
            return pair[0].trim() == bkey;
        });
    if (pairs.length > 0) {
        if (pairs[0].length > 1) {
            var bvalue = pairs[0][1];
            return this.converter.decode(bvalue.replace(/_/g, '=').trim());
        }
        else {
            return true;
        }
    }
    else
        return undefined;
};


CookieStore.prototype.set = function (key, value) {
    var bkey = this.converter.encode(key);
    var bvalue = this.converter.encode(value);
    document.cookie = bkey.replace(/=/g, '_') + "=" + bvalue.replace(/=/g, '_');
};

/* harmony default export */ var Cookie_CookieStore = (new CookieStore());



// CONCATENATED MODULE: ./node_modules/absol/src/Cookie/parseCookieString.js
/***
 *
 * @param {string} text
 * @return {{}}
 */
function parseCookieString(text) {
    return text.split(/\s*;\s*/).reduce(function (ac, item) {
        var tokens = item.split('=');
        var name = (tokens.shift() || '').trim();
        if (!name) return ac;
        var value = (tokens.shift() || '').trim();
        if (!value) value = true;
        ac[name] = value;
        return ac;
    }, {});
}
// EXTERNAL MODULE: ./node_modules/absol/src/HTML5/ResizeSystem.js
var ResizeSystem = __webpack_require__(11);

// CONCATENATED MODULE: ./node_modules/absol/src/Math/Mat3.js


function Mat3(data) {
    this.data = data || Array(6).fill(0);
}

Mat3.identity = function () {
    return new Mat3([1, 0, 0, 0, 1, 0, 0, 0, 1]);
};

/**
 *
 * @returns {Mat3|null}
 */
Mat3.prototype.invert = function () {
    var a = this.data;
    var out = Array(9);
    var a00 = a[0], a01 = a[1], a02 = a[2];
    var a10 = a[3], a11 = a[4], a12 = a[5];
    var a20 = a[6], a21 = a[7], a22 = a[8];

    var b01 = a22 * a11 - a12 * a21;
    var b11 = -a22 * a10 + a12 * a20;
    var b21 = a21 * a10 - a11 * a20;

    // Calculate the determinant
    var det = a00 * b01 + a01 * b11 + a02 * b21;

    if (!det) return null;
    det = 1.0 / det;

    out[0] = b01 * det;
    out[1] = (-a22 * a01 + a02 * a21) * det;
    out[2] = (a12 * a01 - a02 * a11) * det;
    out[3] = b11 * det;
    out[4] = (a22 * a00 - a02 * a20) * det;
    out[5] = (-a12 * a00 + a02 * a10) * det;
    out[6] = b21 * det;
    out[7] = (-a21 * a00 + a01 * a20) * det;
    out[8] = (a11 * a00 - a01 * a10) * det;
    return new Mat3(out);
};

/**
 *
 * @param {Vec2} v
 * @return {Mat3}
 */
Mat3.prototype.translate = function (v) {
    var out = Array(9);
    var a = this.data;
    var a00 = a[0], a01 = a[1], a02 = a[2];
    var a10 = a[3], a11 = a[4], a12 = a[5];
    var a20 = a[6], a21 = a[7], a22 = a[8];
    var x = v.x, y = v.y;

    out[0] = a00;
    out[1] = a01;
    out[2] = a02;

    out[3] = a10;
    out[4] = a11;
    out[5] = a12;

    out[6] = x * a00 + y * a10 + a20;
    out[7] = x * a01 + y * a11 + a21;
    out[8] = x * a02 + y * a12 + a22;
    return new Mat3(out);
};


/**
 *
 * @param {Mat3} mat
 * @returns {Mat3}
 */
Mat3.prototype.multiply = function (mat) {
    var a = this.data;
    var b = mat.data;
    var a00 = a[0], a01 = a[1], a02 = a[2];
    var a10 = a[3], a11 = a[4], a12 = a[5];
    var a20 = a[6], a21 = a[7], a22 = a[8];

    var b00 = b[0], b01 = b[1], b02 = b[2];
    var b10 = b[3], b11 = b[4], b12 = b[5];
    var b20 = b[6], b21 = b[7], b22 = b[8];

    var out = Array(9);
    out[0] = b00 * a00 + b01 * a10 + b02 * a20;
    out[1] = b00 * a01 + b01 * a11 + b02 * a21;
    out[2] = b00 * a02 + b01 * a12 + b02 * a22;

    out[3] = b10 * a00 + b11 * a10 + b12 * a20;
    out[4] = b10 * a01 + b11 * a11 + b12 * a21;
    out[5] = b10 * a02 + b11 * a12 + b12 * a22;

    out[6] = b20 * a00 + b21 * a10 + b22 * a20;
    out[7] = b20 * a01 + b21 * a11 + b22 * a21;
    out[8] = b20 * a02 + b21 * a12 + b22 * a22;

    return new Mat3(out);
}

/***
 *
 * @param {Number} rad
 * @return {Mat3}
 */
Mat3.prototype.rotate = function (rad) {
    var a = this.data;
    var a00 = a[0], a01 = a[1], a02 = a[2];
    var a10 = a[3], a11 = a[4], a12 = a[5];
    var a20 = a[6], a21 = a[7], a22 = a[8];

    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var out = Array(9);

    out[0] = c * a00 + s * a10;
    out[1] = c * a01 + s * a11;
    out[2] = c * a02 + s * a12;

    out[3] = c * a10 - s * a00;
    out[4] = c * a11 - s * a01;
    out[5] = c * a12 - s * a02;

    out[6] = a20;
    out[7] = a21;
    out[8] = a22;
    return new Mat3(out);
};

/***
 *
 * @param {Vec2} v
 * @returns {Mat3}
 */
Mat3.prototype.scale = function (v) {
    var x = v.x;
    var y = v.y;
    var out = Array(9);
    out[0] = x * a[0];
    out[1] = x * a[1];
    out[2] = x * a[2];

    out[3] = y * a[3];
    out[4] = y * a[4];
    out[5] = y * a[5];

    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];

    return new Mat3(out);
};

/***
 *
 * @return {Mat3}
 */
Mat3.prototype.transpose = function (){
    var a = this.data;
    var out = Array(9);
    out[0] = a[0];
    out[1] = a[3];
    out[2] = a[6];
    out[3] = a[1];
    out[4] = a[4];
    out[5] = a[7];
    out[6] = a[2];
    out[7] = a[5];
    out[8] = a[8];
    return new Mat3(out);
};

/**
 *
 * @param {Vec2}v
 */
Mat3.prototype.apply2DTransform = function (v) {
    var a = this.data;
    var x0 = v.x;
    var y0 = v.y;
    var x = x0 * a[0] + y0 * a[3] + a[6];
    var y = x0 * a[1] + y0 * a[4] + a[7];
    return new Math_Vec2(x, y);
}


/* harmony default export */ var Math_Mat3 = (Mat3);
// CONCATENATED MODULE: ./node_modules/absol/src/HTML5/LanguageSystem.js



/***
 * @typedef LanguageSystemExtension
 * @property {function(key: string, code?: string): (string | null)} getText
 */


/****
 *
 * @constructor
 */
function LanguageSystem() {
    this.data = {};
    this.code = navigator.language || navigator.userLanguage;
    /***
     *
     * @type {LanguageSystemExtension[]}
     * @private
     */
    this._extensions = [];
}

LanguageSystem.prototype.notifyLanguageChange = function () {
    var sizeChange = false;

    function visit(elt) {
        if (elt.onlanguagechange) {
            try {
                elt.onlanguagechange();
                sizeChange = true;
            } catch (err) {
                console.error(err)
            }
            if (elt.childNodes && elt.childNodes.length > 0) {
                Array.prototype.forEach.call(elt.childNodes, visit);
            }
        }
    }

    visit(document.body);
    if (sizeChange) ResizeSystem["a" /* default */].update();
};


/***
 *
 * @param {ChildNode | Text | HTMLElement | Element} node
 */
LanguageSystem.prototype.bind = function (node, key) {
    if (node.nodeType === 1) {
        this.bindTextNode(node, key);
    }
    else if (node.nodeType === 3) {
        this.bindElement(node, key);
    }
};

/***
 *
 * @param {Text | {__as_language_key: string}} node
 * @param {string} key
 */
LanguageSystem.prototype.bindTextNode = function (node, key) {
    node.__as_language_key = key;
    node.onlanguagechange = textNodeLanguageChangeHandler;

};

/***
 *
 * @param {ChildNode | HTMLElement | Element | {__as_language_key: string}} node
 * @param {string} key
 */
LanguageSystem.prototype.bindElement = function (node, key) {
    node.__as_language_key = key;
    node.onlanguagechange = elementLanguageChangeHandler;
};

/***
 *
 * @param {string} key
 * @param {string} [code]
 */
LanguageSystem.prototype.getText = function (key, code) {
    var code = code || this.code;
    var res;
    var ex;
    for (var i = this._extensions.length - 1; i >= 0; --i) {
        ex = this._extensions[i];
        res = ex.getText && ex.getText.apply(ex, arguments);
        if (res) break;
    }
    if (!res) {
        res = this.data[code] && this.data[code][key];
    }
    return res || null;
};

/***
 *
 * @param {LanguageSystemExtension} ex
 */
LanguageSystem.prototype.addExtension = function (ex){
    this._extensions.push(ex);
};


var LangSys = new LanguageSystem();

function textNodeLanguageChangeHandler() {
    if (this.__as_language_key) {
        var newText = LangSys.getText(this.__as_language_key);
        if (newText && newText.trim) {
            this.data = newText;
        }
    }
}

function elementLanguageChangeHandler() {
    if (this.__as_language_key) {
        var newText = LangSys.getText(this.__as_language_key);
        if (newText && newText.trim) {
            var textNode;
            for (var i = 0; i < this.childNodes.length; ++i) {
                if (this.childNodes[i].nodeType === 1) {
                    textNode = this.childNodes[i];
                    break;
                }
            }
            if (!textNode) {
                textNode = document.createTextNode('');
            }
            textNode.data = newText;
        }
    }
}

/* harmony default export */ var HTML5_LanguageSystem = (LangSys);
// CONCATENATED MODULE: ./node_modules/absol/src/index.js


























































var src_absol = {
    int: int_namespaceObject,
    Rectangle: Math_Rectangle,
    ResizeSystem: ResizeSystem["a" /* default */],
    Arc: Math_Arc,
    NumRange: Math_NumRange,
    CookieStore: Cookie_CookieStore,
    parseCookieString: parseCookieString,
    CMDRunner: AppPattern_CMDRunner,
    ContextManager: AppPattern_ContextManager,
    Application: AppPattern_Application,
    Fragment: AppPattern_Fragment,
    VarScope: AppPattern_VarScope,
    Context: AppPattern_Context,
    Activity: AppPattern_Activity,
    Element: Element["a" /* default */],
    ElementNS: AElementNS["a" /* default */],
    AElement: Element["a" /* default */],
    AElementNS: AElementNS["a" /* default */],
    DomSignal: HTML5_DomSignal,
    JSPath: JSPath["a" /* default */],
    TemplateString: TemplateString["a" /* default */],
    TemplateXML: JSMaker_TemplateXML,
    Dom: HTML5_Dom["a" /* default */],
    Svg: Svg["a" /* default */],
    BrowserDetector: BrowserDetector["a" /* default */],
    OOP: OOP["a" /* default */],
    XML: XML_XML,
    Color: Color_Color,
    EventEmitter: EventEmitter["b" /* default */],
    JSZip: jszip_min_default.a,
    IFrameBridge: Network_IFrameBridge,
    JSDocx: JSDocx["a" /* default */],
    Broadcast: Network_Broadcast,
    text: Text_namespaceObject,
    file: file_namespaceObject,
    base64: base64_namespaceObject,
    Alarm: Time_Alarm,
    coreDom: HTML5_Dom["a" /* default */].ShareInstance,
    coreSvg: Svg["a" /* default */].ShareInstance,
    require: function (tagName) {
        return this.coreDom.require(tagName) || this.coreSvg.require(tagName);
    },
    domCreator: HTML5_Dom["a" /* default */].ShareInstance.creator,
    svgCreator: HTML5_Dom["a" /* default */].ShareInstance.creator,
    _: HTML5_Dom["a" /* default */].ShareInstance._,
    $: HTML5_Dom["a" /* default */].ShareInstance.$,
    $$: HTML5_Dom["a" /* default */].ShareInstance.$$,
    _svg: Svg["a" /* default */].ShareInstance._,
    $svg: Svg["a" /* default */].ShareInstance.$,
    Ref: AppPattern_Ref,
    XHR: Network_XHR,
    string: Object.assign({}, stringFormat_namespaceObject, stringGenerate_namespaceObject),
    jsx: {
        dom: dom_namespaceObject,
        attribute: JSX_attribute
    },

    clipboard: Clipboard_namespaceObject,
    dataStructure: { Heap: DataStructure_Heap },
    datetime: datetime_namespaceObject,
    Vec2: Math_Vec2,
    Mat3: Math_Mat3,
    LanguageSystem: HTML5_LanguageSystem
};


/* harmony default export */ var absol_src = (src_absol);
// CONCATENATED MODULE: ./node_modules/absol/src/absol.js



//for old plugin
absol_src['HTML'+'El'+'ement'.toLowerCase()] = absol_src.Element;
absol_src.dom = absol_src.Dom;
absol_src.event = absol_src.EventEmitter;
absol_src.Event = absol_src.EventEmitter;
absol_src.color = absol_src.Color;
absol_src.documentReady = absol_src.Dom.documentReady;
window.AComp = absol_src.AComp;
window.PhotoSwipeViewer = absol_src.PhotoSwipeViewer;
window.IFrameBridge = absol_src.IFrameBridge;
window.absol = absol_src;

var mapKeys = {
    ShareDom: 'coreDom',
    ShareDomCreator: 'domCreator',
    ShareSvgC: 'coreSvgCreator',
    ShareSvgCreator: 'svgCreator',
    ShareCreator: 'domCreator'
};

absol_src.logData = [];
absol_src.log = function () {
    absol_src.logData.push([new Error('TraceError')].concat(Array.prototype.slice.call(arguments)))
}

Object.keys(mapKeys).forEach(function (key) {
    var valueKey = mapKeys[key];
    Object.defineProperty(absol_src, key, {
        get: function () {
            if (!this['__warn' + key + '__']) {
                this['__warn' + key + '__'] = true;
                absol_src.log("use " + valueKey + ' instead of ' + key);
            }
            return this[valueKey];
        }
    });
});
// CONCATENATED MODULE: ./node_modules/absol/src/polyfill.js

// EXTERNAL MODULE: ./node_modules/absol-acomp/ACore.js
var ACore = __webpack_require__(1);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/adapter/MaterialDesignIconsAdapter.js
/***
 * Old name to new name
 */



var MaterialDesignIconsNameMap = {
    'settings-outline': 'cog-outline',
    'contact-mail': 'card-account-mail',
};

var MaterialDesignIconsCode = {};

HTML5_Dom["a" /* default */].documentReady.then(function () {
    var _ = ACore["a" /* default */]._;
    var a = _({
        tag: 'span',
        class: ['mdi'],
        style: {
            display: 'none'
        }
    }).addTo(document.body);
    var content;
    var cssCodeLines = [];
    for (var oldName in MaterialDesignIconsNameMap) {
        a.addClass('mdi-' + MaterialDesignIconsNameMap[oldName]);
        content = getComputedStyle(a, '::before').content;
        MaterialDesignIconsCode[oldName] = content;
        cssCodeLines.push('.mdi-' + oldName + '::before{content:' + content + '}');
        a.removeClass('mdi-' + MaterialDesignIconsNameMap[oldName]);
    }

    a.remove();

    var styleElt = _({
        tag: 'style',
        props: {
            innerHTML: cssCodeLines.join('\n')
        }
    }).addTo(document.head);
});

// EXTERNAL MODULE: ./node_modules/absol-acomp/js/DebugTask.js
var DebugTask = __webpack_require__(18);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/debugtask.css
var debugtask = __webpack_require__(54);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Draggable.js


function Draggable(element) {
    if (!element) element = ACore["a" /* default */]._('div');
    else ACore["a" /* default */].$(element);
    element.defineEvent(['predrag', 'drag', 'begindrag', 'enddrag']);
    var body = ACore["a" /* default */].$('body');
    var isMoving = false;
    var firstMove = false;
    var offsetX;
    var offsetY;
    var fontSize;
    var left0em, top0em, left0, top0;
    var finishMoving = function (event) {
        if (isMoving) {
            isMoving = false;
            body.off('mousemove', mouseMoveEventHandler);

            event.moveDX = event.clientX - offsetX;
            event.moveDY = event.clientY - offsetY;
            event.moveDXem = event.moveDX / fontSize;
            event.moveDYem = event.moveDY / fontSize;
            event.moveToX = left0 + event.moveDX;
            event.moveToY = top0 + event.moveDY;
            element.emit('enddrag', event);
        }
    };

    var mouseUpEventHandler = function (event) {
        finishMoving(event);
    };

    var mouseMoveEventHandler = function (event) {
        event.preventDefault();
        event.moveDX = event.clientX - offsetX;
        event.moveDY = event.clientY - offsetY;
        event.moveDXem = event.moveDX / fontSize;
        event.moveDYem = event.moveDY / fontSize;
        event.moveToX = left0 + event.moveDX;
        event.moveToY = top0 + event.moveDY;

        event.moveToXem = left0em + event.moveDXem;
        event.moveToYem = top0em + event.moveDYem;
        if (firstMove) {
            firstMove = false;
            element.emit('begindrag', event);
        }
        element.emit('drag', event);

    };

    var mouseOutEventHandler = function (event) {
        finishMoving(event);
    };


    var mouseDownEventHandler = function (event) {
        isMoving = true;
        firstMove = true;
        body.on('mousemove', mouseMoveEventHandler);
        body.once('mouseleave', mouseOutEventHandler);
        body.once('mouseup', mouseUpEventHandler);

        fontSize = this.getFontSize();
        offsetX = event.clientX;
        offsetY = event.clientY;
        left0 = parseFloat(element.getComputedStyleValue('left').replace('px', ''));
        top0 = parseFloat(element.getComputedStyleValue('top').replace('px', ''));
        left0em = left0 / fontSize;
        top0em = top0 / fontSize;
        event.x0 = left0;
        event.y0 = top0;
        event.y0em = left0em;
        event.y0em = top0em;
        element.emit('predrag', event);
    };

    element.on('mousedown', mouseDownEventHandler);
    return element;
};


/* harmony default export */ var js_Draggable = (Draggable);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/EmojiChars.js
var EmojiChars = [["Smileys & Emotion", [["face-smiling", [[["U+1F600"], "😀", "grinning face"], [["U+1F603"], "😃", "grinning face with big eyes"], [["U+1F604"], "😄", "grinning face with smiling eyes"], [["U+1F601"], "😁", "beaming face with smiling eyes"], [["U+1F606"], "😆", "grinning squinting face"], [["U+1F605"], "😅", "grinning face with sweat"], [["U+1F923"], "🤣", "rolling on the floor laughing"], [["U+1F602"], "😂", "face with tears of joy"], [["U+1F642"], "🙂", "slightly smiling face"], [["U+1F643"], "🙃", "upside-down face"], [["U+1F609"], "😉", "winking face"], [["U+1F60A"], "😊", "smiling face with smiling eyes"], [["U+1F607"], "😇", "smiling face with halo"]]], ["face-affection", [[["U+1F970"], "🥰", "smiling face with hearts"], [["U+1F60D"], "😍", "smiling face with heart-eyes"], [["U+1F929"], "🤩", "star-struck"], [["U+1F618"], "😘", "face blowing a kiss"], [["U+1F617"], "😗", "kissing face"], [["U+263A"], "☺", "smiling face"], [["U+1F61A"], "😚", "kissing face with closed eyes"], [["U+1F619"], "😙", "kissing face with smiling eyes"], [["U+1F972"], "🥲", "⊛ smiling face with tear"]]], ["face-tongue", [[["U+1F60B"], "😋", "face savoring food"], [["U+1F61B"], "😛", "face with tongue"], [["U+1F61C"], "😜", "winking face with tongue"], [["U+1F92A"], "🤪", "zany face"], [["U+1F61D"], "😝", "squinting face with tongue"], [["U+1F911"], "🤑", "money-mouth face"]]], ["face-hand", [[["U+1F917"], "🤗", "hugging face"], [["U+1F92D"], "🤭", "face with hand over mouth"], [["U+1F92B"], "🤫", "shushing face"], [["U+1F914"], "🤔", "thinking face"]]], ["face-neutral-skeptical", [[["U+1F910"], "🤐", "zipper-mouth face"], [["U+1F928"], "🤨", "face with raised eyebrow"], [["U+1F610"], "😐", "neutral face"], [["U+1F611"], "😑", "expressionless face"], [["U+1F636"], "😶", "face without mouth"], [["U+1F60F"], "😏", "smirking face"], [["U+1F612"], "😒", "unamused face"], [["U+1F644"], "🙄", "face with rolling eyes"], [["U+1F62C"], "😬", "grimacing face"], [["U+1F925"], "🤥", "lying face"]]], ["face-sleepy", [[["U+1F60C"], "😌", "relieved face"], [["U+1F614"], "😔", "pensive face"], [["U+1F62A"], "😪", "sleepy face"], [["U+1F924"], "🤤", "drooling face"], [["U+1F634"], "😴", "sleeping face"]]], ["face-unwell", [[["U+1F637"], "😷", "face with medical mask"], [["U+1F912"], "🤒", "face with thermometer"], [["U+1F915"], "🤕", "face with head-bandage"], [["U+1F922"], "🤢", "nauseated face"], [["U+1F92E"], "🤮", "face vomiting"], [["U+1F927"], "🤧", "sneezing face"], [["U+1F975"], "🥵", "hot face"], [["U+1F976"], "🥶", "cold face"], [["U+1F974"], "🥴", "woozy face"], [["U+1F635"], "😵", "dizzy face"], [["U+1F92F"], "🤯", "exploding head"]]], ["face-hat", [[["U+1F920"], "🤠", "cowboy hat face"], [["U+1F973"], "🥳", "partying face"], [["U+1F978"], "🥸", "⊛ disguised face"]]], ["face-glasses", [[["U+1F60E"], "😎", "smiling face with sunglasses"], [["U+1F913"], "🤓", "nerd face"], [["U+1F9D0"], "🧐", "face with monocle"]]], ["face-concerned", [[["U+1F615"], "😕", "confused face"], [["U+1F61F"], "😟", "worried face"], [["U+1F641"], "🙁", "slightly frowning face"], [["U+2639"], "☹", "frowning face"], [["U+1F62E"], "😮", "face with open mouth"], [["U+1F62F"], "😯", "hushed face"], [["U+1F632"], "😲", "astonished face"], [["U+1F633"], "😳", "flushed face"], [["U+1F97A"], "🥺", "pleading face"], [["U+1F626"], "😦", "frowning face with open mouth"], [["U+1F627"], "😧", "anguished face"], [["U+1F628"], "😨", "fearful face"], [["U+1F630"], "😰", "anxious face with sweat"], [["U+1F625"], "😥", "sad but relieved face"], [["U+1F622"], "😢", "crying face"], [["U+1F62D"], "😭", "loudly crying face"], [["U+1F631"], "😱", "face screaming in fear"], [["U+1F616"], "😖", "confounded face"], [["U+1F623"], "😣", "persevering face"], [["U+1F61E"], "😞", "disappointed face"], [["U+1F613"], "😓", "downcast face with sweat"], [["U+1F629"], "😩", "weary face"], [["U+1F62B"], "😫", "tired face"], [["U+1F971"], "🥱", "yawning face"]]], ["face-negative", [[["U+1F624"], "😤", "face with steam from nose"], [["U+1F621"], "😡", "pouting face"], [["U+1F620"], "😠", "angry face"], [["U+1F92C"], "🤬", "face with symbols on mouth"], [["U+1F608"], "😈", "smiling face with horns"], [["U+1F47F"], "👿", "angry face with horns"], [["U+1F480"], "💀", "skull"], [["U+2620"], "☠", "skull and crossbones"]]], ["face-costume", [[["U+1F4A9"], "💩", "pile of poo"], [["U+1F921"], "🤡", "clown face"], [["U+1F479"], "👹", "ogre"], [["U+1F47A"], "👺", "goblin"], [["U+1F47B"], "👻", "ghost"], [["U+1F47D"], "👽", "alien"], [["U+1F47E"], "👾", "alien monster"], [["U+1F916"], "🤖", "robot"]]], ["cat-face", [[["U+1F63A"], "😺", "grinning cat"], [["U+1F638"], "😸", "grinning cat with smiling eyes"], [["U+1F639"], "😹", "cat with tears of joy"], [["U+1F63B"], "😻", "smiling cat with heart-eyes"], [["U+1F63C"], "😼", "cat with wry smile"], [["U+1F63D"], "😽", "kissing cat"], [["U+1F640"], "🙀", "weary cat"], [["U+1F63F"], "😿", "crying cat"], [["U+1F63E"], "😾", "pouting cat"]]], ["monkey-face", [[["U+1F648"], "🙈", "see-no-evil monkey"], [["U+1F649"], "🙉", "hear-no-evil monkey"], [["U+1F64A"], "🙊", "speak-no-evil monkey"]]], ["emotion", [[["U+1F48B"], "💋", "kiss mark"], [["U+1F48C"], "💌", "love letter"], [["U+1F498"], "💘", "heart with arrow"], [["U+1F49D"], "💝", "heart with ribbon"], [["U+1F496"], "💖", "sparkling heart"], [["U+1F497"], "💗", "growing heart"], [["U+1F493"], "💓", "beating heart"], [["U+1F49E"], "💞", "revolving hearts"], [["U+1F495"], "💕", "two hearts"], [["U+1F49F"], "💟", "heart decoration"], [["U+2763"], "❣", "heart exclamation"], [["U+1F494"], "💔", "broken heart"], [["U+2764"], "❤", "red heart"], [["U+1F9E1"], "🧡", "orange heart"], [["U+1F49B"], "💛", "yellow heart"], [["U+1F49A"], "💚", "green heart"], [["U+1F499"], "💙", "blue heart"], [["U+1F49C"], "💜", "purple heart"], [["U+1F90E"], "🤎", "brown heart"], [["U+1F5A4"], "🖤", "black heart"], [["U+1F90D"], "🤍", "white heart"], [["U+1F4AF"], "💯", "hundred points"], [["U+1F4A2"], "💢", "anger symbol"], [["U+1F4A5"], "💥", "collision"], [["U+1F4AB"], "💫", "dizzy"], [["U+1F4A6"], "💦", "sweat droplets"], [["U+1F4A8"], "💨", "dashing away"], [["U+1F573"], "🕳", "hole"], [["U+1F4A3"], "💣", "bomb"], [["U+1F4AC"], "💬", "speech balloon"], [["U+1F441", "U+FE0F", "U+200D", "U+1F5E8", "U+FE0F"], "👁️‍🗨️", "eye in speech bubble"], [["U+1F5E8"], "🗨", "left speech bubble"], [["U+1F5EF"], "🗯", "right anger bubble"], [["U+1F4AD"], "💭", "thought balloon"], [["U+1F4A4"], "💤", "zzz"]]]]], ["People & Body", [["hand-fingers-open", [[["U+1F44B"], "👋", "waving hand"], [["U+1F91A"], "🤚", "raised back of hand"], [["U+1F590"], "🖐", "hand with fingers splayed"], [["U+270B"], "✋", "raised hand"], [["U+1F596"], "🖖", "vulcan salute"]]], ["hand-fingers-partial", [[["U+1F44C"], "👌", "OK hand"], [["U+1F90C"], "🤌", "⊛ pinched fingers"], [["U+1F90F"], "🤏", "pinching hand"], [["U+270C"], "✌", "victory hand"], [["U+1F91E"], "🤞", "crossed fingers"], [["U+1F91F"], "🤟", "love-you gesture"], [["U+1F918"], "🤘", "sign of the horns"], [["U+1F919"], "🤙", "call me hand"]]], ["hand-single-finger", [[["U+1F448"], "👈", "backhand index pointing left"], [["U+1F449"], "👉", "backhand index pointing right"], [["U+1F446"], "👆", "backhand index pointing up"], [["U+1F595"], "🖕", "middle finger"], [["U+1F447"], "👇", "backhand index pointing down"], [["U+261D"], "☝", "index pointing up"]]], ["hand-fingers-closed", [[["U+1F44D"], "👍", "thumbs up"], [["U+1F44E"], "👎", "thumbs down"], [["U+270A"], "✊", "raised fist"], [["U+1F44A"], "👊", "oncoming fist"], [["U+1F91B"], "🤛", "left-facing fist"], [["U+1F91C"], "🤜", "right-facing fist"]]], ["hands", [[["U+1F44F"], "👏", "clapping hands"], [["U+1F64C"], "🙌", "raising hands"], [["U+1F450"], "👐", "open hands"], [["U+1F932"], "🤲", "palms up together"], [["U+1F91D"], "🤝", "handshake"], [["U+1F64F"], "🙏", "folded hands"]]], ["hand-prop", [[["U+270D"], "✍", "writing hand"], [["U+1F485"], "💅", "nail polish"], [["U+1F933"], "🤳", "selfie"]]], ["body-parts", [[["U+1F4AA"], "💪", "flexed biceps"], [["U+1F9BE"], "🦾", "mechanical arm"], [["U+1F9BF"], "🦿", "mechanical leg"], [["U+1F9B5"], "🦵", "leg"], [["U+1F9B6"], "🦶", "foot"], [["U+1F442"], "👂", "ear"], [["U+1F9BB"], "🦻", "ear with hearing aid"], [["U+1F443"], "👃", "nose"], [["U+1F9E0"], "🧠", "brain"], [["U+1F9B7"], "🦷", "tooth"], [["U+1F9B4"], "🦴", "bone"], [["U+1F440"], "👀", "eyes"], [["U+1F441"], "👁", "eye"], [["U+1F445"], "👅", "tongue"], [["U+1F444"], "👄", "mouth"]]], ["person", [[["U+1F476"], "👶", "baby"], [["U+1F9D2"], "🧒", "child"], [["U+1F466"], "👦", "boy"], [["U+1F467"], "👧", "girl"], [["U+1F9D1"], "🧑", "person"], [["U+1F471"], "👱", "person: blond hair"], [["U+1F468"], "👨", "man"], [["U+1F9D4"], "🧔", "man: beard"], [["U+1F468", "U+200D", "U+1F9B0"], "👨‍🦰", "man: red hair"], [["U+1F468", "U+200D", "U+1F9B1"], "👨‍🦱", "man: curly hair"], [["U+1F468", "U+200D", "U+1F9B3"], "👨‍🦳", "man: white hair"], [["U+1F468", "U+200D", "U+1F9B2"], "👨‍🦲", "man: bald"], [["U+1F469"], "👩", "woman"], [["U+1F469", "U+200D", "U+1F9B0"], "👩‍🦰", "woman: red hair"], [["U+1F9D1", "U+200D", "U+1F9B0"], "🧑‍🦰", "person: red hair"], [["U+1F469", "U+200D", "U+1F9B1"], "👩‍🦱", "woman: curly hair"], [["U+1F9D1", "U+200D", "U+1F9B1"], "🧑‍🦱", "person: curly hair"], [["U+1F469", "U+200D", "U+1F9B3"], "👩‍🦳", "woman: white hair"], [["U+1F9D1", "U+200D", "U+1F9B3"], "🧑‍🦳", "person: white hair"], [["U+1F469", "U+200D", "U+1F9B2"], "👩‍🦲", "woman: bald"], [["U+1F9D1", "U+200D", "U+1F9B2"], "🧑‍🦲", "person: bald"], [["U+1F471", "U+200D", "U+2640", "U+FE0F"], "👱‍♀️", "woman: blond hair"], [["U+1F471", "U+200D", "U+2642", "U+FE0F"], "👱‍♂️", "man: blond hair"], [["U+1F9D3"], "🧓", "older person"], [["U+1F474"], "👴", "old man"], [["U+1F475"], "👵", "old woman"]]], ["person-gesture", [[["U+1F64D"], "🙍", "person frowning"], [["U+1F64D", "U+200D", "U+2642", "U+FE0F"], "🙍‍♂️", "man frowning"], [["U+1F64D", "U+200D", "U+2640", "U+FE0F"], "🙍‍♀️", "woman frowning"], [["U+1F64E"], "🙎", "person pouting"], [["U+1F64E", "U+200D", "U+2642", "U+FE0F"], "🙎‍♂️", "man pouting"], [["U+1F64E", "U+200D", "U+2640", "U+FE0F"], "🙎‍♀️", "woman pouting"], [["U+1F645"], "🙅", "person gesturing NO"], [["U+1F645", "U+200D", "U+2642", "U+FE0F"], "🙅‍♂️", "man gesturing NO"], [["U+1F645", "U+200D", "U+2640", "U+FE0F"], "🙅‍♀️", "woman gesturing NO"], [["U+1F646"], "🙆", "person gesturing OK"], [["U+1F646", "U+200D", "U+2642", "U+FE0F"], "🙆‍♂️", "man gesturing OK"], [["U+1F646", "U+200D", "U+2640", "U+FE0F"], "🙆‍♀️", "woman gesturing OK"], [["U+1F481"], "💁", "person tipping hand"], [["U+1F481", "U+200D", "U+2642", "U+FE0F"], "💁‍♂️", "man tipping hand"], [["U+1F481", "U+200D", "U+2640", "U+FE0F"], "💁‍♀️", "woman tipping hand"], [["U+1F64B"], "🙋", "person raising hand"], [["U+1F64B", "U+200D", "U+2642", "U+FE0F"], "🙋‍♂️", "man raising hand"], [["U+1F64B", "U+200D", "U+2640", "U+FE0F"], "🙋‍♀️", "woman raising hand"], [["U+1F9CF"], "🧏", "deaf person"], [["U+1F9CF", "U+200D", "U+2642", "U+FE0F"], "🧏‍♂️", "deaf man"], [["U+1F9CF", "U+200D", "U+2640", "U+FE0F"], "🧏‍♀️", "deaf woman"], [["U+1F647"], "🙇", "person bowing"], [["U+1F647", "U+200D", "U+2642", "U+FE0F"], "🙇‍♂️", "man bowing"], [["U+1F647", "U+200D", "U+2640", "U+FE0F"], "🙇‍♀️", "woman bowing"], [["U+1F926"], "🤦", "person facepalming"], [["U+1F926", "U+200D", "U+2642", "U+FE0F"], "🤦‍♂️", "man facepalming"], [["U+1F926", "U+200D", "U+2640", "U+FE0F"], "🤦‍♀️", "woman facepalming"], [["U+1F937"], "🤷", "person shrugging"], [["U+1F937", "U+200D", "U+2642", "U+FE0F"], "🤷‍♂️", "man shrugging"], [["U+1F937", "U+200D", "U+2640", "U+FE0F"], "🤷‍♀️", "woman shrugging"]]], ["person-role", [[["U+1F9D1", "U+200D", "U+2695", "U+FE0F"], "🧑‍⚕️", "health worker"], [["U+1F468", "U+200D", "U+2695", "U+FE0F"], "👨‍⚕️", "man health worker"], [["U+1F469", "U+200D", "U+2695", "U+FE0F"], "👩‍⚕️", "woman health worker"], [["U+1F9D1", "U+200D", "U+1F393"], "🧑‍🎓", "student"], [["U+1F468", "U+200D", "U+1F393"], "👨‍🎓", "man student"], [["U+1F469", "U+200D", "U+1F393"], "👩‍🎓", "woman student"], [["U+1F9D1", "U+200D", "U+1F3EB"], "🧑‍🏫", "teacher"], [["U+1F468", "U+200D", "U+1F3EB"], "👨‍🏫", "man teacher"], [["U+1F469", "U+200D", "U+1F3EB"], "👩‍🏫", "woman teacher"], [["U+1F9D1", "U+200D", "U+2696", "U+FE0F"], "🧑‍⚖️", "judge"], [["U+1F468", "U+200D", "U+2696", "U+FE0F"], "👨‍⚖️", "man judge"], [["U+1F469", "U+200D", "U+2696", "U+FE0F"], "👩‍⚖️", "woman judge"], [["U+1F9D1", "U+200D", "U+1F33E"], "🧑‍🌾", "farmer"], [["U+1F468", "U+200D", "U+1F33E"], "👨‍🌾", "man farmer"], [["U+1F469", "U+200D", "U+1F33E"], "👩‍🌾", "woman farmer"], [["U+1F9D1", "U+200D", "U+1F373"], "🧑‍🍳", "cook"], [["U+1F468", "U+200D", "U+1F373"], "👨‍🍳", "man cook"], [["U+1F469", "U+200D", "U+1F373"], "👩‍🍳", "woman cook"], [["U+1F9D1", "U+200D", "U+1F527"], "🧑‍🔧", "mechanic"], [["U+1F468", "U+200D", "U+1F527"], "👨‍🔧", "man mechanic"], [["U+1F469", "U+200D", "U+1F527"], "👩‍🔧", "woman mechanic"], [["U+1F9D1", "U+200D", "U+1F3ED"], "🧑‍🏭", "factory worker"], [["U+1F468", "U+200D", "U+1F3ED"], "👨‍🏭", "man factory worker"], [["U+1F469", "U+200D", "U+1F3ED"], "👩‍🏭", "woman factory worker"], [["U+1F9D1", "U+200D", "U+1F4BC"], "🧑‍💼", "office worker"], [["U+1F468", "U+200D", "U+1F4BC"], "👨‍💼", "man office worker"], [["U+1F469", "U+200D", "U+1F4BC"], "👩‍💼", "woman office worker"], [["U+1F9D1", "U+200D", "U+1F52C"], "🧑‍🔬", "scientist"], [["U+1F468", "U+200D", "U+1F52C"], "👨‍🔬", "man scientist"], [["U+1F469", "U+200D", "U+1F52C"], "👩‍🔬", "woman scientist"], [["U+1F9D1", "U+200D", "U+1F4BB"], "🧑‍💻", "technologist"], [["U+1F468", "U+200D", "U+1F4BB"], "👨‍💻", "man technologist"], [["U+1F469", "U+200D", "U+1F4BB"], "👩‍💻", "woman technologist"], [["U+1F9D1", "U+200D", "U+1F3A4"], "🧑‍🎤", "singer"], [["U+1F468", "U+200D", "U+1F3A4"], "👨‍🎤", "man singer"], [["U+1F469", "U+200D", "U+1F3A4"], "👩‍🎤", "woman singer"], [["U+1F9D1", "U+200D", "U+1F3A8"], "🧑‍🎨", "artist"], [["U+1F468", "U+200D", "U+1F3A8"], "👨‍🎨", "man artist"], [["U+1F469", "U+200D", "U+1F3A8"], "👩‍🎨", "woman artist"], [["U+1F9D1", "U+200D", "U+2708", "U+FE0F"], "🧑‍✈️", "pilot"], [["U+1F468", "U+200D", "U+2708", "U+FE0F"], "👨‍✈️", "man pilot"], [["U+1F469", "U+200D", "U+2708", "U+FE0F"], "👩‍✈️", "woman pilot"], [["U+1F9D1", "U+200D", "U+1F680"], "🧑‍🚀", "astronaut"], [["U+1F468", "U+200D", "U+1F680"], "👨‍🚀", "man astronaut"], [["U+1F469", "U+200D", "U+1F680"], "👩‍🚀", "woman astronaut"], [["U+1F9D1", "U+200D", "U+1F692"], "🧑‍🚒", "firefighter"], [["U+1F468", "U+200D", "U+1F692"], "👨‍🚒", "man firefighter"], [["U+1F469", "U+200D", "U+1F692"], "👩‍🚒", "woman firefighter"], [["U+1F46E"], "👮", "police officer"], [["U+1F46E", "U+200D", "U+2642", "U+FE0F"], "👮‍♂️", "man police officer"], [["U+1F46E", "U+200D", "U+2640", "U+FE0F"], "👮‍♀️", "woman police officer"], [["U+1F575"], "🕵", "detective"], [["U+1F575", "U+FE0F", "U+200D", "U+2642", "U+FE0F"], "🕵️‍♂️", "man detective"], [["U+1F575", "U+FE0F", "U+200D", "U+2640", "U+FE0F"], "🕵️‍♀️", "woman detective"], [["U+1F482"], "💂", "guard"], [["U+1F482", "U+200D", "U+2642", "U+FE0F"], "💂‍♂️", "man guard"], [["U+1F482", "U+200D", "U+2640", "U+FE0F"], "💂‍♀️", "woman guard"], [["U+1F977"], "🥷", "⊛ ninja"], [["U+1F477"], "👷", "construction worker"], [["U+1F477", "U+200D", "U+2642", "U+FE0F"], "👷‍♂️", "man construction worker"], [["U+1F477", "U+200D", "U+2640", "U+FE0F"], "👷‍♀️", "woman construction worker"], [["U+1F934"], "🤴", "prince"], [["U+1F478"], "👸", "princess"], [["U+1F473"], "👳", "person wearing turban"], [["U+1F473", "U+200D", "U+2642", "U+FE0F"], "👳‍♂️", "man wearing turban"], [["U+1F473", "U+200D", "U+2640", "U+FE0F"], "👳‍♀️", "woman wearing turban"], [["U+1F472"], "👲", "person with skullcap"], [["U+1F9D5"], "🧕", "woman with headscarf"], [["U+1F935"], "🤵", "person in tuxedo"], [["U+1F935", "U+200D", "U+2642", "U+FE0F"], "🤵‍♂️", "⊛ man in tuxedo"], [["U+1F935", "U+200D", "U+2640", "U+FE0F"], "🤵‍♀️", "⊛ woman in tuxedo"], [["U+1F470"], "👰", "person with veil"], [["U+1F930"], "🤰", "pregnant woman"], [["U+1F931"], "🤱", "breast-feeding"]]], ["person-fantasy", [[["U+1F47C"], "👼", "baby angel"], [["U+1F385"], "🎅", "Santa Claus"], [["U+1F936"], "🤶", "Mrs. Claus"], [["U+1F9B8"], "🦸", "superhero"], [["U+1F9B8", "U+200D", "U+2642", "U+FE0F"], "🦸‍♂️", "man superhero"], [["U+1F9B8", "U+200D", "U+2640", "U+FE0F"], "🦸‍♀️", "woman superhero"], [["U+1F9B9"], "🦹", "supervillain"], [["U+1F9B9", "U+200D", "U+2642", "U+FE0F"], "🦹‍♂️", "man supervillain"], [["U+1F9B9", "U+200D", "U+2640", "U+FE0F"], "🦹‍♀️", "woman supervillain"], [["U+1F9D9"], "🧙", "mage"], [["U+1F9D9", "U+200D", "U+2642", "U+FE0F"], "🧙‍♂️", "man mage"], [["U+1F9D9", "U+200D", "U+2640", "U+FE0F"], "🧙‍♀️", "woman mage"], [["U+1F9DA"], "🧚", "fairy"], [["U+1F9DA", "U+200D", "U+2642", "U+FE0F"], "🧚‍♂️", "man fairy"], [["U+1F9DA", "U+200D", "U+2640", "U+FE0F"], "🧚‍♀️", "woman fairy"], [["U+1F9DB"], "🧛", "vampire"], [["U+1F9DB", "U+200D", "U+2642", "U+FE0F"], "🧛‍♂️", "man vampire"], [["U+1F9DB", "U+200D", "U+2640", "U+FE0F"], "🧛‍♀️", "woman vampire"], [["U+1F9DC"], "🧜", "merperson"], [["U+1F9DC", "U+200D", "U+2642", "U+FE0F"], "🧜‍♂️", "merman"], [["U+1F9DC", "U+200D", "U+2640", "U+FE0F"], "🧜‍♀️", "mermaid"], [["U+1F9DD"], "🧝", "elf"], [["U+1F9DD", "U+200D", "U+2642", "U+FE0F"], "🧝‍♂️", "man elf"], [["U+1F9DD", "U+200D", "U+2640", "U+FE0F"], "🧝‍♀️", "woman elf"], [["U+1F9DE"], "🧞", "genie"], [["U+1F9DE", "U+200D", "U+2642", "U+FE0F"], "🧞‍♂️", "man genie"], [["U+1F9DE", "U+200D", "U+2640", "U+FE0F"], "🧞‍♀️", "woman genie"], [["U+1F9DF"], "🧟", "zombie"], [["U+1F9DF", "U+200D", "U+2642", "U+FE0F"], "🧟‍♂️", "man zombie"], [["U+1F9DF", "U+200D", "U+2640", "U+FE0F"], "🧟‍♀️", "woman zombie"]]], ["person-activity", [[["U+1F486"], "💆", "person getting massage"], [["U+1F486", "U+200D", "U+2642", "U+FE0F"], "💆‍♂️", "man getting massage"], [["U+1F486", "U+200D", "U+2640", "U+FE0F"], "💆‍♀️", "woman getting massage"], [["U+1F487"], "💇", "person getting haircut"], [["U+1F487", "U+200D", "U+2642", "U+FE0F"], "💇‍♂️", "man getting haircut"], [["U+1F487", "U+200D", "U+2640", "U+FE0F"], "💇‍♀️", "woman getting haircut"], [["U+1F6B6"], "🚶", "person walking"], [["U+1F6B6", "U+200D", "U+2642", "U+FE0F"], "🚶‍♂️", "man walking"], [["U+1F6B6", "U+200D", "U+2640", "U+FE0F"], "🚶‍♀️", "woman walking"], [["U+1F9CD"], "🧍", "person standing"], [["U+1F9CD", "U+200D", "U+2642", "U+FE0F"], "🧍‍♂️", "man standing"], [["U+1F9CD", "U+200D", "U+2640", "U+FE0F"], "🧍‍♀️", "woman standing"], [["U+1F9CE"], "🧎", "person kneeling"], [["U+1F9CE", "U+200D", "U+2642", "U+FE0F"], "🧎‍♂️", "man kneeling"], [["U+1F9CE", "U+200D", "U+2640", "U+FE0F"], "🧎‍♀️", "woman kneeling"], [["U+1F9D1", "U+200D", "U+1F9AF"], "🧑‍🦯", "person with white cane"], [["U+1F468", "U+200D", "U+1F9AF"], "👨‍🦯", "man with white cane"], [["U+1F469", "U+200D", "U+1F9AF"], "👩‍🦯", "woman with white cane"], [["U+1F9D1", "U+200D", "U+1F9BC"], "🧑‍🦼", "person in motorized wheelchair"], [["U+1F468", "U+200D", "U+1F9BC"], "👨‍🦼", "man in motorized wheelchair"], [["U+1F469", "U+200D", "U+1F9BC"], "👩‍🦼", "woman in motorized wheelchair"], [["U+1F9D1", "U+200D", "U+1F9BD"], "🧑‍🦽", "person in manual wheelchair"], [["U+1F468", "U+200D", "U+1F9BD"], "👨‍🦽", "man in manual wheelchair"], [["U+1F469", "U+200D", "U+1F9BD"], "👩‍🦽", "woman in manual wheelchair"], [["U+1F3C3"], "🏃", "person running"], [["U+1F3C3", "U+200D", "U+2642", "U+FE0F"], "🏃‍♂️", "man running"], [["U+1F3C3", "U+200D", "U+2640", "U+FE0F"], "🏃‍♀️", "woman running"], [["U+1F483"], "💃", "woman dancing"], [["U+1F57A"], "🕺", "man dancing"], [["U+1F574"], "🕴", "person in suit levitating"], [["U+1F46F"], "👯", "people with bunny ears"], [["U+1F46F", "U+200D", "U+2642", "U+FE0F"], "👯‍♂️", "men with bunny ears"], [["U+1F46F", "U+200D", "U+2640", "U+FE0F"], "👯‍♀️", "women with bunny ears"], [["U+1F9D6"], "🧖", "person in steamy room"], [["U+1F9D6", "U+200D", "U+2642", "U+FE0F"], "🧖‍♂️", "man in steamy room"], [["U+1F9D6", "U+200D", "U+2640", "U+FE0F"], "🧖‍♀️", "woman in steamy room"], [["U+1F9D7"], "🧗", "person climbing"], [["U+1F9D7", "U+200D", "U+2642", "U+FE0F"], "🧗‍♂️", "man climbing"], [["U+1F9D7", "U+200D", "U+2640", "U+FE0F"], "🧗‍♀️", "woman climbing"]]], ["person-sport", [[["U+1F93A"], "🤺", "person fencing"], [["U+1F3C7"], "🏇", "horse racing"], [["U+26F7"], "⛷", "skier"], [["U+1F3C2"], "🏂", "snowboarder"], [["U+1F3CC"], "🏌", "person golfing"], [["U+1F3CC", "U+FE0F", "U+200D", "U+2642", "U+FE0F"], "🏌️‍♂️", "man golfing"], [["U+1F3CC", "U+FE0F", "U+200D", "U+2640", "U+FE0F"], "🏌️‍♀️", "woman golfing"], [["U+1F3C4"], "🏄", "person surfing"], [["U+1F3C4", "U+200D", "U+2642", "U+FE0F"], "🏄‍♂️", "man surfing"], [["U+1F3C4", "U+200D", "U+2640", "U+FE0F"], "🏄‍♀️", "woman surfing"], [["U+1F6A3"], "🚣", "person rowing boat"], [["U+1F6A3", "U+200D", "U+2642", "U+FE0F"], "🚣‍♂️", "man rowing boat"], [["U+1F6A3", "U+200D", "U+2640", "U+FE0F"], "🚣‍♀️", "woman rowing boat"], [["U+1F3CA"], "🏊", "person swimming"], [["U+1F3CA", "U+200D", "U+2642", "U+FE0F"], "🏊‍♂️", "man swimming"], [["U+1F3CA", "U+200D", "U+2640", "U+FE0F"], "🏊‍♀️", "woman swimming"], [["U+26F9"], "⛹", "person bouncing ball"], [["U+26F9", "U+FE0F", "U+200D", "U+2642", "U+FE0F"], "⛹️‍♂️", "man bouncing ball"], [["U+26F9", "U+FE0F", "U+200D", "U+2640", "U+FE0F"], "⛹️‍♀️", "woman bouncing ball"], [["U+1F3CB"], "🏋", "person lifting weights"], [["U+1F3CB", "U+FE0F", "U+200D", "U+2642", "U+FE0F"], "🏋️‍♂️", "man lifting weights"], [["U+1F3CB", "U+FE0F", "U+200D", "U+2640", "U+FE0F"], "🏋️‍♀️", "woman lifting weights"], [["U+1F6B4"], "🚴", "person biking"], [["U+1F6B4", "U+200D", "U+2642", "U+FE0F"], "🚴‍♂️", "man biking"], [["U+1F6B4", "U+200D", "U+2640", "U+FE0F"], "🚴‍♀️", "woman biking"], [["U+1F6B5"], "🚵", "person mountain biking"], [["U+1F6B5", "U+200D", "U+2642", "U+FE0F"], "🚵‍♂️", "man mountain biking"], [["U+1F6B5", "U+200D", "U+2640", "U+FE0F"], "🚵‍♀️", "woman mountain biking"], [["U+1F938"], "🤸", "person cartwheeling"], [["U+1F938", "U+200D", "U+2642", "U+FE0F"], "🤸‍♂️", "man cartwheeling"], [["U+1F938", "U+200D", "U+2640", "U+FE0F"], "🤸‍♀️", "woman cartwheeling"], [["U+1F93C"], "🤼", "people wrestling"], [["U+1F93C", "U+200D", "U+2642", "U+FE0F"], "🤼‍♂️", "men wrestling"], [["U+1F93C", "U+200D", "U+2640", "U+FE0F"], "🤼‍♀️", "women wrestling"], [["U+1F93D"], "🤽", "person playing water polo"], [["U+1F93D", "U+200D", "U+2642", "U+FE0F"], "🤽‍♂️", "man playing water polo"], [["U+1F93D", "U+200D", "U+2640", "U+FE0F"], "🤽‍♀️", "woman playing water polo"], [["U+1F93E"], "🤾", "person playing handball"], [["U+1F93E", "U+200D", "U+2642", "U+FE0F"], "🤾‍♂️", "man playing handball"], [["U+1F93E", "U+200D", "U+2640", "U+FE0F"], "🤾‍♀️", "woman playing handball"], [["U+1F939"], "🤹", "person juggling"], [["U+1F939", "U+200D", "U+2642", "U+FE0F"], "🤹‍♂️", "man juggling"], [["U+1F939", "U+200D", "U+2640", "U+FE0F"], "🤹‍♀️", "woman juggling"]]], ["person-resting", [[["U+1F9D8"], "🧘", "person in lotus position"], [["U+1F9D8", "U+200D", "U+2642", "U+FE0F"], "🧘‍♂️", "man in lotus position"], [["U+1F9D8", "U+200D", "U+2640", "U+FE0F"], "🧘‍♀️", "woman in lotus position"], [["U+1F6C0"], "🛀", "person taking bath"], [["U+1F6CC"], "🛌", "person in bed"]]], ["family", [[["U+1F9D1", "U+200D", "U+1F91D", "U+200D", "U+1F9D1"], "🧑‍🤝‍🧑", "people holding hands"], [["U+1F46D"], "👭", "women holding hands"], [["U+1F46B"], "👫", "woman and man holding hands"], [["U+1F46C"], "👬", "men holding hands"], [["U+1F48F"], "💏", "kiss"], [["U+1F469", "U+200D", "U+2764", "U+FE0F", "U+200D", "U+1F48B", "U+200D", "U+1F468"], "👩‍❤️‍💋‍👨", "kiss: woman, man"], [["U+1F468", "U+200D", "U+2764", "U+FE0F", "U+200D", "U+1F48B", "U+200D", "U+1F468"], "👨‍❤️‍💋‍👨", "kiss: man, man"], [["U+1F469", "U+200D", "U+2764", "U+FE0F", "U+200D", "U+1F48B", "U+200D", "U+1F469"], "👩‍❤️‍💋‍👩", "kiss: woman, woman"], [["U+1F491"], "💑", "couple with heart"], [["U+1F469", "U+200D", "U+2764", "U+FE0F", "U+200D", "U+1F468"], "👩‍❤️‍👨", "couple with heart: woman, man"], [["U+1F468", "U+200D", "U+2764", "U+FE0F", "U+200D", "U+1F468"], "👨‍❤️‍👨", "couple with heart: man, man"], [["U+1F469", "U+200D", "U+2764", "U+FE0F", "U+200D", "U+1F469"], "👩‍❤️‍👩", "couple with heart: woman, woman"], [["U+1F46A"], "👪", "family"], [["U+1F468", "U+200D", "U+1F469", "U+200D", "U+1F466"], "👨‍👩‍👦", "family: man, woman, boy"], [["U+1F468", "U+200D", "U+1F469", "U+200D", "U+1F467"], "👨‍👩‍👧", "family: man, woman, girl"], [["U+1F468", "U+200D", "U+1F469", "U+200D", "U+1F467", "U+200D", "U+1F466"], "👨‍👩‍👧‍👦", "family: man, woman, girl, boy"], [["U+1F468", "U+200D", "U+1F469", "U+200D", "U+1F466", "U+200D", "U+1F466"], "👨‍👩‍👦‍👦", "family: man, woman, boy, boy"], [["U+1F468", "U+200D", "U+1F469", "U+200D", "U+1F467", "U+200D", "U+1F467"], "👨‍👩‍👧‍👧", "family: man, woman, girl, girl"], [["U+1F468", "U+200D", "U+1F468", "U+200D", "U+1F466"], "👨‍👨‍👦", "family: man, man, boy"], [["U+1F468", "U+200D", "U+1F468", "U+200D", "U+1F467"], "👨‍👨‍👧", "family: man, man, girl"], [["U+1F468", "U+200D", "U+1F468", "U+200D", "U+1F467", "U+200D", "U+1F466"], "👨‍👨‍👧‍👦", "family: man, man, girl, boy"], [["U+1F468", "U+200D", "U+1F468", "U+200D", "U+1F466", "U+200D", "U+1F466"], "👨‍👨‍👦‍👦", "family: man, man, boy, boy"], [["U+1F468", "U+200D", "U+1F468", "U+200D", "U+1F467", "U+200D", "U+1F467"], "👨‍👨‍👧‍👧", "family: man, man, girl, girl"], [["U+1F469", "U+200D", "U+1F469", "U+200D", "U+1F466"], "👩‍👩‍👦", "family: woman, woman, boy"], [["U+1F469", "U+200D", "U+1F469", "U+200D", "U+1F467"], "👩‍👩‍👧", "family: woman, woman, girl"], [["U+1F469", "U+200D", "U+1F469", "U+200D", "U+1F467", "U+200D", "U+1F466"], "👩‍👩‍👧‍👦", "family: woman, woman, girl, boy"], [["U+1F469", "U+200D", "U+1F469", "U+200D", "U+1F466", "U+200D", "U+1F466"], "👩‍👩‍👦‍👦", "family: woman, woman, boy, boy"], [["U+1F469", "U+200D", "U+1F469", "U+200D", "U+1F467", "U+200D", "U+1F467"], "👩‍👩‍👧‍👧", "family: woman, woman, girl, girl"], [["U+1F468", "U+200D", "U+1F466"], "👨‍👦", "family: man, boy"], [["U+1F468", "U+200D", "U+1F466", "U+200D", "U+1F466"], "👨‍👦‍👦", "family: man, boy, boy"], [["U+1F468", "U+200D", "U+1F467"], "👨‍👧", "family: man, girl"], [["U+1F468", "U+200D", "U+1F467", "U+200D", "U+1F466"], "👨‍👧‍👦", "family: man, girl, boy"], [["U+1F468", "U+200D", "U+1F467", "U+200D", "U+1F467"], "👨‍👧‍👧", "family: man, girl, girl"], [["U+1F469", "U+200D", "U+1F466"], "👩‍👦", "family: woman, boy"], [["U+1F469", "U+200D", "U+1F466", "U+200D", "U+1F466"], "👩‍👦‍👦", "family: woman, boy, boy"], [["U+1F469", "U+200D", "U+1F467"], "👩‍👧", "family: woman, girl"], [["U+1F469", "U+200D", "U+1F467", "U+200D", "U+1F466"], "👩‍👧‍👦", "family: woman, girl, boy"], [["U+1F469", "U+200D", "U+1F467", "U+200D", "U+1F467"], "👩‍👧‍👧", "family: woman, girl, girl"]]], ["person-symbol", [[["U+1F5E3"], "🗣", "speaking head"], [["U+1F464"], "👤", "bust in silhouette"], [["U+1F465"], "👥", "busts in silhouette"], [["U+1FAC2"], "🫂", "⊛ people hugging"], [["U+1F463"], "👣", "footprints"]]]]], ["Component", [["hair-style", [[["U+1F9B0"], "🦰", "red hair"], [["U+1F9B1"], "🦱", "curly hair"], [["U+1F9B3"], "🦳", "white hair"], [["U+1F9B2"], "🦲", "bald"]]]]], ["Animals & Nature", [["animal-mammal", [[["U+1F435"], "🐵", "monkey face"], [["U+1F412"], "🐒", "monkey"], [["U+1F98D"], "🦍", "gorilla"], [["U+1F9A7"], "🦧", "orangutan"], [["U+1F436"], "🐶", "dog face"], [["U+1F415"], "🐕", "dog"], [["U+1F9AE"], "🦮", "guide dog"], [["U+1F415", "U+200D", "U+1F9BA"], "🐕‍🦺", "service dog"], [["U+1F429"], "🐩", "poodle"], [["U+1F43A"], "🐺", "wolf"], [["U+1F98A"], "🦊", "fox"], [["U+1F99D"], "🦝", "raccoon"], [["U+1F431"], "🐱", "cat face"], [["U+1F408"], "🐈", "cat"], [["U+1F981"], "🦁", "lion"], [["U+1F42F"], "🐯", "tiger face"], [["U+1F405"], "🐅", "tiger"], [["U+1F406"], "🐆", "leopard"], [["U+1F434"], "🐴", "horse face"], [["U+1F40E"], "🐎", "horse"], [["U+1F984"], "🦄", "unicorn"], [["U+1F993"], "🦓", "zebra"], [["U+1F98C"], "🦌", "deer"], [["U+1F42E"], "🐮", "cow face"], [["U+1F402"], "🐂", "ox"], [["U+1F403"], "🐃", "water buffalo"], [["U+1F404"], "🐄", "cow"], [["U+1F437"], "🐷", "pig face"], [["U+1F416"], "🐖", "pig"], [["U+1F417"], "🐗", "boar"], [["U+1F43D"], "🐽", "pig nose"], [["U+1F40F"], "🐏", "ram"], [["U+1F411"], "🐑", "ewe"], [["U+1F410"], "🐐", "goat"], [["U+1F42A"], "🐪", "camel"], [["U+1F42B"], "🐫", "two-hump camel"], [["U+1F999"], "🦙", "llama"], [["U+1F992"], "🦒", "giraffe"], [["U+1F418"], "🐘", "elephant"], [["U+1F98F"], "🦏", "rhinoceros"], [["U+1F99B"], "🦛", "hippopotamus"], [["U+1F42D"], "🐭", "mouse face"], [["U+1F401"], "🐁", "mouse"], [["U+1F400"], "🐀", "rat"], [["U+1F439"], "🐹", "hamster"], [["U+1F430"], "🐰", "rabbit face"], [["U+1F407"], "🐇", "rabbit"], [["U+1F43F"], "🐿", "chipmunk"], [["U+1F994"], "🦔", "hedgehog"], [["U+1F987"], "🦇", "bat"], [["U+1F43B"], "🐻", "bear"], [["U+1F43B", "U+200D", "U+2744", "U+FE0F"], "🐻‍❄️", "⊛ polar bear"], [["U+1F428"], "🐨", "koala"], [["U+1F43C"], "🐼", "panda"], [["U+1F9A5"], "🦥", "sloth"], [["U+1F9A6"], "🦦", "otter"], [["U+1F9A8"], "🦨", "skunk"], [["U+1F998"], "🦘", "kangaroo"], [["U+1F9A1"], "🦡", "badger"], [["U+1F43E"], "🐾", "paw prints"]]], ["animal-bird", [[["U+1F983"], "🦃", "turkey"], [["U+1F414"], "🐔", "chicken"], [["U+1F413"], "🐓", "rooster"], [["U+1F423"], "🐣", "hatching chick"], [["U+1F424"], "🐤", "baby chick"], [["U+1F425"], "🐥", "front-facing baby chick"], [["U+1F426"], "🐦", "bird"], [["U+1F427"], "🐧", "penguin"], [["U+1F54A"], "🕊", "dove"], [["U+1F985"], "🦅", "eagle"], [["U+1F986"], "🦆", "duck"], [["U+1F9A2"], "🦢", "swan"], [["U+1F989"], "🦉", "owl"], [["U+1FAB6"], "🪶", "⊛ feather"], [["U+1F9A9"], "🦩", "flamingo"], [["U+1F99A"], "🦚", "peacock"], [["U+1F99C"], "🦜", "parrot"]]], ["animal-amphibian", [[["U+1F438"], "🐸", "frog"]]], ["animal-reptile", [[["U+1F40A"], "🐊", "crocodile"], [["U+1F422"], "🐢", "turtle"], [["U+1F98E"], "🦎", "lizard"], [["U+1F40D"], "🐍", "snake"], [["U+1F432"], "🐲", "dragon face"], [["U+1F409"], "🐉", "dragon"], [["U+1F995"], "🦕", "sauropod"], [["U+1F996"], "🦖", "T-Rex"]]], ["animal-marine", [[["U+1F433"], "🐳", "spouting whale"], [["U+1F40B"], "🐋", "whale"], [["U+1F42C"], "🐬", "dolphin"], [["U+1F41F"], "🐟", "fish"], [["U+1F420"], "🐠", "tropical fish"], [["U+1F421"], "🐡", "blowfish"], [["U+1F988"], "🦈", "shark"], [["U+1F419"], "🐙", "octopus"], [["U+1F41A"], "🐚", "spiral shell"]]], ["animal-bug", [[["U+1F40C"], "🐌", "snail"], [["U+1F98B"], "🦋", "butterfly"], [["U+1F41B"], "🐛", "bug"], [["U+1F41C"], "🐜", "ant"], [["U+1F41D"], "🐝", "honeybee"], [["U+1F41E"], "🐞", "lady beetle"], [["U+1F997"], "🦗", "cricket"], [["U+1F577"], "🕷", "spider"], [["U+1F578"], "🕸", "spider web"], [["U+1F982"], "🦂", "scorpion"], [["U+1F99F"], "🦟", "mosquito"], [["U+1F9A0"], "🦠", "microbe"]]], ["plant-flower", [[["U+1F490"], "💐", "bouquet"], [["U+1F338"], "🌸", "cherry blossom"], [["U+1F4AE"], "💮", "white flower"], [["U+1F3F5"], "🏵", "rosette"], [["U+1F339"], "🌹", "rose"], [["U+1F940"], "🥀", "wilted flower"], [["U+1F33A"], "🌺", "hibiscus"], [["U+1F33B"], "🌻", "sunflower"], [["U+1F33C"], "🌼", "blossom"], [["U+1F337"], "🌷", "tulip"]]], ["plant-other", [[["U+1F331"], "🌱", "seedling"], [["U+1FAB4"], "🪴", "⊛ potted plant"], [["U+1F332"], "🌲", "evergreen tree"], [["U+1F333"], "🌳", "deciduous tree"], [["U+1F334"], "🌴", "palm tree"], [["U+1F335"], "🌵", "cactus"], [["U+1F33E"], "🌾", "sheaf of rice"], [["U+1F33F"], "🌿", "herb"], [["U+2618"], "☘", "shamrock"], [["U+1F340"], "🍀", "four leaf clover"], [["U+1F341"], "🍁", "maple leaf"], [["U+1F342"], "🍂", "fallen leaf"], [["U+1F343"], "🍃", "leaf fluttering in wind"]]]]], ["Food & Drink", [["food-fruit", [[["U+1F347"], "🍇", "grapes"], [["U+1F348"], "🍈", "melon"], [["U+1F349"], "🍉", "watermelon"], [["U+1F34A"], "🍊", "tangerine"], [["U+1F34B"], "🍋", "lemon"], [["U+1F34C"], "🍌", "banana"], [["U+1F34D"], "🍍", "pineapple"], [["U+1F96D"], "🥭", "mango"], [["U+1F34E"], "🍎", "red apple"], [["U+1F34F"], "🍏", "green apple"], [["U+1F350"], "🍐", "pear"], [["U+1F351"], "🍑", "peach"], [["U+1F352"], "🍒", "cherries"], [["U+1F353"], "🍓", "strawberry"], [["U+1FAD0"], "🫐", "⊛ blueberries"], [["U+1F95D"], "🥝", "kiwi fruit"], [["U+1F345"], "🍅", "tomato"], [["U+1FAD2"], "🫒", "⊛ olive"], [["U+1F965"], "🥥", "coconut"]]], ["food-vegetable", [[["U+1F951"], "🥑", "avocado"], [["U+1F346"], "🍆", "eggplant"], [["U+1F954"], "🥔", "potato"], [["U+1F955"], "🥕", "carrot"], [["U+1F33D"], "🌽", "ear of corn"], [["U+1F336"], "🌶", "hot pepper"], [["U+1F952"], "🥒", "cucumber"], [["U+1F96C"], "🥬", "leafy green"], [["U+1F966"], "🥦", "broccoli"], [["U+1F9C4"], "🧄", "garlic"], [["U+1F9C5"], "🧅", "onion"], [["U+1F344"], "🍄", "mushroom"], [["U+1F95C"], "🥜", "peanuts"], [["U+1F330"], "🌰", "chestnut"]]], ["food-prepared", [[["U+1F35E"], "🍞", "bread"], [["U+1F950"], "🥐", "croissant"], [["U+1F956"], "🥖", "baguette bread"], [["U+1FAD3"], "🫓", "⊛ flatbread"], [["U+1F968"], "🥨", "pretzel"], [["U+1F96F"], "🥯", "bagel"], [["U+1F95E"], "🥞", "pancakes"], [["U+1F9C7"], "🧇", "waffle"], [["U+1F9C0"], "🧀", "cheese wedge"], [["U+1F356"], "🍖", "meat on bone"], [["U+1F357"], "🍗", "poultry leg"], [["U+1F969"], "🥩", "cut of meat"], [["U+1F953"], "🥓", "bacon"], [["U+1F354"], "🍔", "hamburger"], [["U+1F35F"], "🍟", "french fries"], [["U+1F355"], "🍕", "pizza"], [["U+1F32D"], "🌭", "hot dog"], [["U+1F96A"], "🥪", "sandwich"], [["U+1F32E"], "🌮", "taco"], [["U+1F32F"], "🌯", "burrito"], [["U+1FAD4"], "🫔", "⊛ tamale"], [["U+1F959"], "🥙", "stuffed flatbread"], [["U+1F9C6"], "🧆", "falafel"], [["U+1F95A"], "🥚", "egg"], [["U+1F373"], "🍳", "cooking"], [["U+1F958"], "🥘", "shallow pan of food"], [["U+1F372"], "🍲", "pot of food"], [["U+1FAD5"], "🫕", "⊛ fondue"], [["U+1F963"], "🥣", "bowl with spoon"], [["U+1F957"], "🥗", "green salad"], [["U+1F37F"], "🍿", "popcorn"], [["U+1F9C8"], "🧈", "butter"], [["U+1F9C2"], "🧂", "salt"], [["U+1F96B"], "🥫", "canned food"]]], ["food-asian", [[["U+1F371"], "🍱", "bento box"], [["U+1F358"], "🍘", "rice cracker"], [["U+1F359"], "🍙", "rice ball"], [["U+1F35A"], "🍚", "cooked rice"], [["U+1F35B"], "🍛", "curry rice"], [["U+1F35C"], "🍜", "steaming bowl"], [["U+1F35D"], "🍝", "spaghetti"], [["U+1F360"], "🍠", "roasted sweet potato"], [["U+1F362"], "🍢", "oden"], [["U+1F363"], "🍣", "sushi"], [["U+1F364"], "🍤", "fried shrimp"], [["U+1F365"], "🍥", "fish cake with swirl"], [["U+1F96E"], "🥮", "moon cake"], [["U+1F361"], "🍡", "dango"], [["U+1F95F"], "🥟", "dumpling"], [["U+1F960"], "🥠", "fortune cookie"], [["U+1F961"], "🥡", "takeout box"]]], ["food-marine", [[["U+1F980"], "🦀", "crab"], [["U+1F99E"], "🦞", "lobster"], [["U+1F990"], "🦐", "shrimp"], [["U+1F991"], "🦑", "squid"], [["U+1F9AA"], "🦪", "oyster"]]], ["food-sweet", [[["U+1F366"], "🍦", "soft ice cream"], [["U+1F367"], "🍧", "shaved ice"], [["U+1F368"], "🍨", "ice cream"], [["U+1F369"], "🍩", "doughnut"], [["U+1F36A"], "🍪", "cookie"], [["U+1F382"], "🎂", "birthday cake"], [["U+1F370"], "🍰", "shortcake"], [["U+1F9C1"], "🧁", "cupcake"], [["U+1F967"], "🥧", "pie"], [["U+1F36B"], "🍫", "chocolate bar"], [["U+1F36C"], "🍬", "candy"], [["U+1F36D"], "🍭", "lollipop"], [["U+1F36E"], "🍮", "custard"], [["U+1F36F"], "🍯", "honey pot"]]], ["drink", [[["U+1F37C"], "🍼", "baby bottle"], [["U+1F95B"], "🥛", "glass of milk"], [["U+2615"], "☕", "hot beverage"], [["U+1F375"], "🍵", "teacup without handle"], [["U+1F376"], "🍶", "sake"], [["U+1F37E"], "🍾", "bottle with popping cork"], [["U+1F377"], "🍷", "wine glass"], [["U+1F378"], "🍸", "cocktail glass"], [["U+1F379"], "🍹", "tropical drink"], [["U+1F37A"], "🍺", "beer mug"], [["U+1F37B"], "🍻", "clinking beer mugs"], [["U+1F942"], "🥂", "clinking glasses"], [["U+1F943"], "🥃", "tumbler glass"], [["U+1F964"], "🥤", "cup with straw"], [["U+1F9CB"], "🧋", "⊛ bubble tea"], [["U+1F9C3"], "🧃", "beverage box"], [["U+1F9C9"], "🧉", "mate"], [["U+1F9CA"], "🧊", "ice"]]], ["dishware", [[["U+1F962"], "🥢", "chopsticks"], [["U+1F37D"], "🍽", "fork and knife with plate"], [["U+1F374"], "🍴", "fork and knife"], [["U+1F944"], "🥄", "spoon"], [["U+1F52A"], "🔪", "kitchen knife"], [["U+1F3FA"], "🏺", "amphora"]]]]], ["Travel & Places", [["place-map", [[["U+1F30D"], "🌍", "globe showing Europe-Africa"], [["U+1F30E"], "🌎", "globe showing Americas"], [["U+1F30F"], "🌏", "globe showing Asia-Australia"], [["U+1F310"], "🌐", "globe with meridians"], [["U+1F5FA"], "🗺", "world map"], [["U+1F5FE"], "🗾", "map of Japan"], [["U+1F9ED"], "🧭", "compass"]]], ["place-geographic", [[["U+1F3D4"], "🏔", "snow-capped mountain"], [["U+26F0"], "⛰", "mountain"], [["U+1F30B"], "🌋", "volcano"], [["U+1F5FB"], "🗻", "mount fuji"], [["U+1F3D5"], "🏕", "camping"], [["U+1F3D6"], "🏖", "beach with umbrella"], [["U+1F3DC"], "🏜", "desert"], [["U+1F3DD"], "🏝", "desert island"], [["U+1F3DE"], "🏞", "national park"]]], ["place-building", [[["U+1F3DF"], "🏟", "stadium"], [["U+1F3DB"], "🏛", "classical building"], [["U+1F3D7"], "🏗", "building construction"], [["U+1F9F1"], "🧱", "brick"], [["U+1FAA8"], "🪨", "⊛ rock"], [["U+1FAB5"], "🪵", "⊛ wood"], [["U+1F3D8"], "🏘", "houses"], [["U+1F3DA"], "🏚", "derelict house"], [["U+1F3E0"], "🏠", "house"], [["U+1F3E1"], "🏡", "house with garden"], [["U+1F3E2"], "🏢", "office building"], [["U+1F3E3"], "🏣", "Japanese post office"], [["U+1F3E4"], "🏤", "post office"], [["U+1F3E5"], "🏥", "hospital"], [["U+1F3E6"], "🏦", "bank"], [["U+1F3E8"], "🏨", "hotel"], [["U+1F3E9"], "🏩", "love hotel"], [["U+1F3EA"], "🏪", "convenience store"], [["U+1F3EB"], "🏫", "school"], [["U+1F3EC"], "🏬", "department store"], [["U+1F3ED"], "🏭", "factory"], [["U+1F3EF"], "🏯", "Japanese castle"], [["U+1F3F0"], "🏰", "castle"], [["U+1F492"], "💒", "wedding"], [["U+1F5FC"], "🗼", "Tokyo tower"], [["U+1F5FD"], "🗽", "Statue of Liberty"]]], ["place-religious", [[["U+26EA"], "⛪", "church"], [["U+1F54C"], "🕌", "mosque"], [["U+1F6D5"], "🛕", "hindu temple"], [["U+1F54D"], "🕍", "synagogue"], [["U+26E9"], "⛩", "shinto shrine"], [["U+1F54B"], "🕋", "kaaba"]]], ["place-other", [[["U+26F2"], "⛲", "fountain"], [["U+26FA"], "⛺", "tent"], [["U+1F301"], "🌁", "foggy"], [["U+1F303"], "🌃", "night with stars"], [["U+1F3D9"], "🏙", "cityscape"], [["U+1F304"], "🌄", "sunrise over mountains"], [["U+1F305"], "🌅", "sunrise"], [["U+1F306"], "🌆", "cityscape at dusk"], [["U+1F307"], "🌇", "sunset"], [["U+1F309"], "🌉", "bridge at night"], [["U+2668"], "♨", "hot springs"], [["U+1F3A0"], "🎠", "carousel horse"], [["U+1F3A1"], "🎡", "ferris wheel"], [["U+1F3A2"], "🎢", "roller coaster"], [["U+1F488"], "💈", "barber pole"], [["U+1F3AA"], "🎪", "circus tent"]]], ["transport-ground", [[["U+1F682"], "🚂", "locomotive"], [["U+1F683"], "🚃", "railway car"], [["U+1F684"], "🚄", "high-speed train"], [["U+1F685"], "🚅", "bullet train"], [["U+1F686"], "🚆", "train"], [["U+1F687"], "🚇", "metro"], [["U+1F688"], "🚈", "light rail"], [["U+1F689"], "🚉", "station"], [["U+1F68A"], "🚊", "tram"], [["U+1F69D"], "🚝", "monorail"], [["U+1F69E"], "🚞", "mountain railway"], [["U+1F68B"], "🚋", "tram car"], [["U+1F68C"], "🚌", "bus"], [["U+1F68D"], "🚍", "oncoming bus"], [["U+1F68E"], "🚎", "trolleybus"], [["U+1F690"], "🚐", "minibus"], [["U+1F691"], "🚑", "ambulance"], [["U+1F692"], "🚒", "fire engine"], [["U+1F693"], "🚓", "police car"], [["U+1F694"], "🚔", "oncoming police car"], [["U+1F695"], "🚕", "taxi"], [["U+1F696"], "🚖", "oncoming taxi"], [["U+1F697"], "🚗", "automobile"], [["U+1F698"], "🚘", "oncoming automobile"], [["U+1F699"], "🚙", "sport utility vehicle"], [["U+1F69A"], "🚚", "delivery truck"], [["U+1F69B"], "🚛", "articulated lorry"], [["U+1F69C"], "🚜", "tractor"], [["U+1F3CE"], "🏎", "racing car"], [["U+1F3CD"], "🏍", "motorcycle"], [["U+1F6F5"], "🛵", "motor scooter"], [["U+1F9BD"], "🦽", "manual wheelchair"], [["U+1F9BC"], "🦼", "motorized wheelchair"], [["U+1F6FA"], "🛺", "auto rickshaw"], [["U+1F6B2"], "🚲", "bicycle"], [["U+1F6F4"], "🛴", "kick scooter"], [["U+1F6F9"], "🛹", "skateboard"], [["U+1F6FC"], "🛼", "⊛ roller skate"], [["U+1F68F"], "🚏", "bus stop"], [["U+1F6E3"], "🛣", "motorway"], [["U+1F6E4"], "🛤", "railway track"], [["U+1F6E2"], "🛢", "oil drum"], [["U+26FD"], "⛽", "fuel pump"], [["U+1F6A8"], "🚨", "police car light"], [["U+1F6A5"], "🚥", "horizontal traffic light"], [["U+1F6A6"], "🚦", "vertical traffic light"], [["U+1F6D1"], "🛑", "stop sign"], [["U+1F6A7"], "🚧", "construction"]]], ["transport-water", [[["U+2693"], "⚓", "anchor"], [["U+26F5"], "⛵", "sailboat"], [["U+1F6F6"], "🛶", "canoe"], [["U+1F6A4"], "🚤", "speedboat"], [["U+1F6F3"], "🛳", "passenger ship"], [["U+26F4"], "⛴", "ferry"], [["U+1F6E5"], "🛥", "motor boat"], [["U+1F6A2"], "🚢", "ship"]]], ["transport-air", [[["U+2708"], "✈", "airplane"], [["U+1F6E9"], "🛩", "small airplane"], [["U+1F6EB"], "🛫", "airplane departure"], [["U+1F6EC"], "🛬", "airplane arrival"], [["U+1FA82"], "🪂", "parachute"], [["U+1F4BA"], "💺", "seat"], [["U+1F681"], "🚁", "helicopter"], [["U+1F69F"], "🚟", "suspension railway"], [["U+1F6A0"], "🚠", "mountain cableway"], [["U+1F6A1"], "🚡", "aerial tramway"], [["U+1F6F0"], "🛰", "satellite"], [["U+1F680"], "🚀", "rocket"], [["U+1F6F8"], "🛸", "flying saucer"]]], ["hotel", [[["U+1F6CE"], "🛎", "bellhop bell"], [["U+1F9F3"], "🧳", "luggage"]]], ["time", [[["U+231B"], "⌛", "hourglass done"], [["U+23F3"], "⏳", "hourglass not done"], [["U+231A"], "⌚", "watch"], [["U+23F0"], "⏰", "alarm clock"], [["U+23F1"], "⏱", "stopwatch"], [["U+23F2"], "⏲", "timer clock"], [["U+1F570"], "🕰", "mantelpiece clock"], [["U+1F55B"], "🕛", "twelve o’clock"], [["U+1F567"], "🕧", "twelve-thirty"], [["U+1F550"], "🕐", "one o’clock"], [["U+1F55C"], "🕜", "one-thirty"], [["U+1F551"], "🕑", "two o’clock"], [["U+1F55D"], "🕝", "two-thirty"], [["U+1F552"], "🕒", "three o’clock"], [["U+1F55E"], "🕞", "three-thirty"], [["U+1F553"], "🕓", "four o’clock"], [["U+1F55F"], "🕟", "four-thirty"], [["U+1F554"], "🕔", "five o’clock"], [["U+1F560"], "🕠", "five-thirty"], [["U+1F555"], "🕕", "six o’clock"], [["U+1F561"], "🕡", "six-thirty"], [["U+1F556"], "🕖", "seven o’clock"], [["U+1F562"], "🕢", "seven-thirty"], [["U+1F557"], "🕗", "eight o’clock"], [["U+1F563"], "🕣", "eight-thirty"], [["U+1F558"], "🕘", "nine o’clock"], [["U+1F564"], "🕤", "nine-thirty"], [["U+1F559"], "🕙", "ten o’clock"], [["U+1F565"], "🕥", "ten-thirty"], [["U+1F55A"], "🕚", "eleven o’clock"], [["U+1F566"], "🕦", "eleven-thirty"]]], ["sky & weather", [[["U+1F311"], "🌑", "new moon"], [["U+1F312"], "🌒", "waxing crescent moon"], [["U+1F313"], "🌓", "first quarter moon"], [["U+1F314"], "🌔", "waxing gibbous moon"], [["U+1F315"], "🌕", "full moon"], [["U+1F316"], "🌖", "waning gibbous moon"], [["U+1F317"], "🌗", "last quarter moon"], [["U+1F318"], "🌘", "waning crescent moon"], [["U+1F319"], "🌙", "crescent moon"], [["U+1F31A"], "🌚", "new moon face"], [["U+1F31B"], "🌛", "first quarter moon face"], [["U+1F31C"], "🌜", "last quarter moon face"], [["U+1F321"], "🌡", "thermometer"], [["U+2600"], "☀", "sun"], [["U+1F31D"], "🌝", "full moon face"], [["U+1F31E"], "🌞", "sun with face"], [["U+1FA90"], "🪐", "ringed planet"], [["U+2B50"], "⭐", "star"], [["U+1F31F"], "🌟", "glowing star"], [["U+1F320"], "🌠", "shooting star"], [["U+1F30C"], "🌌", "milky way"], [["U+2601"], "☁", "cloud"], [["U+26C5"], "⛅", "sun behind cloud"], [["U+26C8"], "⛈", "cloud with lightning and rain"], [["U+1F324"], "🌤", "sun behind small cloud"], [["U+1F325"], "🌥", "sun behind large cloud"], [["U+1F326"], "🌦", "sun behind rain cloud"], [["U+1F327"], "🌧", "cloud with rain"], [["U+1F328"], "🌨", "cloud with snow"], [["U+1F329"], "🌩", "cloud with lightning"], [["U+1F32A"], "🌪", "tornado"], [["U+1F32B"], "🌫", "fog"], [["U+1F32C"], "🌬", "wind face"], [["U+1F300"], "🌀", "cyclone"], [["U+1F308"], "🌈", "rainbow"], [["U+1F302"], "🌂", "closed umbrella"], [["U+2602"], "☂", "umbrella"], [["U+2614"], "☔", "umbrella with rain drops"], [["U+26F1"], "⛱", "umbrella on ground"], [["U+26A1"], "⚡", "high voltage"], [["U+2744"], "❄", "snowflake"], [["U+2603"], "☃", "snowman"], [["U+26C4"], "⛄", "snowman without snow"], [["U+2604"], "☄", "comet"], [["U+1F525"], "🔥", "fire"], [["U+1F4A7"], "💧", "droplet"], [["U+1F30A"], "🌊", "water wave"]]]]], ["Activities", [["event", [[["U+1F383"], "🎃", "jack-o-lantern"], [["U+1F384"], "🎄", "Christmas tree"], [["U+1F386"], "🎆", "fireworks"], [["U+1F387"], "🎇", "sparkler"], [["U+1F9E8"], "🧨", "firecracker"], [["U+2728"], "✨", "sparkles"], [["U+1F388"], "🎈", "balloon"], [["U+1F389"], "🎉", "party popper"], [["U+1F38A"], "🎊", "confetti ball"], [["U+1F38B"], "🎋", "tanabata tree"], [["U+1F38D"], "🎍", "pine decoration"], [["U+1F38E"], "🎎", "Japanese dolls"], [["U+1F38F"], "🎏", "carp streamer"], [["U+1F390"], "🎐", "wind chime"], [["U+1F391"], "🎑", "moon viewing ceremony"], [["U+1F9E7"], "🧧", "red envelope"], [["U+1F380"], "🎀", "ribbon"], [["U+1F381"], "🎁", "wrapped gift"], [["U+1F397"], "🎗", "reminder ribbon"], [["U+1F39F"], "🎟", "admission tickets"], [["U+1F3AB"], "🎫", "ticket"]]], ["award-medal", [[["U+1F396"], "🎖", "military medal"], [["U+1F3C6"], "🏆", "trophy"], [["U+1F3C5"], "🏅", "sports medal"], [["U+1F947"], "🥇", "1st place medal"], [["U+1F948"], "🥈", "2nd place medal"], [["U+1F949"], "🥉", "3rd place medal"]]], ["sport", [[["U+26BD"], "⚽", "soccer ball"], [["U+26BE"], "⚾", "baseball"], [["U+1F94E"], "🥎", "softball"], [["U+1F3C0"], "🏀", "basketball"], [["U+1F3D0"], "🏐", "volleyball"], [["U+1F3C8"], "🏈", "american football"], [["U+1F3C9"], "🏉", "rugby football"], [["U+1F3BE"], "🎾", "tennis"], [["U+1F94F"], "🥏", "flying disc"], [["U+1F3B3"], "🎳", "bowling"], [["U+1F3CF"], "🏏", "cricket game"], [["U+1F3D1"], "🏑", "field hockey"], [["U+1F3D2"], "🏒", "ice hockey"], [["U+1F94D"], "🥍", "lacrosse"], [["U+1F3D3"], "🏓", "ping pong"], [["U+1F3F8"], "🏸", "badminton"], [["U+1F94A"], "🥊", "boxing glove"], [["U+1F94B"], "🥋", "martial arts uniform"], [["U+1F945"], "🥅", "goal net"], [["U+26F3"], "⛳", "flag in hole"], [["U+26F8"], "⛸", "ice skate"], [["U+1F3A3"], "🎣", "fishing pole"], [["U+1F93F"], "🤿", "diving mask"], [["U+1F3BD"], "🎽", "running shirt"], [["U+1F3BF"], "🎿", "skis"], [["U+1F6F7"], "🛷", "sled"], [["U+1F94C"], "🥌", "curling stone"]]], ["game", [[["U+1F3AF"], "🎯", "direct hit"], [["U+1FA80"], "🪀", "yo-yo"], [["U+1FA81"], "🪁", "kite"], [["U+1F3B1"], "🎱", "pool 8 ball"], [["U+1F52E"], "🔮", "crystal ball"], [["U+1FA84"], "🪄", "⊛ magic wand"], [["U+1F9FF"], "🧿", "nazar amulet"], [["U+1F3AE"], "🎮", "video game"], [["U+1F579"], "🕹", "joystick"], [["U+1F3B0"], "🎰", "slot machine"], [["U+1F3B2"], "🎲", "game die"], [["U+1F9E9"], "🧩", "puzzle piece"], [["U+1F9F8"], "🧸", "teddy bear"], [["U+1FA85"], "🪅", "⊛ piñata"], [["U+1FA86"], "🪆", "⊛ nesting dolls"], [["U+2660"], "♠", "spade suit"], [["U+2665"], "♥", "heart suit"], [["U+2666"], "♦", "diamond suit"], [["U+2663"], "♣", "club suit"], [["U+265F"], "♟", "chess pawn"], [["U+1F0CF"], "🃏", "joker"], [["U+1F004"], "🀄", "mahjong red dragon"], [["U+1F3B4"], "🎴", "flower playing cards"]]], ["arts & crafts", [[["U+1F3AD"], "🎭", "performing arts"], [["U+1F5BC"], "🖼", "framed picture"], [["U+1F3A8"], "🎨", "artist palette"], [["U+1F9F5"], "🧵", "thread"], [["U+1FAA1"], "🪡", "⊛ sewing needle"], [["U+1F9F6"], "🧶", "yarn"], [["U+1FAA2"], "🪢", "⊛ knot"]]]]], ["Objects", [["clothing", [[["U+1F453"], "👓", "glasses"], [["U+1F576"], "🕶", "sunglasses"], [["U+1F97D"], "🥽", "goggles"], [["U+1F97C"], "🥼", "lab coat"], [["U+1F9BA"], "🦺", "safety vest"], [["U+1F454"], "👔", "necktie"], [["U+1F455"], "👕", "t-shirt"], [["U+1F456"], "👖", "jeans"], [["U+1F9E3"], "🧣", "scarf"], [["U+1F9E4"], "🧤", "gloves"], [["U+1F9E5"], "🧥", "coat"], [["U+1F9E6"], "🧦", "socks"], [["U+1F457"], "👗", "dress"], [["U+1F458"], "👘", "kimono"], [["U+1F97B"], "🥻", "sari"], [["U+1FA71"], "🩱", "one-piece swimsuit"], [["U+1FA72"], "🩲", "briefs"], [["U+1FA73"], "🩳", "shorts"], [["U+1F459"], "👙", "bikini"], [["U+1F45A"], "👚", "woman’s clothes"], [["U+1F45B"], "👛", "purse"], [["U+1F45C"], "👜", "handbag"], [["U+1F45D"], "👝", "clutch bag"], [["U+1F6CD"], "🛍", "shopping bags"], [["U+1F392"], "🎒", "backpack"], [["U+1FA74"], "🩴", "⊛ thong sandal"], [["U+1F45E"], "👞", "man’s shoe"], [["U+1F45F"], "👟", "running shoe"], [["U+1F97E"], "🥾", "hiking boot"], [["U+1F97F"], "🥿", "flat shoe"], [["U+1F460"], "👠", "high-heeled shoe"], [["U+1F461"], "👡", "woman’s sandal"], [["U+1FA70"], "🩰", "ballet shoes"], [["U+1F462"], "👢", "woman’s boot"], [["U+1F451"], "👑", "crown"], [["U+1F452"], "👒", "woman’s hat"], [["U+1F3A9"], "🎩", "top hat"], [["U+1F393"], "🎓", "graduation cap"], [["U+1F9E2"], "🧢", "billed cap"], [["U+1FA96"], "🪖", "⊛ military helmet"], [["U+26D1"], "⛑", "rescue worker’s helmet"], [["U+1F4FF"], "📿", "prayer beads"], [["U+1F484"], "💄", "lipstick"], [["U+1F48D"], "💍", "ring"], [["U+1F48E"], "💎", "gem stone"]]], ["sound", [[["U+1F507"], "🔇", "muted speaker"], [["U+1F508"], "🔈", "speaker low volume"], [["U+1F509"], "🔉", "speaker medium volume"], [["U+1F50A"], "🔊", "speaker high volume"], [["U+1F4E2"], "📢", "loudspeaker"], [["U+1F4E3"], "📣", "megaphone"], [["U+1F4EF"], "📯", "postal horn"], [["U+1F514"], "🔔", "bell"], [["U+1F515"], "🔕", "bell with slash"]]], ["music", [[["U+1F3BC"], "🎼", "musical score"], [["U+1F3B5"], "🎵", "musical note"], [["U+1F3B6"], "🎶", "musical notes"], [["U+1F399"], "🎙", "studio microphone"], [["U+1F39A"], "🎚", "level slider"], [["U+1F39B"], "🎛", "control knobs"], [["U+1F3A4"], "🎤", "microphone"], [["U+1F3A7"], "🎧", "headphone"], [["U+1F4FB"], "📻", "radio"]]], ["musical-instrument", [[["U+1F3B7"], "🎷", "saxophone"], [["U+1FA97"], "🪗", "⊛ accordion"], [["U+1F3B8"], "🎸", "guitar"], [["U+1F3B9"], "🎹", "musical keyboard"], [["U+1F3BA"], "🎺", "trumpet"], [["U+1F3BB"], "🎻", "violin"], [["U+1FA95"], "🪕", "banjo"], [["U+1F941"], "🥁", "drum"], [["U+1FA98"], "🪘", "⊛ long drum"]]], ["phone", [[["U+1F4F1"], "📱", "mobile phone"], [["U+1F4F2"], "📲", "mobile phone with arrow"], [["U+260E"], "☎", "telephone"], [["U+1F4DE"], "📞", "telephone receiver"], [["U+1F4DF"], "📟", "pager"], [["U+1F4E0"], "📠", "fax machine"]]], ["computer", [[["U+1F50B"], "🔋", "battery"], [["U+1F50C"], "🔌", "electric plug"], [["U+1F4BB"], "💻", "laptop"], [["U+1F5A5"], "🖥", "desktop computer"], [["U+1F5A8"], "🖨", "printer"], [["U+2328"], "⌨", "keyboard"], [["U+1F5B1"], "🖱", "computer mouse"], [["U+1F5B2"], "🖲", "trackball"], [["U+1F4BD"], "💽", "computer disk"], [["U+1F4BE"], "💾", "floppy disk"], [["U+1F4BF"], "💿", "optical disk"], [["U+1F4C0"], "📀", "dvd"], [["U+1F9EE"], "🧮", "abacus"]]], ["light & video", [[["U+1F3A5"], "🎥", "movie camera"], [["U+1F39E"], "🎞", "film frames"], [["U+1F4FD"], "📽", "film projector"], [["U+1F3AC"], "🎬", "clapper board"], [["U+1F4FA"], "📺", "television"], [["U+1F4F7"], "📷", "camera"], [["U+1F4F8"], "📸", "camera with flash"], [["U+1F4F9"], "📹", "video camera"], [["U+1F4FC"], "📼", "videocassette"], [["U+1F50D"], "🔍", "magnifying glass tilted left"], [["U+1F50E"], "🔎", "magnifying glass tilted right"], [["U+1F56F"], "🕯", "candle"], [["U+1F4A1"], "💡", "light bulb"], [["U+1F526"], "🔦", "flashlight"], [["U+1F3EE"], "🏮", "red paper lantern"], [["U+1FA94"], "🪔", "diya lamp"]]], ["book-paper", [[["U+1F4D4"], "📔", "notebook with decorative cover"], [["U+1F4D5"], "📕", "closed book"], [["U+1F4D6"], "📖", "open book"], [["U+1F4D7"], "📗", "green book"], [["U+1F4D8"], "📘", "blue book"], [["U+1F4D9"], "📙", "orange book"], [["U+1F4DA"], "📚", "books"], [["U+1F4D3"], "📓", "notebook"], [["U+1F4D2"], "📒", "ledger"], [["U+1F4C3"], "📃", "page with curl"], [["U+1F4DC"], "📜", "scroll"], [["U+1F4C4"], "📄", "page facing up"], [["U+1F4F0"], "📰", "newspaper"], [["U+1F5DE"], "🗞", "rolled-up newspaper"], [["U+1F4D1"], "📑", "bookmark tabs"], [["U+1F516"], "🔖", "bookmark"], [["U+1F3F7"], "🏷", "label"]]], ["money", [[["U+1F4B0"], "💰", "money bag"], [["U+1FA99"], "🪙", "⊛ coin"], [["U+1F4B4"], "💴", "yen banknote"], [["U+1F4B5"], "💵", "dollar banknote"], [["U+1F4B6"], "💶", "euro banknote"], [["U+1F4B7"], "💷", "pound banknote"], [["U+1F4B8"], "💸", "money with wings"], [["U+1F4B3"], "💳", "credit card"], [["U+1F9FE"], "🧾", "receipt"], [["U+1F4B9"], "💹", "chart increasing with yen"]]], ["mail", [[["U+2709"], "✉", "envelope"], [["U+1F4E7"], "📧", "e-mail"], [["U+1F4E8"], "📨", "incoming envelope"], [["U+1F4E9"], "📩", "envelope with arrow"], [["U+1F4E4"], "📤", "outbox tray"], [["U+1F4E5"], "📥", "inbox tray"], [["U+1F4E6"], "📦", "package"], [["U+1F4EB"], "📫", "closed mailbox with raised flag"], [["U+1F4EA"], "📪", "closed mailbox with lowered flag"], [["U+1F4EC"], "📬", "open mailbox with raised flag"], [["U+1F4ED"], "📭", "open mailbox with lowered flag"], [["U+1F4EE"], "📮", "postbox"], [["U+1F5F3"], "🗳", "ballot box with ballot"]]], ["writing", [[["U+270F"], "✏", "pencil"], [["U+2712"], "✒", "black nib"], [["U+1F58B"], "🖋", "fountain pen"], [["U+1F58A"], "🖊", "pen"], [["U+1F58C"], "🖌", "paintbrush"], [["U+1F58D"], "🖍", "crayon"], [["U+1F4DD"], "📝", "memo"]]], ["office", [[["U+1F4BC"], "💼", "briefcase"], [["U+1F4C1"], "📁", "file folder"], [["U+1F4C2"], "📂", "open file folder"], [["U+1F5C2"], "🗂", "card index dividers"], [["U+1F4C5"], "📅", "calendar"], [["U+1F4C6"], "📆", "tear-off calendar"], [["U+1F5D2"], "🗒", "spiral notepad"], [["U+1F5D3"], "🗓", "spiral calendar"], [["U+1F4C7"], "📇", "card index"], [["U+1F4C8"], "📈", "chart increasing"], [["U+1F4C9"], "📉", "chart decreasing"], [["U+1F4CA"], "📊", "bar chart"], [["U+1F4CB"], "📋", "clipboard"], [["U+1F4CC"], "📌", "pushpin"], [["U+1F4CD"], "📍", "round pushpin"], [["U+1F4CE"], "📎", "paperclip"], [["U+1F587"], "🖇", "linked paperclips"], [["U+1F4CF"], "📏", "straight ruler"], [["U+1F4D0"], "📐", "triangular ruler"], [["U+2702"], "✂", "scissors"], [["U+1F5C3"], "🗃", "card file box"], [["U+1F5C4"], "🗄", "file cabinet"], [["U+1F5D1"], "🗑", "wastebasket"]]], ["lock", [[["U+1F512"], "🔒", "locked"], [["U+1F513"], "🔓", "unlocked"], [["U+1F50F"], "🔏", "locked with pen"], [["U+1F510"], "🔐", "locked with key"], [["U+1F511"], "🔑", "key"], [["U+1F5DD"], "🗝", "old key"]]], ["tool", [[["U+1F528"], "🔨", "hammer"], [["U+1FA93"], "🪓", "axe"], [["U+26CF"], "⛏", "pick"], [["U+2692"], "⚒", "hammer and pick"], [["U+1F6E0"], "🛠", "hammer and wrench"], [["U+1F5E1"], "🗡", "dagger"], [["U+2694"], "⚔", "crossed swords"], [["U+1F52B"], "🔫", "pistol"], [["U+1FA83"], "🪃", "⊛ boomerang"], [["U+1F3F9"], "🏹", "bow and arrow"], [["U+1F6E1"], "🛡", "shield"], [["U+1F527"], "🔧", "wrench"], [["U+1FA9B"], "🪛", "⊛ screwdriver"], [["U+1F529"], "🔩", "nut and bolt"], [["U+2699"], "⚙", "gear"], [["U+1F5DC"], "🗜", "clamp"], [["U+2696"], "⚖", "balance scale"], [["U+1F9AF"], "🦯", "white cane"], [["U+1F517"], "🔗", "link"], [["U+26D3"], "⛓", "chains"], [["U+1FA9D"], "🪝", "⊛ hook"], [["U+1F9F0"], "🧰", "toolbox"], [["U+1F9F2"], "🧲", "magnet"], [["U+1FA9C"], "🪜", "⊛ ladder"]]], ["science", [[["U+2697"], "⚗", "alembic"], [["U+1F9EA"], "🧪", "test tube"], [["U+1F9EB"], "🧫", "petri dish"], [["U+1F9EC"], "🧬", "dna"], [["U+1F52C"], "🔬", "microscope"], [["U+1F52D"], "🔭", "telescope"], [["U+1F4E1"], "📡", "satellite antenna"]]], ["medical", [[["U+1F489"], "💉", "syringe"], [["U+1FA78"], "🩸", "drop of blood"], [["U+1F48A"], "💊", "pill"], [["U+1FA79"], "🩹", "adhesive bandage"], [["U+1FA7A"], "🩺", "stethoscope"]]], ["household", [[["U+1F6AA"], "🚪", "door"], [["U+1F6D7"], "🛗", "⊛ elevator"], [["U+1F6CF"], "🛏", "bed"], [["U+1F6CB"], "🛋", "couch and lamp"], [["U+1FA91"], "🪑", "chair"], [["U+1F6BD"], "🚽", "toilet"], [["U+1FAA0"], "🪠", "⊛ plunger"], [["U+1F6BF"], "🚿", "shower"], [["U+1F6C1"], "🛁", "bathtub"], [["U+1FA92"], "🪒", "razor"], [["U+1F9F4"], "🧴", "lotion bottle"], [["U+1F9F7"], "🧷", "safety pin"], [["U+1F9F9"], "🧹", "broom"], [["U+1F9FA"], "🧺", "basket"], [["U+1F9FB"], "🧻", "roll of paper"], [["U+1FAA3"], "🪣", "⊛ bucket"], [["U+1F9FC"], "🧼", "soap"], [["U+1FAA5"], "🪥", "⊛ toothbrush"], [["U+1F9FD"], "🧽", "sponge"], [["U+1F9EF"], "🧯", "fire extinguisher"], [["U+1F6D2"], "🛒", "shopping cart"]]], ["other-object", [[["U+1F6AC"], "🚬", "cigarette"], [["U+26B0"], "⚰", "coffin"], [["U+26B1"], "⚱", "funeral urn"], [["U+1F5FF"], "🗿", "moai"], [["U+1FAA7"], "🪧", "⊛ placard"]]]]], ["Symbols", [["transport-sign", [[["U+1F3E7"], "🏧", "ATM sign"], [["U+1F6AE"], "🚮", "litter in bin sign"], [["U+1F6B0"], "🚰", "potable water"], [["U+267F"], "♿", "wheelchair symbol"], [["U+1F6B9"], "🚹", "men’s room"], [["U+1F6BA"], "🚺", "women’s room"], [["U+1F6BB"], "🚻", "restroom"], [["U+1F6BC"], "🚼", "baby symbol"], [["U+1F6BE"], "🚾", "water closet"], [["U+1F6C2"], "🛂", "passport control"], [["U+1F6C3"], "🛃", "customs"], [["U+1F6C4"], "🛄", "baggage claim"], [["U+1F6C5"], "🛅", "left luggage"]]], ["warning", [[["U+26A0"], "⚠", "warning"], [["U+1F6B8"], "🚸", "children crossing"], [["U+26D4"], "⛔", "no entry"], [["U+1F6AB"], "🚫", "prohibited"], [["U+1F6B3"], "🚳", "no bicycles"], [["U+1F6AD"], "🚭", "no smoking"], [["U+1F6AF"], "🚯", "no littering"], [["U+1F6B1"], "🚱", "non-potable water"], [["U+1F6B7"], "🚷", "no pedestrians"], [["U+1F4F5"], "📵", "no mobile phones"], [["U+1F51E"], "🔞", "no one under eighteen"], [["U+2622"], "☢", "radioactive"], [["U+2623"], "☣", "biohazard"]]], ["arrow", [[["U+2B06"], "⬆", "up arrow"], [["U+2197"], "↗", "up-right arrow"], [["U+27A1"], "➡", "right arrow"], [["U+2198"], "↘", "down-right arrow"], [["U+2B07"], "⬇", "down arrow"], [["U+2199"], "↙", "down-left arrow"], [["U+2B05"], "⬅", "left arrow"], [["U+2196"], "↖", "up-left arrow"], [["U+2195"], "↕", "up-down arrow"], [["U+2194"], "↔", "left-right arrow"], [["U+21A9"], "↩", "right arrow curving left"], [["U+21AA"], "↪", "left arrow curving right"], [["U+2934"], "⤴", "right arrow curving up"], [["U+2935"], "⤵", "right arrow curving down"], [["U+1F503"], "🔃", "clockwise vertical arrows"], [["U+1F504"], "🔄", "counterclockwise arrows button"], [["U+1F519"], "🔙", "BACK arrow"], [["U+1F51A"], "🔚", "END arrow"], [["U+1F51B"], "🔛", "ON! arrow"], [["U+1F51C"], "🔜", "SOON arrow"], [["U+1F51D"], "🔝", "TOP arrow"]]], ["religion", [[["U+1F6D0"], "🛐", "place of worship"], [["U+269B"], "⚛", "atom symbol"], [["U+1F549"], "🕉", "om"], [["U+2721"], "✡", "star of David"], [["U+2638"], "☸", "wheel of dharma"], [["U+262F"], "☯", "yin yang"], [["U+271D"], "✝", "latin cross"], [["U+2626"], "☦", "orthodox cross"], [["U+262A"], "☪", "star and crescent"], [["U+262E"], "☮", "peace symbol"], [["U+1F54E"], "🕎", "menorah"], [["U+1F52F"], "🔯", "dotted six-pointed star"]]], ["zodiac", [[["U+2648"], "♈", "Aries"], [["U+2649"], "♉", "Taurus"], [["U+264A"], "♊", "Gemini"], [["U+264B"], "♋", "Cancer"], [["U+264C"], "♌", "Leo"], [["U+264D"], "♍", "Virgo"], [["U+264E"], "♎", "Libra"], [["U+264F"], "♏", "Scorpio"], [["U+2650"], "♐", "Sagittarius"], [["U+2651"], "♑", "Capricorn"], [["U+2652"], "♒", "Aquarius"], [["U+2653"], "♓", "Pisces"], [["U+26CE"], "⛎", "Ophiuchus"]]], ["av-symbol", [[["U+1F500"], "🔀", "shuffle tracks button"], [["U+1F501"], "🔁", "repeat button"], [["U+1F502"], "🔂", "repeat single button"], [["U+25B6"], "▶", "play button"], [["U+23E9"], "⏩", "fast-forward button"], [["U+23ED"], "⏭", "next track button"], [["U+23EF"], "⏯", "play or pause button"], [["U+25C0"], "◀", "reverse button"], [["U+23EA"], "⏪", "fast reverse button"], [["U+23EE"], "⏮", "last track button"], [["U+1F53C"], "🔼", "upwards button"], [["U+23EB"], "⏫", "fast up button"], [["U+1F53D"], "🔽", "downwards button"], [["U+23EC"], "⏬", "fast down button"], [["U+23F8"], "⏸", "pause button"], [["U+23F9"], "⏹", "stop button"], [["U+23FA"], "⏺", "record button"], [["U+23CF"], "⏏", "eject button"], [["U+1F3A6"], "🎦", "cinema"], [["U+1F505"], "🔅", "dim button"], [["U+1F506"], "🔆", "bright button"], [["U+1F4F6"], "📶", "antenna bars"], [["U+1F4F3"], "📳", "vibration mode"], [["U+1F4F4"], "📴", "mobile phone off"]]], ["gender", [[["U+2640"], "♀", "female sign"], [["U+2642"], "♂", "male sign"], [["U+26A7"], "⚧", "⊛ transgender symbol"]]], ["math", [[["U+2716"], "✖", "multiply"], [["U+2795"], "➕", "plus"], [["U+2796"], "➖", "minus"], [["U+2797"], "➗", "divide"], [["U+267E"], "♾", "infinity"]]], ["punctuation", [[["U+203C"], "‼", "double exclamation mark"], [["U+2049"], "⁉", "exclamation question mark"], [["U+2753"], "❓", "question mark"], [["U+2754"], "❔", "white question mark"], [["U+2755"], "❕", "white exclamation mark"], [["U+2757"], "❗", "exclamation mark"], [["U+3030"], "〰", "wavy dash"]]], ["currency", [[["U+1F4B1"], "💱", "currency exchange"], [["U+1F4B2"], "💲", "heavy dollar sign"]]], ["other-symbol", [[["U+2695"], "⚕", "medical symbol"], [["U+267B"], "♻", "recycling symbol"], [["U+269C"], "⚜", "fleur-de-lis"], [["U+1F531"], "🔱", "trident emblem"], [["U+1F4DB"], "📛", "name badge"], [["U+1F530"], "🔰", "Japanese symbol for beginner"], [["U+2B55"], "⭕", "hollow red circle"], [["U+2705"], "✅", "check mark button"], [["U+2611"], "☑", "check box with check"], [["U+2714"], "✔", "check mark"], [["U+274C"], "❌", "cross mark"], [["U+274E"], "❎", "cross mark button"], [["U+27B0"], "➰", "curly loop"], [["U+27BF"], "➿", "double curly loop"], [["U+303D"], "〽", "part alternation mark"], [["U+2733"], "✳", "eight-spoked asterisk"], [["U+2734"], "✴", "eight-pointed star"], [["U+2747"], "❇", "sparkle"], [["U+00A9"], "©", "copyright"], [["U+00AE"], "®", "registered"], [["U+2122"], "™", "trade mark"]]], ["keycap", [[["U+0023", "U+FE0F", "U+20E3"], "#️⃣", "keycap: #"], [["U+002A", "U+FE0F", "U+20E3"], "*️⃣", "keycap: *"], [["U+0030", "U+FE0F", "U+20E3"], "0️⃣", "keycap: 0"], [["U+0031", "U+FE0F", "U+20E3"], "1️⃣", "keycap: 1"], [["U+0032", "U+FE0F", "U+20E3"], "2️⃣", "keycap: 2"], [["U+0033", "U+FE0F", "U+20E3"], "3️⃣", "keycap: 3"], [["U+0034", "U+FE0F", "U+20E3"], "4️⃣", "keycap: 4"], [["U+0035", "U+FE0F", "U+20E3"], "5️⃣", "keycap: 5"], [["U+0036", "U+FE0F", "U+20E3"], "6️⃣", "keycap: 6"], [["U+0037", "U+FE0F", "U+20E3"], "7️⃣", "keycap: 7"], [["U+0038", "U+FE0F", "U+20E3"], "8️⃣", "keycap: 8"], [["U+0039", "U+FE0F", "U+20E3"], "9️⃣", "keycap: 9"], [["U+1F51F"], "🔟", "keycap: 10"]]], ["alphanum", [[["U+1F520"], "🔠", "input latin uppercase"], [["U+1F521"], "🔡", "input latin lowercase"], [["U+1F522"], "🔢", "input numbers"], [["U+1F523"], "🔣", "input symbols"], [["U+1F524"], "🔤", "input latin letters"], [["U+1F170"], "🅰", "A button (blood type)"], [["U+1F18E"], "🆎", "AB button (blood type)"], [["U+1F171"], "🅱", "B button (blood type)"], [["U+1F191"], "🆑", "CL button"], [["U+1F192"], "🆒", "COOL button"], [["U+1F193"], "🆓", "FREE button"], [["U+2139"], "ℹ", "information"], [["U+1F194"], "🆔", "ID button"], [["U+24C2"], "Ⓜ", "circled M"], [["U+1F195"], "🆕", "NEW button"], [["U+1F196"], "🆖", "NG button"], [["U+1F17E"], "🅾", "O button (blood type)"], [["U+1F197"], "🆗", "OK button"], [["U+1F17F"], "🅿", "P button"], [["U+1F198"], "🆘", "SOS button"], [["U+1F199"], "🆙", "UP! button"], [["U+1F19A"], "🆚", "VS button"], [["U+1F201"], "🈁", "Japanese “here” button"], [["U+1F202"], "🈂", "Japanese “service charge” button"], [["U+1F237"], "🈷", "Japanese “monthly amount” button"], [["U+1F236"], "🈶", "Japanese “not free of charge” button"], [["U+1F22F"], "🈯", "Japanese “reserved” button"], [["U+1F250"], "🉐", "Japanese “bargain” button"], [["U+1F239"], "🈹", "Japanese “discount” button"], [["U+1F21A"], "🈚", "Japanese “free of charge” button"], [["U+1F232"], "🈲", "Japanese “prohibited” button"], [["U+1F251"], "🉑", "Japanese “acceptable” button"], [["U+1F238"], "🈸", "Japanese “application” button"], [["U+1F234"], "🈴", "Japanese “passing grade” button"], [["U+1F233"], "🈳", "Japanese “vacancy” button"], [["U+3297"], "㊗", "Japanese “congratulations” button"], [["U+3299"], "㊙", "Japanese “secret” button"], [["U+1F23A"], "🈺", "Japanese “open for business” button"], [["U+1F235"], "🈵", "Japanese “no vacancy” button"]]], ["geometric", [[["U+1F534"], "🔴", "red circle"], [["U+1F7E0"], "🟠", "orange circle"], [["U+1F7E1"], "🟡", "yellow circle"], [["U+1F7E2"], "🟢", "green circle"], [["U+1F535"], "🔵", "blue circle"], [["U+1F7E3"], "🟣", "purple circle"], [["U+1F7E4"], "🟤", "brown circle"], [["U+26AB"], "⚫", "black circle"], [["U+26AA"], "⚪", "white circle"], [["U+1F7E5"], "🟥", "red square"], [["U+1F7E7"], "🟧", "orange square"], [["U+1F7E8"], "🟨", "yellow square"], [["U+1F7E9"], "🟩", "green square"], [["U+1F7E6"], "🟦", "blue square"], [["U+1F7EA"], "🟪", "purple square"], [["U+1F7EB"], "🟫", "brown square"], [["U+2B1B"], "⬛", "black large square"], [["U+2B1C"], "⬜", "white large square"], [["U+25FC"], "◼", "black medium square"], [["U+25FB"], "◻", "white medium square"], [["U+25FE"], "◾", "black medium-small square"], [["U+25FD"], "◽", "white medium-small square"], [["U+25AA"], "▪", "black small square"], [["U+25AB"], "▫", "white small square"], [["U+1F536"], "🔶", "large orange diamond"], [["U+1F537"], "🔷", "large blue diamond"], [["U+1F538"], "🔸", "small orange diamond"], [["U+1F539"], "🔹", "small blue diamond"], [["U+1F53A"], "🔺", "red triangle pointed up"], [["U+1F53B"], "🔻", "red triangle pointed down"], [["U+1F4A0"], "💠", "diamond with a dot"], [["U+1F518"], "🔘", "radio button"], [["U+1F533"], "🔳", "white square button"], [["U+1F532"], "🔲", "black square button"]]]]], ["Flags", [["flag", [[["U+1F3C1"], "🏁", "chequered flag"], [["U+1F6A9"], "🚩", "triangular flag"], [["U+1F38C"], "🎌", "crossed flags"], [["U+1F3F4"], "🏴", "black flag"], [["U+1F3F3"], "🏳", "white flag"], [["U+1F3F3", "U+FE0F", "U+200D", "U+1F308"], "🏳️‍🌈", "rainbow flag"], [["U+1F3F3", "U+FE0F", "U+200D", "U+26A7", "U+FE0F"], "🏳️‍⚧️", "⊛ transgender flag"], [["U+1F3F4", "U+200D", "U+2620", "U+FE0F"], "🏴‍☠️", "pirate flag"]]], ["country-flag", [[["U+1F1E6", "U+1F1E8"], "🇦🇨", "flag: Ascension Island"], [["U+1F1E6", "U+1F1E9"], "🇦🇩", "flag: Andorra"], [["U+1F1E6", "U+1F1EA"], "🇦🇪", "flag: United Arab Emirates"], [["U+1F1E6", "U+1F1EB"], "🇦🇫", "flag: Afghanistan"], [["U+1F1E6", "U+1F1EC"], "🇦🇬", "flag: Antigua & Barbuda"], [["U+1F1E6", "U+1F1EE"], "🇦🇮", "flag: Anguilla"], [["U+1F1E6", "U+1F1F1"], "🇦🇱", "flag: Albania"], [["U+1F1E6", "U+1F1F2"], "🇦🇲", "flag: Armenia"], [["U+1F1E6", "U+1F1F4"], "🇦🇴", "flag: Angola"], [["U+1F1E6", "U+1F1F6"], "🇦🇶", "flag: Antarctica"], [["U+1F1E6", "U+1F1F7"], "🇦🇷", "flag: Argentina"], [["U+1F1E6", "U+1F1F8"], "🇦🇸", "flag: American Samoa"], [["U+1F1E6", "U+1F1F9"], "🇦🇹", "flag: Austria"], [["U+1F1E6", "U+1F1FA"], "🇦🇺", "flag: Australia"], [["U+1F1E6", "U+1F1FC"], "🇦🇼", "flag: Aruba"], [["U+1F1E6", "U+1F1FD"], "🇦🇽", "flag: Åland Islands"], [["U+1F1E6", "U+1F1FF"], "🇦🇿", "flag: Azerbaijan"], [["U+1F1E7", "U+1F1E6"], "🇧🇦", "flag: Bosnia & Herzegovina"], [["U+1F1E7", "U+1F1E7"], "🇧🇧", "flag: Barbados"], [["U+1F1E7", "U+1F1E9"], "🇧🇩", "flag: Bangladesh"], [["U+1F1E7", "U+1F1EA"], "🇧🇪", "flag: Belgium"], [["U+1F1E7", "U+1F1EB"], "🇧🇫", "flag: Burkina Faso"], [["U+1F1E7", "U+1F1EC"], "🇧🇬", "flag: Bulgaria"], [["U+1F1E7", "U+1F1ED"], "🇧🇭", "flag: Bahrain"], [["U+1F1E7", "U+1F1EE"], "🇧🇮", "flag: Burundi"], [["U+1F1E7", "U+1F1EF"], "🇧🇯", "flag: Benin"], [["U+1F1E7", "U+1F1F1"], "🇧🇱", "flag: St. Barthélemy"], [["U+1F1E7", "U+1F1F2"], "🇧🇲", "flag: Bermuda"], [["U+1F1E7", "U+1F1F3"], "🇧🇳", "flag: Brunei"], [["U+1F1E7", "U+1F1F4"], "🇧🇴", "flag: Bolivia"], [["U+1F1E7", "U+1F1F6"], "🇧🇶", "flag: Caribbean Netherlands"], [["U+1F1E7", "U+1F1F7"], "🇧🇷", "flag: Brazil"], [["U+1F1E7", "U+1F1F8"], "🇧🇸", "flag: Bahamas"], [["U+1F1E7", "U+1F1F9"], "🇧🇹", "flag: Bhutan"], [["U+1F1E7", "U+1F1FB"], "🇧🇻", "flag: Bouvet Island"], [["U+1F1E7", "U+1F1FC"], "🇧🇼", "flag: Botswana"], [["U+1F1E7", "U+1F1FE"], "🇧🇾", "flag: Belarus"], [["U+1F1E7", "U+1F1FF"], "🇧🇿", "flag: Belize"], [["U+1F1E8", "U+1F1E6"], "🇨🇦", "flag: Canada"], [["U+1F1E8", "U+1F1E8"], "🇨🇨", "flag: Cocos (Keeling) Islands"], [["U+1F1E8", "U+1F1E9"], "🇨🇩", "flag: Congo - Kinshasa"], [["U+1F1E8", "U+1F1EB"], "🇨🇫", "flag: Central African Republic"], [["U+1F1E8", "U+1F1EC"], "🇨🇬", "flag: Congo - Brazzaville"], [["U+1F1E8", "U+1F1ED"], "🇨🇭", "flag: Switzerland"], [["U+1F1E8", "U+1F1EE"], "🇨🇮", "flag: Côte d’Ivoire"], [["U+1F1E8", "U+1F1F0"], "🇨🇰", "flag: Cook Islands"], [["U+1F1E8", "U+1F1F1"], "🇨🇱", "flag: Chile"], [["U+1F1E8", "U+1F1F2"], "🇨🇲", "flag: Cameroon"], [["U+1F1E8", "U+1F1F3"], "🇨🇳", "flag: China"], [["U+1F1E8", "U+1F1F4"], "🇨🇴", "flag: Colombia"], [["U+1F1E8", "U+1F1F5"], "🇨🇵", "flag: Clipperton Island"], [["U+1F1E8", "U+1F1F7"], "🇨🇷", "flag: Costa Rica"], [["U+1F1E8", "U+1F1FA"], "🇨🇺", "flag: Cuba"], [["U+1F1E8", "U+1F1FB"], "🇨🇻", "flag: Cape Verde"], [["U+1F1E8", "U+1F1FC"], "🇨🇼", "flag: Curaçao"], [["U+1F1E8", "U+1F1FD"], "🇨🇽", "flag: Christmas Island"], [["U+1F1E8", "U+1F1FE"], "🇨🇾", "flag: Cyprus"], [["U+1F1E8", "U+1F1FF"], "🇨🇿", "flag: Czechia"], [["U+1F1E9", "U+1F1EA"], "🇩🇪", "flag: Germany"], [["U+1F1E9", "U+1F1EC"], "🇩🇬", "flag: Diego Garcia"], [["U+1F1E9", "U+1F1EF"], "🇩🇯", "flag: Djibouti"], [["U+1F1E9", "U+1F1F0"], "🇩🇰", "flag: Denmark"], [["U+1F1E9", "U+1F1F2"], "🇩🇲", "flag: Dominica"], [["U+1F1E9", "U+1F1F4"], "🇩🇴", "flag: Dominican Republic"], [["U+1F1E9", "U+1F1FF"], "🇩🇿", "flag: Algeria"], [["U+1F1EA", "U+1F1E6"], "🇪🇦", "flag: Ceuta & Melilla"], [["U+1F1EA", "U+1F1E8"], "🇪🇨", "flag: Ecuador"], [["U+1F1EA", "U+1F1EA"], "🇪🇪", "flag: Estonia"], [["U+1F1EA", "U+1F1EC"], "🇪🇬", "flag: Egypt"], [["U+1F1EA", "U+1F1ED"], "🇪🇭", "flag: Western Sahara"], [["U+1F1EA", "U+1F1F7"], "🇪🇷", "flag: Eritrea"], [["U+1F1EA", "U+1F1F8"], "🇪🇸", "flag: Spain"], [["U+1F1EA", "U+1F1F9"], "🇪🇹", "flag: Ethiopia"], [["U+1F1EA", "U+1F1FA"], "🇪🇺", "flag: European Union"], [["U+1F1EB", "U+1F1EE"], "🇫🇮", "flag: Finland"], [["U+1F1EB", "U+1F1EF"], "🇫🇯", "flag: Fiji"], [["U+1F1EB", "U+1F1F0"], "🇫🇰", "flag: Falkland Islands"], [["U+1F1EB", "U+1F1F2"], "🇫🇲", "flag: Micronesia"], [["U+1F1EB", "U+1F1F4"], "🇫🇴", "flag: Faroe Islands"], [["U+1F1EB", "U+1F1F7"], "🇫🇷", "flag: France"], [["U+1F1EC", "U+1F1E6"], "🇬🇦", "flag: Gabon"], [["U+1F1EC", "U+1F1E7"], "🇬🇧", "flag: United Kingdom"], [["U+1F1EC", "U+1F1E9"], "🇬🇩", "flag: Grenada"], [["U+1F1EC", "U+1F1EA"], "🇬🇪", "flag: Georgia"], [["U+1F1EC", "U+1F1EB"], "🇬🇫", "flag: French Guiana"], [["U+1F1EC", "U+1F1EC"], "🇬🇬", "flag: Guernsey"], [["U+1F1EC", "U+1F1ED"], "🇬🇭", "flag: Ghana"], [["U+1F1EC", "U+1F1EE"], "🇬🇮", "flag: Gibraltar"], [["U+1F1EC", "U+1F1F1"], "🇬🇱", "flag: Greenland"], [["U+1F1EC", "U+1F1F2"], "🇬🇲", "flag: Gambia"], [["U+1F1EC", "U+1F1F3"], "🇬🇳", "flag: Guinea"], [["U+1F1EC", "U+1F1F5"], "🇬🇵", "flag: Guadeloupe"], [["U+1F1EC", "U+1F1F6"], "🇬🇶", "flag: Equatorial Guinea"], [["U+1F1EC", "U+1F1F7"], "🇬🇷", "flag: Greece"], [["U+1F1EC", "U+1F1F8"], "🇬🇸", "flag: South Georgia & South Sandwich Islands"], [["U+1F1EC", "U+1F1F9"], "🇬🇹", "flag: Guatemala"], [["U+1F1EC", "U+1F1FA"], "🇬🇺", "flag: Guam"], [["U+1F1EC", "U+1F1FC"], "🇬🇼", "flag: Guinea-Bissau"], [["U+1F1EC", "U+1F1FE"], "🇬🇾", "flag: Guyana"], [["U+1F1ED", "U+1F1F0"], "🇭🇰", "flag: Hong Kong SAR China"], [["U+1F1ED", "U+1F1F2"], "🇭🇲", "flag: Heard & McDonald Islands"], [["U+1F1ED", "U+1F1F3"], "🇭🇳", "flag: Honduras"], [["U+1F1ED", "U+1F1F7"], "🇭🇷", "flag: Croatia"], [["U+1F1ED", "U+1F1F9"], "🇭🇹", "flag: Haiti"], [["U+1F1ED", "U+1F1FA"], "🇭🇺", "flag: Hungary"], [["U+1F1EE", "U+1F1E8"], "🇮🇨", "flag: Canary Islands"], [["U+1F1EE", "U+1F1E9"], "🇮🇩", "flag: Indonesia"], [["U+1F1EE", "U+1F1EA"], "🇮🇪", "flag: Ireland"], [["U+1F1EE", "U+1F1F1"], "🇮🇱", "flag: Israel"], [["U+1F1EE", "U+1F1F2"], "🇮🇲", "flag: Isle of Man"], [["U+1F1EE", "U+1F1F3"], "🇮🇳", "flag: India"], [["U+1F1EE", "U+1F1F4"], "🇮🇴", "flag: British Indian Ocean Territory"], [["U+1F1EE", "U+1F1F6"], "🇮🇶", "flag: Iraq"], [["U+1F1EE", "U+1F1F7"], "🇮🇷", "flag: Iran"], [["U+1F1EE", "U+1F1F8"], "🇮🇸", "flag: Iceland"], [["U+1F1EE", "U+1F1F9"], "🇮🇹", "flag: Italy"], [["U+1F1EF", "U+1F1EA"], "🇯🇪", "flag: Jersey"], [["U+1F1EF", "U+1F1F2"], "🇯🇲", "flag: Jamaica"], [["U+1F1EF", "U+1F1F4"], "🇯🇴", "flag: Jordan"], [["U+1F1EF", "U+1F1F5"], "🇯🇵", "flag: Japan"], [["U+1F1F0", "U+1F1EA"], "🇰🇪", "flag: Kenya"], [["U+1F1F0", "U+1F1EC"], "🇰🇬", "flag: Kyrgyzstan"], [["U+1F1F0", "U+1F1ED"], "🇰🇭", "flag: Cambodia"], [["U+1F1F0", "U+1F1EE"], "🇰🇮", "flag: Kiribati"], [["U+1F1F0", "U+1F1F2"], "🇰🇲", "flag: Comoros"], [["U+1F1F0", "U+1F1F3"], "🇰🇳", "flag: St. Kitts & Nevis"], [["U+1F1F0", "U+1F1F5"], "🇰🇵", "flag: North Korea"], [["U+1F1F0", "U+1F1F7"], "🇰🇷", "flag: South Korea"], [["U+1F1F0", "U+1F1FC"], "🇰🇼", "flag: Kuwait"], [["U+1F1F0", "U+1F1FE"], "🇰🇾", "flag: Cayman Islands"], [["U+1F1F0", "U+1F1FF"], "🇰🇿", "flag: Kazakhstan"], [["U+1F1F1", "U+1F1E6"], "🇱🇦", "flag: Laos"], [["U+1F1F1", "U+1F1E7"], "🇱🇧", "flag: Lebanon"], [["U+1F1F1", "U+1F1E8"], "🇱🇨", "flag: St. Lucia"], [["U+1F1F1", "U+1F1EE"], "🇱🇮", "flag: Liechtenstein"], [["U+1F1F1", "U+1F1F0"], "🇱🇰", "flag: Sri Lanka"], [["U+1F1F1", "U+1F1F7"], "🇱🇷", "flag: Liberia"], [["U+1F1F1", "U+1F1F8"], "🇱🇸", "flag: Lesotho"], [["U+1F1F1", "U+1F1F9"], "🇱🇹", "flag: Lithuania"], [["U+1F1F1", "U+1F1FA"], "🇱🇺", "flag: Luxembourg"], [["U+1F1F1", "U+1F1FB"], "🇱🇻", "flag: Latvia"], [["U+1F1F1", "U+1F1FE"], "🇱🇾", "flag: Libya"], [["U+1F1F2", "U+1F1E6"], "🇲🇦", "flag: Morocco"], [["U+1F1F2", "U+1F1E8"], "🇲🇨", "flag: Monaco"], [["U+1F1F2", "U+1F1E9"], "🇲🇩", "flag: Moldova"], [["U+1F1F2", "U+1F1EA"], "🇲🇪", "flag: Montenegro"], [["U+1F1F2", "U+1F1EB"], "🇲🇫", "flag: St. Martin"], [["U+1F1F2", "U+1F1EC"], "🇲🇬", "flag: Madagascar"], [["U+1F1F2", "U+1F1ED"], "🇲🇭", "flag: Marshall Islands"], [["U+1F1F2", "U+1F1F0"], "🇲🇰", "flag: North Macedonia"], [["U+1F1F2", "U+1F1F1"], "🇲🇱", "flag: Mali"], [["U+1F1F2", "U+1F1F2"], "🇲🇲", "flag: Myanmar (Burma)"], [["U+1F1F2", "U+1F1F3"], "🇲🇳", "flag: Mongolia"], [["U+1F1F2", "U+1F1F4"], "🇲🇴", "flag: Macao SAR China"], [["U+1F1F2", "U+1F1F5"], "🇲🇵", "flag: Northern Mariana Islands"], [["U+1F1F2", "U+1F1F6"], "🇲🇶", "flag: Martinique"], [["U+1F1F2", "U+1F1F7"], "🇲🇷", "flag: Mauritania"], [["U+1F1F2", "U+1F1F8"], "🇲🇸", "flag: Montserrat"], [["U+1F1F2", "U+1F1F9"], "🇲🇹", "flag: Malta"], [["U+1F1F2", "U+1F1FA"], "🇲🇺", "flag: Mauritius"], [["U+1F1F2", "U+1F1FB"], "🇲🇻", "flag: Maldives"], [["U+1F1F2", "U+1F1FC"], "🇲🇼", "flag: Malawi"], [["U+1F1F2", "U+1F1FD"], "🇲🇽", "flag: Mexico"], [["U+1F1F2", "U+1F1FE"], "🇲🇾", "flag: Malaysia"], [["U+1F1F2", "U+1F1FF"], "🇲🇿", "flag: Mozambique"], [["U+1F1F3", "U+1F1E6"], "🇳🇦", "flag: Namibia"], [["U+1F1F3", "U+1F1E8"], "🇳🇨", "flag: New Caledonia"], [["U+1F1F3", "U+1F1EA"], "🇳🇪", "flag: Niger"], [["U+1F1F3", "U+1F1EB"], "🇳🇫", "flag: Norfolk Island"], [["U+1F1F3", "U+1F1EC"], "🇳🇬", "flag: Nigeria"], [["U+1F1F3", "U+1F1EE"], "🇳🇮", "flag: Nicaragua"], [["U+1F1F3", "U+1F1F1"], "🇳🇱", "flag: Netherlands"], [["U+1F1F3", "U+1F1F4"], "🇳🇴", "flag: Norway"], [["U+1F1F3", "U+1F1F5"], "🇳🇵", "flag: Nepal"], [["U+1F1F3", "U+1F1F7"], "🇳🇷", "flag: Nauru"], [["U+1F1F3", "U+1F1FA"], "🇳🇺", "flag: Niue"], [["U+1F1F3", "U+1F1FF"], "🇳🇿", "flag: New Zealand"], [["U+1F1F4", "U+1F1F2"], "🇴🇲", "flag: Oman"], [["U+1F1F5", "U+1F1E6"], "🇵🇦", "flag: Panama"], [["U+1F1F5", "U+1F1EA"], "🇵🇪", "flag: Peru"], [["U+1F1F5", "U+1F1EB"], "🇵🇫", "flag: French Polynesia"], [["U+1F1F5", "U+1F1EC"], "🇵🇬", "flag: Papua New Guinea"], [["U+1F1F5", "U+1F1ED"], "🇵🇭", "flag: Philippines"], [["U+1F1F5", "U+1F1F0"], "🇵🇰", "flag: Pakistan"], [["U+1F1F5", "U+1F1F1"], "🇵🇱", "flag: Poland"], [["U+1F1F5", "U+1F1F2"], "🇵🇲", "flag: St. Pierre & Miquelon"], [["U+1F1F5", "U+1F1F3"], "🇵🇳", "flag: Pitcairn Islands"], [["U+1F1F5", "U+1F1F7"], "🇵🇷", "flag: Puerto Rico"], [["U+1F1F5", "U+1F1F8"], "🇵🇸", "flag: Palestinian Territories"], [["U+1F1F5", "U+1F1F9"], "🇵🇹", "flag: Portugal"], [["U+1F1F5", "U+1F1FC"], "🇵🇼", "flag: Palau"], [["U+1F1F5", "U+1F1FE"], "🇵🇾", "flag: Paraguay"], [["U+1F1F6", "U+1F1E6"], "🇶🇦", "flag: Qatar"], [["U+1F1F7", "U+1F1EA"], "🇷🇪", "flag: Réunion"], [["U+1F1F7", "U+1F1F4"], "🇷🇴", "flag: Romania"], [["U+1F1F7", "U+1F1F8"], "🇷🇸", "flag: Serbia"], [["U+1F1F7", "U+1F1FA"], "🇷🇺", "flag: Russia"], [["U+1F1F7", "U+1F1FC"], "🇷🇼", "flag: Rwanda"], [["U+1F1F8", "U+1F1E6"], "🇸🇦", "flag: Saudi Arabia"], [["U+1F1F8", "U+1F1E7"], "🇸🇧", "flag: Solomon Islands"], [["U+1F1F8", "U+1F1E8"], "🇸🇨", "flag: Seychelles"], [["U+1F1F8", "U+1F1E9"], "🇸🇩", "flag: Sudan"], [["U+1F1F8", "U+1F1EA"], "🇸🇪", "flag: Sweden"], [["U+1F1F8", "U+1F1EC"], "🇸🇬", "flag: Singapore"], [["U+1F1F8", "U+1F1ED"], "🇸🇭", "flag: St. Helena"], [["U+1F1F8", "U+1F1EE"], "🇸🇮", "flag: Slovenia"], [["U+1F1F8", "U+1F1EF"], "🇸🇯", "flag: Svalbard & Jan Mayen"], [["U+1F1F8", "U+1F1F0"], "🇸🇰", "flag: Slovakia"], [["U+1F1F8", "U+1F1F1"], "🇸🇱", "flag: Sierra Leone"], [["U+1F1F8", "U+1F1F2"], "🇸🇲", "flag: San Marino"], [["U+1F1F8", "U+1F1F3"], "🇸🇳", "flag: Senegal"], [["U+1F1F8", "U+1F1F4"], "🇸🇴", "flag: Somalia"], [["U+1F1F8", "U+1F1F7"], "🇸🇷", "flag: Suriname"], [["U+1F1F8", "U+1F1F8"], "🇸🇸", "flag: South Sudan"], [["U+1F1F8", "U+1F1F9"], "🇸🇹", "flag: São Tomé & Príncipe"], [["U+1F1F8", "U+1F1FB"], "🇸🇻", "flag: El Salvador"], [["U+1F1F8", "U+1F1FD"], "🇸🇽", "flag: Sint Maarten"], [["U+1F1F8", "U+1F1FE"], "🇸🇾", "flag: Syria"], [["U+1F1F8", "U+1F1FF"], "🇸🇿", "flag: Eswatini"], [["U+1F1F9", "U+1F1E6"], "🇹🇦", "flag: Tristan da Cunha"], [["U+1F1F9", "U+1F1E8"], "🇹🇨", "flag: Turks & Caicos Islands"], [["U+1F1F9", "U+1F1E9"], "🇹🇩", "flag: Chad"], [["U+1F1F9", "U+1F1EB"], "🇹🇫", "flag: French Southern Territories"], [["U+1F1F9", "U+1F1EC"], "🇹🇬", "flag: Togo"], [["U+1F1F9", "U+1F1ED"], "🇹🇭", "flag: Thailand"], [["U+1F1F9", "U+1F1EF"], "🇹🇯", "flag: Tajikistan"], [["U+1F1F9", "U+1F1F0"], "🇹🇰", "flag: Tokelau"], [["U+1F1F9", "U+1F1F1"], "🇹🇱", "flag: Timor-Leste"], [["U+1F1F9", "U+1F1F2"], "🇹🇲", "flag: Turkmenistan"], [["U+1F1F9", "U+1F1F3"], "🇹🇳", "flag: Tunisia"], [["U+1F1F9", "U+1F1F4"], "🇹🇴", "flag: Tonga"], [["U+1F1F9", "U+1F1F7"], "🇹🇷", "flag: Turkey"], [["U+1F1F9", "U+1F1F9"], "🇹🇹", "flag: Trinidad & Tobago"], [["U+1F1F9", "U+1F1FB"], "🇹🇻", "flag: Tuvalu"], [["U+1F1F9", "U+1F1FC"], "🇹🇼", "flag: Taiwan"], [["U+1F1F9", "U+1F1FF"], "🇹🇿", "flag: Tanzania"], [["U+1F1FA", "U+1F1E6"], "🇺🇦", "flag: Ukraine"], [["U+1F1FA", "U+1F1EC"], "🇺🇬", "flag: Uganda"], [["U+1F1FA", "U+1F1F2"], "🇺🇲", "flag: U.S. Outlying Islands"], [["U+1F1FA", "U+1F1F3"], "🇺🇳", "flag: United Nations"], [["U+1F1FA", "U+1F1F8"], "🇺🇸", "flag: United States"], [["U+1F1FA", "U+1F1FE"], "🇺🇾", "flag: Uruguay"], [["U+1F1FA", "U+1F1FF"], "🇺🇿", "flag: Uzbekistan"], [["U+1F1FB", "U+1F1E6"], "🇻🇦", "flag: Vatican City"], [["U+1F1FB", "U+1F1E8"], "🇻🇨", "flag: St. Vincent & Grenadines"], [["U+1F1FB", "U+1F1EA"], "🇻🇪", "flag: Venezuela"], [["U+1F1FB", "U+1F1EC"], "🇻🇬", "flag: British Virgin Islands"], [["U+1F1FB", "U+1F1EE"], "🇻🇮", "flag: U.S. Virgin Islands"], [["U+1F1FB", "U+1F1F3"], "🇻🇳", "flag: Vietnam"], [["U+1F1FB", "U+1F1FA"], "🇻🇺", "flag: Vanuatu"], [["U+1F1FC", "U+1F1EB"], "🇼🇫", "flag: Wallis & Futuna"], [["U+1F1FC", "U+1F1F8"], "🇼🇸", "flag: Samoa"], [["U+1F1FD", "U+1F1F0"], "🇽🇰", "flag: Kosovo"], [["U+1F1FE", "U+1F1EA"], "🇾🇪", "flag: Yemen"], [["U+1F1FE", "U+1F1F9"], "🇾🇹", "flag: Mayotte"], [["U+1F1FF", "U+1F1E6"], "🇿🇦", "flag: South Africa"], [["U+1F1FF", "U+1F1F2"], "🇿🇲", "flag: Zambia"], [["U+1F1FF", "U+1F1FC"], "🇿🇼", "flag: Zimbabwe"]]], ["subdivision-flag", [[["U+1F3F4", "U+E0067", "U+E0062", "U+E0065", "U+E006E", "U+E0067", "U+E007F"], "🏴󠁧󠁢󠁥󠁮󠁧󠁿", "flag: England"], [["U+1F3F4", "U+E0067", "U+E0062", "U+E0073", "U+E0063", "U+E0074", "U+E007F"], "🏴󠁧󠁢󠁳󠁣󠁴󠁿", "flag: Scotland"], [["U+1F3F4", "U+E0067", "U+E0062", "U+E0077", "U+E006C", "U+E0073", "U+E007F"], "🏴󠁧󠁢󠁷󠁬󠁳󠁿", "flag: Wales"]]]]]];
/* harmony default export */ var js_EmojiChars = (EmojiChars); 
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/EmojiAnims.js
var EmojiAnims = [
    [
        "(cool)",
        "cool.png",
        "Cool"
    ],
    [
        "(hearteyes)",
        "hearteyes.png",
        "Heart eyes"
    ],
    [
        "(stareyes)",
        "stareyes.png",
        "Star eyes"
    ],
    [
        "(like)",
        "like.png",
        "Like"
    ],
    [
        "(unamused)",
        "unamused.png",
        "Unamused"
    ],
    [
        "(cwl)",
        "cwl.png",
        "Crying with laughter"
    ],
    [
        "(xd)",
        "xd.png",
        "XD smiley"
    ],
    [
        ":)",
        "smile.png",
        "Smile"
    ],
    [
        ":(",
        "sad.png",
        "Sad"
    ],
    [
        ":D",
        "laugh.png",
        "Laugh"
    ],
    [
        ":O",
        "surprised.png",
        "Surprised"
    ],
    [
        ";)",
        "wink.png",
        "Wink"
    ],
    [
        ";(",
        "cry.png",
        "Crying"
    ],
    [
        "(shivering)",
        "shivering.png",
        "Cold shivering"
    ],
    [
        "(:|",
        "sweat.png",
        "Sweating"
    ],
    [
        ":|",
        "speechless.png",
        "Speechless"
    ],
    [
        ":P",
        "tongueout.png",
        "Cheeky"
    ],
    [
        ":$",
        "blush.png",
        "Blushing"
    ],
    [
        "(inlove)",
        "inlove.png",
        "In love"
    ],
    [
        "(kiss)",
        "kiss.png",
        "Kiss"
    ],
    [
        ":^)",
        "wonder.png",
        "Wondering"
    ],
    [
        "|-)",
        "sleepy.png",
        "Sleepy"
    ],
    [
        "|-(",
        "dull.png",
        "Dull"
    ],
    [
        "(yawn)",
        "yawn.png",
        "Yawn"
    ],
    [
        "(puke)",
        "puke.png",
        "Vomiting"
    ],
    [
        "(doh)",
        "doh.png",
        "Doh!"
    ],
    [
        "(angry)",
        "angry.png",
        "Angry"
    ],
    [
        "(wasntme)",
        "wasntme.png",
        "It wasn't me!"
    ],
    [
        "(worry)",
        "worry.png",
        "Worried"
    ],
    [
        "(mm)",
        "mmm.png",
        "Mmmmm…"
    ],
    [
        "(nerd)",
        "nerdy.png",
        "Nerdy"
    ],
    [
        "(rainbowsmile)",
        "rainbowsmile.png",
        "Rainbow smile"
    ],
    [
        ":x",
        "lipssealed.png",
        "My lips are sealed"
    ],
    [
        "(devil)",
        "devil.png",
        "Devil"
    ],
    [
        "(angel)",
        "angel.png",
        "Angel"
    ],
    [
        "(envy)",
        "envy.png",
        "Envy"
    ],
    [
        "(makeup)",
        "makeup.png",
        "Make-up"
    ],
    [
        "(think)",
        "think.png",
        "Thinking"
    ],
    [
        "(rofl)",
        "rofl.png",
        "Rolling on the floor laughing"
    ],
    [
        "(happy)",
        "happy.png",
        "Happy"
    ],
    [
        "(smirk)",
        "smirk.png",
        "Smirking"
    ],
    [
        "(nod)",
        "nod.png",
        "Nodding"
    ],
    [
        "(shake)",
        "shake.png",
        "Shake"
    ],
    [
        "(waiting)",
        "waiting.png",
        "Waiting"
    ],
    [
        "(emo)",
        "emo.png",
        "Emo"
    ],
    [
        "(donttalk)",
        "donttalktome.png",
        "Don't talk to me"
    ],
    [
        "(idea)",
        "idea.png",
        "Idea"
    ],
    [
        "(talk)",
        "talk.png",
        "Talking"
    ],
    [
        "(swear)",
        "swear.png",
        "Swearing"
    ],
    [
        "]:)",
        "evilgrin.png",
        "Evil grin"
    ],
    [
        "(headbang)",
        "headbang.png",
        "Banging head on wall"
    ],
    [
        "(learn)",
        "learn.png",
        "Global Learning"
    ],
    [
        "(headphones)",
        "headphones.png",
        "Listening to headphones"
    ],
    [
        "(morningafter)",
        "hungover.png",
        "Morning after party"
    ],
    [
        "(selfie)",
        "selfie.png",
        "Selfie"
    ],
    [
        "(shock)",
        "shock.png",
        "Spoiler alert"
    ],
    [
        "(llsshock)",
        "llsshock.png",
        "Spoiler alert"
    ],
    [
        "(ttm)",
        "ttm.png",
        "Talking too much"
    ],
    [
        "(dream)",
        "dream.png",
        "Dreaming"
    ],
    [
        "(ill)",
        "ill.png",
        "Ill"
    ],
    [
        "(tired)",
        "tired.png",
        "Tired"
    ],
    [
        "(party)",
        "party.png",
        "Party"
    ],
    [
        "(bandit)",
        "bandit.png",
        "Bandit"
    ],
    [
        "(tauri)",
        "tauri.png",
        "Bald man with glasses"
    ],
    [
        "(nazar)",
        "nazar.png",
        "Blessing"
    ],
    [
        "(movember)",
        "movember.png",
        "Movember"
    ],
    [
        "(mysteryskype)",
        "mysteryskype.png",
        "Mystery Skype"
    ],
    [
        "(dotdfemale)",
        "dotdfemale.png",
        "Day of the dead"
    ],
    [
        "(dotdmale)",
        "dotdmale.png",
        "Day of the dead"
    ],
    [
        "(selfiediwali)",
        "selfiediwali.png",
        "Selfie Diwali"
    ],
    [
        "(diwaliselfie)",
        "diwaliselfie.png",
        "Diwali selfie"
    ],
    [
        "(steveaoki)",
        "steveaoki.png",
        "Steve Aoki"
    ],
    [
        "(aokijump)",
        "aokijump.png",
        "Aoki jump"
    ],
    [
        "(cakethrow)",
        "cakethrow.png",
        "Cake throw"
    ],
    [
        "(kolony)",
        "kolony.png",
        "Kolony"
    ],
    [
        "(joy)",
        "joy.png",
        "Joy"
    ],
    [
        "(anger)",
        "anger.png",
        "Anger"
    ],
    [
        "(sadness)",
        "sadness.png",
        "Sadness"
    ],
    [
        "(disgust)",
        "disgust.png",
        "Disgust"
    ],
    [
        "(fear)",
        "fear.png",
        "Fear"
    ],
    [
        "(hestonfacepalm)",
        "hestonfacepalm.png",
        "Heston facepalm"
    ],
    [
        "(heston)",
        "heston.png",
        "Heston Blumenthal"
    ],
    [
        "(stormtrooper)",
        "stormtrooper.png",
        "Storm trooper"
    ],
    [
        "(kyloren)",
        "kyloren.png",
        "Kylo Ren"
    ],
    [
        "(captainphasma)",
        "captainphasma.png",
        "Captain Phasma"
    ],
    [
        "(malthe)",
        "malthe.png",
        "Smiling man with glasses"
    ],
    [
        "(ladyvamp)",
        "ladyvampire.png",
        "Lady vampire"
    ],
    [
        "(vampire)",
        "vampire.png",
        "Vampire"
    ],
    [
        "(ghost)",
        "ghost.png",
        "Ghost"
    ],
    [
        "(skull)",
        "skull.png",
        "Skull"
    ],
    [
        "(pumpkin)",
        "pumpkin.png",
        "Pumpkin"
    ],
    [
        "(santa)",
        "santa.png",
        "Santa"
    ],
    [
        "(xmascwl)",
        "xmascwl.png",
        "Xmas crying with laughter"
    ],
    [
        "(festiveparty)",
        "festiveparty.png",
        "Festive party"
    ],
    [
        "(holidayspirit)",
        "holidayspirit.png",
        "Holiday spirit"
    ],
    [
        "(rudolfsurprise)",
        "rudolfsurprise.png",
        "Surprised Rudolf"
    ],
    [
        "(rudolfidea)",
        "rudolfidea.png",
        "Rudolf idea"
    ],
    [
        "(wtf)",
        "wtf.png",
        "WTF…"
    ],
    [
        "(smoking)",
        "smoke.png",
        "Smoking"
    ],
    [
        "(drunk)",
        "drunk.png",
        "Drunk"
    ],
    [
        "(finger)",
        "finger.png",
        "Finger"
    ],
    [
        "(oliver)",
        "oliver.png",
        "Man saying come on"
    ],
    [
        "(xmassarcastic)",
        "xmassarcastic.png",
        "Xmas sarcastic"
    ],
    [
        "(xmascry)",
        "xmascry.png",
        "Xmas cry"
    ],
    [
        "(wave)",
        "hi.png",
        "Hi"
    ],
    [
        "(highfive)",
        "highfive.png",
        "High five"
    ],
    [
        "(clap)",
        "clap.png",
        "Clapping"
    ],
    [
        "(sarcastic)",
        "sarcastic.png",
        "Sarcastic"
    ],
    [
        "(chuckle)",
        "giggle.png",
        "Giggle"
    ],
    [
        "(facepalm)",
        "facepalm.png",
        "Facepalm"
    ],
    [
        "(rock)",
        "rock.png",
        "Rock"
    ],
    [
        "(yn)",
        "fingerscrossed.png",
        "Fingers crossed"
    ],
    [
        "(listening)",
        "listening.png",
        "Listening"
    ],
    [
        "(wait)",
        "wait.png",
        "Wait"
    ],
    [
        "(whew)",
        "whew.png",
        "Relieved"
    ],
    [
        "(tmi)",
        "tmi.png",
        "Too much information"
    ],
    [
        "(call)",
        "call.png",
        "Call"
    ],
    [
        "(punch)",
        "punch.png",
        "Punch"
    ],
    [
        "(talktothehand)",
        "talktothehand.png",
        "Talk to the hand"
    ],
    [
        "(whistle)",
        "whistle.png",
        "Whistle"
    ],
    [
        "(slap)",
        "slap.png",
        "Slap"
    ],
    [
        "(lalala)",
        "lalala.png",
        "Lalala"
    ],
    [
        "(y)",
        "yes.png",
        "Yes"
    ],
    [
        "(n)",
        "no.png",
        "No"
    ],
    [
        "(handshake)",
        "handshake.png",
        "Handshake"
    ],
    [
        "(fistbump)",
        "fistbump.png",
        "Fist bump"
    ],
    [
        "(poke)",
        "poke.png",
        "Poke"
    ],
    [
        "(celebrate)",
        "handsinair.png",
        "Hands celebrating"
    ],
    [
        "(hearthands)",
        "hearthands.png",
        "Heart hands"
    ],
    [
        "(victory)",
        "victory.png",
        "Victory sign"
    ],
    [
        "(noworries)",
        "noworries.png",
        "No worries"
    ],
    [
        "(ok)",
        "ok.png",
        "OK"
    ],
    [
        "(pray)",
        "praying.png",
        "Praying"
    ],
    [
        "(flex)",
        "muscle.png",
        "Muscle"
    ],
    [
        "(ek)",
        "naturescall.png",
        "Nature's call"
    ],
    [
        "(woty)",
        "woty.png",
        "Woman of the year"
    ],
    [
        "(glassceiling)",
        "glassceiling.png",
        "Glass ceiling"
    ],
    [
        "(deadyes)",
        "deadyes.png",
        "Dead yes"
    ],
    [
        "(xmasyes)",
        "xmasyes.png",
        "Xmas yes"
    ],
    [
        "(dropthemic)",
        "dropthemic.png",
        "Drop the mic"
    ]
];

/* harmony default export */ var js_EmojiAnims = (EmojiAnims);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/autocompleteinput.css
var autocompleteinput = __webpack_require__(57);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/adapter/SearchStringArrayAdapter.js
/**
 * @typedef {Object} SearchArrayAdapterOption
 * @property {function} searchFuntion
 * 
 * 
 * 
 * @param {Array<String>} arr 
 * @param {SearchArrayAdapterOption} options not implement yet
 */
function SearchStringArrayAdapter(texts, options) {
    if (!this.queryItems) return new SearchStringArrayAdapter(texts, options);
    
    this.texts = texts;
}

SearchStringArrayAdapter.prototype.queryItems = function (query, mInput) {
    var query = query.toLocaleLowerCase();
    return this.texts.map(function (text) {
        var start = text.toLocaleLowerCase().indexOf(query);
        if (start >= 0) {
            var hightlightedText = text.substr(0, start) + '<strong style="color:red">' + text.substr(start, query.length) + '</strong>' + text.substr(start + query.length);
            return {
                text: text,
                hightlightedText: hightlightedText
            }
        }
        else return null;
    }).filter(function (it) { return it !== null; })
};


SearchStringArrayAdapter.onAttached = function(parent){
    this.parent = parent;
};

SearchStringArrayAdapter.prototype.getItemText = function (item, mInput) {
    return item.text;
};

SearchStringArrayAdapter.prototype.getItemView = function (item, index, _, $, query, reuseItem, refParent, mInput) {
    if (reuseItem) {
        reuseItem.childNodes[0].innerHTML = item.hightlightedText;
        return reuseItem;
    }
    else
        return _({
            tag: 'div',
            child: {
                tag: 'span',
                class: 'absol-autocomplete-input-item-text',
                props: {
                    innerHTML: item.hightlightedText
                }
            }
        })
}

/* harmony default export */ var adapter_SearchStringArrayAdapter = (SearchStringArrayAdapter);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/adapter/SearchObjectArrayAdapter.js
/**
 * @typedef {Object} SearchObjectArrayAdapter
 * @property {function} getItemText
 * 
 * 
 * 
 * @param {Array<Object>} arr 
 * @param {SearchArrayAdapterOption} options
 */
function SearchObjectArrayAdapter(objects, options) {
    if (!this.queryItems) return new SearchObjectArrayAdapter(texts, options);
    this.objects = objects;
    this.options = options;
}

SearchObjectArrayAdapter.prototype.queryItems = function (query, mInput) {
    var query = query.toLocaleLowerCase();
    return this.objects.map(function (object) {
        var text = this.getItemText(object);
        var start = text.toLocaleLowerCase().indexOf(query);
        if (start >= 0) {
            var hightlightedText = text.substr(0, start) + '<strong style="color:red">' + text.substr(start, query.length) + '</strong>' + text.substr(start + query.length);
            return Object.assign(object, {
                __hightlightedText__: hightlightedText
            });
        }
        else return null;
    }.bind(this)).filter(function (it) { return it !== null; })
};


SearchObjectArrayAdapter.prototype.onAttached = function (parent) {
    this.parent = parent;
    parent.getSelectedObject = function () {
        if (this._selectedIndex >= 0) {
            return this.$poolItems[this._selectedIndex]._holderItem;
        }
        else {
            return null;
        }
    }
};

SearchObjectArrayAdapter.prototype.getItemText = function (item, mInput) {
    if (this.options && this.options.getItemText)
        return this.options.getItemText.call(this, item, mInput);
    else if (typeof item.text == 'string') {
        return item.text;
    }
    else
        return item.toString();
};

SearchObjectArrayAdapter.prototype.getItemView = function (item, index, _, $, query, reuseItem, refParent, mInput) {
    if (reuseItem) {
        reuseItem.childNodes[0].innerHTML = item.__hightlightedText__;
        return reuseItem;
    }
    else
        return _({
            tag: 'div',
            child: {
                tag: 'span',
                props: {
                    innerHTML: item.__hightlightedText__
                }
            }
        })
}

/* harmony default export */ var adapter_SearchObjectArrayAdapter = (SearchObjectArrayAdapter);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/AutoCompleteInput.js









var AutoCompleteInput_ = ACore["a" /* default */]._;
var $ = ACore["a" /* default */].$;

function AutoCompleteInput() {
    this.$input = $('input', this)
        .on('keyup', this.eventHandler.keyup)
        .on('keydown', this.eventHandler.keydown)
        .on('focus', this.eventHandler.focus)
        .on('blur', this.eventHandler.blur);


    this.$dropdown = $('.absol-autocomplete-input-dropdown', this);
    this.$vscroller = $('bscroller', this).on('click', this.eventHandler.vscrollerClick);
    this.$poolItems = [];
    this._currentData = [];
    this._sessionIndex = 0;
    this._updatedSession = -1;
    this._cache = {};
    OOP["a" /* default */].drillProperty(this, this.$input, 'value');

    return this;
}

AutoCompleteInput.tag = 'AutoCompleteInput';

AutoCompleteInput.render = function () {
    return AutoCompleteInput_({
        extendEvent: 'change',
        class: 'absol-autocomplete-input',
        child: [
            'input[type="text"].absol-autocomplete-input-text',
            {
                class: 'absol-autocomplete-input-dropdown',
                style: {
                    display: 'none'
                },
                child: {
                    tag: 'bscroller',
                    style: {
                        'max-height': '500px'
                    }
                }
            }
        ]
    });
};


AutoCompleteInput.eventHandler = {};
AutoCompleteInput.eventHandler.keyup = function (event) {
    if (this._keyTimeout) {
        clearTimeout(this._keyTimeout);
        this._keyTimeout = 0;
    }

    var cTimeout = setTimeout(function () {
        clearTimeout(cTimeout);
        this.find();
    }.bind(this), 300);


    if (this._cacheTimeout) {
        clearTimeout(this._cacheTimeout);
        this._cacheTimeout = 0;
    }

    var cacheTimeout = setTimeout(function () {
        clearTimeout(cacheTimeout);
        this.clearCache();
    }.bind(this), 300);

    this._cacheTimeout = cacheTimeout;
    this._keyTimeout = cTimeout;
};


AutoCompleteInput.eventHandler.blur = function () {
    this.removeClass('focus');
};

AutoCompleteInput.eventHandler.focus = function () {
    this.addClass('focus');
    $(document.body).on('mousedown', this.eventHandler.clickOut);

    //todo
}

AutoCompleteInput.eventHandler.clickOut = function (event) {
    if (EventEmitter["b" /* default */].hitElement(this, event)) return;
    $(document.body).off('mousedown', this.eventHandler.clickOut);
    var text = this.$input.value;

    if (this._lastValue != text) {
        this._lastValue = text;
        this.$dropdown.addStyle('display', 'none');
        this._lastValue = text;
        this.emit('change', { target: this, value: text }, this);
    }

}


AutoCompleteInput.eventHandler.vscrollerClick = function (event) {
    var current = event.target;
    while (current && !current.containsClass('absol-autocomplete-input-item') && current != this.$vscroller) {
        current = current.parentElement;
    }

    if (current && current._holderItem) {
        var text = this.getItemText(current._holderItem);
        this.$input.value = text;
        this._lastQuery = text;
        this._selectedIndex = current._holderIndex;
        this.$dropdown.addStyle('display', 'none');
        this._lastValue = text;
        this.emit('change', { target: this, value: text }, this);
    }
};

AutoCompleteInput.eventHandler.keydown = function (event) {
    var key = event.key;
    if (key == 'ArrowDown') {
        if (this._selectedIndex + 1 < this._currentData.length) {
            if (this.$poolItems[this._selectedIndex]) {
                this.$poolItems[this._selectedIndex].removeClass('active');
            }
            this._selectedIndex += 1;
            if (this.$poolItems[this._selectedIndex]) {
                this.$poolItems[this._selectedIndex].addClass('active');
                this.$vscroller.scrollInto(this.$poolItems[this._selectedIndex]);
            }

        }
        event.preventDefault();
    }
    else if (key == 'ArrowUp') {
        if (this._selectedIndex - 1 >= 0) {
            if (this.$poolItems[this._selectedIndex]) {
                this.$poolItems[this._selectedIndex].removeClass('active');
            }
            this._selectedIndex -= 1;
            if (this.$poolItems[this._selectedIndex]) {
                this.$poolItems[this._selectedIndex].addClass('active');
                this.$vscroller.scrollInto(this.$poolItems[this._selectedIndex]);
            }

        }
        event.preventDefault();
    }
    else if (key == 'Enter') {
        var text;
        if (this._currentData[this._selectedIndex] === undefined) {
            text = this.$input.value;
        }
        else {
            text = this.getItemText(this._currentData[this._selectedIndex]);
            this.$input.value = text;
        }
        this._lastQuery = text;
        this.$dropdown.addStyle('display', 'none');
        this._lastValue = text;
        this.emit('change', { target: this, value: text }, this);
    }
};

AutoCompleteInput.prototype.focus = function () {
    if (this.disabled) return;
    this.$input.focus.apply(this.$input, arguments);

};

AutoCompleteInput.prototype.blur = function () {
    this.$input.blur.apply(this.$input, arguments);

};

AutoCompleteInput.prototype.select = function () {
    this.$input.select.apply(this.$input, arguments);
}

AutoCompleteInput.prototype.find = function () {
    var query = this.$input.value;
    if (query == this._lastQuery) return;
    this._lastQuery = query;
    var currentSession = ++this._sessionIndex;
    if (!query) {
        this.pushData([], currentSession, query)
        return;
    }
    if (this.disableCache) {
        var onReciveData = function (data) {
            cacheHolder.data = data;
            this.pushData(data, currentSession, query);//sessionIndex may be change
        }.bind(this);
        var result = this.queryItems(query);
        if (typeof result.then == 'function')
            result.then(onReciveData);
        else onReciveData(result)
    }
    else {
        if (this._cache[query]) {
            this._cache[query].sessionIndex = currentSession;
            if (!this._cache[query].pending) {
                var data = this._cache[query].data;
                this.pushData(data, currentSession);
            }
        }
        else {
            var cacheHolder = { pending: true, sessionIndex: currentSession };
            var onReciveData = function (data) {
                cacheHolder.data = data;
                cacheHolder.pending = false;
                this.pushData(data, cacheHolder.sessionIndex, query);//sessionIndex may be change
            }.bind(this);
            var result = this.queryItems(query);
            if (typeof result.then == 'function')
                result.then(onReciveData);
            else onReciveData(result)

            this._cache[query] = cacheHolder;
        }
    }
};

AutoCompleteInput.prototype.pushData = function (data, sessionIndex, query) {
    if (sessionIndex > this._updatedSession) {
        this._updatedSession = sessionIndex;
        this.$vscroller.clearChild();
        this._currentData = data;
        if (data && data.length > 0) {
            this.$dropdown.removeStyle('display');
        }
        else {
            this.$dropdown.addStyle('display', 'none');
        }

        var maxHeight = this.getComputedStyleValue('max-height');
        if (maxHeight == 'none' || !maxHeight) {
            maxHeight = 10000;
        }
        else {
            maxHeight = parseFloat(maxHeight.replace('px', ''));
        }

        var outBound = HTML5_Dom["a" /* default */].traceOutBoundingClientRect(this);
        var bound = this.$input.getBoundingClientRect();
        var aTop = bound.top - outBound.top;
        var aBotom = outBound.bottom - bound.bottom;
        this.$dropdown.removeClass('top');
        if (aTop > aBotom) {
            maxHeight = Math.min(maxHeight, aTop - 10);
        }
        else {
            maxHeight = Math.min(maxHeight, aBotom - 10);
        }

        this.$vscroller.addStyle('max-height', maxHeight + 'px');
        this._selectedIndex = -1;
        data.reduce(function (sync, item, i, arr) {
            return sync.then(function () {
                if (this._updatedSession != sessionIndex) return;
                return new Promise(function (rs) {
                    if (this._updatedSession != sessionIndex) return;
                    var reuseItem = this.$poolItems.length > i ? this.$poolItems[i] : undefined;
                    if (reuseItem) {
                        reuseItem.removeClass('active');
                    }
                    var newView = this.getItemView(item, i, AutoCompleteInput_, $, query, reuseItem, this);
                    newView.addClass('absol-autocomplete-input-item');
                    newView._holderItem = item;
                    newView._holderIndex = i;
                    if (i == this._selectedIndex)
                        newView.addClass('active');
                    if (this.$poolItems.length <= i) {
                        this.$poolItems.push(newView);
                    }
                    else {
                        this.$poolItems[i] = newView;
                    }
                    this.$vscroller.addChild(newView);
                    if (i == 0) {
                        var estimateHeight = newView.getBoundingClientRect().height * arr.length;
                        if (aTop > aBotom && estimateHeight > aBotom) {
                            this.$dropdown.addClass('top');
                        }
                    }
                    if (i >= 50 && i % 50 == 0)
                        setTimeout(rs, 0);
                    else rs();
                }.bind(this));
            }.bind(this))
        }.bind(this), Promise.resolve());
    }
};


AutoCompleteInput.prototype.getItemText = function (item) {
    if (this.adapter && this.adapter.getItemText) {
        return this.adapter.getItemText(item, this);
    }
    else if (typeof item == 'string') {
        return item;
    }
    else {
        throw Error('You need adapter.getItemText(item, mAutoCompleteInput) to handle your item text!');
    }

}

AutoCompleteInput.prototype.getItemView = function (item, index, _, $, query, reuseItem, refParent) {
    if (this.adapter && this.adapter.getItemView) {
        return this.adapter.getItemView(item, index, _, $, query, reuseItem, refParent, this);
    }
    else {
        var text = this.getItemText(item);
        if (reuseItem) {
            reuseItem.childNodes[0].innerHTML = text;
            return reuseItem;
        }

        return _({
            child: {
                tag: 'span',
                class: 'absol-autocomplete-input-item-text',
                child: { text: text }
            }
        });
    }
};


/**
 * @param {String} query
 * @returns {Array}
 */
AutoCompleteInput.prototype.queryItems = function (query) {
    if (this.adapter && this.adapter.queryItems) {
        return this.adapter.queryItems(query, this);
    }
    else {
        throw new Error('Invalid adapter: queryItems(query, mAutoCompleteInput) not found!');
    }
};


AutoCompleteInput.prototype.clearCache = function (old) {
    if (typeof old != "number") old = 30;
    for (var key in this._cache) {
        var cacheHolder = this._cache[key];
        if (this._sessionIndex - cacheHolder.sessionIndex > old) {
            delete this._cache[key];
        }
    }
}

AutoCompleteInput.property = {};
AutoCompleteInput.property.adapter = {
    set: function (value) {
        if (value instanceof Array) {
            if (value[0] == 'SearchStringArray') {
                this._adapter = new adapter_SearchStringArrayAdapter(value[1], value[2]);
            }
            else if (value[0] == 'SearchObjectArray') {
                this._adapter = new adapter_SearchObjectArrayAdapter(value[1], value[2]);
            }
            else {
                throw new Error("Unknown adapter type name");
            }
        }
        else {
            this._adapter = value;
        }
        if (this.adapter && this.adapter.onAttached) {
            this.adapter.onAttached(this);
        }
    },
    get: function () {
        return this._adapter;
    }
};

AutoCompleteInput.property.disabled = {
    set: function (value) {
        if (value) {
            this.addClass('absol-disabled');
        }
        else {
            this.removeClass('absol-disabled');
        }
    },
    get: function () {
        return this.containsClass('absol-disabled');
    }
};

AutoCompleteInput.attribute = {};
AutoCompleteInput.attribute.disabled = {
    set: function (value) {
        if (value === true || value === 'true' || value === null) {
            this.disabled = true;
        }
        else {
            this.disabled = false;
        }
    },
    get: function () {
        return this.disabled ? 'true' : 'false'
    },
    remove: function () {
        this.disabled = false;
    }
};


ACore["a" /* default */].install('AutoCompleteInput'.toLowerCase(), AutoCompleteInput);


/* harmony default export */ var js_AutoCompleteInput = (AutoCompleteInput);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/boardtable.css
var boardtable = __webpack_require__(25);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Board.js




var Board_ = ACore["a" /* default */]._;
var Board_$ = ACore["a" /* default */].$;


/***
 * @extends AElement
 * @constructor
 */
function Board() {
}


Board.tag = "board";
Board.render = function () {
    return Board_({
        class: 'as-board',
        extendEvent: ['sizechange', 'changeposition']
    });
};


Board.prototype.getParent = function () {
    var parent = this.parentElement;
    while (parent) {
        if (parent.classList.contains('ac-board-table')) return parent;
        parent = parent.parentElement;
    }
    return null;
};


ACore["a" /* default */].install(Board);

/* harmony default export */ var js_Board = (Board);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/utils.js



function insertTextAtCursor(text) {
    var sel, range;
    if (window.getSelection) {
        sel = window.getSelection();
        if (sel.getRangeAt && sel.rangeCount) {
            range = sel.getRangeAt(0);
            range.deleteContents();
            range.insertNode(document.createTextNode(text));
        }
    }
    else if (document.selection && document.selection.createRange) {
        document.selection.createRange().text = text;
    }
}


function contenteditableTextOnly(element, processText) {
    if (element.__contenteditableTextOnly__) return;
    element.__contenteditableTextOnly__ = true;
    element.addEventListener("paste", function (e) {
        e.preventDefault();
        if (e.clipboardData && e.clipboardData.getData) {
            var text = e.clipboardData.getData("text/plain");
            if (processText) text = processText(text)
            document.execCommand("insertHTML", false, text);
        }
        else if (window.clipboardData && window.clipboardData.getData) {
            var text = window.clipboardData.getData("Text");
            if (processText) text = processText(text)
            insertTextAtCursor(text);
        }
    });
}

/***
 *
 * @param num
 * @param maxVal
 * @return {number}
 */
function positiveIntMod(num, maxVal) {
    if (maxVal <= 0) return 0;
    if (num >= 0 && num < maxVal) {
        return Math.floor(num);
    }
    else if (num === Infinity) {
        if (maxVal === Infinity)
            return Infinity;
        else
            return 0;
    }
    else if (num < 0) {
        return (num + (Math.ceil(-num / maxVal) * maxVal)) % maxVal;
    }
    else if (num >= maxVal) {
        return Math.floor(num) % maxVal
    }
    else return 0;

}


function utils_measureText(text, font) {
    // re-use canvas object for better performance
    var canvas = utils_measureText.canvas || (utils_measureText.canvas = document.createElement("canvas"));
    var context = canvas.getContext("2d");
    if (font)
        context.font = font;
    var metrics = context.measureText(text);
    return metrics;
}


function utils_getCaretPosition(oField) {
    var iCaretPos = 0;
    if (document.selection) {
        oField.focus();
        var oSel = document.selection.createRange();
        oSel.moveStart('character', -oField.value.length);
        iCaretPos = oSel.text.length;
    }
    else if (oField.selectionStart || oField.selectionStart == '0')
        iCaretPos = oField.selectionDirection == 'backward' ? oField.selectionStart : oField.selectionEnd;
    return iCaretPos;
}


/**
 *
 * @param {AElement} elt
 */
function preventNotNumberInput(elt) {
    elt.addEventListener('keyup', function () {
        var lastValue = (elt.tagName === "DIV" || elt.tagName === "SPAN") ? elt.innerHTML : elt.attributes.value;
        var cValue = parseFloat(this.value);
        if (this.value != lastValue) {
            elt.attributes.value = cValue;
            elt.emit('change', cValue, elt);
        }
    });
    elt.addEventListener("paste", function (e) {
        e.preventDefault();
        var text = "";
        if (e.clipboardData && e.clipboardData.getData) {
            text = e.clipboardData.getData("text/plain");

        }
        else if (window.clipboardData && window.clipboardData.getData) {
            text = window.clipboardData.getData("Text");
        }
        var matched = text.match(/[+-]?([0-9]*[.])?[0-9]+/);
        if (matched) {
            this.value = matched[0];
        }
    });
    elt.addEventListener('keydown', function (event) {
        var key = event.key;
        if (key && key.length == 1 && !event.ctrlKey && !event.altKey) {
            if (key.match(/[0-9.\-\+]/)) {
                if (key == '.' && this.value.indexOf('.') >= 0) event.preventDefault();
                if ((key == '+' || key == '-') && (this.value.indexOf('+') >= 0 || this.value.indexOf('-') >= 0 || utils_getCaretPosition(this) > 0)) event.preventDefault();
            }
            else event.preventDefault();
        }
    });
}


function buildCss(StyleSheet) {
    ACore["a" /* default */]._({
        tag: 'style',
        props: {
            innerHTML: Object.keys(StyleSheet).map(function (key) {
                var style = StyleSheet[key];
                return key + ' {\n' +
                    Object.keys(style).map(function (propName) {
                        return propName + ': ' + style[propName] + ';';
                    }).join('\n') +
                    '}';
            }).join('\n')
        }
    }).addTo(document.head);
}

/***
 *
 * @param {"camera"|"microphone"|"camcorder"|{accept:("image/*"|"audio/*"|"video/*"|undefined), capture:boolean|undefined, multiple:boolean|undefined}|{}} props
 * @return {Promise<File[]>}
 */
function openFileDialog(props) {
    return new Promise(function (resolve) {
        var input = ACore["a" /* default */]._({
            tag: 'input',
            style: {
                display: 'none'
            },
            attr: {
                type: 'file'
            }
        }).addTo(document.body);
        props = props || {};
        if (props === 'camera') {
            props = {
                accept: 'image/*',
                capture: 'camera'
            }
        }
        else if (props === 'microphone') {
            props = {
                accept: 'audio/*',
                capture: "microphone"
            }
        }
        else if (props === 'camcorder') {
            props = {
                accept: 'video/*',
                capture: 'camcorder'
            }
        }

        if (props.accept) {
            if (props.accept instanceof Array)
                input.attr('accept', props.accept.join(','));
            else
                input.attr('accept', props.accept);
        }
        else {
            input.attr('accept', null);
        }

        if (props.capture) {
            input.attr('capture', props.capture);
        }
        if (props.multiple) {
            input.attr('multiple', 'true');
        }
        else {
            input.attr('multiple');
        }
        input.value = null;

        function focusHandler() {
            setTimeout(function () {
                window.removeEventListener('focus', focusHandler);
                input.off('change', changeHandler);
                input.remove();
                resolve([]);
            }, 100);
        }

        function changeHandler() {
            input.off('change', changeHandler);
            window.removeEventListener('focus', focusHandler);
            resolve(Array.prototype.slice.call(input.files));
            input.remove();
        }

        input.on('change', changeHandler);
        input.click();

        setTimeout(function () {
            window.addEventListener('focus', focusHandler);
        }, 10);
    });
}


var charWidth = {
    "A": 9.337890625,
    "a": 7.7861328125,
    "Ă": 9.337890625,
    "ă": 7.7861328125,
    "Â": 9.337890625,
    "â": 7.7861328125,
    "B": 9.337890625,
    "b": 7.7861328125,
    "C": 10.1103515625,
    "c": 7,
    "D": 10.1103515625,
    "d": 7.7861328125,
    "Đ": 10.1103515625,
    "đ": 7.7861328125,
    "E": 9.337890625,
    "e": 7.7861328125,
    "Ê": 9.337890625,
    "ê": 7.7861328125,
    "G": 10.8896484375,
    "g": 7.7861328125,
    "H": 10.1103515625,
    "h": 7.7861328125,
    "I": 3.8896484375,
    "i": 3.1103515625,
    "K": 9.337890625,
    "k": 7,
    "L": 7.7861328125,
    "l": 3.1103515625,
    "M": 11.662109375,
    "m": 11.662109375,
    "N": 10.1103515625,
    "n": 7.7861328125,
    "O": 10.8896484375,
    "o": 7.7861328125,
    "Ô": 10.8896484375,
    "ô": 7.7861328125,
    "Ơ": 12.00390625,
    "ơ": 9.1806640625,
    "P": 9.337890625,
    "p": 7.7861328125,
    "Q": 10.8896484375,
    "q": 7.7861328125,
    "R": 10.1103515625,
    "r": 4.662109375,
    "S": 9.337890625,
    "s": 7,
    "T": 8.5517578125,
    "t": 3.8896484375,
    "U": 10.1103515625,
    "u": 7.7861328125,
    "Ư": 11.9560546875,
    "ư": 9.3720703125,
    "V": 9.337890625,
    "v": 7,
    "X": 9.337890625,
    "x": 7,
    "Y": 9.337890625,
    "y": 7,
    " ": 3.8896484375
};


function estimateWidth14(text) {
    // return absol.text.measureText(text, '14px arial').width
    var l = 0;
    for (var j = 0; j < text.length; ++j) {
        l += (charWidth[text.charAt(j)]) || 9.337890625;
    }
    return l;
}

/***
 *
 * @param {number} v
 * @returns {number}
 */
function absCeil(v) {
    var a = Math.ceil(Math.abs(v));
    return v < 0 ? -a : a;
}

var propertyFilter =
    ["$trigger",
        "$content", "_isShow", "defineEvent", "isSupportedEvent",
        "emit", "fire", "eventEmittorOnWithTime", "on", "once",
        "off", "init", "eventHandler", "super", "defineAttribute",
        "defineAttributes", "attr", "addStyle", "removeStyle", "addChild", "addTo", "selfRemove",
        "selfReplace", "clearChild", "containsClass", "addClass", "removeClass", "getComputedStyleValue",
        "getFontSize", "findChildAfter", "findChildBefore", "addChildBefore", "addChildAfter",
        "getBoundingRecursiveRect", "isDescendantOf", "getCSSRules", "afterAttached", "afterDisplayed",
        "_azar_extendEvents", "__azar_force", "_azar_extendAttributes", "_azar_extendTags",
        "findAvailablePosition", "$container", "autoFixParrentSize", "sync", "$dropper", "$vmenu",
        "$button", "$text", "$key", "$arrow", "$iconCtn", "_textMarginRight", "_tabIndex",
        '$icon', '_icon', '$textNode', '$primaryBtn', '$extendBtn', '_menuHolder', '_items'].reduce(function (ac, cr) {
        ac[cr] = true;
        return ac;
    }, {});

/**
 * This is a solution for menu, before a better one.
 * @param obj
 * @returns {{}}
 */
function cleanMenuItemProperty(obj) {
    var res = {};
    var keys = Object.keys(obj);
    var key;
    for (var i = 0; i < keys.length; ++i) {
        key = keys[i];
        if (!propertyFilter[key]) {
            res[key] = obj[key];
        }
    }
    res.text = obj.text;
    if (obj.icon) {
        res.icon = obj.icon;
    }
    if (obj.items) {
        res.items = obj.items;
    }

    return res;
}

/***
 *
 * @param {AElement} e1
 * @param {AElement} e2
 */
function swapElt(e1, e2) {
    var temp = _('div');
    e1.parentElement.replaceChild(temp, e1);
    e2.parentElement.replaceChild(e1, e2);
    temp.parentElement.replaceChild(e2, temp);
}


// EXTERNAL MODULE: ./node_modules/absol-acomp/css/hanger.css
var hanger = __webpack_require__(60);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Hanger.js







var Hanger_ = ACore["a" /* default */]._;
var Hanger_$ = ACore["a" /* default */].$;

/****
 * @extends AElement
 * @constructor
 */
function Hanger() {
    this.addClass('as-hanger');
    this.defineEvent(['predrag', 'dragstart', 'drag', 'dragend']);
    this._hangOn = 0;
    this._hangerPointerData = null;
    this.on2({
        mousedown: this.eventHandler.hangerPointerDown,
        touchstart: this.eventHandler.hangerPointerDown,
    });

    this._touchEvents = {
        touchend: this.eventHandler.hangerPointerFinish,
        touchcancel: this.eventHandler.hangerPointerFinish,
        touchmove: this.eventHandler.hangerPointerMove
    }
    this._mouseEvents = {
        mouseup: this.eventHandler.hangerPointerFinish,
        mouseleave: this.eventHandler.hangerPointerFinish,
        mousemove: this.eventHandler.hangerPointerMove
    };
}

Hanger.tag = 'hanger';

Hanger.render = function () {
    return Hanger_('div');
};

Hanger.prototype.on2 = function () {
    if (arguments.length == 1) {
        for (var name in arguments[0]) {
            Hanger.prototype.on2.call(this, name, arguments[0][name]);
        }
    }
    else if (arguments.length == 2) {
        this.addEventListener(arguments[0], arguments[1], BrowserDetector["a" /* default */].supportPassiveEvent ? { passive: false } : true);
    }
};


Hanger.prototype.off2 = function () {
    if (arguments.length == 1) {
        for (var name in arguments[0]) {
            Hanger.prototype.off2.call(this, name, arguments[0][name]);
        }
    }
    else if (arguments.length == 2) {
        this.removeEventListener(arguments[0], arguments[1], BrowserDetector["a" /* default */].supportPassiveEvent ? { passive: false } : true);
    }
};


Hanger.property = {};

/**
 * @type {Hanger}
 */
Hanger.property.hangOn = {
    set: function (value) {
        if (!(value > 0)) value = 0;
        this._hangOn = value;
    },
    get: function () {
        return this._hangOn;
    }
};

/**
 * @type {Hanger}
 */
Hanger.eventHandler = {};

Hanger.eventHandler.hangerPointerDown = function (event) {
    if (this._hangerPointerData) return;
    var bound = this.getBoundingClientRect();
    var startingPoint;
    var isTouch = event.type === 'touchstart';
    var pointerIdent = -1;
    var target;
    if (isTouch) {
        var touch = event.changedTouches[0];
        target = touch.target;
        pointerIdent = touch.identifier;
        startingPoint = new Math_Vec2(touch.clientX, touch.clientY);
    }
    else {
        startingPoint = new Math_Vec2(event.clientX, event.clientY);
        target = event.target;
    }
    var offsetVec = startingPoint.sub(new Math_Vec2(bound.left, bound.top));

    this._hangerPointerData = {
        state: 0,
        isTouch: isTouch,
        bound: bound,
        startingPoint: startingPoint,
        offsetVec: offsetVec,
        pointerIdent: pointerIdent,
        target: target
    };
    var preDragEvent = {
        type: 'predrag',
        originEvent: event,
        isTouch: isTouch,
        bound: bound,
        startingPoint: startingPoint,
        currentPoint: startingPoint,
        offsetVec: offsetVec,
        pointerIdent: pointerIdent,
        canceled: false,
        cancel: function () {
            this.canceled = true;
        },
        clientX: startingPoint.x,
        clientY: startingPoint.y,
        target: target,
        preventDefault: function () {
            event.preventDefault();
        }
    };
    this.emit('predrag', preDragEvent, this);
    if (preDragEvent.canceled) {
        this._hangerPointerData = null;
        return;
    }
    ;
    if (isTouch)
        this.on2.call(document.body, this._touchEvents)
    else
        this.on2.call(document.body, this._mouseEvents);

};

Hanger.eventHandler.hangerPointerMove = function (event) {
    var pointerData = this._hangerPointerData;
    var isTouch = pointerData.isTouch;
    var pointerIdent = -2;
    var currentPoint;
    if (isTouch) {
        var touch = Object(EventEmitter["c" /* findChangedTouchByIdent */])(event, pointerData.pointerIdent);
        if (touch) {
            pointerIdent = touch.identifier;
            currentPoint = new Math_Vec2(touch.clientX, touch.clientY);
        }
    }
    else {
        currentPoint = new Math_Vec2(event.clientX, event.clientY);
        pointerIdent = -1;
    }
    if (pointerIdent != pointerData.pointerIdent) return;
    pointerData.currentPoint = currentPoint;
    if (pointerData.state == 0) {
        var distance = currentPoint.sub(pointerData.startingPoint).abs();
        if (distance >= this._hangOn) {
            var dragStartEvent = {
                type: 'dragstart',
                originEvent: event,
                isTouch: isTouch,
                bound: pointerData.bound,
                startingPoint: pointerData.startingPoint,
                offsetVec: pointerData.offsetVec,
                pointerIdent: pointerIdent,
                currentPoint: currentPoint,
                target: pointerData.target,
                clientX: currentPoint.x,
                clientY: currentPoint.y,
                preventDefault: function () {
                    event.preventDefault();
                }
            };
            pointerData.state = 1;
            this.emit('dragstart', dragStartEvent, this);
        }
    }

    if (pointerData.state === 1) {
        var dragEvent = {
            type: 'drag',
            originEvent: event,
            isTouch: isTouch,
            bound: pointerData.bound,
            startingPoint: pointerData.startingPoint,
            offsetVec: pointerData.offsetVec,
            pointerIdent: pointerIdent,
            currentPoint: currentPoint,
            target: pointerData.target,
            clientX: currentPoint.x,
            clientY: currentPoint.y,
            preventDefault: function () {
                event.preventDefault();
            }
        };
        this.emit('drag', dragEvent, this);
    }
};

Hanger.eventHandler.hangerPointerFinish = function (event) {
    var pointerData = this._hangerPointerData;
    var isTouch = event.type === 'touchend';
    if (pointerData.isTouch !== isTouch) return;
    var pointerIdent = -2;
    var currentPoint;
    if (isTouch) {
        var touch = Object(EventEmitter["c" /* findChangedTouchByIdent */])(event, pointerData.pointerIdent);
        if (touch) {
            pointerIdent = touch.identifier;
            currentPoint = new Math_Vec2(touch.clientX, touch.clientY);
        }
    }
    else {
        currentPoint = new Math_Vec2(event.clientX, event.clientY);
        pointerIdent = -1;
    }
    if (pointerIdent !== pointerData.pointerIdent) return;
    if (pointerData.state === 1) {
        var dragEndEvent = {
            type: 'dragend',
            originEvent: event,
            isTouch: isTouch,
            bound: pointerData.bound,
            startingPoint: pointerData.startingPoint,
            offsetVec: pointerData.offsetVec,
            pointerIdent: pointerIdent,
            currentPoint: currentPoint,
            target: pointerData.target,
            clientX: currentPoint.x,
            clientY: currentPoint.y,
            preventDefault: function () {
                event.preventDefault();
            }
        };
        this.emit('dragend', dragEndEvent, this);
    }

    this._hangerPointerData = null;
    if (isTouch)
        this.off2.call(document.body, this._touchEvents)
    else
        this.off2.call(document.body, this._mouseEvents);
};

ACore["a" /* default */].install(Hanger);

/* harmony default export */ var js_Hanger = (Hanger);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/BoardTable.js












var BoardTable_ = ACore["a" /* default */]._;
var BoardTable_$ = ACore["a" /* default */].$;


/***
 * @extends AElement
 * @constructor
 */
function BoardTable() {
    var events = {
        touchstart: this.eventHandler.mousedown,
        mousedown: this.eventHandler.mousedown
    };
    js_Hanger.prototype.on2.call(this, events);
    this._childHolders = [];
    this._dragEventData = null;
    this._friends = [];
    this._longPressEventData = null;
}

BoardTable.tag = 'boardtable';
BoardTable.render = function () {
    return BoardTable_({
        class: 'as-board-table',
        extendEvent: ['sizechange', 'orderchange', 'itemleave', 'itementer', 'dragitemstart', 'dragitemend']
    });
};

var EFFECT_ZONE_CLASS_NAME = 'as-board-table-effect-zone';
var DRAG_ZONE_CLASS_NAME = 'as-board-drag-zone';
var FREE_ZONE_CLASS_NAME = 'as-board-free-zone';

BoardTable.EFFECT_ZONE_CLASS_NAME = EFFECT_ZONE_CLASS_NAME;
BoardTable.DRAG_ZONE_CLASS_NAME = DRAG_ZONE_CLASS_NAME;
BoardTable.FREE_ZONE_CLASS_NAME = FREE_ZONE_CLASS_NAME;

BoardTable.prototype.$preventContext = BoardTable_({
    tag: 'textarea',
    class: 'as-board-table-prevent-context',
    props: { readOnly: true }
});

BoardTable.prototype.maxScrollSpeed = 300;


BoardTable.prototype.findDomChildBefore = function (elt) {
    var nodes = this.childNodes;
    for (var i = 0; i < nodes.length; ++i) {
        if (nodes[i] == elt) return nodes[i - 1];
    }
    return null;
};


BoardTable.prototype.findDomChildAfter = function (elt) {
    var nodes = this.childNodes;
    for (var i = 0; i < nodes.length; ++i) {
        if (nodes[i] == elt) return nodes[i + 1];
    }
    return null;
};


BoardTable.prototype.addChild = function (elt) {
    if (elt.classList.contains('as-board')) {
        elt.selfRemove();
        var atElt;
        if (this._childHolders.length > 0) {
            atElt = this.findDomChildAfter(this._childHolders[this._childHolders.length - 1].elt);
            if (atElt) {
                if (atElt != -1)
                    this.insertBefore(elt, atElt);
                else
                    throw new Error("Violation data!");
            }
            else {
                this.appendChild(elt);
            }
        }
        else {
            this.appendChild(elt);
        }
        var holder = {
            elt: elt,
        };
        elt.on('sizechange', holder.onsizechange);
        this._childHolders.push(holder);
    }
    else {
        this.appendChild(elt);
    }
    return this;
};


BoardTable.prototype.removeChild = function (elt) {
    var holderIndex = this.findChildHolderIndex(elt);
    if (holderIndex >= 0) {
        var holder = this._childHolders[holderIndex];
        holder.elt.off('sizechange', holder.onsizechange);
        this._childHolders.splice(holderIndex, 1);
        holder.elt.remove();
    }
    else {
        this.super(elt);
    }
};

BoardTable.prototype.findChildBefore = function (elt) {
    var holderIndex = this.findChildHolderIndex(elt);
    if (holderIndex < 0) return holderIndex;
    if (holderIndex < 1) return null;
    return this._childHolders[holderIndex - 1];
};


BoardTable.prototype.findChildAfter = function (elt) {
    var holderIndex = this.findChildHolderIndex(elt);
    if (holderIndex < 0) return holderIndex;
    if (holderIndex <= this._childHolders.length) return null;
    return this._childHolders[holderIndex + 1];
};

BoardTable.prototype.addChildBefore = function (elt, at) {
    elt.selfRemove();
    var atIndex = this.findChildHolderIndex(at);
    if (elt.classList.contains('as-board')) {
        if (atIndex < 0) {
            if (this._childHolders.length > 0) {
                if (this.findDomChildAfter(this._childHolders[this._childHolders.length - 1].elt) == at) {
                    atIndex = this._childHolders.length;
                }
                else {
                    throw new Error("Invalid position, you must insert board next to other board!");
                }
            }
        }

        this.insertBefore(elt, at);
        var holder = {
            elt: elt
        };
        this._childHolders.splice(atIndex, 0, holder);
    }
    else {
        if (atIndex > 0) {
            throw new Error("Invalid position, you can not insert othert type between two board!");
        }
        else {
            this.insertBefore(elt, at);
        }
    }
    return this;
};

BoardTable.prototype.addChildAfter = function (elt, at) {
    elt.selfRemove();
    var atIndex = this.findChildHolderIndex(at);
    var afterAt = this.findDomChildAfter(at);
    if (elt.classList.contains('as-board')) {
        if (atIndex < 0) {
            if (this._childHolders.length > 0) {
                if (this.findDomChildBefore(this._childHolders[0].elt) == at) {
                    atIndex = -1;
                }
                else
                    throw new Error("Invalid position,  you must insert board next to other board!");
            }
        }

        var holder = {
            elt: elt
        };
        if (!afterAt) {
            this.appendChild(elt);
        }
        else {
            this.insertBefore(elt, afterAt);
        }
        this._childHolders.splice(atIndex + 1, 0, holder);
    }
    else {
        if (this._childHolders.length > 1 && atIndex >= 0 && atIndex + 1 < this._childHolders.length) {
            throw new Error("Invalid position, you can not insert othert type between two board!");
        }
        else {
            if (!afterAt) {
                this.appendChild(elt);
            }
            else {
                this.insertBefore(elt, afterAt);
            }

        }
    }
    return this;
};

BoardTable.prototype.clearChild = function () {
    this._childHolders = [];
    return Element["a" /* default */].prototype.clearChild.call(this);
};


BoardTable.prototype.findChildHolder = function (elt) {
    return this._childHolders[this.findChildHolderIndex(elt)];
};


BoardTable.prototype.findChildHolderIndex = function (elt) {
    for (var i = 0; i < this._childHolders.length; ++i) {
        if (this._childHolders[i].elt == elt) return i;
    }
    return -1;
};


BoardTable.prototype.getEffectZone = function () {
    var ez = this;
    while (ez) {
        if (ez.classList.contains(EFFECT_ZONE_CLASS_NAME)) {
            return ez;
        }
        ez = ez.parentElement;
    }
    return this;
};

BoardTable.prototype._findDragZone = function (elt) {
    var res = null;
    while (elt != this && elt) {
        if (elt.classList.contains('as-board-table')) return null;//maybe in other
        if (!res && elt.classList.contains(DRAG_ZONE_CLASS_NAME)) {
            res = elt;
        }
        if (!res && elt.classList.contains(FREE_ZONE_CLASS_NAME)) return null;// do not drag
        elt = elt.parentElement;
    }
    return res;
};

BoardTable.prototype._findBoard = function (elt) {
    while (elt != this && elt) {
        if (elt.classList.contains('as-board')) return elt;
        elt = elt.parentElement;
    }
    return null;
};


BoardTable.prototype.getAllFriends = function () {
    var thisBT = this;
    var res = [];
    var friendQR;
    for (var i = 0; i < this._friends.length; ++i) {
        friendQR = this._friends[i];
        if (friendQR != this && friendQR && friendQR.classList && friendQR.classList.contains('as-board-table')) {
            res.push(friendQR);
        }
        else if (typeof friendQR == 'string') {// query
            BoardTable_$(friendQR, false, function (elt) {
                if (thisBT != elt && elt.classList && elt.classList.contains('as-board-table')) {
                    res.push(elt);
                }
                return false;
            });
        }
    }

    return res;
};


BoardTable.prototype._findHoverBoardIndex = function (clientX, clientY, excludes) {
    var cli = new Math_Vec2(clientX, clientY);
    var bound;
    for (var i = 0; i < this._childHolders.length; ++i) {
        // holder =
        if (excludes && excludes.indexOf(this._childHolders[i].elt) >= 0) continue;
        bound = Math_Rectangle.fromClientRect(this._childHolders[i].elt.getBoundingClientRect());
        if (bound.containsPoint(cli)) return i;
    }
    return -1;
};


/**
 * @type {BoardTable}
 */
BoardTable.eventHandler = {};


BoardTable.eventHandler.mousedown = function (event) {
    if (this._dragEventData) return;
    var mousePos;
    var pointerIdent = -1;
    var target;
    var isTouch = event.type === 'touchstart';
    if (isTouch) {
        var touch = event.changedTouches[0];
        target = touch.target;
        pointerIdent = touch.identifier;
        mousePos = new Math_Vec2(touch.clientX, touch.clientY);
    }
    else {
        mousePos = new Math_Vec2(event.clientX, event.clientY);
        target = event.target;
    }


    var dragzone = this._findDragZone(target);
    if (dragzone) {
        var boardElt = this._findBoard(dragzone);
        var holderIndex = this.findChildHolderIndex(boardElt);
        if (holderIndex < 0) return;// can not move
        var cBound = boardElt.getBoundingClientRect();
        var mouseBoardOffset = mousePos.sub(new Math_Vec2(cBound.left, cBound.top));
        this._dragEventData = {
            boardElt: boardElt,
            state: 'WAIT',
            mouseStartPos: mousePos,
            mousePos: mousePos,
            mouseBoardOffset: mouseBoardOffset,
            holderIndex: holderIndex,
            boardBound: cBound,
            isTouch: isTouch,
            pointerIdent: pointerIdent
        };
        var cEvent = EventEmitter["b" /* default */].copyEvent(event);

        if (isTouch) {
            js_Hanger.prototype.on2.call(document.body, {
                touchend: this.eventHandler.touchFinishBeforeReadyDrag,
                touchcancel: this.eventHandler.touchFinishBeforeReadyDrag,
                touchmove: this.eventHandler.touchMoveBeforeReadyDrag
            });
            this.$preventContext.off('contextmenu', this.eventHandler.contextMenu);//event maybe not remove because of double click
            this.$preventContext.on('contextmenu', this.eventHandler.contextMenu);
            var thisBT = this;

            this._dragEventData._longPressTimeout = setTimeout(function () {
                thisBT._longPressEventData = -1;
                thisBT.$preventContext.addStyle({
                    '--x': mousePos.x + 'px',
                    '--y': mousePos.y + 'px'
                }).addTo(document.body);
                thisBT.eventHandler.readyDrag(cEvent);
            }, 400);
        }
        else {
            this.eventHandler.readyDrag(event);
        }
    }
};

BoardTable.eventHandler.touchFinishBeforeReadyDrag = function (event) {
    var thisBT = this;
    var dragEventData = this._dragEventData;
    if (!dragEventData) return;
    js_Hanger.prototype.off2.call(document.body, {
        touchend: this.eventHandler.touchFinishBeforeReadyDrag,
        touchcancel: this.eventHandler.touchFinishBeforeReadyDrag,
        touchmove: this.eventHandler.touchMoveBeforeReadyDrag
    })
    if (this._dragEventData._longPressTimeout > 0) {
        clearTimeout(this._dragEventData._longPressTimeout);
    }
    if (dragEventData.state === 'WAIT') {
        this._dragEventData = null;// canceled
    }
    else {
        setTimeout(function () {
            thisBT.$preventContext.off('contextmenu', thisBT.eventHandler.contextMenu);
            thisBT.$preventContext.remove();
        }, 60);
    }


};

BoardTable.eventHandler.contextMenu = function (event) {
    event.preventDefault();
    this.$preventContext.off('contextmenu', this.eventHandler.contextMenu);
    this.$preventContext.remove();
    this.eventHandler.touchFinishBeforeReadyDrag(event);
}

BoardTable.eventHandler.touchMoveBeforeReadyDrag = function (event) {
    var dragEventData = this._dragEventData;
    var touch = Object(EventEmitter["c" /* findChangedTouchByIdent */])(event, dragEventData.pointerIdent);
    if (!touch) return;
    var mousePos = new Math_Vec2(touch.clientX, touch.clientY);
    if (dragEventData.state === 'WAIT') {
        var dv = mousePos.sub(dragEventData.mouseStartPos);
        if (dv.abs() > 8) {
            this.eventHandler.touchFinishBeforeReadyDrag(event);
            this._dragEventData = null;// cancel
        }
    }
    else {
        this.$preventContext.addStyle({
            '--x': mousePos.x + 'px',
            '--y': mousePos.y + 'px'
        });
    }

};

BoardTable.eventHandler.readyDrag = function (event) {
    var dragEventData = this._dragEventData;
    dragEventData.state = "PRE_DRAG";
    var bodyEvents = {};
    if (dragEventData.isTouch) {
        bodyEvents.touchmove = this.eventHandler.mousemove;
        bodyEvents.touchcancel = this.eventHandler.mousefinish;
        bodyEvents.touchend = this.eventHandler.mousefinish;
    }
    else {
        bodyEvents.mousemove = this.eventHandler.mousemove;
        bodyEvents.mouseup = this.eventHandler.mousefinish;
        bodyEvents.mouseleave = this.eventHandler.mousefinish;
    }

    js_Hanger.prototype.on2.call(document.body, bodyEvents);
    if (dragEventData.isTouch) {
        this.eventHandler.mousemove(event);
    }
};

BoardTable.eventHandler.mousemovePredrag = function (event) {
    var dragEventData = this._dragEventData;
    var mousePos = dragEventData.mousePos;
    var thisBT = this;
    event.preventDefault();
    var cBound = dragEventData.boardElt.getBoundingClientRect();
    if (mousePos.sub(dragEventData.mouseStartPos).abs() > 8 || dragEventData.isTouch) {
        dragEventData.placeHolderElt = BoardTable_$(dragEventData.boardElt.cloneNode(false))
            .addClass('as-board-place-holder')
            .addStyle({
                width: cBound.width + 'px',
                height: cBound.height + 'px'
            });
        dragEventData.friendHolders = this.getAllFriends().concat([this]).map(function (elt) {
            //include itself
            var effectZone = elt.getEffectZone();
            var res = {
                elt: elt,
                effectZone: effectZone
            }
            if (!dragEventData.isTouch) {
                var enterEvent = thisBT.eventHandler.enterFriendEffectZone.bind(thisBT, elt);
                js_Hanger.prototype.on2.call(effectZone, dragEventData.isTouch ? 'touchmove' : 'mouseenter', enterEvent);
                res.enterEvent = enterEvent;
            }
            else {
                // use move event to detect
            }

            return res;
        });
        dragEventData.inEffectZoneOf = this
        dragEventData.cardStyle = {
            width: dragEventData.boardElt.style.width,
            height: dragEventData.boardElt.style.height
        };

        dragEventData.boardElt.addStyle({
            width: cBound.width + 'px',
            height: cBound.height + 'px'
        });

        this.insertBefore(dragEventData.placeHolderElt, dragEventData.boardElt);
        dragEventData.state = "DRAG";
        BoardTable_$(document.body).addClass('as-has-board-table-drag');
        dragEventData.boardElt.addClass('as-board-moving');
        dragEventData.boardAt = dragEventData.holderIndex;
        dragEventData.boardIn = thisBT;
        this.emit('dragitemstart', {
            type: 'dragitemstart',
            target: this,
            boardElt: this._dragEventData.boardElt
        }, this);
    }
};


BoardTable.eventHandler.mousemoveDragInSelf = function (event) {
    var dragEventData = this._dragEventData;
    var mousePos = dragEventData.mousePos;
    if (this._childHolders.length < 2) {
        if (dragEventData.boardIn != this) {
            this.insertBefore(dragEventData.placeHolderElt, this._childHolders[0].elt);
            dragEventData.boardIn = this;
            dragEventData.boardAt = 0;
        }
    }
    else {
        // bản thân chỉ có 1, hoặc nhiều hơn
        var i = this._findHoverBoardIndex(mousePos.x, mousePos.y, [dragEventData.boardElt]);
        if (i >= 0) {
            if (dragEventData.boardIn != this) {
                dragEventData.boardIn = this;
            }
            var viewIndex;
            if ((i < dragEventData.holderIndex && i < dragEventData.boardAt)
                || (i > dragEventData.holderIndex && i > dragEventData.boardAt)
                || dragEventData.holderIndex == dragEventData.boardAt) {
                viewIndex = i;
            }
            else {
                if (dragEventData.holderIndex > dragEventData.boardAt) {
                    viewIndex = i + 1;
                }
                else {
                    viewIndex = i - 1;
                }
            }

            var fbound = this._childHolders[i].elt.getBoundingClientRect();
            var displayStyple = this._childHolders[i].elt.getComputedStyleValue('display');

            if (mousePos.x > fbound.left && mousePos.x < fbound.right
                && mousePos.y > fbound.top && mousePos.y < fbound.bottom) {
                if (displayStyple.startsWith('inline')) {
                    if (dragEventData.boardBound.width < fbound.width) {
                        if (dragEventData.boardAt > viewIndex && mousePos.x > fbound.left + dragEventData.boardBound.width) {
                            viewIndex += 1;
                        }
                        else if (dragEventData.boardAt < viewIndex && mousePos.x < fbound.left + fbound.width - dragEventData.boardBound.width) {
                            viewIndex -= 1;
                        }
                    }
                }
                else {
                    if (dragEventData.boardBound.height < fbound.height) {
                        if (dragEventData.boardAt > viewIndex && mousePos.y >= fbound.top + dragEventData.boardBound.height) {
                            viewIndex += 1;
                        }
                        else if (dragEventData.boardAt < viewIndex && mousePos.y <= fbound.top + fbound.height - dragEventData.boardBound.height) {
                            viewIndex -= 1;
                        }
                    }
                }
                viewIndex = Math.max(0, Math.min(this._childHolders.length, viewIndex));
                if (viewIndex != dragEventData.boardAt) {
                    dragEventData.boardAt = viewIndex;
                    if (dragEventData.holderIndex >= viewIndex) {
                        this.insertBefore(dragEventData.placeHolderElt, this._childHolders[viewIndex].elt);
                    }
                    else {
                        var bf = Element["a" /* default */].prototype.findChildAfter.call(this, this._childHolders[viewIndex].elt);
                        if (bf)
                            this.insertBefore(dragEventData.placeHolderElt, bf);
                        else {
                            this.appendChild(dragEventData.placeHolderElt);
                        }
                    }
                }
            }
        }
    }
};

BoardTable.eventHandler.mousemoveDragInOther = function (event) {
    var dragEventData = this._dragEventData;
    var mousePos = dragEventData.mousePos;
    var other = dragEventData.inEffectZoneOf;
    if (other._childHolders.length == 0) {
        if (dragEventData.boardIn != other) {
            dragEventData.boardIn = other;
            dragEventData.boardAt = 0;
            other.appendChild(dragEventData.placeHolderElt);
        }
    }
    else {
        var i = other._findHoverBoardIndex(mousePos.x, mousePos.y);
        if (i >= 0) {
            if (dragEventData.boardIn != other) {
                dragEventData.boardIn = other;
            }
            var displayStyple = other._childHolders[i].elt.getComputedStyleValue('display');
            var di = 0;
            var bbound = other._childHolders[i].elt.getBoundingClientRect();

            if (displayStyple.startsWith('inline')) {
                if (mousePos.x > bbound.left + bbound.width / 2) di++;
            }
            else {
                if (mousePos.y > bbound.top + bbound.height / 2) di++;
            }
            i += di;
            if (i < other._childHolders.length) {
                other.insertBefore(dragEventData.placeHolderElt, other._childHolders[i].elt);
            }
            else {
                var bf = other.findChildAfter(other._childHolders[other._childHolders.length - 1].elt);
                if (bf) {
                    other.insertBefore(dragEventData.placeHolderElt, bf);
                }
                else {
                    other.appendChild(dragEventData.placeHolderElt)
                }
            }
            dragEventData.boardAt = i;
        }
    }
};


BoardTable.eventHandler.mousemoveDrag = function (event) {
    var dragEventData = this._dragEventData;
    if (dragEventData.inEffectZoneOf == this) {
        this.eventHandler.mousemoveDragInSelf(event);
    }
    else {
        this.eventHandler.mousemoveDragInOther(event);
    }
};

BoardTable.eventHandler.boarDrag = function (event) {
    var dragEventData = this._dragEventData;
    var mousePos = dragEventData.mousePos;
    var boardPos = mousePos.sub(dragEventData.mouseBoardOffset);
    dragEventData.boardElt.addStyle({
        left: boardPos.x + 'px',
        top: boardPos.y + 'px'
    });
};


BoardTable.eventHandler.dragOnEffectZone = function (event) {
    var dragEventData = this._dragEventData;
    var mousePos = dragEventData.mousePos;
    var friendHolders = dragEventData.friendHolders;
    var bound;
    for (var i = 0; i < friendHolders.length; ++i) {
        bound = Math_Rectangle.fromClientRect(friendHolders[i].effectZone.getBoundingClientRect());
        if (bound.containsPoint(mousePos)) {
            dragEventData.inEffectZoneOf = friendHolders[i].elt;
            break;
        }
    }
};

BoardTable.eventHandler.mousemoveOverflow = function (event) {
    if (!this._dragEventData) return;
    var dragEventData = this._dragEventData;
    var scrollerX = this._dragEventData.boardIn;
    var overflowStyle;
    while (scrollerX) {
        overflowStyle = window.getComputedStyle(scrollerX)['overflow'];
        if ((overflowStyle === 'auto' || overflowStyle === 'auto hidden' || overflowStyle === 'scroll' || scrollerX.tagName === 'HTML') && (scrollerX.clientWidth < scrollerX.scrollWidth)) break;
        scrollerX = scrollerX.parentElement;
    }
    var scrollerY = this._dragEventData.boardIn;
    while (scrollerY) {
        overflowStyle = window.getComputedStyle(scrollerY)['overflow'];
        if ((overflowStyle === 'auto' || overflowStyle === 'hidden auto' || overflowStyle === 'scroll' || scrollerY.tagName === 'HTML') && (scrollerY.clientHeight < scrollerY.scrollHeight)) break;
        scrollerY = scrollerY.parentElement;
    }

    var outBound;
    var bBound;
    var screenSize = HTML5_Dom["a" /* default */].getScreenSize();
    var vx = 0;
    var vy = 0;
    bBound = this._dragEventData.boardElt.getBoundingClientRect();
    if (scrollerX) {
        if (dragEventData.$scrollerX !== scrollerX) {
            dragEventData.scrollerXValue = scrollerX.scrollLeft;
            dragEventData.$scrollerX = scrollerX;
        }
        outBound = scrollerX.getBoundingClientRect();
        outBound = {
            left: Math.max(outBound.left, 0),
            top: Math.max(outBound.top, 0),
            bottom: Math.min(outBound.bottom, screenSize.height),
            right: Math.min(outBound.right, screenSize.width)
        }
        if (bBound.left < outBound.left) {
            vx = bBound.left - outBound.left;
        }
        else if (bBound.right > outBound.right) {
            vx = bBound.right - outBound.right;
        }
    }
    else {
        dragEventData.$scrollerX = null;
    }

    if (scrollerY) {
        if (dragEventData.$scrollerY !== scrollerY) {
            dragEventData.scrollerYValue = scrollerY.scrollTop;
            dragEventData.$scrollerY = scrollerY;
        }
        outBound = scrollerY.getBoundingClientRect();
        outBound = {
            left: Math.max(outBound.left, 0),
            top: Math.max(outBound.top, 0),
            bottom: Math.min(outBound.bottom, screenSize.height),
            right: Math.min(outBound.right, screenSize.width)
        }
        if (bBound.top < outBound.top) {
            vy = bBound.top - outBound.top;
        }
        else if (bBound.bottom > outBound.bottom) {
            vy = bBound.bottom - outBound.bottom;
        }
    }
    else {
        dragEventData.$scrollerY = null;
    }


    vx = Math.max(-this.maxScrollSpeed, Math.min(this.maxScrollSpeed, vx * Math.sqrt(Math.abs(vx))));
    vy = Math.max(-this.maxScrollSpeed, Math.min(this.maxScrollSpeed, vy * Math.sqrt(Math.abs(vy))));
    if (vx !== 0 || vy !== 0) {
        var copyEvent = {
            type: event.type,
            preventDefault: function () {/* noop */
            },
            target: event.target
        };
        if (event.type === 'touchmove') {
            copyEvent.changedTouches = Array.prototype.map.call(event.changedTouches, function (it) {
                return { identifier: it.identifier, clientX: it.clientX, clientY: it.clientY, target: it.target }
            });
            copyEvent.touches = Array.prototype.map.call(event.touches, function (it) {
                return { identifier: it.identifier, clientX: it.clientX, clientY: it.clientY, target: it.target }
            });
        }
        else {
            copyEvent.clientX = event.clientX;
            copyEvent.clientY = event.clientY
        }
        var thisBT = this;
        var now = new Date().getTime();
        if (dragEventData.requestAnimationFrameId >= 0) {
            cancelAnimationFrame(dragEventData.requestAnimationFrameId);
        }
        dragEventData.requestAnimationFrameId = requestAnimationFrame(function () {
            dragEventData.requestAnimationFrameId = -1;
            var dt = (new Date().getTime() - now) / 1000;
            if (dragEventData.$scrollerY) {
                dragEventData.scrollerYValue += vy * dt;
                dragEventData.scrollerYValue = Math.max(0, Math.min(dragEventData.$scrollerY.scrollHeight - dragEventData.$scrollerY.clientHeight, dragEventData.scrollerYValue))
                dragEventData.$scrollerY.scrollTop = dragEventData.scrollerYValue;
            }

            if (dragEventData.$scrollerX) {
                dragEventData.scrollerXValue += vx * dt;
                dragEventData.scrollerXValue = Math.max(0, Math.min(dragEventData.$scrollerX.scrollWidth - dragEventData.$scrollerX.clientWidth, dragEventData.scrollerXValue))
                dragEventData.$scrollerX.scrollLeft = dragEventData.scrollerXValue;
            }

            if (thisBT._dragEventData && thisBT._dragEventData.state === "DRAG") {
                thisBT.eventHandler.mousemoveOverflow(copyEvent);
            }
        });
    }
};

BoardTable.eventHandler.mousemove = function (event) {
    var dragEventData = this._dragEventData;
    var isTouch = event.type === 'touchmove' || event.type === 'touchstart';// call from timeout
    if (dragEventData.isTouch !== isTouch) return;
    var mousePos;
    var pointerIdent;
    var touch = -2;
    if (isTouch) {
        touch = Object(EventEmitter["c" /* findChangedTouchByIdent */])(event, dragEventData.pointerIdent);
        if (touch) {
            pointerIdent = touch.identifier;
            mousePos = new Math_Vec2(touch.clientX, touch.clientY);
        }
    }
    else {
        pointerIdent = -1;
        mousePos = new Math_Vec2(event.clientX, event.clientY);
    }
    if (dragEventData.pointerIdent !== pointerIdent) return;
    dragEventData.mousePos = mousePos;
    event.preventDefault();
    if (dragEventData.isTouch && dragEventData.state === 'DRAG') {
        this.eventHandler.dragOnEffectZone(event);//because touch not have mouseenter event
    }
    if (dragEventData.state === 'PRE_DRAG') {
        this.eventHandler.mousemovePredrag(event);
    }
    if (dragEventData.state === 'DRAG') {
        this.eventHandler.mousemoveDrag(event);
        this.eventHandler.boarDrag(event);
        this.eventHandler.mousemoveOverflow(event);
    }
};


BoardTable.eventHandler.mousefinish = function (event) {
    var dragEventData = this._dragEventData;
    var isTouch = event.type === 'touchend';
    if (dragEventData.isTouch !== isTouch) return;
    var mousePos;
    var pointerIdent;
    var touch = -2;
    if (isTouch) {
        touch = Object(EventEmitter["c" /* findChangedTouchByIdent */])(event, dragEventData.pointerIdent);
        if (touch) {
            pointerIdent = touch.identifier;
            mousePos = new Math_Vec2(touch.clientX, touch.clientY);
        }
    }
    else {
        pointerIdent = -1;
        mousePos = new Math_Vec2(event.clientX, event.clientY);
    }
    if (dragEventData.pointerIdent !== pointerIdent) return;
    dragEventData.mousePos = mousePos;

    var changed;
    if (dragEventData.state == 'DRAG') {
        setTimeout(function () {
            BoardTable_$(document.body).removeClass('as-has-board-table-drag');
        }, 1)
        dragEventData.boardElt.removeClass('as-board-moving')
            .removeStyle('left')
            .removeStyle('top');
        dragEventData.boardElt.addStyle(dragEventData.cardStyle);
        dragEventData.placeHolderElt.remove();
        dragEventData.state = "FINISH";
        if (!dragEventData.isTouch)
            dragEventData.friendHolders.forEach(function (holder) {
                js_Hanger.prototype.off2.call(holder.effectZone, 'mouseenter', holder.enterEvent);
            });

        if (dragEventData.boardIn == this) {
            if (dragEventData.holderIndex != dragEventData.boardAt) {
                if (dragEventData.holderIndex > dragEventData.boardAt) {
                    this.insertBefore(dragEventData.boardElt, this._childHolders[dragEventData.boardAt].elt);
                }
                else if (dragEventData.holderIndex < dragEventData.boardAt) {
                    var bf = Element["a" /* default */].prototype.findChildAfter.call(this, this._childHolders[dragEventData.boardAt].elt);
                    if (bf)
                        this.insertBefore(dragEventData.boardElt, bf);
                    else {
                        this.appendChild(dragEventData.boardElt);
                    }
                }
                var holder = this._childHolders.splice(dragEventData.holderIndex, 1)[0];
                this._childHolders.splice(dragEventData.boardAt, 0, holder);
                changed = 'orderchange';
                this.emit('orderchange', {
                    type: 'orderchange',
                    boardElt: holder.elt,
                    action: 'move',
                    from: dragEventData.holderIndex,
                    to: dragEventData.boardAt,
                    target: this,
                }, this);
            }
        }
        else {
            var holder = this._childHolders.splice(dragEventData.holderIndex, 1)[0];
            holder.elt.remove();
            ///remove all event
            var other = dragEventData.boardIn;
            changed = 'itemleave';
            this.emit('itemleave', {
                type: 'itemleave',
                item: holder.elt,
                from: { index: dragEventData.holderIndex, table: this },
                to: { index: dragEventData.boardAt, table: other },
                target: this
            }, this);
            if (other._childHolders.length == 0) {
                other.appendChild(holder.elt);
                other._childHolders.push(holder);
            }
            else {
                if (dragEventData.boardAt < other._childHolders.length) {
                    other.insertBefore(holder.elt, other._childHolders[dragEventData.boardAt].elt);
                    other._childHolders.splice(dragEventData.boardAt, 0, holder);
                }
                else {
                    var bf = other.findDomChildAfter(other._childHolders.elt);
                    if (bf) {
                        other.insertBefore(holder.elt, bf);
                    }
                    else {
                        other.appendChild(holder.elt);
                    }
                    other._childHolders.push(holder);
                }
            }
            other.emit('itementer', {
                type: 'itementer',
                item: holder.elt,
                target: other,
                from: { index: dragEventData.holderIndex, table: this },
                to: { index: dragEventData.boardAt, table: other }
            }, other);
        }
        this.emit('dragitemend', {
            type: 'dragitemend',
            target: this,
            changed: changed,
            boardElt: this._dragEventData.boardElt
        }, this);
    }

    var bodyEvents = {};
    if (dragEventData.isTouch) {
        bodyEvents.touchmove = this.eventHandler.mousemove;
        bodyEvents.touchcancel = this.eventHandler.mousefinish;
        bodyEvents.touchend = this.eventHandler.mousefinish;
    }
    else {
        bodyEvents.mousemove = this.eventHandler.mousemove;
        bodyEvents.mouseup = this.eventHandler.mousefinish;
        bodyEvents.mouseleave = this.eventHandler.mousefinish;
    }
    js_Hanger.prototype.off2.call(document.body, bodyEvents);
    this._dragEventData = null;
};

BoardTable.eventHandler.enterFriendEffectZone = function (friendElt, event) {
    this._dragEventData.inEffectZoneOf = friendElt;
};

BoardTable.prototype.getAllBoards = function () {
    return this._childHolders.map(function (holder) {
        return holder.elt;
    });
};


BoardTable.property = {};
BoardTable.property.friends = {
    set: function (value) {
        value = value || [];
        if (!(value instanceof Array))
            value = [value];
        this._friends = value;
    },
    get: function () {
        return this._friends;
    }
};

ACore["a" /* default */].install(BoardTable);
/* harmony default export */ var js_BoardTable = (BoardTable);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/bscroller.css
var bscroller = __webpack_require__(62);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/BScroller.js





var BScroller_ = ACore["a" /* default */]._;
var BScroller_$ = ACore["a" /* default */].$;



/***
 * @extends AElement
 * @constructor
 */
function BScroller() {
    this.addClass('as-bscroller');
}


BScroller.tag = "bscroller";

BScroller.render = function (data) {
    if (data && data.elt) {
        return BScroller_$(data.elt)
    }
    else
        return BScroller_('div');
};

BScroller.prototype.scrollInto = function (element) {
    if (Element["a" /* default */].prototype.isDescendantOf.call(element, this)) {
        var elementBound = element.getBoundingClientRect();
        var viewportBound = this.getBoundingClientRect();
        var currentScrollTop = this.scrollTop;
        var newScrollTop = currentScrollTop;
        if (elementBound.bottom > viewportBound.bottom) {
            newScrollTop = currentScrollTop + (elementBound.bottom - viewportBound.bottom);
        }
        if (elementBound.top < viewportBound.top) {
            newScrollTop = currentScrollTop - (viewportBound.top - elementBound.top);
        }

        if (newScrollTop != currentScrollTop) {
            this.scrollTop = newScrollTop;
        }

        var currentScrollLeft = this.scrollLeft;
        var newScrollLeft = currentScrollLeft;
        if (elementBound.right > viewportBound.right) {
            newScrollLeft = currentScrollLeft + (elementBound.right - viewportBound.right);
        }
        if (elementBound.left < viewportBound.left) {
            newScrollLeft = currentScrollLeft - (viewportBound.left - elementBound.left);
        }

        if (newScrollLeft != currentScrollLeft) {
            this.scrollLeft = newScrollLeft;
        }
    }
}


ACore["a" /* default */].install(BScroller);

/* harmony default export */ var js_BScroller = (BScroller);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/buttonarray.css
var buttonarray = __webpack_require__(64);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/ButtonArray.js




var ButtonArray_ = ACore["a" /* default */]._;
var ButtonArray_$ = ACore["a" /* default */].$;


/***
 * @extends AElement
 * @constructor
 */
function ButtonArray() {
    this._dict = {};
    this._pool = [];
    this._items = [];
    this.$lastActiveBtn = null;
    this._value = undefined;
    this._lastValue = this._value;
}

ButtonArray.tag = 'buttonarray';
ButtonArray.render = function () {
    return ButtonArray_({
        extendEvent: ['change'],
        class: 'as-button-array'
    });
};

ButtonArray.prototype._newButton = function () {
    var button = ButtonArray_({
        tag: 'button',
        class: 'as-button-array-item',
        child: { text: 'null' }
    });
    button.on('click', this.eventHandler.clickItem.bind(this, button));
    return button;
};

ButtonArray.prototype._requestButton = function (items) {
    var button;
    if (this._pool.length > 0) {
        button = this._pool.pop();
    }
    else {
        button = this._newButton();
    }
    return button;
};

ButtonArray.prototype._assignButton = function (button, data) {
    button._data = data;
    button.childNodes[0].data = data.text;
};

ButtonArray.prototype._releaseButton = function (button) {
    this._pool.push(button);
};

ButtonArray.prototype._getFullFormat = function (item) {
    var res = {};
    if ((typeof item == 'string') || (typeof item == 'number') || (typeof item == 'boolean') || (item === null) || (item === undefined)) {
        res.ident = item;
        res.value = item;
        res.text = item + '';
    }
    else if (item && (typeof item == 'object')) {
        res.value = item.value;
        res.ident = res.value + '';
        res.text = item.text;
    }
    return res;
};


ButtonArray.property = {};

/**
 * @type {ButtonArray}
 */
ButtonArray.property.items = {
    set: function (items) {
        items = items || [];
        this._items = items;
        var child;
        while (this.childNodes.length > items.length) {
            child = this.lastChild;
            this._releaseButton(child);
            this.removeChild(child);
        }

        while (this.childNodes.length < items.length) {
            this.addChild(this._requestButton());
        }
        var item;
        for (var i = 0; i < items.length; ++i) {
            item = this._getFullFormat(items[i]);
            this._assignButton(this.childNodes[i], item);
            this._dict[item.ident] = {
                elt: this.childNodes[i],
                data: item
            }
        }
        if (items.length > 0) {
            if (!this._dict[this._value + '']) {
                this._value = this._getFullFormat(items[0]).value;
            }
        }
        this.value = this._value;
    },
    get: function () {
        return this._items;
    }
};

ButtonArray.property.value = {
    set: function (value) {
        this._value = value;
        this._lastValue = this._value;
        if (this.$lastActiveBtn) {
            this.$lastActiveBtn.removeClass('as-active');
            this.$lastActiveBtn = null;
        }
        var hodler = this._dict[value + ''];
        if (hodler) {
            hodler.elt.addClass('as-active');
            this.$lastActiveBtn = hodler.elt;
        }
    },
    get: function () {
        return this._value;
    }
};


ButtonArray.eventHandler = {};

ButtonArray.eventHandler.clickItem = function (item, event) {
    if (this._lastValue != item._data.value) {
        this.value = item._data.value;
        this.emit('change', { target: this, value: this.value, type: 'change' }, this);
    }
};


ACore["a" /* default */].install(ButtonArray);

/* harmony default export */ var js_ButtonArray = (ButtonArray);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/calendarinput.css
var calendarinput = __webpack_require__(66);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/chromecalendar.css
var chromecalendar = __webpack_require__(68);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/scroller.css
var css_scroller = __webpack_require__(70);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Scroller.js







var Scroller_ = ACore["a" /* default */]._;
var Scroller_$ = ACore["a" /* default */].$;

ACore["a" /* default */].$scrollStyle = (function () {
        var element = Scroller_('style#vscroller-style');
        element.innerHTML = [
            '.absol-vscroller-viewport{ margin-right: ' + (-17) + 'px;  min-width: calc(100% + ' + (17) + 'px);}',
            '.absol-hscroller-viewport{ margin-bottom: ' + (-17) + 'px;  min-height: calc(100% + ' + (17) + 'px);}'
        ].join('\n');
        document.head.appendChild(element);

        HTML5_Dom["a" /* default */].getScrollSize().then(function (size) {
            element.innerHTML = [
                '.absol-vscroller-viewport{ margin-right: ' + (-size.width) + 'px; min-width: calc(100% + ' + (size.width) + 'px);}',
                '.absol-hscroller-viewport{ margin-bottom: ' + (-size.height) + 'px; min-height: calc(100% + ' + (size.height) + 'px);}'
            ].join('\n');
        });
        return element;
    }
)();

function VScroller() {
    var thisVS = this;
    this.$attachHook = Scroller_$('attachhook', this);
    this.sync = new Promise(function (rs) {
        thisVS.$attachHook.once('error', function () {
            rs();
        });
    });

    this.$attachHook.on('error', function () {
        thisVS.requestUpdateSize();
    });
    this.$vscrollbar = Scroller_$('vscrollbar', this).on('scroll', this.eventHandler.scrollScrollbar);
    this.$viewport = Scroller_$('.absol-vscroller-viewport', this)
        .on('scroll', this.eventHandler.scrollViewport);
    OOP["a" /* default */].extends(thisVS.$viewport, {
        removeChild: function () {
            this.super.apply(this, arguments);
            thisVS.requestUpdateSize();
            return thisVS;
        }
    })
}

VScroller.tag = 'vscroller';
VScroller.render = function () {
    return Scroller_({
        class: 'absol-vscroller',
        child: ['.absol-vscroller-viewport',
            {
                class: ['absol-scrollbar-container', 'vertical'],
                child: 'vscrollbar'
            },
            'attachhook'
        ]
    });
};


VScroller.prototype.requestUpdateSize = function () {
    // return;
    if (this._isRequestingUpdateSize) return this.sync;
    this._isRequestingUpdateSize = true;
    this.sync = this.sync.then(function () {
        this.$vscrollbar.outerHeight = this.$viewport.clientHeight;
        this.$vscrollbar.innerHeight = this.$viewport.scrollHeight - 2;
        this.$vscrollbar.innerOffset = this.$viewport.scrollTop;
        if (this.$vscrollbar.innerHeight <= this.$vscrollbar.outerHeight) {
            this.$vscrollbar.hidden = true;
            this.addClass('disabled');
        }
        else {
            this.removeClass('disabled');
            this.$vscrollbar.hidden = false;
        }
        this._isRequestingUpdateSize = false;
    }.bind(this));
    return this.sync;
};

VScroller.prototype.init = function (props) {
    this.super(props);
    this.requestUpdateSize();
};

VScroller.prototype.addChild = function () {
    var res = this.$viewport.addChild.apply(this.$viewport, arguments);
    this.requestUpdateSize();
    return res;
};

VScroller.prototype.clearChild = function () {
    var res = this.$viewport.clearChild.apply(this.$viewport, arguments);
    this.requestUpdateSize();
    return res;

};

VScroller.prototype.addChildBefore = function () {
    var res = this.$viewport.addChildBefore.apply(this.$viewport, arguments);
    this.requestUpdateSize();
    return res;
};

VScroller.prototype.addChildAfter = function () {
    var res = this.$viewport.addChildAfter.apply(this.$viewport, arguments);
    this.requestUpdateSize();
    return res;
};

VScroller.prototype.findChildAfter = function () {
    return this.$viewport.findChildAfter.apply(this.$viewport, arguments);
};

VScroller.prototype.findChildBefore = function () {
    return this.$viewport.findChildBefore.apply(this.$viewport, arguments);
};

VScroller.prototype.removeChild = function () {
    var res = this.$viewport.removeChild.apply(this.$viewport, arguments);
    this.requestUpdateSize();
    return res;
};

VScroller.prototype.scrollInto = function (element, padding, scrollTime, beforFrame, afterFrame) {
    padding = padding || 0;
    scrollTime = scrollTime || 0;
    var frameCount = Math.ceil(scrollTime / 15 + 1);
    var self = this;

    function onFrame() {
        beforFrame && beforFrame();
        var elementBound = element.getBoundingClientRect();
        var viewportBound = self.$viewport.getBoundingClientRect();
        var currentScrollTop = self.$viewport.scrollTop;
        var newScrollTop = currentScrollTop;
        if (elementBound.bottom + padding > viewportBound.bottom) {
            newScrollTop = currentScrollTop + ((elementBound.bottom + padding) - viewportBound.bottom) / (Math.log(frameCount) + 1);
        }
        if (elementBound.top - padding < viewportBound.top) {
            newScrollTop = currentScrollTop - (viewportBound.top - (elementBound.top - padding)) / (Math.log(frameCount) + 1);
        }

        if (newScrollTop != currentScrollTop) {
            self.$viewport.scrollTop = newScrollTop;
        }
        afterFrame && afterFrame();
        frameCount--;
        if (frameCount > 0) setTimeout(onFrame, 15)
    }

    if (Element["a" /* default */].prototype.isDescendantOf.call(element, this.$viewport)) {
        onFrame();
    }
};


VScroller.prototype.scrollBy = function (dy, duration) {
    duration = duration || 0;
    var frameCount = Math.ceil(duration / 20);
    var timeOut = duration / frameCount;
    var i = 0;
    var self = this;
    var start = self.$viewport.scrollTop;
    var end = start + dy;

    function onFrame() {
        self.$viewport.scrollTop = Math.max(int_map(i, 0, frameCount, start, end), 0);
        ++i;
        if (i <= frameCount)
            setTimeout(onFrame, timeOut);
    }

    onFrame();
};


VScroller.eventHandler = {};

VScroller.eventHandler.scrollViewport = function (event) {
    this.$vscrollbar.outerHeight = this.$viewport.clientHeight;
    this.$vscrollbar.innerHeight = this.$viewport.scrollHeight;
    this.$vscrollbar.innerOffset = this.$viewport.scrollTop;
};

VScroller.eventHandler.scrollScrollbar = function (event) {
    this.$viewport.scrollTop = this.$vscrollbar.innerOffset;
};


function HScroller() {
    var thisHS = this;
    this.$attachHook = Scroller_$('attachhook', this)
        .on('error', function () {
            this.requestUpdateSize = this.requestUpdateSize || thisHS.requestUpdateSize.bind(thisHS);
            HTML5_Dom["a" /* default */].addToResizeSystem(this);
        });

    this.sync = new Promise(function (rs, rj) {
        thisHS.$attachHook.once('error', rs);
    });
    this.$hscrollbar = Scroller_$('hscrollbar', this).on('scroll', this.eventHandler.scrollScrollbar);
    this.$viewport = Scroller_$('.absol-hscroller-viewport', this)
        .on('scroll', this.eventHandler.scrollViewport);
    OOP["a" /* default */].extends(this.$viewport, {
        removeChild: function () {
            this.super.apply(this, arguments);
            thisHS.requestUpdateSize();
            return thisHS;
        }
    });
}


HScroller.tag = 'hscroller';

HScroller.render = function () {
    return Scroller_({
        class: 'absol-hscroller',
        child: ['.absol-hscroller-viewport',
            {
                class: ['absol-scrollbar-container', 'horizontal'],
                child: 'hscrollbar'
            },
            'attachhook'
        ]
    });
};

HScroller.eventHandler = {};

HScroller.eventHandler.scrollViewport = function (event) {
    this.$hscrollbar.outerWidth = this.$viewport.clientWidth;
    this.$hscrollbar.innerWidth = this.$viewport.scrollWidth;
    this.$hscrollbar.innerOffset = this.$viewport.scrollLeft;
};

HScroller.eventHandler.scrollScrollbar = function (event) {
    this.$viewport.scrollLeft = this.$hscrollbar.innerOffset;
};


Object.assign(HScroller.prototype, VScroller.prototype);

HScroller.prototype.requestUpdateSize = function () {
    // return;
    if (this._isRequestingUpdateSize) return this.sync;
    this._isRequestingUpdateSize = true;
    this.sync = this.sync.then(function () {
        this.$hscrollbar.outerWidth = this.$viewport.clientWidth;
        this.$hscrollbar.innerWidth = this.$viewport.scrollWidth;
        this.$hscrollbar.innerOffset = this.$viewport.scrollLeft;
        if (this.$hscrollbar.innerWidth <= this.$hscrollbar.outerWidth) {
            this.$hscrollbar.hidden = true;
            this.addClass('disabled');
        }
        else {
            this.removeClass('disabled');
            this.$hscrollbar.hidden = false;
        }
        this._isRequestingUpdateSize = false;
    }.bind(this));
    return this.sync;
};

HScroller.prototype.scrollInto = function (element) {
    if (Element["a" /* default */].prototype.isDescendantOf.call(element, this.$viewport)) {
        var elementBound = element.getBoundingClientRect();
        var viewportBound = this.$viewport.getBoundingClientRect();
        var currentScrollLeft = this.$viewport.scrollLeft;
        var newScrollLeft = currentScrollLeft;
        if (elementBound.right > viewportBound.right) {
            newScrollLeft = currentScrollLeft + (elementBound.right - viewportBound.right);
        }
        if (elementBound.left < viewportBound.left) {
            newScrollLeft = currentScrollLeft - (viewportBound.left - elementBound.left);
        }

        if (newScrollLeft != currentScrollLeft) {
            this.$viewport.scrollLeft = newScrollLeft;
        }
    }
}


function Scrollbar() {
    var thisSB = this;
    this.$button = Scroller_$('.absol-scrollbar-button', this);
    this.on('active', function () {
        if (!thisSB.$forceModal) thisSB.$forceModal = Scroller_('.absol-scrollbar-force-modal');
        thisSB.$forceModal.addTo(document.body);
    }).on('deactive', function () {
        setTimeout(function () {
            thisSB.$forceModal.remove();
        }, 30);
    });
}

Scrollbar.tag = 'scrollbar';

Scrollbar.render = function () {
    return Scroller_({
        class: ['absol-scrollbar'],
        extendEvent: ['scroll', 'active', 'deactive'],
        child: '.absol-scrollbar-button'
    });
};

Scrollbar.property = {};
Scrollbar.property.hidden = {
    set: function (value) {
        value = !!value;
        if (value != this._hidden) {
            this._hidden = value;
            if (value)
                this.addClass('absol-hidden');
            else
                this.removeClass('absol-hidden');
        }
    },
    get: function () {
        return this.containsClass('absol-hidden')
    }
};


function VScrollbar() {
    var thisVS = this;
    var top0, innerOffset0;
    var pointerMoveEventHandler = function (event) {
        event.preventDefault();
        var dy = event.clientY - top0;
        var newInnerOffset = innerOffset0 + dy * (thisVS.innerHeight / thisVS.outerHeight) * (thisVS.outerHeight / thisVS.getBoundingClientRect().height);
        if (newInnerOffset + thisVS.outerHeight > thisVS.innerHeight)
            newInnerOffset = thisVS.innerHeight - thisVS.outerHeight;
        if (newInnerOffset < 0) newInnerOffset = 0;
        thisVS.innerOffset = newInnerOffset;
        //todo
        event.innerOffset = newInnerOffset;
        thisVS.emit('scroll', event);
    };

    var finishEventHandler = function (event) {
        var body = Scroller_$(document.body);
        body.off('pointerleave', finishEventHandler);
        body.off('pointerup', finishEventHandler);
        body.off('pointermove', pointerMoveEventHandler);
        thisVS.removeClass('absol-active');
        thisVS.emit('deactive', { type: 'deactive', originEvent: event, tagert: thisVS });
    };

    var pointerDownEventHandler = function (event) {
        var boundRes = thisVS.getBoundingClientRect();
        var boundButton = thisVS.$button.getBoundingClientRect();
        top0 = event.clientY;
        if (event.target == thisVS.$button) {
            innerOffset0 = thisVS.innerOffset;
        }
        else {
            var newInnerOffset = int_map(top0 - boundButton.height / 2 - boundRes.top, 0, boundRes.height, 0, thisVS.innerHeight);
            if (newInnerOffset + thisVS.outerHeight > thisVS.innerHeight)
                newInnerOffset = thisVS.innerHeight - thisVS.outerHeight;
            if (newInnerOffset < 0) newInnerOffset = 0;
            thisVS.innerOffset = newInnerOffset;
            //todo
            event.innerOffset = newInnerOffset;
            innerOffset0 = newInnerOffset;
            thisVS.emit('scroll', event);
        }
        var body = Scroller_$(document.body);
        body.on('pointerleave', finishEventHandler);
        body.on('pointerup', finishEventHandler);
        body.on('pointermove', pointerMoveEventHandler);
        thisVS.addClass('absol-active');
        thisVS.emit('active', { type: 'active', originEvent: event, tagert: thisVS });
    };

    this.on('pointerdown', pointerDownEventHandler, true);
}

VScrollbar.tag = 'vscrollbar';
VScrollbar.render = function () {
    return Scroller_({
        tag: 'scrollbar',
        class: 'absol-vscrollbar'
    }, true);
};


VScrollbar.prototype.updateValue = function () {
    this.$button.addStyle('height', Math.min(this.outerHeight / this.innerHeight, 1) * 100 + '%');
    this.$button.addStyle('top', this.innerOffset / this.innerHeight * 100 + '%');
};


VScrollbar.property = {
    innerOffset: {
        set: function (value) {
            value = value || 0;
            if (this._innerOffset != value) {
                this._innerOffset = value;
                this.updateValue();
            }
        },
        get: function () {
            return this._innerOffset || 0;
        }
    },

    innerHeight: {
        set: function (value) {
            value = value || 1;
            value = Math.max(value, 1);
            if (this._innerHeight != value) {
                this._innerHeight = value;
                this.updateValue();
            }
        },
        get: function () {
            return this._innerHeight || 1;
        }
    },
    outerHeight: {
        set: function (value) {
            value = value || 0;
            value = Math.max(value, 0);
            if (this._outerHeight != value) {
                this._outerHeight = value;
                this.updateValue();
            }
        },
        get: function () {
            return this._outerHeight || 0;
        }
    }
};


function HScrollbar() {
    var thisHS = this;

    var left0, innerOffset0;
    var pointerMoveEventHandler = function (event) {
        event.preventDefault();
        var dy = event.clientX - left0;
        var newInnerOffset = innerOffset0 + dy * (thisHS.innerWidth / thisHS.outerWidth) * (thisHS.outerWidth / thisHS.getBoundingClientRect().width);
        if (newInnerOffset + thisHS.outerWidth > thisHS.innerWidth)
            newInnerOffset = thisHS.innerWidth - thisHS.outerWidth;
        if (newInnerOffset < 0) newInnerOffset = 0;
        thisHS.innerOffset = newInnerOffset;
        //todo
        event.innerOffset = newInnerOffset;
        thisHS.emit('scroll', event);
    };

    var finishEventHandler = function (event) {
        var body = Scroller_$(document.body);
        body.off('pointerleave', finishEventHandler);
        body.off('pointerup', finishEventHandler);
        body.off('pointermove', pointerMoveEventHandler);
        thisHS.removeClass('absol-active');
        thisHS.emit('deactive', { type: 'deactive', originEvent: event, tagert: thisHS });
    };

    var pointerDownEventHandler = function (event) {
        var boundRes = thisHS.getBoundingClientRect();
        var boundButton = thisHS.$button.getBoundingClientRect();
        left0 = event.clientX;
        if (event.target == thisHS.$button) {
            innerOffset0 = thisHS.innerOffset;
        }
        else {
            var newInnerOffset = int_map(left0 - boundButton.width / 2 - boundRes.left, 0, boundRes.width, 0, thisHS.innerWidth);
            if (newInnerOffset + thisHS.outerWidth > thisHS.innerWidth)
                newInnerOffset = thisHS.innerWidth - thisHS.outerWidth;
            if (newInnerOffset < 0) newInnerOffset = 0;
            thisHS.innerOffset = newInnerOffset;
            //todo
            event.innerOffset = newInnerOffset;
            innerOffset0 = newInnerOffset;
            thisHS.emit('scroll', event);
        }
        var body = Scroller_$(document.body);
        body.on('pointerleave', finishEventHandler);
        body.on('pointerup', finishEventHandler);
        body.on('pointermove', pointerMoveEventHandler);
        thisHS.addClass('absol-active');
        thisHS.emit('active', { type: 'deactive', originEvent: event, tagert: thisHS });
    };

    this.on('pointerdown', pointerDownEventHandler, true);
}

HScrollbar.tag = 'hscrollbar';

HScrollbar.render = function () {
    return Scroller_({
        tag: 'scrollbar',
        class: 'absol-hscrollbar'
    }, true);
}

HScrollbar.prototype.updateValue = function () {
    this.$button.addStyle('width', Math.min(this.outerWidth / this.innerWidth, 1) * 100 + '%');
    this.$button.addStyle('left', this.innerOffset / this.innerWidth * 100 + '%');
};


HScrollbar.property = {
    innerOffset: {
        set: function (value) {
            value = value || 0;
            if (this._innerOffset != value) {
                this._innerOffset = value;
                this.updateValue();
            }
        },
        get: function () {
            return this._innerOffset || 0;
        }
    },

    innerWidth: {
        set: function (value) {
            value = value || 1;
            value = Math.max(value, 1);
            if (this._innerWidth != value) {
                this._innerWidth = value;
                this.updateValue();
            }
        },
        get: function () {
            return this._innerWidth || 1;
        }
    },
    outerWidth: {
        set: function (value) {
            value = value || 0;
            value = Math.max(value, 0);
            if (this._outerWidth != value) {
                this._outerWidth = value;
                this.updateValue();
            }
        },
        get: function () {
            return this._outerWidth || 0;
        }
    }
};

ACore["a" /* default */].install([VScrollbar, HScrollbar, Scrollbar, VScroller, HScroller]);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/ChromeCalendar.js









var ChromeCalendar_ = ACore["a" /* default */]._;
var ChromeCalendar_$ = ACore["a" /* default */].$;

/**
 * @extends AElement
 * @constructor
 */
function ChromeCalendar() {
    var thisCal = this;
    this.$years = ChromeCalendar_$('.absol-chrome-calendar-years', this);
    ChromeCalendar_({
        child: Array(200).fill(0).map(function (u, i) {
            return {
                class: 'absol-chrome-calendar-year',
                child: [
                    {
                        class: 'absol-chrome-calendar-year-head',
                        child: { text: i + 1890 + '' },
                    }
                ],
                props: {
                    __year__: i + 1890
                },
                on: {
                    click: function () {

                        thisCal.expandYear(this.__year__);
                    }
                }
            };
        })
    }).addTo(this.$years);
    this.$title = ChromeCalendar_$('.absol-chrome-calendar-title', this)
        .on('click', function () {
            thisCal.viewYear();
        });
    this.$titleTime = ChromeCalendar_$('.absol-chrome-calendar-title > .title-time', this);

    this.$instance = ChromeCalendar_$('.absol-chrome-calendar-instance', this);

    this.$month = ChromeCalendar_$('.absol-chrome-calendar-month', this);
    this._minLimitDate = new Date(1890, 0, 1, 0, 0, 0, 0, 0);
    this._maxLimitDate = new Date(2090, 0, 1, 0, 0, 0, 0, 0);

    this._selectedDates = [beginOfDay(new Date())];
    this._viewDate = new Date();

    this.$prevBtn = ChromeCalendar_$('.absol-chrome-calendar-header-buttons > button.prev-btn', this)
        .on('click', function () {
            thisCal.viewPrevMonth();
        });
    this.$todayBtn = ChromeCalendar_$('.absol-chrome-calendar-header-buttons > button.today-btn', this)
        .on('click', function () {
            thisCal.viewToday();
            thisCal.pickDate(new Date());
        });
    this.$nextBtn = ChromeCalendar_$('.absol-chrome-calendar-header-buttons > button.next-btn', this)
        .on('click', function () {
            thisCal.viewNexMounth();
        });

    /***
     *
     * @type {VScroller}
     */
    this.$yearScroller = ChromeCalendar_$('vscroller.absol-chrome-calendar-years', this);
    this.$yearItems = [];

    ChromeCalendar_$('.absol-chrome-calendar-year', this.$yearScroller, function (e) {
        thisCal.$yearItems.push(e);
    });

    this.$attachHook = ChromeCalendar_('attachhook').addTo(this)
        .on('error', function () {
            thisCal.$yearScroller.requestUpdateSize();
            thisCal.expandYear(thisCal._viewDate.getFullYear());
        });

    this.sync = new Promise(function (rs) {
        thisCal.$attachHook.on('error', rs);
    });

    return this;
}


ChromeCalendar.tag = 'ChromeCalendar'.toLowerCase();
ChromeCalendar.render = function () {
    return ChromeCalendar_({
        class: 'absol-chrome-calendar',
        extendEvent: 'pick',
        child: [
            {
                class: 'absol-chrome-calendar-header',
                child: [
                    {
                        class: 'absol-chrome-calendar-title',
                        child: [
                            {
                                tag: 'span',
                                class: 'title-time',
                                child: { text: 'Septemper, 2019' }
                            },
                            {
                                tag: 'span',
                                child: { text: '\u25bc' }
                            }
                        ]
                    },
                    {
                        class: 'absol-chrome-calendar-header-buttons',
                        child: [
                            {
                                tag: 'button',
                                class: 'prev-btn',
                                child: 'span.mdi.mdi-menu-left',
                                attr: {
                                    title: 'Previous Month'
                                }
                            },
                            {
                                tag: 'button',
                                class: 'today-btn',
                                child: 'span.mdi.mdi-circle-medium',
                                attr: {
                                    title: 'Today'
                                }
                            },
                            {
                                tag: 'button',
                                class: 'next-btn',
                                child: 'span.mdi.mdi-menu-right',
                                attr: {
                                    title: 'Next Month'
                                }
                            }
                        ]

                    }
                ]
            },
            {
                class: 'absol-chrome-calendar-instance',
                child: [
                    {
                        class: 'absol-chrome-calendar-dayofweek',
                        child: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'].map(function (text) {
                            return {
                                child: { text: text }
                            }
                        })
                    },
                    {

                        class: 'absol-chrome-calendar-month',
                        child: Array(6).fill(0).map(function (u, i) {
                            return {
                                class: 'absol-chrome-calendar-week-in-mounth',
                                child: Array(7).fill(0).map(function (v, j) {
                                    return {
                                        child: { text: i * 7 + j + '' }
                                    }
                                })
                            }
                        })

                    },
                    {
                        tag: 'vscroller',
                        class: 'absol-chrome-calendar-years',
                        child: {}
                    }
                ]
            }
        ]
    });

}


/**
 * @param {Date} date
 * @returns {Boolean}
 */
ChromeCalendar.prototype._isSelectedDate = function (date) {
    for (var i = 0; i < this._selectedDates.length; ++i) {
        if (compareDate(date, this._selectedDates[i]) == 0) return true;
    }
    return false;
};
/**
 * @param {Date} date
 * @returns {Boolean}
 */
ChromeCalendar.prototype._isSelectedMonth = function (date) {
    for (var i = 0; i < this._selectedDates.length; ++i) {
        if (compareMonth(date, this._selectedDates[i]) == 0) return true;
    }
    return false;
};


ChromeCalendar.prototype.pickDate = function (date, event) {
    this._selectedDates = [date];
    this._updateMonth(this.$month);
    if (this.$lastOpenYearItem) this.$lastOpenYearItem.$months.updateActiveMonth();


    this.emit('pick', {
        type: 'pick', value: date,
        isTrusted: event && event.isTrusted,
        originEvent: event,
        selectedDates: this.selectedDates
    });
};

/**
 * @param {Element} monthElt
 * @param {Date} date
 */
ChromeCalendar.prototype._fillMonth = function (monthElt, date) {
    var self = this;
    if (monthElt.$cells === undefined) {//for faster, attach event to element 
        monthElt.$cells = [];
        ChromeCalendar_$('.absol-chrome-calendar-week-in-mounth > div', this.$month, function (elt) {
            monthElt.$cells.push(elt);
            elt.on('click', function (event) {
                self.pickDate(this.__date__, event);
                if (elt.containsClass('absol-chrome-calendar-not-in-month')) {
                    if (this.__date__.getDate() < 15) {
                        self.viewNexMounth();
                    }
                    else {
                        self.viewPrevMonth();
                    }
                }
            });
        });
    }

    var currentDate = beginOfWeek(datetime_beginOfMonth(date));
    var d;
    var cell;
    for (var i = 0; i < monthElt.$cells.length; ++i) {
        var cell = monthElt.$cells[i];
        d = currentDate.getDate();
        cell.innerHTML = '' + d;
        cell.__date__ = beginOfDay(currentDate);
        currentDate = nextDate(currentDate);
    }
};

ChromeCalendar.prototype._updateMonth = function (monthElt) {
    if (!monthElt.$cells) return; // days weren't filled
    var now = new Date();
    var viewM = this._viewDate.getMonth();
    var m;
    var cell;
    var currentDate;
    for (var i = 0; i < monthElt.$cells.length; ++i) {
        cell = monthElt.$cells[i];
        currentDate = cell.__date__;
        m = currentDate.getMonth();
        if (m != viewM)
            cell.addClass('absol-chrome-calendar-not-in-month');
        else
            cell.removeClass('absol-chrome-calendar-not-in-month');
        if (compareDate(currentDate, now) == 0)
            cell.addClass('absol-chrome-calendar-today');
        else
            cell.removeClass('absol-chrome-calendar-today');

        if (this._isSelectedDate(currentDate))
            cell.addClass('absol-chrome-calendar-selected');
        else
            cell.removeClass('absol-chrome-calendar-selected');

        if (compareDate(this._minLimitDate, currentDate) > 0 || compareDate(currentDate, this._maxLimitDate) > 0) {
            cell.addClass('absol-chrome-calendar-date-disabled');
        }
        else {
            cell.removeClass('absol-chrome-calendar-date-disabled');
        }
    }
};

ChromeCalendar.prototype.viewNexMounth = function () {
    var self = this;
    this.sync = this.sync.then(function () {
        return new Promise(function (rs) {
            var oldBound = self.$month.getBoundingClientRect();
            var oldMonth = self.$month.cloneNode(true);
            var instanceBound = self.$instance.getBoundingClientRect();
            if (self.$lastAnimationCtn) {
                self.$lastAnimationCtn.removeClass('new').addClass('old');
            }
            var oldMonthCnt = ChromeCalendar_({
                class: ['absol-chrome-calendar-month-animation-container', 'old'],
                style: {
                    top: oldBound.top - instanceBound.top + 'px',
                    height: oldBound.height + 'px',
                    width: oldBound.width + 'px'
                },
                child: oldMonth
            }).addTo(self.$instance);

            self._viewDate = nextMonth(self._viewDate);
            self.viewMonth();

            var newMonth = self.$month.cloneNode(true);
            var overlap = 0;
            var j = 41;
            while (j >= 0 && self.$month.$cells[j].containsClass('absol-chrome-calendar-not-in-month')) {
                overlap += oldBound.height / 6;
                j -= 7;
            }

            var newMonthCtn = ChromeCalendar_({
                class: ['absol-chrome-calendar-month-animation-container', 'new'],
                style: {
                    top: oldBound.top + oldBound.height - instanceBound.top - overlap + 'px',
                    height: oldBound.height + 'px',
                    width: oldBound.width + 'px'
                },
                child: newMonth
            }).addTo(self.$instance);

            self.$lastAnimationCtn = newMonthCtn;
            setTimeout(function () {
                oldMonthCnt.addStyle('top', oldBound.top - oldBound.height + overlap - instanceBound.top + 'px');
                newMonthCtn.addStyle('top', oldBound.top - instanceBound.top + 'px');
            }, 20);
            setTimeout(function () {
                self.$lastAnimationCtn = undefined;
                oldMonthCnt.remove();
                newMonthCtn.remove();
            }, 220);
            setTimeout(rs, 22);
        });
    });
    return this.sync;
};

ChromeCalendar.prototype.viewPrevMonth = function () {
    var self = this;
    this.sync = this.sync.then(function () {
        return new Promise(function (rs) {
            var oldBound = self.$month.getBoundingClientRect();
            var oldMonth = self.$month.cloneNode(true);
            var instanceBound = self.$instance.getBoundingClientRect();
            if (self.$lastAnimationCtn) {
                self.$lastAnimationCtn.removeClass('new').addClass('old');
            }
            var oldMonthCnt = ChromeCalendar_({
                class: ['absol-chrome-calendar-month-animation-container', 'old'],
                style: {
                    top: oldBound.top - instanceBound.top + 'px',
                    height: oldBound.height + 'px',
                    width: oldBound.width + 'px'
                },
                child: oldMonth
            }).addTo(self.$instance);
            self._viewDate = prevMonth(self._viewDate);
            self.viewMonth();
            var newMonth = self.$month.cloneNode(true);
            var overlap = 0;
            var j = 0;
            while (j < 42 && self.$month.$cells[j].containsClass('absol-chrome-calendar-not-in-month')) {
                overlap += oldBound.height / 6;
                j += 7;
            }

            var newMonthCtn = ChromeCalendar_({
                class: ['absol-chrome-calendar-month-animation-container', 'new'],
                style: {
                    top: oldBound.top - oldBound.height + overlap - instanceBound.top + 'px',
                    height: oldBound.height + 'px',
                    width: oldBound.width + 'px'
                },
                child: newMonth
            }).addTo(self.$instance);

            self.$lastAnimationCtn = newMonthCtn;
            setTimeout(function () {
                oldMonthCnt.addStyle('top', oldBound.top + oldBound.height - overlap - instanceBound.top + 'px');
                newMonthCtn.addStyle('top', oldBound.top - instanceBound.top + 'px');
            }, 20);
            setTimeout(function () {
                self.$lastAnimationCtn = undefined;
                oldMonthCnt.remove();
                newMonthCtn.remove();
            }, 220);
            setTimeout(rs, 22);
        })
    });
    return this.sync;
};


ChromeCalendar.prototype.viewToday = function () {
    this._viewDate = new Date();
    this.viewMonth();
};

ChromeCalendar.prototype.viewMonth = function () {
    this._updateButtons();
    this.removeClass('view-year').addClass('view-month');
    this._fillMonth(this.$month, this._viewDate);
    this._updateMonth(this.$month);
    this.$titleTime.innerHTML = formartDateString(this._viewDate, 'mmmm, yyyy');
};


ChromeCalendar.prototype.viewYear = function () {
    this.removeClass('view-month')
        .addClass('view-year');
    this.expandYear(this._viewDate.getFullYear());
    this.$yearScroller.requestUpdateSize();
};

ChromeCalendar.prototype.expandYear = function (year) {
    var fontSize = this.getFontSize();

    var self = this;
    var lastItemElt = this.$lastOpenYearItem;

    var itemElt = this.$yearItems[year - 1890];
    var lastYear = 100000000;
    if (lastItemElt && lastItemElt.__year__ != year) {
        lastYear = lastItemElt.__year__;
        lastItemElt.addClass('start-closing');
        setTimeout(function () {
            lastItemElt.removeClass('start-closing').addClass('closing');
        }, 0);
        setTimeout(function () {
            lastItemElt.removeClass('closing');
            lastItemElt.$months.remove();
            lastItemElt.$months = undefined;
        }, 100);
    }

    if (lastItemElt != itemElt) {
        if (!itemElt.$months) {
            itemElt.$months = this._createMonths(year).addTo(itemElt);
            itemElt.addClass('start-opening');

            setTimeout(function () {
                itemElt.removeClass('start-opening').addClass('opening');
            }, 1);
            setTimeout(function () {
                itemElt.removeClass('opening');
            }, 100);
        }
    }
    var dy = itemElt.getBoundingClientRect().top - self.$yearScroller.getBoundingClientRect().top - fontSize * 0.45;
    if (itemElt.__year__ > lastYear) {
        dy -= 6 * fontSize;
    }

    self.$yearScroller.scrollBy(dy, 100);
    this.$lastOpenYearItem = itemElt;
    itemElt.$months.updateActiveMonth();

};


ChromeCalendar.prototype._updateButtons = function () {
    var endOfPrevMonth = prevDate(datetime_beginOfMonth(this._viewDate));

    if (compareDate(endOfPrevMonth, this._minLimitDate) < 0) {
        this.$prevBtn.addClass('absol-chrome-calendar-button-disabled');
    }
    else {
        this.$prevBtn.removeClass('absol-chrome-calendar-button-disabled');
    }

    var beginOfNextMonth = nextMonth(this._viewDate);

    if (compareDate(beginOfNextMonth, this._maxLimitDate) > 0) {
        this.$nextBtn.addClass('absol-chrome-calendar-button-disabled');
    }
    else {
        this.$nextBtn.removeClass('absol-chrome-calendar-button-disabled');
    }
    var now = new Date();
    if (compareDate(now, this._maxLimitDate) > 0 || compareDate(now, this._minLimitDate) < 0) {
        this.$todayBtn.addClass('absol-chrome-calendar-button-disabled');
    }
    else {
        this.$todayBtn.removeClass('absol-chrome-calendar-button-disabled');
    }
};

ChromeCalendar.prototype._createMonths = function (year) {
    var now = new Date();
    var self = this;
    var res = ChromeCalendar_({
        class: 'absol-chrome-calendar-year-mounths',
        child: Array(3).fill('').map(function (u, i) {
            return {
                class: 'absol-chrome-calendar-year-row-months',
                child: Array(4).fill(0).map(function (v, j) {
                    var date = new Date(year, i * 4 + j, 1, 0, 0, 0, 0, 0);
                    return {
                        class: ['absol-chrome-calendar-year-month']
                            .concat((year == now.getFullYear() && now.getMonth() == i * 4 + j) ? ['absol-chrome-calendar-today'] : [])
                            .concat(self._isSelectedMonth(date) ? ['absol-chrome-calendar-selected'] : [])
                        ,
                        child: { text: monthNames[i * 4 + j].substr(0, 3) },
                        on: {
                            click: function () {
                                self._viewDate = date;
                                self.viewMonth();
                            }
                        },
                        props: {
                            __date__: date
                        }
                    }
                })
            }
        })
    });
    res.$monthList = [];
    ChromeCalendar_$('.absol-chrome-calendar-year-month', res, function (e) {
        res.$monthList.push(e);
    });

    res.updateActiveMonth = function () {
        res.$monthList.forEach(function (e) {
            now = new Date();
            if (compareMonth(e.__date__, now) == 0) {
                e.addClass('absol-chrome-calendar-today');
            }
            else {
                e.removeClass('absol-chrome-calendar-today');
            }

            if (self._isSelectedMonth(e.__date__)) {
                e.addClass('absol-chrome-calendar-selected');
            }
            else {
                e.removeClass('absol-chrome-calendar-selected');

            }
            var beginOfMonth = datetime_beginOfMonth(e.__date__);
            var endOfMonth = prevDate(nextMonth(e.__date__));
            if (compareDate(self._minLimitDate, endOfMonth) > 0 || compareDate(beginOfMonth, self._maxLimitDate) > 0) {
                e.addClass('absol-chrome-calendar-date-disabled');
            }
            else {
                e.removeClass('absol-chrome-calendar-date-disabled');
            }
        });
    }
    return res;
};


ChromeCalendar.prototype.init = function (props) {
    props = props || {};
    this.super(props);
    this.viewToday();
};

ChromeCalendar.property = {};

ChromeCalendar.property.selectedDates = {
    set: function (value) {
        value = value || [];
        if (value instanceof Date) value = [value];
        this._selectedDates = value;
        this.sync = this.sync.then(function () {
            this._viewDate = this._selectedDates[0] || new Date();//default is today
            this.viewMonth();
        }.bind(this));
    },
    get: function () {
        return this._selectedDates;
    }
};


ChromeCalendar.property.minLimitDate = {
    set: function (value) {
        if (!value) value = new Date(1890, 0, 1, 0, 0, 0, 0, 0);
        if (typeof value == 'number') value = new Date(value);
        this._minLimitDate = value;
        //todo
        this._updateButtons();
        this.sync = this.sync.then(function () {
            this._updateMonth(this.$month);
            if (this.$lastOpenYearItem) {
                this.$lastOpenYearItem.$months.updateActiveMonth();
            }
        }.bind(this));
    },
    get: function () {
        return this._minLimitDate;
    }
};

ChromeCalendar.property.maxLimitDate = {
    set: function (value) {
        if (!value) value = new Date(2090, 0, 1, 0, 0, 0, 0, 0);
        if (typeof value == 'number') value = new Date(value);
        this._maxLimitDate = value;
        this._updateButtons();
        this.sync = this.sync.then(function () {
            this._updateMonth(this.$month);
            if (this.$lastOpenYearItem) {
                this.$lastOpenYearItem.$months.updateActiveMonth();
            }
        }.bind(this));
    },
    get: function () {
        return this._minLimitDate;
    }
};


ChromeCalendar.property.minDateLimit = ChromeCalendar.property.minLimitDate;
ChromeCalendar.property.maxDateLimit = ChromeCalendar.property.maxLimitDate;


ChromeCalendar.property.multiSelect = {
    set: function (value) {
        throw new Error('Not support yet!')
        var lastValue = this.multiSelect;
        value = !!value;
        if (lastValue != value) {
            if (value) {
                this.addClass('multi-select')
            }
            else {
                this.removeClass('multi-select');
            }
            this._updateMonth(this.$month);
        }
    },
    get: function () {
        return this.containsClass('multi-select');
    }
};

ACore["a" /* default */].install(ChromeCalendar);


ChromeCalendar._session = Math.random() * 10000000000 >> 0;
ChromeCalendar._listener = undefined;


ChromeCalendar.showWhenClick = function (element, calendarProps, anchor, calendarPickListener, darkTheme) {
    var res = {
        calendarProps: Object.assign({ maxDateLimit: null, minDateLimit: null }, calendarProps),
        anchor: anchor,
        currentSession: undefined,
        element: element,
        calendarPickListener: calendarPickListener,
        darkTheme: darkTheme,
        setDateValue: function (value) {
            if (this.currentSession == ChromeCalendar._session) {
                ChromeCalendar.$calendar.selectedDates = [value];
            }
        },
        cancel: function () {
        }
    };

    var clickHandler = function () {

        if (ChromeCalendar._session == res.currentSession) return;

        res.currentSession = ChromeCalendar.show(res.element, res.calendarProps, res.anchor, res.calendarPickListener, res.darkTheme);

        var finish = function (event) {
            if (event && event.target && EventEmitter["b" /* default */].hitElement(ChromeCalendar.$calendar, event)) return;
            document.body.removeEventListener('click', finish, false);
            ChromeCalendar.close(res.currentSession);
            ChromeCalendar.$calendar.off('pick', finish);

            res.currentSession = undefined;
            res.cancel = function () {
            };
        };

        setTimeout(function () {
            document.body.addEventListener('click', finish, false);
            ChromeCalendar.$calendar.on('pick', finish);
            res.cancel = finish;
        }, 10)
    };

    res.remove = function () {
        element.removeEventListener('click', clickHandler, false);
    };

    element.addEventListener('click', clickHandler, false);
    return res;
};


ChromeCalendar.show = function (element, calendarProps, anchor, calendarPickListener, darkTheme) {
    ChromeCalendar._session = Math.random() * 10000000000 >> 0;

    function exec() {
        if (!ChromeCalendar.$ctn) {
            ChromeCalendar.$ctn = ChromeCalendar_('.absol-context-hinge-fixed-container');
            ChromeCalendar.$follower = ChromeCalendar_('follower').addTo(ChromeCalendar.$ctn);

            ChromeCalendar.$calendar = ChromeCalendar_('chromecalendar')
                .on('pick', function (event) {
                    if (typeof ChromeCalendar._listener == 'function') {
                        ChromeCalendar._listener(event.value);
                    }
                }).addTo(ChromeCalendar.$follower);
        }

        ChromeCalendar.$ctn.addTo(document.body);
        // only one value need
        if (calendarProps instanceof Date) calendarProps = { selectedDates: [calendarProps] };
        if (calendarProps instanceof Array) calendarProps = { selectedDates: calendarProps };

        Object.assign(ChromeCalendar.$calendar, calendarProps);
        if (darkTheme) ChromeCalendar.$ctn.addClass('dark');
        else ChromeCalendar.$ctn.removeClass('dark');
        ChromeCalendar.$follower.followTarget = element;
        ChromeCalendar.$follower.anchor = anchor;
        ChromeCalendar.$calendar.addStyle('visibility', 'hidden');//for prevent size change blink
        ChromeCalendar._listener = calendarPickListener;
        setTimeout(function () {
            ChromeCalendar.$follower.updatePosition();
            ChromeCalendar.$calendar.removeStyle('visibility');
        }, 2);
    }

    if (document.body)
        exec();
    else
        HTML5_Dom["a" /* default */].documentReady.then(exec);

    return ChromeCalendar._session;
};


ChromeCalendar.close = function (session) {
    if (session !== true && session != ChromeCalendar._session) return;

    function exec() {
        ChromeCalendar.followTarget = undefined;
        ChromeCalendar._listener = undefined;
        ChromeCalendar.$ctn.remove();
    }
    if (document.body) exec();
    else HTML5_Dom["a" /* default */].documentReady.then(exec);

};


/* harmony default export */ var js_ChromeCalendar = (ChromeCalendar);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/CalendarInput.js







var CalendarInput_ = ACore["a" /* default */]._;
var CalendarInput_$ = ACore["a" /* default */].$;



/**
 * @extends AElement
 * @constructor
 */
function CalendarInput() {
    var thisCI = this;
    this.$input = CalendarInput_$('input', this);
    this._value = null;

    this._quickOption = js_ChromeCalendar.showWhenClick(this, {
        minLimitDate: this.minLimitDate || this.minDateLimit,
        maxLimitDate: this.maxLimitDate || this.maxDateLimit,
        selectedDates: [this._value]
    }, 'auto', function (value) {
        thisCI._value = value;
        thisCI.$input.value = thisCI.formartDateString(value);
        thisCI._quickOption.calendarProps.selectedDates = [value];//change new option
        thisCI.emit('change', { target: thisCI, value: value }, thisCI);
    });

    OOP["a" /* default */].drillProperty(this, this._quickOption.calendarProps, {
        minLimitDate: 'minLimitDate',
        maxLimitDate: 'maxLimitDate',
        minDateLimit: 'minLimitDate',
        maxDateLimit: 'maxLimitDate'
    });

}

CalendarInput.tag = 'CalendarInput'.toLowerCase();

CalendarInput.render = function () {
    return CalendarInput_({
        extendEvent: ['change'],
        class: 'absol-calendar-input',
        child: 'input[type="text"][readonly="true"][value="dd/mm/yyyy"]'
    });
};

CalendarInput.property = {};

CalendarInput.property.value = {
    set: function (value) {
        if (value === null || value === undefined) {
            this.$input.value = this.formartDateString(value);
            this._quickOption.calendarProps.selectedDates = [];
            this._value = value;
        }
        else {
            if (typeof value == 'number') value = new Date(value);
            this._value = value;
            this.$input.value = this.formartDateString(value);
            this._quickOption.calendarProps.selectedDates = [value];
        }
    },
    get: function () {
        return this._value;
    }
};


CalendarInput.property.disabled = {
    set: function (value) {
        this.$input.disabled = !!value;
        if (value) {
            this.addClass('absol-disabled');
        }
        else {
            this.removeClass('absol-disabled');
        }
    },
    get: function () {
        return this.$input.disabled;
    }
};

CalendarInput.attribute = {
    disabled: {
        set: function (value) {
            this.$input.attr('disabled', value);
            if (this.$input.disabled)
                this.addClass('absol-disabled');
        },
        get: function () {
            return this.$input.attr('disabled');
        },
        remove: function () {
            this.$input.attr('disabled', undefined);
            this.removeClass('absol-disabled');
        }
    }
};


CalendarInput.property.dateToString = {
    set: function (value) {
        this._dateToString = value;
        this.$input.value = this.formartDateString(this.value);
    },
    get: function () {
        return this._dateToString;
    }
};

CalendarInput.prototype.formartDateString = function (date) {
    if (!date) {
        return {
            'undefined': 'dd/mm/yyyy',
            'function': '--/--/--',
            'object': 'dd/mm/yyyy',
            'string': typeof this.dateToString
        }[typeof this.dateToString] || '--/--/--';
    }
    if (!this.dateToString) {
        return formartDateString(date);
    }
    else if (typeof this.dateToString == 'string') {
        return formartDateString(date, this.dateToString);
    }
    else if (typeof this.dateToString == 'function') {
        return this.dateToString(date);
    }
};

ACore["a" /* default */].install(CalendarInput);

function OldCalendarInput(){

}

OldCalendarInput.tag = 'calendar-input';

OldCalendarInput.render = function(data){
    return CalendarInput_({
        tag: 'calendarinput',
        extendEvent: 'changed',
        props: data,
        on: {
            change: function (ev) {
                this.emit('changed', ev.value);
            }
        }
    });
};

ACore["a" /* default */].install(OldCalendarInput);

/* harmony default export */ var js_CalendarInput = (CalendarInput);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/checkboxinput.css
var checkboxinput = __webpack_require__(72);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/CheckBoxInput.js






var CheckBoxInput_ = ACore["a" /* default */]._;
var CheckBoxInput_$ = ACore["a" /* default */].$;

var tickIcon = CheckBoxInput_(['<svg class="as-checkbox-input-check-icon" width="18px" height="18px" version="1.1" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" >',
        ' <g transform="translate(0 -279)">',
        '  <path class="bound" d="m3 279.69h12c1.3434 0.0111 2.3298 1.5259 2.3131 2.4775v11.836c0.05005 0.89373-1.1834 2.2964-2.3131 2.3131h-12c-0.82692 0.0166-2.3131-1.1834-2.3131-2.3131v-12.237c0.0022374-1.171 0.3775-2.0759 2.3131-2.0759z" style="stroke-linejoin:round; stroke-width: 1"/>',
        '  <path class="tick" d="m3.1656 288.66c-0.10159 0.0612-0.11743 0.12506-0.12993 0.18899l3.7473 4.3467c0.066638 0.0459 0.11813 0.0263 0.16832 1e-3 0 0 1.7699-4.2166 4.7251-7.4568 1.4783-1.6208 3.2406-3.3659 3.2406-3.3659 0.0054-0.14125-0.10946-0.15807-0.1754-0.22551 0 0-2.5832 1.6364-4.7524 3.8336-1.8697 1.8939-3.6666 4.4016-3.6666 4.4016z"/>',
        ' </g>',
        '</svg>'
    ].join('')
);


/***
 * @extends AElement
 * @constructor
 */
function CheckboxInput() {
    this.$input = CheckBoxInput_$('input', this)
        .on('change', this.notifyChange.bind(this));
    this.checked = false;
    this.disabled = false;
    this.on('click', this.eventHandler.click);
    this.onchange = null;
}

CheckboxInput.tag = "CheckboxInput".toLowerCase();

CheckboxInput.render = function (data) {
    return CheckBoxInput_({
            tag: 'label',
            extendEvent: 'change',
            class: 'as-checkbox-input',
            child: [
                {
                    elt: data && data.$input,
                    tag: 'input',
                    class: 'as-checkbox-input-value',
                    attr: {
                        type: 'checkbox'
                    }
                },
                tickIcon.cloneNode(true)
            ]
        }
    )
};

/***
 * as normal, change event will be fired when checkbox change by system
 */
CheckboxInput.prototype.notifyChange = function () {
    var event = { checked: this.checked };
    this.emit('change', event, this);
};

CheckboxInput.prototype._updateCheckedClass = function () {
    if (this.checked) {
        this.addClass('as-checked');
    }
    else {
        this.removeClass('as-checked');
    }
};


CheckboxInput.property = {};

CheckboxInput.property.disabled = {
    set: function (value) {
        if (value) {
            this.addClass('as-disabled');
        }
        else {
            this.removeClass('as-disabled');
        }
        this.$input.disabled = !!value;
    },
    get: function () {
        return this.$input.disabled;
    }
};

/***
 *
 * @type {CheckboxInput}
 */
CheckboxInput.property.checked = {
    set: function (value) {
        this.$input.checked = !!value;
        this._updateCheckedClass();
    },
    get: function () {
        return this.$input.checked;
    }
}

CheckboxInput.attribute = {
    checked: {
        set: function (value) {
            if (value === 'false' || value === null) {
                this.checked = false;
            }
            else {
                this.checked = true;
            }
        },
        get: function () {
            return this.checked ? 'true' : 'false'
        },
        remove: function () {
            this.checked = false;
        }
    },
    disabled: {
        set: function (value) {
            if (value === 'false' || value === null) {
                this.disabled = false;
            }
            else {
                this.disabled = true;
            }
        },
        get: function () {
            return this.disabled ? 'true' : 'false'
        },
        remove: function () {
            this.disabled = false;
        }
    }
};

/***
 *
 * @type {CheckboxInput}
 */
CheckboxInput.eventHandler = {};

CheckboxInput.eventHandler.click = function () {
    this._updateCheckedClass();
};


ACore["a" /* default */].install(CheckboxInput);


CheckboxInput.autoReplace = function () {
    var placeHolders = Array.prototype.slice.call(document.getElementsByTagName(this.tag));
    var ph;
    var attOfPH;
    var attrs;
    var style;
    var classList;
    var attNode;
    var attrName, attrValue;
    var props;
    for (var i = 0; i < placeHolders.length; ++i) {
        ph = placeHolders[i];
        attOfPH = ph.attributes;
        classList = [];
        style = {};
        attrs = {};
        props = {};
        for (var j = 0; j < attOfPH.length; ++j) {
            attNode = attOfPH[j];
            attrName = attNode.nodeName;
            attrValue = attNode.nodeValue;
            if (attrName == 'style') {
                attrValue.trim().split(';').reduce(function (style, prop) {
                    var p = prop.split(':');
                    if (p.length == 2) {
                        style[p[0].trim()] = p[1].trim();
                    }
                    return style;
                }, style);
            }
            else if (attrName == 'class') {
                classList = attrValue.trim().split(/\s+/);
            }
            else if (attrName == 'onchange') {
                props.onchange = new Function('event', 'sender', attrValue);
            }
            else {
                attrs[attrName] = attrValue;
            }
        }
        var newElt = CheckBoxInput_({
            tag: this.tag,
            attr: attrs,
            class: classList,
            style: style,
            props: props
        });
        CheckBoxInput_$(ph).selfReplace(newElt);
    }
};

CheckboxInput.initAfterLoad = function () {
    HTML5_Dom["a" /* default */].documentReady.then(function () {
        CheckboxInput.autoReplace();
    })
};


/* harmony default export */ var CheckBoxInput = (CheckboxInput);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/checkbox.css
var css_checkbox = __webpack_require__(74);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/CheckBox.js







var CheckBox_ = ACore["a" /* default */]._;
var CheckBox_$ = ACore["a" /* default */].$;
var $$ = ACore["a" /* default */].$$;


/***
 * @extends AElement
 * @constructor
 */
function CheckBox() {
    this.defineEvent('change');
    /***
     *
     * @type {CheckboxInput}
     */
    this.$input = CheckBox_$('checkboxinput', this).on('change',
        this.notifyChange.bind(this)
    );
    this.$labels = $$('span', this);
    this.on('click', this.eventHandler.click);
    OOP["a" /* default */].drillProperty(this, this.$input, ['checked'])
}

CheckBox.tag = 'checkbox';

CheckBox.render = function () {
    return CheckBox_({
        class: ['absol-checkbox','as-no-label'],
        child: [
            {
                tag: 'span',
                class: ['absol-checkbox-label', 'as-left'],
                child: { text: '' }
            },
            'checkboxinput',
            {
                tag: 'span',
                class: ['absol-checkbox-label', 'as-right'],
                child: { text: '' }
            }
        ]
    });
};


CheckBox.prototype.notifyChange = function () {
    this.emit('change', { type: 'change', checked: this.checked, target: this }, this);
};
//v, labelText, checked

CheckBox.attribute = {
    checked: {
        set: function (value) {
            if (value === 'false' || value == null) {
                this.checked = false;
            }
            else {
                this.checked = true;
            }

        },
        get: function () {
            return this.checked ? 'true' : 'false'
        },
        remove: function () {
            this.checked = false;
        }
    },
    disabled: {
        set: function (value) {
            if (value === 'false' || value === null) {
                this.disabled = false;
            }
            else {
                this.disabled = true;
            }

        },
        get: function () {
            return this.disabled ? 'true' : 'false'
        },
        remove: function () {
            this.disabled = false;
        }
    }
};


CheckBox.property = {};
CheckBox.property.text = {
    get: function () {
        return  this._text;
    },
    set: function (value) {
        value = value || '';
        if (value.length === 0){
            this.addClass('as-no-label');
        }
        else{
            this.removeClass('as-no-label');
        }
        this._text = value;
        this.$labels[0].firstChild.data = value;
        this.$labels[1].firstChild.data = value;
    }
};


CheckBox.property.disabled = {
    get: function (){
        return    this.$input.disabled;
    },
    set: function (value){
        value = !!value;
        this.$input.disabled = value;
        if (value){
            this.addClass('as-disabled');
        }
        else {
            this.removeClass('as-disabled');
        }
    }
};



/***
 *
 * @type {{}|CheckBox}
 */
CheckBox.eventHandler = {};

CheckBox.eventHandler.click = function (event){
    if (!EventEmitter["b" /* default */].hitElement(this.$input, event)){
        this.$input.click();
    }
};

ACore["a" /* default */].install(CheckBox);
/* harmony default export */ var js_CheckBox = (CheckBox);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/circlesectionlabel.css
var circlesectionlabel = __webpack_require__(76);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/CircleSectionLabel.js






var CircleSectionLabel_ = ACore["a" /* default */]._;
var CircleSectionLabel_$ = ACore["a" /* default */].$;

var _g = Svg["a" /* default */].ShareInstance._;
var $g = Svg["a" /* default */].ShareInstance.$;


var Design = {
    circleHeight: 218 - 36,
    borderWidth: 36,
    textBoxHeight: 146,
    textHeight: 48,
    indexHeight: 54,
    textBoxPaddingLeft: 80,
    indexArrowRadius: (172 - 18) / 2,
    indexArrowStrokeWidth: 18,
    indexArrowStartAngle: -Math.PI / 6,
    indexArrowEndAngle: -7 * Math.PI / 12
};

var CircleSectionLabel_StyleSheet = {
    '.as-circle-section-label-text': {
        height: Design.textBoxHeight / Design.textHeight + 'em',
        'padding-left': Design.textBoxPaddingLeft / Design.textHeight + 'em',
        'line-height': Design.textBoxHeight / Design.textHeight + 'em'
    },
    '.as-circle-section-label-index': {
        'font-size': Design.indexHeight / Design.textHeight + 'em',
        height: (Design.circleHeight + Design.borderWidth) / Design.indexHeight + 'em',
        'line-height': (Design.circleHeight + Design.borderWidth) / Design.indexHeight + 'em',
        width: (Design.circleHeight + Design.borderWidth) / Design.indexHeight + 'em'
    },

};

CircleSectionLabel_({
    tag: 'style',
    id: 'circle-section-label-style',
    props: {
        innerHTML: Object.keys(CircleSectionLabel_StyleSheet).map(function (key) {
            var style = CircleSectionLabel_StyleSheet[key];
            return key + ' {\n'
                + Object.keys(style).map(function (propName) {
                    return propName + ': ' + style[propName] + ';';
                }).join('\n')
                + '}';
        }).join('\n')
    }
}).addTo(document.head);


/**
 * @extends AElement
 * @constructor
 */
function CircleSectionLabel() {
    this._ident = (Math.random() + '').replace(/[^0-9]/g, '_');
    this.$background = CircleSectionLabel_$('.as-circle-section-label-background', this);
    this.$index = CircleSectionLabel_$('.as-circle-section-label-index', this);
    this.$text = CircleSectionLabel_$('.as-circle-section-label-text', this);
    this.$attachhook = CircleSectionLabel_('attachhook').addTo(this).on('error', function () {
        HTML5_Dom["a" /* default */].addToResizeSystem(this);
        this.requestUpdateSize();
    });

    this.$attachhook.requestUpdateSize = this.redrawBackground.bind(this);
    this.$svg = _g({
        tag: 'svg',
        attr: {
            width: '0',
            height: '0'
        },
        child: [
            {
                tag: 'defs',
                child: [
                    {
                        tag: 'marker',
                        id: 'marker_' + this._ident,
                        attr: {
                            markerWidth: "4",
                            markerHeight: "4",
                            refX: "0",
                            refY: "1",
                            orient: "auto",
                            markerUnits: "strokeWidth",
                            viewBox: "0 0 4 4"
                        },
                        child: {
                            tag: 'path',
                            class: 'as-circle-section-label-arrow-marker-path',
                            attr: {
                                d: 'M0,0 L0,2 L2,1 z'
                            }
                        }
                    }
                ]
            },
            'rect.as-circle-section-label-text-box',
            'circle.as-circle-section-label-index-box',
            'path.as-circle-section-label-arrow'
        ]
    }).addTo(this.$background);
    this.$indexBox = $g('circle.as-circle-section-label-index-box', this.$svg);
    this.$textBox = $g('rect.as-circle-section-label-text-box', this.$svg);
    // this.$marker = $g('defs marker', this.$svg);
    // this.$markerPath = $g(' path', this.$marker);
    this.$arrow = $g('path.as-circle-section-label-arrow', this.$svg)
        .attr({
            'marker-end': "url(" + '#marker_' + this._ident + ")"
        });
};

CircleSectionLabel.prototype.redrawBackground = function () {
    var indexBound = this.$index.getBoundingClientRect();
    var textBound = this.$text.getBoundingClientRect();
    var cHeight = indexBound.height;
    var cWidth = textBound.right - indexBound.left;
    this.$svg.attr({
        height: cHeight + '',
        width: cWidth + '',
        viewBox: [0, 0, cWidth, cHeight].join(' ')
    });

    var borderWidth = cHeight * Design.borderWidth / (Design.circleHeight + Design.borderWidth);
    var radius = cHeight * Design.circleHeight / (Design.circleHeight + Design.borderWidth) / 2;
    var x0 = indexBound.width / 2;
    var y0 = cHeight / 2;


    this.$indexBox.attr({
        r: radius + '',
        cx: x0,
        cy: y0
    })
        .addStyle({
            strokeWidth: borderWidth + ''
        });
    var textBoxHeight = textBound.height;
    this.$textBox.attr(
        {
            x: x0 / 2,
            y: (cHeight - textBoxHeight) / 2,
            width: cWidth - x0 - 1,
            height: textBoxHeight,
            rx: textBoxHeight / 2,
            ry: textBoxHeight / 2
        }
    );
    var arrowRadius = cHeight * Design.indexArrowRadius / (Design.circleHeight + Design.borderWidth);
    this.$arrow.attr({
        d: [
            'M', x0 + arrowRadius * Math.cos(Design.indexArrowStartAngle), y0 + arrowRadius * Math.sin(Design.indexArrowStartAngle),
            'A', arrowRadius, arrowRadius, 0, 1, 1, x0 + arrowRadius * Math.cos(Design.indexArrowEndAngle), y0 + arrowRadius * Math.sin(Design.indexArrowEndAngle)
        ].join(' ')
    }).addStyle('stroke-width', cHeight * Design.indexArrowStrokeWidth / (Design.circleHeight + Design.borderWidth))
};

CircleSectionLabel.tag = 'CircleSectionLabel'.toLowerCase();
CircleSectionLabel.render = function () {
    return CircleSectionLabel_({
        class: 'as-circle-section-label',
        child: [
            {
                class: 'as-circle-section-label-background'
            },
            '.as-circle-section-label-index',
            '.as-circle-section-label-text'
        ]
    });
};

CircleSectionLabel.property = {};
CircleSectionLabel.property.index = {
    set: function (value) {
        this._index = value;
        this.$index.clearChild().addChild(CircleSectionLabel_({ text: value + '' }))
    },
    get: function () {
        return this._index;
    }
};

CircleSectionLabel.property.text = {
    set: function (value) {
        this._text = value;
        this.$text.clearChild().addChild(CircleSectionLabel_({ text: value + '' }))
    },
    get: function () {
        return this._text;
    }
}


ACore["a" /* default */].install(CircleSectionLabel);
/* harmony default export */ var js_CircleSectionLabel = (CircleSectionLabel);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/contextmenu.css
var contextmenu = __webpack_require__(78);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/menu.css
var css_menu = __webpack_require__(80);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/follower.css
var follower = __webpack_require__(82);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Follower.js







var Follower_ = ACore["a" /* default */]._;
var Follower_$ = ACore["a" /* default */].$;


/***
 * @extends AElement
 * @constructor
 */
function Follower() {
    this.$attachhook = Follower_('attachhook', this)
        .addTo(this)
        .on('attached', function () {
            this.requestUpdateSize();
            HTML5_Dom["a" /* default */].addToResizeSystem(this);
        });
    this.$attachhook.requestUpdateSize = this.updatePosition.bind(this);

    this.$followTarget = undefined;
    this.$scrollTrackElts = [];
    this._scrollTrackEventHandler = undefined;
    this._anchor = Follower.ANCHOR_PRIORITY;
    this.defineEvent(['updateposition', 'preupdateposition']);
}

Follower.tag = 'Follower'.toLowerCase();
Follower.render = function () {
    return Follower_('.absol-follower');
};


Follower.prototype.clearChild = function () {
    var children = Array.prototype.slice.call(this.children);
    var attachhookElt = this.$attachhook;
    children.forEach(function (elt) {
        if (elt != attachhookElt)
            elt.remove();
    });
}

//Todo: remove child, find child....

/**
 * X = $target.x + F[anchor_index][0] * $target.width + F[anchor_index][1] * $content.width
 * Y = $target.y + F[anchor_index][2] * $target.height + F[anchor_index][3] * $content.height
 */
Follower.ANCHOR_FACTORS = [
    [1, 0, 0, 0],//0
    [0, 0, 1, 0],//1
    [1, -1, 1, 0],//2
    [0, -1, 0, 0],//3
    [0, -1, 1, -1],//4
    [1, -1, 0, -1],//5
    [0, 0, 0, -1],//6
    [1, 0, 1, -1],//7

    [1, 0, 0.5, -0.5],//8
    [0.5, -0.5, 1, 0],//9
    [0, -1, 0.5, -0.5],//10
    [0.5, -0.5, 0, -1],//11

    [1, 0, 1, 0],//12
    [0, -1, 1, 0],//13
    [0, -1, 0, -1],//14
    [1, 0, 0, -1],//15
];

Follower.ANCHOR_PRIORITY = [1, 6, 2, 5, 0, 7, 3, 4, 9, 11, 8, 10, 12, 15, 13, 14];


Follower.prototype.updatePosition = function () {
    if (!this.$followTarget) return;
    this.emit('preupdateposition', { target: this }, this);
    var targetBound = this.$followTarget.getBoundingClientRect();
    var screenSize = HTML5_Dom["a" /* default */].getScreenSize();
    var outRect = new Math_Rectangle(0, 0, screenSize.width, screenSize.height);
    var bound = this.getBoundingClientRect();
    var x = 0;
    var y = 0;
    var score;
    var anchors = this._lastAnchor === undefined ? this.anchor : [this._lastAnchor].concat(this.anchor);
    var factor;
    var bestX, bestY, bestScore = -100000;
    var newContentRect;
    var bestAnchor;
    for (var i = 0; i < anchors.length; ++i) {
        factor = Follower.ANCHOR_FACTORS[anchors[i]];
        x = targetBound.left + factor[0] * targetBound.width + factor[1] * bound.width;
        y = targetBound.top + factor[2] * targetBound.height + factor[3] * bound.height;
        newContentRect = new Math_Rectangle(x, y, bound.width, bound.height);
        score = newContentRect.collapsedSquare(outRect);
        if (score - 10 > bestScore) {
            bestAnchor = anchors[i];
            bestScore = score;
            bestX = x;
            bestY = y;
        }
    }

    if (this._lastAnchor !==bestAnchor){
        this.removeClass('as-anchor-'+ this._lastAnchor);
        this._lastAnchor = bestAnchor;
        this.addClass('as-anchor-'+ this._lastAnchor);
    }



    this.addStyle({
        left: bestX + 'px',
        top: bestY + 'px'
    });
    this.emit('updateposition', { target: this }, this);
};


Follower.prototype.refollow = function () {
    if (!this.$followTarget) return;
    this.updatePosition();
    this.addClass('following');

    if (this._scrollTrackEventHandler) this.unfollow();
    this._scrollTrackEventHandler = this.updatePosition.bind(this);
    this.$scrollTrackElts = [];

    var trackElt = this.$followTarget;
    while (trackElt) {
        if (trackElt.addEventListener)
            trackElt.addEventListener('scroll', this._scrollTrackEventHandler, false);
        else
            trackElt.attachEvent('onscroll', this._scrollTrackEventHandler, false);

        this.$scrollTrackElts.push(trackElt);
        trackElt = trackElt.parentElement;
    }
    if (document.addEventListener) {
        document.addEventListener('scroll', this._scrollTrackEventHandler, false);
    }
    else {
        document.attachEvent('onscroll', this._scrollTrackEventHandler, false);
    }
    this.$scrollTrackElts.push(document);
};

Follower.prototype.unfollow = function () {
    if (!this._scrollTrackEventHandler) return;// nothing to do
    this.removeClass('following');
    var trackElt;

    for (var i = 0; i < this.$scrollTrackElts.length; ++i) {
        trackElt = this.$scrollTrackElts[i];
        if (trackElt.removeEventListener)
            trackElt.removeEventListener('scroll', this._scrollTrackEventHandler, false);
        else
            trackElt.dettachEvent('onscroll', this._scrollTrackEventHandler, false);
    }
    this.$scrollTrackElts = [];
    this._scrollTrackEventHandler = undefined;
};


Follower.property = {};

Follower.property.followTarget = {
    set: function (elt) {
        if (elt === null || elt === undefined || !elt) {
            this.unfollow();
            this.$followTarget = undefined;
            return;
        }
        else if (typeof elt == 'string') {
            elt = Follower_$(elt) || document.getElementById(elt);
        }

        if (HTML5_Dom["a" /* default */].isDomNode(elt)) {
            this.$followTarget = elt;
            this._lastAncho = undefined;
            this.refollow();
        }
        else throw new Error("Invalid element");
    },
    get: function () {
        return this.$followTarget;
    }
}

Follower.property.anchor = {
    set: function (value) {
        value = value || Follower.ANCHOR_PRIORITY;
        if (value == 'auto') value = Follower.ANCHOR_PRIORITY;
        if (typeof value == null) value = [value];
        if (!(value instanceof Array)) throw new Error('Invalid anchor ' + value);
        value = value.map(function (x) {
            x = Math.floor(x);
            if (x >= 0 && x < Follower.ANCHOR_FACTORS.length) {
                return x;
            }
            else throw new Error("Invalid anchor: " + x);
        });
        this._anchor = value;
        this._lastAnchor = undefined;

        this.updatePosition();
    },
    get: function () {
        return this._anchor;
    }
}


ACore["a" /* default */].install(Follower);

/* harmony default export */ var js_Follower = (Follower);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Menu.js








var Menu_ = ACore["a" /* default */]._;
var Menu_$ = ACore["a" /* default */].$;

/***
 * @extends AElement
 * @constructor
 */
function MenuButton() {
    this.$text = Menu_$('.absol-vmenu-button-text', this);
    this.$key = Menu_$('.absol-vmenu-button-key', this);


    this.$arrow = Menu_$('.absol-vmenu-arrow', this);
    this.$iconCtn = Menu_$('.absol-vmenu-button-ext-icon-container', this);

    OOP["a" /* default */].drillProperty(this, this.$text, 'text', 'innerHTML');
    OOP["a" /* default */].drillProperty(this, this.$key, 'key', 'innerHTML');
}

MenuButton.tag = 'menubutton';

MenuButton.render = function () {
    return Menu_({
        tag: 'button',
        class: 'absol-vmenu-button',
        child: [
            {
                class: 'absol-vmenu-button-ext-icon-container',
                child: 'img.absol-vmenu-button-icon'
            },
            '.absol-vmenu-button-text',
            '.absol-vmenu-button-key',
            {
                class: 'absol-vmenu-arrow-container',
                child: 'span.absol-vmenu-arrow'
            }
        ]
    });
};

MenuButton.property = {};

MenuButton.property.extendClasses = {
    set: function (value) {
        var self = this;
        this.extendClasses.forEach(function (className) {
            self.removeClass(className);
        });
        this._extendClass = [];
        if (!value) return;
        if (typeof value == 'string') {
            value = value.split(/\s+/).filter(function (c) {
                return c.length > 0
            });
        }

        if (value instanceof Array) {
            this._extendClass = value;
            this._extendClass.forEach(function (className) {
                self.addClass(className);
            });
        }
        else {
            throw new Error('Invalid extendClasses');
        }
    },
    get: function () {
        return this._extendClass || [];
    }
};


MenuButton.property.icon = {
    set: function (value) {
        this.$iconCtn.clearChild();
        this._icon = value;
        if (value) {
            Menu_(value).addTo(this.$iconCtn);
        }
    },
    get: function () {
        return this._icon;
    }
};

MenuButton.property.iconSrc = {
    set: function (value) {
        if (value)
            this.icon = { tag: 'img', props: { src: value } };
        else
            this.icon = value;
    },
    get: function () {
        return this.icon && this.icon.props && this.icon.props.src;
    }
};


MenuButton.property.extendStyle = {
    set: function (value) {
        this.removeStyle(this._extendStyle || {});
        this._extendStyle = value || {};
        this.addStyle(this.extendStyle);
    },
    get: function () {
        return this._extendStyle || {};
    }
};

ACore["a" /* default */].install(MenuButton);

/***
 *
 * @extends Follower
 * @constructor
 */
function Dropdown() {
    this.$container = Menu_$('.absol-dropdown-content', this);
    this.$container.followTarget = this;
    this.$container.anchor = [1, 2, 6, 5];

}

Dropdown.tag = 'dropdown';

Dropdown.render = function () {
    return Menu_({
        class: ['absol-drop-hidden', 'absol-dropdown'], child: 'follower.absol-dropdown-content.as-bscroller'
    });
};


Dropdown.property = {};
Dropdown.property.show = {
    set: function (value) {
        if (value) {
            this.removeClass('absol-drop-hidden');
            if (this.$container.lastChild && this.$container.lastChild.$items) {
                this.$container.lastChild.$items.forEach(function (itemElt) {
                    if (itemElt.autoFixParrentSize) {
                        itemElt.autoFixParrentSize();
                    }
                });
            }
            var aPst = this.findAvailablePosition();
            if (aPst.crampedHeight) {
                this.removeClass('overlap-top');
                this.$container.followTarget = null;
                this.$container.addStyle({
                    'max-height': aPst.maxHeight + 'px'
                });
                this.$container.refollow();
                this.$container.updatePosition();
                this.$container.addStyle('top', this.getBoundingClientRect().top + aPst.posTop + 'px');


            }
            else {
                this.$container.removeStyle('max-height')
                    .removeStyle('top');
                this.$container.refollow();
                this.$container.updatePosition();
            }
        }
        else {
            this.addClass('absol-drop-hidden');
        }
    },
    get: function () {
        return !this.containsClass('absol-drop-hidden');
    }
};

Dropdown.prototype.findAvailablePosition = function () {
    var outBound = HTML5_Dom["a" /* default */].traceOutBoundingClientRect(document.body);
    var containerBound = this.$container.getBoundingClientRect();
    var bound = this.getBoundingClientRect();
    var distTop = bound.top - outBound.top;
    var distLeft = bound.left - outBound.left;
    var distRight = -bound.right + outBound.right;
    var distBottom = -bound.bottom + outBound.bottom;
    var result = {};

    if (distLeft >= containerBound.width) result.left = true;
    if (distTop >= containerBound.height) result.top = true;
    if (distRight >= containerBound.width) result.right = true;
    if (distBottom >= containerBound.height) result.bottom = true;
    if (distRight + bound.width >= containerBound.width) result.overlapRight = true;
    if (distLeft + bound.width >= containerBound.width) result.overlapLeft = true;
    if (distBottom + bound.height >= containerBound.height) result.overlapBottom = true;
    if (distTop + bound.height >= containerBound.height) result.overlapTop = true;
    if (!result.overlapTop && !result.overlapBottom) {
        result.crampedHeight = true;
        result.maxHeight = outBound.height - 20;
        result.posTop = distBottom - Math.min(containerBound.height, result.maxHeight) + bound.height - 10;
    }

    return result;
};

Dropdown.prototype.addChild = function (child) {
    if (child instanceof Array) {
        for (var i = 0; i < child.length; ++i)
            this.addChild(child[i]);
    }
    else {
        if (!this.$trigger) {
            this.super(child);
            this.$trigger = child;
        }
        else {
            this.$container.addChild(child);
        }
    }
};


Dropdown.prototype.clearChild = function () {
    if (this.$trigger) {
        this.$trigger.selfRemove();
        this.$trigger = undefined;
    }
    this.$container.clearChild();
};


Dropdown.prototype.init = function (props) {
    props = props || {};
    Object.assign(this, props);
};


function Dropright() {
    this.$container = Menu_$('.absol-dropright-content', this);
    this.$container.followTarget = this;
    this.$container.anchor = [0, 3, 7, 4];
}

Dropright.tag = 'dropright';

Dropright.render = function () {
    return Menu_({
        class: ['absol-drop-hidden', 'absol-dropright'],
        child: 'follower.absol-dropright-content.as-bscroller',
        data: { $trigger: undefined, $content: undefined, _isShow: false }
    });
}

Object.assign(Dropright.prototype, Dropdown.prototype);


//is the same
Dropright.prototype.addChild = Dropdown.prototype.addChild;
Dropright.prototype.clearChild = Dropdown.prototype.clearChild;
Dropright.property = Object.assign({}, Dropdown.property);


function VMenuLine() {
    return Menu_('<div class="absol-vmenu-line"><div></div></div>');
}

VMenuLine.tag = 'VMenuLine'.toLowerCase();

function VMenuItem() {
    var thisVM = this;

    this.sync = new Promise(function (rs) {
        Menu_('attachhook').addTo(thisVM).on('error', function () {
            this.remove();
            rs();
        })
    });
    this.$dropper = Menu_$('dropright', this);
    this.$vmenu = Menu_$('vmenu', this);
    this.$button = Menu_$('menubutton', this);

    this.$text = thisVM.$button.$text;

    this.$key = thisVM.$button.$key;
    this.$arrow = thisVM.$button.$arrow;
    this.$iconCtn = thisVM.$button.$iconCtn;


    OOP["a" /* default */].drillProperty(this, this.$button, ['text', 'extendClasses', 'extendStyle', 'key', 'icon', 'iconSrc']);
    OOP["a" /* default */].drillProperty(this, this.$vmenu, ['activeTab']);

    this.eventHandler = OOP["a" /* default */].bindFunctions(this, VMenuItem.eventHandler);
    this.$vmenu.on('press', this.eventHandler.pressItem, true);

    this.$button.on('click', this.eventHandler.clickButton, true);
    this.$button.on('mouseenter', this.eventHandler.enterButton, true);
    this._textMarginRight = 0;
}


VMenuItem.tag = 'VMenuItem'.toLowerCase();

VMenuItem.render = function () {
    return Menu_({
        tag: 'dropright',
        extendEvent: ['press', 'enter'],
        child: ['menubutton',
            {
                tag: 'vmenu',
            }]
    });
};

VMenuItem.prototype.init = function (props) {
    Object.assign(this, props || {});
    this.sync = this.sync.then(this.autoFixParrentSize.bind(this));
};


VMenuItem.prototype.autoFixParrentSize = function () {
    var parentWidth = this.$dropper.getBoundingClientRect().width;// dropper is fixed parent content size
    if (!parentWidth) return;
    var buttonWidth = this.$button.getBoundingClientRect().width;
    var fontSize = this.$text.getFontSize();
    this._textMarginRight = parentWidth - buttonWidth + this._textMarginRight;
    this.$text.addStyle('margin-right', this._textMarginRight / fontSize + 'em');
};

VMenuItem.eventHandler = {};


VMenuItem.eventHandler.enterButton = function (event) {
    event.menuItem = this;
    var newEvent = EventEmitter["b" /* default */].copyEvent(event);
    this.emit('enter', newEvent, this);
};


VMenuItem.eventHandler.pressItem = function (event) {
    var newEvent = EventEmitter["b" /* default */].copyEvent(event, { target: this });
    this.emit('press', newEvent, this);
};

VMenuItem.eventHandler.clickButton = function (event) {
    event.menuDontHide = this.items && this.items.length > 0;
    event.menuItem = this;
    event.vmenuItem = this;
    var newEvent = EventEmitter["b" /* default */].copyEvent(event, { target: this });
    this.emit('press', newEvent, this);
};


VMenuItem.property = {};
VMenuItem.property.items = {
    set: function (items) {
        items = items || [];
        if (items.length > 0) {
            this.$arrow.addClass(['mdi', 'mdi-chevron-right']);
        }
        else {
            this.$arrow.removeClass(['mdi', 'mdi-chevron-right']);
        }
        this.$vmenu.items = items;
    },
    get: function () {
        return this.$vmenu.items;
    }
};

VMenuItem.property.disable = {
    set: function (value) {
        if (value) {
            this.addClass('absol-menu-item-disable');
        }
        else {
            this.removeClass('absol-menu-item-disable');
        }
    },
    get: function () {
        return this.containsClass('absol-menu-item-disable');
    }
};


function VMenu() {
    var thisVM = this;

    this.sync = new Promise(function (rs) {
        Menu_('attachhook').addTo(thisVM).on('error', function () {
            this.remove();
            rs();
        })
    });
}

VMenu.tag = 'vmenu';

VMenu.render = function () {
    return Menu_({
        class: 'absol-vmenu',
        extendEvent: 'press'
    });
};


VMenu.property = {};
VMenu.property.activeTab = {
    set: function (tabIndex) {
        this._activeTab = tabIndex;
        if (this.$items) {
            for (var i = 0; i < this.$items.length; ++i) {
                var item = this.$items[i];
                item.show = i == tabIndex && !item.disable;
                item.activeTab = -1;
                if (i == tabIndex && !item.disable) {
                    item.$button && item.items && item.items.length > 0 && item.$button.addClass('absol-vmenu-button-hover');
                }
                else {
                    item.$button && item.$button.removeClass('absol-vmenu-button-hover');
                }
            }
        }
    },
    get: function () {
        return this._activeTab;
    }
};


VMenu.property.extendStyle = {
    set: function (value) {
        this.removeStyle(this._extendStyle || {});
        this._extendStyle = value || {};
        this.addStyle(this.extendStyle);
    },
    get: function () {
        return this._extendStyle || {};
    }
};


VMenu.property.extendClasses = {
    set: function (value) {
        var self = this;
        this.extendClasses.forEach(function (className) {
            self.removeClass(className);
        });
        this._extendClass = [];
        if (!value) return;
        if (typeof value == 'string') {
            value = value.split(/\s+/).filter(function (c) {
                return c.length > 0
            });
        }
        if (value instanceof Array) {
            this._extendClass = value;
            this._extendClass.forEach(function (className) {
                self.addClass(className);
            });
        }
        else {
            throw new Error('Invalid extendClasses');
        }
    },
    get: function () {
        return this._extendClass || [];
    }
};


VMenu.eventHandler = {};
VMenu.eventHandler.enterItem = function (event) {
    var tabIndex = event.menuItem._tabIndex;
    this.activeTab = tabIndex;
};


VMenu.eventHandler.pressItem = function (event) {
    this.emit('press', EventEmitter["b" /* default */].copyEvent(event, { target: this }), this);
};


VMenu.property.items = {
    set: function (items) {
        this._childFromItems(items || []);
    },
    get: function () {
        return this.$items;
    }
}


VMenu.prototype.init = function (props) {
    Object.assign(this, props || {});
};


VMenu.prototype._childFromItems = function (items) {
    this.clearChild();
    this.$items = items.map(function (item, index) {
        var itemElt;
        if (typeof item === 'string' && (item.substr(0, 1) === '-' || item.substr(0, 1) === '=')) {
            itemElt = Menu_('vmenuline');
        }
        else if (Object(HTML5_Dom["c" /* isDomNode */])(item)) {
            itemElt = item;
        }
        else if (item.child || item.class || item.tag || item.style || typeof item === 'string') {
            itemElt = Menu_(item);
        }
        else {
            itemElt = Menu_({
                tag: 'vmenuitem',
                props: Object.assign({ _tabIndex: index }, item),
                on: {
                    enter: { callback: this.eventHandler.enterItem, cap: true },
                    press: { callback: this.eventHandler.pressItem, cap: true }
                }
            });
        }
        this.addChild(itemElt);
        return itemElt;
    }.bind(this));
    //todo
};


function HMenuItem() {
    this.$vmenu = Menu_$('vmenu', this);
    this.$dropDown = this;
    this.$button = Menu_$('button.absol-hmenu-button', this);
    OOP["a" /* default */].drillProperty(this, this.$button, 'text', 'innerHTML');
    OOP["a" /* default */].drillProperty(this, this.$vmenu, 'items');
    OOP["a" /* default */].drillProperty(this, this.$vmenu, 'activeTab');

    this.$button.on('click', this.eventHandler.clickButton);
    this.$button.on('mouseenter', this.eventHandler.enterButton, true);
    this.$vmenu.on('press', this.eventHandler.pressItem, true);

    //property show not need because dropdown is itself
    return this;
}

HMenuItem.tag = 'HMenuItem'.toLowerCase();

HMenuItem.render = function () {
    return Menu_({
        tag: 'dropdown',
        extendEvent: ['press', 'enter'],
        child: ['button.absol-hmenu-button',
            'vmenu'
        ]
    });
};


HMenuItem.eventHandler = {};

HMenuItem.eventHandler.clickButton = function (event) {
    event.menuItem = this;
    event.hmenuItem = this;
    this.emit('press', EventEmitter["b" /* default */].copyEvent(event, { target: this }), this);
};

HMenuItem.eventHandler.enterButton = function (event) {
    event.menuItem = this;
    this.emit('enter', EventEmitter["b" /* default */].copyEvent(event, { target: this }), this);
};

HMenuItem.eventHandler.pressItem = function (event) {
    this.emit('press', EventEmitter["b" /* default */].copyEvent(event, { target: this }), this);
};

HMenuItem.prototype = {};

HMenuItem.prototype.disable = VMenuItem.prototype.disable;


HMenuItem.prototype.init = function (props) {
    props = props || {};
    Object.assign(this, props);
};

/***
 * @extends AElement
 * @constructor
 */
function HMenu() {
}

HMenu.tag = 'hmenu';

HMenu.render = function () {
    return Menu_({
        class: 'absol-hmenu',
        extendEvent: ['press', 'enter']
    });
};


HMenu.eventHandler = {};
HMenu.eventHandler.pressItem = function (event) {
    /**
     * this.activeTab can be undefined
     * undefine >= 0 => false
     * undefine < 0 => false
     */

    if (event.menuItem.items && event.menuItem.items.length > 0 && !(this.activeTab >= 0)) {
        this.activeTab = event.menuItem._tabIndex;
    }
    else {
        event.isLeaf = (!event.menuItem.items || !event.menuItem.items.length);
        this.emit('press', event, this);
    }
};

HMenu.eventHandler.enterItem = function (event) {
    if (this.activeTab >= 0) {
        this.activeTab = event.menuItem._tabIndex;
    }
};


HMenu.eventHandler.clickSomewhere = function (event) {
    if (EventEmitter["b" /* default */].hitElement(this, event)) return;
    this.activeTab = -1;
    window.removeEventListener('blur', this.eventHandler.clickSomewhere);
};


HMenu.prototype._childFromItems = function (items) {
    this.clearChild();
    this.$items = items.map(function (item, index) {
        var res = Menu_({
            tag: 'hmenuitem',
            props: Object.assign({ _tabIndex: index }, item),
            on: {
                press: { callback: this.eventHandler.pressItem, cap: true },
                enter: { callback: this.eventHandler.enterItem, cap: true }
            }
        });
        this.addChild(res);
        return res;
    }.bind(this));
};

HMenu.prototype.init = function (props) {
    Object.assign(this, props || {});
};


HMenu.property = {};
HMenu.property.items = {
    set: function (items) {
        this._childFromItems(items || []);
    },
    get: function () {
        return this.$items;
    }
};


HMenu.property.activeTab = {
    set: function (tabIndex) {
        var lastValue = this._activeTab;
        this._activeTab = tabIndex;
        for (var i = 0; i < this.$items.length; ++i) {
            var item = this.$items[i];
            item.show = i == tabIndex && !item.disable;
            item.activeTab = -1;
            if (i == tabIndex && !item.disable) {
                item.$button && item.items && item.items.length > 0 && item.$button.addClass('absol-hmenu-button-hover');
            }
            else {
                item.$button && item.$button.removeClass('absol-hmenu-button-hover');
            }
        }
        if (!(lastValue >= 0) && (this._activeTab >= 0)) {
            setTimeout(function () {
                Menu_$(document.body).on('click', this.eventHandler.clickSomewhere, false);
                window.addEventListener('blur', this.eventHandler.clickSomewhere);
            }.bind(this), 100);
        }
        else if ((lastValue >= 0) && !(this._activeTab >= 0)) {
            Menu_$(document.body).off('click', this.eventHandler.clickSomewhere, false);
        }
    },
    get: function () {
        return this._activeTab;
    }
};

/***
 * @extends AElement
 * @constructor
 */
function VRootMenu() {
    this._items = [];
    this.items = [];
}

VRootMenu.tag = 'VRootMenu'.toLowerCase();

VRootMenu.render = function () {
    return Menu_({
        class: 'as-v-root-menu',
        extendEvent: ['press', 'enter']
    });
};


VRootMenu.prototype._childFromItems = function (items) {
    var thisM = this;
    this.clearChild();
    this.$items = items.map(function (item, i) {
        var itemElt;
        if (typeof item === 'string' && (item.substr(0, 1) === '-' || item.substr(0, 1) === '=')) {
            itemElt = Menu_('vmenuline');
        }
        else if (Object(HTML5_Dom["c" /* isDomNode */])(item)) {
            itemElt = item;
        }
        else if (item.child || item.class || item.tag || item.style || typeof item === 'string') {
            itemElt = Menu_(item);
        }
        else {
            itemElt = Menu_({
                tag: 'vmenuitem',
                props: item,
                on: {
                    enter: thisM.eventHandler.enterItem,
                    press: thisM.eventHandler.pressItem
                }
            });
        }
        itemElt._tabIndex = i;
        thisM.addChild(itemElt);
        return itemElt;
    });
};

VRootMenu.property = Object.assign({}, HMenu.property);

VRootMenu.eventHandler = Object.assign({}, HMenu.eventHandler);


ACore["a" /* default */].install([HMenu, VMenuItem, VMenu, Dropright, VMenuLine, Dropdown, HMenuItem, VRootMenu]);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/ContextMenu.js









var ContextMenu_ = ACore["a" /* default */]._;
var ContextMenu_$ = ACore["a" /* default */].$;

var supportContextEvent = false;

/**
 * @extends AElement
 * @constructor
 */
function ContextCaptor() {
    this.attachedElt = null;
    this.$textarea = ContextMenu_$('textarea', this)
        .on('contextmenu', this.eventHandler.contextmenu, true);
    this._ss = 0;
    this._isTouch = false;
    /**
     this._target = null;
     * @type {Vec2}
     */
    this._posStart = null;
    /**
     * @type {Vec2}
     */
    this._posCurrent = null;
    this._touchId = -100;
    this._longPressTimeout = -1;
    this._removeTimeout = -1;
    this._fireContextMenuTimeout = -1;
    this.$target = null;
    this._pointerSession = 0;
    this._lastContextSession = 0;

    this.mousedownEvent = null;
    this.sync = Promise.resolve();
};

ContextCaptor.prototype.attachTo = function (elt) {
    if (this.attachedElt) {
        this.attachedElt.removeEventListener('mousedown', this.eventHandler.mousedown);
        this.attachedElt.removeEventListener('touchstart', this.eventHandler.mousedown);
        this.attachedElt = null;
    }
    this.attachedElt = elt;
    if (this.attachedElt) {
        this.attachedElt.addEventListener('mousedown', this.eventHandler.mousedown);
        this.attachedElt.addEventListener('touchstart', this.eventHandler.mousedown);
    }
    return this;
};

ContextCaptor.tag = 'ContextCaptor'.toLowerCase();

ContextCaptor.render = function () {
    return ContextMenu_({
        class: 'absol-context-menu-anchor',
        extendEvent: 'requestcontextmenu',
        child: [
            'textarea'
        ]
    });
};

ContextCaptor.prototype.showContextMenu = function (x, y, props, onSelectItems, onCancel) {
    var self = this;
    var anchor = ContextMenu_('.absol-context-menu-anchor').addTo(document.body);
    var finish = function (event) {
        (document.body).off('click', finish)
            .off('touchcancel', finish)
            .off('touchend', finish);

        self.off('requestcontextmenu', finish);
        setTimeout(function () {
            anchor.selfRemove();//
        }, 10);
    };
    var vmenu = ContextMenu_({
        tag: 'vmenu',
        props: props,
        on: {
            press: onSelectItems || function () {
            }
        }
    }).addTo(anchor);
    setTimeout(function () {
        var screenSize = HTML5_Dom["a" /* default */].getScreenSize();
        var menuBound = vmenu.getBoundingClientRect();
        if (x + menuBound.width > screenSize.width - 17) {
            x -= menuBound.width;
        }
        if (y + menuBound.height > screenSize.height - 17) {
            y -= menuBound.height;
        }

        anchor.addStyle({
            left: x + 'px',
            top: y + 'px'
        });
        anchor.addClass('absol-active');
    }, 30);
    setTimeout(function () {
        (document.body).on('click', finish);
        self.on('requestcontextmenu', finish);
    }, 10)
};

ContextCaptor.prototype._checkNeedHandle = function (target) {
    var current = target;
    var needHandle = false;
    while (current && !needHandle && !current.classList.contains('as-system-context-menu')) {
        if (current.isSupportedEvent && current.isSupportedEvent('contextmenu'))
            needHandle = true;
        current = current.parentElement;
    }
    return needHandle;
};


ContextCaptor.prototype._fireContextMenuEvent = function () {
    if (this._lastContextSession >= this._pointerSession) return;// prevent fire multi-times in a pointer session
    this._lastContextSession = this._pointerSession;
    var baseEventData = {
        clientX: this._posCurrent.x,
        clientY: this._posCurrent.y,
        target: this.$target
    };
    this.emit('requestcontextmenu', baseEventData, this);
    var self = this;

    var propagation = true;
    var localEvent = Object.assign({
        clientX: this._posCurrent.x, clientY: this._posCurrent.y,
        target: this.$target,
        showContextMenu: function (props, onSelectItems) {
            self.sync = self.sync.then(function () {
                return new Promise(function (rs) {
                    setTimeout(function () {
                        self.showContextMenu(self._posCurrent.x, self._posCurrent.y, props, onSelectItems);
                        rs();
                    }, 30)
                });
            })
        },
        stopPropagation: function () {
            propagation = false;
        }
    }, baseEventData);

    var current = this.$target;
    while (current && propagation) {
        if (current.isSupportedEvent && current.isSupportedEvent('contextmenu')) {
            current.emit('contextmenu', localEvent, current, this);
        }
        current = current.parentElement;
    }
};

/**
 * @type {ContextCaptor}
 */
ContextCaptor.eventHandler = {};

ContextCaptor.eventHandler.mousedown = function (event) {
    if (this._touchId != -100) return;
    this._pointerSession++;
    var target;
    var isTouch;
    var touchId;
    var posCurrent;
    var pointer;
    if (event.type == 'touchstart') {
        isTouch = true;
        pointer = event.changedTouches[0];
        touchId = pointer.identifier;
    }
    else {
        isTouch = false;
        touchId = -1;
        pointer = event;
    }
    target = pointer.target;

    posCurrent = new Math_Vec2(pointer.clientX, pointer.clientY);

    if (isTouch) {
        var dragzone = js_BoardTable.prototype._findDragZone(target);
        if (dragzone) return;
        var thisCT = this;
        this._longPressTimeout = setTimeout(function () {
            if (!thisCT._checkNeedHandle(target)) return;
            if (thisCT._removeTimeout > 0) {
                clearTimeout(thisCT._removeTimeout);
                thisCT._removeTimeout = -1;
            }

            thisCT._ss++;
            thisCT.moveTo(thisCT._posCurrent);
            thisCT.active(true);
            thisCT._longPressTimeout = -1;
            if (thisCT._fireContextMenuTimeout >= 0) {
                clearTimeout(thisCT._fireContextMenuTimeout);
            }
            // show if device not support contextmenu event (after 700ms)
            thisCT._fireContextMenuTimeout = setTimeout(function () {
                if (!supportContextEvent) {
                    thisCT._fireContextMenuEvent();
                }
            }, 300);
        }, 400);
        this.$target = target;
        this._isTouch = isTouch;
        this._touchId = touchId;
        this._posCurrent = posCurrent;
        this._posStart = posCurrent;
        ContextMenu_$(document.body).on('touchmove', thisCT.eventHandler.mousemove)
            .on('touchend', thisCT.eventHandler.mousefinish)
            .on('touchcancel', thisCT.eventHandler.mousefinish);

    }
    else {
        if (EventEmitter["b" /* default */].isMouseRight(event) && this._checkNeedHandle(target)) {
            if (this._removeTimeout > 0) {
                clearTimeout(this._removeTimeout);
                this._removeTimeout = -1;
            }
            this.$target = target;
            this._isTouch = isTouch;
            this._posCurrent = posCurrent;
            this._posStart = posCurrent;
            this._touchId = touchId;
            this._ss++;
            this.moveTo(this._posCurrent);
            this.active(true);

            ContextMenu_$(document.body).on('mousemove', this.eventHandler.mousemove)
                .on('mouseup', this.eventHandler.mousefinish)
                .on('mouseleave', this.eventHandler.mousefinish);
        }
    }
};

/**
 * @param {Vec2} pos
 */
ContextCaptor.prototype.moveTo = function (pos) {
    this.addStyle({
        left: pos.x - 80 + 'px',
        top: pos.y - 80 + 'px'
    });
};

ContextCaptor.prototype.active = function (flag) {
    if (flag)
        this.addClass('absol-active');
    else
        this.removeClass('absol-active');
};

ContextCaptor.eventHandler.mousemove = function (event) {
    var isTouch = this._isTouch;
    var touchId;
    var pointer;
    var posCurrent;
    if (isTouch) {
        pointer = event.changedTouches[0];
        touchId = pointer.identifier;
    }
    else {
        isTouch = false;
        touchId = -1;
        pointer = event;
    }

    if (touchId != this._touchId) return;
    posCurrent = new Math_Vec2(pointer.clientX, pointer.clientY);
    this._posCurrent = posCurrent;
    if (isTouch) {
        if (this._posStart.sub(posCurrent).abs() > 10) this.eventHandler.mousefinish(event);
    }
    this.moveTo(posCurrent);
};


ContextCaptor.eventHandler.mousefinish = function (event) {

    var isTouch = this._isTouch;
    var touchId;
    var pointer;

    if (isTouch) {
        pointer = event.changedTouches[0];
        touchId = pointer.identifier;
    }
    else {
        isTouch = false;
        touchId = -1;
        pointer = event;

    }
    if (touchId != this._touchId) return;
    if (isTouch) {
        ContextMenu_$(document.body).off('touchmove', this.eventHandler.mousemove)
            .off('touchend', this.eventHandler.mousefinish)
            .off('touchcancel', this.eventHandler.mousefinish);
        if (this._longPressTimeout > 0) {
            clearTimeout(this._longPressTimeout);
            this._longPressTimeout = -1;
        }
    }
    else {
        ContextMenu_$(document.body).off('mousemove', this.eventHandler.mousemove)
            .off('mouseup', this.eventHandler.mousefinish)
            .off('mouseleave', this.eventHandler.mousefinish);
    }

    this._touchId = -100;
    if (this._fireContextMenuTimeout >= 0) {
        clearTimeout(this._fireContextMenuTimeout);
    }
    var thisCT = this;
    this._removeTimeout = setTimeout(function () {
        thisCT.active(false);
        thisCT._removeTimeout = -1;

    }, 1);
};

ContextCaptor.eventHandler.contextmenu = function (event) {
    supportContextEvent = true;
    event.preventDefault();
    this._fireContextMenuEvent();

};


ContextCaptor.auto = function () {
    if (ContextCaptor.$elt) return;
    ContextCaptor.$elt = ContextMenu_('contextcaptor');
    HTML5_Dom["a" /* default */].documentReady.then(function () {
        ContextCaptor.$elt.addTo(document.body);
        ContextCaptor.$elt.attachTo(document.body);
    });
};

ACore["a" /* default */].install(ContextCaptor);

/* harmony default export */ var ContextMenu = (ContextCaptor);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/dateinput.css
var dateinput = __webpack_require__(26);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/DateInput.js








var DateInput_ = ACore["a" /* default */]._;
var DateInput_$ = ACore["a" /* default */].$;

/**
 * @extends AElement
 * @constructor
 */
function DateInput() {
    this._lastValue = null;
    this._value = null;
    this._format = 'dd/mm/yyyy';
    this.$input = DateInput_$('input', this)
        .on('mouseup', this.eventHandler.mouseup)
        .on('keydown', this.eventHandler.keydown)
        .on('paste', this.eventHandler.paste)
        .on('cut', this.eventHandler.cut)
        .on('focus', this.eventHandler.focus);
    this._minLimitDate = new Date(1890, 0, 1, 0, 0, 0, 0);
    this._maxLimitDate = new Date(2090, 0, 1, 0, 0, 0, 0);
    this.$calendarBtn = DateInput_$('.as-date-input-icon-ctn', this)
        .on('mousedown', this.eventHandler.mousedownCalendarBtn);
    this._calendarHolder = js_ChromeCalendar.showWhenClick(this.$calendarBtn, {
        minLimitDate: this._minLimitDate,
        maxLimitDate: this._maxLimitDate,
        selectedDates: [new Date()],
    }, 'auto', this.eventHandler.calendarSelect);
    this._calendarHolder.element = this;
    this._formater = DateInput.formaters[this._format];
    OOP["a" /* default */].drillProperty(this, this._calendarHolder.calendarProps, ['minLimitDate', 'maxLimitDate']);
    this.value = null;
}

DateInput.formaters = {
    'dd/mm/yyyy': {
        separator: '/',
        nan: ['dd', 'mm', 'yyyy'],
        dayIdx: 0,
        monthIdx: 1,
        yearIdx: 2
    },
    'dd-mm-yyyy': {
        separator: '-',
        nan: ['dd', 'mm', 'yyyy'],
        dayIdx: 0,
        monthIdx: 1,
        yearIdx: 2
    },
    'dd.mm.yyyy': {
        separator: '.',
        nan: ['dd', 'mm', 'yyyy'],
        dayIdx: 0,
        monthIdx: 1,
        yearIdx: 2
    },
    'yyyy/mm/dd': {
        separator: '/',
        nan: ['yyyy', 'mm', 'dd'],
        dayIdx: 2,
        monthIdx: 1,
        yearIdx: 0
    },
    'yyyy-mm-dd': {
        separator: '-',
        nan: ['yyyy', 'mm', 'dd'],
        dayIdx: 2,
        monthIdx: 1,
        yearIdx: 0
    },
    'mm/dd/yyyy': {
        separator: '/',
        nan: ['mm', 'dd', 'yyyy'],
        dayIdx: 1,
        monthIdx: 0,
        yearIdx: 2
    },
};


DateInput.tag = 'dateinput';

DateInput.render = function () {
    //only support dd/mm/yyyy
    return DateInput_({
        class: 'as-date-input',
        extendEvent: ['change'],
        child: [{
            tag: 'input',
            props: {
                value: '__/__/____'
            }
        },
            {
                class: 'as-date-input-icon-ctn',
                child: 'span.mdi.mdi-calendar'
            }
        ]
    });
};

DateInput.prototype._autoSelect = function () {
    var slEnd = this.$input.selectionEnd;
    var slStart = this.$input.selectionStart;
    var texts = this.$input.value.split(this._formater.separator);
    var lTexts = texts.reduce(function (ac, cr) {
        ac.push(ac[ac.length - 1] + cr.length + 1);
        return ac;
    }, [0]);

    function indexOf(offset) {
        var l;
        for (var i = 0; i < lTexts.length; ++i) {
            l = lTexts[i];
            if (l > offset) return i;
        }
        return texts.length;
    }

    var i0 = indexOf(slStart);
    var i1 = indexOf(slEnd);

    if (i0 == i1) {
        this.$input.selectionStart = lTexts[i0 - 1];
        this.$input.selectionEnd = lTexts[i0] - 1;
    }
    else {
        this.$input.selectionStart = 0;
        this.$input.selectionEnd = lTexts[lTexts.length - 1];
    }
};

DateInput.prototype.notifyChange = function () {
    this.emit('change', { type: 'change', target: this, value: this._value }, this);
}

DateInput.prototype._countSeparator = function (text) {
    return text.replace(new RegExp('[^\\' + this._formater.separator + ']', 'g'), '').length
};

DateInput.prototype._cleanCharacter = function (text) {
    return text.replace(new RegExp('[^0-9\\' + this._formater.separator + ']', 'g'), '');
};

DateInput.prototype._splitBySeparator = function (text) {
    return text.split(this._formater.separator);
};

DateInput.prototype._onlySeparator = function (text) {
    return text.replace(new RegExp('[^\\' + this._formater.separator + ']', 'g'), '')
};

DateInput.prototype._isAcceptKey = function (key) {
    return !!key.match(new RegExp('[0-9\\' + this._formater.separator + ']', 'i'));
};

/**
 * @type {DateInput}
 */
DateInput.eventHandler = {};

DateInput.eventHandler.paste = function (event) {
    var paste = (event.clipboardData || window.clipboardData).getData('text');
    event.preventDefault();
    paste = this._cleanCharacter(paste);
    var slEnd = this.$input.selectionEnd;
    var slStart = this.$input.selectionStart;
    var sStart = Math.min(slStart, slEnd);
    var sEnd = Math.max(slEnd, slStart);
    var value = this.$input.value;
    var slashPasteCount = this._countSeparator(paste)
    var slashSelectedCount = this._countSeparator(value.substr(sStart, sEnd - sStart));

    if (slashPasteCount < 2) {
        if (slashPasteCount > slashSelectedCount) {
            paste = this._splitBySeparator(paste).slice(0, slashSelectedCount + 1).join(this._formater.separator);
        }
        else if (slashPasteCount < slashSelectedCount) {
            paste += this._formater.separator.repeat(slashSelectedCount - slashPasteCount);
        }
        slStart = (value.substr(0, sStart) + paste).length;
        slEnd = slStart;
        value = value.substr(0, sStart) + paste + value.substr(sEnd);
    }
    else {
        value = this._splitBySeparator(paste).slice(0, 3).join(this._formater.separator);
        slStart = value.length;
        slEnd = value.length;
    }
    this.$input.value = value;
    this.$input.selectionStart = slStart;
    this.$input.selectionEnd = slEnd;
};

DateInput.eventHandler.cut = function (event) {
    event.preventDefault();
    var slEnd = this.$input.selectionEnd;
    var slStart = this.$input.selectionStart;
    var sStart = Math.min(slStart, slEnd);
    var sEnd = Math.max(slEnd, slStart);
    var value = this.$input.value;
    this.$input.value = value.substr(0, sStart) + this._onlySeparator(value.substr(sStart, sEnd - sStart)) + value.substr(sEnd);
    this.$input.selectionStart = slStart;
    this.$input.selectionEnd = slStart;
};

DateInput.eventHandler.mouseup = function () {
    setTimeout(this._autoSelect.bind(this), 1);
};

DateInput.eventHandler.focus = function () {
    this.$input.on('blur', this.eventHandler.blur);
};

DateInput.eventHandler.blur = function () {
    var thisIp = this;
    this.$input.off('blur', this.eventHandler.blur);
    var value = this.$input.value;
    var slashValueCount = this._countSeparator(value).length;
    for (var i = slashValueCount; i < 2; ++i) value += this._formater.separator;
    var texts = value.split(this._formater.separator).slice(0, 3);
    var day = parseInt(texts[this._formater.dayIdx]);
    var month = parseInt(texts[this._formater.monthIdx]);
    var year = parseInt(texts[this._formater.yearIdx]);
    if (!isNaN(year)) year = Math.min(2090, Math.max(year, 1890));
    if (!isNaN(month)) month = Math.max(1, Math.min(12, month));
    if (!isNaN(day)) {
        day = Math.max(1, Math.min(31, day));
        if (!isNaN(month)) {
            day = Math.min(daysInMonth(2000, month), day);
            if (!isNaN(year)) day = Math.min(daysInMonth(year, month), day);
        }
    }
    if (!isNaN(year) && !isNaN(month) && !isNaN(day)) {
        var dateValue = new Date(year, month - 1, day, 0, 0, 0, 0);
        if (this._lastValue == null || compareDate(dateValue, this._lastValue) != 0) {
            this.value = dateValue;
            this.notifyChange();
        }
    }
    else {
        var values = this._formater.nan.slice();
        values[this._formater.dayIdx] = day;
        values[this._formater.monthIdx] = month;
        values[this._formater.yearIdx] = year;

        this.$input.value = values.map(function (e, i) {
            if (isNaN(e)) return thisIp._formater.nan[i];
            e = e + '';
            while (e.length < thisIp._formater.nan[i].length) e = '0' + e;
            return e;
        }).join(this._formater.separator);
        if (this._lastValue != null) {
            this._value = null;
            this.notifyChange();
        }
    }
};


DateInput.eventHandler.calendarSelect = function (value) {
    this.value = value;
    this.notifyChange();
};

DateInput.eventHandler.keydown = function (event) {
    var slEnd = this.$input.selectionEnd;
    var slStart = this.$input.selectionStart;
    var value = this.$input.value;
    var sStart = Math.min(slStart, slEnd);
    var sEnd = Math.max(slEnd, slStart);
    var selectedValue = value.substr(sStart, sEnd - sStart);
    var slashValueCount = this._countSeparator(value);
    var slashSelectedCount = this._countSeparator(selectedValue);

    var texts = this._splitBySeparator(value);
    var lTexts = texts.reduce(function (ac, cr) {
        ac.push(ac[ac.length - 1] + cr.length + 1);
        return ac;
    }, [0]);

    function indexOf(offset) {
        var l;
        for (var i = 0; i < lTexts.length; ++i) {
            l = lTexts[i];
            if (l > offset) return i;
        }
        return texts.length;
    }

    var i0 = indexOf(slStart);
    var i1 = indexOf(slEnd);
    if (event.key == 'Enter') {
        event.preventDefault();
        this.$input.blur();
    }
    else if (event.key == 'Meta') {
        event.preventDefault();
    }
    else if (event.key == 'Backspace') {
        if (slStart == slEnd) {
            if (slStart > 0) {
                if (value.charAt(slStart - 1) == this._formater.separator) {
                    event.preventDefault();
                    this.$input.value = value;
                    this.$input.selectionStart = slStart - 1;
                    this.$input.selectionEnd = slStart - 1;
                }
            }
        }
        else if (i0 != i1) {
            event.preventDefault();
            this.$input.value = value.substr(0, sStart) + this._onlySeparator(selectedValue) + value.substr(sEnd);
            this.$input.selectionStart = slStart;
            this.$input.selectionEnd = slStart;
        }
    }
    else if (event.key == 'Delete') {
        if (slStart == slEnd) {
            if (slStart < value.length) {
                if (value.charAt(slStart) == this._formater.separator) {
                    event.preventDefault();
                    this.$input.value = value;
                    this.$input.selectionStart = slStart + 1;
                    this.$input.selectionEnd = slStart + 1;
                }
            }
        }
        else if (i0 != i1) {
            event.preventDefault();
            this.$input.value = value.substr(0, sStart) + this._onlySeparator(selectedValue) + value.substr(sEnd);
            this.$input.selectionStart = slStart;
            this.$input.selectionEnd = slStart;
        }
    }
    else if (!event.ctrlKey && !event.altKey && event.key && event.key.length == 1) {
        if (this._isAcceptKey(event.key)) {
            if (event.key == this._formater.separator) {
                if (slashSelectedCount == 0 && slashValueCount >= 2 && value.charAt(slEnd) != this._formater.separator) {
                    event.preventDefault();
                }
                else if (value.charAt(slEnd) == this._formater.separator) {
                    event.preventDefault();
                    this.$input.selectionStart = lTexts[i1];
                    this.$input.selectionEnd = lTexts[i1 + 1] - 1;
                }
            }
        }
        else {
            event.preventDefault();
        }
    }
    else if (!event.ctrlKey && !event.altKey && event.key == "Tab") {
        if (event.shiftKey) {
            if (i0 > 1) {
                event.preventDefault();
                this.$input.selectionStart = lTexts[i1 - 2];
                this.$input.selectionEnd = lTexts[i1 - 1] - 1;
            }
        }
        else {
            if (i1 < texts.length) {
                event.preventDefault();
                this.$input.selectionStart = lTexts[i1];
                this.$input.selectionEnd = lTexts[i1 + 1] - 1;
            }
        }
    }
};


DateInput.property = {};

DateInput.property.value = {
    set: function (value) {
        if (value === false || value === null || value === undefined) {
            this.$input.value = this._format;
            this._value = null;
        }
        else if ((typeof value == 'string') || (typeof value == 'number')) {
            this._value = beginOfDay(new Date(value));
            this.$input.value = formartDateString(this._value, this._format);
        }
        else if (value.getTime) {
            this._value = beginOfDay(value);
            this.$input.value = formartDateString(this._value, this._format);
        }
        this._lastValue = this._value;
        this._calendarHolder.calendarProps.selectedDates = [this._value || new Date()];
    },
    get: function () {
        return this._value;
    }
};

DateInput.property.format = {
    set: function (value) {
        value = value || 'dd/mm/yyyy';
        if (value == this._format) return;
        if (DateInput.formaters[value]) {
            this._formater = DateInput.formaters[value];
            this._format = value;
            this.value = this.value;
        }
        else {
            throw new Error("Not support format " + value);
        }
    },
    get: function () {
        return this._format;
    }
};

DateInput.property.disabled = {
    set: function (value) {
        value = !!value;
        this.$input.disabled = value;
        if (value) this.addClass('as-disabled');
        else this.removeClass('as-disabled');
    },
    get: function () {
        return this.$input.disabled;
    }
};

ACore["a" /* default */].install(DateInput);

/* harmony default export */ var js_DateInput = (DateInput);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/DateInput2.js








var DateInput2_ = ACore["a" /* default */]._;
var DateInput2_$ = ACore["a" /* default */].$;

/**
 * @extends AElement
 * @constructor
 */
function DateInput2() {
    this._lastValue = null;
    this._value = null;
    this._format = 'dd/mm/yyyy';
    this.$input = DateInput2_$('input', this)
        .on('keydown', this.eventHandler.keydown)
        .on('focus', this.eventHandler.focus);
    this._minLimitDate = new Date(1890, 0, 1, 0, 0, 0, 0);
    this._maxLimitDate = new Date(2090, 0, 1, 0, 0, 0, 0);
    this.$calendarBtn = DateInput2_$('.as-date-input-icon-ctn', this)
        .on('mousedown', this.eventHandler.mousedownCalendarBtn);
    this._calendarHolder = js_ChromeCalendar.showWhenClick(this.$calendarBtn, {
        minLimitDate: this._minLimitDate,
        maxLimitDate: this._maxLimitDate,
        selectedDates: [new Date()],
    }, 'auto', this.eventHandler.calendarSelect);
    this._calendarHolder.element = this;
    this._formater = js_DateInput.formaters[this._format];
    OOP["a" /* default */].drillProperty(this, this._calendarHolder.calendarProps, {
        minLimitDate: 'minLimitDate',
        maxLimitDate: 'maxLimitDate',
        minDateLimit: 'minLimitDate',
        maxDateLimit: 'maxLimitDate'
    });

    this.value = null;
}

DateInput2.tag = 'dateinput';
DateInput2.render = js_DateInput.render;


DateInput2.prototype._autoSelect = function () {
    var slEnd = this.$input.selectionEnd;
    var slStart = this.$input.selectionStart;
    var texts = this.$input.value.split(this._formater.separator);
    var lTexts = texts.reduce(function (ac, cr) {
        ac.push(ac[ac.length - 1] + cr.length + 1);
        return ac;
    }, [0]);

    function indexOf(offset) {
        var l;
        for (var i = 0; i < lTexts.length; ++i) {
            l = lTexts[i];
            if (l > offset) return i;
        }
        return texts.length;
    }

    var i0 = indexOf(slStart);
    var i1 = indexOf(slEnd);

    if (i0 == i1) {
        this.$input.selectionStart = lTexts[i0 - 1];
        this.$input.selectionEnd = lTexts[i0] - 1;
    }
    else {
        this.$input.selectionStart = 0;
        this.$input.selectionEnd = lTexts[lTexts.length - 1];
    }
};

/**
 * @param {String} text
 */
DateInput2.prototype._verifyFormat = function (text) {
    var regex = /([,\.\-\/])|([a-zA-Z0-9]+)/g;
    var tokens = text.match(regex);
    var count = [['dd', 'd'], ['m', 'mm', 'mmm', 'mmmm'], ['yy', 'yyyy']].map(function (list) {
        return list.reduce(function (ac, cr) {
            if (tokens.indexOf(cr) >= 0) return ac + 1;
            return ac;
        }, 0);
    });
    return count[0] == 1 && count[1] == 1 && count[2] == 1;
};

DateInput2.prototype.notifyChange = function () {
    this.emit('change', { type: 'change', target: this, value: this._value }, this);
};

DateInput2.prototype.focus = function () {
    this.$input.focus();
};

DateInput2.prototype.blur = function () {
    this.$input.blur();
};

/**
 * @type {DateInput2}
 */
DateInput2.eventHandler = {};


DateInput2.eventHandler.focus = function () {
    this.$input.on('blur', this.eventHandler.blur);
};

DateInput2.eventHandler.blur = function () {
    try {
        var newVal = parseDateString(this.$input.value, this._format);
        if (!this._value || compareDate(newVal, this._value)) {
            this.value = newVal;
            this.notifyChange();
        }
    } catch (error) {
        this.value = this._value;
    }
    this.$input.off('blur', this.eventHandler.blur);
};

DateInput2.eventHandler.keydown = function (event) {
    if (event.key == "Enter") {
        this.$input.blur();
    }
};


DateInput2.eventHandler.calendarSelect = function (value) {
    this.value = value;
    this.notifyChange();
};


DateInput2.property = {};

DateInput2.property.value = {
    set: function (value) {
        if (value === false || value === null || value === undefined) {
            this.$input.value = '';
            this._value = null;
        }
        else if ((typeof value == 'string') || (typeof value == 'number')) {
            this._value = beginOfDay(new Date(value));
            this.$input.value = formartDateString(this._value, this._format);
        }
        else if (value.getTime) {
            this._value = beginOfDay(value);
            this.$input.value = formartDateString(this._value, this._format);
        }
        this._lastValue = this._value;
        this._calendarHolder.calendarProps.selectedDates = [this._value || new Date()];
    },
    get: function () {
        return this._value;
    }
};

/**
 * @type {DateInput2}
 */
DateInput2.property.format = {
    set: function (value) {
        value = value || 'dd/mm/yyyy';
        if (!this._verifyFormat(value)) {
            value = 'dd/mm/yyyy';
            console.error("Invalid date format: " + value);
        }
        this._format = value;
        this.value = this.value;//update
    },
    get: function () {
        return this._format;
    }
};

DateInput2.property.disabled = {
    set: function (value) {
        value = !!value;
        this.$input.disabled = value;
        if (value) this.addClass('as-disabled');
        else this.removeClass('as-disabled');
    },
    get: function () {
        return this.$input.disabled;
    }
}

ACore["a" /* default */].install(DateInput2);

/* harmony default export */ var js_DateInput2 = (DateInput2);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/draggablestack.css
var draggablestack = __webpack_require__(27);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/PositionTracker.js





/***
 * @extends {AElement}
 * @constructor
 */
function PositionTracker() {
    this.defineEvent('positionchange');
    this.$trackScrollParents = [];
    this._scrollTrackEventHandler = this.notifyPositionChange.bind(this);
}

PositionTracker.tag = 'PositionTracker'.toLowerCase();

/***
 *
 * @return {AElement}
 */
PositionTracker.render = function () {
    return _('div');
};


PositionTracker.prototype.notifyPositionChange = function (event) {
    this.emit('positionchange', { type: 'positionchange', originEvent: event });
};

PositionTracker.prototype.startTrackPosition = function () {
    if (this.$trackScrollParents.length > 0)
        this.stopTrackPosition();
    var trackElt = this;
    while (trackElt) {
        if (trackElt.addEventListener)
            trackElt.addEventListener('scroll', this._scrollTrackEventHandler, false);
        else
            trackElt.attachEvent('onscroll', this._scrollTrackEventHandler, false);

        this.$trackScrollParents.push(trackElt);
        trackElt = trackElt.parentElement;
    }
    if (document.addEventListener) {
        document.addEventListener('scroll', this._scrollTrackEventHandler, false);
    }
    else {
        document.attachEvent('onscroll', this._scrollTrackEventHandler, false);
    }
    this.$trackScrollParents.push(document);
};

PositionTracker.prototype.stopTrackPosition = function () {
    var trackElt;
    for (var i = 0; i < this.$trackScrollParents.length; ++i) {
        trackElt = this.$trackScrollParents[i];
        if (trackElt.removeEventListener)
            trackElt.removeEventListener('scroll', this._scrollTrackEventHandler, false);
        else
            trackElt.dettachEvent('onscroll', this._scrollTrackEventHandler, false);
    }
    this.$trackScrollParents = [];
};

ACore["a" /* default */].install(PositionTracker);

/* harmony default export */ var js_PositionTracker = (PositionTracker);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/DraggableVStack.js










var DraggableVStack_ = ACore["a" /* default */]._;
var DraggableVStack_$ = ACore["a" /* default */].$;


/***
 * @augments Hanger
 * @augments PositionTracker
 * @constructor
 */
function DraggableVStack() {
    DraggableVStack_({ tag: 'PositionTracker'.toLowerCase(), elt: this });
    this.$cloneContainer = DraggableVStack_('.absol-draggable-stack-clone-container');
    this.on('predrag', this.eventHandler.predrag)
        .on('dragstart', this.eventHandler.dragstart)
        .on('drag', this.eventHandler.drag)
        .on('dragend', this.eventHandler.dragend);
    this._state = 0;
    this.friends = [];
    this.$friends = [];
    this._privateDraggableVStackIdent = randomIdent(35);
    this._dragData = null;
    this.on('positionchange', this.eventHandler.scroll);
}


DraggableVStack.tag = 'DraggableVStack'.toLowerCase();

DraggableVStack.render = function () {
    return DraggableVStack_({
        tag: 'hanger',
        extendEvent: ['change', 'orderchange', 'itemleave', 'itementer'],
        class: ['absol-draggable-stack', 'absol-draggable-vstack']
    });
};

DraggableVStack.prototype._updateFriends = function () {
    var dict = {};
    dict[this._privateDraggableVStackIdent] = this;
    this.$friends = this.friends.reduce(function (ac, cr) {
        if (HTML5_Dom["a" /* default */].isDomNode(cr)) {
            if (cr._privateDraggableVStackIdent) {
                ac.result.push(cr);
                ac.dict[cr._privateDraggableVStackIdent] = cr;
            }
        }
        else if (typeof cr === 'string') {
            DraggableVStack_$(cr, false, function (elt) {
                if (elt._privateDraggableVStackIdent) {
                    if (!ac.dict[elt._privateDraggableVStackIdent]) {
                        ac.result.push(elt);
                        ac.dict[elt._privateDraggableVStackIdent] = elt;
                    }
                }
            })
        }
        return ac;
    }, { dict: dict, result: [] }).result;
};

DraggableVStack.prototype._findIndex = function (clientY) {
    var childBounds = Array.prototype.map.call(this.childNodes, function (elt) {
        return elt.getBoundingClientRect()
    });
    var childTops = childBounds.map(function (b) {
        return b.top;
    });
    childTops.push((childBounds[childBounds.length - 1] || this.getBoundingClientRect()).bottom);
    var nearestIdx = 0;
    var nearestVal = 10000000;
    var val;
    for (var i = 0; i < childTops.length; ++i) {
        val = Math.abs(clientY - childTops[i]);
        if (val < nearestVal) {
            nearestVal = val;
            nearestIdx = i;
        }
    }
    return nearestIdx;
};

/***
 *
 * @type {DraggableVStack|{}}
 */
DraggableVStack.eventHandler = {};
DraggableVStack.eventHandler.predrag = function (event) {
    var dragzone = this._findDragzone(event.target);
    if (!dragzone) {
        event.cancel();
    }
};

DraggableVStack.eventHandler.dragstart = function (event) {
    this.startTrackPosition();
    event.preventDefault();
    this._updateFriends();
    this._state = 1;
    this.addClass('as-state-drag');

    this._dragData = {
        mouseStartPos: new Math_Vec2(event.clientX, event.clientY),
        elt: this._findDirectChild(event.target),
        rootBound: this.getBoundingClientRect(),
        dest: this
    };
    this._dragData.mouseCurrentPos = this._dragData.mouseStartPos;
    this._updateDestChildrenBound();
    this._dragData.idx = Array.prototype.indexOf.call(this.childNodes, this._dragData.elt);

    this._dragData.eltBound = this._dragData.destChildBounds[this._dragData.idx];
    this._dragData.offsetPos = this._dragData.mouseStartPos.sub(new Math_Vec2(this._dragData.eltBound.left, this._dragData.eltBound.top));
    this._dragData.eltRelative = new Math_Vec2(this._dragData.eltBound.left, this._dragData.eltBound.top).sub(new Math_Vec2(this._dragData.rootBound.left, this._dragData.rootBound.top));

    this.$cloneContainer.addTo(document.body);
    this.$cloneContainer.clearChild().addChild(DraggableVStack_$(this._dragData.elt.cloneNode(true)).addStyle({
        boxSizing: 'border-box',
        width: this._dragData.eltBound.width + 'px',
        height: this._dragData.eltBound.height + 'px'
    }));
    this.$cloneContainer.addStyle({
        left: this._dragData.eltBound.left + 'px',
        top: this._dragData.eltBound.top + 'px',
    });
    this._dragData.elt.addClass('dragging');
};


DraggableVStack.eventHandler.drag = function (event) {
    event.preventDefault();
    this._dragData.mouseCurrentPos = new Math_Vec2(event.clientX, event.clientY);
    this._updateHoverDest();
    this._updateDraggingPosition();
    this.eventHandler.dragOverflow(event);
};

DraggableVStack.prototype.getClientY = function () {
    var top = 1000000;
    var bottom = -10000000;
    var child;
    var childBound;
    for (var i = 0; i < this.childNodes.length; ++i) {
        child = this.childNodes[i];
        if (child === this.$cloneContainer) continue;
        if (child.getBoundingClientRect) {
            childBound = child.getBoundingClientRect();
            top = Math.min(top, childBound.top);
            bottom = Math.max(bottom, childBound.bottom);
        }
    }
    return { top: top, bottom: bottom };
};

DraggableVStack.eventHandler.dragOverflow = function (event) {
    var scroller = this;
    while (scroller) {
        var overflowStyle = window.getComputedStyle(scroller)['overflow'];
        if ((overflowStyle === 'auto' || overflowStyle === 'scroll' || scroller.tagName === 'HTML') && (scroller.clientHeight < scroller.scrollHeight)) break;
        scroller = scroller.parentElement;
    }
    if (!scroller) return;
    var outBound = scroller.getBoundingClientRect();
    var bBound = this.$cloneContainer.getBoundingClientRect();
    var screenSize = HTML5_Dom["a" /* default */].getScreenSize();
    if (scroller.tagName !== "HTML") {
        outBound = {
            top: Math.max(outBound.top, 0),
            bottom: Math.min(outBound.bottom, screenSize.height)
        }
    }
    else {
        outBound = {
            top: 0,
            bottom: screenSize.height
        }
    }
    var vy = 0;
    if (bBound.top < outBound.top) {
        vy = bBound.top - outBound.top;
    }
    else if (bBound.bottom > outBound.bottom) {
        vy = bBound.bottom - outBound.bottom;
    }

    var dt = 1 / 30;
    if (vy !== 0) {
        var copyEvent = {
            type: event.type,
            preventDefault: function () {/* noop */
            },
            target: event.target
        };

        copyEvent.clientX = event.clientX;
        copyEvent.clientY = event.clientY

        var thisBT = this;

        setTimeout(function () {
            if (scroller.scrollHeight > scroller.clientHeight) {
                scroller.scrollTop += absCeil(vy * dt);
            }

            if (thisBT._state === 1) {
                thisBT.eventHandler.dragOverflow(copyEvent);
            }
        }, dt * 1000);
    }
};


DraggableVStack.eventHandler.scroll = function (event) {
    this._updateDraggingPosition();
};

DraggableVStack.eventHandler.dragend = function (event) {
    this.stopTrackPosition();
    event.preventDefault();
    this._dragData.dest.removeClass('as-state-drag');
    this.$cloneContainer.remove();
    this._dragData.elt.removeClass('dragging');
    this.removeClass('as-state-no-change');
    this._state = 0;
    var beforeElt;
    if (this._dragData.dest === this) {
        if (this._dragData.idx === this._dragData.destIdx || (this._dragData.idx + 1 === this._dragData.destIdx)) {
            //todo
        }
        else {
            if (this._dragData.destIdx === this.childNodes.length) {
                this._dragData.elt.remove();
                this.addChild(this._dragData.elt);
                this.emit('change', {
                    type: 'change',
                    fromStack: this,
                    toStack: this,
                    elt: this._dragData.elt,
                    sourceIndex: this._dragData.idx,
                    destIndex: this.childNodes.length,
                    oldIdx: this._dragData.idx,
                    newIdx: this.childNodes.length - 1,
                    desc: "Move element to end of stack."
                }, this);
                this.emit('orderchange', {
                    type: 'orderchange',
                    fromStack: this,
                    toStack: this,
                    elt: this._dragData.elt,
                    oldIdx: this._dragData.idx,
                    newIdx: this.childNodes.length - 1,
                    desc: "Move element to end of stack."
                }, this);
            }
            else {
                beforeElt = this.childNodes[this._dragData.destIdx];
                this._dragData.elt.remove();
                this.addChildBefore(this._dragData.elt, beforeElt);
                this.emit('change', {
                    type: 'change',
                    fromStack: this,
                    toStack: this,
                    elt: this._dragData.elt,
                    sourceIndex: this._dragData.idx,
                    destIndex: this._dragData.destIdx,
                    oldIdx: this._dragData.idx,
                    newIdx: this._dragData.destIdx > this._dragData.idx ? this._dragData.destIdx - 1 : this._dragData.destIdx,
                    desc: "Move element to before  this.childNodes[" + this._dragData.destIdx + "]"
                }, this);
                this.emit('orderchange', {
                    type: 'orderchange',
                    fromStack: this,
                    toStack: this,
                    elt: this._dragData.elt,
                    oldIdx: this._dragData.idx,
                    newIdx: this._dragData.destIdx > this._dragData.idx ? this._dragData.destIdx - 1 : this._dragData.destIdx,
                    desc: "Move element to before  this.childNodes[" + this._dragData.destIdx + "]"
                }, this);
            }
        }
    }
    else {
        if (this._dragData.destIdx === this._dragData.dest.childNodes.length) {
            this.emit('orderchange', {
                type: 'itemleave',
                fromStack: this,
                toStack: this._dragData.dest,
                oldIdx: this._dragData.idx,
                newIdx: this.childNodes.length - 1,
                desc: "Move element to end of friend stack."
            }, this);
            this._dragData.elt.remove();
            this._dragData.dest.addChild(this._dragData.elt);
            this._dragData.dest.emit('orderchange', {
                type: 'itementer',
                fromStack: this,
                toStack: this._dragData.dest,
                oldIdx: this._dragData.idx,
                newIdx: this.childNodes.length - 1,
                desc: "Move element to end of friend stack."
            }, this._dragData.dest);
            this.emit('change', {
                type: 'change',
                fromStack: this,
                toStack: this._dragData.dest,
                elt: this._dragData.elt,
                sourceIndex: this._dragData.idx,
                destIndex: this.childNodes.length,
                oldIdx: this._dragData.idx,
                newIdx: this.childNodes.length - 1,
                desc: "Move element to end of friend stack."
            });
        }
        else {
            beforeElt = this._dragData.dest.childNodes[this._dragData.destIdx];
            this._dragData.elt.remove();
            this.emit('itemleave', {
                type: 'itemleave',
                fromStack: this,
                toStack: this._dragData.dest,
                elt: this._dragData.elt,
                oldIdx: this._dragData.idx,
                newIdx: this._dragData.destIdx,
                desc: "Move element to before friend.childNodes[" + this._dragData.destIdx + "]"
            }, this);
            this._dragData.dest.addChildBefore(this._dragData.elt, beforeElt);
            this._dragData.dest.emit('itementer', {
                type: 'itementer',
                fromStack: this,
                toStack: this._dragData.dest,
                elt: this._dragData.elt,
                oldIdx: this._dragData.idx,
                newIdx: this._dragData.destIdx,
                desc: "Move element to before friend.childNodes[" + this._dragData.destIdx + "]"
            }, this._dragData.dest);
            this.emit('change', {
                type: 'change',
                fromStack: this,
                toStack: this._dragData.dest,
                elt: this._dragData.elt,
                sourceIndex: this._dragData.idx,
                destIndex: this._dragData.destIdx,
                oldIdx: this._dragData.idx,
                newIdx: this._dragData.destIdx,
                desc: "Move element to before friend.childNodes[" + this._dragData.destIdx + "]"
            }, this);
        }
    }
};


DraggableVStack.prototype._updateDestChildrenBound = function () {

    var top0 = this._dragData.dest.getBoundingClientRect().top;
    this._dragData.destChildBounds = Array.prototype.map.call(this._dragData.dest.childNodes, function (elt) {
        return elt.getBoundingClientRect()
    });
    this._dragData.destChildTops = this._dragData.destChildBounds.map(function (bound) {
        return bound.top - top0;
    }).concat([(this._dragData.destChildBounds[this._dragData.destChildBounds.length - 1] || this.getBoundingClientRect()).bottom - top0]);
}



DraggableVStack.prototype._updateHoverDest = function () {
    var bound;
    var newDest;
    var friendElt;
    var friendList = this.$friends.concat([this]);
    var top0;
    for (var i = 0; i < friendList.length; ++i) {
        friendElt = friendList[i];
        bound = Math_Rectangle.fromClientRect(friendElt.getBoundingClientRect());
        if (bound.containsPoint(this._dragData.mouseCurrentPos)) {
            top0 = bound.y;
            newDest = friendElt;
            break;
        }
    }

    if (newDest && this._dragData.dest !== newDest) {
        this._dragData.dest.removeClass('as-state-drag');
        this._dragData.dest = newDest;
        this._dragData.dest.addClass('as-state-drag');
        this._dragData.dest.addStyle('--dest-y', 'unset');
        this._updateDestChildrenBound();
    }
};

DraggableVStack.prototype._updateDraggingPosition = function () {
    var bound = this.getBoundingClientRect();
    var clonePos = this._dragData.mouseCurrentPos.sub(this._dragData.offsetPos);

    this.$cloneContainer.addStyle({
        top: clonePos.y + 'px',
        left: bound.left + 'px'
    });

    this._dragData.destIdx = this._dragData.dest._findIndex(clonePos.y + this._dragData.eltBound.height / 2);
    this._dragData.dest.addStyle('--dest-y', this._dragData.destChildTops[this._dragData.destIdx] + 'px');
    if (this._dragData.dest === this) {
        if (this._dragData.idx === this._dragData.destIdx || (this._dragData.idx + 1 === this._dragData.destIdx)) {
            this.addClass('as-state-no-change');
        }
        else {
            this.removeClass('as-state-no-change');
        }
    }
};


DraggableVStack.prototype._autoScrollParentIfNeed = function (delta) {
    //todo: choose which element should be scroll
    if (!(delta > 0)) delta = 10000;
    var bound = this.getBoundingClientRect();
    var cloneBound = this.$cloneContainer.getBoundingClientRect();
    var outBound = HTML5_Dom["a" /* default */].traceOutBoundingClientRect(this.$cloneContainer);
    if (outBound.bottom >= cloneBound.bottom && outBound.top <= cloneBound.top) return;
    var scrollables = [];
    var current = this;

    while (current) {
        var oy = window.getComputedStyle(current);
        oy = oy['overflow-y'] || oy['overflowY'];

        if (oy == 'auto' || oy == 'scroll') {
            scrollables.push(current);
        }
        current = current.parentElement;
    }
    scrollables.push(document.body.parentElement);

};

DraggableVStack.prototype._findDragzone = function (elt) {
    var result = null;
    while (elt && elt != this) {
        if (elt.classList && elt.classList.contains('drag-zone')) {
            result = elt;
            break;
        }
        elt = elt.parentNode;
    }

    if (result) {
        elt = result;
        while (elt && elt != this) {
            if (elt.classList && (elt.classList.contains('absol-draggable-stack'))) {
                result = null;
                break;
            }
            elt = elt.parentNode;
        }
    }

    return result;
};

DraggableVStack.prototype._findDirectChild = function (elt) {
    while (elt && elt != this) {
        if (elt.parentNode == this) return elt;
        elt = elt.parentNode;
    }
    return undefined;
};

DraggableVStack.property = {};

DraggableVStack.property.friends = {
    set: function (value) {
        if (!(value instanceof Array)) value = [value];
        this._friends = value;
    },
    get: function () {
        return this._friends;
    }
};

ACore["a" /* default */].install(DraggableVStack);

/* harmony default export */ var js_DraggableVStack = (DraggableVStack);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/DraggableHStack.js







var DraggableHStack_ = ACore["a" /* default */]._;
var DraggableHStack_$ = ACore["a" /* default */].$;

/***
 * @augments DraggableVStack
 * @augments PositionTracker
 * @constructor
 */
function DraggableHStack() {
    this._dragData = null;
    this.$cloneContainer = DraggableHStack_('.absol-draggable-stack-clone-container');
    this.on('predrag', this.eventHandler.predrag)
        .on('dragstart', this.eventHandler.dragstart)
        .on('drag', this.eventHandler.drag)
        .on('dragend', this.eventHandler.dragend);
    DraggableHStack_({ elt: this, tag: js_PositionTracker })
        .on('positionchange', this._updateDraggingPosition.bind(this));
}


DraggableHStack.tag = "DraggableHStack".toLowerCase();
DraggableHStack.render = function () {
    return DraggableHStack_({
        tag: 'hanger',
        extendEvent: 'change',
        class: ['absol-draggable-stack', 'absol-draggable-hstack']
    });
};

/***
 *
 * @param {Rectangle} rect
 * @returns {number}
 * @private
 */
DraggableHStack.prototype._findDropIdx = function (rect) {
    if (!this._dragData) return -1;
    var centerX = rect.x + rect.width / 2;
    var currentBound = Math_Rectangle.fromClientRect(this.getBoundingClientRect());
    var nearestDistance = Math.abs(centerX - currentBound.width);//end of stack
    var cDist;
    var nearestIndex = this._dragData.childBounds.length;
    var childX;
    for (var i = 0; i < this._dragData.childBounds.length; ++i) {
        childX = this._dragData.childBounds[i].x + currentBound.x - this._dragData.bound.x;
        cDist = Math.abs(centerX - childX);
        if (cDist < nearestDistance) {
            nearestDistance = cDist;
            nearestIndex = i;
        }
    }
    return nearestIndex;
};

/***
 *
 * @type {DraggableHStack|{}}
 */
DraggableHStack.eventHandler = {};

DraggableHStack.eventHandler.predrag = js_DraggableVStack.eventHandler.predrag;

DraggableHStack.eventHandler.dragstart = function (event) {
    this.addClass('as-has-dragging');
    this.startTrackPosition();
    var mousePos = new Math_Vec2(event.clientX, event.clientY);
    var elt = this._findDirectChild(event.target);
    var childBounds = Array.prototype.map.call(this.childNodes, function (e) {
        return Math_Rectangle.fromClientRect(e.getBoundingClientRect());
    });
    var eltIdx = Array.prototype.indexOf.call(this.childNodes, elt);
    var eltBound = childBounds[eltIdx];
    var eltMouseOffset = mousePos.sub(new Math_Vec2(eltBound.x, eltBound.y));


    this._dragData = {
        mouseStartPos: mousePos,
        mousePos: mousePos,
        bound: Math_Rectangle.fromClientRect(this.getBoundingClientRect()),
        childBounds: childBounds,
        elt: elt,
        eltIdx: eltIdx,
        eltBound: eltBound,
        eltMouseOffset: eltMouseOffset
    };

    this.$cloneContainer.addStyle({
        left: eltBound.x + 'px',
        top: eltBound.y + 'px',
        width: eltBound.width + 'px',
        height: eltBound.height + 'px',
    }).clearChild()
        .addChild(DraggableHStack_$(elt.cloneNode(true)))
        .addTo(document.body);
    elt.addClass('as-dragging');
    this._updateDraggingPosition();
};


DraggableHStack.eventHandler.drag = function (event) {
    event.preventDefault();
    this._dragData.mousePos = new Math_Vec2(event.clientX, event.clientY);
    this._updateDraggingPosition();
};


DraggableHStack.eventHandler.dragend = function (event) {
    var thisS = this;
    this.stopTrackPosition();
    this.removeClass('as-has-dragging');
    this._dragData.elt.removeClass('as-dragging');
    if (this._dragData.destIdx == this._dragData.eltIdx || this._dragData.destIdx == this._dragData.eltIdx + 1) {
        this.$cloneContainer.addClass('as-home-going');
        this._updateDraggingPosition();
        setTimeout(function () {
            thisS.$cloneContainer.selfRemove()
                .removeClass('as-home-going');
        }, 100);
    }
    else {
        if (this._dragData.destIdx === this._dragData.childBounds.length) {
            this._dragData.elt.remove();
            this.addChild(this._dragData.elt);
            this.emit('change', {
                type: 'change',
                elt: this._dragData.elt,
                sourceIndex: this._dragData.eltIdx,
                destIndex: this._dragData.childBounds.length,
                oldIdx: this._dragData.eltIdx,
                newIdx: this._dragData.childBounds.length - 1,
                desc: "Move element to end of stack."
            }, this);
        }
        else {
            var beforeElt = this.childNodes[this._dragData.destIdx];
            this._dragData.elt.remove();
            this.addChildBefore(this._dragData.elt, beforeElt);
            this.emit('change', {
                type: 'change',
                elt: this._dragData.elt,
                sourceIndex: this._dragData.eltIdx,
                destIndex: this._dragData.destIdx,
                oldIdx: this._dragData.eltIdx,
                newIdx: this._dragData.destIdx > this._dragData.eltIdx ? this._dragData.destIdx - 1 : this._dragData.destIdx,
                desc: "Move element to before  this.childNodes[" + this._dragData.destIdx + "]"
            }, this);
        }
        this.$cloneContainer.selfRemove()
            .removeClass('as-home-going');
    }

    this.removeClass('as-no-change');
};


DraggableHStack.prototype._findDragzone = js_DraggableVStack.prototype._findDragzone;
DraggableHStack.prototype._findDirectChild = js_DraggableVStack.prototype._findDirectChild;


DraggableHStack.prototype._updateDraggingPosition = function () {
    var bound = this.getBoundingClientRect();
    var x, y;
    if (this.$cloneContainer.containsClass('as-home-going')) {
        x = this._dragData.eltBound.x - this._dragData.bound.x + bound.left;
        y = this._dragData.eltBound.y - this._dragData.bound.y + bound.top;
    }
    else {
        y = bound.top + (this._dragData.eltBound.y - this._dragData.bound.y);
        var newPos = this._dragData.mousePos.sub(this._dragData.eltMouseOffset);
        x = newPos.x;
    }
    this.$cloneContainer.addStyle({
        left: x + 'px',
        top: y + 'px'
    });
    var cBound = this._dragData.eltBound.clone();
    cBound.x = x;
    cBound.y = y;
    var destIdx = this._findDropIdx(cBound);
    this._dragData.destIdx = destIdx;
    var destX;
    if (destIdx >= this._dragData.childBounds.length) {
        var lastRect = this._dragData.childBounds[this._dragData.childBounds.length - 1];
        destX = lastRect.x + lastRect.width - this._dragData.bound.x;
    }
    else {
        destX = this._dragData.childBounds[destIdx].x - this._dragData.bound.x;
    }
    this.addStyle('--dest-x', destX + 'px');
    if (destIdx == this._dragData.eltIdx || destIdx == this._dragData.eltIdx + 1) {
        this.addClass('as-no-change');
    }
    else {
        this.removeClass('as-no-change');
    }
};


ACore["a" /* default */].install(DraggableHStack);
/* harmony default export */ var js_DraggableHStack = (DraggableHStack);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/droppanel.css
var droppanel = __webpack_require__(28);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/exptree.css
var exptree = __webpack_require__(87);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/ExpTree.js








var ExpTree_ = ACore["a" /* default */]._;
var ExpTree_$ = ACore["a" /* default */].$;


ACore["a" /* default */].install('toggler-ico', function () {
    var res = ExpTree_(
        '<svg class="toggler-ico" width="14" height="14" version="1.1" viewBox="0 0 3.7042 3.7042" xmlns="http://www.w3.org/2000/svg" >' +
        '    <rect style="fill: transparent; stroke: none" x="0" y="0" width="3.7042" height="3.7042"></rect>' +
        '    <g transform="translate(0 -293.3)" class="toggle-close">' +
        '        <path d="m0.52917 293.82v2.6458l2.6458-1.3229z" />' +
        '    </g>' +
        '    <g transform="translate(0 -293.3)" class="toggle-open">' +
        '        <path d="m3.175 294.09-2.6458 2.1167h2.6458z"/>' +
        '    </g>' +
        '</svg>'
    );
    return res;
});

ACore["a" /* default */].install('remove-ico', function () {
    return ExpTree_('<svg class="remove-ico" width="24" height="24" viewBox="0 0 24 24">\
                <rect style="fill: transparent; stroke: none" x="0" y="0" width="24" height="24"></rect>\
                <path class="close" d="M3,16.74L7.76,12L3,7.26L7.26,3L12,7.76L16.74,3L21,7.26L16.24,12L21,16.74L16.74,21L12,16.24L7.26,21L3,16.74" />\
                <circle class="modified" cx="12" cy="12" r="10" />\
            </svg>');
});

/***
 * @extends AElement
 * @constructor
 */
function ExpNode() {
    var thisEN = this;
    this.$level = ExpTree_$('.absol-exp-node-level', this);
    this.$removeIcon = ExpTree_$('remove-ico', this)
        .on('click', function (event) {
            thisEN.emit('pressremove', { target: thisEN, type: 'pressremove' }, this);
        });
    this.on('keydown', this.eventHandler.buttonKeydown);

    this.$toggleIcon = ExpTree_$('toggler-ico', this)
        .on('click', function (event) {
            thisEN.emit('presstoggle', Object(EventEmitter["a" /* copyEvent */])(event, { target: thisEN, type: 'pressremove' }), this);
        });

    this.on('click', function (event) {
        if (!EventEmitter["b" /* default */].hitElement(thisEN.$removeIcon, event) && !EventEmitter["b" /* default */].hitElement(thisEN.$toggleIcon, event))
            thisEN.emit('press', Object(EventEmitter["a" /* copyEvent */])(event, { target: thisEN, type: 'press' }), this);
    })

    this.$iconCtn = ExpTree_$('div.absol-exp-node-ext-icon', this);
    this.$extIcon = ExpTree_$('img.absol-exp-node-ext-icon', this);
    this.$name = ExpTree_$('span.absol-exp-node-name', this);
    this.$desc = ExpTree_$('span.absol-exp-node-desc', this);
    contenteditableTextOnly(this.$name, function (text) {
        return text.replace(/[\\\/\|\?\:\<\>\*\r\n]/, '').trim();
    });
    OOP["a" /* default */].drillProperty(thisEN, thisEN.$extIcon, 'extSrc', 'src');
    this._level = 0;
    this.__isExpNode__ = true;
    return thisEN;
}


ExpNode.tag = 'expnode';

ExpNode.render = function () {
    return ExpTree_({
        tag: 'button',
        extendEvent: ['pressremove', 'press', 'presstoggle'],
        class: 'absol-exp-node',
        child: [
            '.absol-exp-node-level',
            'remove-ico',
            'toggler-ico',
            'img.absol-exp-node-ext-icon',
            'div.absol-exp-node-ext-icon',
            'span.absol-exp-node-name',
            'span.absol-exp-node-desc'
        ]
    });
};

ExpNode.property = {};

ExpNode.property.icon = {
    set: function (value) {
        if (this.$iconP) {
            this.$iconP.remove();
            this.$iconP = undefined;
        }
        if (value && value != null) {
            var newE;
            if (!HTML5_Dom["a" /* default */].isDomNode(value)) {
                newE = ExpTree_(value);
            }

            this.$iconCtn.addChild(newE);
            this._icon = value;
        }
        else {
            this._icon = undefined;
        }
    },
    get: function () {
        return this._icon;
    }
};

ExpNode.property.level = {
    set: function (value) {
        value = value || 0;
        if (value != this.level) {
            this._level = value || 0;

            this.$level.innerHTML = '&nbsp;'.repeat(this._level * 4);
        }
    },
    get: function () {
        return this._level || 0;
    }
};


ExpNode.property.name = {
    set: function (value) {
        this._name = value + '';
        this.$name.clearChild();
        if (this.name && this.name.length > 0)
            this.$name.addChild(ExpTree_({ text: this._name }))
    },
    get: function () {
        return this._name || '';
    }
};
ExpNode.property.desc = {
    set: function (value) {
        this._desc = value + '';
        this.$desc.clearChild();
        this.$desc.addChild(ExpTree_({ text: this._desc }))
    },
    get: function () {
        return this._desc || '';
    }
};


ExpNode.property.status = {
    set: function (value) {
        this.removeClass('status-open')
            .removeClass('status-close')
            .removeClass('status-modified')
            .removeClass('status-removable');
        if (!value || value == 'none') {
            //todo

        }
        else if (value == 'close') {
            this.addClass('status-close')
        }
        else if (value == 'open') {
            this.addClass('status-open');
        }
        else if (value == 'removable') {
            this.addClass('status-removable');
        }
        else if (value == 'modified') {
            this.addClass('status-modified');
        }
        else {
            throw new Error('Invalid status ' + value)
        }
        this._status = value;
    },
    get: function () {
        return this._status;
    }
}

ExpNode.property.active = {
    set: function (value) {
        if (value) {
            this.addClass('as-active');
            this.addClass('active');
        }
        else {
            this.removeClass('as-active');
            this.removeClass('active');
        }
    },
    get: function () {
        return this.containsClass('as-active');
    }
};

ExpNode.prototype.rename = function (resolveCallback, rejectCallback) {
    var self = this;
    var span = this.$name;
    var lastName = span.innerHTML;
    span.attr('contenteditable', 'true');
    span.focus();
    document.execCommand('selectAll', false, null);

    function keydowEventHandle(event) {
        var key = event.key;
        if (key == 'Enter') {
            event.preventDefault();
            span.blur();
            span.attr('contenteditable', undefined);
        }
        else if (key == "ESC") {
            event.preventDefault();
            span.innerHTML = lastName;
            span.blur();
            span.attr('contenteditable', undefined);
        }
    }

    function blurEventHandle(event) {
        finish();
        var curentName = span.innerHTML.replace(/[\\\/\|\?\:\<\>\*\r\n]/, '').trim();
        if (curentName == lastName) {
            rejectCallback && rejectCallback();
        }
        else {
            if (curentName.length == 0) {
                span.innerHTML = lastName;
                rejectCallback && rejectCallback();
            }
            else {
                var res = resolveCallback && resolveCallback(curentName);
                if (res === false) {
                    span.innerHTML = lastName;
                }
                else if (res && res.then) {
                    res.then(function (result) {
                        if (result === false) {
                            span.innerHTML = lastName;
                            //faile
                        }
                        else {
                            //success
                        }
                    }, function () {
                        //reject value
                        span.innerHTML = lastName;

                    })
                }
                else {
                    //success
                }
            }
        }
    }

    function finish() {
        span.off('keydown', keydowEventHandle);
        span.off('blur', blurEventHandle);
        ExpTree_$(document.body).once('click', function () {
            setTimeout(function () {
                span.attr('contenteditable', undefined);
            }, 2);
        });

    }

    span.on('keydown', keydowEventHandle);
    span.on('blur', blurEventHandle);
};

ExpNode.prototype.findNodeBefore = function () {
    var tree = this.parentElement;
    var root;
    var prevTree;
    var res = null;
    if (tree.__isExpTree__) {
        root = tree.getRoot();
        root.visitRecursive(function (cTree) {
            if (cTree === tree) {
                res = prevTree;
            }
            prevTree = cTree;
        })
    }
    return res && res.getNode();
};

ExpNode.prototype.findNodeAfter = function () {
    var tree = this.parentElement;
    var root;
    var prevTree;
    var res = null;
    if (tree.__isExpTree__) {
        root = tree.getRoot();
        root.visitRecursive(function (cTree) {
            if (prevTree === tree) {
                res = cTree;
            }
            prevTree = cTree;
        })
    }
    return res && res.getNode();
};

ExpNode.eventHandler = {};

/****
 *
 * @param {KeyboardEvent} event
 */
ExpNode.eventHandler.buttonKeydown = function (event) {
    if (event.target === this) {
        if (!event.metaKey && !event.shiftKey && !event.ctrlKey && !event.altKey) {
            var destNode;
            var tree = this.parentElement;
            var parentTree = tree && tree.getParent();
            switch (event.key) {
                case 'ArrowLeft':
                    if (tree.status === 'open') {
                        tree.status = 'close';
                        tree.notifyStatusChange();
                    }
                    else {
                        destNode = parentTree && parentTree.getNode();
                    }
                    break;
                case 'ArrowRight':
                    if (tree.status === 'close') {
                        tree.status = 'open';
                        tree.notifyStatusChange();
                    }
                    else {
                        destNode = this.findNodeAfter();
                    }
                    break;
                case 'ArrowUp':
                    destNode = this.findNodeBefore();
                    break;
                case 'ArrowDown':
                    destNode = this.findNodeAfter();
                    break;
                case 'Space':
                    this.click();
                    break;
            }
            if (destNode) {
                destNode.focus();
                event.preventDefault();
            }
        }
    }
};

/***
 * @extends AElement
 * @constructor
 */
function ExpTree() {
    var thisET = this;
    this.$node = ExpTree_$('expnode', this)
        .on('press', function (event) {
            thisET.emit('press', Object.assign({}, {
                target: thisET,
                node: this,
                type: 'press'
            }, event), this);
        })
        .on('pressremove', function (event) {
            thisET.emit('pressremove', Object.assign({}, {
                target: thisET,
                node: this,
                type: 'pressremove'
            }, event), this);
        })
        .on('presstoggle', this.eventHandler.nodePressToggle);

    this.$itemsContainer = ExpTree_$('.absol-exp-items', thisET);
    OOP["a" /* default */].drillProperty(this, this.$node, ['desc', 'name', 'title', 'extSrc', 'active', 'icon']);
    this.__isExpTree__ = true;
    this._level = 0;
}


ExpTree.tag = 'ExpTree';

ExpTree.render = function () {
    return ExpTree_({
        class: 'absol-exp-tree',
        extendEvent: ['press', 'pressremove', 'statuschange'],
        child: [
            'expnode',
            '.absol-exp-items'
        ]
    });
};

ExpTree.property = {};

ExpTree.property.level = {
    set: function (value) {
        value = value || 0;
        if (value != this.level) {
            this.$node.level = value;
            Array.prototype.forEach.call(this.$itemsContainer.childNodes, function (e) {
                e.level = value + 1;
            })
        }

    },
    get: function () {
        return this.$node.level;
    }
};


ExpTree.property.status = {
    set: function (value) {
        this.$node.status = value;
        if (value != 'open') {
            this.addClass('hide-children');
        }
        else {
            this.removeClass('hide-children');
        }
    },
    get: function () {
        return this.$node.status;
    }
};


['findChildBefore', 'findChildAfter', 'removeChild', 'clearChild']
    .forEach(function (key) {
        ExpTree.prototype[key] = function () {
            this.$itemsContainer[key].apply(this.$itemsContainer, arguments);
        }
    });

ExpTree.prototype.addChild = function (child) {
    if (!child.__isExpTree__) throw new Error('Child node must be a ExpTree');
    child.level = this.level + 1;
    this.$itemsContainer.addChild(child);
};

ExpTree.prototype.addChildBefore = function (child, at) {
    child.level = this.level + 1;
    this.$itemsContainer.addChildBefore(child, at);
};

ExpTree.prototype.addChildAfter = function (child, at) {
    child.level = this.level + 1;
    this.$itemsContainer.addChildAfter(child, at);
};

/****
 *
 * @return {ExpTree}
 */
ExpTree.prototype.getParent = function () {
    var current = this.parentNode;
    while (current) {
        if (current.__isExpTree__)
            break;
        current = current.parentNode;
    }
    return current;
};

/***
 *
 * @return {ExpTree}
 */
ExpTree.prototype.getRoot = function () {
    var parent = this.getParent();
    if (!parent) return this;
    return parent.getRoot();
}


ExpTree.prototype.getNode = function () {
    return this.$node;
};

ExpTree.prototype.getChildren = function () {
    return Array.apply(null, this.$itemsContainer.childNodes);
};

/***
 *
 * @param {function(tree: ExpTree): void} cb
 */
ExpTree.prototype.visitRecursive = function (cb) {
    cb(this);
    if (this.status === 'open')
        Array.prototype.forEach.call(this.$itemsContainer.childNodes, function (child) {
            child.visitRecursive(cb);
        });
};

ExpTree.prototype.getPath = function () {
    var path = [];
    var current = this;
    while (current) {
        path.push(current.name);
        current = current.getParent();
    }
    return path.reverse();
};

ExpTree.prototype.accessByPath = function (path) {
    if (path.length == 0) return this;
    var childs = this.getChildren();

    var res;
    for (var i = 0; i < childs.length; ++i) {
        if (childs[i].name == path[0]) {
            res = childs[i].accessByPath(path.slice(1));
            break;
        }
    }
    return res;
};

ExpTree.prototype.toggle = function () {
    switch (this.status) {
        case 'close':
            this.status = 'open';
            break;
        case 'open':
            this.status = 'close';
            break;
    }
};


ExpTree.prototype.notifyStatusChange = function (props) {
    this.emit('statuschange', Object.assign({ type: 'statuschange', target: this }, props), this);
};

ExpTree.eventHandler = {};

ExpTree.eventHandler.nodePressToggle = function (event) {
    this.toggle();
    this.notifyStatusChange({ originEvent: event });
};

/***
 * @extends ExpTree
 * @constructor
 */
function ExpGroup() {
    this.addClass('as-exp-group');
    this.__isExpTree__ = true;
}


ExpGroup.tag = 'ExpGroup'.toLowerCase();

ExpGroup.render = function () {
    return ExpTree_('div');
};

/***
 *
 * @param {function(tree: ExpTree): void} cb
 */
ExpGroup.prototype.visitRecursive = function (cb) {
    Array.prototype.forEach.call(this.childNodes, function (child) {
        child.visitRecursive(cb);
    });
};

ExpGroup.prototype.getParent = function () {
    return null;
};

ExpGroup.prototype.getRoot = function () {
    return this;
};

ExpGroup.prototype.getNode = function () {
    return null;
};

ACore["a" /* default */].install(ExpNode);
ACore["a" /* default */].install(ExpTree);
ACore["a" /* default */].install(ExpGroup);


/* harmony default export */ var js_ExpTree = (ExpTree);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/DropPanel.js








var DropPanel_ = ACore["a" /* default */]._;
var DropPanel_$ = ACore["a" /* default */].$;

/**
 * @extends AElement
 * @constructor
 */
function DropPanel() {
    var thisDP = this;
    /***
     *
     * @type {ExpGroup}
     */
    this.$body = DropPanel_$('.absol-drop-panel-body', this);
    this.$head = DropPanel_$('.absol-drop-panel-head', this)
        .on('click', thisDP.eventHandler.clickHead);

    this.$name = DropPanel_$('.absol-drop-panel-name', thisDP);
    OOP["a" /* default */].drillProperty(this, this.$name, 'name', 'innerHTML');
    return thisDP;
}

DropPanel.tag = 'DropPanel'.toLowerCase();

DropPanel.render = function () {
    return DropPanel_({
        class: 'absol-drop-panel',
        extendEvent: ['toggle'],
        child: [
            {
                class: 'absol-drop-panel-head',
                child: [
                    'toggler-ico',
                    {
                        tag: 'span',
                        class: "absol-drop-panel-name"
                    }
                ]

            },
            {
                tag:'expgroup',
                class: ['absol-drop-panel-body', 'absol-bscroller']
            }
        ]
    });
};


DropPanel.eventHandler = {};
DropPanel.eventHandler.clickHead = function (event) {
    if (!this._childOfButton(event.target)) {
        var event = {
            target: this, isShowed: this.show, preventDefault: function () {
                this.prevented = true;
            }
        };
        this.emit('toggle', event, this);
        if (!event.prevented) {
            this.toggle();
        }
    }
};

['findChildBefore', 'findChildAfter', 'removeChild', 'clearChild', 'addChild']
    .forEach(function (key) {
        DropPanel.prototype[key] = function () {
            this.$body[key].apply(this.$body, arguments);
        }
    });

DropPanel.prototype._childOfButton = function (elt) {
    while (elt && elt != this) {
        if (elt.tagName == "BUTTON") {
            return true;
        }
        elt = elt.parentElement
    }
    return false;
};

DropPanel.prototype.toggle = function () {
    this.show = !this.show;
};

DropPanel.property = {};

DropPanel.property.show = {
    set: function (value) {
        if (value) {
            var maxHeight = parseFloat(this.getComputedStyleValue('max-height').replace('px', ''));
            var headBound = this.$head.getBoundingClientRect();
            if (maxHeight != 'none' && maxHeight != 'auto') {
                this.$body.addStyle('max-height', maxHeight - headBound.height + 'px');
            }
            this.$body.addStyle('height', this.$body.scrollHeight + 'px');
            setTimeout(function () {
                this.$body.removeStyle('height');
                window.dispatchEvent(new Event('resize'));
            }.bind(this), 200);

            this.addClass('show');
        }
        else {
            this.$body.addStyle('height', this.$body.scrollHeight + 'px');
            setTimeout(function () {
                this.$body.addStyle('height', '0');
            }.bind(this), 0);
            setTimeout(function () {
                this.$body.removeStyle('height');
                window.dispatchEvent(new Event('resize'));
            }.bind(this), 200);
            this.removeClass('show');
        }
    },
    get: function () {
        return this.containsClass('show');
    }
};


ACore["a" /* default */].install(DropPanel);

/* harmony default export */ var js_DropPanel = (DropPanel);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/DropPanelStack.js





var DropPanelStack_ = ACore["a" /* default */]._;
var DropPanelStack_$ = ACore["a" /* default */].$;

/**
 * @extends AElement
 * @constructor
 */
function DropPanelStack() {
    var res = this;
    this.$attachHook = DropPanelStack_('attachhook').on('error', function () {
        HTML5_Dom["a" /* default */].addToResizeSystem(this);
        this.updateSize = res.updateSize.bind(res);
    });
    this.sync = new Promise(function (rs) {
        res.$attachHook.once('error', rs);
    });
}

DropPanelStack.tag = 'DropPanelStack'.toLowerCase();

DropPanelStack.render = function () {
    return DropPanelStack_({
        class: 'absol-drop-panel-stack',
        child: ['attachhook']
    });
};

DropPanelStack.prototype.updateSize = function () {
};

DropPanelStack.prototype.getFreeHeight = function () {
    var childNodes = this.childNodes;
    var sumHeight = 0;
    var bound = this.getBoundingClientRect();
    var childBound;
    for (var i = 0; i < childNodes.length; ++i) {
        var child = childNodes[i];
        if (child.containsClass && child.containsClass('absol-drop-panel')) {
            childBound = child.getBoundingClientRect();
            sumHeight += childBound.height;
        }
    }
    return bound.height - sumHeight;
};


DropPanelStack.prototype.addChild = function (child) {
    var self = this;
    if (child.containsClass('absol-drop-panel')) {
        //remove last event listener off other parent
        if (child.__drop_panel_toggle_listener__) {
            child.off('toggle', child.__drop_panel_toggle_listener__);
        }
        child.__drop_panel_toggle_listener__ = function (event) {
            event.preventDefault();
            self.sync = self.sync.then(function () {
                if (event.isShowed) {
                    setTimeout(function () {
                        child.removeStyle('max-height');
                    }, 200);
                    child.toggle();
                }
                else {
                    var headBound = child.$head.getBoundingClientRect();
                    var vailableHeight = self.getFreeHeight();
                    if (vailableHeight > 3) {
                        child.addStyle('max-height', self.getFreeHeight() + headBound.height + 'px');
                        child.toggle();
                    }
                }

                return new Promise(function (rs) {
                    setTimeout(rs, 200);
                });
            })
        };
        child.on('toggle', child.__drop_panel_toggle_listener__);
        this.super(child);
    }
    else {
        throw new Error('Child element must be a DropPanel');
    }
};

ACore["a" /* default */].install('droppanelstack', DropPanelStack);

/* harmony default export */ var js_DropPanelStack = (DropPanelStack);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/editabletext.css
var editabletext = __webpack_require__(89);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/EditableText.js






var EditableText_ = ACore["a" /* default */]._;
var EditableText_$ = ACore["a" /* default */].$;

/***
 * @extends AElement
 * @constructor
 */
function EditableText() {
    var thisET = this;
    this.$span = EditableText_$('span', this);
    this.$text = document.createTextNode('');
    this.$span.addChild(this.$text);

    this.$higne = EditableText_$('.absol-editabe-text-higne', this);
    this.$input = EditableText_$('input', this);

    OOP["a" /* default */].drillProperty(this, this.$input, ['selectionStart', 'selectionEnd']);
    this.sync = new Promise(function (rs) {
        EditableText_('attachhook').addTo(thisET).once('error', rs);
    });

    this.$input.on('keydown', this.eventHandler.inputKeyDown, true);
    this.$input.on('change', this.eventHandler.inputChange);
    this.$input.on('blur', this.eventHandler.inputBlur);
};

EditableText.tag = 'EditableText'.toLowerCase();

EditableText.render = function () {
    return EditableText_({
        class: 'absol-editabe-text',
        extendEvent: ['blur', 'focus', 'change', 'modify'],
        child: [
            {
                class: 'absol-editabe-text-higne',
                child: '<input type="text">'
            },
            'span'
        ]
    });
};


EditableText.prototype.focus = function () {
    this.$input.focus();
};
EditableText.prototype.blur = function () {
    this.$input.blur();
};

EditableText.prototype.select = function () {
    this.$input.select();
};

EditableText.prototype.edit = function (flag, select) {
    this.editing = !!flag;
    this.sync = this.sync.then(function () {
        if (flag) {
            this.focus();
            if (select) this.select();
        }
        else
            this.blur();
    }.bind(this));
    return this.sync;
}

EditableText.prototype._update = function () {
    this.sync = this.sync.then(function () {
        return new Promise(function (rs) {
            // setTimeout(function () {
            var bound = this.getBoundingClientRect();
            var higneBound = this.$higne.getBoundingClientRect();
            var fsize = this.getFontSize();
            this.$input.addStyle('width', bound.width + 4 + fsize * 0 + 'px');
            this.$input.addStyle('height', bound.height + 4 + 'px');
            this.$input.addStyle('left', bound.left - higneBound.left - 2 + 'px');
            this.$input.addStyle('top', bound.top - higneBound.top + 'px');
            rs();
        }.bind(this));
    }.bind(this));
}

EditableText.property = {};

EditableText.property.text = {
    set: function (value) {
        this.$text.textContent = value;
        this.$input.value = value;
    },

    get: function () {
        return this.$text.textContent;
    }
}


EditableText.property.editing = {
    set: function (value) {
        if (this._editting === value) return;
        this._editting = !!value;
        if (value) {
            this.$input.value = this.text;
            this._update();
            this.sync = this.sync.then(function () {
                this.addClass('editing');
                this.$input.value = this.text;
                this.$input.addStyle('font', this.$span.getComputedStyleValue('font'));
                this.$input.addStyle('font-style', this.$span.getComputedStyleValue('font-style'));
                this.$input.addStyle('color', this.$span.getComputedStyleValue('color'));
            }.bind(this));

        }
        else {
            this.removeClass('editing');
        }
    },
    get: function () {
        return !!this._editting;
    }
};


EditableText.eventHandler = {};

EditableText.eventHandler.inputKeyDown = function (event) {
    requestAnimationFrame(function () {
        this.text = this.$input.value;
        this._update();
        event.text = this.text;
        this.emit('modify', event);
    }.bind(this));
};


EditableText.eventHandler.inputChange = function (event) {
    this.editing = false;
    this.emit('change', event);
};

EditableText.eventHandler.inputBlur = function (event) {
    this.editing = false;
    this.emit('blur', event);
};

ACore["a" /* default */].install(EditableText);

/* harmony default export */ var js_EditableText = (EditableText);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/emojipicker.css
var emojipicker = __webpack_require__(91);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Sprite.js




var Sprite_ = ACore["a" /* default */]._;
var Sprite_$ = ACore["a" /* default */].$;

var NOT_READY = 0;
var READY = 1;
var START = 2;
var RUNNING = 3;
var PAUSE = 4;
var STOP = 5;
var ERROR = 6;
var STATE_TO_STRING = ['NOT_READY', 'READY', 'START', 'RUNNING', 'PAUSE', 'STOP', 'ERROR'];



/**
 * @extends AElement
 * @constructor
 */
function Sprite() {
    this.loadTextureTimeout = 5000;
    this._textureLoaded = false;
    this._state = NOT_READY;
    this.defineEvent(['ready', 'srcerror', 'play', 'resume', 'pause', 'stop', 'reset', 'end', 'frame']);
    this._length = 60;
    this._lastDrawFrame = -1;
    this._frameIndex = 0;
    this._timeout = -1;
    this.ctx = this.getContext('2d');
    this._fps = 10;
    this._lastDrawMilis = 0;
    this._overTime = 0;
    this.draw = this.draw.bind(this);
    this.texture = null;
    this._frames = { type: 'grid', col: 1, row: 1 };
    this._loop = false;
}


Sprite.cache = {};


Sprite.prototype.draw = function () {
    //todo
    var now = new Date().getTime();
    var dt = this._overTime + now - this._lastDrawMilis;
    var di = Math.floor(dt / 1000 * this._fps);
    var frameIndex = (this._frameIndex + di);
    if (this._loop) {
        frameIndex = frameIndex % this._length;
    }
    else {
        frameIndex = Math.min(this._length - 1, frameIndex);
    }

    if (!isNaN(this._frameIndex) && frameIndex != this._frameIndex) {
        this.drawFrame(this._frameIndex);
    }

    this._overTime = dt - di * 1000 / this._fps;
    var nextTime = now + 1000 / this._fps - this._overTime - new Date().getTime();
    this._lastDrawMilis = now;
    this._frameIndex = frameIndex;

    this._timeout = -1;
    if (this._loop || frameIndex + 1 < this._length) {
        if (this._state == RUNNING)
            this._timeout = setTimeout(this.draw, nextTime);
    }
    else this.stop();
};

Sprite.prototype.drawFrame = function (index) {
    if (this._lastDrawFrame == index) return;
    this._lastDrawFrame = index;
    this.ctx.clearRect(0, 0, this.width, this.height);
    if (this._frames.type == 'grid') {
        var imgWidth = this.texture.naturalWidth;
        var imgHeight = this.texture.naturalHeight;
        var sHeight = imgHeight / this._frames.row;
        var sWidth = imgWidth / this._frames.col;
        var sx = (index % this._frames.col) * sWidth;
        var sy = Math.floor(index / this._frames.col) * sHeight;
        this.ctx.drawImage(this.texture, sx, sy, sWidth, sHeight, 0, 0, this.width, this.height)
    }
    else {

    }
    this.emit('frame', { name: 'frame', target: this, frameIndex: index }, this);
};

Sprite.prototype.stop = function () {
    this.pause();
    if (this._state != PAUSE) return this;
    this._state = STOP;
    this.emit('stop', { name: 'stop', target: this }, this);
    return this;
};


Sprite.prototype.pause = function () {
    if (this._state != RUNNING) return this;
    this._state = PAUSE;
    if (this._timeout > 0) {
        clearTimeout(this._timeout);
        this._timeout = -1;
    }
    var now = new Date().getTime();
    this._overTime += now - this._lastDrawMilis;
    this.emit('pause', { name: 'pause', target: this }, this);
};

Sprite.prototype.resume = function () {
    if (this._state != START && this._state != PAUSE) return this;
    if (this._state == RUNNING) return this;
    this._state = RUNNING;
    var now = new Date().getTime();
    this._lastDrawMilis = now;
    this.draw();
    this.emit('resume', { name: 'pause', target: this }, this);
};

Sprite.prototype.reset = function () {
    this._frameIndex = 0;
    this._overTime = 0;
}

Sprite.prototype.play = function () {
    if (this._state == ERROR) return this;
    if (this._state == RUNNING) return this;
    if (this._state == READY || this._state == STOP) {
        this.reset();
    }
    this._state = START;
    this.emit('play', { name: 'start', target: this }, this);
    this.resume();
    return this;
};

Sprite.prototype.afterReady = function () {
    var thisSprite = this;
    if (this._state != NOT_READY && this._state != ERROR)
        return Promise.resolve();
    else return new Promise(function (rs, rj) {
        thisSprite.once('ready', rs);
        thisSprite.once('srcerror', rj);
    });
};

Sprite.tag = 'sprite';

Sprite.render = function () {
    return Sprite_('canvas.as-sprite');
};


Sprite.property = {};


Sprite.property.frames = {
    set: function (value) {
        this.stop();
        this._lastDrawFrame = -1;
        if (value && value.type == 'grid') {
            this._length = value.col * value.row;
        }
        this._frames = value;
        if (this._textureLoaded && this._frames && this._state == NOT_READY) {//todo: verify frame
            this._state = READY;
            this.emit('ready', { target: this, name: 'ready' }, this);
        }
    },
    get: function () {
        return this._frames;
    }
};

Sprite.property.frameIndex = {
    set: function (value) {
        value = value || 0;
        if (value < 0) value = this._length - 1;
        if (this._loop) {
            this._frameIndex = value % this._length - 1;
            this._overTime = 0;
        }
        else {
            this._frameIndex = Math.max(this._length - 1, value);
            this._overTime = 0;

        }
        this.drawFrame(this._frameIndex);
    },
    get: function () {
        return this._frameIndex;
    }
};


Sprite.property.src = {
    set: function (value) {
        this.stop();
        this._lastDrawFrame = -1;//did not draw any thing 
        value = value || [];
        var lastSrc = this._src;
        this._src = value || null;
        if (lastSrc == this._src) return;
        if (!value) this.texture = null;
        else {
            var cImage;
            if (!Sprite.cache[this._src]) {
                cImage = new Image();
                Sprite.cache[this._src] = cImage;
                cImage.src = this._src;
            }
            else {
                cImage = Sprite.cache[this._src];
            }
            this.texture = cImage;
            this._state = NOT_READY;
            var thisSprite = this;
            this._textureLoaded = false;
            HTML5_Dom["a" /* default */].waitImageLoaded(this.texture, this.loadTextureTimeout).then(function (rs) {
                    if (thisSprite.texture == cImage) {
                        thisSprite._textureLoaded = true;
                        if (thisSprite._frames) {
                            thisSprite._lastDrawFrame = -1;
                            thisSprite._state = READY;
                            thisSprite.emit('ready', { target: thisSprite, name: 'ready' }, thisSprite);
                        }
                    }
                },
                function () {
                    if (thisSprite.texture == cImage) {
                        thisSprite._state = ERROR;
                        thisSprite.emit('srcerror', { target: thisSprite, name: 'srcerror' }, thisSprite);
                    }
                });
        }

    },
    get: function () {
        return this._src;
    }
}

Sprite.property.state = {
    get: function () {
        return STATE_TO_STRING[this._state];
    }
};
Sprite.property.length = {
    get: function () {
        return this._length;
    }
};

Sprite.property.fps = {
    set: function (value) {
        value = Math.max(value || 0, 0);
        this._fps = value;
        if (this._state == RUNNING) {
            clearTimeout(this._timeout);
            this._timeout = -1;
            var now = new Date().getTime();
            this._overTime += now - this._lastDrawMilis;
            this._overTime = Math.min(1000 / this._fps, this._overTime);
            this.draw();
        }

    },
    get: function () {
        return this._fps;
    }
};

Sprite.property.loop = {
    set: function (value) {
        value = !!value;
        this._loop = value;
    },
    get: function () {
        return this._loop;
    }
}

ACore["a" /* default */].install(Sprite);

/* harmony default export */ var js_Sprite = (Sprite);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/EmojiPicker.js






var EmojiPicker_ = ACore["a" /* default */]._;
var EmojiPicker_$ = ACore["a" /* default */].$;

/***
 * @extends AElement
 * @constructor
 */
function EmojiPicker() {
    var thisPicker = this;
    this._aliveTimeout = 90;
    this._assetRoot = this.attr('data-asset-root');
    /***
     *
     * @type {Sprite}
     */
    this.$previewAnim = EmojiPicker_$('sprite.as-emoji-picker-preview-anim', this)
        .on('ready', this.eventHandler.previewAnimReady)
        .on('frame', this.eventHandler.previewAnimFrame);
    this.$previewAnim.loop = true;
    this.$previewAnim.src = this._assetRoot + '/anim/x120/' + js_EmojiAnims[0][1];
    this.$previewAnim.fps = 30;
    this.$desc = EmojiPicker_$('.as-emoji-picker-preview-desc', this);
    this.$shortcut = EmojiPicker_$('.as-emoji-picker-preview-shortcut', this);
    this.$desc.clearChild().addChild(EmojiPicker_({ text: js_EmojiAnims[0][2] }));
    this.$shortcut.clearChild().addChild(EmojiPicker_({ text: js_EmojiAnims[0][0] }));
    this.$list = EmojiPicker_$('.as-emoji-picker-list', this);
    this.$items = js_EmojiAnims.reduce(function (ac, it) {
        var itemElt = EmojiPicker_({
            tag: 'img',
            class: 'as-emoji-picker-item',
            props: {
                src: thisPicker._assetRoot + '/static/x20/' + it[1]
            }
        }).addTo(thisPicker.$list);
        itemElt.on('mouseenter', thisPicker.eventHandler.mouseenterItem.bind(thisPicker, it, itemElt));
        itemElt.on('click', thisPicker.eventHandler.clickItem.bind(thisPicker, it));
        ac[it[0]] = itemElt;
        return ac;
    }, {});
    this.$attachook = EmojiPicker_('attachhook').addTo(this).on('error', this.eventHandler.attach);
}

EmojiPicker.assetRoot = 'https://absol.cf/emoji';
EmojiPicker.tag = 'EmojiPicker'.toLowerCase();

EmojiPicker.render = function (data) {
    data = data || {};
    data.assetRoot = data.assetRoot || EmojiPicker.assetRoot;
    return EmojiPicker_({
        class: 'as-emoji-picker',
        extendEvent: 'pick',
        attr: {
            'data-asset-root': data.assetRoot
        },
        child: [
            {
                class: 'as-emoji-picker-preview',
                child: [
                    {
                        class: '.as-emoji-picker-preview-anim-ctn',
                        child: 'sprite.as-emoji-picker-preview-anim'
                    },
                    '.as-emoji-picker-preview-desc',
                    '.as-emoji-picker-preview-shortcut'
                ]
            },
            {
                tag: 'bscroller',
                class: 'as-emoji-picker-list'
            }
        ]
    });
};


/**
 * @type {EmojiPicker}
 */
EmojiPicker.eventHandler = {};


EmojiPicker.eventHandler.attach = function () {
    this._aliveTimeout = 90;
    setTimeout(this.$previewAnim.play.bind(this.$previewAnim), 1);
};

EmojiPicker.eventHandler.previewAnimReady = function () {
    this.$previewAnim.frames = {
        type: 'grid',
        col: 1,
        row: this.$previewAnim.texture.naturalHeight / this.$previewAnim.texture.naturalWidth
    };
    this.$previewAnim.play();
};

EmojiPicker.eventHandler.previewAnimFrame = function () {
    if (this._aliveTimeout == 0) {
        var bound = this.getBoundingClientRect();
        if (bound.width == 0) {
            this.$previewAnim.stop();
        }
        else {
            this._aliveTimeout = 90;
        }
    }
    this._aliveTimeout--;
};


EmojiPicker.eventHandler.mouseenterItem = function (itemData, itemElt, event) {
    if (this.$lastHoverItem == itemElt) return;
    this.$lastHoverItem = itemElt;
    this.$previewAnim.src = this._assetRoot + '/anim/x120/' + itemData[1];
    this.$desc.clearChild().addChild(EmojiPicker_({ text: itemData[2] }));
    this.$shortcut.clearChild().addChild(EmojiPicker_({ text: itemData[0] }));
};

EmojiPicker.eventHandler.clickItem = function (itemData, event) {
    this.emit('pick', { name: 'pick', key: itemData[0], target: this }, this);
};

ACore["a" /* default */].install(EmojiPicker);
/* harmony default export */ var js_EmojiPicker = (EmojiPicker);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/flexiconbutton.css
var flexiconbutton = __webpack_require__(93);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/FlexiconButton.js




var FlexiconButton_ = ACore["a" /* default */]._;
var FlexiconButton_$ = ACore["a" /* default */].$;

/**
 * @extends AElement
 * @constructor
 */
function FlexiconButton() {
    this._icon = null;
    this.$content = FlexiconButton_$('.as-flexicon-button-content', this);
    this.$iconCtn = FlexiconButton_$('.as-flexicon-button-icon-container', this);
    this.$textCtn = FlexiconButton_$('.as-flexicon-button-text-container', this);
}

FlexiconButton.tag = 'FlexiconButton'.toLowerCase();

FlexiconButton.render = function () {
    return FlexiconButton_({
        tag: 'button',
        class: 'as-flexicon-button',
        child: {
            class: 'as-icon-button-table-box',
            child: {
                class: 'as-flexicon-button-content',
                child: [
                    '.as-flexicon-button-icon-container',
                    '.as-flexicon-button-text-container',
                ]
            }
        }
    });
};

FlexiconButton.property = {};

FlexiconButton.property.icon = {
    set: function (value) {
        value = value || null;
        this._icon = value;
        this.$iconCtn.clearChild();
        if (value !== null) {
            this.$iconCtn.addChild(FlexiconButton_(value));
        }
    },
    get: function () {
        return this._icon;
    }
};

FlexiconButton.property.text = {
    set: function (value) {
        value = value || null;
        this._text = value;
        this.$textCtn.clearChild();
        if (value !== null) {
            this.$textCtn.addChild(FlexiconButton_({ text: value }));
        }
    },
    get: function () {
        this._text;
    }
};


ACore["a" /* default */].install(FlexiconButton);


/* harmony default export */ var js_FlexiconButton = (FlexiconButton);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/flexiconinput.css
var flexiconinput = __webpack_require__(95);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/FlexiconInput.js





var FlexiconInput_ = ACore["a" /* default */]._;
var FlexiconInput_$ = ACore["a" /* default */].$;


/***
 * @extends AElement
 * @constructor
 */
function FlexiconInput() {
    this.$input = FlexiconInput_$('.as-flexicon-input-text-input', this);
    this.$iconCtn = FlexiconInput_$('.as-flexicon-input-icon-ctn', this);
    this.$unitCtn = FlexiconInput_$('.as-flexicon-input-unit-ctn', this);
    OOP["a" /* default */].drillProperty(this, this.$input, ['value', 'readonly']);
    this.on('click', function (event) {
        if (event.target != this.$input)
            this.$input.focus();
    }.bind(this));
}

FlexiconInput.prototype.on = function () {
    return this.$input.on.apply(this.$input, arguments);
};

FlexiconInput.prototype.once = function () {
    return this.$input.once.apply(this.$input, arguments);
};

FlexiconInput.prototype.off = function () {
    return this.$input.off.apply(this.$input, arguments);
};

FlexiconInput.tag = 'FlexiconInput'.toLowerCase();
FlexiconInput.render = function () {
    return FlexiconInput_({
        class: 'as-flexicon-input',
        child: [
            {
                class: 'as-flexicon-input-icon-ctn'
            },
            {
                tag: 'input',
                class: 'as-flexicon-input-text-input',
                attr: { type: 'text' },

            },
            {
                class: 'as-flexicon-input-unit-ctn'
            }
        ]
    });
};


FlexiconInput.property = {};

FlexiconInput.property.icon = {
    set: function (value) {
        value = value || null;
        this._icon = value;
        this.$iconCtn.clearChild();
        if (value == null) {
            this.removeClass('as-flexicon-input-has-icon');
        }
        else {
            this.addClass('as-flexicon-input-has-icon');
            this.$iconCtn.addChild(FlexiconInput_(value));
        }
    },
    get: function () {
        return this._icon;
    }
};

FlexiconInput.property.unit = {
    set: function (value) {
        this._unit = value;
        if (this._unit) {
            this.addClass('as-flexicon-input-has-unit');
            this.$unitCtn.clearChild().addChild(FlexiconInput_({ text: value + '' }));
        }
        else {
            this.removeClass('as-flexicon-input-has-unit');
            this.$unitCtn.clearChild();
        }
    },
    get: function () {
        return this._unit;
    }
};

FlexiconInput.property.disabled = {
    set: function (value) {
        value = !!value;
        this.$input.disabled = value;
        if (value) {
            this.addClass('as-disabled');
        }
        else {
            this.removeClass('as-disabled');
        }
    },
    get: function () {
        return this.$input.disabled;
    }
};

ACore["a" /* default */].install(FlexiconInput);

/* harmony default export */ var js_FlexiconInput = (FlexiconInput);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/frame.css
var css_frame = __webpack_require__(97);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Frame.js





var Frame_ = ACore["a" /* default */]._;
var Frame_$ = ACore["a" /* default */].$;

/***
 * @extends AElement
 * @constructor
 */
function Frame() {
    this.$parent = null;// FrameView or TabView
}

Frame.tag = 'frame';

Frame.render = function () {
    return Frame_({
        class: 'absol-frame',
        attr: {
            id: randomIdent(12),
        },
        extendEvent: ['attached', 'detached', 'deactive', 'active']// deactive and active event will be send by parent
    });
};


Frame.prototype.notifyAttached = function (parentElt) {
    this.$parent = parentElt;
    this.emit('attached', { type: 'attached', target: this, parentElt: parentElt }, this);
};

Frame.prototype.notifyDetached = function () {
    this.emit('detached', { type: 'detached', target: this, parentElt: this.$parent }, this);
    this.$parent = undefined;
};


Frame.prototype.selfRemove = function () {
    if (this.$parent)
        this.$parent.removeChild(this);
    else
        this.super();// normal remove
};

Frame.prototype.getParent = function () {
    return this.$parent;
};


Frame.prototype.requestActive = function () {
    if (this.$parent) {
        this.$parent.activeFrame(this);
    }
};

ACore["a" /* default */].install(Frame);

/* harmony default export */ var js_Frame = (Frame);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/frameview.css
var css_frameview = __webpack_require__(99);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/FrameView.js






var FrameView_ = ACore["a" /* default */]._;
var FrameView_$ = ACore["a" /* default */].$;


/***
 * @extends AElement
 * @constructor
 */
function FrameView() {
    this.$containers = [];
}

FrameView.tag = 'frameview';

FrameView.render = function () {
    return FrameView_({
        class: 'absol-frame-view',
        extendEvent: ['activeframe', 'deactiveframe']

    });
};

FrameView.prototype.addChild = function (elt) {
    if (elt.containsClass && elt.containsClass('absol-frame')) {
        elt.selfRemove();
        var containerElt = FrameView_({
            class: 'absol-frame-view-frame-container',
            child: elt,
            props: {
                __elt__: elt
            }
        });
        this.$containers.push(containerElt);
        this.appendChild(containerElt);
        elt.notifyAttached(this);
    }
    else {
        throw new Error('Children must be a frame');
    }
};


FrameView.prototype.addLast = function (elt) {
    this.addChild(elt);
    this.activeFrame(elt);
};


FrameView.prototype.removeLast = function () {
    if (this.$containers.length > 0) {
        this.removeChild(this.$containers[this.$containers.length - 1].__elt__);
    }

    if (this.$containers.length > 0) {
        this.activeFrame(this.$containers[this.$containers.length - 1].__elt__);
    }
};


FrameView.prototype.getLength = function () {
    return this.$containers.length;
};


FrameView.prototype.getAllChild = function () {
    return this.$containers.map(function (ctn) {
        return ctn.__elt__;
    });
};


FrameView.prototype.getLast = function () {
    if (this.$containers.length > 0) {
        return (this.$containers[this.$containers.length - 1].__elt__);
    }

    return null;
};

FrameView.prototype.addChildBefore = function (elt, at) {
    if (elt.containsClass && elt.containsClass('absol-frame')) {
        elt.selfRemove();
        var index = this.childIndexOf(at);
        if (index < 0) {
            throw new Error('Second param is not a child');
        }
        var index = this.childIndexOf(at);
        var atCtnElt = this.$containers[index];
        var containerElt = FrameView_({
            class: 'absol-frame-view-frame-container',
            child: elt,
            props: {
                __elt__: elt
            }
        });
        this.$containers.splice(index, 0, containerElt);
        this.super(containerElt, atCtnElt);
        elt.notifyAttached(this);
    }
    else {
        throw new Error('Children must be a frame');
    }
};


FrameView.prototype.addChildAfter = function (elt, at) {
    if (elt.containsClass && elt.containsClass('absol-frame')) {
        elt.selfRemove();
        var index = this.childIndexOf(at);
        if (index < 0) {
            throw new Error('Second param is not a child');
        }
        var index = this.childIndexOf(at);
        var atCtnElt = this.$containers[index];
        var containerElt = FrameView_({
            class: 'absol-frame-view-frame-container',
            child: elt,
            props: {
                __elt__: elt
            }
        });
        this.$containers.splice(index + 1, 0, containerElt);
        this.super(containerElt, atCtnElt);
        elt.notifyAttached(this);
    }
    else {
        throw new Error('Children must be a frame');
    }
};

FrameView.prototype.removeChild = function (elt) {
    var ctnEltIndex = this.childIndexOf(elt)
    if (ctnEltIndex >= 0) {
        var ctnElt = this.$containers[ctnEltIndex];
        this.$containers.splice(ctnEltIndex, 1);
        this.super(ctnElt);
    }
    else {
        throw new Error('Removed element is not a child!');
    }
};


FrameView.prototype.childIndexOf = function (elt) {
    for (var i = 0; i < this.$containers.length; ++i) {
        if (this.$containers[i].__elt__ == elt) return i;
    }
    return -1;
};


FrameView.prototype.findChildBefore = function (elt) {
    var eltIndex = this.childIndexOf(elt);
    if (eltIndex < 0) return -1;
    return this.$containers[eltIndex - 1];
};


FrameView.prototype.findChildAfter = function (elt) {
    var eltIndex = this.childIndexOf(elt);
    if (eltIndex < 0) return -1;
    return this.$containers[eltIndex + 1];
};


FrameView.prototype.clearChild = function () {
    while (this.$containers.length > 0) {
        this.removeChild(this.$containers[0].__elt__);
    }
    return this;
};


FrameView.prototype.findChildById = function (id) {
    var elt;
    for (var i = 0; i < this.$containers.length; ++i) {
        elt = this.$containers[i].__elt__;
        if (elt.getAttribute('id') == id) return elt;
    }
    return undefined;
};

FrameView.prototype.getAllChild = function () {
    return this.$containers.map(function (ctnElt) {
        return ctnElt.__elt__;
    });
};

FrameView.prototype.activeFrame = function (frameElt) {
    var ctnElt, elt;
    for (var i = 0; i < this.$containers.length; ++i) {
        ctnElt = this.$containers[i];
        elt = ctnElt.__elt__;
        if (frameElt == elt) {
            if (!ctnElt.containsClass('absol-active')) {
                ctnElt.addClass('absol-active');
                this.notifyActiveFrame(elt);
            }
            // else do nothing
        }
        else {
            if (ctnElt.containsClass('absol-active')) {
                ctnElt.removeClass('absol-active');
                this.notifyDeactiveFrame(elt);
            }
            // else do nonthing
        }
    }
    return this;
};


FrameView.prototype.notifyActiveFrame = function (frameElt, originEvent) {
    frameElt.emit('active', { target: frameElt, type: 'active', originEvent: originEvent });
    this.emit('activeframe', { type: 'activeframe', target: this, frameElt: frameElt, originEvent: originEvent }, this);
};

FrameView.prototype.notifyDeactiveFrame = function (frameElt, originEvent) {
    this.emit('deactiveframe', {
        type: 'deactiveframe',
        target: this,
        frameElt: frameElt,
        originEvent: originEvent
    }, this);
};

FrameView.prototype.activeFrameById = function (id) {
    var frameElt = this.findChildById(id);
    if (frameElt)
        this.activeFrame(frameElt);
    return this;
};


ACore["a" /* default */].install('frameview', FrameView);

/* harmony default export */ var js_FrameView = (FrameView);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TabFrame.js


var TabFrame_$ = ACore["a" /* default */].$;
var TabFrame_ = ACore["a" /* default */]._;

function TabFrame() {

}

TabFrame.tab = 'tabframe';
TabFrame.render = function () {
    return TabFrame_({
        tag: 'frame',
        class: 'absol-tab-frame',
        extendEvent: ['requestremove', 'remove']
    }, true);
}

TabFrame.property = {};

TabFrame.property.name = {
    set: function (value) {

        if (typeof name == "undefined") {
            this._name = undefined;
        }
        else {
            this._name = value + '';
        }
        if (this.$parent) {
            if (this.$parent.notifyUpdateName)
                this.$parent.notifyUpdateName(this);
        }
    },
    get: function () {
        return this._name;
    }
};


TabFrame.property.modified = {
    set: function (value) {
        this._modified = !!value;
        if (this.$parent) {
            if (this.$parent.notifyUpdateModified)
                this.$parent.notifyUpdateModified(this);
        }
    },
    get: function () {
        return !!this._modified;
    }
};


TabFrame.property.desc = {
    set: function (value) {
        if (typeof value == "undefined") {
            this._desc = undefined;
        }
        else {
            this._desc = value + '';
        }
        if (this.$parent) {
            if (this.$parent.notifyUpdateDesc)
                this.$parent.notifyUpdateDesc(this);
        }

    },
    get: function () {
        return this._desc;
    }
}

TabFrame.attribute = {};

TabFrame.attribute.name = {
    set: function (value) {
        this.name = value;
    },
    get: function () {
        return this.name;
    },
    remove: function () {
        this.name = undefined;
    }
};


TabFrame.attribute.desc = {
    set: function (value) {
        this.desc = value;
    },
    get: function () {
        return this.desc;
    },
    remove: function () {
        this.desc = undefined;
    }
};

TabFrame.attribute.modified = {
    set: function (value) {
        this.modified = value == 'true' || value == '1' || value === true;
    },
    get: function () {
        return this.modified ? 'true' : undefined;
    },
    remove: function () {
        this.desc = false;
    }
};


TabFrame.property.requestRemove = function () {
    if (this.$parent && this.$parent.removeTab) {
        this.$parent.removeTab(this.id, false);
    }
    else {
        this.selfRemove();
    }
};

ACore["a" /* default */].install(TabFrame);
/* harmony default export */ var js_TabFrame = (TabFrame);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/tabview.css
var tabview = __webpack_require__(22);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TabButton.js





var TabButton_ = ACore["a" /* default */]._;
var TabButton_$ = ACore["a" /* default */].$;


function TabButton() {
    var thisTB = this;
    this.$close = TabButton_$('.absol-tabbar-button-close', this)
        .on('click', function (event) {
            event.tabButtonEventName = 'delete';
            thisTB.emit('close', event);
        });

    this.$modifiedFlag = TabButton_$('.absol-tabbar-button-modified-flag', this)
        .on('click', function (event) {
            event.tabButtonEventName = 'delete';
            thisTB.emit('close', event);
        });

    this.$textView = TabButton_$('.absol-tabbar-button-text', this);
    this.on({
        click: function (event) {
            if (event.tabButtonEventName) return;
            event.tabButtonEventName = 'active';
            thisTB.emit('active', event);
        }
    });
}


TabButton.tag = 'TabButton';

TabButton.render = function () {
    return TabButton_({
        tag: 'button',
        class: 'absol-tabbar-button',
        extendEvent: ['close', 'active'],
        id: randomIdent(20),
        child: [{
            class: 'absol-tabbar-button-text',
        },
            {
                class: 'absol-tabbar-button-icon-container',
                child: [
                    {
                        tag: 'span',
                        class: ['absol-tabbar-button-close', 'mdi-close', 'mdi'],

                        attr: { title: 'Close (Ctrl+F4)' }
                    },
                    {
                        tag: 'span',
                        class: ['absol-tabbar-button-modified-flag', 'mdi', 'mdi-checkbox-blank-circle']
                    }
                ]
            }
        ]
    });
};


TabButton.property = {};
TabButton.property.active = {
    set: function (value) {
        this._active = value;
        if (value)
            this.addClass('absol-tabbar-button-active');
        else
            this.removeClass('absol-tabbar-button-active');
    },
    get: function () {
        return this._active;
    }
};


TabButton.property.name = {
    set: function (value) {
        this._name = value || '';
        this.$textView.innerHTML = this._name;

    },
    get: function () {
        return this._name;
    }
};


TabButton.property.desc = {
    set: function (value) {
        this.attr('title', value);
    },
    get: function () {
        return this.attr('title');
    }
};


TabButton.property.modified = {
    set: function (value) {
        if (value) {
            this.addClass('absol-tabbar-button-modified');
        }
        else {
            this.removeClass('absol-tabbar-button-modified');
        }
    },
    get: function () {
        return this.containsClass('absol-tabbar-button-modified');
    }
};

ACore["a" /* default */].install(TabButton);

/* harmony default export */ var js_TabButton = (TabButton);


HTML5_Dom["a" /* default */].documentReady.then(function () {
    var a = TabButton_({
        tag: 'span',
        class: ['mdi', 'mdi-close-circle'],
        style: {
            display: 'none'
        }
    }).addTo(document.body);
    var content = getComputedStyle(a, '::before').content;
    a.remove();
    TabButton_({
        tag: 'style',
        props: {
            innerHTML: '.absol-tabview  .absol-tabbar-button-close:hover::before {\n' +
                '    content: ' + content + ';\n' +
                '}'
        }
    }).addTo(document.head);
});
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TabBar.js




var TabBar_ = ACore["a" /* default */]._;
var TabBar_$ = ACore["a" /* default */].$;


function TabBar() {
    this.defineEvent(['active', 'close']);
    this.on('wheel', function (event) {
        var lastLeft = this.$viewport.scrollLeft;
        if (event.deltaY > 1) {
            this.$viewport.scrollLeft += 50;
        }
        else if (event.deltaY < -1) {
            this.$viewport.scrollLeft -= 50;
        }
        if (lastLeft != this.$viewport.scrollLeft)
            event.preventDefault();
    });
    this._tabs = [];
}

TabBar.tag = 'tabbar';

TabBar.render = function (){
    return TabBar_('hscroller.absol-tabbar');
};

TabBar.prototype.getAllTabButtons = function () {
    var buttons = [];
    TabBar_$('tabbutton', this, function (e) {
        buttons.push(e);
    });
    return buttons;
};

/***
 *
 * @param {string} ident
 * @return {TabButton}
 */
TabBar.prototype.getButtonByIdent = function (ident) {
    return TabBar_$('tabbutton#tab-' + ident, this);
};




TabBar.property = {};

TabBar.property.tabs = {
    set: function (value) {
        this.clearChild();
        this._tabs = [];
        (value || []).forEach(this.addTab.bind(this));
    },
    get: function () {
        //each hold item data
        return this._tabs || [];
    }
};


/***
 * 
 * @param {{text}}
 * @return {tabbar}
 */
TabBar.prototype.addTab = function (value) {
    var self = this;
    var props = {};
    if (typeof value == "string") {
        props.name = value;
    }
    else {
        if (value.name) {
            props.name = value.name;
        }
        else {
            throw new Error('Tab must has name attribute');
        }
        if (value.desc)
            props.desc = value.desc;
    }


    var tabButton = TabBar_({
        tag: 'tabbutton',
        props: props,
        on: {
            active: function (event, sender) {
                var prevented = false;
                self.emit('active', {
                    target: this,
                    value: value,
                    preventDefault: function () {
                        prevented = true;
                    }
                }, self);
                if (!prevented) {
                    self.getAllTabButtons().forEach(function (e) {
                        e.active = false;
                    });
                    this.active = true;
                }
            },
            close: function (event, sender) {
                var prevented = false;
                self.emit('close', {
                    target: this, value: value,
                    preventDefault: function () {
                        prevented = true;
                    }
                }, self);
                if (!prevented) {
                    //todo:active other
                    this.remove();
                }
            }
        }
    }).addTo(this);
    if (value.id) tabButton.attr('id', 'tabbuton-' + value.id);
    this._tabs.push(tabButton);
    this.requestUpdateSize();
    return tabButton;
};


TabBar.prototype.removeTab = function (id) {
    this._tabs = this._tabs.filter(function (value) {
        return value == id;
    });
    TabBar_$('#tabbuton-' + id, this).remove();
    this.requestUpdateSize();
};


TabBar.prototype.activeTab = function (id) {
    var self = this;
    var activedbtn = TabBar_$('.absol-tabbar-button-active', this);
    if (activedbtn && activedbtn.attr('id') != id) {
        activedbtn.active = false;
    }
    var mButton = TabBar_$('#tabbuton-' + id, this);
    if (mButton) {
        mButton.active = true;
        setTimeout(function () {
            self.scrollInto(mButton);
        }, 30)
    }

};

TabBar.prototype.setModified = function (ident, flag) {
    var bt = this.getButtonByIdent(ident);
    if (bt) {
        bt.modified = flag;
    }
};


ACore["a" /* default */].install(TabBar);

/* harmony default export */ var js_TabBar = (TabBar);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TabView.js





var TabView_ = ACore["a" /* default */]._;
var TabView_$ = ACore["a" /* default */].$;


function TabView() {
    var thisTV = this;
    /***
     *
     * @type {TabBar}
     */
    this.$tabbar = TabView_$('tabbar', this);
    this.$tabbar.on({
        close: TabView.eventHandler.closeTab.bind(thisTV),
        active: TabView.eventHandler.activeTab.bind(thisTV)
    });
    this._frameHolders = [];
    this._history = [];
}

TabView.tag = 'TabView'.toLowerCase();

TabView.render = function () {
    return TabView_({
        class: 'absol-tabview',
        extendEvent: ['activetab', 'deactivetab', 'removetab', 'requestremovetab'],
        child: [
            'tabbar'
        ]
    });
};


TabView.eventHandler = {};

TabView.eventHandler.closeTab = function (event) {
    event.preventDefault();
    var id = event.value.id;
    this.removeTab(id, true);
};

TabView.eventHandler.activeTab = function (event) {
    event.preventDefault();
    var id = event.value.id;
    this.activeTab(id, true);
};

TabView.prototype.activeTab = function (id, userActive) {
    var self = this;
    var resPromise = [];
    var needDeactiveHolder = [];
    var needActiveHolder = [];
    this._frameHolders.forEach(function (holder) {
        if (holder.containerElt.containsClass('absol-tabview-container-hidden')) {
            if (holder.id == id) {
                needActiveHolder.push(holder);
            }
        }
        else {
            if (holder.id != id) {
                needDeactiveHolder.push(holder);
            }
        }
    });

    needDeactiveHolder.forEach(function (holder) {
        holder.containerElt.addClass('absol-tabview-container-hidden');
        holder.tabFrame.emit('deactive', {
            type: 'deactive',
            target: holder.tabFrame,
            id: holder.id,
            userActive: !!userActive,
            tabButton: holder.tabButton,
            holder: holder
        }, holder.tabFrame);
    });

    needActiveHolder.forEach(function (holder) {
        self._history.push(holder.id);
        holder.containerElt.removeClass('absol-tabview-container-hidden');
        self.$tabbar.activeTab(holder.id);
        holder.tabFrame.emit('active', {
            type: 'active',
            target: holder.tabFrame,
            id: holder.id,
            userActive: !!userActive,
            tabButton: holder.tabButton,
            holder: holder
        }, holder.tabFrame);
        self.emit('activetab', {
            type: 'activetab',
            target: self,
            id: holder.id,
            userActive: !!userActive,
            tabButton: holder.tabButton,
            holder: holder
        }, self);
    });
};

TabView.prototype.removeTab = function (id, userActive) {
    var self = this;
    var resPromise = [];
    this._frameHolders.forEach(function (holder) {
        if (holder.id == id) {
            var eventData = {
                type: 'requestremove',
                id: id,
                userActive: !!userActive,
                target: holder.tabFrame,
                tabFrame: holder.tabFrame,
                tabButton: holder.tabButton,
                holder: holder,
                __promise__: Promise.resolve(),
                waitFor: function (promise) {
                    this.__promise__ = promise;
                }
            };
            holder.tabFrame.emit('requestremove', eventData, holder.tabFrame);
            eventData.type = 'requestremovetab';
            eventData.target = self;
            self.emit('requestremovetab', eventData, self);
            resPromise.push(
                eventData.__promise__.then(function () {
                    //if ok
                    var eventData2 = {
                        type: 'deactive',
                        target: holder.tabFrame,
                        id: holder.id,
                        userActive: !!userActive,
                        tabButton: holder.tabButton,
                        holder: holder
                    };
                    if (!holder.containerElt.containsClass('absol-tabview-container-hidden'))
                        holder.tabFrame.emit('deactive', eventData2, holder.tabFrame);
                    eventData2.type = 'deactivetab';
                    eventData2.target = self;
                    if (!holder.containerElt.containsClass('absol-tabview-container-hidden'))
                        self.emit('deactivetab', eventData2, self);
                    self._frameHolders = self._frameHolders.filter(function (x) {
                        return x.id != id;
                    });
                    holder.tabFrame.notifyDetached();
                    self.$tabbar.removeTab(holder.id);
                    holder.containerElt.remove();

                    eventData2.type = 'remove';
                    eventData2.target = holder.tabFrame;
                    holder.tabFrame.emit('remove', eventData2, holder.tabFrame);
                    eventData2.type = 'removetab';
                    eventData2.target = self;
                    self.emit('removetab', eventData2, self);
                    self.activeLastTab();
                }, function () {
                    //if reject
                })
            );
        }
    });
    return Promise.all(resPromise);

};


TabView.prototype.notifyUpdateDesc = function (elt) {
    var holder = this.findHolder(elt);
    if (holder) {
        holder.tabButton.desc = elt.desc;
    }
};

TabView.prototype.notifyUpdateName = function (elt) {
    var holder = this.findHolder(elt);
    if (holder) {
        holder.tabButton.name = elt.name;
    }
};

TabView.prototype.notifyUpdateModified = function (elt) {
    var holder = this.findHolder(elt);
    if (holder) {
        holder.tabButton.modified = elt.modified;
    }
};

TabView.prototype.findHolder = function (elt) {
    for (var i = 0; i < this._frameHolders.length; ++i) {
        var holder = this._frameHolders[i];
        if (holder.tabFrame == elt) {
            return holder;
        }
    }
};

TabView.prototype.addChild = function () {
    var self = this;
    Array.prototype.forEach.call(arguments, function (elt) {
        if (!elt.notifyAttached || !elt.notifyDetached) {
            throw new Error('element is not a tabframe');
        }
        var containerElt = TabView_('.absol-tabview-container.absol-tabview-container-hidden');
        self.appendChild(containerElt);//origin function
        elt.selfRemove();
        var id = elt.attr('id');
        var desc = elt.attr('desc') || undefined;
        var name = elt.attr('name') || 'NoName';
        var modified = elt.modified;

        var tabButton = self.$tabbar.addTab({ name: name, id: id, desc: desc, modified: modified });
        containerElt.addChild(elt);
        elt.notifyAttached(self);
        var holder = {};
        OOP["a" /* default */].drillProperty(holder, elt, 'id');
        OOP["a" /* default */].drillProperty(holder, elt, 'desc');
        OOP["a" /* default */].drillProperty(holder, elt, 'name');
        Object.defineProperties(holder, {
            tabButton: {
                value: tabButton,
                writable: false
            },
            tabFrame: {
                value: elt,
                writable: false
            },
            containerElt: {
                value: containerElt,
                writable: false
            }
        });
        self._frameHolders.push(holder);
        self.activeTab(id);
    });
};

TabView.prototype.activeLastTab = function () {
    var dict = this._frameHolders.reduce(function (ac, holder) {
        ac[holder.id] = true;
        return ac;
    }, {});

    while (this._history.length > 0) {
        var id = this._history[this._history.length - 1];
        if (dict[id]) {
            this.activeTab(id);
            break;
        }
        else {
            this._history.pop();
        }
    }
};

TabView.prototype.getChildAt = function (index) {
    return this._frameHolders[index].tabFrame;
};

TabView.prototype.getAllChild = function () {
    return this._frameHolders.map(function (holder) {
        return holder.tabFrame;
    });
};

TabView.prototype.getActiveTabHolder = function () {
    var holder = null;
    for (var i = 0; i < this._frameHolders.length; ++i) {
        holder = this._frameHolders[i];
        if (!holder.containerElt.containsClass('absol-tabview-container-hidden')) {
            return holder;
        }
    }
    return null;
};

TabView.prototype.getActiveTab = function () {
    var holder = this.getActiveTabHolder();
    return holder && holder.tabFrame;
};

TabView.prototype.getActiveTabId = function () {
    var holder = this.getActiveTabHolder();
    return holder && holder.id;
};

TabView.prototype.getTabById = function (id) {
    var holder = this.getTabHolderById(id);
    return holder && holder.tabFrame;
};

TabView.prototype.getTabHolderById = function (id) {
    var holder = null;
    for (var i = 0; i < this._frameHolders.length; ++i) {
        holder = this._frameHolders[i];
        if (holder.id === id) {
            return holder;
        }
    }
    return null;
}


TabView.prototype.activeFrame = function (elt) {
    if (typeof elt == "string") {
        return this.activeTab(elt);
    }
    else if (elt && elt.attr) {
        return this.activeTab(elt.attr('id'));
    }
    else {
        throw new Error("Invalid param, must be id or elt!");
    }
};


TabView.property = {};

TabView.property.historyOfTab = {
    get: function () {
        return this._history.slice();
    }
};

ACore["a" /* default */].install('tabview', TabView);

/* harmony default export */ var js_TabView = (TabView);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/singlepage.css
var singlepage = __webpack_require__(102);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/SinglePage.js





var SinglePage_ = ACore["a" /* default */]._;
var SinglePage_$ = ACore["a" /* default */].$;

var warned = false;

/***
 * @extends AElement
 * @constructor
 */
function SinglePage() {
    var thisSP = this;
    this.$attachhook = SinglePage_$('attachhook', this)
        .on('error', function () {
            this.updateSize();
            setTimeout(this.updateSize, 20);
            HTML5_Dom["a" /* default */].addToResizeSystem(this);
        });
    this.$attachhook.updateSize = this.updateSize.bind(this);
    this.$header = null;
    this.$footer = null;
    this.$viewport = SinglePage_$('.absol-single-page-scroller-viewport', this);
    this.$scroller = SinglePage_$('.absol-single-page-scroller', this);
}

SinglePage.tag = 'SinglePage'.toLowerCase();

SinglePage.render = function () {
    return SinglePage_({
        tag: 'tabframe',
        class: 'absol-single-page',
        child: [{
            class: 'absol-single-page-scroller',
            child: { class: 'absol-single-page-scroller-viewport' }
        },
            'attachhook']
    });
};


SinglePage.prototype.updateSize = function () {
    if (!this.isDescendantOf(document.body)) return ;
    var paddingTop = parseFloat(this.getComputedStyleValue('padding-top').replace('px', '')) || 0;

    if (this.$header) {
        var headerBound = this.$header.getBoundingClientRect();
        var headerMarginTop = parseFloat(this.$header.getComputedStyleValue('margin-top').replace('px', '')) || 0;
        var headerMarginBottom = parseFloat(this.$header.getComputedStyleValue('margin-bottom').replace('px', '')) || 0;
        this.$scroller.addStyle('top', (headerBound.height + headerMarginTop + headerMarginBottom + paddingTop) + 'px');
    }
    if (this.$footer) {
        var footerBound = this.$footer.getBoundingClientRect();
        this.$viewport.addStyle('padding-bottom', footerBound.height + 'px');
    }
};

SinglePage.prototype.addChild = function (elt) {
    if (elt.classList.contains('absol-single-page-header')) {
        if (this.firstChild) {
            this.addChildBefore(elt, this.firstChild);
        }
        else {
            this.appendChild(elt);
        }
        this.$header = SinglePage_$(elt);
        this.updateSize();
    }
    else if (elt.classList.contains('absol-single-page-footer')) {
        this.$viewport.addChild(elt);
        this.$footer = SinglePage_$(elt);
        this.updateSize();
    }
    else {
        this.$viewport.addChild(elt);
    }
};

SinglePage.prototype.removeChild = function (elt) {
    if (elt == this.$footer) {
        this.$viewport.removeChild(elt);
        this.$footer = undefined;
        this.updateSize();
    }
    else if (elt == this.$header) {
        this.super(elt);
        this.$header = undefined;
        this.updateSize();
    }
    else {
        this.$viewport.removeChild(elt);
    }
};


ACore["a" /* default */].install(SinglePage);

/* harmony default export */ var js_SinglePage = (SinglePage);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/hexasectionlabel.css
var hexasectionlabel = __webpack_require__(104);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/HexaSectionLabel.js






var HexaSectionLabel_ = ACore["a" /* default */]._;
var HexaSectionLabel_$ = ACore["a" /* default */].$;

var HexaSectionLabel_g = Svg["a" /* default */].ShareInstance._;
var HexaSectionLabel_$g = Svg["a" /* default */].ShareInstance.$;


var HexaSectionLabel_Design = {
    hexaHeight: 425,
    textBoxHeight: 286,
    textHeight: 96,
    indexHeight: 110,
    textBoxPaddingLeft: 127,
    borderWidth: 38
};

var HexaSectionLabel_StyleSheet = {
    '.as-hexa-section-label-text': {
        height: HexaSectionLabel_Design.textBoxHeight / HexaSectionLabel_Design.textHeight + 'em',
        'padding-left': HexaSectionLabel_Design.textBoxPaddingLeft / HexaSectionLabel_Design.textHeight + 'em',
        'line-height': HexaSectionLabel_Design.textBoxHeight / HexaSectionLabel_Design.textHeight + 'em'
    },
    '.as-hexa-section-label-index': {
        'font-size': HexaSectionLabel_Design.indexHeight / HexaSectionLabel_Design.textHeight + 'em',
        height: HexaSectionLabel_Design.hexaHeight / HexaSectionLabel_Design.indexHeight + 'em',
        'line-height': HexaSectionLabel_Design.hexaHeight / HexaSectionLabel_Design.indexHeight + 'em',
        width: ((HexaSectionLabel_Design.hexaHeight + HexaSectionLabel_Design.borderWidth) / Math.cos(Math.PI / 6)) / HexaSectionLabel_Design.indexHeight + 'em'
    },

};

HexaSectionLabel_({
    tag: 'style',
    id: 'hexa-section-label-style',
    props: {
        innerHTML: Object.keys(HexaSectionLabel_StyleSheet).map(function (key) {
            var style = HexaSectionLabel_StyleSheet[key];
            return key + ' {\n'
                + Object.keys(style).map(function (propName) {
                    return propName + ': ' + style[propName] + ';';
                }).join('\n')
                + '}';
        }).join('\n')
    }
}).addTo(document.head);

/***
 * @extends AElement
 * @constructor
 */
function HexaSectionLabel() {
    this.$background = HexaSectionLabel_$('.as-hexa-section-label-background', this);
    this.$index = HexaSectionLabel_$('.as-hexa-section-label-index', this);
    this.$text = HexaSectionLabel_$('.as-hexa-section-label-text', this);
    this.$attachhook = HexaSectionLabel_('attachhook').addTo(this).on('error', function () {
        HTML5_Dom["a" /* default */].addToResizeSystem(this);
        this.requestUpdateSize();
    });

    this.$attachhook.requestUpdateSize = this.redrawBackground.bind(this);
    this.$svg = HexaSectionLabel_g({
        tag: 'svg',
        attr: {
            width: '0',
            height: '0'
        },
        child: [
            'path.as-hexa-section-label-text-box',
            'path.as-hexa-section-label-index-box'
        ]
    }).addTo(this.$background);
    this.$indexBox = HexaSectionLabel_$g('path.as-hexa-section-label-index-box', this.$svg);
    this.$textBox = HexaSectionLabel_$g('path.as-hexa-section-label-text-box', this.$svg);
}

HexaSectionLabel.prototype.redrawBackground = function () {
    var indexBound = this.$index.getBoundingClientRect();
    var textBound = this.$text.getBoundingClientRect();
    var cHeight = indexBound.height;
    var cWidth = textBound.right - indexBound.left;
    this.$svg.attr({
        height: cHeight + '',
        width: cWidth + '',
        viewBox: [0, 0, cWidth, cHeight].join(' ')
    });

    var borderWidth = cHeight * HexaSectionLabel_Design.borderWidth / HexaSectionLabel_Design.hexaHeight;
    var radius = (cHeight / Math.cos(Math.PI / 6) / 2) - borderWidth / 2;
    var x0 = indexBound.width / 2;
    var y0 = cHeight / 2;


    this.$indexBox.attr('d', Array(6).fill(0).map(function (u, i) {
        var angle = Math.PI / 3 + i * Math.PI / 3;
        var x = radius * Math.cos(angle) + x0;
        var y = radius * Math.sin(angle) + y0;
        return (i == 0 ? 'M' : 'L') + x + ' ' + y;
    }).join(' ') + 'Z')
        .addStyle({
            strokeWidth: borderWidth + ''
        });
    var skewX = 18 / 45;
    var textBoxHeight = textBound.height;
    this.$textBox.attr('d', [
        [x0, (cHeight - textBoxHeight) / 2],
        [cWidth - 1, (cHeight - textBoxHeight) / 2],
        [cWidth - 1 - textBoxHeight * skewX, (cHeight - textBoxHeight) / 2 + textBoxHeight],
        [x0, (cHeight - textBoxHeight) / 2 + textBoxHeight],
    ].map(function (point, i) {
        return (i == 0 ? 'M' : 'L') + point.join(' ')
    }).join(' ') + 'Z')
};

HexaSectionLabel.tag = 'HexaSectionLabel'.toLowerCase();

HexaSectionLabel.render = function () {
    return HexaSectionLabel_({
        class: 'as-hexa-section-label',
        child: [
            {
                class: 'as-hexa-section-label-background'
            },
            '.as-hexa-section-label-index',
            '.as-hexa-section-label-text'
        ]
    });
};

HexaSectionLabel.property = {};
HexaSectionLabel.property.index = {
    set: function (value) {
        this._index = value;
        this.$index.clearChild().addChild(HexaSectionLabel_({ text: value + '' }))
    },
    get: function () {
        return this._index;
    }
};

HexaSectionLabel.property.text = {
    set: function (value) {
        this._text = value;
        this.$text.clearChild().addChild(HexaSectionLabel_({ text: value + '' }))
    },
    get: function () {
        return this._text;
    }
};


ACore["a" /* default */].install(HexaSectionLabel);
/* harmony default export */ var js_HexaSectionLabel = (HexaSectionLabel);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/vruler.css
var vruler = __webpack_require__(106);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/VRuler.js





var VRuler_ = ACore["a" /* default */]._;
var VRuler_$ = ACore["a" /* default */].$;


function VRuler() {
    var self = this;
    this.$attachHook = VRuler_('attachhook').on('error', function () {
        this.updateSize = self.update.bind(self);
        HTML5_Dom["a" /* default */].addToResizeSystem(this);
        this.updateSize();
    }).addTo(this);

    this.$lines = [];
    this.$numbers = [];
    this.$measureTarget = undefined;
    this._viewingNumberCount = 0;
    this._viewingLineCount = 0;
    this._spacing = 10;
    this._major = 10;
    this._valueFloat = 'top';
}

VRuler.tag = 'vruler';

VRuler.render = function () {
    return VRuler_({
        class: 'as-vruler'
    });
};

VRuler.prototype.measureElement = function (elt) {
    if (typeof elt == "string") elt = VRuler_$(elt);
    this.$measureTarget = elt;
    this.update();
};


VRuler.prototype.update = function () {
    var fontSize = this.getFontSize();
    var measureBound;
    var bound = this.getBoundingClientRect();
    var contentBound = {
        left: bound.left + 1,
        right: bound.right - 1,
        top: bound.top + 1,
        bottom: bound.bottom - 1,
        width: bound.width - 2,
        height: bound.height - 2
    };
    if (this.$measureTarget) {
        measureBound = this.$measureTarget.getBoundingClientRect();
    }
    else {
        measureBound = contentBound;
    }

    var startOfset = (measureBound[this._valueFloat] - contentBound[this._valueFloat]) * (this.inverse ? -1 : 1) % this._spacing;
    if (startOfset < 0) startOfset += this._spacing;


    var lineIndexOfset = Math.round(((contentBound[this._valueFloat] - measureBound[this._valueFloat]) * (this.inverse ? -1 : 1) + startOfset) / this._spacing);

    var lineCount = Math.floor((contentBound.height - startOfset) / this._spacing) + 1;

    while (this.$lines.length < lineCount) {
        this.$lines.push(VRuler_('.as-vruler-line'));
    }
    var i;
    var lineElt;
    for (i = 0; i < lineCount; ++i) {
        lineElt = this.$lines[i];
        if ((i + lineIndexOfset) % this._major == 0) {
            lineElt.addClass('major');
        }
        else {
            lineElt.removeClass('major');
        }
        lineElt.addStyle(this._valueFloat, startOfset + this._spacing * i - 0.5 + 'px');
    }

    while (this._viewingLineCount < lineCount) {
        this.$lines[this._viewingLineCount++].addTo(this);
    }

    while (this._viewingLineCount > lineCount) {
        this.$lines[--this._viewingLineCount].remove();
    }

    var numberCount = Math.floor((lineCount + lineIndexOfset - 1) / this._major) - Math.ceil(lineIndexOfset / this._major) + 1;

    while (this.$numbers.length < numberCount) {
        this.$numbers.push(VRuler_('.as-vruler-major-number'));
    }
    var numberElt;
    var number;
    var majorStartOfset = startOfset;
    if (lineIndexOfset > 0) {
        majorStartOfset += (this._major - lineIndexOfset % this._spacing) * this._spacing;
    }
    else {
        majorStartOfset += (this._major - (this._spacing + lineIndexOfset % this._spacing)) * this._spacing;
    }

    for (i = 0; i < numberCount; ++i) {
        number = (Math.ceil(lineIndexOfset / this._major) + i) * this._spacing * this._major;
        numberElt = this.$numbers[i];
        if (numberElt.__cacheNumber__ != number) {
            numberElt.__cacheNumber__ = number;
            numberElt.innerHTML = number + '';
        }
        numberElt.addStyle(this._valueFloat, majorStartOfset + this._major * i * this._spacing - 0.7 * 0.5 * fontSize + 'px')
    }

    while (this._viewingNumberCount < numberCount) {
        this.$numbers[this._viewingNumberCount++].addTo(this);
    }

    while (this._viewingNumberCount > numberCount) {
        this.$numbers[--this._viewingNumberCount].remove();
    }
};


VRuler.property = {};
VRuler.property.major = {
    set: function (value) {
        if (value > 0) {
            this._major = value;
            this.update();
        }
    },
    get: function () {
        return this._major;
    }
};

VRuler.property.spacing = {
    set: function (value) {
        if (value > 0) {
            this._spacing = value;
            this.update();
        }
    },
    get: function () {
        return this._spacing;
    }
};


VRuler.property.inverse = {
    set: function (value) {
        this._valueFloat = value ? 'bottom' : 'top';
        this.update();
    },
    get: function () {
        return this._valueFloat == 'bottom';
    }
};

ACore["a" /* default */].install('vruler', VRuler);

/* harmony default export */ var js_VRuler = (VRuler);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/hruler.css
var hruler = __webpack_require__(108);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/HRuler.js





var HRuler_ = ACore["a" /* default */]._;
var HRuler_$ = ACore["a" /* default */].$;

/***
 * @extends AElement
 * @constructor
 */
function HRuler() {
    var self = this;
    this.$attachHook = HRuler_('attachhook').on('error', function () {
        this.updateSize = self.update.bind(self);
        HTML5_Dom["a" /* default */].addToResizeSystem(this);
        this.updateSize();
    }).addTo(self);

    this.$lines = [];
    this.$numbers = [];
    this._viewingNumberCount = 0;
    this._viewingLineCount = 0;
    this._spacing = 10;
    this._major = 10;
    this.$measureTarget = null;
    this._valueFloat = 'left';
}

HRuler.tag = 'hruler';

HRuler.render = function () {
    return HRuler_({
        class: 'as-hruler'
    });
};


HRuler.prototype.measureElement = function (elt) {
    if (typeof elt == "string") elt = HRuler_$(elt);
    this.$measureTarget = elt;
    this.update();
};


HRuler.prototype.update = function () {
    var fontSize = this.getFontSize();
    var measureBound;
    var bound = this.getBoundingClientRect();

    var contentBound = {
        left: bound.left + 1,
        right: bound.right - 1,
        top: bound.top + 1,
        bottom: bound.bottom - 1,
        width: bound.width - 2,
        height: bound.height - 2
    };
    if (this.$measureTarget) {
        measureBound = this.$measureTarget.getBoundingClientRect();
    }
    else {
        measureBound = contentBound;
    }


    var startOfset = (measureBound[this._valueFloat] - contentBound[this._valueFloat]) * (this.inverse ? -1 : 1) % this._spacing;
    if (startOfset < 0) startOfset += this._spacing;


    var lineIndexOfset = Math.round(((contentBound[this._valueFloat] - measureBound[this._valueFloat]) * (this.inverse ? -1 : 1) + startOfset) / this._spacing);

    var lineCount = Math.floor((contentBound.width - startOfset) / this._spacing) + 1;

    while (this.$lines.length < lineCount) {
        this.$lines.push(HRuler_('.as-hruler-line'));
    }

    var i;
    var lineElt;
    for (i = 0; i < lineCount; ++i) {
        lineElt = this.$lines[i];
        if ((i + lineIndexOfset) % this._major == 0) {
            lineElt.addClass('major');
        }
        else {
            lineElt.removeClass('major');
        }
        lineElt.addStyle(this._valueFloat, startOfset + this._spacing * i - 0.5 + 'px');
    }

    while (this._viewingLineCount < lineCount) {
        this.$lines[this._viewingLineCount++].addTo(this);
    }

    while (this._viewingLineCount > lineCount) {
        this.$lines[--this._viewingLineCount].remove();
    }

    var numberCount = Math.floor((lineCount + lineIndexOfset - 1) / this._major) - Math.ceil(lineIndexOfset / this._major) + 1;

    while (this.$numbers.length < numberCount) {
        this.$numbers.push(HRuler_('.as-hruler-major-number'));
    }
    var numberElt;
    var number;
    var majorStartOfset = startOfset;
    if (lineIndexOfset > 0) {
        majorStartOfset += (this._major - lineIndexOfset % this._spacing) * this._spacing;
    }
    else {
        majorStartOfset += (this._major - (this._spacing + lineIndexOfset % this._spacing)) * this._spacing;

    }


    for (i = 0; i < numberCount; ++i) {
        number = (Math.ceil(lineIndexOfset / this._major) + i) * this._spacing * this._major;
        numberElt = this.$numbers[i];
        if (numberElt.__cacheNumber__ != number) {
            numberElt.__cacheNumber__ = number;
            numberElt.innerHTML = number + '';
        }
        numberElt.addStyle(this._valueFloat, majorStartOfset + this._major * i * this._spacing - 0.7 * 2.5 * fontSize + 'px')
    }

    while (this._viewingNumberCount < numberCount) {
        this.$numbers[this._viewingNumberCount++].addTo(this);
    }

    while (this._viewingNumberCount > numberCount) {
        this.$numbers[--this._viewingNumberCount].remove();
    }
};


HRuler.property = {};
HRuler.property.major = {
    set: function (value) {
        if (value > 0) {
            this._major = value;
            this.update();
        }
    },
    get: function () {
        return this._major;
    }
};

HRuler.property.spacing = {
    set: function (value) {
        if (value > 0) {
            this._spacing = value;
            this.update();
        }
    },
    get: function () {
        return this._spacing;
    }
};

HRuler.property.inverse = {
    set: function (value) {
        this._valueFloat = value ? 'right' : 'left';
        this.update();
    },
    get: function () {
        return this._valueFloat == 'right';
    }
};

ACore["a" /* default */].install(HRuler);

/* harmony default export */ var js_HRuler = (HRuler);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/IconSprite.js



var IconSprite_ = ACore["a" /* default */]._;
var IconSprite_$ = ACore["a" /* default */].$;


function IconSprite() {
    this.$attachhook = IconSprite_('attachhook').addTo(this).on('error', this.eventHandler.attached);
    this.on('frame', this.eventHandler.frame);
    this._checkRootTimeout = 30;
    this.loop = true;
}

IconSprite.tag = 'iconsprite';


IconSprite.render = function () {
    return IconSprite_('sprite', true);
};


/**
 * @type {IconSprite}
 */
IconSprite.eventHandler = {};

IconSprite.eventHandler.attached = function () {
    var thisAS = this;
    this._checkRootTimeout = 30;
    this.afterReady().then(function () {
        thisAS.width = thisAS.texture.naturalWidth;
        thisAS.height = thisAS.width;
        thisAS.frames = {
            type: 'grid',
            col: 1,
            row: thisAS.texture.naturalHeight / thisAS.texture.naturalWidth
        }
        thisAS.drawFrame(0);
        thisAS.play();
    });
};

IconSprite.eventHandler.frame = function () {
    this._checkRootTimeout--;
    if (this._checkRootTimeout == 0){
        if (this.isDescendantOf(document.body)){
            this._checkRootTimeout = 30;
        }
        else{
            this.stop();
            this.remove();
        }
    }
};

ACore["a" /* default */].install(IconSprite);

/* harmony default export */ var js_IconSprite = (IconSprite);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/linearcolorbar.css
var linearcolorbar = __webpack_require__(110);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/LinearColorBar.js






var LinearColorBar_ = ACore["a" /* default */]._;
var LinearColorBar_$ = ACore["a" /* default */].$;


var LinearColorBar_g = Svg["a" /* default */].ShareInstance._;
var LinearColorBar_$g = Svg["a" /* default */].ShareInstance.$;

var LinearColorBar_Design = {
    textHeight: 56,
    barHeight: 97,
    barBlockWidth: 79,
    barBlockMargin: 19,
    valueTextHeight: 70,
    valueStrokeWidth: 5,
    valueHeight: 99,
    valueWidth: 52,
    valueTripHeight: 32,
    height: 430,
    barY: 201
};

var SyleSheet = {
    '.as-linear-color-bar': {
        height: LinearColorBar_Design.height / LinearColorBar_Design.textHeight + 'em'
    },
    '.as-linear-color-value-text': {
        'font-size': LinearColorBar_Design.valueTextHeight / LinearColorBar_Design.textHeight + 'em'
    }
};


buildCss(SyleSheet);

function LinearColorBar() {
    this._indent = (Math.random() + '').replace(/[^0-9]/g, '_');
    this._extendValue = 0;
    this._value = 0;
    this._valueText = '';
    this.$valueText = LinearColorBar_$('.as-linear-color-value-text', this);
    this.$minValueText = LinearColorBar_$('.as-linear-color-min-value-text', this);
    this.$maxValueText = LinearColorBar_$('.as-linear-color-max-value-text', this);
    this.$background = LinearColorBar_$('svg.as-linear-color-background', this);
    this._attached = false;
    var thisBar = this;
    this.$attachhook = LinearColorBar_('attachhook').addTo(this).on('error', function () {
        thisBar._attached = true;
        HTML5_Dom["a" /* default */].addToResizeSystem(this);
        this.requestUpdateSize();
    });

    this.$background.attr({
        height: 0,
        width: 0,
    });
    this.$attachhook.requestUpdateSize = this.redraw.bind(this);
    this.$defs = LinearColorBar_g('defs').addTo(this.$background);

    this.$gradient = LinearColorBar_g('linearGradient#gradient_' + this._indent)
        .attr({
            x1: "0%",
            y1: "0%",
            x2: "100%",
            y2: "0%"
        }).addTo(this.$defs);
    this.$rect = LinearColorBar_g('rect.as-linear-color-bar-rect')
        .attr({
            fill: 'url(#gradient_' + this._indent + ')'
        })
        .addTo(this.$background);
    this.$splitLine = LinearColorBar_g('path.as-linear-color-split-line').addTo(this.$background)
    this.$valueArrow = LinearColorBar_g('path.as-linear-color-value-arrow').addTo(this.$background);

    this.colorMapping = 'rainbow';
}

LinearColorBar.prototype.redraw = function () {
    var bBound = this.getBoundingClientRect();
    var cWidth = bBound.width;
    var cHeight = bBound.height;
    var maxTextBound = this.$maxValueText.getBoundingClientRect();
    var minTextBound = this.$minValueText.getBoundingClientRect();
    var valueTextBound = this.$valueText.getBoundingClientRect();

    var valueWidth = LinearColorBar_Design.valueWidth / LinearColorBar_Design.height * cHeight;
    var minValueX = valueWidth / 1.5;
    this.$minValueText.addStyle('left', Math.max((minValueX - minTextBound.width) / 2, 0) + 'px');

    var maxValueX = (cWidth - LinearColorBar_Design.valueWidth) / (1 + this._extendValue);
    var extendX = cWidth - valueWidth / 1.5;
    var valueX = minValueX + this._value * (maxValueX - minValueX);
    this.$valueText.addStyle('left', valueX - valueTextBound.width / 2 + 'px');
    this.$maxValueText.addStyle('left', maxValueX - maxTextBound.width / 2 + 'px');
    var barY = LinearColorBar_Design.barY / LinearColorBar_Design.height * cHeight;
    var barHeight = LinearColorBar_Design.barHeight / LinearColorBar_Design.height * cHeight;
    this.$rect.attr({
        x: '' + minValueX,
        y: '' + barY,
        width: extendX - minValueX + '',
        height: barHeight
    });

    this.$background.attr({
        height: cHeight + '',
        width: cWidth + '',
        viewBox: [0, 0, cWidth, cHeight].join(' ')
    });

    var valueTripHeight = LinearColorBar_Design.valueTripHeight / LinearColorBar_Design.height * cHeight;
    var valueHeight = LinearColorBar_Design.valueHeight / LinearColorBar_Design.height * cHeight;
    this.$valueArrow
        .addStyle('stroke-width', LinearColorBar_Design.valueStrokeWidth / LinearColorBar_Design.height * cHeight + '')
        .attr('d', [
            [
                [valueX, barY],
                [valueX - valueWidth / 2, barY - valueTripHeight],
                [valueX - valueWidth / 2, barY - valueHeight],
                [valueX + valueWidth / 2, barY - valueHeight],
                [valueX + valueWidth / 2, barY - valueTripHeight]

            ]
        ].map(function (point, i) {
            return (i == 0 ? 'M' : 'L') + point.join(' ')
        }).join(' ') + 'Z');

    var splitDistMin = (LinearColorBar_Design.barBlockWidth + LinearColorBar_Design.barBlockMargin) / LinearColorBar_Design.height * cHeight;
    var splitCounts = [100, 50, 20, 10, 5, 2, 1];
    var splitDist = maxValueX - minValueX;
    var splitCount = 1;
    for (var i = 0; i < splitCounts.length; ++i) {
        splitDist = (maxValueX - minValueX) / splitCounts[i];
        if (splitDist >= splitDistMin) {
            splitCount = splitCounts[i];
            break;
        }
    }

    this.$splitLine.addStyle('stroke-width', LinearColorBar_Design.barBlockMargin / LinearColorBar_Design.height * cHeight + '')
        .attr({
            d: Array(splitCount + 1).fill(0).map(function (u, i) {
                return 'M' + (maxValueX - i * splitDist) + ' ' + (barY - 1) + 'v' + (barHeight + 2);
            }).join(' ')
        })
};

LinearColorBar.prototype._updateGradient = function () {
    var barMax = 1 + this._extendValue;
    var gradientElt = this.$gradient.clearChild();
    this._colorMapping.forEach(function (it) {
        LinearColorBar_g({
            tag: 'stop',
            attr: {
                offset: (it.value <= 1 ? it.value / barMax * 100 : 100) + '%'
            },
            style: {
                'stop-color': it.color + '',
                'stop-opacity': '1'
            }
        }).addTo(gradientElt);
    });
};


LinearColorBar.prototype.BUILDIN_COLORS_RANGE = {
    'rainbow': [
        { value: 0, color: 'red' },
        { value: 1 / 6, color: 'orange' },
        { value: 1 / 3, color: 'yellow' },
        { value: 1 / 2, color: 'green' },
        { value: 2 / 3, color: 'blue' },
        { value: 5 / 6, color: 'indigo' },
        { value: 1, color: 'violet' },
        { value: Infinity, color: 'violet' }
    ],
    'rainbow-invert': [
        { value: 0, color: 'violet' },
        { value: 1 / 6, color: 'indigo' },
        { value: 1 / 3, color: 'blue' },
        { value: 1 / 2, color: 'green' },
        { value: 2 / 3, color: 'yellow' },
        { value: 5 / 6, color: 'orange' },
        { value: 1, color: 'red' },
        { value: Infinity, color: 'violet' }
    ],
    'performance': [
        { value: 0, color: 'red' },
        { value: 0.5, color: 'orange' },
        { value: 1, color: 'green' },
        { value: Infinity, color: 'green' }
    ],
    'performance-invert': [
        { value: 0, color: 'green' },
        { value: 0.5, color: 'orange' },
        { value: 1, color: 'red' },
        { value: Infinity, color: 'red' }
    ]
}

LinearColorBar.tag = 'LinearColorBar'.toLowerCase();
LinearColorBar.render = function () {
    return LinearColorBar_({
        class: 'as-linear-color-bar',
        child: [
            'svg.as-linear-color-background',
            '.as-linear-color-value-text',
            '.as-linear-color-min-value-text',
            '.as-linear-color-max-value-text'
        ]
    });
};

LinearColorBar.property = {};
LinearColorBar.property.valueText = {
    set: function (value) {
        value = value + '';
        this._valueText = value;
        this.$valueText.clearChild().addChild(LinearColorBar_({ text: value }));
    },
    get: function () {
        return this._valueText;
    }
};


LinearColorBar.property.minValueText = {
    set: function (value) {
        value = value + '';
        this._minValueText = value;
        this.$minValueText.clearChild().addChild(LinearColorBar_({ text: value }));
    },
    get: function () {
        return this._valueText;
    }
};

LinearColorBar.property.maxValueText = {
    set: function (value) {
        value = value + '';
        this._maxValueText = value;
        this.$maxValueText.clearChild().addChild(LinearColorBar_({ text: value }));
    },
    get: function () {
        return this._valueText;
    }
};

LinearColorBar.property.value = {
    set: function (value) {
        this._value = value;
    },
    get: function () {
        return this._value;
    }
};

LinearColorBar.property.extendValue = {
    set: function (value) {
        this._extendValue = value;
        this._updateGradient();
    },
    get: function () {
        return this._extendValue;
    }
};


LinearColorBar.property.colorMapping = {
    set: function (value) {
        if (typeof (value) == "string") value = this.BUILDIN_COLORS_RANGE[value];
        this._colorMapping = value.slice();
        this._colorMapping.sort(function (a, b) {
            return a.value - b.value;
        })
        this._updateGradient();
    },
    get: function () {
        return this._colorMapping;
    }
};

ACore["a" /* default */].install(LinearColorBar);
/* harmony default export */ var js_LinearColorBar = (LinearColorBar);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/mediainput.css
var mediainput = __webpack_require__(112);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/MediaInput.js











var MediACore = new HTML5_Dom["a" /* default */]();
MediACore.install(ACore["a" /* default */]);


var MediaInput_ = MediACore._;
var MediaInput_$ = MediACore.$;


function MediaInput_openFileDialog(props) {
    if (!MediACore.$fileInput) {
        MediACore.$fileInput = MediaInput_({
            tag: 'input',
            class: 'vmedia-no-show',
            attr: {
                type: 'file'
            },
            props: {}
        }).addTo(document.body);
    }
    props = props || {};


    if (props.accept) {
        if (props.accept instanceof Array)
            MediACore.$fileInput.attr('accept', props.accept.join(','));
        else
            MediACore.$fileInput.attr('accept', props.accept);
    }
    else {
        MediACore.$fileInput.attr('accept', null);
    }

    if (props.multiple) {
        MediACore.$fileInput.attr('multiple', 'true');
    }
    else {
        MediACore.$fileInput.attr('multiple');
    }
    MediACore.$fileInput.value = null;
    MediACore.$fileInput.click();


    return new Promise(function (resolve, reject) {
        var finish = false;
        var body = MediaInput_$('body');
        MediACore.$fileInput.once('change', function () {
            finish = true;
            resolve(Array.prototype.map.call(this.files, function (file) {
                return file;
            }));
        });

        body.once('mousedown', function () {
            if (finish) return;
            resolve();
        });

    });
}

function MediaInput() {
    this.$editor = MediaInput_$('.vmedia-media-input-text-container-editor', this);
    this.$editor.on('paste', this.eventHandler.paste);
    this.$editor.on('keydown', this.eventHandler.keydown, true);
    this.$addImagebtn = MediaInput_$('#add-image-btn', this);
    this.$addImagebtn.on('click', this.eventHandler.clickAddImage);
    this.$addFilebtn = MediaInput_$('#add-file-btn', this);
    this.$addFilebtn.on('click', this.eventHandler.clickAddFile);
    this.$imagePreviewContainer = MediaInput_$('.vmedia-media-input-imagepreview-container', this);
    this.on('dragover', this.eventHandler.dragOver);
    this.on('drop', this.eventHandler.drop);
    this.$sendbtn = MediaInput_$('#send-btn', this);
    this.$sendbtn.on('click', this.eventHandler.send);
    this.$toolLeftCtn = MediaInput_$('.vmedia-media-input-tool-container-left', this);
    this.$pluginContentCtn = MediaInput_$('.vmedia-media-input-plugin-content-container', this);
    this.snapData = [];
    this.snapDataHead = 0;
    this.sync = this.afterAttached();
    this.snapText();
}

MediaInput.tag = 'MediaInput'.toLowerCase();

MediaInput.render = function () {
    return MediaInput_({
        class: 'vmedia-media-input',
        extendEvent: ['send', 'update', 'releaseplugin'],
        child: {
            class: 'vmedia-media-input-text-container',
            child: [{
                class: 'vmedia-media-input-imagepreview-container',
                child: {
                    class: 'vmedia-media-input-dropover',
                    child: 'download-ico'
                }
            },
                {
                    class: 'vmedia-media-input-text-container-editor',
                    attr: {
                        contenteditable: 'true'
                    },
                    on: {}
                },
                {
                    class: 'vmedia-media-input-text-container-buttons',
                    attr: {
                        title: 'Send'
                    }

                },
                {
                    class: 'vmedia-media-input-tool-container',
                    child: [
                        {
                            class: 'vmedia-media-input-tool-container-left',
                            child: [

                                {
                                    tag: 'button',
                                    attr: {
                                        id: 'add-image-btn',
                                        title: 'Add image'
                                    },
                                    child: 'add-image-ico'

                                },
                                {
                                    tag: 'button',
                                    attr: {
                                        id: 'add-file-btn',
                                        title: 'Add file'
                                    },
                                    child: 'add-file-ico'
                                },

                            ]
                        },
                        {
                            class: 'vmedia-media-input-tool-container-right',
                            child: [{
                                tag: 'button',
                                id: 'send-btn',
                                attr: {
                                    title: 'Send'
                                },
                                child: 'send-ico'
                            }]

                        }
                    ],
                },
                '.vmedia-media-input-plugin-content-container.blur',
            ]
        }
    });
};



MediaInput.prototype.addImage = function (url, title, data) {
    MediaInput_({
        tag: 'imagepreview',
        attr: {
            title: title
        },
        props: {
            data: data,
            imgSrc: url
        },
        on: {
            pressremove: function () {
                this.selfRemove();
            }
        }
    }).addTo(this.$imagePreviewContainer);
};
MediaInput.prototype.addFile = function (url, ext, title, data) {
    MediaInput_({
        tag: 'filepreview',
        attr: {
            title: title
        },
        props: {
            fileSrc: url,
            ext: ext,
            data: data
        },
        on: {
            pressremove: function () {
                this.selfRemove();
            }
        }
    }).addTo(this.$imagePreviewContainer);
};


MediaInput.property = {};

MediaInput.property.text = {
    set: function (value) {
        this.$editor.clearChild();
        value = value || '';
        var lines = value.split(/\r*\n/);
        if (lines.length < 1) return;
        this.$editor.addChild(document.createTextNode(lines[0]));
        lines.shift();
        lines.forEach(function (line) {
            this.$editor.addChild(MediaInput_({ child: document.createTextNode(line) }));
        }.bind(this));
        this.snapText();
    },
    get: function () {
        return this.getTextFromElements(this.$editor);
    }
};

MediaInput.property.files = {
    get: function () {
        return Array.prototype.filter.call(this.$imagePreviewContainer.childNodes, function (e) {
            return e._azar_extendTags && e._azar_extendTags.filepreview;
        }).map(function (e) {
            return e.data;
        });
    }
};
MediaInput.property.images = {
    get: function () {
        return Array.prototype.filter.call(this.$imagePreviewContainer.childNodes, function (e) {
            return e._azar_extendTags && e._azar_extendTags.imagepreview;
        }).map(function (e) {
            return e.data;
        });
    }
};

// MediaInput.property

MediaInput.property.plugins = {
    set: function (value) {
        this.sync = this.sync.then(this._dettachPlugins.bind(this, this._plugins));
        if (value) {
            if (!(value instanceof Array)) value = [value];
            this._plugins = value;
            this.addClass('has-plugin');

        }
        else {
            //remove plugin
            this.sync.then(this._dettachPlugins.bind(this));
            this._plugins = null;
            this.removeClass('has-plugin');
        }
        this.sync = this.sync.then(this._attachPlugins.bind(this, this._plugins));
    },
    get: function () {
        return this._plugins || null;
    }
}


MediaInput.prototype.appendText = function (text) {
    var lastBr = null;
    if (this.$editor.childNodes && this.$editor.childNodes.length > 0
        && this.$editor.childNodes[this.$editor.childNodes.length - 1].tagName
        && this.$editor.childNodes[this.$editor.childNodes.length - 1].tagName.toLowerCase() == 'br') {
        lastBr = this.$editor.childNodes[this.$editor.childNodes.length - 1];
    }

    var lines = text.split(/\r?\n/);
    if (lastBr) {
        for (var i = 0; i < lines.length; ++i) {
            if (i > 0) this.$editor.addChild(MediaInput_('br'));
            var e = MediaInput_({ text: lines[i] });
            this.$editor.addChild(e);
        }
    }
    else {
        for (var i = 0; i < lines.length; ++i) {
            if (i > 0) this.$editor.addChildBefore(MediaInput_('br'), lastBr);
            var e = MediaInput_({ text: lines[i] });
        }
        this.$editor.addChildBefore(e, lastBr);
    }

    setSelectionRange(this.$editor, Infinity);
};


MediaInput.prototype._attachPlugins = function (plugins) {
    if (!plugins) return;
    var self = this;
    plugins.forEach(function (plugin) {
        var oldContent = null;
        var $button = MediaInput_('button').addTo(self.$toolLeftCtn).on('click', function () {
            if (self._lastActivePlugin == plugin) return;
            self.releasePlugin();
            self._lastActivePlugin = plugin;
            self.$pluginContentCtn.removeClass('blur');
            self.$pluginContentCtn.clearChild();
            if (plugin.getContent) {
                var newContent = plugin.getContent(self, MediaInput_, MediaInput_$, self.$pluginContentCtn, oldContent);
                oldContent = newContent;
                self.$pluginContentCtn.addChild(newContent);
            }
            var buttonBound = $button.getBoundingClientRect();
            var rootBound = self.$pluginContentCtn.parentNode.getBoundingClientRect();
            self.$pluginContentCtn.addStyle({
                left: buttonBound.left + buttonBound.width / 2 - rootBound.left + 'px',
                bottom: rootBound.bottom - buttonBound.top + 'px'
            });
            if (plugin.onActive) plugin.onActive(self);
            setTimeout(function () {
                var outListener = function (event) {
                    if (EventEmitter["b" /* default */].hitElement(self.$pluginContentCtn, event)) {

                    }
                    else if (self._lastActivePlugin == plugin) {
                        var prevented = true;
                        if (plugin.onBlur) plugin.onBlur({
                            preventDefault: function () {
                                prevented = false;
                            }
                        });
                        if (prevented) {
                            self.releasePlugin();
                            MediaInput_$(document.body).off('click', outListener);
                        }
                    }
                    else {
                        MediaInput_$(document.body).off('click', outListener);
                    }
                };
                MediaInput_$(document.body).on('click', outListener);
                self.once('releaseplugin', function (ev) {
                    if (ev.plugin == plugin) {
                        MediaInput_$(document.body).off('click', outListener);
                    }
                });
            }, 100);
        });

        var btnInners = plugin.getTriggerInner(self, MediaInput_, MediaInput_$, $button);
        if (!(btnInners instanceof Array)) btnInners = [btnInners];
        btnInners.forEach(function (e) {
            if (typeof e == 'string') {
                e = MediaInput_({ text: e });
            }
            $button.addChild(e);
        });
        if (plugin.onAttached)
            plugin.onAttached(self);
    });
    //todo
    return true;
};

MediaInput.prototype.releasePlugin = function () {
    if (this._lastActivePlugin) {
        var plugin = this._lastActivePlugin;
        plugin.onDeactived && plugin.onDeactived(self);
        this.$pluginContentCtn.addClass('blur');
        this.emit('releaseplugin', { target: this, plugin: plugin }, this);
        this._lastActivePlugin = null;
    }

}

MediaInput.prototype._dettachPlugins = function (plugins) {
    if (!plugins) return;
    var self = this;
    plugins.forEach(function (plugin) {
        if (plugin.onAttached)
            plugin.onAttached(self);
    });
    //todo
    this._lastActivePlugin = null;
    return true;
};

MediaInput.prototype.focus = function () {
    this.$editor.focus();
    setSelectionRange(this.$editor, Infinity);
};

MediaInput.prototype.clear = function () {
    Array.prototype.filter.call(this.$imagePreviewContainer.childNodes, function (e) {
        return e._azar_extendTags && e._azar_extendTags.imagepreview;
    }).forEach(function (e) {
        e.selfRemove();
    });

    Array.prototype.filter.call(this.$imagePreviewContainer.childNodes, function (e) {
        return e._azar_extendTags && e._azar_extendTags.filepreview;
    }).forEach(function (e) {
        return e.selfRemove();
    });

    this.$editor.innerHTML = "";
    this.emit('update', { target: this }, this);
};


MediaInput.prototype.escapeSpace = function (s) {
    return s.replace(/\s/g, '&nbsp');
};


MediaInput.prototype.unescapeSpace = function (s) {
    return s.replace(/&nbsp/g, ' ');
};


MediaInput.prototype.getTextFromElements = function (element) {
    return getTextIn(element);
    // var self = this;

    // function visit(e, prevE) {
    //     var ac = '';
    //     var isNewLine = false;
    //     if (prevE && prevE.nodeType != Node.TEXT_NODE) {

    //         if (prevE.tagName && prevE.tagName.toLowerCase() == 'br') {
    //             isNewLine = true;
    //         }
    //         else if (Element.prototype.getComputedStyleValue.call(prevE, 'display') == 'block') {
    //             isNewLine = true;
    //         }
    //     }

    //     if (e.nodeType == Node.TEXT_NODE) {
    //         if (isNewLine) ac += '\n';
    //         ac += e.data;
    //     }
    //     else {
    //         var lastE = undefined;
    //         for (var i = 0; i < e.childNodes.length; ++i) {
    //             ac += visit(e.childNodes[i], i > 0 ? e.childNodes[i - 1] : null);

    //         }
    //     }
    //     return ac;
    // }

    // return visit(element);
};

MediaInput.prototype.getElementsFromText = function (text) {
    var newElements = text.split('\n')
        .map(function (text) {
            return document.createTextNode(text);
        })
        .reduce(function (ac, cr, i, arr) {
            if (i > 0)
                ac.push(MediaInput_('br'));
            ac.push(cr);
            return ac;
        }, []);
    return newElements;
};


// MediaInput.prototype.textOnly = function(e) {
//     if (e.nodeType == Node.TEXT_NODE) return e.textContent;
//     if (!e.tagName) return '';
//     if (e.tagName.toLowerCase() == 'br') return '\n';
//     return ($(e).getComputedStyleValue('display') == 'block' ? '\n' : '') + Array.prototype.map.call(e.childNodes, this.textOnly.bind(this)).join('')
// };

MediaInput.prototype.makeTextOnly = function () {
    var self = this;
    var editor = this.$editor;
    Array.apply(null, this.$editor.childNodes).forEach(function (e) {
        e = MediaInput_$(e);
        if (e.nodeType == Node.TEXT_NODE) return;
        if (e.tagName) {
            var tagName = e.tagName.toLowerCase();
            if (tagName == 'br') return;
            if (tagName.match(/img|script|svg|button|iframe|hr|video|canvas/)) {
                e.selfRemove(e);
            }

            if (tagName.match(/select|input|textarea/)) {
                e.selfReplace(document.createTextNode(e.value));
                return;
            }

            var newElements = self.getElementsFromText(self.getTextFromElements(e));
            var lastElement;
            if (e.getComputedStyleValue('display') == 'block') {
                lastElement = MediaInput_('br');
            }
            else {
                lastElement = newElements.pop();
            }
            e.selfReplace(lastElement);
            newElements.forEach(function (nE) {
                editor.addChildBefore(nE, lastElement);
            });
        }
    });


    this.emit('update', { target: editor }, this);
};

MediaInput.eventHandler = {};


MediaInput.eventHandler.keydown = function (event) {
    if (event.key == "Enter") {
        if (!event.ctrlKey && !event.altKey && !event.shiftKey) {
            event.preventDefault();
            this.eventHandler.send(event);
            this.snapText();
        }

    }
    if (event.ctrlKey && event.key == 'z') {
        event.preventDefault();
        this.undoText();
    }
    if (event.ctrlKey && event.key == 'x') {
        setTimeout(this.snapText.bind(this), 100)
    }
    setTimeout(this.emit.bind(this, 'update', event, this), 1);
};


MediaInput.eventHandler.send = function (event) {
    if (this.images.length == 0 && this.text.trim().length == 0 && this.files.length == 0) {
        return;
    }
    this.emit('send', event, this);
    this.snapText();
};

MediaInput.eventHandler.clickAddImage = function (event) {
    MediaInput_openFileDialog({ accept: 'image/*', multiple: true }).then(function (files) {
        if (!files) return;
        files.map(function (file) {
            var url = (window.URL || window.webkitURL).createObjectURL(file);
            this.addImage(url, file.name, { file: file, name: file.name, url: url });
            this.emit('update', event, this);
        }.bind(this));
    }.bind(this));
};

MediaInput.eventHandler.clickAddFile = function (event) {
    MediaInput_openFileDialog({ multiple: true }).then(function (files) {
        if (!files) return;
        files.map(function (file) {
            var url = (window.URL || window.webkitURL).createObjectURL(file);
            if (file.type.match(/^image/)) {
                this.addImage(url, file.name, { file: file, name: file.name, url: url });
            }
            else {
                var p = file.name.split('.');
                var ext = p.length > 1 ? p[p.length - 1] : '';
                this.addFile(url, ext.toUpperCase(), file.name, { file: file, name: file.name, url: url });
            }
        }.bind(this));
        this.emit('update', event, this);
    }.bind(this));
};


MediaInput.eventHandler.dragOver = function (event) {
    event.preventDefault();
    this._lastDragOver = new Date().getTime();
    var currentDragOver = this._lastDragOver;
    if (!this.dragOver) {
        this.dragOver = true;
        this.addClass('dragover');
        this.emit('update', event, this);
    }
    setTimeout(function () {
        this._waitDragFileOut
        if (this._lastDragOver == currentDragOver) {
            this.removeClass('dragover');
            this.dragOver = false;
            this.emit('update', event, this);
        }
    }.bind(this), 200);
};


MediaInput.eventHandler.drop = function (event) {
    event.preventDefault();
    if (event.dataTransfer.items) {
        for (var i = 0; i < event.dataTransfer.items.length; i++) {
            if (event.dataTransfer.items[i].kind === 'file') {
                var file = event.dataTransfer.items[i].getAsFile();
                if (!file.type && file.size % 4096 == 0) {
                    //todo: folder
                }
                else {
                    this.addSystemFile(file);
                    this.emit('update', event, this);
                }

            }
        }
    }
    else {
        for (var i = 0; i < event.dataTransfer.files.length; i++) {
            var file = event.dataTransfer.files[i];
            if (!file.type && file.size % 4096 == 0) {

            }
            else {
                this.addSystemFile(file);
                this.emit('update', event, this);
            }
        }
    }
};


MediaInput.prototype.addSystemFile = function (file) {
    var url = (window.URL || window.webkitURL).createObjectURL(file);
    if (file.type.match(/^image/)) {
        this.addImage(url, file.name, { file: file, name: file.name, url: url });
    }
    else {
        var p = file.name.split('.');
        var ext = p.length > 1 ? p[p.length - 1] : '';
        this.addFile(url, ext.toUpperCase(), file.name, { file: file, name: file.name, url: url });
    }
}


MediaInput.eventHandler.paste = function (event) {
    var pasteData = (event.clipboardData || window.clipboardData);
    var beforePasteElement = [];
    var self = this;

    function visit(e, ac) {
        ac.push(e);
        if (e.childNodes) {
            for (var i = 0; i < e.childNodes.length; ++i) {
                visit(e.childNodes[i], ac)
            }
        }
    }

    visit(this.$editor, beforePasteElement);


    function relocalCursor() {
        var afterPasteElement = [];
        visit(self.$editor, afterPasteElement);
        var diffElts = afterPasteElement.filter(function (e) {
            return beforePasteElement.indexOf(e) < 0;
        });
        if (diffElts.length > 0) {
            var last = diffElts.pop();
            if (last.nodeType == Node.TEXT_NODE) {
                var range = document.createRange();
                range.selectNodeContents(last);
                range.setStart(last, last.data.length);
                var sel = window.getSelection();
                sel.removeAllRanges();
                sel.addRange(range);
            }
            else {
                setSelectionRange(last, Infinity);
            }
        }
    }

    /**Safari bug */
    if (pasteData && pasteData.items) {
        var items = pasteData.items;
        var isAddImage = false;
        for (var i = 0; i < items.length; i++) {
            if (items[i].type.indexOf('image') !== -1) {
                var blob = items[i].getAsFile();
                var URLObj = (window.URL || window.webkitURL);
                var source = URLObj.createObjectURL(blob);
                var file = blobToFile(blob);
                var buffer = blobToArrayBuffer(blob).then(function (arrayBuffer) {
                    this.addImage(source, 'Clipboard', {
                        file: blob,
                        name: null,
                        url: source,
                        blob: blob,
                        arrayBuffer: arrayBuffer
                    });
                    this.emit('update', event, this);
                }.bind(this));

                isAddImage = true;
                this.emit('update', event, this);
            }
        }
        if (isAddImage)
            event.preventDefault();
        requestAnimationFrame(function () {
            self.makeTextOnly();
            relocalCursor();
        });
    }
    else {
        requestAnimationFrame(function () {
            var img = MediaInput_$('img', this.$editor, function (img) {
                if (img) {
                    img = MediaInput_$(img);
                    var source = img.getAttribute('src');
                    img.selfRemove();
                    HTML5_Dom["a" /* default */].imageToCanvas(img).then(function (canvas) {
                        var dataURI = canvas.toDataURL();
                        var blob = dataURItoBlob(dataURI);
                        var file = blobToFile(blob);
                        var buffer = blobToArrayBuffer(blob).then(function (arrayBuffer) {
                            this.addImage(source, 'Clipboard', {
                                dataURI: dataURI,
                                file: blob,
                                name: null,
                                url: source,
                                blob: blob,
                                arrayBuffer: arrayBuffer
                            });
                            this.emit('update', event, this);
                        }.bind(this));

                    }.bind(this), function (e) {
                    }).catch(function (e) {
                    });

                }
            }.bind(this));
            this.makeTextOnly();
            relocalCursor();
        }.bind(this));
    }
};


MediaInput.prototype.undoText = function () {
    if (this.snapDataHead <= 1) return;
    this.snapDataHead--;
    if (this.snapDataHead <= 0) return;
    var newText = this.snapData[this.snapDataHead - 1];
    this.text = newText;
    setSelectionRange(this.$editor, Infinity);
};

MediaInput.prototype.redoText = function () {
    if (this.snapData.length <= this.snapDataHead) return;
    this.snapDataHead++;
    var newText = this.snapData[this.snapDataHead - 1];
    var currentText = this.text;
    this.text = newText;
    setSelectionRange(this.$editor, Infinity);
};

MediaInput.prototype.snapText = function () {
    while (this.snapData.length > this.snapDataHead && this.snapData.length > 0) this.snapData.pop();
    var oldText = this.snapData[this.snapDataHead - 1];
    var newText = this.text;
    if (newText == oldText) return;
    this.snapData.push(this.text);
    this.snapDataHead++;
}


function ImagePreview() {

    var res = MediaInput_({
        extendEvent: 'pressremove',
        class: ['vmedia-media-input-imagepreview', 'vmedia-no-select'],
        child: ['img', 'times-ico']
    });

    res.$img = MediaInput_$('img', res);
    res.$timesIco = MediaInput_$('times-ico', res);
    res.$timesIco.on('click', function (event) {
        res.emit('pressremove', event, res);
    });
    OOP["a" /* default */].drillProperty(res, res.$img, 'imgSrc', 'src');
    return res;
};


function FilePreview() {
    var res = MediaInput_({
        extendEvent: 'pressremove',
        class: ['vmedia-media-input-filepreview', 'vmedia-no-select'],
        child: ['attachment-ico', 'times-ico']
    });

    res.$img = MediaInput_$('attachment-ico', res);
    OOP["a" /* default */].drillProperty(res, res.$img, 'ext');
    res.$timesIco = MediaInput_$('times-ico', res);
    res.$timesIco.on('click', function (event) {
        res.emit('pressremove', event, res);
    });
    return res;
};


MediACore.creator.mediainput = MediaInput;
MediACore.creator.imagepreview = ImagePreview;
MediACore.creator.filepreview = FilePreview;

MediACore.creator['send-ico'] = function () {
    return MediaInput_(
        [
            '<svg class="send" width="100" height="100" version="1.1" viewBox="0 0 26.458 26.458">',
            '    <g transform="translate(0 -270.54)">',
            '        <path d="m0.64298 272.44 3.1712 9.5402 22.152 1.7742-22.152 1.7482-3.1712 9.4749 25.323-11.223z" />',
            '    </g>',
            '</svg>'
        ].join('')
    );
};

MediACore.creator['add-file-ico'] = function () {
    return MediaInput_(
        [
            '<svg class="add-file" width="100" height="100" version="1.1" viewBox="0 0 26.458 26.458" xmlns="http://www.w3.org/2000/svg">',
            '    <g transform="translate(0 -270.54)">',
            '        <path d="m4.2431 295.69c-0.74006-0.0759-1.4136-0.33772-2.0047-0.77942-0.19965-0.14919-0.60549-0.55475-0.75233-0.75182-0.45099-0.60524-0.7154-1.2913-0.77699-2.016-0.01275-0.15007-0.01628-2.6111-0.01252-8.7468 0.0049-8.0504 0.0068-8.5472 0.03338-8.6986 0.0883-0.50391 0.22692-0.91024 0.44705-1.3104 0.52794-0.95973 1.452-1.6645 2.5119-1.9158 0.44319-0.10508 0.12729-0.0972 4.1445-0.10308 2.5538-4e-3 3.6864-1e-4 3.7795 0.0121 0.38853 0.0508 0.80777 0.24687 1.2709 0.59434 0.44102 0.33085 0.68272 0.55272 1.7227 1.5813 0.46507 0.45998 1.2812 1.2664 1.8136 1.7921 0.96172 0.94958 1.3847 1.3824 1.696 1.7354 0.61073 0.69257 0.92 1.2063 1.0441 1.7344 0.02613 0.11122 0.02875 0.28598 0.03409 2.2731 0.0047 1.7451 0.0018 2.1574-0.01502 2.178-0.01424 0.0174-0.10685 0.0394-0.2936 0.0699-0.45695 0.0745-1.0078 0.22363-1.4356 0.38862-0.10025 0.0387-0.1888 0.0663-0.19678 0.0613-0.0085-5e-3 -0.01461-0.7983-0.01475-1.9156-2.09e-4 -1.6438-0.0036-1.9208-0.0245-2.0096-0.06972-0.29578-0.28642-0.50043-0.63767-0.60222-0.32942-0.0955-0.31104-0.0947-2.4299-0.10482l-1.9437-9e-3 -0.12495-0.0442c-0.25474-0.0901-0.45899-0.26526-0.5666-0.48578-0.10853-0.22238-0.10356-0.127-0.10407-1.9994-4.63e-4 -1.7153-0.01031-2.1544-0.05446-2.4288-0.06935-0.43095-0.22893-0.69171-0.5027-0.82138l-0.10904-0.0516h-3.1807c-3.4262 0-3.27-4e-3 -3.5482 0.0835-0.68034 0.21325-1.1718 0.754-1.3329 1.4666l-0.0345 0.15261v8.5059c0 8.1045 0.0014 8.5125 0.02871 8.6468 0.08088 0.39719 0.25808 0.72858 0.53956 1.0091 0.28082 0.27984 0.576 0.44186 0.98191 0.53896 0.11389 0.0273 0.36156 0.0293 4.5294 0.0374l4.409 9e-3 0.02019 0.0402c0.0111 0.0221 0.07695 0.15943 0.14632 0.30521s0.17519 0.3518 0.23515 0.45783c0.14341 0.25357 0.43703 0.69284 0.61725 0.92343 0.0793 0.10148 0.14077 0.19003 0.13659 0.19679-0.0073 0.0118-9.9306 0.0132-10.046 1e-3z" />',
            '        <path transform="matrix(.26458 0 0 .26458 0 270.54)" d="m72.469 65.742v7.4062h-7.4062v7.2852h7.4062v7.2812h7.2793v-7.2812h7.3535v-7.2852h-7.3535v-7.4062zm24.948 11.119a21.371 21.371 0 0 1-21.371 21.371 21.371 21.371 0 0 1-21.371-21.371 21.371 21.371 0 0 1 21.371-21.371 21.371 21.371 0 0 1 21.371 21.371z" style="fill-rule:evenodd;" />',
            '        <path d="m17.256 283.76 1.921-0.47607-0.04725-4.2884c0-0.50159-0.29516-1.2441-1.0789-2.0168l-4.6989-4.6324c-0.73814-0.72769-1.5947-0.97084-2.1519-0.97084h-7.0235c-2.1533 0.0144-3.4601 2.6226-3.4778 3.4778v17.284c0 2.121 2.2409 3.5346 3.5346 3.5346h10.058l-1.1146-1.9305h-8.6658c-1.1271 0-1.8503-1.1115-1.8503-1.8503v-16.867c0-1.0721 1.1373-1.6977 1.6977-1.6977h6.2175c0.43142 0 0.8103 0.28958 0.8103 1.1742v3.714c0 0.24768 0.36442 0.90967 0.90968 0.90967h3.2537c1.2453 0 1.6905 0.32876 1.6905 1.1613z"  />',
            '    </g>',
            '</svg>'
        ].join('')
    );
};
MediACore.creator['add-image-ico'] = function () {
    return MediaInput_(
        [
            '<svg class="add-image" width="100" height="100" version="1.1" viewBox="0 0 26.458 26.458" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="absol/src/HTML5/Elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">',
            '    <g transform="translate(0 -270.54)">',
            '        <path d="m24.73 288.69a5.9808 5.9808 0 0 1-5.9808 5.9808 5.9808 5.9808 0 0 1-5.9808-5.9808 5.9808 5.9808 0 0 1 5.9808-5.9808 5.9808 5.9808 0 0 1 5.9808 5.9808zm1.503-0.037a7.5843 7.5843 0 0 1-7.5843 7.5843 7.5843 7.5843 0 0 1-7.5843-7.5843 7.5843 7.5843 0 0 1 7.5843-7.5843 7.5843 7.5843 0 0 1 7.5843 7.5843z" style="fill-rule:evenodd;fill:#414141"/>',
            '        <path d="m17.869 284.42v3.4127h-3.4081v1.6066h3.4081v3.438h1.6061v-3.438h3.4432v-1.6066h-3.4432v-3.4127z" style="fill-rule:evenodd;fill:#414141"/>',
            '        <path d="m24.614 281.39v-6.1305c0-1.6957-1.2841-2.6602-2.6602-2.6602h-18.412c-1.4547 0-2.7249 1.0223-2.7249 2.7249v14.986c0 1.2346 0.99768 2.6028 2.586 2.586h6.9542c-0.36184-0.63963-0.51495-1.0286-0.69323-1.6506h-6.4562c-0.29938 0-0.72246-0.40379-0.72246-0.72247v-1.8082l6.0428-6.7569 2.0296 2.0129 0.9605-1.3029-2.9734-3.1488-5.9885 6.7736v-11.426c0-0.24935 0.30766-0.63476 0.63476-0.63476h18.934c0.3592 0 0.84357 0.19284 0.84357 0.84357v5.2285c0.61147 0.22444 1.1564 0.59412 1.6454 1.0858z" style="fill:#414141"/>',
            '        <circle cx="17.869" cy="277.61" r="1.6891" style="fill-rule:evenodd;fill:#414141"/>',
            '    </g>',
            '</svg>'
        ].join('')
    );
};

MediACore.creator['attachment-ico'] = function () {
    return MediaInput_(
        [
            '<svg class="attachment" width="1024" height="1024"  version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" >',
            '    <path d="M145.6 0C100.8 0 64 35.2 64 80v862.4C64 987.2 100.8 1024 145.6 1024h732.8c44.8 0 81.6-36.8 81.6-81.6V324.8L657.6 0h-512z" fill="#8199AF"/>',
            '    <path d="M960 326.4v16H755.2s-100.8-20.8-99.2-108.8c0 0 4.8 92.8 97.6 92.8H960z" fill="#617F9B"/>',
            '    <path d="M657.6 0v233.6c0 25.6 17.6 92.8 97.6 92.8H960L657.6 0z" fill="#fff"/>',
            '    <path d="m491.77 770.31c17.6-19.2 17.6-48 0-67.2s-48-17.6-65.6 0l-147.2 147.2c-17.6 17.6-17.6 48 0 65.6s48 19.2 65.6 0l91.2-89.6c4.8-4.8 4.8-12.8 0-17.6s-14.4-6.4-19.2 0l-57.6 56c-8 8-19.2 8-27.2 0s-8-20.8 0-28.8l56-56c20.8-20.8 54.4-20.8 75.2 0s20.8 54.4 0 75.2l-89.6 89.6c-33.6 33.6-88 33.6-123.2 0-33.6-33.6-33.6-88 0-121.6l147.2-147.2c33.6-33.6 89.6-33.6 123.2 0s33.6 88 0 121.6l-14.4 14.4c-1.6-14.4-6.4-28.8-16-41.6z" style="fill:#fff"/>',
            '    <path d="m130.09 23.864h504.75v182.93h-545.65v-140.08c0.34155-16.845 13.608-42.414 40.9-42.847z" style="fill-opacity:.29648;fill-rule:evenodd;fill:#fff"/>',
            '</svg>'
        ]
            .join('')
    );
};

MediACore.creator['attachment-ico'].property = {
    ext: {
        set: function (value) {
            value = value || '';
            if (this.$ext) {
                this.$ext.selfRemove();
            }
            this.$ext = Svg["a" /* default */].ShareInstance._('<text text-anchor="middle" x="321.39" y="170" font-size="145.76" style="fill:white;" >' + value + '</text>').addTo(this);
        },
        get: function () {
            return this._ext || '';
        }
    }
};


MediACore.creator['times-ico'] = function () {
    return MediaInput_(
        [
            '<svg class="times" width="100" height="100" version="1.1" viewBox="0 0 26.458 26.458" xmlns="http://www.w3.org/2000/svg">',
            '    <g transform="translate(0 -270.54)">',
            '        <path d="m7.7013 276.49 5.4832 5.4832 5.5494-5.5494 1.7874 1.7874-5.5291 5.5291 5.4957 5.4957-1.754 1.754-5.5124-5.5124-5.5542 5.5542-1.7623-1.7623 5.5375-5.5375-5.5208-5.5208zm17.103 7.3351a11.558 11.558 0 0 1-11.558 11.558 11.558 11.558 0 0 1-11.558-11.558 11.558 11.558 0 0 1 11.558-11.558 11.558 11.558 0 0 1 11.558 11.558z" style="fill-rule:evenodd;"/>',
            '    </g>'
        ].join('')
    );
};


MediACore.creator['download-ico'] = function () {
    return MediaInput_(
        [
            '<svg class="download" width="100mm" height="100mm" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">',
            '    <g transform="translate(0,-197)">',
            '        <path d="m44.888 209.14h13.982c1.1087 0.0459 2.2328 0.74137 2.317 2.3612v23.694h13.622c1.9742-0.18801 3.004 2.6244 1.9175 4.1118l-23.469 23.918c-0.876 0.77477-1.9993 0.77232-2.9362 0l-23.559-24.009c-0.86532-1.0422 0.11658-4.1953 2.3821-4.2047h13.268v-22.939c-0.08167-1.1772 0.78292-2.9507 2.4768-2.9312z" style="fill:#00c3e5"/>',
            '        <path d="m86.97 276.99a3.5027 3.5696 0 0 1-3.5027 3.5696 3.5027 3.5696 0 0 1-3.5027-3.5696 3.5027 3.5696 0 0 1 3.5027-3.5696 3.5027 3.5696 0 0 1 3.5027 3.5696zm-12.768 0a3.5027 3.5696 0 0 1-3.5027 3.5696 3.5027 3.5696 0 0 1-3.5027-3.5696 3.5027 3.5696 0 0 1 3.5027-3.5696 3.5027 3.5696 0 0 1 3.5027 3.5696zm-60.003-16.135h24.609c9.1206 13.508 17.573 12.942 26.609 0h23.839c2.8529 5e-3 3.5087 2.3205 3.4679 3.8227v18.953c0.04867 1.3083-1.5145 2.9901-2.7505 2.9832h-76.253c-1.049 0.0441-2.6554-1.4851-2.6306-3.1451l-1.56e-4 -18.792c0.0024-1.3549 0.50958-3.7927 3.1091-3.8227z" style="fill-rule:evenodd;fill:#00c3e5"/>',
            '    </g>',
            '</svg>'
        ].join('')
    );
};

MediACore.creator['plus-ico'] = function () {
    return MediaInput_(
        '<svg class="_7oal" height="24" width="24" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><polygon points="-6,30 30,30 30,-6 -6,-6 "></polygon><path d="m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12" ></path></g></svg>'
    );
};


ACore["a" /* default */].install(MediaInput);


/* harmony default export */ var js_MediaInput = (MediaInput);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/messageinput.css
var messageinput = __webpack_require__(114);

// CONCATENATED MODULE: ./node_modules/absol/src/Input/keyboard.js
function isFnKey(name) {
    return name.match(/^[fF]([2-9]|(1([0-2]?)))$/)
}

function isSpaceKey(name) {
    return name === ' ' || name.match(/^[sS]pace$/);
}

function isCtrlKey(name) {
    return name.match(/(^([cC]ontrol)|ctrl)$/);
}

function isAltKey(name) {
    return name.match(/^[aA]lt$/);
}

function isShiftKey(name) {
    return name.match(/^[sS]hift$/);
}

function isMetaKey(name) {
    return name.toLowerCase().match(/^(command|windows|meta)$/);
}

/***
 *
 * @param {string} text
 * @return {string}
 */
function normalizeKeyBindingIdent(text) {
    var keys = text.trim().toLowerCase().split(/[-+\s_.]+/)
        .filter(function (w) {
            return w.length > 0;
        });
    var values = {
        meta: 1,
        ctrl: 2,
        alt: 3,
        shift: 4
    };
    keys.sort(function (a, b) {
        var va, vb;
        va = values[a] || 100;
        vb = values[b] || 100;
        return va - vb;
    });
    return keys.join('-');
}

/***
 *
 * @param {KeyboardEvent} event
 * @return {string}
 */
function keyboardEventToKeyBindingIdent(event) {
    var keys = [];
    if (event.metaKey) {
        keys.push('meta');
    }
    if (event.ctrlKey)
        keys.push('ctrl');
    if (event.altKey)
        keys.push('alt');
    if (event.shiftKey)
        keys.push('shift');

    if (isSpaceKey(event.key)) {
        keys.push('space');
    }
    else if (isFnKey(event.key)) {
        keys.push(event.key.toLowerCase())
    }
    else if (!isMetaKey(event.key) && !isAltKey(event.key) && !isCtrlKey(event.key) && !isShiftKey(event.key))
        keys.push(event.key.toLowerCase());
    return keys.join('-');
}
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/MessageInput.js













var MessageInput_ = ACore["a" /* default */]._;
var MessageInput_$ = ACore["a" /* default */].$;
var MessageInput_$$ = ACore["a" /* default */].$$;


var iconCatalogCaches = {};

var MODE_NEW = 0;
var MODE_EDIT = 1;

var isMobile = BrowserDetector["a" /* default */].isMobile;

/***
 * @extends AElement
 * @constructor
 */
function MessageInput() {
    this._cmdRunner = new AppPattern_CMDRunner(this);
    this._keyMaps = {};
    this._plugins = [];
    this._mode = MODE_NEW;//edit
    this._editingText = "";
    this._iconAssetRoot = this.attr('data-icon-asset-root');
    var catalogiUrl = this._iconAssetRoot + '/catalog.json';
    this._iconSupportAsync = iconCatalogCaches[catalogiUrl] ? Promise.resolve(iconCatalogCaches[catalogiUrl]) : Network_XHR.getRequest(catalogiUrl).then(function (result) {
        iconCatalogCaches[catalogiUrl] = JSON.parse(result);
        return iconCatalogCaches[catalogiUrl];
    });
    /**
     * @type {import('./PreInput').default}
     */
    this.$preInput = MessageInput_$('preinput', this);

    this.$preInput.on('change', this.eventHandler.preInputChange)
        .on('keyup', this.eventHandler.preInputKeyUp)
        .on('keydown', this.eventHandler.preInputKeyDown)
        .on('pasteimg', this.eventHandler.preInputPasteImg)
        .on('focus', this.eventHandler.preInputFocus)
        .on('blur', this.eventHandler.preInputBlur);
    // //every can make size change
    this._imageFiles = [];
    this._files = [];


    this._latBound = {};

    this.$right = MessageInput_$('.as-message-input-right', this);

    this.$attachmentCtn = MessageInput_$('.as-message-input-attachment-ctn', this);
    this.$emojiBtn = MessageInput_$('.as-message-input-plugin-emoji', this)
        .on('click', this.eventHandler.clickEmojiBtn);
    this.$fileBtn = MessageInput_$('.as-message-input-plugin-file', this)
        .on('click', this.openFileDialog.bind(this));
    this.$attachmentAddBtn = MessageInput_$('.as-message-input-attachment-add-btn', this)
        .on('click', this.openFileDialog.bind(this));
    this.$sendBtn = MessageInput_$('.as-message-input-plugin-send', this)
        .on('click', this.notifySend.bind(this));

    this.$cancelBtn = MessageInput_$('.as-message-input-plugin-cancel', this)
        .on('click', this.notifyCancel.bind(this));

    this.$emojiPickerCtn = MessageInput_('.as-message-input-external-tools-popup');
    this.$emojiPicker = MessageInput_('emojipicker').addTo(this.$emojiPickerCtn)
        .on('pick', this.eventHandler.pickEmoji);
    this.$attachhook = MessageInput_('attachhook').addTo(this).on('error', this.notifySizeChange.bind(this));
    this.on('drop', this.eventHandler.drop)
        .on('dragover', this.eventHandler.dragover);
    this.autoSend = false;
}

MessageInput.MODE_EDIT = MODE_EDIT;
MessageInput.MODE_NEW = MODE_NEW;

MessageInput.iconAssetRoot = 'https://absol.cf/exticons/vivid';

MessageInput.tag = 'MessageInput'.toLowerCase();

MessageInput.render = function (data) {
    data = data || {};
    data.iconAssetRoot = data.iconAssetRoot || MessageInput.iconAssetRoot;
    return MessageInput_({
        attr: {
            'data-icon-asset-root': MessageInput.iconAssetRoot
        },
        class: 'as-message-input',
        extendEvent: ['sendtext', 'sendimage', 'sendfile', 'cancel', 'change', 'sizechange', 'send'],
        child: [
            {
                class: 'as-message-input-right',
                child: [
                    {
                        tag: 'button',
                        class: ['as-message-input-plugin-btn', 'as-message-input-plugin-file'],
                        child: 'span.mdi.mdi-attachment.mdi-rotate-90'
                    },
                    {
                        tag: 'button',
                        class: ['as-message-input-plugin-btn', 'as-message-input-plugin-send'],
                        child: 'span.mdi.mdi-send'
                    },
                    {
                        tag: 'button',
                        class: ['as-message-input-plugin-btn', 'as-message-input-plugin-cancel'],
                        child: 'span.mdi.mdi-close'
                    }
                ]
            },
            {
                class: 'as-message-input-pre-ctn',
                child: [

                    {
                        class: 'as-message-input-emoji-btn-ctn',
                        child: {
                            tag: 'button',
                            class: ['as-message-input-plugin-btn', 'as-message-input-plugin-emoji'],
                            child: 'span.mdi.mdi-emoticon-happy-outline'
                        }
                    },
                    {
                        class: ['as-message-input-attachment-ctn', 'as-bscroller'],
                        child: [{
                            tag: 'button',
                            class: 'as-message-input-attachment-add-btn',
                            child: [
                                'span.mdi.mdi-arrow-down-bold.as-message-input-attachment-add-btn-drop',
                                {
                                    tag: 'span',
                                    class: 'as-message-input-attachment-add-btn-plus',
                                    child: {
                                        text: "+"
                                    }
                                }

                            ]
                        }]
                    },
                    'preinput.as-message-input-pre.absol-bscroller'
                ]
            }
        ]
    });
};


MessageInput.prototype.toggleEmoji = function () {
    if (this.containsClass('as-message-input-show-emoji'))
        this.closeEmoji();
    else
        this.showEmoji();
};


MessageInput.prototype.showEmoji = function () {
    if (this.containsClass('as-message-input-show-emoji')) return;
    var value = this.$preInput.value;
    this._lastInputSelectPosion = this.$preInput.getSelectPosition() || { start: value.length, end: value.length };
    this.addClass('as-message-input-show-emoji');
    this.addChild(this.$emojiPickerCtn);
    var thisMi = this;
    setTimeout(function () {
        MessageInput_$(document.body).on('mousedown', thisMi.eventHandler.mousedownOutEmoji);
    }, 100);
    this.$preInput.focus();
};


MessageInput.prototype.notifyChange = function () {
    this.emit('change', { name: 'change', target: this }, this);
    if (this.autoSend) {
        if (this.files.length > 0 || this.images.length > 0)
            this.notifySend();
    }
};

MessageInput.prototype.notifySend = function () {
    var eventData = {
        imageRemovePrevented: false,
        fileRemovePrevented: false,
        textRemovePrevented: false,
        target: this,
        files: this.files,
        images: this.images,
        text: this.text
    };
    if (eventData.files.length > 0) {
        this.emit('sendfile', Object.assign(eventData, {
            type: 'sendfile', preventDefault: function () {
                this.fileRemovePrevented = true;
            }
        }), this);
    }

    if (eventData.images.length > 0) {
        this.emit('sendimage', Object.assign(eventData, {
            type: 'sendimage', preventDefault: function () {
                this.imageRemovePrevented = true;
            }
        }), this);
    }

    if (this.files.length > 0 || eventData.images.length > 0 || eventData.text) {
        if (eventData.text) this.$preInput.focus();
        this.emit('send', Object.assign(eventData, {
            type: 'send', preventDefault: function () {
                this.imageRemovePrevented = true;
                this.fileRemovePrevented = true;
                this.imageRemovePrevented = true;
            }
        }), this);
    }
    if (!eventData.fileRemovePrevented) this.files = [];
    if (!eventData.imageRemovePrevented) this.images = [];
    if (!eventData.textRemovePrevented) this.text = '';

};

MessageInput.prototype.notifyCancel = function () {
    this.emit('cancel', {
        type: 'cancel',
        name: 'send', target: this, clearAllContent: this.clearAllContent.bind(this)
    }, this);
};

MessageInput.prototype.clearAllContent = function () {
    this.text = '';
    this.files = [];
    this.images = [];
};

MessageInput.prototype.focus = function () {
    var value = this.$preInput.value;
    var range = this.$preInput.getSelectPosition() || { start: value.length, end: value.length };
    this.$preInput.applyData(value, range);
    this.$preInput.focus();
};

MessageInput.prototype.blur = function () {
    this.$preInput.blur();
};


MessageInput.prototype._updateAttachmentClass = function () {
    if (this._imageFiles.length + this._files.length) {
        this.addClass("as-has-attachment");
    }
    else {
        this.removeClass("as-has-attachment");
    }
};

MessageInput.prototype.addImageFiles = function (imageFiles, urls) {
    var thisMi = this;
    Array.prototype.forEach.call(imageFiles, function (file, index) {
        thisMi._imageFiles.push(file);
        var src;
        if (urls) {
            src = urls[index];
        }
        if (!src) {
            src = URL.createObjectURL(file);
        }
        var itemElt = MessageInput_({
            class: ['as-message-input-attach-preview', 'as-image'],
            attr: {
                title: file.name
            },
            child: [
                {
                    class: 'as-message-input-attach-preview-image',
                    style: {
                        backgroundImage: 'url(' + src + ')'
                    }
                },
                {
                    tag: 'button',
                    class: 'as-message-input-attach-preview-close-btn',
                    child: 'span.mdi.mdi-close',
                    attr: {
                        title: 'remove'
                    },
                    on: {
                        click: function () {
                            thisMi._imageFiles = thisMi._imageFiles.filter(function (it) {
                                return it !== file;
                            });
                            itemElt.remove();
                            thisMi._updateAttachmentClass();
                            thisMi.notifySizeChange();
                            thisMi.notifyChange();
                        }
                    }
                }, {
                    class: ['as-message-input-attach-preview-name'],
                    child: { text: file.name }
                }
            ]
        }).addTo(thisMi.$attachmentCtn);
        thisMi.$attachmentCtn.addChildBefore(itemElt, thisMi.$attachmentAddBtn);

    });
    this._updateAttachmentClass();
    this.notifySizeChange();
};

MessageInput.prototype.addFiles = function (files) {
    var thisMi = this;
    Array.prototype.forEach.call(files, function (file, index) {
        thisMi._files.push(file);
        thisMi._iconSupportAsync.then(function (ExtensionIcons) {
            var src;
            var ext = file.name.split('.').pop().toLowerCase();
            if (ExtensionIcons.indexOf(ext) > 0) {
                src = thisMi._iconAssetRoot + '/' + ext + '.svg'
            }
            else {
                src = thisMi._iconAssetRoot + '/' + 'default' + '.svg'

            }
            var itemElt = MessageInput_({
                class: ['as-message-input-attach-preview', 'as-file'],
                attr: {
                    title: file.name
                },
                child: [
                    {
                        tag: 'img',
                        class: 'as-message-input-attach-preview-file',
                        props: {
                            src: src
                        }
                    },
                    {
                        tag: 'button',
                        class: 'as-message-input-attach-preview-close-btn',
                        child: 'span.mdi.mdi-close',
                        attr: {
                            title: 'remove'
                        },
                        on: {
                            click: function () {
                                thisMi._files = thisMi._files.filter(function (it) {
                                    return it !== file;
                                });
                                itemElt.remove();
                                thisMi._updateAttachmentClass();
                                thisMi.notifySizeChange();
                                thisMi.notifyChange();
                            }
                        }
                    },
                    {
                        class: 'as-message-input-attach-preview-name',
                        child: { text: file.name }
                    }
                ]
            });
            thisMi.$attachmentCtn.addChildBefore(itemElt, thisMi.$attachmentAddBtn);
        });
    });
    this._updateAttachmentClass();
    thisMi.notifySizeChange();
};


MessageInput.prototype.closeEmoji = function () {
    if (!this.containsClass('as-message-input-show-emoji')) return;
    this.removeClass('as-message-input-show-emoji');
    this.removeChild(this.$emojiPickerCtn);
    MessageInput_$(document.body).off('mousedown', this.eventHandler.mousedownOutEmoji);
};


MessageInput.prototype.openFileDialog = function () {
    var thisMi = this;
    openFileDialog({ multiple: true }).then(function (file) {
        if (!thisMi.autoSend) thisMi.$preInput.focus();
        thisMi.handleAddingFileByType(file);
    });
};

MessageInput.prototype.handleAddingFileByType = function (files) {
    if (files.length > 0) {
        var imageFiles = [];
        var otherFiles = [];
        var file;
        for (var i = 0; i < files.length; ++i) {
            file = files[i];
            if (!!file.type && file.type.match && file.type.match(/^image\//)) {
                imageFiles.push(file);
            }
            else {
                otherFiles.push(file);
            }
        }
        this.addImageFiles(imageFiles);
        this.addFiles(otherFiles);
        this.notifyChange();
    }
};


MessageInput.prototype.notifySizeChange = function () {
    var bound = this.getBoundingClientRect();
    if (this._latBound.width != bound.width || this._latBound.height != bound.height) {
        this._latBound.width = bound.width;
        this._latBound.height = bound.height;
        this.emit('sizechange', { name: 'sizechange', bound: bound, target: this }, this);
    }
};

MessageInput.prototype.addPlugin = function (option) {
    var plugin = new this.PluginConstructor(this, option);
    this._plugins.push(plugin);
    this.addStyle('--plugin-buttons-width', this._plugins.length * 45 + 'px');
    return plugin;
};

/***
 *
 * @param {{name?:string, exec:function(_this:MessageInput):void, keyBiding?:string}} option
 */
MessageInput.prototype.addCommand = function (option) {
    option.name = option.name || randomIdent(20);
    this._cmdRunner.add(option.name, option.exec);
    if (option.keyBiding && option.keyBiding.trim) {
        var keyBindingIdent = normalizeKeyBindingIdent(option.keyBiding);
        this._keyMaps[keyBindingIdent] = option.name;
    }
};

MessageInput.prototype.exeCmd = function (name) {
    var args = Array.prototype.slice.call(arguments);
    args[0] = this;
    args.unshift(name);
    this._cmdRunner.invoke.apply(this._cmdRunner, args);
};

/**
 * @type {MessageInput}
 */
MessageInput.eventHandler = {};

MessageInput.eventHandler.preInputChange = function (event) {
    var text = this.$preInput.value;
    if (text.length > 0) {
        this.addClass('as-has-text');
    }
    else {
        this.removeClass('as-has-text');
    }

    if (text === this._editingText) {
        this.removeClass('as-text-changed');
    }
    else {
        this.addClass('as-text-changed');

    }
    this.notifySizeChange();
    this.notifyChange();
};

MessageInput.eventHandler.preInputKeyDown = function (event) {
    if (!(event.shiftKey || event.ctrlKey || event.altKey) && event.key === 'Enter') {
        this.notifySend();
        event.preventDefault();
    }
    else if ((event.shiftKey || event.ctrlKey || event.altKey) && event.key === 'Enter') {
        event.preventDefault();
        var text = this.$preInput.value;
        var selectedPos = this.$preInput.getSelectPosition();
        var newText = text.substr(0, selectedPos.start)
            + '\n' + text.substr(selectedPos.end);
        this.$preInput.applyData(newText, selectedPos.start + 1);
        this.notifySizeChange();
        this.$preInput.commitChange(newText, selectedPos.start + 1);
    }
    else if (event.key === "Escape" && this._mode === MODE_EDIT) {
        this.notifyCancel();
        event.preventDefault();
    }
    var keyBindingIdent = keyboardEventToKeyBindingIdent(event);
    if (this._keyMaps[keyBindingIdent]) {
        event.preventDefault();
        this.exeCmd(this._keyMaps[keyBindingIdent]);
    }
    setTimeout(this.notifySizeChange.bind(this), 1);
};

MessageInput.eventHandler.preInputKeyUp = function (event) {
    var value = this.$preInput.value;
    this._lastInputSelectPosion = this.$preInput.getSelectPosition() || { start: value.length, end: value.length };
    this.notifySizeChange();
};

MessageInput.eventHandler.preInputPasteImg = function (event) {
    if (this._mode == 'edit') return;
    this.addImageFiles(event.imageFiles, event.urls);
    this.notifyChange();
};


MessageInput.eventHandler.preInputFocus = function () {
    this.addClass('as-focus');
};

MessageInput.eventHandler.preInputBlur = function () {
    this.removeClass('as-focus');
};


MessageInput.eventHandler.clickEmojiBtn = function () {
    this.toggleEmoji();
};

MessageInput.eventHandler.mousedownOutEmoji = function (event) {
    if (EventEmitter["b" /* default */].hitElement(this.$emojiPicker, event) || EventEmitter["b" /* default */].hitElement(this.$emojiBtn, event)) return;
    this.closeEmoji();
};

MessageInput.eventHandler.pickEmoji = function (event) {
    var text = this.$preInput.value;
    var newText = text.substr(0, this._lastInputSelectPosion.start) + event.key + text.substr(this._lastInputSelectPosion.end);
    var selected = this._lastInputSelectPosion;
    var newOffset = selected.start + event.key.length;
    this._lastInputSelectPosion = { start: newOffset, end: newOffset };
    this.$preInput.focus();
    this.$preInput.applyData(newText, newOffset);
    this.$preInput.commitChange(newText, newOffset);
    this.notifySizeChange();
    this.$preInput.focus();//older firefox version will be lost focus
    // this.notifyChange();//not need
};


MessageInput.eventHandler.dragover = function (event) {
    event.preventDefault();
    this.addClass('as-drag-hover');
    this.notifySizeChange();
    if (this._hoverTimeout > 0)
        clearTimeout(this._hoverTimeout);
    var thisMi = this;
    this._hoverTimeout = setTimeout(function () {
        thisMi._hoverTimeout = -1;
        thisMi.removeClass('as-drag-hover');
        thisMi.notifySizeChange();
    }, 200);
    //todo:
};

MessageInput.eventHandler.drop = function (event) {
    event.preventDefault();
    var imageFiles = [];
    var otherFiles = [];
    if (event.dataTransfer.items) {
        for (var i = 0; i < event.dataTransfer.items.length; i++) {
            if (event.dataTransfer.items[i].kind === 'file') {
                var file = event.dataTransfer.items[i].getAsFile();
                if (!file.type && file.size % 4096 == 0) {
                    //todo: folder
                }
                else {
                    if (!!file.type && file.type.match && file.type.match(/^image\//)) {
                        imageFiles.push(file);
                    }
                    else {
                        otherFiles.push(file);
                    }
                }

            }
        }
    }
    else {
        for (var i = 0; i < event.dataTransfer.files.length; i++) {
            var file = event.dataTransfer.files[i];
            if (!file.type && file.size % 4096 == 0) {

            }
            else {
                if (!!file.type && file.type.match && file.type.match(/^image\//)) {
                    imageFiles.push(file);
                }
                else {
                    otherFiles.push(file);
                }
            }
        }
    }

    this.addImageFiles(imageFiles);
    this.addFiles(otherFiles);
    this.notifyChange();
};


MessageInput.property = {};

MessageInput.property.files = {
    set: function (value) {
        MessageInput_$$('.as-file', this.$attachmentCtn).forEach(function (elt) {
            elt.remove();
        });
        value = value || [];
        this._files = [];
        this.addFiles(value);
    },
    get: function () {
        return this._files;
    }
};

MessageInput.property.images = {
    set: function (value) {
        MessageInput_$$('.as-image', this.$attachmentCtn).forEach(function (elt) {
            elt.remove();
        });
        value = value || [];
        this._imageFiles = [];
        this.addImageFiles(value);
    },
    get: function () {
        return this._imageFiles;
    }
};

MessageInput.property.text = {
    set: function (text) {
        this.$preInput.value = '' + text;
        if (text.length > 0) {
            this.addClass('as-has-text');
        }
        else {
            this.removeClass('as-has-text');
        }
        if (this._mode === MODE_EDIT) {
            this._editingText = text;
        }
        this.removeClass('as-text-changed');
    },
    get: function () {
        return this.$preInput.value;
    }
};


/**
 * @type {MessageInput}
 */
MessageInput.property.mode = {
    set: function (value) {
        value = value || MODE_NEW;
        if (value === MODE_EDIT || (value.toLowerCase && value.toLowerCase() === 'edit')) {
            this.addClass('as-mode-edit');
            value = MODE_EDIT;
            this._editingText = this.$preInput.value;
        }
        else {
            value = MODE_NEW;
            this._editingText = '';
            this.removeClass('as-mode-edit');
        }
        this.removeClass('as-text-changed');
        this._mode = value;
    },
    get: function () {
        return this._mode === MODE_EDIT ? 'edit' : 'new';
    }
};

MessageInput.property.autoSend = {
    set: function (value) {
        if (value) {
            this.addClass('as-auto-send');
        }
        else {
            this.removeClass('as-auto-send');
        }
    },
    get: function () {
        return this.containsClass('as-auto-send');
    }
}


ACore["a" /* default */].install(MessageInput);

/* harmony default export */ var js_MessageInput = (MessageInput);


var urlRex = /^(firefox|opera|chrome|https|http|wss|ws):\/\/[^\s]+$/;

function parseMessage(text, data) {
    data = data || {};
    data.emojiAssetRoot = data.emojiAssetRoot || js_EmojiPicker.assetRoot;
    data.staticSize = data.staticSize || 20;
    data.animSize = data.animSize || 60;
    var textLines = text.split(/\r?\n/);
    var lines = textLines.map(function (textLine) {
        var longTokenTexts = textLine.split(/\s/);
        var tokenGroups = longTokenTexts.map(function (longTokenText, longTokenIndex) {
            var tokens = [];
            if (longTokenIndex > 0) tokens.push({
                type: 'text',
                value: ' '
            });

            var emojiKey, emojiKeyTemp;
            var subIndex, subIndexTemp;
            var leftToken;
            var found;
            var emoji;
            while (longTokenText.length > 0) {
                found = false;
                subIndex = 10000000;
                for (var i = 0; i < js_EmojiAnims.length; ++i) {
                    emojiKeyTemp = js_EmojiAnims[i][0];
                    subIndexTemp = longTokenText.indexOf(emojiKeyTemp);
                    if (subIndexTemp >= 0 && subIndexTemp < subIndex) {
                        subIndex = subIndexTemp;
                        emojiKey = emojiKeyTemp;
                        emoji = js_EmojiAnims[i];
                        found = true;
                    }
                }

                if (found) {
                    if (subIndex >= 0) {
                        leftToken = longTokenText.substr(0, subIndex);
                        longTokenText = longTokenText.substr(subIndex + emojiKey.length);
                        if (leftToken.length > 0) {
                            tokens.push({
                                type: 'text',
                                value: leftToken
                            });
                        }
                        tokens.push({
                            type: 'emoji',
                            value: emoji
                        });
                        found = true;
                    }
                }
                else {
                    tokens.push({
                        type: 'text',
                        value: longTokenText
                    });
                    longTokenText = '';
                }
            }

            tokens.forEach(function (token) {
                if (token.type == 'text') {
                    var urlMatched = token.value.match(urlRex);
                    if (urlMatched) {
                        token.type = 'url';
                        token.protocal = urlMatched[1]
                    }
                }
            })
            return tokens;
        });
        var tokens = [];

        for (var i = 0; i < tokenGroups.length; ++i) {
            tokens.push.apply(tokens, tokenGroups[i]);
        }

        return tokens.reduce(function (ac, token) {
                if (token.type == 'text' && ac.last.type == 'text') {
                    ac.last.value += token.value;
                }
                else {
                    ac.last = token;
                    ac.result.push(token);
                }
                return ac;
            },
            { result: [], last: { type: 'null' } })
            .result;
    });
    var res = lines.reduce(function (ac, line, lineIndex, lines) {
        line.reduce(function (ac, token) {
            if (token.type == 'text') {
                ac.push({
                    tag: 'span',
                    child: { text: token.value }
                })
            }
            else if (token.type == 'url') {
                ac.push({
                    tag: 'a',
                    class: 'as-protocal-' + token.protocal,
                    child: { text: token.value },
                    props: {
                        href: token.value
                    }
                })
            }
            else if (token.type == 'emoji') {
                ac.push({
                    tag: 'img',
                    class: 'as-emoji',
                    props: {
                        src: data.emojiAssetRoot + '/static/x' + data.staticSize + '/' + token.value[1]
                    }
                })
            }
            return ac;
        }, ac);
        if (lineIndex < lines.length - 1 || line.length == 0)
            ac.push('br');
        return ac;
    }, []);
    if (res.length == 1 && res[0].class == 'as-emoji') {
        res[0].tag = 'iconsprite',
            res[0].props.fps = 15;
        res[0].props.src = res[0].props.src.replace('/static/x' + data.staticSize, '/anim/x' + data.animSize);
    }
    return res;
}

MessageInput.parseMessage = parseMessage;

/***
 * @typedef MessageInputPluginOption
 * @property {string} [id]
 * @property {string|Object|AElement} icon
 * @property {function(_thisAdapter: MessageInputPlugin, _:Dom._, Dom.$):AElement} createContent
 * @property {function(_thisAdapter:MessageInputPlugin):void} onPressTrigger
 */


/***
 *
 * @param {MessageInput} inputElt
 * @param {MessageInputPluginOption} option
 * @constructor
 */
function MessageInputPlugin(inputElt, option) {
    this.inputElt = inputElt;
    this.icon = option.icon;
    this.id = option.id || randomIdent(16);
    this.$icon = null;
    this.$triggerBtn = null;
    this.$content = null;
    this.$popup = null;
    if (option.createContent) this.createContent = option.createContent;
    if (option.onPressTrigger) this.onPressTrigger = option.onPressTrigger;
    this.ev_pressTrigger = this.ev_pressTrigger.bind(this);
    this.ev_pressOut = this.ev_pressOut.bind(this);
    this.attach();
}


MessageInputPlugin.prototype.attach = function () {
    this.inputElt.$right.addChildBefore(this.getTriggerButton(), this.inputElt.$right.firstChild);
};

MessageInputPlugin.prototype.ev_pressTrigger = function (event) {
    var value = this.inputElt.$preInput.value;
    this._lastInputSelectPosion = this.inputElt.$preInput.getSelectPosition() || { start: value.length, end: value.length };
    if (this.onPressTrigger) {
        this.onPressTrigger(this);
    }
    else {
        if (this.isPopupOpened()) {
            this.closePopup();
        }
        else {
            this.openPopup();
        }
    }
};

MessageInputPlugin.prototype.insertText = function (itext){
    if (!this._lastInputSelectPosion){
        throw new Error('Invalid call');
    }

    var text = this.inputElt.$preInput.value;
    var newText = text.substr(0, this._lastInputSelectPosion.start) + itext + text.substr(this._lastInputSelectPosion.end);
    var selected = this._lastInputSelectPosion;
    var newOffset = selected.start + itext.length;
    this.inputElt.$preInput.focus();
    this.inputElt.$preInput.applyData(newText, newOffset);
    this.inputElt.$preInput.commitChange(newText, newOffset);
    this.inputElt.notifySizeChange();
    this.inputElt.$preInput.focus();
};


MessageInputPlugin.prototype.appendText = function (itext){
    if (!this._lastInputSelectPosion){
        throw new Error('Invalid call');
    }
    var text = this.inputElt.$preInput.value;
    var newText = text + itext ;
    var newOffset = newText.length;
    this.inputElt.$preInput.focus();
    this.inputElt.$preInput.applyData(newText, newOffset);
    this.inputElt.$preInput.commitChange(newText, newOffset);
    this.inputElt.notifySizeChange();
    this.inputElt.$preInput.focus();
}


MessageInputPlugin.prototype.ev_pressOut = function (event) {
    if (EventEmitter["b" /* default */].hitElement(this.getTriggerButton(), event)) return;
    if (EventEmitter["b" /* default */].hitElement(this.getPopup(), event)) return;
    this.closePopup();
};


MessageInputPlugin.prototype.getIconElt = function () {
    if (!this.$icon)
        this.$icon = MessageInput_(this.icon);
    return this.$icon;
};


MessageInputPlugin.prototype.getTriggerButton = function () {
    if (!this.$triggerBtn) {
        this.$triggerBtn = MessageInput_({
            tag: 'button',
            class: ['as-message-input-plugin-btn', 'as-message-input-plugin-' + this.id],
            child: this.getIconElt(),
            on: {
                click: this.ev_pressTrigger
            }
        });
    }
    return this.$triggerBtn;
};

MessageInputPlugin.prototype.createContent = function (_thisAdapter, _, $) {
    throw  new Error("Not implement!");
};

/***
 *
 * @type {null|function(_thisAdapter:MessageInputPlugin):void}
 */
MessageInputPlugin.prototype.onPressTrigger = null;


MessageInputPlugin.prototype.getContent = function () {
    if (!this.$content)
        this.$content = this.createContent(this.inputElt, MessageInput_, MessageInput_$);
    return this.$content;
};


MessageInputPlugin.prototype.getPopup = function () {
    if (!this.$popup) {
        this.$popup = MessageInput_({
            class: 'as-message-input-external-tools-popup',
            child: this.getContent()
        });
    }
    return this.$popup;
};

MessageInputPlugin.prototype.openPopup = function () {
    if (this.isPopupOpened()) return;
    this.inputElt.appendChild(this.getPopup());
    document.body.addEventListener('click', this.ev_pressOut);
};


MessageInputPlugin.prototype.closePopup = function () {
    if (!this.isPopupOpened()) return;
    this.getPopup().remove();
    document.body.removeEventListener('click', this.ev_pressOut);

};

MessageInputPlugin.prototype.isPopupOpened = function () {
    return !!this.getPopup().parentElement;
};


MessageInput.prototype.PluginConstructor = MessageInputPlugin;

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/numberinput.css
var numberinput = __webpack_require__(116);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/NumberInput.js








var NumberInput_ = ACore["a" /* default */]._;
var NumberInput_$ = ACore["a" /* default */].$;


function NumberInput() {
    this.eventHandler = OOP["a" /* default */].bindFunctions(this, NumberInput.eventHandler);
    this.$input = NumberInput_$('input', this)
        .on('keydown', this.eventHandler.keydown)
        .on('keyup', this.eventHandler.keyup)
        .on('paste', this.eventHandler.paste)
        .on('change', this.eventHandler.change);
    this.$input.value = 0;
    this._previusValue = 0;//to kwnow whenever the value changed
    this._value = 0;
    this._max = Infinity;
    this._min = -Infinity;
    this.$upBtn = NumberInput_$('.absol-number-input-button-up-container button', this)
        .on('mousedown', this.eventHandler.mouseDownUpBtn);
    this.$downBtn = NumberInput_$('.absol-number-input-button-down-container button', this)
        .on('mousedown', this.eventHandler.mouseDownDownBtn);

    this._decimalSeparator = '.';
    this._thousandsSeparator = '';
    this._floatFixed = -1;// unset
    this._decimalPadding = -1;//unset
}

NumberInput.tag = 'NumberInput'.toLowerCase();

NumberInput.render = function () {
    return NumberInput_({
        class: 'absol-number-input',
        extendEvent: ['change'],
        child: [
            {
                class: 'absol-number-input-text-container',
                child: 'input[type="text"]'
            },
            {
                class: 'absol-number-input-button-up-container',
                child: {
                    tag: 'button',
                    child: 'span.mdi.mdi-menu-up'
                }
            },
            {
                class: 'absol-number-input-button-down-container',
                child: {
                    tag: 'button',
                    child: 'span.mdi.mdi-menu-down'
                }
            }

        ]
    });
};


NumberInput.eventHandler = {};

NumberInput.eventHandler.mouseDownUpBtn = function (event) {
    if (EventEmitter["b" /* default */].isMouseRight(event)) return;
    var self = this;
    var body = NumberInput_$(document.body);
    var pressing = true;
    var timeout = -1;
    var i = 0;

    function tick() {
        if (pressing) {
            if (i == 0 || i >= 4) {
                self.value = Math.floor(self.value) + 1;
                self.notifyChanged({ by: 'long_press_button' });
            }
            ++i;
            self.__pressingUpTimeout__ = setTimeout(tick, 100);
        }
    }

    function finish(event) {
        pressing = false;
        if (timeout >= 0) {
            clearTimeout(timeout);
            timeout = -1;
        }
        body.off('mouseup', finish);
        body.off('mouseleave', finish);
        if (event.type == 'mouseup') {
            self.$input.focus();
        }
        self.notifyChanged({ originEvent: event, by: 'press_button' });
    }

    body.on('mouseup', finish);
    body.on('mouseleave', finish);
    tick();
};

NumberInput.eventHandler.mouseDownDownBtn = function (event) {
    if (EventEmitter["b" /* default */].isMouseRight(event)) return;
    var self = this;
    var body = NumberInput_$(document.body);
    var pressing = true;
    var timeout = -1;
    var i = 0;

    function tick() {
        if (pressing) {
            if (i == 0 || i >= 4) {
                self.value = Math.ceil(self.value) - 1;
                self.notifyChanged({ by: 'long_press_button' });

            }
            ++i;
            self.__pressingUpTimeout__ = setTimeout(tick, 100);
        }
    }

    function finish(event) {
        pressing = false;
        if (timeout >= 0) {
            clearTimeout(timeout);
            timeout = -1;
        }
        body.off('mouseup', finish);
        body.off('mouseleave', finish);
        if (event.type == 'mouseup') {
            self.$input.focus();
        }
        self.notifyChanged({ originEvent: event, by: 'press_button' });
    }

    body.on('mouseup', finish);
    body.on('mouseleave', finish);
    tick();
};


NumberInput.eventHandler.keyup = function (event) {
    var cValue = parseFloat(this.$input.value);
    if (!isNaN(cValue)) {
        this._value = cValue;
        this.notifyChanged({ originEvent: event, by: 'keyup' });
    }
};


NumberInput.eventHandler.keydown = function () {
    var key = event.key;
    var text = this.$input.value;
    if (key && key.length == 1 && !event.ctrlKey) {
        if (key.match(/[0-9.\-\+]/)) {
            if (key == '.' && text.indexOf('.') >= 0) event.preventDefault();
            if ((key == '+' || key == '-') && (text.indexOf('+') >= 0 || text.indexOf('-') >= 0 || Text_getCaretPosition(this.$input) > 0)) event.preventDefault();
        }
        else event.preventDefault();
    }
};

NumberInput.eventHandler.change = function (event) {
    this.value = parseFloat(this.$input.value);
    this.notifyChanged({ originEvent: event, by: 'input_change' });
};

NumberInput.eventHandler.paste = function (e) {
    e.preventDefault();
    var text = "";
    if (e.clipboardData && e.clipboardData.getData) {
        text = e.clipboardData.getData("text/plain");

    }
    else if (window.clipboardData && window.clipboardData.getData) {
        text = window.clipboardData.getData("Text");
    }

    var oldText = this.$input.value;
    var caretPos = Text_getCaretPosition(this.$input);
    var newText = oldText.substr(0, caretPos) + text + oldText.substr(caretPos);
    var matched = newText.match(/[+-]?([0-9]*[.])?[0-9]+/);
    if (matched) {
        this.value = parseFloat(matched[0]);
    }
};


NumberInput.prototype.notifyChanged = function (option) {
    option = option || {};
    if (this._previusValue != this.value || this._prevBy !== option.by) {
        this.emit('change', Object.assign({ target: this, value: this.value }, option || {}), this);
        this._previusValue = this.value;
        this._prevBy = option.by;
    }
}


NumberInput.prototype.numberToString = function (number) {
    return numberToString(this._value, this._floatFixed, this._decimalSeparator, this._thousandsSeparator, this._decimalPadding);
};


NumberInput.prototype.updateTextValue = function () {
    if (this._value == Infinity || this._value == -Infinity) this.$input.value = this._value + "";
    this.$input.value = this.numberToString(this._value);
}

NumberInput.prototype.stringToNumber = function (string) {
    var matchedInf = string.toLowerCase().match('/([+-])?infinity/');
    if (matchedInf) {
        if (matchedInf[1] == '-')
            return Infinity;
        return -Infinity;
    }
    else if (this._thousandsSeparator == '.') {
        string = string.replace(/\./g, '').replace(/\,/, '.');
    }
    else if (this._thousandsSeparator == ',') {
        string = string.replace(/\,/g, '');
    }

    return parseFloat(string);
};


NumberInput.property = {};

NumberInput.property.value = {
    set: function (value) {
        if (typeof (value) != 'number' || isNaN(value)) value = 0;
        this._value = Math.max(this._min, Math.min(this._max, value));
        this.updateTextValue();
    },
    get: function () {
        return this._value;
    }
};


NumberInput.property.max = {
    set: function (value) {
        if (!(typeof value == 'number') || isNaN(value)) {
            value = Infinity;
        }
        this._max = value;
        this._value = Math.min(value, this._value);
        this._min = Math.min(this._min, this._value);
        this.updateTextValue();
    },
    get: function () {
        return this._max;
    }
};

NumberInput.property.min = {
    set: function (value) {
        if (!(typeof value == 'number') || isNaN(value)) {
            value = -Infinity;
        }
        this._min = value;
        this._value = Math.max(value, this._value);
        this._max = Math.max(this._max, this._value);
        this.updateTextValue();

    },
    get: function () {
        return this._min;
    }
};

NumberInput.property.decimalSeparator = {
    set: function (value) {
        if (value == ',') {
            if (this._thousandsSeparator == ',')
                this._thousandsSeparator = '.';
        }
        else if (value == '.') {
            if (this._thousandsSeparator == '.')
                this._thousandsSeparator = ',';
        }
        else {
            value = '';
        }
        this._decimalSeparator = value;
        this.updateTextValue();
    },
    get: function () {
        return this._decimalSeparator;
    }
};


NumberInput.property.thousandsSeparator = {
    set: function (value) {
        if (value == ',') {
            if (this._decimalSeparator == ',')
                this._decimalSeparator = '.';
        }
        else if (value == '.') {
            if (this._decimalSeparator == '.')
                this._decimalSeparator = ',';
        }
        else {
            value = '';
        }
        this._thousandsSeparator = value;
        this.updateTextValue();
    },
    get: function () {
        return this._thousandsSeparator;
    }
};

NumberInput.property.floatFixed = {
    set: function (value) {
        if (typeof value == "number") {
            if (isNaN(value)) {
                value = -1;
            }
            else {
                value = Math.round(Math.max(-1, Math.min(100, value)));
            }
        }
        else {
            value = -1;
        }

        this._floatFixed = value;
        this.updateTextValue();
    },
    get: function () {
        return this._floatFixed;
    }
};

NumberInput.property.decimalPadding = {
    set: function (value) {
        if (typeof value == "number") {
            if (isNaN(value)) {
                value = 0;
            }
            else {
                value = Math.round(Math.max(-1, Math.min(100, value)));
            }
        }
        else {
            value = 0;
        }
        this._decimalPadding = value;
        this.updateTextValue();
    },
    get: function () {
        return this._decimalPadding;
    }
};


NumberInput.property.disabled = {
    set: function (value) {
        this.$input.disabled = !!value;
        this.$upBtn.disabled = !!value;
        this.$downBtn.disabled = !!value;
        if (value)
            this.addClass('absol-disabled');
        else
            this.removeClass('absol-disabled');
    },
    get: function () {
        return this.$input.disabled;
    }
};


ACore["a" /* default */].install('NumberInput'.toLowerCase(), NumberInput);

/* harmony default export */ var js_NumberInput = (NumberInput);


// CONCATENATED MODULE: ./node_modules/absol-acomp/js/NumberSpanInput.js



var NumberSpanInput_ = ACore["a" /* default */]._;
var NumberSpanInput_$ = ACore["a" /* default */].$;


/***
 * @extends  AElement
 * @constructor
 */
function NumberSpanInput() {
    this.ev_keydown = this.ev_keydown.bind(this);
    this.on('keydown', this.ev_keydown, true);
    this.readOnly = false;
    this.value = 0;
    this.on('paste', function (event) {
        event.preventDefault();
    })
}

NumberSpanInput.tag = 'NumberSpanInput'.toLowerCase();
NumberSpanInput.render = function () {
    return NumberSpanInput_({ tag: 'span', child: { text: '' } });
};

NumberSpanInput.prototype.selectAll = function(){
    var sel;
    if (window.getSelection) {
        sel = window.getSelection();
        sel.removeAllRanges();
        var range = document.createRange();
        range.selectNode(this.childNodes[this.childNodes.length - 1]);
        sel.addRange(range);
    } else {
        console.error("TimePicker: Not support!")
    }
};

NumberSpanInput.prototype.selectEnd = function(){
    var sel;
    if (window.getSelection) {
        sel = window.getSelection();
        sel.removeAllRanges();
        this._autoAddZero();
        var length = this.firstChild.data.length;
        var range = document.createRange();
        range.setStart(this.firstChild, length);
        range.setEnd(this.firstChild, length);
        sel.addRange(range);
    } else {
        console.error("TimePicker: Not support!")
    }
};

NumberSpanInput.prototype.selectNone = function(){
    var sel;
    if (document.activeElement === this){
        sel = window.getSelection();
        sel.removeAllRanges();
    }
}

NumberSpanInput.prototype._autoAddZero = function (){
    if (!this.firstChild){
        this.addChild(NumberSpanInput_({text:'0'}));
    }
}

/***
 *
 * @param {KeyboardEvent} event
 */
NumberSpanInput.prototype.ev_keydown = function (event) {
    if (event.key && event.key.length == 1 && !event.ctrlKey && !event.altKey) {
        if (event.key.match(/[0-9]/)) {

        }
        else {
            event.preventDefault();
        }
    }
    else if (event.key == 'Enter'){
        event.preventDefault();
    }
};


NumberSpanInput.property = {};

NumberSpanInput.property.readOnly = {
    set: function (value) {
        this.contentEditable = !value;
    },
    get: function () {
        return this.contentEditable === false|| this.contentEditable === 'false';
    }
};

/***
 *
 * @type {NumberSpanInput}
 */
NumberSpanInput.property.value = {
    set: function (value) {
        this._autoAddZero();
        this.firstChild.data = value + '';
    },
    get: function () {
        return (this.firstChild && this.firstChild.data)||'';
    }
}

ACore["a" /* default */].install(NumberSpanInput);

/* harmony default export */ var js_NumberSpanInput = (NumberSpanInput);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/onscreenwindow.css
var onscreenwindow = __webpack_require__(118);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/OnsScreenWindow.js







var OnsScreenWindow_ = ACore["a" /* default */]._;
var OnsScreenWindow_$ = ACore["a" /* default */].$;


function OnScreenWindow() {
    var res = this;
    res.$headerbar = OnsScreenWindow_$('.absol-onscreen-window-head-bar', res)
        .on('dragstart', res.eventHandler.beginDragHeaderbar);

    res.$bottomResizer = OnsScreenWindow_$('.absol-onscreen-window-resizer.absol-onscreen-window-resize-bottom', res)
        .on('dragstart', res.eventHandler.beginDragBottom);

    res.$rightResizer = OnsScreenWindow_$('.absol-onscreen-window-resizer.absol-onscreen-window-resize-right', res)
        .on('dragstart', res.eventHandler.beginDragRight);

    res.$topResizer = OnsScreenWindow_$('.absol-onscreen-window-resizer.absol-onscreen-window-resize-top', res)
        .on('dragstart', res.eventHandler.beginDragTop);

    res.$leftResizer = OnsScreenWindow_$('.absol-onscreen-window-resizer.absol-onscreen-window-resize-left', res)
        .on('dragstart', res.eventHandler.beginDragLeft);

    res.$bottomRightResizer = OnsScreenWindow_$('.absol-onscreen-window-resizer.absol-onscreen-window-resize-bottom-right', res)
        .on('dragstart', res.eventHandler.beginDragButtonRight);

    res.$bottomLeftResizer = OnsScreenWindow_$('.absol-onscreen-window-resizer.absol-onscreen-window-resize-bottom-left', res)
        .on('dragstart', res.eventHandler.beginDragBottomLeft);

    res.$topLeftResizer = OnsScreenWindow_$('.absol-onscreen-window-resizer.absol-onscreen-window-resize-top-left', res)
        .on('dragstart', res.eventHandler.beginDragTopLeft);

    res.$topRightResizer = OnsScreenWindow_$('.absol-onscreen-window-resizer.absol-onscreen-window-resize-top-right', res)
        .on('dragstart', res.eventHandler.beginDragTopRight);


    res.$headerButtonCtn = OnsScreenWindow_$('.absol-onscreen-window-head-bar-buttons', res.$headerbar);
    res.$windowIcon = OnsScreenWindow_$('span.absol-onscreen-window-head-bar-icon.mdi.mdi-settings', res);
    res.$windowTitle = OnsScreenWindow_$('.absol-onscreen-window-head-bar-title', res);
    res._windowIcon = 'span.absol-onscreen-window-head-bar-icon.mdi.mdi-settings';
    res._windowTitle = '';
    res.$bodyContainer = OnsScreenWindow_$('.absol-onscreen-window-body-container', res);
    res.$attachhook = OnsScreenWindow_('attachhook').addTo(res)
        .on('error', function () {
            this.updateSize = this.updateSize || res.relocation.bind(res);
            HTML5_Dom["a" /* default */].addToResizeSystem(this);
        });

    res.$minimizeBtn = OnsScreenWindow_$('button.absol-onscreen-window-head-bar-button-minimize', res);
    res.$closeBtn = OnsScreenWindow_$('button.absol-onscreen-window-head-bar-button-close', res);
    res.$dockBtn = OnsScreenWindow_$('button.absol-onscreen-window-head-bar-button-dock', res);
}

OnScreenWindow.tag = 'OnScreenWindow'.toLowerCase();

OnScreenWindow.render = function () {
    return OnsScreenWindow_({
        extendEvent: ['sizechange', 'drag', 'relocation'],
        class: 'absol-onscreen-window',
        child: {
            class: 'absol-onscreen-window-content',
            child: [
                {
                    tag: 'hanger',
                    class: 'absol-onscreen-window-head-bar',
                    child: [
                        'span.absol-onscreen-window-head-bar-icon.mdi.mdi-settings',
                        {
                            tag: 'span',
                            class: 'absol-onscreen-window-head-bar-title',
                            child: { text: '' }
                        },
                        {
                            class: "absol-onscreen-window-head-bar-buttons",
                            child: [
                                {
                                    tag: 'button',
                                    class: 'absol-onscreen-window-head-bar-button-minimize',
                                    child: 'span.mdi.mdi-window-minimize'
                                },
                                {
                                    tag: 'button',
                                    class: 'absol-onscreen-window-head-bar-button-dock',
                                    child: 'span.mdi.mdi-dock-window'
                                },
                                {
                                    tag: 'button',
                                    class: 'absol-onscreen-window-head-bar-button-close',
                                    child: 'span.mdi.mdi-close'
                                }
                            ]
                        }
                    ]
                },
                {
                    class: 'absol-onscreen-window-body-container'
                },
                'hanger.absol-onscreen-window-resizer.absol-onscreen-window-resize-bottom',
                'hanger.absol-onscreen-window-resizer.absol-onscreen-window-resize-top',
                'hanger.absol-onscreen-window-resizer.absol-onscreen-window-resize-left',
                'hanger.absol-onscreen-window-resizer.absol-onscreen-window-resize-right',
                'hanger.absol-onscreen-window-resizer.absol-onscreen-window-resize-bottom-right',
                'hanger.absol-onscreen-window-resizer.absol-onscreen-window-resize-bottom-left',
                'hanger.absol-onscreen-window-resizer.absol-onscreen-window-resize-top-left',
                'hanger.absol-onscreen-window-resizer.absol-onscreen-window-resize-top-right'

            ]
        }
    });
};

OnScreenWindow.eventHandler = {};

OnScreenWindow.eventHandler.beginDragHeaderbar = function (event) {
    if (!EventEmitter["b" /* default */].hitElement(this.$headerButtonCtn, event)) {
        this.$headerbar.on('drag', this.eventHandler.dragHeaderbar);
        this.$headerbar.on('dragend', this.eventHandler.endDragHeaderbar);
        var screenSize = HTML5_Dom["a" /* default */].getScreenSize();
        var bound = this.getBoundingClientRect();
        this.__moveData__ = {
            bound: bound,
            modal: OnsScreenWindow_('.absol-onscreen-window-moving-modal').addTo(document.body),
            maxLeft: screenSize.width - bound.width - 1,
            maxY: screenSize.height - bound.height - 1,
        };

    }
};

OnScreenWindow.eventHandler.dragHeaderbar = function (event) {
    var d = event.currentPoint.sub(event.startingPoint);
    var dx = d.x;
    var dy = d.y;
    var newX = Math.max(0, Math.min(this.__moveData__.maxLeft, this.__moveData__.bound.left + dx));
    var newY = Math.max(0, Math.min(this.__moveData__.maxY, this.__moveData__.bound.top + dy));
    this.addStyle({
        top: newY + 'px',
        left: newX + 'px'
    });
    this.emit('drag', event, this);
};

OnScreenWindow.eventHandler.endDragHeaderbar = function (event) {
    this.$headerbar.off('drag', this.eventHandler.dragHeaderbar);
    this.$headerbar.off('dragend', this.eventHandler.endDragHeaderbar);
    this.__moveData__.modal.remove();
    this.__moveData__ = undefined;
};


OnScreenWindow.eventHandler.beginDragBottom = function (event) {
    if (event.target != this.$bottomResizer) return;
    this.$bottomResizer.on('drag', this.eventHandler.dragBottom);
    this.$bottomResizer.on('dragend', this.eventHandler.endDragBottom);
    var screenSize = HTML5_Dom["a" /* default */].getScreenSize();
    var bound = this.getBoundingClientRect();
    this.__moveData__ = {
        bound: bound,
        minHeight: this.getFontSize() * 1.4,
        maxHeight: screenSize.height - bound.top,
        modal: OnsScreenWindow_('.absol-onscreen-window-moving-modal.absol-onscreen-window-resize-bottom').addTo(document.body)
    };
};

OnScreenWindow.eventHandler.dragBottom = function (event) {
    var d = event.currentPoint.sub(event.startingPoint);
    var dy = d.y;
    var newHeight = Math.max(this.__moveData__.minHeight, Math.min(this.__moveData__.maxHeight, this.__moveData__.bound.height + dy));
    this.addStyle('height', newHeight + 'px');
    this.emit('sizechange', event, this);
};


OnScreenWindow.eventHandler.endDragBottom = function (event) {
    this.$bottomResizer.off('drag', this.eventHandler.dragBottom);
    this.$bottomResizer.off('dragend', this.eventHandler.endDragBottom);
    this.__moveData__.modal.remove();
    this.__moveData__ = undefined;
};


OnScreenWindow.eventHandler.beginDragRight = function (event) {
    if (event.target != this.$rightResizer) return;
    this.$rightResizer.on('drag', this.eventHandler.dragRight);
    this.$rightResizer.on('dragend', this.eventHandler.endDragRight);
    var screenSize = HTML5_Dom["a" /* default */].getScreenSize();
    var bound = this.getBoundingClientRect();
    var minWidth = this.$windowTitle.getBoundingClientRect().right - bound.left + this.$headerButtonCtn.getBoundingClientRect().width;
    this.__moveData__ = {
        minWidth: minWidth,
        bound: bound,
        maxWidth: screenSize.width - bound.left,
        modal: OnsScreenWindow_('.absol-onscreen-window-moving-modal.absol-onscreen-window-resize-right').addTo(document.body)
    };
};

OnScreenWindow.eventHandler.dragRight = function (event) {
    var d = event.currentPoint.sub(event.startingPoint);
    var dx = d.x;
    var newWidth = Math.max(this.__moveData__.minWidth, Math.min(this.__moveData__.maxWidth, this.__moveData__.bound.width + dx));
    this.addStyle('width', newWidth + 'px');
    this.emit('sizechange', event, this);
};


OnScreenWindow.eventHandler.endDragRight = function (event) {
    this.$rightResizer.off('drag', this.eventHandler.dragRight);
    this.$rightResizer.off('dragend', this.eventHandler.endDragRight);
    this.__moveData__.modal.remove();
    this.__moveData__ = undefined;
};


OnScreenWindow.eventHandler.beginDragTop = function (event) {
    if (event.target != this.$topResizer) return;
    this.$topResizer.on('drag', this.eventHandler.dragTop);
    this.$topResizer.on('dragend', this.eventHandler.endDragTop);
    // var screenSize = Dom.getScreenSize();
    var bound = this.getBoundingClientRect();
    var fontSize = this.getFontSize();
    this.__moveData__ = {
        fontSize: fontSize,
        bound: bound,
        maxTop: bound.bottom - 1.4 * fontSize,
        modal: OnsScreenWindow_('.absol-onscreen-window-moving-modal.absol-onscreen-window-resize-top').addTo(document.body)
    };
};

OnScreenWindow.eventHandler.dragTop = function (event) {
    var d = event.currentPoint.sub(event.startingPoint);
    var dy = d.y;
    var newTop = Math.max(0, Math.min(this.__moveData__.maxTop, this.__moveData__.bound.top + dy));
    var newHeight = this.__moveData__.bound.bottom - newTop;
    this.addStyle({
        'top': newTop + 'px',
        'height': newHeight + 'px',
    });
    this.emit('sizechange', event, this);
};


OnScreenWindow.eventHandler.endDragTop = function (event) {
    this.$topResizer.off('drag', this.eventHandler.dragTop);
    this.$topResizer.off('dragend', this.eventHandler.endDragTop);
    this.__moveData__.modal.remove();
    this.__moveData__ = undefined;

};


OnScreenWindow.eventHandler.beginDragLeft = function (event) {
    if (event.target != this.$leftResizer) return;
    this.$leftResizer.on('drag', this.eventHandler.dragLeft);
    this.$leftResizer.on('dragend', this.eventHandler.endDragLeft);
    var bound = this.getBoundingClientRect();
    var minWidth = this.$windowTitle.getBoundingClientRect().right - bound.left + this.$headerButtonCtn.getBoundingClientRect().width;
    this.__moveData__ = {
        maxLeft: bound.right - minWidth,
        bound: bound,
        modal: OnsScreenWindow_('.absol-onscreen-window-moving-modal.absol-onscreen-window-resize-left').addTo(document.body)
    };
};

OnScreenWindow.eventHandler.dragLeft = function (event) {
    var d = event.currentPoint.sub(event.startingPoint);
    var dx = d.x;
    var newLeft = Math.max(0, Math.min(this.__moveData__.maxLeft, this.__moveData__.bound.left + dx));
    var newWidth = this.__moveData__.bound.right - newLeft;
    this.addStyle({
        width: newWidth + 'px',
        left: newLeft + 'px'
    });
    this.emit('sizechange', event, this);
};


OnScreenWindow.eventHandler.endDragLeft = function (event) {
    this.$leftResizer.off('drag', this.eventHandler.dragLeft);
    this.$leftResizer.off('dragend', this.eventHandler.endDragLeft);
    this.__moveData__.modal.remove();
    this.__moveData__ = undefined;
};


//todo
OnScreenWindow.eventHandler.beginDragButtonRight = function (event) {
    if (event.target != this.$bottomRightResizer) return;
    this.$bottomRightResizer.on('drag', this.eventHandler.dragButtonRight);
    this.$bottomRightResizer.on('dragend', this.eventHandler.endDragButtonRight);
    var screenSize = HTML5_Dom["a" /* default */].getScreenSize();
    var bound = this.getBoundingClientRect();
    var minWidth = this.$windowTitle.getBoundingClientRect().right - bound.left + this.$headerButtonCtn.getBoundingClientRect().width;
    this.__moveData__ = {
        minHeight: this.getFontSize() * 1.4,
        minWidth: minWidth,
        bound: bound,
        maxWidth: screenSize.width - bound.left,
        maxHeight: screenSize.height - bound.top,
        modal: OnsScreenWindow_('.absol-onscreen-window-moving-modal.absol-onscreen-window-resize-bottom-right').addTo(document.body)
    };
};

OnScreenWindow.eventHandler.dragButtonRight = function (event) {
    var d = event.currentPoint.sub(event.startingPoint);
    var dx = d.x;
    var dy = d.y;
    var newWidth = Math.max(this.__moveData__.minWidth, Math.min(this.__moveData__.maxWidth, this.__moveData__.bound.width + dx));
    var newHeight = Math.max(this.__moveData__.minHeight, Math.min(this.__moveData__.maxHeight, this.__moveData__.bound.height + dy));
    this.addStyle('width', newWidth + 'px');
    this.addStyle('height', newHeight + 'px');
    this.emit('sizechange', event, this);
};


OnScreenWindow.eventHandler.endDragButtonRight = function (event) {
    this.$bottomRightResizer.off('drag', this.eventHandler.dragButtonRight);
    this.$bottomRightResizer.off('dragend', this.eventHandler.endDragButtonRight);
    this.__moveData__.modal.remove();
    this.__moveData__ = undefined;
};


OnScreenWindow.eventHandler.beginDragBottomLeft = function (event) {
    if (event.target != this.$bottomLeftResizer) return;
    this.$bottomLeftResizer.on('drag', this.eventHandler.dragBottomLeft);
    this.$bottomLeftResizer.on('dragend', this.eventHandler.endDragBottomLeft);
    var bound = this.getBoundingClientRect();
    var minWidth = this.$windowTitle.getBoundingClientRect().right - bound.left + this.$headerButtonCtn.getBoundingClientRect().width;
    var screenSize = HTML5_Dom["a" /* default */].getScreenSize();
    this.__moveData__ = {
        maxLeft: bound.right - minWidth,
        bound: bound,
        minHeight: this.getFontSize() * 1.4,
        maxHeight: screenSize.height - bound.top,
        modal: OnsScreenWindow_('.absol-onscreen-window-moving-modal.absol-onscreen-window-resize-bottom-left').addTo(document.body)
    };
};

OnScreenWindow.eventHandler.dragBottomLeft = function (event) {
    var d = event.currentPoint.sub(event.startingPoint);
    var dx = d.x;
    var dy = d.y;
    var newLeft = Math.max(0, Math.min(this.__moveData__.maxLeft, this.__moveData__.bound.left + dx));
    var newWidth = this.__moveData__.bound.right - newLeft;
    var newHeight = Math.max(this.__moveData__.minHeight, Math.min(this.__moveData__.maxHeight, this.__moveData__.bound.height + dy));
    this.addStyle('height', newHeight + 'px');
    this.addStyle({
        width: newWidth + 'px',
        left: newLeft + 'px'
    });
    this.emit('sizechange', event, this);
};


OnScreenWindow.eventHandler.endDragBottomLeft = function (event) {
    this.$bottomLeftResizer.off('drag', this.eventHandler.dragLeft);
    this.$bottomLeftResizer.off('dragend', this.eventHandler.endDragLeft);
    this.__moveData__.modal.remove();
    this.__moveData__ = undefined;
};


OnScreenWindow.eventHandler.beginDragTopLeft = function (event) {
    if (event.target != this.$topLeftResizer) return;
    this.$topLeftResizer.on('drag', this.eventHandler.dragTopLeft);
    this.$topLeftResizer.on('dragend', this.eventHandler.endDragTopLeft);
    var bound = this.getBoundingClientRect();
    var fontSize = this.getFontSize();
    var minWidth = this.$windowTitle.getBoundingClientRect().right - bound.left + this.$headerButtonCtn.getBoundingClientRect().width;
    this.__moveData__ = {
        maxLeft: bound.right - minWidth,
        fontSize: fontSize,
        bound: bound,
        maxTop: bound.bottom - 1.4 * fontSize,
        modal: OnsScreenWindow_('.absol-onscreen-window-moving-modal.absol-onscreen-window-resize-top-left').addTo(document.body)
    };
};

OnScreenWindow.eventHandler.dragTopLeft = function (event) {
    var d = event.currentPoint.sub(event.startingPoint);
    var dx = d.x;
    var dy = d.y;
    var newTop = Math.max(0, Math.min(this.__moveData__.maxTop, this.__moveData__.bound.top + dy));
    var newHeight = this.__moveData__.bound.bottom - newTop;
    var newLeft = Math.max(0, Math.min(this.__moveData__.maxLeft, this.__moveData__.bound.left + dx));
    var newWidth = this.__moveData__.bound.right - newLeft;
    this.addStyle({
        top: newTop + 'px',
        height: newHeight + 'px',
        width: newWidth + 'px',
        left: newLeft + 'px'
    });
    this.emit('sizechange', event, this);
};


OnScreenWindow.eventHandler.endDragTopLeft = function (event) {
    this.$topLeftResizer.off('drag', this.eventHandler.dragTopLeft);
    this.$topLeftResizer.off('dragend', this.eventHandler.endDragTopLeft);
    this.__moveData__.modal.remove();
    this.__moveData__ = undefined;

};


OnScreenWindow.eventHandler.beginDragTopRight = function (event) {
    if (event.target != this.$topRightResizer) return;
    this.$topRightResizer.on('drag', this.eventHandler.dragTopRight);
    this.$topRightResizer.on('dragend', this.eventHandler.endDragTopRight);
    var screenSize = HTML5_Dom["a" /* default */].getScreenSize();
    var bound = this.getBoundingClientRect();
    var fontSize = this.getFontSize();
    var minWidth = this.$windowTitle.getBoundingClientRect().right - bound.left + this.$headerButtonCtn.getBoundingClientRect().width;
    this.__moveData__ = {
        minWidth: minWidth,
        fontSize: fontSize,
        bound: bound,
        maxWidth: screenSize.width - bound.left,
        maxTop: bound.bottom - 1.4 * fontSize,
        modal: OnsScreenWindow_('.absol-onscreen-window-moving-modal.absol-onscreen-window-resize-top-right').addTo(document.body)
    };
};

OnScreenWindow.eventHandler.dragTopRight = function (event) {
    var d = event.currentPoint.sub(event.startingPoint);
    var dx = d.x;
    var dy = d.y;
    var newWidth = Math.max(this.__moveData__.minWidth, Math.min(this.__moveData__.maxWidth, this.__moveData__.bound.width + dx));
    var newTop = Math.max(0, Math.min(this.__moveData__.maxTop, this.__moveData__.bound.top + dy));
    var newHeight = this.__moveData__.bound.bottom - newTop;
    this.addStyle({
        'top': newTop + 'px',
        'height': newHeight + 'px',
        width: newWidth + 'px'
    });
    this.emit('sizechange', event, this);
};


OnScreenWindow.eventHandler.endDragTopRight = function (event) {
    this.$topRightResizer.off('drag', this.eventHandler.dragTopRight);
    this.$topRightResizer.off('dragend', this.eventHandler.endDragTopRight);
    this.__moveData__.modal.remove();
    this.__moveData__ = undefined;

};


['addChild', 'addChildBefore', 'addChildAfter', 'clearChild', 'findChildBefore', 'findChildAfter'].forEach(function (key) {
    OnScreenWindow.prototype[key] = function () {
        return this.$bodyContainer[key].apply(this.$bodyContainer, arguments);
    };
});


OnScreenWindow.property = {};

OnScreenWindow.property.windowIcon = {
    set: function (value) {
        this._windowIcon = value;
        if (this.$windowIcon) {
            this.$windowIcon.remove();
            this.$windowIcon = undefined;
        }
        if (value) {
            this.$windowIcon = OnsScreenWindow_(value).addClass('absol-onscreen-window-head-bar-icon');
            this.$headerbar.addChildBefore(this.$windowIcon, this.$headerbar.childNodes[0]);
        }
    },
    get: function () {
        return this._windowIcon;
    }
};


OnScreenWindow.property.windowTitle = {
    set: function (value) {
        this._windowTitle = value;
        this.$windowTitle
            .clearChild()
            .addChild(OnsScreenWindow_({
                text: '' + value
            }));
    },
    get: function () {
        return this._windowTitle;
    }
};


OnScreenWindow.prototype.relocation = function () {
    var bound = this.getBoundingClientRect();
    var screenSize = HTML5_Dom["a" /* default */].getScreenSize();
    var isRelocated = false;
    if (bound.bottom >= screenSize.height) {
        this.addStyle('top', Math.max(0, screenSize.height - bound.height) + 'px');
        isRelocated = true;
    }
    if (bound.right >= screenSize.width) {
        this.addStyle('left', Math.max(0, screenSize.width - bound.width) + 'px');
        isRelocated = true;
    }

    if (isRelocated) {
        this.emit('relocation', { type: 'relocation', target: this }, this)
    }
};


ACore["a" /* default */].install(OnScreenWindow);

/* harmony default export */ var OnsScreenWindow = (OnScreenWindow);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/pageselector.css
var pageselector = __webpack_require__(120);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/PageSelector.js




var PageSelector_ = ACore["a" /* default */]._;
var PageSelector_$ = ACore["a" /* default */].$;

function PageSelector() {
    console.log(this);
    this.$pageInput = PageSelector_$('.absol-page-number-input input', this);
    this.$pageInput.on('keyup', this.eventHandler.pressEnterKey);
    this.$prevBtn = PageSelector_$('li.page-previous', this);
    this.$nextBtn = PageSelector_$('li.page-next', this);
    this.$firstBtn = PageSelector_$('li.page-first', this);
    this.$lastBtn = PageSelector_$('li.page-last', this);
    this.$nextBtn.on('click', this.eventHandler.clickNext);
    this.$prevBtn.on('click', this.eventHandler.clickPrev);
    this.$firstBtn.on('click', this.eventHandler.clickFirst);
    this.$lastBtn.on('click', this.eventHandler.clickLast);
    this.$buttonContainer = PageSelector_$('.absol-page-number-buttons', this);
    this._buttons = [];
    this._pageOffset = 1;
    this._selectedIndex = 1;
    this._pageCount = 1;
    this._pageRange = 1;
    this.$pageInput.value = this._selectedIndex;
}

PageSelector.tag = 'PageSelector'.toLowerCase();

PageSelector.render = function (){
    return PageSelector_({
        class: ['absol-page-selector'],
        extendEvent: ['change'],
        child:
            [
                {
                    class: 'absol-page-number-input',
                    child: [{
                        tag: 'label',
                        child: { text: "Page" }
                    },
                        {
                            tag:'input',
                            attr:{
                                type:'text'
                            }
                        }]
                },

                {
                    tag: 'ul',
                    class: 'absol-page-number-buttons',
                    child: [
                        ' <li class="page-first">\
                        <a aria-controls="dtBasicExample" data-dt-idx="0" tabindex="0" class="absol-page-link">First</a>\
                    </li>',
                        ' <li class="page-previous">\
                        <a aria-controls="dtBasicExample" data-dt-idx="0" tabindex="0" class="absol-page-link">Previous</a>\
                    </li>',

                        '<li class="page-next" >\
                        <a aria-controls="dtBasicExample" data-dt-idx="7" tabindex="0" class="absol-page-link">Next</a>\
                    </li>',
                        ' <li class="page-last">\
                        <a aria-controls="dtBasicExample" data-dt-idx="0" tabindex="0" class="absol-page-link">Last</a>\
                    </li>',
                    ]
                }
            ]
    });
}


PageSelector.eventHandler = {};

PageSelector.eventHandler.pressEnterKey = function(event){
    if (event.keyCode != 13) return;
    var index = parseInt(this.$pageInput.value.trim(), 10);
    if ((index < 1) || (index > this._pageCount)) {
        this.$pageInput.value = this._selectedIndex;
        return;
    }
    this.selectPage(index, true);
}

PageSelector.eventHandler.clickLast = function (event) {
    this.selectPage(this._pageCount, true);
};

PageSelector.eventHandler.clickFirst = function (event) {
    this.selectPage(1, true);
};

PageSelector.eventHandler.clickNext = function (event) {
    if (this._selectedIndex == this._pageCount) return;
    this.selectPage(this._selectedIndex + 1, true);
};

PageSelector.eventHandler.clickPrev = function (event) {
    if (this._selectedIndex == 1) return;
    this.selectPage(this._selectedIndex - 1, true);
}


PageSelector.eventHandler.clickIndex = function (index, event) {
    this.selectPage(index + this._pageOffset, true);
};

PageSelector.prototype._createButton = function (index) {
    var button = PageSelector_({
        tag: 'li',
        class: 'absol-page-number',
        child: {
            tag: 'a',
            attr: {  'data-index': index },
            child: { text: '' + index }
        },
        on: {
            click: PageSelector.eventHandler.clickIndex.bind(this, index)
        }
    });
    this.$buttonContainer.addChildBefore(button, this.$nextBtn);
    return button;
};

PageSelector.prototype.setPageRange = function (pageCount) {
    this._pageRange = pageCount;
    if (this._buttons.length > 0) throw new Error("Not implement change pageCount");
    while (this._buttons.length < pageCount) {
        this._buttons.push(this._createButton(this._buttons.length));
    }
};

PageSelector.prototype.setStartPage = function (index) {
    this._buttons.forEach(function (e, i) {
        e.childNodes[0].innerHTML = i + index + '';
    });
    this._pageOffset = index;
};

PageSelector.prototype.selectPage = function (index, userActive) {
    if (index == this._selectedIndex) this.setStartPage(index - parseInt(this._pageRange / 2));
    if (index > this._selectedIndex){
        if (index == (this._pageOffset + this._pageRange - 1)) this.setStartPage(index - parseInt(this._pageRange / 2));
    }
    if (index < this._selectedIndex){
        if (index == this._pageOffset) this.setStartPage(index - parseInt(this._pageRange / 2));
    }

    if (index > (this._pageCount - parseInt(this._pageRange / 2))) this.setStartPage(this._pageCount - this._pageRange + 1);
    if (index <= (parseInt(this._pageRange / 2))) this.setStartPage(1);

    var pageOffset = this._pageOffset;
    this._buttons.forEach(function (e, i) {
        if (i + pageOffset == index) {
            e.addClass('active');
        }
        else {
            e.removeClass('active');
        }
    });
    if (this._selectedIndex != index) {
        this._selectedIndex = index;
        this.$pageInput.value = index;
        this.emit('change', { target: this, selectedIndex: index, userActive: !!userActive }, this);
    }
};

PageSelector.prototype.getSelectedPage = function () {
    return this._selectedIndex;
}

PageSelector.prototype.setPageCount = function (count) {
    this._pageCount = count;
};

PageSelector.property = {};

PageSelector.prototype.init = function (props) {
    props = props || {};
    props.pageOffset = props.pageOffset || 1;
    props.pageRange = props.pageRange || 5;
    props.pageCount = props.pageCount || 15;
    props.selectedIndex = typeof (props.selectedIndex) == "number" ? props.selectedIndex : props.pageOffset;
    if (props.pageCount < props.pageRange) props.pageRange = props.pageCount;
    this.setPageCount(props.pageCount);
    this.setPageRange(props.pageRange);
    this.setStartPage(props.pageOffset);
    this.selectPage(props.selectedIndex);
};


ACore["a" /* default */].install(PageSelector);

/* harmony default export */ var js_PageSelector = (PageSelector);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/preinput.css
var preinput = __webpack_require__(122);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/PreInput.js







var PreInput_ = ACore["a" /* default */]._;
var PreInput_$ = ACore["a" /* default */].$;
var textDelay = BrowserDetector["a" /* default */].isSafari ? 100 : 1;


/***
 * @extends AElement
 * @constructor
 */
function PreInput() {
    this.defineEvent(['pasteimg', 'pastetext', 'change']);
    this.on('paste', this.eventHandler.paste);
    this.on('keydown', this.eventHandler.keydown);
    this.history = [];
    this.historyIndex = -1;
    this.commitChange('', 0);
}


PreInput.tag = 'preinput';
PreInput.render = function () {
    return PreInput_({
        tag: 'pre',
        class: 'as-preinput',
        attr: {
            contenteditable: 'true'
        },
        child: 'br'
    });
};

PreInput.prototype.applyData = function (text, offset) {
    var textNode = PreInput_({ text: text });
    this.clearChild()
        .addChild(textNode).addChild(PreInput_('br'));

    if (document.activeElement == this && this.isDescendantOf(document.body)) {
        if (document.getSelection) {
            var sel = document.getSelection();
            sel.removeAllRanges();
            var range = document.createRange();
            if (typeof offset == 'number') {
                range.setStart(textNode, Math.min(text.length, offset));
            }
            else {
                range.setStart(textNode, Math.min(text.length, offset.start));
                range.setEnd(textNode, Math.min(text.length, offset.end));
            }
            sel.addRange(range);
            this.scrollIntoRange(range);

        }
        else {
            console.error("PreInput: Not support!");
        }
    }
};


PreInput.prototype.scrollIntoRange = function (range) {
    var elementBound = range.getBoundingClientRect();

    var viewportBound = this.getBoundingClientRect();
    var dBottom = 0;
    if (range.startContainer && range.startContainer.data && range.startContainer.data.charAt(range.startContainer.data.length - 1) == '\n')
        dBottom += this.getFontSize() * 1.5;
    var currentScrollTop = this.scrollTop;
    var newScrollTop = currentScrollTop;
    if (elementBound.bottom + dBottom > viewportBound.bottom) {
        newScrollTop = currentScrollTop + (elementBound.bottom + dBottom - viewportBound.bottom);
    }
    if (elementBound.top < viewportBound.top) {
        newScrollTop = currentScrollTop - (viewportBound.top - elementBound.top);
    }

    if (newScrollTop != currentScrollTop) {
        this.scrollTop = newScrollTop;
    }

    var currentScrollLeft = this.scrollLeft;
    var newScrollLeft = currentScrollLeft;
    if (elementBound.right > viewportBound.right) {
        newScrollLeft = currentScrollLeft + (elementBound.right - viewportBound.right);
    }
    if (elementBound.left < viewportBound.left) {
        newScrollLeft = currentScrollLeft - (viewportBound.left - elementBound.left);
    }

    if (newScrollLeft != currentScrollLeft) {
        this.scrollLeft = newScrollLeft;
    }
};

PreInput.prototype.undo = function () {
    if (this.historyIndex <= 0) return;
    this.historyIndex--;
    var record = this.history[this.historyIndex];
    this.applyData(record.text, record.offset);
    this.emit('change', { target: this, value: record.text, action: 'undo', record: record, type: 'change' }, this);
};


PreInput.prototype.redo = function () {
    if (this.historyIndex + 1 >= this.history.length) return;
    this.historyIndex++;
    var record = this.history[this.historyIndex];
    this.applyData(record.text, record.offset);
    this.emit('change', { target: this, value: record.text, action: 'redo', record: record, type: 'change' }, this);
};


PreInput.prototype.commitChange = function (text, offset) {
    while (this.historyIndex < this.history.length - 1) {
        this.history.pop();
    }
    var lastText = this.history.length > 0 ? this.history[this.history.length - 1].text : null;
    if (text === lastText) {
        if (this.history[this.history.length - 1].offset != offset)
            this.history[this.history.length - 1].offset = offset;
    }
    else {
        this.historyIndex = this.history.length;
        var record = {
            text: text,
            offset: offset
        };
        this.history.push(record);
        this.emit('change', {
            target: this,
            value: record.text,
            action: 'commit',
            record: record,
            type: 'change'
        }, this);
    }
};

PreInput.prototype.waitToCommit = function (text, offset) {
    var thisInput = this;
    if (this._commitTimeout > 0)
        clearTimeout(this._commitTimeout);
    this._commitTimeout = setTimeout(function () {
        thisInput.commitChange(text, offset);
    }, textDelay);
};

PreInput.prototype.getPosition = function (node, offset) {
    if (!node) return NaN;
    if (node == this)
        return offset;
    var parent = node.parentElement;
    if (!parent) return NaN;
    var text = '';
    var child;
    var lastBr = false;
    for (var i = 0; i < parent.childNodes.length; ++i) {
        child = parent.childNodes[i];
        if (child == node) break;
        text += this.stringOf(child);
    }
    return this.getPosition(parent, text.length + offset);
};


PreInput.prototype.getSelectPosition = function () {
    if (window.getSelection) {
        var sel = window.getSelection();
        if (sel.getRangeAt && sel.rangeCount) {
            var range = sel.getRangeAt(0);
            var startOffset = this.getPosition(range.startContainer, range.startOffset);
            var endOffset = this.getPosition(range.endContainer, range.endOffset);
            if (isNaN(startOffset)) return null;
            return {
                start: startOffset, end: endOffset
            }
        }
    }
    else if (document.selection) {
        console.error('May not support!');
    }
};

PreInput.prototype.stringOf = function (node) {
    if (!node) return '';
    if (node.nodeType == 3) {
        return node.data;
    }
    if (node.tagName == 'BR' || node.tagName == 'br') {
        return '\n';
    }
    var thisInput = this;

    return Array.prototype.map.call(node.childNodes, function (cNode, index, arr) {
        if ((cNode.tagName == 'BR' || cNode.tagName == 'br') && (index + 1 >= arr.length)) return '';
        return thisInput.stringOf(cNode);
    }).join('');

}


PreInput.prototype._pasteText = function (text) {
    var sel = window.getSelection();
    var range;
    if (window.getSelection) {

        sel = window.getSelection();
        if (sel.getRangeAt && sel.rangeCount) {
            try {

                range = sel.getRangeAt(0);
                range.deleteContents();

                var textNode = PreInput_({ text: text });
                range.insertNode(textNode);
                if (sel.removeRange) {
                    sel.removeRange(range);
                }
                else {
                    sel.removeAllRanges();
                }
                range = document.createRange();
                range.setStart(textNode, text.length);
                sel.addRange(range);
                this.scrollIntoRange(range);
                this.commitChange(this.stringOf(this), this.getPosition(textNode, text.length));
            } catch (error) {
                alert(error.message)
            }
        }
    }
    else if (document.selection && document.selection.createRange) {
        document.selection.createRange().text = text;
        this.commitChange(this.stringOf(this), this.getPosition(textNode, text.length));
        console.error('May not support!');
    }
};


/**
 * @type {PreInput}
 */
PreInput.eventHandler = {};


PreInput.eventHandler.paste = function (event) {
    var thisIp = this;
    var clipboardData = (event.clipboardData || window.clipboardData);
    /**Safari bug */
    if (clipboardData) {
        if (clipboardData.items) {
            var items = Array.prototype.slice.call(clipboardData.items);
            var imgItems = items.filter(function (item) {
                return item.type.indexOf('image') >= 0;
            });

            var plainTextItems = items.filter(function (item) {
                return item.type.indexOf('text/plain') >= 0;
            });

            if (imgItems.length > 0) {
                var imgFiles = imgItems.map(function (it) {
                    return it.getAsFile();
                });
                this.emit('pasteimg', {
                    target: this,
                    imageFile: imgFiles[0],
                    imageFiles: imgFiles,
                    orginEvent: event
                }, this);
            }
            else if (plainTextItems.length > 0) {

                var plainTextItem = plainTextItems[0];//only one item
                plainTextItem.getAsString(function (text) {
                    thisIp._pasteText(text);
                });
            }
            else {
                console.error("Can not handle clipboard data");
            }
            event.preventDefault();
        }
        else {
            var text = event.clipboardData.getData('text/plain');
            if (text) {
                event.preventDefault();
                this._pasteText(text);
            }
            else {
                var currentText = this.stringOf(this);
                var currentSelection = this.getSelectPosition();

                setTimeout(function () {
                    var images = [];
                    PreInput_$('img', thisIp, function (elt) {
                        images.push(elt);
                    });

                    Promise.all(images.map(function (img) {
                        return HTML5_Dom["a" /* default */].imageToCanvas(img).then(function (canvas) {
                            var dataURI = canvas.toDataURL();
                            var blob = dataURItoBlob(dataURI);
                            var file = blobToFile(blob);
                            return {
                                file: file, blob: blob, url: dataURI
                            }
                        }, function (error) {
                            console.error(error)
                        }).catch(function (error) {
                            console.error(error)
                        });
                    })).then(function (results) {
                        results = results.filter(function (it) {
                            return !!it;
                        });
                        if (results.length > 0) {
                            var imgFiles = results.map(function (it) {
                                return it.file
                            });
                            var urls = results.map(function (it) {
                                return it.url
                            });
                            thisIp.emit('pasteimg', {
                                target: this,
                                imageFile: imgFiles[0],
                                imageFiles: imgFiles,
                                urls: urls,
                                url: urls[0],
                                orginEvent: event
                            }, thisIp);
                        }
                    });
                    thisIp.applyData(currentText, currentSelection);
                }, textDelay);

            }
        }
    }
    else {
        setTimeout(function () {
            if (window.getSelection) {
                var sel = window.getSelection();
                if (sel.getRangeAt && sel.rangeCount) {
                    var range = sel.getRangeAt(0);
                    var text = this.stringOf(this);
                    var offset = this.getPosition(range.startContainer, range.startOffset);
                    this.waitToCommit(text, offset);
                }
            }
            else if (document.selection) {
                console.error('May not support!');
            }
        }.bind(this), textDelay);
    }
};


PreInput.eventHandler.keydown = function (event) {
    if (event.ctrlKey) {
        switch (event.key) {
            case 'z':
                this.undo();
                event.preventDefault();
                break;
            case 'y':
                this.redo();
                event.preventDefault();
                break;

            default:
                break;
        }
    }
    if (!event.ctrlKey && !event.altKey) {
        setTimeout(function () {
            if (window.getSelection) {
                var sel = window.getSelection();
                if (sel.getRangeAt && sel.rangeCount) {
                    var range = sel.getRangeAt(0);
                    var text = this.stringOf(this);
                    var offset = this.getPosition(range.startContainer, range.startOffset);
                    this.waitToCommit(text, offset);
                }
            }
            else if (document.selection) {
                console.error('May not support!');
            }
        }.bind(this), textDelay);
    }
};

PreInput.property = {};

PreInput.property.value = {
    set: function (value) {
        value = value || '';
        this.applyData(value, value.length);
        this.commitChange(value, value.length);
    },
    get: function () {
        return this.stringOf(this);
    }
};


ACore["a" /* default */].install(PreInput);

/* harmony default export */ var js_PreInput = (PreInput);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/progressbar.css
var progressbar = __webpack_require__(124);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/ProgressBar.js



var ProgressBar_ = ACore["a" /* default */]._;
var ProgressBar_$ = ACore["a" /* default */].$;


function ProgressBar() {
    this._value = 0;
    this._variant = null;
    this.$value = ProgressBar_$('.as-progress-bar-value', this);
    this._striped = false;
    this._animated = false;
}

ProgressBar.tag = 'ProgressBar'.toLowerCase();
ProgressBar.render = function () {
    return ProgressBar_({
        class: 'as-progress-bar',
        child: {
            class: 'as-progress-bar-value'
        }
    });
};


ProgressBar.property = {};


/**
 * @type {ProgressBar}
 */
ProgressBar.property.variant = {
    set: function (value) {
        if (this._variant) {
            this.removeClass('as-variant-' + this._variant);
        }
        if (value) {
            this.addClass('as-variant-' + value)
        }
        else {
            value = null;
        }
        this._variant = value;
    },
    get: function () {
        return this._variant;
    }

};

/**
 * @type {ProgressBar}
 */
ProgressBar.property.value = {
    set: function (value) {
        value = Math.max(0, Math.min(1, value || 0));
        this._value = value;
        this.$value.addStyle('width', value * 100 + '%');

    },
    get: function () {
        return this._value;
    }
};


ProgressBar.property.animated = {
    set: function (value) {
        value = !!value;
        this._striped = value;
        if (value) {
            this.addClass('as-animated');
        }
        else {
            this.removeClass('as-animated');
        }
    },
    get: function () {
        return this._animated;
    }
}

ProgressBar.property.striped = {
    set: function (value) {
        value = !!value;
        this._striped = value;
        if (value) {
            this.addClass('as-striped');
        }
        else {
            this.removeClass('as-striped');
        }
    },
    get: function () {
        return this._striped;
    }
}


ACore["a" /* default */].install(ProgressBar);


/* harmony default export */ var js_ProgressBar = (ProgressBar);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/quicklistbutton.css
var quicklistbutton = __webpack_require__(126);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/FollowerToggler.js




var FollowerToggler_ = ACore["a" /* default */]._;
var FollowerToggler_$ = ACore["a" /* default */].$;

/***
 * @extends AElement
 * @constructor
 */
function FollowerToggler() {
    this.defineEvent(['close', 'open', 'preopen']);
    this.on('click', this.eventHandler.click);
    this.addClass('as-follower-trigger');
    this.$follower = null;
    this._opened = false;
}

FollowerToggler.tag = 'FollowerToggler'.toLowerCase();

FollowerToggler.render = function () {
    return FollowerToggler_('div');
};

FollowerToggler.prototype.toggle = function () {
    if (this._opened) this.close();
    else this.open();
};

FollowerToggler.prototype.open = function () {
    if (this._opened) return;
    this._opened = true;
    this.addClass('as-follower-trigger-open');
    if (!this.$follower) return;
    this.emit('preopen', { name: 'preopen', target: this }, this);
    var thisTg = this;
    setTimeout(function () {
        thisTg.$follower.refollow();
        thisTg.$follower.removeClass('absol-follower-hidden');
        document.body.addEventListener('click', thisTg.eventHandler.clickBody);
        thisTg.emit('open', { name: 'open', target: this }, this);
    }, 1);
};

FollowerToggler.prototype.close = function () {
    if (!this._opened) return;
    this._opened = false;
    this.removeClass('as-follower-trigger-open');
    if (!this.$follower) return;
    this.$follower.unfollow();
    this.$follower.addClass('absol-follower-hidden');
    document.body.removeEventListener('click', this.eventHandler.clickBody);
    this.emit('close', { name: 'close', target: this }, this);
};


FollowerToggler.prototype.bindFollower = function (elt) {
    if (this.$follower) {
        this.$follower.followTarget = null;
    }
    if (elt && elt.refollow) {
        if (this._opened)
            elt.removeClass('absol-follower-hidden');
        else
            elt.addClass('absol-follower-hidden');
        elt.followTarget = this;
        this.$follower = elt;
    }
    else {
        throw new Error("Must be a follower!");
    }
}

FollowerToggler.eventHandler = {};

FollowerToggler.eventHandler.clickBody = function (event) {
    if (EventEmitter["b" /* default */].hitElement(this, event) || EventEmitter["b" /* default */].hitElement(this.$follower, event))
        return;
    this.close();
};


FollowerToggler.eventHandler.click = function () {
    this.toggle();
};

ACore["a" /* default */].install(FollowerToggler);

/* harmony default export */ var js_FollowerToggler = (FollowerToggler);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/QuickListButton.js




 var QuickListButton_ = ACore["a" /* default */]._;
var QuickListButton_$ = ACore["a" /* default */].$;

/****
 * @extends FollowerToggler
 * @constructor
 */
function QuickListButton() {
    this.$shareFollower = QuickListButton.getFollower();
    QuickListButton_({
        tag: 'followertoggler', elt: this,
        on: {
            preopen: this.eventHandler.preopen,
            close: this.eventHandler.closeFollower
        }
    });
    this.bindFollower(this.$shareFollower);
    this.$iconCtn.remove();
    this.$content.addChild(this.$iconCtn);
    this._items = this._items;
    this._anchor = [];
    this.$list = null;
    this._listUpdated = true;
    this._opened = false;
    this.anchor = [12, 13, 15, 14];//todo: add property
}


QuickListButton.$follower = QuickListButton_('follower.as-quick-list-button-follower');

QuickListButton.getFollower = function () {
    if (!QuickListButton.$follower)
        QuickListButton.$follower = QuickListButton_('follower.as-quick-list-button-follower');
    return QuickListButton.$follower;
};

QuickListButton.tag = 'QuickListButton'.toLowerCase();

QuickListButton.render = function () {
    return QuickListButton_({
        tag: 'flexiconbutton',
        class: 'as-quick-list-button',
        extendEvent: 'select',
        props: {
            text: "+ Thêm",
            icon: 'span.mdi.mdi-menu-down'
        }
    });
};


QuickListButton.property = {};

QuickListButton.property.items = {
    set: function (value) {
        value = value || [];
        this._items = value;
        this._listUpdated = false;
    },
    get: function () {
        return this._items;
    }
};

/**
 * @type {QuickListButton}
 */
QuickListButton.eventHandler = {};


QuickListButton.eventHandler.preopen = function () {
    this.$shareFollower.addTo(document.body);
    this.$shareFollower.anchor = this.anchor;
    if (this.$list == null) {
        this.$list = QuickListButton_('selectlist.absol-bscroller')
            .on('pressitem', this.eventHandler.pressitem);
    }
    if (!this._listUpdated) {
        this._listUpdated = true;
        this.$list.items = this._items;
    }
    this.$shareFollower.addChild(this.$list);
    this.$shareFollower.on({
        preupdateposition: this.eventHandler.preUpdatePosition,
    });

};

QuickListButton.eventHandler.preUpdatePosition = function () {
    var bound = this.getBoundingClientRect();
    var screenSize = HTML5_Dom["a" /* default */].getScreenSize();
    var maxHeight = Math.max(screenSize.height - bound.bottom, bound.top) - 10;
    this.$list.addStyle('max-height', maxHeight + 'px');
};

QuickListButton.eventHandler.closeFollower = function () {
    this.$shareFollower.off({
        preupdateposition: this.eventHandler.preUpdatePosition
    });
};

QuickListButton.eventHandler.pressitem = function (event) {
    this.close();
    this.emit('select', Object.assign({}, event, { type: 'select', target: this }));
};


ACore["a" /* default */].install(QuickListButton);

/* harmony default export */ var js_QuickListButton = (QuickListButton);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/selectlist.css
var selectlist = __webpack_require__(29);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/SelectListItem.js



var SelectListItem_ = ACore["a" /* default */]._;
var SelectListItem_$ = ACore["a" /* default */].$;


function SelectListItem() {
    var res = SelectListItem_({
        class: 'absol-selectlist-item',
        child: [
            {
                tag: 'span',
                class: 'absol-selectlist-item-text',
                child: { text: '' }
            },
            {
                class: 'absol-selectlist-item-desc-container',
                child: {
                    tag: 'span',
                    class: 'absol-selectlist-item-desc',
                    child: { text: '' }
                }
            }
        ]
    });
    res.$text = SelectListItem_$('span.absol-selectlist-item-text', res);
    res.$textValue = res.$text.childNodes[0];
    res.$descCtn = SelectListItem_$('.absol-selectlist-item-desc-container', res);
    res.$desc = SelectListItem_$('span.absol-selectlist-item-desc', res.$descCtn);
    res.$descValue = res.$desc.childNodes[0];
    res._extendClasses = [];
    res._extendStyle = {};
    res._data = "";
    res._level = 0;
    return res;
}

//bold 14pt arial


SelectListItem.property = {};


SelectListItem.property.extendClasses = {
    set: function (value) {
        var i;
        for (i = 0; i < this._extendClasses.length; ++i) {
            this.removeClass(this._extendClasses[i]);
        }
        this._extendClasses = [];
        if (typeof value == 'string') value = value.trim().split(/\s+/);
        value = value || [];
        for (i = 0; i < value.length; ++i) {
            this._extendClasses.push(value[i]);
            this.addClass(value[i]);
        }
    },
    get: function () {
        return this._extendClasses;
    }
};

SelectListItem.property.extendStyle = {
    set: function (value) {
        this.removeStyle(this._extendStyle);
        this._extendStyle = Object.assign({}, value || {});
        this.addStyle(this._extendStyle);
    },
    get: function () {
        return this._extendClasses;
    }
};


SelectListItem.property.data = {
    set: function (value) {
        this._data = value;
        if (typeof value == 'string') {
            this.$textValue.data = value;
            this.$descValue.data = '';
            this.level = 0;
            this.extendClasses = '';
            this.extendStyle = {};
            this.lastInGroup = false;
            this.isLeaf = false;
            this.selected = false;
        }
        else {
            this.$textValue.data = value.text || '';
            this.$descValue.data = value.desc || '';
            this.level = value.level || 0;

            this.extendClasses = value.extendClasses;
            this.extendStyle = value.extendStyle;
            this.lastInGroup = !!(value.lastInGroup);
            this.isLeaf = !!(value.isLeaf);
            this.selected = !!(value.selected);
        }
    },
    get: function () {
        return this._data;
    }
};

SelectListItem.property.value = {
    get: function () {
        return (typeof this._data == "string") ? this._data : this._data.value;
    }
};

SelectListItem.property.text = {
    get: function () {
        return (typeof this._data == "string") ? this._data : this._data.text;
    }
};

SelectListItem.property.desc = {
    get: function () {
        return (typeof this._data == "string") ? undefined : this._data.desc;
    }
};


SelectListItem.property.level = {
    set: function (value) {
        value = value || 0;
        this._level = value;
        this.$text.addStyle('margin-left', value * 0.9 + 'em');
    },
    get: function () {
        return this._level;
    }
};


SelectListItem.property.lastInGroup = {
    set: function (value) {
        if (value) {
            this.addClass('as-last-in-group');
        }
        else {
            this.removeClass('as-last-in-group');
        }
    },
    get: function () {
        return this.containsClass('as-last-in-group');
    }
};

SelectListItem.property.isLeaf = {
    set: function (value) {
        if (value) {
            this.addClass('as-is-leaf');
        }
        else {
            this.removeClass('as-is-leaf');
        }
    },
    get: function () {
        return this.containsClass('as-is-leaf');
    }
};

SelectListItem.property.selected = {
    set: function (value) {
        if (value) {
            this.addClass('as-selected');
        }
        else {
            this.removeClass('as-selected');
        }
    },
    get: function () {
        return this.containsClass('as-selected');
    }
};

ACore["a" /* default */].install('SelectListItem'.toLowerCase(), SelectListItem);


/* harmony default export */ var js_SelectListItem = (SelectListItem);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/SelectList.js








var SelectList_ = ACore["a" /* default */]._;
var SelectList_$ = ACore["a" /* default */].$;

var isSupportedVar = window.CSS && window.CSS.supports && window.CSS.supports('--fake-var', 'red');
/**
 * Setup css
 */
if (isSupportedVar) {
    SelectList.$dynamicStyle = (function () {
        var cssElt = SelectList_('style#selectlist-dynamic-style');
        var cssCode = [
            '.absol-selectlist-item>span {',
            '    margin-right: calc(1em + var(--select-list-desc-width));',
            '}',

            '.absol-selectlist-item-desc-container {',
            '    width: var(--select-list-desc-width);',
            '}'

        ];

        cssElt.innerHTML = cssCode.join('\n');
        cssElt.addTo(document.head);
        return cssElt;
    })();
}

var itemPool = [];

function onMousedownItem(event) {
    if (EventEmitter["b" /* default */].isMouseRight(event)) return;
    var thisSL = this.$parent;
    if (thisSL) {
        thisSL.value = this.value;
        thisSL.emit('pressitem', {
            type: 'pressitem',
            target: thisSL,
            itemElt: this,
            value: this.value,
            data: this.data
        });
    }
}

function makeItem() {
    return SelectList_({
        tag: 'selectlistitem',
        on: {
            mousedown: onMousedownItem
        }
    });
}

function requireItem($parent) {
    var item;
    if (itemPool.length > 0) {
        item = itemPool.pop();
    }
    else {
        item = makeItem();
    }
    item.$parent = $parent;
    return item;
}

function releaseItem(item) {
    item.$parent = null;
    item.removeClass('selected');
    itemPool.push(item);
};


function measureMaxDescriptionWidth(items) {
    var maxDescWidth = 0;
    var maxText = 0;
    var maxEst = 0;
    var est;
    for (var i = 0; i < items.length; ++i) {
        if (items[i].desc) {
            est = estimateWidth14(items[i].desc);
            if (est > maxEst) {
                maxEst = est;
                maxText = items[i].desc;
            }
        }
    }
    if (maxText)
        maxDescWidth = utils_measureText(maxText, 'italic 14px  sans-serif').width;
    return maxDescWidth;
};


function measureMaxTextWidth(items) {
    var maxTextWidth = 0;
    var maxText = 0;
    var maxEst = 0;
    var maxLv = 0;
    var est;
    var text;
    var item;
    for (var i = 0; i < items.length; ++i) {
        item = items[i];
        if (item.text) {
            text = item.text;
            est = estimateWidth14(text) + 14 * 0.9 * (item.level || 0);
            if (est > maxEst) {
                maxEst = est;
                maxText = text;
                maxLv = item.level||0;
            }
        }
    }
    if (maxText)
        maxTextWidth = 14 * 0.9 * maxLv + utils_measureText(maxText, '14px Arial, Helvetica, sans-serif').width + 14;//padding left, right 7px
    return maxTextWidth;
}

function measureListHeight(items) {
    var border = 0;
    var n = items.length - 1;
    return items.length * 20 + border;
}

function measureListSize(items) {
    var descWidth = measureMaxDescriptionWidth(items);
    var textWidth = measureMaxTextWidth(items);
    var width = textWidth;
    if (descWidth > 0) {
        width += descWidth + 14;
    }
    var height = measureListHeight(items);
    return {
        width: width,
        height: height,
        descWidth: descWidth,
        textWidth: textWidth
    };
}

/*global absol*/
/***
 * @extends AElement
 * @constructor
 */
function SelectList() {
    var thisSL = this;
    this.defineEvent(['pressitem', 'cancelasync', 'valuevisibilityasync', 'finishasync', 'sizechangeasync']);
    this.$attachhook = SelectList_('attachhook').addTo(this);
    this.sync = new Promise(function (rs) {
        thisSL.$attachhook.once('error', rs);
    });
    this.$items = [];
    this.$itemByValue = {};//quick find element
    this.$selectedItem = undefined;
    this.measuredSize = {
        width: 0,
        height: 0,
        descWidth: 0,
        textWidth: 0
    };

    this._itemSession = 0;
    this._finished = true;

};

SelectList.tag = "SelectList".toLowerCase();

SelectList.render = function () {
    return SelectList_('.absol-selectlist');
};

SelectList.prototype._updateSelectedItem = function () {
    var newSelectedItemElt = this.$itemByValue[this._selectValue];
    if (newSelectedItemElt != this.$selectedItem) {
        if (this.$selectedItem) {
            this.$selectedItem.removeClass('selected');
        }
        if (newSelectedItemElt) {
            newSelectedItemElt.addClass('selected');
            this.$selectedItem = newSelectedItemElt;
        }
    }
};


SelectList.prototype._requireItems = function (itemCout) {
    var item;
    while (this.$items.length < itemCout) {
        item = requireItem(this);
        this.$items.push(item);
        this.addChild(item);
    }

    while (this.$items.length > itemCout) {
        item = this.$items.pop();
        item.remove();
        releaseItem(item);
    }
};

SelectList.prototype._assignItems = function (from, to) {
    var foundSelected = false;
    var itemElt;
    var item;
    for (var i = from; i < to; ++i) {
        itemElt = this.$items[i];
        item = this._items[i];
        itemElt.data = item;
        itemElt.__index__ = i;
        if (this.$itemByValue[item.value]) {
            console.warn('Value  ' + this.$items[i].value + ' is duplicated!');
        }
        else {
            this.$itemByValue[item.value] = itemElt;
            if (this._selectValue == item.value) {
                itemElt.addClass('selected');
                this.$selectedItem = itemElt;
                foundSelected = true;
            }
            else {
                itemElt.removeClass('selected');
            }
        }
    }
    return foundSelected;
};


SelectList.prototype.setItemsAsync = function (items) {
    //start process
    this._finished = false;
    var session = Math.floor(Math.random() * 1000000);
    this._itemSession = session;
    this._items = items || [];
    this.$itemByValue = {};
    this.measuredSize = measureListSize(items);
    this.style.setProperty('--select-list-desc-width', this.measuredSize.descWidth + 'px'); //addStyle notWork because of convert to cameCase 

    var thisSL = this;
    var i = 0;
    var limit = 20;

    function tick() {
        if (thisSL._itemSession != session) {
            thisSL.emit('cancelasync', { session: session, type: 'cancelasync' }, this);
            return;
        }
        if (i >= items.length) {
            thisSL._updateSelectedItem();
            thisSL._finished = false;
            thisSL.emit('finishasync', { session: session, type: 'finishasync' }, this);
            return;
        }

        var n = Math.min(items.length - i, limit);
        var itemCout = i + n;
        thisSL._requireItems(itemCout);
        i = itemCout;

        var foundSelected = thisSL._assignItems(itemCout - n, itemCout);
        if (foundSelected) {
            thisSL.emit('valuevisibilityasync', {
                session: session,
                type: 'valuevisibilityasync',
                itemElt: thisSL.$items[i]
            }, thisSL);
        }

        thisSL.emit('sizechangeasync', { session: session, type: 'sizechangeasync' }, this);
        setTimeout(tick, 2);
    }

    setTimeout(tick, 2);
    return Object.assign({ session: session }, this.measuredSize);
};


SelectList.prototype.setItems = function (items) {
    this._finished = false;
    var session = Math.floor(Math.random() * 1000000);
    this._itemSession = session;
    this._items = items || [];
    this.$itemByValue = {};
    this.measuredSize = measureListSize(items);
    this.style.setProperty('--select-list-desc-width', this.measuredSize.descWidth + 'px'); //addStyle notWork because of convert to cameCase 
    var itemCount = items.length;
    this._requireItems(itemCount);
    this._assignItems(0, itemCount);

    this._finished = true;
    return {
        session: this._itemSession,
        width: this._descWidth + this._textWidth + 14,
        height: this._height
    }
};


SelectList.property = {};

/**
 * @type {SelectList}
 */
SelectList.property.items = {
    set: function (value) {
        value = value || [];
        this.setItems(value);
    },
    get: function () {
        return this._items || [];
    }
};


SelectList.property.value = {
    set: function (value) {
        this._selectValue = value;
        this._updateSelectedItem();
    },

    get: function () {
        return this._selectValue;
    }
};

SelectList.property.item = {
    get: function () {
        if (this.$selectedItem) return this.$selectedItem.data;
        return undefined;
    }
};


SelectList.property.selectedIndex = {
    get: function () {
        throw new Error("selectedIndex getter is deprecated");
    }
};


SelectList.prototype.init = function (props) {
    props = props || {};
    var value = props.value;
    delete props.value;
    this.super(props);
    if (value !== undefined)
        this.value = value;
};

SelectList.eventHandler = {};

ACore["a" /* default */].install(SelectList);


/* harmony default export */ var js_SelectList = (SelectList);



// CONCATENATED MODULE: ./node_modules/absol-acomp/js/QuickMenu.js







var QuickMenu_ = ACore["a" /* default */]._;
var QuickMenu_$ = ACore["a" /* default */].$;

function QuickMenu() {
    //like context menu without right-click

    this.$contextMenu = QuickMenu_$('vmenu.absol-context-menu', this);
    this._contextMenuSync = Promise.resolve();
}

QuickMenu.tag = 'QuickMenu'.toLowerCase();

QuickMenu.render = function () {
    return QuickMenu_({
        extendEvent: 'requestcontextmenu',
        class: ['absol-context-hinge'],
        child: {
            tag: 'vmenu',
            class: [
                'absol-context-menu', 'absol-bscroller'
            ],
            style: {
                'overflow-y': 'auto',
                'box-sizing': 'border-box'
            }
        }
    });
};
// QuickMenu.prototype.show = function(element, menuProps, anchor){
//     var elementBound = element.getBoundingClientRect();

// };

ACore["a" /* default */].install(QuickMenu);
QuickMenu.PRIORITY_ANCHORS = [0, 3, 7, 4, 1, 2, 6, 5];
QuickMenu.DEFAULT_ANCHOR = 0;

QuickMenu.$ctn = QuickMenu_('.absol-context-hinge-fixed-container');
QuickMenu.$elt = QuickMenu_('quickmenu').addTo(QuickMenu.$ctn);
QuickMenu.$element = undefined;
QuickMenu._acceptAnchors = 0;
QuickMenu._previewAnchor = QuickMenu.DEFAULT_ANCHOR;
QuickMenu._session = Math.random() * 10000000000 >> 0;
QuickMenu._menuListener = undefined;
QuickMenu._scrollOutListener = undefined;

QuickMenu.$elt.$contextMenu.on('press', function (event) {
    if (QuickMenu._menuListener) QuickMenu._menuListener(event.menuItem);
});


QuickMenu.updatePosition = function () {

    if (!QuickMenu.$element) return;

    var qmenu = QuickMenu.$elt;
    var menu = qmenu.$contextMenu;
    var ebound = QuickMenu.$element.getBoundingClientRect();
    var outBound = HTML5_Dom["a" /* default */].traceOutBoundingClientRect(QuickMenu.$element);
    if (ebound.bottom < outBound.top || ebound.left > outBound.right || ebound.top> outBound.bottom
        || ebound.right < outBound.left){
        QuickMenu._scrollOutListener && QuickMenu._scrollOutListener();
    }
    var menuBound = menu.getBoundingRecursiveRect(3);
    var qBound = qmenu.getBoundingClientRect();
    var outBound = HTML5_Dom["a" /* default */].traceOutBoundingClientRect(qmenu);
    //padding
    outBound.left += 2;
    outBound.top += 2;
    outBound.bottom -= 2;
    outBound.right -= 2;
    outBound.height -= 4;
    outBound.width -= 4;

    var getPos = function (anchor) {
        anchor = anchor % 8;
        var x = 0;
        var y = 0;
        if (anchor == 0 || anchor == 3) {
            y = ebound.top;
        }

        if (anchor == 0 || anchor == 7) {
            x = ebound.right;
        }

        if (anchor == 1 || anchor == 6) {
            x = ebound.left;
        }

        if (anchor == 1 || anchor == 2) {
            y = ebound.bottom;
        }

        if (anchor == 2 || anchor == 5) {
            x = ebound.right - menuBound.width;
        }

        if (anchor == 3 || anchor == 4) {
            x = ebound.left - menuBound.width;
        }

        if (anchor == 4 || anchor == 7) {
            y = ebound.bottom - menuBound.height;
        }

        if (anchor == 5 || anchor == 6) {
            y = ebound.top - menuBound.height;
        }
        return { x: x, y: y };
    };

    var pos;

    var bestSquare = -1;
    var bestRect;
    var priority = [QuickMenu._previewAnchor].concat(QuickMenu._acceptAnchors);

    var cAnchor;
    var outRect = new Math_Rectangle(outBound.left, outBound.top, outBound.width, outBound.height);

    var menuRect;
    var viewSquare;
    var cPos;
    for (var i = 0; i < priority.length; ++i) {
        cAnchor = priority[i];
        cPos = getPos(cAnchor);
        menuRect = new Math_Rectangle(cPos.x, cPos.y, menuBound.width, menuBound.height);
        viewSquare = outRect.collapsedSquare(menuRect);

        if (viewSquare - 0.01 > bestSquare) {
            bestSquare = viewSquare;
            pos = cPos;
            QuickMenu._previewAnchor = cAnchor;
            bestRect = outRect.collapsedRect(menuRect);
        }
    }

    // if (bestRect && pos.y < ebound.bottom) {
    //     pos.y += menuBound.height - Math.min(menuBound.height, bestRect.height - 5);
    // }

    pos.x -= qBound.left;
    pos.y -= qBound.top;

    menu.addStyle({
        left: pos.x + 'px',
        top: pos.y + 'px'
    });

    // if (bestRect) {
    //     menu.addStyle('max-height', bestRect.height + 'px');
    // }
    // else {
    //     menu.removeStyle('max-height');
    // }

};

QuickMenu._scrollEventHandler = QuickMenu.updatePosition.bind(QuickMenu);
QuickMenu.$scrollTrackElements = [];


QuickMenu.show = function (element, menuProps, anchor, menuListener, darkTheme) {
    //untrack all element
    QuickMenu.$scrollTrackElements.forEach(function (e) {
        if (e.removeEventListener)
            e.removeEventListener('scroll', QuickMenu._scrollEventHandler, false);
        else
            e.dettachEvent('onscroll', QuickMenu._scrollEventHandler, false);

    });
    QuickMenu.$scrollTrackElements = [];
    if (typeof anchor == 'number') {
        QuickMenu._acceptAnchors = [anchor];
    }
    else if (anchor instanceof Array) {
        QuickMenu._acceptAnchors = anchor;
    }
    else {
        QuickMenu._acceptAnchors = QuickMenu.PRIORITY_ANCHORS;
    }

    QuickMenu._previewAnchor = QuickMenu._acceptAnchors[0];

    QuickMenu._session = Math.random() * 10000000000 >> 0;
    QuickMenu.$ctn.addTo(document.body);
    HTML5_Dom["a" /* default */].addToResizeSystem(QuickMenu.$ctn);

    QuickMenu.$ctn.updateSize = QuickMenu.updatePosition.bind(QuickMenu);
    QuickMenu.$element = element;
    QuickMenu._menuListener = menuListener;
    var qmenu = QuickMenu.$elt;
    var menu = qmenu.$contextMenu;
    Object.assign(menu, menuProps);
    if (darkTheme) qmenu.addClass('dark');
    else qmenu.removeClass('dark');
    menu.removeStyle('visibility');//for prevent size change blink
    QuickMenu.updatePosition();
    setTimeout(function () {
        menu.addStyle('visibility', 'visible');
    }, BrowserDetector["a" /* default */].isMobile ? 33 : 2);

    //track element
    var trackElt = element.parentElement;
    while (trackElt) {
        // trackElt.addEventListener('scroll', QuickMenu._scrollEventHandler, false);
        if (trackElt.addEventListener)
            trackElt.addEventListener('scroll', QuickMenu._scrollEventHandler, false);
        else
            trackElt.attachEvent('onscroll', QuickMenu._scrollEventHandler, false);

        QuickMenu.$scrollTrackElements.push(trackElt);
        trackElt = trackElt.parentElement;
    }
    if (document.addEventListener) {
        document.addEventListener('scroll', QuickMenu._scrollEventHandler, false);
    }
    else {
        document.attachEvent('onscroll', QuickMenu._scrollEventHandler, false);
    }
    QuickMenu.$scrollTrackElements.push(document);

    return QuickMenu._session;
};

QuickMenu.close = function (session) {
    if (session !== true && session !== QuickMenu._session) return;
    QuickMenu._session = Math.random() * 10000000000 >> 0;
    QuickMenu.$element = undefined;
    QuickMenu._menuListener = undefined;
    QuickMenu._previewAnchor = QuickMenu.DEFAULT_ANCHOR;

    //untrack all element
    QuickMenu.$scrollTrackElements.forEach(function (e) {
        e.removeEventListener('scroll', QuickMenu._scrollEventHandler, false);
    });
    QuickMenu.$scrollTrackElements = [];
    var qmenu = QuickMenu.$elt;
    var menu = qmenu.$contextMenu;
    menu.removeStyle('visibility');//for prevent size change blink
    menu.removeStyle({
        left: true,
        top: true
    });
    QuickMenu.$ctn.remove();
};


QuickMenu.showWhenClick = function (element, menuProps, anchor, menuListener, darkTheme) {
    var res = {
        menuProps: menuProps,
        anchor: anchor,
        currentSession: undefined,
        element: element,
        menuListener: menuListener,
        darkTheme: darkTheme
    };

    var clickHandler = function () {
        if (QuickMenu._session === res.currentSession) return;
        res.currentSession = QuickMenu.show(res.element, res.menuProps, res.anchor, res.menuListener, res.darkTheme);
        var finish = function () {
            document.body.removeEventListener('click', finish, false);
            QuickMenu.close(res.currentSession);
            res.currentSession = undefined;
            if ( QuickMenu._scrollOutListener === finish )QuickMenu._scrollOutListener = undefined;
        };
        QuickMenu._scrollOutListener = finish;

        setTimeout(function () {
            document.body.addEventListener('click', finish, false);
        }, 10)
    };

    res.remove = function () {
        element.removeEventListener('click', clickHandler, false);
    };

    element.addEventListener('click', clickHandler, false);
    return res;
};


/**
 * @typedef {Object} QuickMenuAdaptor
 * @property {Function} getFlowedElement default is trigger
 * @property {Function} getMenuProps define menuProps if un-change
 * @property {Function} getAnchor default is 'auto', define anchor if un-change
 * @property {Function} onClose callback
 * @property {Function} onOpen callback
 * @property {Function} onSelect calback
 * @property {Function} isDarkTheme default is false, define darkThem if un-change
 *
 *
 * @typedef {Object} QuickMenuDataHolder
 * @property {Function} remove
 *
 * @param {Element} trigger
 * @param {QuickMenuAdaptor} adaptor
 * @returns {QuickMenuDataHolder}
 */
QuickMenu.toggleWhenClick = function (trigger, adaptor) {
    var res = {
        trigger: trigger,
        adaptor: adaptor,
        currentSession: undefined,
    };

    var clickHandler = function () {
        if (QuickMenu._session === res.currentSession) return;

        res.currentSession = QuickMenu.show(res.adaptor.getFlowedElement ? res.adaptor.getFlowedElement() : trigger,
            res.adaptor.getMenuProps ? res.adaptor.getMenuProps() : (adaptor.menuProps || []),
            res.adaptor.getAnchor ? res.adaptor.getAnchor() : (adaptor.anchor || 'auto'),
            res.adaptor.onSelect,
            res.adaptor.isDarkTheme ? res.adaptor.isDarkTheme() : !!res.adaptor.darkTheme);
        if (res.adaptor.onOpen) res.adaptor.onOpen();

        var finish = function () {
            document.body.removeEventListener('click', finish, false);
            QuickMenu.close(res.currentSession);
            if (adaptor.onClose) adaptor.onClose();
            res.currentSession = undefined;
            if ( QuickMenu._scrollOutListener === finish ) QuickMenu._scrollOutListener = undefined;
        };
        QuickMenu._scrollOutListener = finish;

        setTimeout(function () {
            document.body.addEventListener('click', finish, false);
        }, 10);
    };

    res.remove = function () {
        trigger.removeEventListener('click', clickHandler, false);
    };

    trigger.addEventListener('click', clickHandler, false);
    return res;

};


/* harmony default export */ var js_QuickMenu = (QuickMenu);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/quickpath.css
var quickpath = __webpack_require__(129);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/QuickPath.js




var QuickPath_ = ACore["a" /* default */]._;
var QuickPath_$ = ACore["a" /* default */].$;

function QuickPath() {
    this._holders = [];
}

/**
 * @type {QuickPath}
 */
QuickPath.eventHandler = {};

QuickPath.eventHandler.click = function (event) {
    var button = this._fileButton(event.target)
    if (button) this.pressButton(button);
};

QuickPath.tag = 'QuickPath'.toLowerCase();

/**
 * @returns {QuickPath}
 */
QuickPath.render = function () {
    return QuickPath_({
        class: 'absol-quick-path',
        extendEvent: ['change', 'press']
    });
};


QuickPath.prototype.updatePath = function () {
    this.clearChild();
    var self = this;
    this._holders = this._path.map(function (data, index) {
        var holder = self._createButton(data, index);
        holder.buttom.addTo(self);
        return holder;
    })


};

QuickPath.prototype._createButton = function (pathItem, index) {
    var buttom = QuickPath_({
        tag: 'expnode',
        class: 'absol-quick-path-btn',
        attr: {
            'data-index': '' + index
        }
    });
    buttom.status = 'close';
    buttom.name = pathItem.name;
    if (pathItem.icon) {
        buttom.icon = pathItem.icon;
    }
    if (pathItem.iconSrc) {
        buttom.icon = { tag: 'img', props: { src: pathItem.iconSrc } };
    }
    var thisQuickpath = this;

    if (pathItem.items) {
        js_QuickMenu.toggleWhenClick(buttom,
            {
                getAnchor: function () {
                    return [1, 2, 6, 5];
                },
                getMenuProps: function () {
                    return {
                        extendStyle: {
                            fontSize: buttom.getComputedStyleValue('font-size')
                        },
                        items: pathItem.items.map(function (it, menuIndex) {
                            var res = {
                                text: it.name,
                                menuIndex: menuIndex,
                                icon: it.iconSrc ? { tag: 'img', props: { src: it.iconSrc } } : (it.icon || undefined),
                                extendStyle: it.extendStyle || {},
                                extendClass: it.extendClass || [],
                            }
                            return res;
                        })
                    }
                },
                onOpen: function () {
                    buttom.status = 'open';
                    thisQuickpath.emit('press', {
                        target: thisQuickpath,
                        pathItem: pathItem,
                        index: index
                    }, thisQuickpath);

                },
                onClose: function () {
                    buttom.status = 'close';
                },
                onSelect: function (item) {
                    var dataItem = pathItem.items[item.menuIndex];
                    thisQuickpath.emit('change', {
                        target: thisQuickpath,
                        pathItem: pathItem,
                        item: dataItem,
                        index: index
                    }, thisQuickpath);
                    thisQuickpath.status = 'close';

                }
            })
    }
    else {
        buttom.on('click', function () {
            this.emit('press', { target: thisQuickpath, pathItem: pathItem, index: index }, thisQuickpath);
        });
    }

    return { buttom: buttom };
}

QuickPath.prototype.push = function (item) {
    this.path.push(item);
    var holder = this._createButton(item, this.path.length - 1);
    this.addChild(holder, buttom);
    this._holders.push(holder);
};

QuickPath.prototype.clear = function () {
    this.path = [];
    this._holders = [];
}


QuickPath.prototype.pop = function () {
    //todo
    var res = this.path.pop();
    var button = QuickPath_$('button[data-index="' + this.path.length + '"]');
    if (button) button.remove();
    return res;
};


QuickPath.property = {};

/**
 * @typedef PathElement
 * @property {String} name
 * @property {String} icon
 * @property {Array<String>} items
 *
 */

QuickPath.property.path = {
    /**
     * @param {Array<PathElement>} value
     */
    set: function (value) {
        this._path = value || [];
        this.updatePath();
    },
    get: function () {
        return this._path || [];
    }
};


QuickPath.property.textPath = {
    get: function () {
        return this.path.join('/');
    }
};

ACore["a" /* default */].install('quickpath', QuickPath);

/* harmony default export */ var js_QuickPath = (QuickPath);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/radiobutton.css
var radiobutton = __webpack_require__(131);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/RadioButton.js






var RadioButton_ = ACore["a" /* default */]._;
var RadioButton_$ = ACore["a" /* default */].$;


/***
 * @extends AElement
 * @constructor
 */
function RadioButton() {
    var thisRB = this;
    this.defineEvent('change');
    this.$input = RadioButton_$('input', this).on('change', this.notifyChange.bind(this));
    OOP["a" /* default */].drillProperty(this, this.$input, ['value', 'checked']);

}

RadioButton.tag = 'radiobutton';

RadioButton.radioProto = RadioButton_(
    '<svg class="absol-radio-icon" width="20" height="20" version="1.1" viewBox="0 0 5.2917 5.2917"' +
    '   xmlns="http://www.w3.org/2000/svg">' +
    '    <g transform="translate(0 -291.71)">' +
    '        <circle class="bound" cx="2.6458" cy="294.35" r="2.4626" style="stroke-opacity:.99497;stroke-width:.26458;" />' +
    '        <circle class="dot" cx="2.6458" cy="294.35"  r= "0.92604" style="fill-rule:evenodd;" />' +
    '    </g>' +
    '</svg>'
)

RadioButton.render = function () {
    return RadioButton_({
        tag:'label',
        class: 'absol-radio-button',
        child: [
            { tag: 'input', attr: { type: 'radio' } },
            RadioButton.radioProto.cloneNode(true)
        ]
    });
};


RadioButton.prototype.notifyChange = function () {
    this.emit('change', { type: 'change', checked: this.checked, target: this }, this);
};


RadioButton.prototype.getAllFriend = function () {
    return Radio.getAllByName(this.name);
};


RadioButton.attribute = {
    checked: {
        set: function (value) {
            if (value == 'false' || value == null) {
                this.checked = false;
            }
            else {
                this.checked = true;
            }

        },
        get: function () {
            return this.checked ? 'true' : 'false'
        },
        remove: function () {
            this.checked = false;
        }
    },
    disabled: {
        set: function (value) {
            if (value == 'false' || value == null) {
                this.disabled = false;
            }
            else {
                this.disabled = true;
            }

        },
        get: function () {
            return this.disabled ? 'true' : 'false'
        },
        remove: function () {
            this.disabled = false;
        }
    },
    name: {
        set: function (value) {
            this.name = value;
        },
        get: function () {
            return this.name;
        },
        remove: function () {
            this.name = null;
        }
    }
}

RadioButton.property = {
    name: {
        set: function (name) {
            if (name == null) this.$input.removeAttribute('name');
            else
                this.$input.setAttribute('name', name);

        },
        get: function () {
            return this.$input.getAttribute('name');
        }
    },
    disabled: {
        set: function (value) {
            this.$input.disabled = !!value;
            if (value) {
                this.addClass('disabled');
            }
            else {
                this.removeClass('disabled');
            }
        },
        get: function () {
            return this.$input.disabled;
        }
    }
};

RadioButton.getAllByName = function (name) {
    return (document.getElementsByTagName('input') || []).filter(function (elt) {
        return elt.getAttribute('type') == 'radio' && elt.getAttribute('name') == name;
    });
};

RadioButton.getValueByName = function (name) {
    var inputs = RadioButton.getAllByName(name);
    var res = null;
    var input;
    for (var i = 0; i < inputs.length; ++i) {
        input = inputs[i];
        if (input.checked) {
            res = input.value;
        }
    }
    return res;
};



RadioButton.autoReplace = function () {
    var placeHolders = Array.prototype.slice.call(document.getElementsByTagName(this.tag));
    var ph;
    var attOfPH;
    var attrs;
    var style;
    var classList;
    var attNode;
    var attrName, attrValue;
    var props;
    for (var i = 0; i < placeHolders.length; ++i) {
        ph = placeHolders[i];
        attOfPH = ph.attributes;
        classList = [];
        style = {};
        attrs = {};
        props = {};
        for (var j = 0; j < attOfPH.length; ++j) {
            attNode = attOfPH[j];
            attrName = attNode.nodeName;
            attrValue = attNode.nodeValue;
            if (attrName == 'style') {
                attrValue.trim().split(';').reduce(function (style, prop) {
                    var p = prop.split(':');
                    if (p.length == 2) {
                        style[p[0].trim()] = p[1].trim();
                    }
                    return style;
                }, style);
            }
            else if (attrName == 'class') {
                classList = attrValue.trim().split(/\s+/);
            }
            else if (attrName == 'onchange') {
                props.onchange = new Function('event', 'sender', attrValue);
            }
            else {
                attrs[attrName] = attrValue;
            }
        }
        var newElt = RadioButton_({
            tag: this.tag,
            attr: attrs,
            class: classList,
            style: style,
            props: props
        });
        RadioButton_$(ph).selfReplace(newElt);
    }
};

RadioButton.initAfterLoad = function (){
    HTML5_Dom["a" /* default */].documentReady.then(function (){
        RadioButton.autoReplace();
    })
};


ACore["a" /* default */].install('RadioButton'.toLowerCase(), RadioButton);

/* harmony default export */ var js_RadioButton = (RadioButton);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/radio.css
var css_radio = __webpack_require__(133);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Radio.js








var Radio_ = ACore["a" /* default */]._;
var Radio_$ = ACore["a" /* default */].$;
var Radio_$$ = ACore["a" /* default */].$$;
var _svg = Svg["a" /* default */].ShareInstance._;

/***
 * @extends AElement
 * @constructor
 */
function Radio_Radio() {
    var thisR = this;
    this.defineEvent('change');
    this.$input = Radio_$('input', this)
        .on('change', this.notifyChange.bind(this));
    this.$labels = Radio_$$('span', this);

    OOP["a" /* default */].drillProperty(this, this.$input, ['value', 'checked']);
}

Radio_Radio.tag = 'radio';

Radio_Radio.radioProto = Radio_(
    '<svg class="absol-radio-icon" width="20" height="20" version="1.1" viewBox="0 0 5.2917 5.2917"' +
    '   xmlns="http://www.w3.org/2000/svg">' +
    '    <g transform="translate(0 -291.71)">' +
    '        <circle class="bound" cx="2.6458" cy="294.35" r="2.4626" style="stroke-opacity:.99497;stroke-width:.26458;" />' +
    '        <circle class="dot" cx="2.6458" cy="294.35"  r= "0.92604" style="fill-rule:evenodd;" />' +
    '    </g>' +
    '</svg>'
)

Radio_Radio.render = function () {
    return Radio_({
        tag: 'label',
        class: 'absol-radio',
        child: [
            { tag: 'input', attr: { type: 'radio' } },
            { tag: 'span', class: 'absol-radio-left-label' },
            Radio_Radio.radioProto.cloneNode(true),
            { tag: 'span', class: 'absol-radio-right-label' }
        ]
    });
};


Radio_Radio.prototype.notifyChange = function () {
    this.emit('change', { type: 'change', checked: this.checked, target: this }, this);
};


Radio_Radio.prototype.getAllFriend = function () {
    return Radio_Radio.getAllByName(this.name);
};


Radio_Radio.attribute = js_RadioButton.attribute;

Radio_Radio.property = {
    name: {
        set: function (name) {
            this.$input.setAttribute('name', name);

        },
        get: function () {
            return this.$input.getAttribute('name');
        }
    },
    text: {
        set: function (value) {
            value = (value || '').trim();
            this.$labels[0].clearChild();
            this.$labels[1].clearChild();

            if (value) {
                this.$labels[0].addChild(Radio_({ text: value }));
                this.$labels[1].addChild(Radio_({ text: value }));
            }

        },
        get: function () {
            return this.$labels[0].firstChild.data;
        }
    },
    disabled: {
        set: function (value) {
            this.$input.disabled = !!value;
            if (value) {
                this.addClass('disabled');
            }
            else {
                this.removeClass('disabled');
            }
        },
        get: function () {
            return this.$input.disabled;
        }
    }
};

Radio_Radio.getAllByName = function (name) {
    return (Array.apply(null, document.getElementsByTagName('input')) || []).filter(function (elt) {
        return elt.getAttribute('type') == 'radio' && elt.getAttribute('name') == name;
    });
};

Radio_Radio.getValueByName = function (name) {
    var inputs = Radio_Radio.getAllByName(name);
    var res = null;
    var input;
    for (var i = 0; i < inputs.length; ++i) {
        input = inputs[i];
        if (input.checked) {
            res = input.value;
        }
    }
    return res;
};


ACore["a" /* default */].install(Radio_Radio);

/* harmony default export */ var js_Radio = (Radio_Radio);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/RemoteSvg.js



var RemoteSvg_ = ACore["a" /* default */]._;
var RemoteSvg_$ = ACore["a" /* default */].$;


function RemoteSvg() {

}

RemoteSvg.tag = 'RemoteSvg'.toLowerCase();

RemoteSvg.render = function () {
    return RemoteSvg_('svg').defineEvent('load');
};

RemoteSvg.property = {
    src: {
        set: function (value) {
            this._src = value;
            var self = this;
            RemoteSvg.loadIcon(value).then(function (data) {
                self.emit('load', { target: self, src: value, data: data }, self);
                self.attr(data.attr);
                self.init(data.props);
            });
        },
        get: function () {
            return this._name;
        }
    }
};


RemoteSvg.attribute = {
    src: {
        set: function (value) {

        },
        get: function () {

        },
        remove: function () {

        }
    }
};

RemoteSvg.__cache__ = {};

RemoteSvg.__div_parser__ = document.createElement('div');

RemoteSvg.loadIcon = function (path) {
    if (RemoteSvg.__cache__[path]) {
        return RemoteSvg.__cache__[path];
    }
    else {
        RemoteSvg.__cache__[path] = Network_XHR.getRequest(path, 'text').then(function (result) {
            RemoteSvg.__div_parser__.innerHTML = result;

            var svgElt = RemoteSvg_$('svg', RemoteSvg.__div_parser__);
            var res = {
                attr: {},
                props: {}
            };
            if (svgElt) {
                Array.prototype.forEach.call(svgElt.attributes, function (attribute) {
                    res.attr[attribute.name] = attribute.value;
                });
                res.props.innerHTML = svgElt.innerHTML;
            }
            return res;

        }, function () {
            return {};
        });
        return RemoteSvg.__cache__[path];
    }

};


ACore["a" /* default */].install(RemoteSvg);


/* harmony default export */ var js_RemoteSvg = (RemoteSvg);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/resizebox.css
var resizebox = __webpack_require__(135);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/ResizeBox.js





var ResizeBox_ = ACore["a" /* default */]._;
var ResizeBox_$ = ACore["a" /* default */].$;


function ResizeBox() {
    this.on('mousedown', this.eventHandler.mouseDownBody);
    this._mousedownEventData = undefined;
    this._mousemoveEventData = undefined;
    this._lastClickTime = 0;
}

ResizeBox.tag = 'ResizeBox'.toLowerCase();

ResizeBox.render = function () {
    return ResizeBox_({
        class: 'as-resize-box',
        extendEvent: ['beginmove', 'endmove', 'moving', 'click', 'dblclick'],//override click event
        child: {
            class: 'as-resize-box-body',
            child: [
                '.as-resize-box-dot.left-top',
                '.as-resize-box-dot.top',
                '.as-resize-box-dot.right-top',
                '.as-resize-box-dot.right',
                '.as-resize-box-dot.right-bottom',
                '.as-resize-box-dot.bottom',
                '.as-resize-box-dot.left-bottom',
                '.as-resize-box-dot.left'
            ]
        }

    });
};

ResizeBox.eventHandler = {};

ResizeBox.eventHandler.mouseDownBody = function (event) {
    if (EventEmitter["b" /* default */].isMouseRight(event)) return;
    event.preventDefault();
    this._optionNames = event.target.attr('class').match(/body|left|top|right|bottom/g);
    var option = this._optionNames.reduce(function (ac, key) {
        ac[key] = true;
        return ac;
    }, {});

    this._mousedownEventData = {
        clientX: event.clientX,
        clientY: event.clientY,
        target: this,
        originEvent: event,
        prevented: false,
        preventDefault: function () {
            this.prevented = true;
        },
        option: option,
        begin: false,
        type: 'beginmove'
    };

    ResizeBox_$(document.body).on('mousemove', this.eventHandler.mouseMoveBody);
    ResizeBox_$(document.body)
        .on('mouseup', this.eventHandler.mouseFinishBody)
        .on('mouseleave', this.eventHandler.mouseFinishBody);

};

ResizeBox.eventHandler.mouseMoveBody = function (event) {
    if (this._mousedownEventData.option.body && !this.canMove) return;
    if (this._mousedownEventData && !this._mousedownEventData.begin && !this._mousedownEventData.prevented) {
        this.emit('beginmove', this._mousedownEventData, this);
        if (this._mousedownEventData.prevented) {
            ResizeBox_$(document.body).off('mousemove', this.eventHandler.mouseMoveBody);
        }
        else {
            this._mousedownEventData.begin = true;
            ResizeBox_$(document.body)
                .addClass('as-resize-box-overiding')
                .addClass(this._optionNames.join('-'));
        }

    }


    if (this._mousedownEventData.begin) {
        event.preventDefault();
        this._mousemoveEventData = {
            clientX: event.clientX,
            clientY: event.clientY,
            clientX0: this._mousedownEventData.clientX,
            clientY0: this._mousedownEventData.clientY,
            clientDX: event.clientX - this._mousedownEventData.clientX,
            clientDY: event.clientY - this._mousedownEventData.clientY,
            target: this,
            originEvent: event,
            option: this._mousedownEventData.option,
            type: 'moving'
        };

        this.emit('moving', this._mousemoveEventData, this);
    }
};

ResizeBox.eventHandler.mouseFinishBody = function (event) {

    ResizeBox_$(document.body).off('mousemove', this.eventHandler.mouseMoveBody)
        .off('mouseup', this.eventHandler.mouseFinishBody)
        .off('mouseleave', this.eventHandler.mouseFinishBody)
        .removeClass('as-resize-box-overiding')
        .removeClass(this._optionNames.join('-'));
    this._optionNames = undefined;

    if (this._mousedownEventData.begin) {
        this._mousefinishEventData = {
            clientX: event.clientX,
            clientY: event.clientY,
            clientX0: this._mousedownEventData.clientX,
            clientY0: this._mousedownEventData.clientY,
            clientDX: event.clientX - this._mousedownEventData.clientX,
            clientDY: event.clientY - this._mousedownEventData.clientY,
            target: this,
            originEvent: event,
            option: this._mousedownEventData.option,
            type: 'endmove'
        };
        this.emit('endmove', this._mousefinishEventData, this);
    }
    else {
        if (EventEmitter["b" /* default */].hitElement(this, event)) {
            this.emit('click', event, this);
            var now = new Date().getTime();
            if (now - this._lastClickTime < 500) {
                this.emit('dblclick', event, this);
                this._lastClickTime = 0;
            }
            this._lastClickTime = now;
        }
    }
};


ResizeBox.property = {};

ResizeBox.property.canMove = {
    set: function (value) {
        if (value) {
            this.addClass('as-can-move');
        }
        else {
            this.removeClass('as-can-move');
        }
    },
    get: function () {
        return this.containsClass('as-can-move');
    }
};

ResizeBox.property.canResize = {
    set: function (value) {
        if (value) {
            this.addClass('as-can-resize');
        }
        else {
            this.removeClass('as-can-resize');
        }
    },
    get: function () {
        return this.containsClass('as-can-resize');
    }
};

ResizeBox.property.canClick = {
    set: function (value) {
        if (value) {
            this.addClass('as-can-click');
        }
        else {
            this.removeClass('as-can-click');
        }
    },
    get: function () {
        return this.containsClass('as-can-click');
    }
};

ACore["a" /* default */].install(ResizeBox);


/* harmony default export */ var js_ResizeBox = (ResizeBox);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/searcher.css
var searcher = __webpack_require__(137);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Searcher.js





var Searcher_ = ACore["a" /* default */]._;
var Searcher_$ = ACore["a" /* default */].$;


ACore["a" /* default */].creator['find-ico'] = function () {
    var res = Searcher_(
        '<svg class="find" width="100mm" height="100mm" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">' +
        ' <g transform="matrix(-1 0 0 1 99.478 -193.73)">' +
        '  <path d="m62.128 199.18c-18.859 0-34.148 15.289-34.148 34.148 0 5.4138 1.26 10.533 3.5026 15.081 0.6886 1.3965 1.4698 2.7392 2.3357 4.02-1.9962 2.1685-31.467 31.596-31.404 33.295 0.21757 5.8346 4.9404 8.7289 9.464 7.855 1.3264-0.25627 30.938-30.639 31.774-31.529 1.3906 0.89633 2.8508 1.6948 4.3702 2.3848 4.2995 1.9526 9.0756 3.04 14.105 3.04 18.859 0 34.147-15.288 34.147-34.147 3e-6 -18.859-15.288-34.148-34.147-34.148zm0.49444 8.2454a26.067 26.067 0 0 1 26.068 26.067 26.067 26.067 0 0 1-26.068 26.068 26.067 26.067 0 0 1-26.067-26.068 26.067 26.067 0 0 1 26.067-26.067z"/>' +
        ' </g>' +
        '</svg>'
    );
    return res;
};


ACore["a" /* default */].creator['times-circle-ico'] = function () {
    var res = Searcher_(
        '<svg class="times" width="100mm" height="100mm" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\
            <g transform="translate(0,-197)">\
                <path d="m49.979 236.2-14.231-14.231-10.696 10.696 14.257 14.257-14.351 14.351 10.737 10.737 14.292-14.292 14.292 14.292 10.761-10.761-14.257-14.257 14.316-14.316-10.725-10.725zm50.021 10.804a50 50 0 0 1-50 50 50 50 0 0 1-50-50 50 50 0 0 1 50-50 50 50 0 0 1 50 50z" />\
            </g>\
        </svg>'
    );
    return res;
};


/**
 * @extends {AElement}
 * @constructor
 */
function SearchTextInput() {
    var thisSTI = this;
    this.defineEvent(['change', 'modify', 'stoptyping']);

    this.eventHandler = OOP["a" /* default */].bindFunctions(this, SearchTextInput.eventHandler);
    this.$button = Searcher_$('button', this);
    this.$input = Searcher_$('input', this);

    ['keyup', 'keydown', 'focus', 'blur'].forEach(function (evName){
        thisSTI.defineEvent(evName);
        thisSTI.$input.on(evName, function (event){
            thisSTI.emit(evName, event, thisSTI);
        });
    });

    this.$input.on('change', this.eventHandler.inputChange);
    this.$input.on('keyup', this.eventHandler.inputKeyUp);

    this.$button.on('click', function (event) {
        thisSTI.$input.value = '';
        thisSTI.eventHandler.inputKeyUp(event);
        setTimeout(function () {
            thisSTI.focus();
        }, 50);
    });
}

SearchTextInput.tag = 'SearchTextInput'.toLowerCase();

SearchTextInput.render = function () {
    return Searcher_(
        {
            class: 'absol-search-text-input',
            child: [
                {
                    class: 'absol-search-text-input-container',
                    child: {
                        tag: 'input',
                        attr: {
                            type: 'search',
                            placeholder: 'search...'
                        }
                    }
                },
                {
                    class: 'absol-search-text-button-container',
                    child: {
                        tag: 'button',
                        child: ['find-ico', 'times-circle-ico']
                    }
                }
            ]
        }
    );
};


SearchTextInput.property = {
    value: {
        set: function (value) {
            value = value || '';
            this.$input.value = value;
            this._lastTextModified = value;
            if (this.value.length > 0) {
                this.addClass('searching');
            }
            else {
                this.removeClass('searching');
            }
        },
        get: function () {
            return this.$input.value;
        }
    },
    placeholder: {
        set: function (value) {
            this.$input.attr('placeholder', value);
        },
        get: function () {
            return this.$placeholder.getAttribute('placeholder');
        }
    }
};

SearchTextInput.prototype.focus = function () {
    this.$input.focus();
};

SearchTextInput.prototype.blur = function () {
    this.$input.blur();
};


SearchTextInput.eventHandler = {};
SearchTextInput.eventHandler.inputChange = function (event) {
    event.value = this.value;
    if (typeof this.onchange == 'function') {
        this.onchange(event, this);
    }
    this.emit('change', event);
};

SearchTextInput.eventHandler.inputKeyUp = function (event) {
    if (this._lastTextModified != this.value) {
        if (this.value.length > 0) {
            this.addClass('searching');
        }
        else {
            this.removeClass('searching');
        }
        event.value = this.value;
        if (typeof this.onchange == 'function') {
            this.onchange(event, this);
        }
        this.emit('modify', event);
        if (this._updateTimeOut !== undefined) {
            clearTimeout(this._updateTimeOut);
            this._updateTimeOut = undefined;
        }
        this._updateTimeOut = setTimeout(function () {
            this.emit('stoptyping', event);
        }.bind(this), 500);
        this._lastTextModified = this.value;
    }
};


ACore["a" /* default */].creator.searchcrosstextinput = function () {
    var res = Searcher_('searchtextinput', true);
    return res;
};

ACore["a" /* default */].creator.searchtextinput = SearchTextInput;

/* harmony default export */ var Searcher = (SearchTextInput);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/selectbox.css
var selectbox = __webpack_require__(139);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/selectmenu.css
var selectmenu = __webpack_require__(30);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/selectlistbox.css
var selectlistbox = __webpack_require__(142);

// CONCATENATED MODULE: ./node_modules/absol/src/String/stringMatching.js
/**
 *
 * @param {String} a
 * @param {String} b
 */



function wordLike(a, b) {
    var m = a.length;
    var n = b.length;

    function map(i, j) {
        return i * (n + 1) + j;
    }
    var Q = Array((m + 1) * (n + 1)).fill(0);

    for (var i = 0; i < m; ++i)
        for (var j = 0; j < n; ++j)
            if (a.charAt(i) == b.charAt(j)) {
                if (Q[map(i + 1, j + 1)]) {
                    if (Q[map(i + 1, j + 1)] < Q[map(i, j)] + 1)
                        Q[map(i + 1, j + 1)] = Q[map(i, j)] + 1;
                }
                else
                    Q[map(i + 1, j + 1)] = Q[map(i, j)] + 1;
            }
            else
                Q[map(i + 1, j + 1)] = Math.max(Q[map(i + 1, j)], Q[map(i, j + 1)]);

    return Q[map(m, n)] / harmonicMean(m, n);
}

/**
 *
 * @param {Array<String>} sq1
 * @param {Array<String>} sq2
 */
function wordsMatch(sq1, sq2, matchWordPow) {
    matchWordPow = matchWordPow === undefined ? 1 : matchWordPow;

    var m = sq1.length;
    var n = sq2.length;
    function map(i, j) {
        return i * (n + 1) + j;
    }
    var Q = Array((m + 1) * (n + 1)).fill(0);
    var e = 0.0;
    for (var i = 0; i < m; ++i)
        for (var j = 0; j < n; ++j) {
            e = Math.pow(wordLike(sq1[i], sq2[j]), matchWordPow);

            if (Q[map(i + 1, j + 1)]) {
                if (Q[map(i + 1, j + 1)] < Q[map(i, j)] + e)
                    Q[map(i + 1, j + 1)] = Q[map(i, j)] + e;

            }
            else
                Q[map(i + 1, j + 1)] = Q[map(i, j)] + e;

            e = Math.max(Q[map(i + 1, j)], Q[map(i, j + 1)]);
            if (e > Q[map(i + 1, j + 1)]) Q[map(i + 1, j + 1)] = e;

        }

    return Q[map(m, n)];
}


function phraseMatch(a, b, matchWordPow) {
    matchWordPow = matchWordPow || 1;
    var spliter = /[\s,-\.+?\_]+/;
    var notEmp = function (e) {
        return e.length > 0;
    };
    var sq1 = a.toLowerCase().split(spliter).filter(notEmp);
    var sq2 = b.toLowerCase().split(spliter).filter(notEmp);
    var wordsMatchScore = wordsMatch(sq1, sq2);
    var m = sq1.length;
    var n = sq2.length;
    return wordsMatchScore / Math.max(harmonicMean(m, n), 1);
};

function phraseLike(a, b, matchWordPow) {
    matchWordPow = matchWordPow || 1;
    var spliter = /[\s,-\.+?\_]+/;
    var notEmp = function (e) {
        return e.length > 0;
    };
    var sq1 = a.toLowerCase().split(spliter).filter(notEmp);
    var sq2 = b.toLowerCase().split(spliter).filter(notEmp);
    var m = sq1.length;
    var n = sq2.length;
    var wordsMatchScore = wordsMatch(sq1, sq2);
    return wordsMatchScore / Math.max(harmonicMean(m, n), 1);
}


// CONCATENATED MODULE: ./node_modules/absol-acomp/js/list/search.js



var EXTRA_MATCH_SCORE = 7;
var UNCASE_MATCH_SCORE = 4;
var UVN_MATCH_SCORE = 3;
var EQUAL_MATCH_SCORE = 4;
var WORD_MATCH_SCORE = 3;

/***
 *
 * @param {SelectionItem} item
 * @returns {*}
 */
function prepareSearchForItem(item) {
    if (!item.text || !item.text.charAt) item.text = item.text + '';
    var spliter = /\s+/;
    item.__text__ = item.text.replace(/([\s\b\-()\[\]]|&#8239;|&nbsp;|&#xA0;|\s)+/g, ' ').trim();
    item.__words__ = item.__text__.split(spliter);

    item.__textNoneCase__ = item.__text__.toLowerCase();
    item.__wordsNoneCase__ = item.__textNoneCase__.split(spliter);


    item.__nvnText__ = nonAccentVietnamese(item.__text__);
    item.__nvnWords__ = item.__nvnText__.split(spliter);

    item.__nvnTextNoneCase__ = item.__nvnText__.toLowerCase();
    item.__nvnWordsNoneCase__ = item.__nvnTextNoneCase__.split(spliter);
    return item;
}

function prepareSearchForList(items) {
    var item;
    for (var i = 0; i < items.length; ++i) {
        if (typeof items[i] == 'string') {
            items[i] = { text: items[i], value: items[i] };
        }
        item = items[i];
        prepareSearchForItem(item);
        if (item.items) prepareSearchForList(item.items);
    }
    return items;
}

function calcItemMatchScore(queryItem, item) {
    var score = 0;
    if (item.__text__ == queryItem.__text__)
        score += EQUAL_MATCH_SCORE * queryItem.__text__.length;

    var extraIndex = item.__text__.indexOf(queryItem.__text__);

    if (extraIndex >= 0) {
        score += EXTRA_MATCH_SCORE * queryItem.__text__.length - extraIndex / item.__text__.length;
    }

    extraIndex = item.__textNoneCase__.indexOf(queryItem.__textNoneCase__);
    if (extraIndex >= 0) {
        score += UNCASE_MATCH_SCORE * queryItem.__text__.length - extraIndex / item.__text__.length;
    }

    extraIndex = item.__nvnTextNoneCase__.indexOf(queryItem.__nvnTextNoneCase__);
    if (extraIndex >= 0) {
        score += UNCASE_MATCH_SCORE * queryItem.__text__.length - extraIndex / item.__text__.length;
    }

    score += wordsMatch(queryItem.__nvnWordsNoneCase__, item.__nvnWordsNoneCase__) / (queryItem.__nvnWordsNoneCase__.length + 1 + item.__nvnWordsNoneCase__.length) * 2 * WORD_MATCH_SCORE;
    score += wordsMatch(queryItem.__wordsNoneCase__, item.__wordsNoneCase__) / (queryItem.__wordsNoneCase__.length + 1 + item.__wordsNoneCase__.length) * 2 * WORD_MATCH_SCORE;
    return score;
}

/***
 *
 * @param  {String} query
 * @param {Array<SelectionItem>} items
 */
function searchListByText(query, items) {
    query = (query || '').trim();
    if (query.length == 0 || items.length == 0)
        return items;
    var queryItem = prepareSearchForItem({ text: query });
    var its = items.map(function (item) {
        return {
            item: item,
            score: calcItemMatchScore(queryItem, item)
        }
    });
    its.sort(function (a, b) {
        if (b.score - a.score == 0) {
            if (b.item.__nvnText__ > a.item.__nvnText__) return -1
            return 1;
        }
        return b.score - a.score;
    });
    var midValue = (its[0].score + its[its.length - 1].score) / 2;
    if (midValue === 0) midValue += 0.1;
    if (midValue < 1) midValue = 1;
    return its.filter(function (it) {
        return it.score >= midValue;
    }).map(function (it) {
        return it.item;
    });
}

/***
 *
 * @param  {String} query
 * @param {Array<SelectionItem>} items
 */
function searchTreeListByText(query, items) {
    query = (query || '').trim();
    if (query.length == 0 || items.length == 0)
        return items;
    var queryItem = prepareSearchForItem({ text: query });
    var gmaxScore = 0;
    var gminScore = 1000;

    function makeScoreRecursive(item) {
        var score = calcItemMatchScore(queryItem, item);
        gmaxScore = Math.max(score, gmaxScore);
        gminScore = Math.min(score, gminScore);

        var children = (item.items || []).map(function (item) {
            return makeScoreRecursive(item);
        });

        var maxScore = children.reduce(function (ac, cr) {
            return Math.max(ac, cr.maxScore);
        }, score);

        return {
            score: score,
            maxScore: maxScore,
            item: item,
            children: children
        }
    }

    function sortcmp(a, b) {
        return b.maxScore - a.maxScore;
    }

    function filterItems(nodes, medScore) {
        nodes.sort(sortcmp);
        return nodes.filter(function (node) {
            return node.maxScore >= medScore;
        }).map(function (node) {
            var res;
            if (typeof node.item == 'string') {
                res = node.item;
            }
            else {
                res = Object.assign({}, node.item);
                if (node.children && node.children.length > 0) {
                    res.items = filterItems(node.children, medScore);
                    if (res.items.length == 0) delete res.items;
                }
            }
            return res;
        });
    }

    var scoredItems = items.map(makeScoreRecursive);
    var medianScore = (gminScore + gmaxScore) / 2;
    var items = filterItems(scoredItems, medianScore);
    return items;
}


// CONCATENATED MODULE: ./node_modules/absol-acomp/js/SelectListBox.js








var SelectListBox_ = ACore["a" /* default */]._;
var SelectListBox_$ = ACore["a" /* default */].$;
var SelectListBox_$$ = ACore["a" /* default */].$$;

var VALUE_HIDDEN = -1;
var VALUE_NORMAL = 1;

/***
 * @extends Follower
 * @constructor
 */
function SelectListBox() {
    this._initDomHook();
    this._initControl();
    this._initScroller();
    this._initProperty();
}

SelectListBox.tag = 'SelectListBox'.toLowerCase();

SelectListBox.render = function () {
    return SelectListBox_({
        tag: 'follower',
        attr:{
          tabindex:0
        },
        class: 'as-select-list-box',
        extendEvent: ['pressitem'],
        child: [
            {
                class: 'as-select-list-box-search-ctn',
                child: 'searchtextinput'
            },
            {
                class: ['as-bscroller', 'as-select-list-box-scroller'],
                child: [
                    {
                        class: ['as-select-list-box-content'],
                        child: Array(SelectListBox.prototype.preLoadN).fill('.as-select-list-box-page')
                    }
                ]
            },
            'attachhook.as-dom-signal'
        ]
    });
};

SelectListBox.prototype.toLoadNextY = 200;

SelectListBox.prototype.preLoadN = 3;


SelectListBox.prototype._initDomHook = function () {
    this.$domSignal = SelectListBox_$('attachhook.as-dom-signal', this);
    this.domSignal = new HTML5_DomSignal(this.$domSignal);
    this.domSignal.on('viewListAt', this.viewListAt.bind(this));
    this.domSignal.on('viewListAtFirstSelected', this.viewListAtFirstSelected.bind(this));
    this.domSignal.on('viewListAtCurrentScrollTop', this.viewListAtCurrentScrollTop.bind(this));
};

SelectListBox.prototype._initControl = function () {
    this._currentOffset = 0;
    this._startItemIdx = 0;
    this.$searchInput = SelectListBox_$('searchtextinput', this)
        .on('stoptyping', this.eventHandler.searchModify);
};


SelectListBox.prototype._initScroller = function () {
    this.$content = SelectListBox_$('.as-select-list-box-content', this);
    this._estimateHeight = 0;
    this._pageOffsets = Array(this.preLoadN + 1).fill(0);
    this.$listPages = SelectListBox_$$('.as-select-list-box-page', this);
    this.$listScroller = SelectListBox_$('.as-select-list-box-scroller', this)
        .on('scroll', this.eventHandler.scroll);
};


SelectListBox.prototype._initProperty = function () {

    /***
     *   items  =(search, filler)=> filteredItems =(list to list, tree to list)=>  preDisplayItems =(remove hidden item)=> displayItem
     *
     */

    this._items = [];
    this._itemNodeList = [];// use for tree
    this._values = [];
    this._valueDict = {};
    this._itemNodeHolderByValue = {};
    // this._filteredItems = [];// not need , only use when search
    this._preDisplayItems = [];
    this._displayItems = [];
    this._searchCache = {};
    this._displayValue = VALUE_NORMAL;
    this.displayValue = VALUE_NORMAL;
    this.items = [];
};


SelectListBox.prototype._requireItem = function (pageElt, n) {
    var itemElt;
    while (pageElt.childNodes.length > n) {
        itemElt = pageElt.lastChild;
        itemElt.selfRemove();
        releaseItem(itemElt);
    }
    while (pageElt.childNodes.length < n) {
        itemElt = requireItem(this);
        pageElt.addChild(itemElt);
    }
};


SelectListBox.prototype._assignItems = function (pageElt, offset) {
    var n = Math.min(this._displayItems.length - offset, pageElt.childNodes.length);
    var itemElt, value;
    for (var i = 0; i < n; ++i) {
        itemElt = pageElt.childNodes[i];
        itemElt.data = this._displayItems[offset + i];
        value = itemElt.value + '';
    }
};


SelectListBox.prototype._itemsToNodeList = function (items) {
    return items;
};


/***
 *
 * @param {Array<{value:String|Number}>} items
 * @return {Array<{value:String|Number}>}
 */
SelectListBox.prototype._filterDisplayItems = function (items) {
    if (this._displayValue === VALUE_NORMAL) return items;
    var dict = this._valueDict;
    return items.filter(function (item) {
        return !dict[item.value + ''];
    });
};


SelectListBox.prototype._updateSelectedItem = function () {
    var valueDict = this._valueDict;
    this.$listPages.forEach(function (pageElt) {
        Array.prototype.forEach.call(pageElt.childNodes, function (itemElt) {
            var value = itemElt.value + '';
            if (valueDict[value]) {
                itemElt.selected = true;
            }
            else {
                itemElt.selected = false;
            }
        });
    });
};

/***
 *
 * @param {number} offset
 */
SelectListBox.prototype.viewListAt = function (offset) {
    if (!this.isDescendantOf(document.body)) {
        this.domSignal.emit('viewListAt', offset);
        return;
    }
    var fontSize = this.$listScroller.getFontSize() || 14;
    offset = Math.max(0, Math.min(offset, this._displayItems.length - 1));
    var screenSize = Object(HTML5_Dom["b" /* getScreenSize */])();
    var maxItem = Math.ceil(Math.max(window.screen.height, screenSize.height) / 20);
    var contentBound = this.$content.getBoundingClientRect();

    this._pageOffsets[0] = Math.max(offset - maxItem, 0);
    for (var i = 1; i <= this.preLoadN; ++i) {
        this._pageOffsets[i] = Math.min(this._pageOffsets[i - 1] + maxItem, this._displayItems.length);
    }

    var sIdx, nItem, pageBound;
    var pageElt;
    for (var pageIndex = 0; pageIndex < this.preLoadN; ++pageIndex) {
        sIdx = this._pageOffsets[pageIndex];
        nItem = this._pageOffsets[pageIndex + 1] - sIdx;
        pageElt = this.$listPages[pageIndex];


        pageElt.addStyle('top', this._pageOffsets[pageIndex] * 20 + 'px');
        this._requireItem(pageElt, nItem);
        this._assignItems(pageElt, sIdx);
        pageBound = pageElt.getBoundingClientRect();
    }
    this._updateSelectedItem();
};


SelectListBox.prototype.viewListAtFirstSelected = function () {
    if (!this.isDescendantOf(document.body)) {
        this.domSignal.emit('viewListAtFirstSelected');
        return;
    }
    if (this._displayValue == VALUE_HIDDEN) {
        return false;
    }
    else if (this._values.length > 0) {
        var value = this._values[0];
        var itemHolders = this._displayItemHolderByValue[value + ''];
        if (itemHolders) {
            this.domSignal.once('scrollIntoSelected', function () {
                var holder = itemHolders[0];
                this.viewListAt(holder.idx);
                var itemElt = SelectListBox_$('.as-selected', this.$listScroller);
                if (itemElt) {
                    var scrollBound = this.$listScroller.getBoundingClientRect();
                    var itemBound = itemElt.getBoundingClientRect();
                    this.$listScroller.scrollTop += itemBound.top - scrollBound.top;
                }
            }.bind(this));
            this.domSignal.emit('scrollIntoSelected');
            return true;
        }
        else return false;
    }
    else
        return false;
};

SelectListBox.prototype.viewListAtCurrentScrollTop = function () {
    if (!this.isDescendantOf(document.body)) {
        this.emit('viewListAtCurrentScrollTop');
        return;
    }
    this.viewListAt(Math.floor(this.$listScroller.scrollTop / 20));
};


SelectListBox.prototype.searchItemByText = function (text) {
    text = text.trim();
    if (text.length == 0) return this._items;
    if (this._searchCache[text]) return this._searchCache[text];
    this._searchCache[text] = searchListByText(text, this._items);
    return this._searchCache[text];
};

SelectListBox.prototype.resetSearchState = function () {
    this.$searchInput.value = '';
    this._preDisplayItems = this._itemsToNodeList(this._items);
    this._updateDisplayItem();
    this.domSignal.emit('viewListAt', 0);
    this.$listScroller.scrollTop = 0;
};

SelectListBox.prototype.notifyPressOut = function () {
    this.emit('pressout', { target: this, type: 'pressout' }, this);
};

SelectListBox.prototype.notifyPressClose = function () {
    this.emit('pressclose', { target: this, type: 'pressclose' }, this);
};

SelectListBox.prototype._findFirstPageIdx = function () {
    for (var i = 0; i < this.preLoadN; ++i) {
        if (this._pageOffsets[i + 1] - this._pageOffsets[i] > 0) {
            return i;
        }
    }
    return -1;
};

SelectListBox.prototype._findLastPageIdx = function () {
    for (var i = this.preLoadN - 1; i >= 0; --i) {
        if (this._pageOffsets[i + 1] - this._pageOffsets[i] > 0) {
            return i;
        }
    }
    return -1;
};

SelectListBox.prototype._indexingByValue = function (items) {
    return items.reduce(function (ac, cr, idx) {
        var value = typeof cr === "string" ? cr : cr.value + '';
        ac[value] = ac[value] || [];
        ac[value].push({
            idx: idx,
            item: cr
        });
        return ac;
    }, {});
};

SelectListBox.prototype._updateDisplayItemIndex = function () {
    this._displayItemHolderByValue = this._indexingByValue(this._displayItems);
};

SelectListBox.prototype._updateItemNodeIndex = function () {
    this._itemNodeHolderByValue = this._indexingByValue(this._items)
};

SelectListBox.prototype._updateDisplayItem = function () {
    this._displayItems = this._filterDisplayItems(this._preDisplayItems);
    this._updateDisplayItemIndex();
    this.$content.addStyle({
        'height': this._displayItems.length * 20 + 'px'
    });

};


SelectListBox.prototype._updateItems = function () {
    this._preDisplayItems = this._itemsToNodeList(this._items);
    this._searchCache = {};
    var estimateSize = measureListSize(this._itemNodeList);
    this._estimateSize = estimateSize;
    this._estimateWidth = estimateSize.width;
    this._estimateDescWidth = estimateSize.descWidth;
    this.addStyle('--select-list-estimate-width',estimateSize.width +'px');
    this.addStyle('--select-list-desc-width', estimateSize.descWidth + 'px')
    this._updateDisplayItem();
};

/***
 *
 * @param value
 * @returns {{idx: number, item:{text:string, value:number|string}}[]}
 */
SelectListBox.prototype.findDisplayItemsByValue = function (value) {
    return (this._displayItemHolderByValue[value] || []).slice();
};

/***
 *
 * @param value
 * @returns {{idx: number, item:{text:string, value:number|string}}[]}
 */
SelectListBox.prototype.findItemsByValue = function (value) {
    return (this._itemNodeHolderByValue[value] || []).slice();
};

SelectListBox.property = {};

/***
 *
 * @type {SelectListBox|{}}
 */
SelectListBox.property.items = {
    set: function (items) {
        items = items || [];
        prepareSearchForList(items);
        this._items = items;
        this._itemNodeList = this._itemsToNodeList(this._items);
        this._updateItemNodeIndex();
        this._updateItems();
        this.viewListAt(0);
    },
    get: function () {
        return this._items;
    }
}


SelectListBox.property.values = {
    set: function (values) {
        values = values || [];
        this._values = values;
        this._valueDict = values.reduce(function (ac, cr) {
            ac[cr + ''] = true;
            return ac;
        }, {});
        this._updateDisplayItem();
        this.viewListAtCurrentScrollTop();
        //todo
        if (this._pageOffsets[this.preLoadN] > this._pageOffsets[0]) this._updateSelectedItem();
    },
    get: function () {
        return this._values;
    }
};

SelectListBox.property.displayValue = {
    set: function (value) {
        this._displayValue = value;
        this._displayItems = this._filterDisplayItems(this._preDisplayItems);
        this._updateItemNodeIndex();
        if (value === VALUE_HIDDEN) {
            this.addClass('as-value-hidden');
        }
        else {
            this.removeClass('as-value-hidden');
        }
    },
    get: function () {
        return this._displayValue;
    }
}

SelectListBox.property.enableSearch = {
    set: function (value) {
        if (value) this.addClass('as-enable-search');
        else this.removeClass('as-enable-search');
    },
    get: function () {
        return this.containsClass('as-enable-search');
    }
};

/***
 *
 * @type {SelectListBox|{}}
 */
SelectListBox.eventHandler = {};


/*
*
* @param {MouseEvent} event
*/
SelectListBox.eventHandler.click = function (event) {
    if (event.target === this)
        this.notifyPressOut();
};

SelectListBox.eventHandler.searchModify = function () {
    var text = this.$searchInput.value;
    var searchedItems = this.searchItemByText(text);
    this._preDisplayItems = this._itemsToNodeList(searchedItems);
    this._displayItems = this._filterDisplayItems(this._preDisplayItems);
    this.$content.addStyle({
        'height': this._displayItems.length * 20 + 'px'
    });
    this._updateItemNodeIndex();
    this.viewListAt(0);
    this.$listScroller.scrollTop = 0;
    this.updatePosition();
};


SelectListBox.eventHandler.scroll = function () {
    var scrollerBound = this.$listScroller.getBoundingClientRect();
    var topIdx = this._findFirstPageIdx();
    var screenSize = Object(HTML5_Dom["b" /* getScreenSize */])();
    var maxItem = Math.ceil(Math.max(window.screen.height, screenSize.height) / 20);
    var topBound = this.$listPages[topIdx].getBoundingClientRect();
    var botIdx = this._findLastPageIdx();
    var botBound;
    botBound = this.$listPages[botIdx].getBoundingClientRect();
    if (topBound.top > scrollerBound.top || topBound.bottom < scrollerBound.bottom) {
        this.viewListAt(Math.floor(this.$listScroller.scrollTop / 20))
        return;
    }

    if (this._pageOffsets[topIdx] > 0) {
        if (topBound.top + this.toLoadNextY > scrollerBound.top) {
            this._pageOffsets.unshift(this._pageOffsets.pop());
            this.$listPages.unshift(this.$listPages.pop());
            this._pageOffsets[topIdx] = Math.max(0, this._pageOffsets[topIdx + 1] - maxItem);

            this._requireItem(this.$listPages[topIdx], this._pageOffsets[topIdx + 1] - this._pageOffsets[topIdx]);
            this._assignItems(this.$listPages[topIdx], this._pageOffsets[topIdx]);
            this._updateSelectedItem();
            this.$listPages[topIdx].addStyle('top', this._pageOffsets[topIdx] * 20 + 'px');
        }
    }

    if (this._pageOffsets[botIdx + 1] < this._displayItems.length) {
        if (botBound.bottom - this.toLoadNextY < scrollerBound.bottom) {
            this._pageOffsets.push(this._pageOffsets.shift());
            this.$listPages.push(this.$listPages.shift());
            this._pageOffsets[botIdx + 1] = Math.min(this._displayItems.length, this._pageOffsets[botIdx] + maxItem);
            this.$listPages[botIdx].addStyle('top', this._pageOffsets[botIdx] * 20 + 'px');
            this._requireItem(this.$listPages[botIdx], this._pageOffsets[botIdx + 1] - this._pageOffsets[botIdx]);
            this._assignItems(this.$listPages[botIdx], this._pageOffsets[botIdx]);
            this._updateSelectedItem();
        }
    }
}
;

ACore["a" /* default */].install(SelectListBox);

/* harmony default export */ var js_SelectListBox = (SelectListBox);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/SelectMenu2.js










/*global absol*/
var SelectMenu2_ = ACore["a" /* default */]._;
var SelectMenu2_$ = ACore["a" /* default */].$;

ACore["a" /* default */].creator['dropdown-ico'] = function () {
    return SelectMenu2_([
        '<svg class="dropdown" width="100mm" height="100mm" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">',
        '<g transform="translate(0,-197)">',
        '<path d="m6.3152 218.09a4.5283 4.5283 0 0 0-3.5673 7.3141l43.361 55.641a4.5283 4.5283 0 0 0 7.1421 7e-3l43.496-55.641a4.5283 4.5283 0 0 0-3.5673-7.3216z" />',
        '</g>',
        '</svg>'
    ].join(''));
};


/***
 * @extends AElement
 * @constructor
 */
function SelectMenu() {
    var thisSM = this;
    this._items = [];
    this._value = null;
    this._lastValue = null;
    this.$holderItem = SelectMenu2_$('.absol-selectmenu-holder-item', this);
    this.$viewItem = SelectMenu2_$('.absol-selectmenu-holder-item selectlistitem', this);
    /***
     *
     * @type {SelectListBox}
     */
    this.$selectlistBox = SelectMenu2_({
        tag: 'selectlistbox',
        props: {
            anchor: [1, 6, 2, 5]
        },
        on: {
            preupdateposition: this.eventHandler.preUpdateListPosition
        }
    });
    this.$selectlistBox.on('pressitem', this.eventHandler.selectListBoxPressItem);
    this.$selectlistBox.followTarget = this;
    OOP["a" /* default */].drillProperty(this, this.$selectlistBox, 'enableSearch');


    this._lastValue = "NOTHING_VALUE";
    this._isFocus = false;
    this.isFocus = false;

    this.on('mousedown', this.eventHandler.click, true);

}

SelectMenu.tag = 'selectmenu';
SelectMenu.render = function () {
    return SelectMenu2_({
        class: ['absol-selectmenu', 'as-select-menu'],
        extendEvent: ['change'],
        attr: {
            tabindex: '1'
        },
        child: [
            {
                class: 'absol-selectmenu-holder-item',
                child: 'selectlistitem'
            },
            {
                tag: 'button',
                class: 'absol-selectmenu-btn',
                child: ['dropdown-ico']
            }
        ]
    });
};


SelectMenu.prototype.init = function (props) {
    props = props || {};
    Object.keys(props).forEach(function (key) {
        if (props[key] === undefined) delete props[key];
    });

    if (!('value' in props)) {
        if (props.items && props.items.length > 0) props.value = typeof props.items[0] == 'string' ? props.items[0] : props.items[0].value;
    }
    var value = props.value;
    delete props.value;
    this.super(props);
    this.value = value;
};


SelectMenu.prototype.updateItem = function () {
    var selectedItems = this.$selectlistBox.findDisplayItemsByValue(this._value);
    if (selectedItems.length >= 1) {
        this.$viewItem.data = selectedItems[0].item;
    }
    else {
        this.$viewItem.data = { text: '', value: null }
    }
};

SelectMenu.property = {};
SelectMenu.property.items = {
    set: function (items) {
        this.$selectlistBox.items = items || [];
        this.addStyle('--select-list-estimate-width', this.$selectlistBox._estimateWidth + 'px');
        this.addStyle( '--select-list-desc-width', this.$selectlistBox._estimateDescWidth + 'px');

        if (items.length == 0) return;
        var selectedItems = this.$selectlistBox.findDisplayItemsByValue(this._value);
        if (selectedItems.length === 0) {
            this.value = items[0].value;
        }
        else if (selectedItems.length > 1) {
            console.warn(this, 'has duplicate item value');
        }
        else {
            this.updateItem();
        }
    },
    get: function () {
        return this.$selectlistBox.items;
    }
};

SelectMenu.property.value = {
    set: function (value) {
        this.$selectlistBox.values = [value];
        this._lastValue = value;
        this._value = value;
        this.updateItem();
    },
    get: function () {
        return this._value;
        //todo
    }
};

/***
 *
 * @type {SelectMenu|{}}
 */
SelectMenu.property.isFocus = {
    set: function (value) {
        var thisSM = this;
        if (!this.items || this.items.length === 0) value = false;//prevent focus
        if (this._isFocus === value) return;
        this._isFocus = !!value;
        if (this._isFocus) {
            document.body.appendChild(this.$selectlistBox);
            this.$selectlistBox.domSignal.$attachhook.emit('attached');
            var bound = this.getBoundingClientRect();
            this.$selectlistBox.addStyle('min-width', bound.width + 'px');
            this.$selectlistBox.refollow();
            this.$selectlistBox.updatePosition();
            setTimeout(function () {
                if (thisSM.enableSearch) {
                    thisSM.$selectlistBox.$searchInput.focus();
                }
                else {
                    thisSM.$selectlistBox.focus();
                }
                SelectMenu2_$(document.body).on('click', thisSM.eventHandler.bodyClick);
            }, 100);
            this.$selectlistBox.viewListAtFirstSelected();
        }
        else {
            SelectMenu2_$(document.body).off('click', thisSM.eventHandler.bodyClick);
            this.$selectlistBox.selfRemove();
            this.$selectlistBox.unfollow();
            this.$selectlistBox.resetSearchState();
        }
    },
    get: function () {
        return this._isFocus;
    }
};


SelectMenu.property.disabled = {
    set: function (value) {
        if (value) {
            this.addClass('as-disabled');
        }
        else {
            this.removeClass('as-disabled');
        }
    },
    get: function () {
        return this.containsClass('as-disabled');
    }
};


SelectMenu.property.hidden = {
    set: function (value) {
        if (value) {
            this.addClass('as-hidden');
        }
        else {
            this.removeClass('as-hidden');
        }
    },
    get: function () {
        return this.addClass('as-hidden');
    }
};

SelectMenu.property.selectedIndex = {
    get: function () {
        var selectedItems = this.$selectlistBox.findDisplayItemsByValue(this._value);
        if (selectedItems.length > 0) {
            return selectedItems[0].idx;
        }
        return -1;
    }
};

/**
 * @type {SelectMenu|{}}
 */
SelectMenu.eventHandler = {};


SelectMenu.eventHandler.click = function (event) {
    if (EventEmitter["b" /* default */].isMouseRight(event)) return;
    if (EventEmitter["b" /* default */].hitElement(this.$selectlistBox, event)) return;
    this.isFocus = !this.isFocus;
};


SelectMenu.eventHandler.bodyClick = function (event) {
    if (!EventEmitter["b" /* default */].hitElement(this, event) && !EventEmitter["b" /* default */].hitElement(this.$selectlistBox, event)) {
        setTimeout(function () {
            this.isFocus = false;
        }.bind(this), 5)
    }
};

SelectMenu.eventHandler.selectListBoxPressItem = function (event) {
    this._value = event.data.value;
    this.$selectlistBox.values = [this._value];
    this.updateItem();
    if (this._lastValue !== this.value) {
        event.lastValue = this._lastValue;
        event.value = this.value;
        setTimeout(function () {
            this.emit('change', event, this);
        }.bind(this), 1)
        this._lastValue = this.value;

    }
    setTimeout(function () {
        this.isFocus = false;
    }.bind(this), 50)
};

SelectMenu.eventHandler.preUpdateListPosition = function () {
    var bound = this.getBoundingClientRect();
    var screenSize = Object(HTML5_Dom["b" /* getScreenSize */])();
    var availableTop = bound.top - 5;
    var availableBot = screenSize.height - 5 - bound.bottom;
    this.$selectlistBox.addStyle('--max-height', Math.max(availableBot, availableTop) + 'px');
    var outBound = Object(HTML5_Dom["d" /* traceOutBoundingClientRect */])(this);
    if (bound.bottom < outBound.top || bound.top > outBound.bottom || bound.right < outBound.left || bound.left > outBound.right) {
        this.isFocus = false;
    }
};


ACore["a" /* default */].install(SelectMenu);

/* harmony default export */ var SelectMenu2 = (SelectMenu);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/SelectBoxItem.js






var SelectBoxItem_ = ACore["a" /* default */]._;
var SelectBoxItem_$ = ACore["a" /* default */].$;


/***
 * @extends AElement
 * @constructor
 */
function SelectBoxItem() {
    this._themeClassName = null;
    this.$text = SelectBoxItem_$('.absol-selectbox-item-text', this);
    this.$close = SelectBoxItem_$('.absol-selectbox-item-close', this);
    this.$close.on('click', this.eventHandler.clickClose);
    this.on('click', this.eventHandler.click);
};

SelectBoxItem.tag = 'SelectBoxItem'.toLowerCase();
SelectBoxItem.render = function () {
    return SelectBoxItem_({
        class: ['absol-selectbox-item'],
        extendEvent: ['close', 'press'],
        child: [
            '.absol-selectbox-item-text',
            {
                class: 'absol-selectbox-item-close',
                child: '<span class="mdi mdi-close"></span>'
            }
        ]
    });
};


SelectBoxItem.eventHandler = {};
SelectBoxItem.eventHandler.clickClose = function (event) {
    this.emit('close', event);
};

SelectBoxItem.eventHandler.click = function (event){
    if (!EventEmitter["b" /* default */].hitElement(this.$close, event)){
        this.emit('press', event, this);
    }
};

SelectBoxItem.property = {};

SelectBoxItem.property.data = {
    set: function (value) {
        this._data = value;
        this.$text.clearChild();
        this.$text.addChild(SelectBoxItem_('<span>' + this.text + '</span>'));
        if (this._themeClassName) this.removeClass(this._themeClassName);
        this._themeClassName = null;
        if (this.theme) {
            this._themeClassName = 'as-theme-' + this.theme;
            this.addClass(this._themeClassName);
        }
    },
    get: function () {
        return this._data;
    }
};

SelectBoxItem.property.text = {
    get: function () {
        if (typeof this._data == 'string')
            return this._data;
        else return this._data.text;
    }
};

SelectBoxItem.property.value = {
    get: function () {
        if (typeof this._data == 'string')
            return this._data;
        else return this._data.value;
    }
};

SelectBoxItem.property.theme = {
    get: function () {
        return this._data.theme || null;
    }
};

SelectBoxItem.property.active = {
    set: function (value) {
        if (value) {
            this.addClass('as-active');
        }
        else {
            this.removeClass('as-active');
        }
    },
    get: function () {
        return this.containsClass('as-active');
    }
};


ACore["a" /* default */].install(SelectBoxItem);

/* harmony default export */ var js_SelectBoxItem = (SelectBoxItem);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/SelectBox.js











var SelectBox_ = ACore["a" /* default */]._;
var SelectBox_$ = ACore["a" /* default */].$;


function pressCloseEventHandler(event) {
    var parentElt = this.$parent;
    if (!parentElt) return;
    var value = this.value;
    var data = this.data;
    var currentValues = parentElt.$selectlistBox.values;
    var index = currentValues.indexOf(value);
    if (index >= 0) {
        currentValues.splice(index, 1);
    }

    parentElt.$selectlistBox.values = currentValues;
    parentElt.$selectlistBox.updatePosition();
    parentElt._updateItems();
    parentElt.emit('remove', Object.assign({}, event, {
        type: 'change',
        target: parentElt,
        data: data,
        value: value,
        itemData: data
    }), parentElt);
    parentElt.emit('change', Object.assign({}, event, {
        type: 'change',
        action: 'remove',
        target: parentElt,
        data: data,
        value: value,
        itemData: data
    }), parentElt);
}

function pressHandler(event) {
    var parentElt = this.$parent;
    if (!parentElt) return;
    var value = this.value;
    if (parentElt.itemFocusable) {
        var prevActiveValue = parentElt.activeValue;
        if (value !== prevActiveValue) {

            parentElt.activeValue = value;
            parentElt.emit('activevaluechange', {
                target: parentElt,
                originEvent: event,
                prevActiveValue: prevActiveValue,
                activeValue: value
            }, parentElt);
        }
    }
}

/***
 *
 * @returns {SelectBoxItem}
 */
function SelectBox_makeItem() {
    return SelectBox_({
        tag: 'selectboxitem',
        on: {
            close: pressCloseEventHandler,
            press: pressHandler
        }
    });
}

var SelectBox_itemPool = [];

function SelectBox_requireItem($parent) {
    var item;
    if (SelectBox_itemPool.length > 0) {
        item = SelectBox_itemPool.pop();
    }
    else {
        item = SelectBox_makeItem();
    }
    item.$parent = $parent;
    return item;
}

function SelectBox_releaseItem(item) {
    item.$parent = null;
    SelectBox_itemPool.push(item);
}


/***
 * @extends PositionTracker
 * @return {SelectBox}
 * @constructor
 */
function SelectBox() {
    this.on('click', this.eventHandler.click);
    this.$selectlistBox = SelectBox_({
        tag: 'selectlistbox',
        props: {
            anchor: [1, 6, 2, 5],
            displayValue: VALUE_HIDDEN
        },
        on: {
            preupdateposition: this.eventHandler.preUpdateListPosition,
            pressitem: this.eventHandler.selectListBoxPressItem
        }
    });
    OOP["a" /* default */].drillProperty(this, this.$selectlistBox, 'enableSearch');
    this.$items = [];
    this._values = [];
    this.items = [];
    this.values = [];
    this.$selectlistBox.followTarget = this;
    this.disableClickToFocus = false;
    this.orderly = true;
    this.itemFocusable = false;
    this._activeValue = undefined;
    return this;
}

SelectBox.tag = 'selectbox';
SelectBox.render = function () {
    return SelectBox_({
        tag: 'bscroller',
        class: ['absol-selectbox', 'absol-bscroller'],
        extendEvent: ['change', 'add', 'remove', 'activevaluechange'],
        attr: {
            tabindex: '1'
        }
    }, true);
};


SelectBox.prototype._requireItem = function (n) {
    var itemElt;
    while (this.$items.length < n) {
        itemElt = SelectBox_requireItem(this);
        this.addChild(itemElt);
        this.$items.push(itemElt);
    }

    while (this.$items.length > n) {
        itemElt = this.$items.pop();
        this.removeChild(itemElt);
        SelectBox_releaseItem(itemElt);
    }
};


SelectBox.prototype._assignItems = function (items) {
    for (var i = 0; i < this.$items.length && i < items.length; ++i) {
        this.$items[i].data = items[i];
    }
};

/***
 *
 * @param {string[] | number[]} values
 * @private
 */
SelectBox.prototype._getItemsByValues = function (values) {
    var selectListBoxElt = this.$selectlistBox;
    var itemHolders = values.reduce(function (ac, cr) {
        ac.push.apply(ac, selectListBoxElt.findItemsByValue(cr));
        return ac;
    }, []);
    if (this.orderly) {
        itemHolders.sort(function (a, b) {
            return a.idx - b.idx;
        });
    }

    return itemHolders.map(function (holder) {
        return holder.item;
    })

};


SelectBox.prototype._updateItems = function () {
    var cBound = this.getBoundingClientRect();
    var items = this._getItemsByValues(this._values);
    this._requireItem(items.length);
    this._assignItems(items);
    if (this.itemFocusable) {
        this._updateFocusItem();
    }
    var nBound = this.getBoundingClientRect();
    if (nBound.width != cBound.width || nBound.height != cBound.height) {
        ResizeSystem["a" /* default */].updateUp(this);
    }
};


SelectBox.property = {};
SelectBox.property.disabled = SelectMenu2.property.disabled;
SelectBox.property.hidden = SelectMenu2.property.hidden;
SelectBox.property.isFocus = SelectMenu2.property.isFocus;


SelectBox.prototype.init = function (props) {
    props = props || [];
    Object.keys(props).forEach(function (key) {
        if (props[key] === undefined) delete props[key];
    });
    this.super(props);
};

SelectBox.prototype._updateFocusItem = function () {
    for (var i = 0; i < this.$items.length; ++i) {
        this.$items[i].active = this.$items[i].value == this._activeValue;
    }
};


SelectBox.prototype.init = SelectMenu2.prototype.init;


SelectBox.property.items = {
    set: function (items) {
        items = items || [];
        this.$selectlistBox.items = items;
        this.addStyle('--list-min-width', this.$selectlistBox._estimateWidth + 'px');
        this._updateItems();
    },
    get: function () {
        return this.$selectlistBox.items
    }
};

SelectBox.property.values = {
    set: function (values) {
        values = values || [];
        values = (values instanceof Array) ? values : [values];
        this._values = values;
        this.$selectlistBox.values = values;
        this._updateItems();
    },
    get: function () {
        return this._values || [];
    }
};

SelectBox.property.orderly = {
    set: function (value) {
        var needUpdate = this._orderly === this._orderly;
        if (typeof value === 'function'){
            this._orderly;
        }
        else
            this._orderly = !!value;
        if (needUpdate) {
            this.values = this.values;
        }
    },
    get: function () {
        return !!this._orderly;
    }
};

SelectBox.property.disableClickToFocus = {
    set: function (value) {
        if (value) {
            this.addClass('as-disable-click-to-focus');
        }
        else {
            this.removeClass('as-disable-click-to-focus');
        }
    },
    get: function () {
        return this.containsClass('as-disable-click-to-focus');
    }
};

SelectBox.property.itemFocusable = {
    set: function (value) {
        if (value) {
            this.addClass('as-item-focusable');
        }
        else {
            this.removeClass('as-item-focusable');
        }
        this._updateFocusItem();
    },
    get: function () {
        return this.containsClass('as-item-focusable');
    }
};

SelectBox.property.activeValue = {
    set: function (value) {
        this._activeValue = value;
        if (this.itemFocusable) {
            this._updateFocusItem();
            //todo
        }
    },
    get: function () {
        return this._activeValue;
    }
};


SelectBox.eventHandler = Object.assign({}, SelectMenu2.eventHandler);


SelectBox.eventHandler.click = function (event) {
    if (event.target === this && !this.disableClickToFocus) {
        this.isFocus = !this.isFocus;
    }
};


SelectBox.eventHandler.bodyClick = function (event) {
    if (!EventEmitter["b" /* default */].hitElement(this.$selectlistBox, event) && event.target !== this) {
        this.isFocus = false;
    }
};


SelectBox.eventHandler.selectListBoxPressItem = function (event) {
    var data = event.data;
    var currentValues = this.$selectlistBox.values;
    currentValues.push(data.value);
    this.$selectlistBox.values = currentValues;
    this.$selectlistBox.updatePosition();
    this._activeValue = data.value;
    this._updateItems();
    this.isFocus = false;
    this.emit('add', Object.assign({}, event, {
        type: 'add',
        target: this,
        value: data.value,
        data: data,
        itemData: data
    }), this);
    this.emit('change', Object.assign({}, event, {
        type: 'change',
        action: 'add',
        target: this,
        value: data.value,
        data: data,
        values: this.values
    }), this);
};


ACore["a" /* default */].install(SelectBox);

/* harmony default export */ var js_SelectBox = (SelectBox);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/selecttable.css
var selecttable = __webpack_require__(31);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/SelectTable.js











var privateDom = new HTML5_Dom["a" /* default */]().install(ACore["a" /* default */]);
var SelectTable_$ = privateDom.$;
var SelectTable_ = privateDom._;


function SelectTable() {
    var thisST = this;
    this.$attachhook = SelectTable_('attachhook').addTo(this);
    this.sync = new Promise(function (rs) {
        thisST.$attachhook.on('error', rs);
    });
    this.$buttonsContainer = SelectTable_$('.absol-select-table-buttons-container', this);
    this.$searchContainer = SelectTable_$('.absol-select-table-searchtextinput-container', this);
    this.$nonselectedItemsContainer = SelectTable_$('.absol-select-table-nonselected-items-container', this);
    this.$selectedItemsContainer = SelectTable_$('.absol-select-table-selected-items-container', this);

    this.$nonselectedSearchItemsContainer = SelectTable_$('.absol-select-table-nonselected-search-items-container', this);
    this.$selectedSearchItemsContainer = SelectTable_$('.absol-select-table-selected-search-items-container', this);

    this.$removeAllBtn = SelectTable_$('button.remove-all', this).on('click', this.eventHandler.removeAllBtnClick);
    this.$addAllBtn = SelectTable_$('button.add-all', this).on('click', this.eventHandler.addAllBtnClick);
    this.$vscrollerSelected = SelectTable_$('bscroller#selected', this)
    this.$vscrollerNonselected = SelectTable_$('bscroller#nonselected', this);
    this.$body = SelectTable_$('.absol-select-table-body', this);
    this.$header = SelectTable_$('.absol-select-table-header', this);
    /***
     *
     * @type {SearchTextInput}
     */
    this.$searchTextInput = SelectTable_$('searchtextinput', this).on('stoptyping', this.eventHandler.searchTextInputModify);
    this.$addAllBtn.updateSize = function () {
        thisST.updateScroller && thisST.updateScroller();
    };
    HTML5_Dom["a" /* default */].addToResizeSystem(this.$addAllBtn);
    return this;
}

SelectTable.tag = 'SelectTable'.toLowerCase();

SelectTable.render = function () {
    return SelectTable_({
        class: 'absol-select-table',
        extendEvent: ['change', 'addall', 'removeall', 'add', 'remove'],
        child: [
            {
                class: 'absol-select-table-header',
                child: [
                    {
                        class: 'absol-select-table-searchtextinput-container',
                        child: 'searchtextinput'
                    },
                    {
                        class: 'absol-select-table-buttons-container',
                        child: [
                            {
                                tag: 'button',
                                class: 'add-all',
                                props: {
                                    innerHTML: 'Add All'
                                }
                            },
                            {
                                tag: 'button',
                                class: 'remove-all',
                                props: {
                                    innerHTML: 'Remove All'
                                }
                            }
                        ]
                    }

                ]
            },
            {
                class: 'absol-select-table-body',
                child: [

                    {
                        tag: 'bscroller',
                        attr: { id: 'nonselected' },
                        class: ['absol-select-table-items-scroller'],
                        child: {
                            child: ['.absol-select-table-nonselected-items-container', '.absol-select-table-nonselected-search-items-container']
                        }
                    },
                    {
                        tag: 'bscroller',
                        attr: { id: 'selected' },
                        class: ['absol-select-table-items-scroller'],
                        child: {
                            child: ['.absol-select-table-selected-items-container', '.absol-select-table-selected-search-items-container']

                        }

                    }
                ]
            }
        ]
    });
}


SelectTable.prototype.updateButtonsContainerSize = function () {
    var rootBound = this.$buttonsContainer.getBoundingClientRect();
    var containBound = this.$buttonsContainer.getBoundingRecursiveRect();
    var fontSize = this.getFontSize();
    this.$buttonsContainer.addStyle('width', (containBound.width + 1) / fontSize + 'em');
    this.$searchContainer.addStyle('right', (containBound.width + 5) / fontSize + 'em');
};

SelectTable.prototype.addAll = function () {
    Array.apply(null, this.$nonselectedItemsContainer.childNodes).forEach(function (e) {
        e.addTo(this.$selectedItemsContainer);
    }.bind(this));
    this.requestSort();
};

SelectTable.prototype.removeAll = function () {
    Array.apply(null, this.$selectedItemsContainer.childNodes).forEach(function (e) {
        e.addTo(this.$nonselectedItemsContainer);
    }.bind(this))
    this.requestSort();
};

SelectTable.prototype.updateScroller = function () {
    var update = function () {
        if (this.style.height) {
            var height = parseFloat(this.getComputedStyleValue('height').replace('px', ''));
            var headerHeight = parseFloat(this.$header.getComputedStyleValue('height').replace('px', ''));
            var bodyMargin = parseFloat(this.$body.getComputedStyleValue('margin-top').replace('px', ''));
            var borderWidth = 1;
            var availableHeight = height - headerHeight - bodyMargin * 2 - borderWidth * 2;
            this.$vscrollerNonselected.addStyle('max-height', availableHeight + 'px');
            this.$vscrollerSelected.addStyle('max-height', availableHeight + 'px');
        }
    }.bind(this);
    setTimeout(update, 1);
};

SelectTable.prototype.getAllItemElement = function () {
    var selectedItemElements = Array.apply(null, this.$selectedItemsContainer.childNodes);
    var nonselectedItemElements = Array.apply(null, this.$nonselectedItemsContainer.childNodes);
    return selectedItemElements.concat(nonselectedItemElements);
};

SelectTable.prototype.init = function (props) {
    this.super(props);
    this.sync = this.sync.then(this.updateButtonsContainerSize.bind(this));
};

SelectTable.eventHandler = {};
SelectTable.eventHandler.addAllBtnClick = function (event) {
    this.addAll();
    if (this.searching) {
        this.eventHandler.searchTextInputModify(event);
    }
    this.emit('addall', EventEmitter["b" /* default */].copyEvent(event, {}), this);
    this.updateScroller();
};

SelectTable.eventHandler.removeAllBtnClick = function (event) {
    this.removeAll();
    if (this.searching) {
        this.eventHandler.searchTextInputModify(event);
    }
    this.emit('removeall', EventEmitter["b" /* default */].copyEvent(event, {}), this);
    this.updateScroller();
};

SelectTable.prototype._filter = function (items, filterText) {
    var result = [];
    if (filterText.length == 1) {
        result = items.map(function (item) {
            var res = { item: item, text: typeof item === 'string' ? item : item.text };
            return res;
        }).map(function (it) {
            it.score = 0;
            var text = it.text.replace(/((\&nbsp)|(\s))+/g, ' ').trim();
            it.score += text.toLowerCase().indexOf(filterText.toLowerCase()) >= 0 ? 100 : 0;
            text = nonAccentVietnamese(text);
            it.score += text.toLowerCase().indexOf(filterText.toLowerCase()) >= 0 ? 100 : 0;
            return it;
        });

        result.sort(function (a, b) {
            if (b.score - a.score == 0) {
                if (nonAccentVietnamese(b.text) > nonAccentVietnamese(a.text)) return -1;
                return 1;
            }
            return b.score - a.score;
        });
        result = result.filter(function (x) {
            return x.score > 0;
        });
    }
    else {
        var its = items.map(function (item) {
            var res = { item: item, text: typeof item === 'string' ? item : item.text };
            var text = res.text.replace(/((\&nbsp)|(\s))+/g, ' ').trim();
            res.score = (phraseMatch(text, filterText)
                + phraseMatch(nonAccentVietnamese(text), nonAccentVietnamese(filterText))) / 2;
            if (nonAccentVietnamese(text).replace(/s/g, '').toLowerCase().indexOf(nonAccentVietnamese(filterText).toLowerCase().replace(/s/g, '')) > -1)
                res.score = 100;
            return res;
        });
        if (its.length == 0) return;

        its.sort(function (a, b) {
            if (b.score - a.score == 0) {
                if (nonAccentVietnamese(b.text) > nonAccentVietnamese(a.text)) return -1;
                return 1;
            }
            return b.score - a.score;
        });
        var result = its.filter(function (x) {
            return x.score > 0.5;
        });
        if (result.length == 0) {
            var bestScore = its[0].score;
            result = its.filter(function (it) {
                return it.score + 0.001 >= bestScore;
            });
        }
        if (result[0].score == 0) result = [];
    }
    result = result.map(function (e) {
        return e.item;
    });

    return result;
};

SelectTable.prototype._stringcmp = function (s0, s1) {
    if (s0 == s1) return 0;
    if (s0 > s1) return 1;
    return -1;
};

SelectTable.prototype._getString = function (item) {
    if (typeof item == "string") return item;
    return item.text;
};

SelectTable.prototype._equalArr = function (a, b) {
    if (a.length != b.length) return false;
    for (var i = 0; i < a.length; ++i) {
        if (a[i] != b[i] && a[i].text != b[i].text && a[i].value != b[i].value) return false;
    }
    return true;
};


SelectTable.prototype._applySort = function (items, sortFlag) {
    var res = items.slice();

    if (sortFlag == 1 || sortFlag === true) {
        res.sort(function (a, b) {
            return this._stringcmp(this._getString(a), this._getString(b))
        }.bind(this))
    }
    else if (sortFlag == -1) {
        res.sort(function (a, b) {
            return -this._stringcmp(this._getString(a), this._getString(b))
        }.bind(this))
    }
    else if (typeof sortFlag == 'function') {
        res.sort(function (a, b) {
            return sortFlag(a, b)
        }.bind(this))
    }
    return res;
};

SelectTable.prototype.requestSort = function () {

    if (!this.sorted || this.sorted == 0) return;
    var selectedItems = this.selectedItems;
    var selectedItemsNew = this._applySort(selectedItems, this.sorted);
    if (!this._equalArr(selectedItems, selectedItemsNew)) {
        this.selectedItems = selectedItemsNew;
    }

    var nonselectedItems = this.nonselectedItems;
    var nonselectedItemsNew = this._applySort(nonselectedItems, this.sorted);
    if (!this._equalArr(nonselectedItems, nonselectedItemsNew)) {
        this.nonselectedItems = nonselectedItemsNew;
    }

};

SelectTable.eventHandler.searchTextInputModify = function (event) {
    var filterText = this.$searchTextInput.value.trim();
    if (filterText.length > 0) {
        var selectedItems = this.selectedItems;
        var nonselectedItems = this.nonselectedItems;
        this.selectedSearchItems = selectedItems;
        this.nonselectedSearchItems = this._filter(nonselectedItems, filterText);
        this.selectedSearchItems = this._filter(selectedItems, filterText);
    }
    else {
    }
    this.searching = filterText.length > 0;

};


SelectTable.property = {};

SelectTable.property.disableMoveAll = {
    set: function (value) {
        if (value)
            this.addClass('disable-move-all');
        else
            this.removeClass('disable-move-all');
    },
    get: function () {
        return this.containsClass('disable-move-all');
    }
};

SelectTable.property.removeAllText = {
    set: function (text) {
        this._removeAllText = text;
        //todo: update remove all text
        if (!text)
            this.$removeAllBtn.addStyle('display', 'none');
        else {
            this.$removeAllBtn.removeStyle('display');
            this.$removeAllBtn.innerHTML = this.removeAllText;
            this.updateButtonsContainerSize();
        }
    },
    get: function () {
        return this._removeAllText || 'Remove All'
    }
};

SelectTable.property.addAllText = {
    set: function (text) {
        this._addAllText = text;
        if (!text)
            this.$addAllBtn.addStyle('display', 'none');
        else {
            this.$addAllBtn.removeStyle('display');
            this.$addAllBtn.innerHTML = this.removeAllText;
            this.updateButtonsContainerSize();
        }
    },
    get: function () {
        return this._addAllText || 'Add All'
    }
};

SelectTable.property.searching = {
    set: function (value) {
        if (value) {
            this.addClass('searching');
        }
        else {
            this.removeClass('searching');
        }
        this.updateScroller();
    },
    get: function () {
        return this.containsClass('searching');
    }
};


SelectTable.property.sorted = {
    set: function (value) {
        this._sort = value;
        this.requestSort();

    },
    get: function () {
        return this._sort;
    }
};

SelectTable.property.selectedItems = {
    set: function (items) {
        this.$selectedItemsContainer.clearChild();
        var $nonselectedItemsContainer = this.$nonselectedItemsContainer;
        var $selectedItemsContainer = this.$selectedItemsContainer;
        var self = this;
        if (items instanceof Array) {
            items.map(function (item) {
                return SelectTable_({
                    tag: 'item',
                    props: {
                        data: item
                    },
                    on: {
                        requestmove: function (event) {
                            if (this.parentElement == $selectedItemsContainer) {
                                this.addTo($nonselectedItemsContainer);
                                self.emit('remove', EventEmitter["b" /* default */].copyEvent(event, { item: item }), self);
                            }
                            else {
                                this.addTo($selectedItemsContainer);
                                self.emit('add', EventEmitter["b" /* default */].copyEvent(event, { item: item }), self);
                            }
                            self.updateScroller();
                            self.requestSort();

                        }
                    }
                }).addTo(this.$selectedItemsContainer);
            }.bind(this))
        }
        else {
            // error
        }
        this.updateScroller();
        this.requestSort();
    },
    get: function () {
        return Array.prototype.map.call(this.$selectedItemsContainer.childNodes, function (e) {
            return e.data;
        });
    }

}

SelectTable.property.nonselectedItems = {
    set: function (items) {
        this.$nonselectedItemsContainer.clearChild();
        var $nonselectedItemsContainer = this.$nonselectedItemsContainer;
        var $selectedItemsContainer = this.$selectedItemsContainer;
        var self = this;
        if (items instanceof Array) {
            items.map(function (item) {
                return SelectTable_({
                    tag: 'item',
                    props: {
                        data: item
                    },
                    on: {
                        requestmove: function (event) {
                            if (this.parentElement == $selectedItemsContainer) {
                                this.addTo($nonselectedItemsContainer);
                                self.emit('remove', EventEmitter["b" /* default */].copyEvent(event, { item: item }), self);
                            }
                            else {
                                this.addTo($selectedItemsContainer);
                                self.emit('add', EventEmitter["b" /* default */].copyEvent(event, { item: item }), self);
                            }
                            self.updateScroller();
                            self.requestSort();
                        }
                    }
                }).addTo(this.$nonselectedItemsContainer);
            }.bind(this))
        }
        else {
            // error
        }
        this.updateScroller();
        this.requestSort();
    },
    get: function () {
        return Array.prototype.map.call(this.$nonselectedItemsContainer.childNodes, function (e) {
            return e.data;
        });
    }
};


SelectTable.property.selectedSearchItems = {
    set: function (items) {
        this.$selectedSearchItemsContainer.clearChild();
        var $nonselectedSearchItemsContainer = this.$nonselectedSearchItemsContainer;
        var $selectedSearchItemsContainer = this.$selectedSearchItemsContainer;
        var table = this;
        if (items instanceof Array) {
            items.map(function (item) {
                return SelectTable_({
                    tag: 'item',
                    props: {
                        data: item
                    },
                    on: {
                        requestmove: function (event) {
                            if (this.parentElement == $selectedSearchItemsContainer) {
                                this.addTo($nonselectedSearchItemsContainer);
                                table.getAllItemElement().filter(function (itemElement) {
                                    if (itemElement.data == this.data) {
                                        itemElement.addTo(table.$nonselectedItemsContainer);
                                        return true;
                                    }
                                    return false;
                                }.bind(this));
                                table.emit('remove', EventEmitter["b" /* default */].copyEvent(event, { item: item }), table);

                            }
                            else {
                                this.addTo($selectedSearchItemsContainer);
                                table.getAllItemElement().filter(function (itemElement) {
                                    if (itemElement.data == this.data) {
                                        itemElement.addTo(table.$selectedItemsContainer);
                                        return true;
                                    }
                                    return false;
                                }.bind(this));
                                table.emit('add', EventEmitter["b" /* default */].copyEvent(event, { item: item }), table);

                            }
                            table.updateScroller();
                            table.requestSort();
                        }
                    }
                }).addTo(this.$selectedSearchItemsContainer);
            }.bind(this))
        }
        else {
            // error
        }
        this.updateScroller();
    },
    get: function () {
        return Array.prototype.map.call(this.$selectedSearchItemsContainer.childNodes, function (e) {
            return e.data;
        });
    }

}

SelectTable.property.nonselectedSearchItems = {
    set: function (items) {
        this.$nonselectedSearchItemsContainer.clearChild();
        var $nonselectedSearchItemsContainer = this.$nonselectedSearchItemsContainer;
        var $selectedSearchItemsContainer = this.$selectedSearchItemsContainer;
        var table = this;
        if (items instanceof Array) {
            items.map(function (item) {
                return SelectTable_({
                    tag: 'item',
                    props: {
                        data: item
                    },
                    on: {
                        requestmove: function (event) {
                            if (this.parentElement == $selectedSearchItemsContainer) {
                                this.addTo($nonselectedSearchItemsContainer);
                                table.getAllItemElement().filter(function (itemElement) {
                                    if (itemElement.data == this.data) {
                                        itemElement.addTo(table.$nonselectedItemsContainer);
                                        return true;
                                    }
                                    return false;
                                }.bind(this));
                                table.emit('remove', EventEmitter["b" /* default */].copyEvent(event, { item: item }), table);
                            }
                            else {
                                this.addTo($selectedSearchItemsContainer);
                                table.getAllItemElement().filter(function (itemElement) {
                                    if (itemElement.data == this.data) {
                                        itemElement.addTo(table.$selectedItemsContainer);
                                        return true;
                                    }
                                    return false;
                                }.bind(this));
                                table.emit('add', EventEmitter["b" /* default */].copyEvent(event, { item: item }), table);

                            }
                            table.updateScroller();
                            table.requestSort();

                        }
                    }
                }).addTo(this.$nonselectedSearchItemsContainer);
            }.bind(this))
        }
        else {
            // error
        }
        this.updateScroller();
    },
    get: function () {
        return Array.prototype.map.call(this.$nonselectedSearchItemsContainer.childNodes, function (e) {
            return e.data;
        });
    }
};


/*
namespace of selecttable
*/
function Item() {
    var res = SelectTable_({
        extendEvent: ['requestmove'],
        class: 'absol-select-table-item',
        child: ['span.absol-select-table-item-text',
            {
                class: 'absol-select-table-item-right-container',
                child: {
                    class: 'absol-select-table-item-right-container-table',
                    child: {
                        class: 'absol-select-table-item-right-container-cell',
                        child: ['addicon', 'subicon']
                    }
                }

            }
        ]
    });
    res.$text = SelectTable_$('span', res);
    res.eventHandler = OOP["a" /* default */].bindFunctions(res, Item.eventHandler);
    res.$rightBtn = SelectTable_$('.absol-select-table-item-right-container', res);
    res.on('dblclick', res.eventHandler.dblclick);
    res.$rightBtn.on('click', res.eventHandler.rightBtClick);
    return res;
};


Item.eventHandler = {};
Item.eventHandler.dblclick = function (event) {
    event.preventDefault();
    if (!EventEmitter["b" /* default */].hitElement(this.$rightBtn, event))
        this.emit('requestmove', event, this);
};

Item.eventHandler.rightBtClick = function (event) {
    this.emit('requestmove', event, this);
};


Item.property = {};
Item.property.data = {
    set: function (value) {
        this._data = value;
        if (value) {
            var text;
            if (typeof value == "string") {
                text = value;
            }
            else {
                text = value.text;
            }
            this.$text.innerHTML = text;
        }
    },
    get: function () {
        return this._data;
    }
};

Item.property.text = {
    get: function () {
        return this._data ? (typeof this._data == 'string' ? this._data : this._data.text) : '';
    }
};

/**
 *
 * <svg width="100mm" height="100mm" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
 <g transform="translate(0,-197)">
 <path d="m39.873 198.21v38.668h-38.668v20.252h38.668v38.668h20.253v-38.668h38.668v-20.252h-38.668v-38.668z" style="fill-rule:evenodd;fill:#5fbbc2;stroke-linejoin:round;stroke-width:2.4109;stroke:#002eea"/>
 </g>
 </svg>
 */

function AddIcon() {
    return Svg["a" /* default */].ShareInstance.buildSvg(
        '<svg class="add-icon" width="100mm" height="100mm" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">' +
        '<g transform="translate(0,-197)">' +
        '<path d="m39.873 198.21v38.668h-38.668v20.252h38.668v38.668h20.253v-38.668h38.668v-20.252h-38.668v-38.668z" style="fill-rule:evenodd;stroke-linejoin:round;stroke-width:2.4109;" />' +
        '</g>' +
        '</svg>'
    );
};

function SubIcon() {
    return Svg["a" /* default */].ShareInstance.buildSvg(
        '<svg class="sub-icon" width="100mm" height="100mm" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">' +
        ' <g transform="translate(0,-197)">' +
        '  <path d="m98.795 236.87v20.253h-97.589v-20.253z" style="fill-rule:evenodd;stroke-linejoin:round;stroke-width:2.411;"/>' +
        ' </g>' +
        '</svg>'
    );
};

privateDom.install({
    subicon: SubIcon,
    addicon: AddIcon,
    item: Item
});

SelectTable.privateDom = privateDom;


ACore["a" /* default */].install(SelectTable);

/* harmony default export */ var js_SelectTable = (SelectTable);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/SelectTable2.js










var SelectTable2_privateDom = new HTML5_Dom["a" /* default */]().install(ACore["a" /* default */]).install(js_SelectTable.privateDom);
var SelectTable2_$ = SelectTable2_privateDom.$;
var SelectTable2_ = SelectTable2_privateDom._;


function SelectTable2() {
    var thisST = this;
    this.$attachhook = SelectTable2_('attachhook').addTo(this);
    this.sync = new Promise(function (rs) {
        thisST.$attachhook.on('error', rs);
    });
    this.$buttonsContainer = SelectTable2_$('.absol-select-table-buttons-container', this);
    this.$searchContainer = SelectTable2_$('.absol-select-table-searchtextinput-container', this);
    this.$nonselectedItemsContainer = SelectTable2_$('.absol-select-table-nonselected-items-container', this);
    this.$selectedItemsContainer = SelectTable2_$('.absol-select-table-selected-items-container', this);

    this.$nonselectedSearchItemsContainer = SelectTable2_$('.absol-select-table-nonselected-search-items-container', this);
    this.$selectedSearchItemsContainer = SelectTable2_$('.absol-select-table-selected-search-items-container', this);

    this.$removeAllBtn = SelectTable2_$('button.remove-all', this).on('click', this.eventHandler.removeAllBtnClick);
    this.$addAllBtn = SelectTable2_$('button.add-all', this).on('click', this.eventHandler.addAllBtnClick);
    this.$vscrollerSelected = SelectTable2_$('vscroller#selected', this)
    this.$vscrollerNonselected = SelectTable2_$('vscroller#nonselected', this);
    this.$body = SelectTable2_$('.absol-select-table-body', this);
    this.$searchTextInput = SelectTable2_$('searchtextinput', this).on('stoptyping', this.eventHandler.searchTextInputModify);
};


SelectTable2.tag = 'SelectTable2'.toLowerCase();

SelectTable2.render = function () {
    return SelectTable2_({
        class: ['absol-select-table', 'exclude'],
        extendEvent: ['change', 'addall', 'removeall', 'add', 'remove'],
        child: [
            {
                class: 'absol-select-table-header',
                child: [
                    {
                        class: 'absol-select-table-searchtextinput-container',
                        child: 'searchtextinput'
                    },
                    {
                        class: 'absol-select-table-buttons-container',
                        child: [
                            {
                                tag: 'button',
                                class: 'add-all',
                                props: {
                                    innerHTML: 'Add All'
                                }
                            },
                            {
                                tag: 'button',
                                class: 'remove-all',
                                props: {
                                    innerHTML: 'Remove All'
                                }
                            }
                        ]
                    }

                ]
            },
            {
                class: 'absol-select-table-body',
                child: [

                    {
                        tag: 'vscroller',
                        attr: { id: 'nonselected' },
                        class: 'absol-select-table-items-scroller',
                        child: {
                            child: ['.absol-select-table-nonselected-items-container', '.absol-select-table-nonselected-search-items-container']
                        }
                    },
                    {
                        tag: 'vscroller',
                        attr: { id: 'selected' },
                        class: 'absol-select-table-items-scroller',
                        child: {
                            child: ['.absol-select-table-selected-items-container', '.absol-select-table-selected-search-items-container']

                        }

                    }
                ]
            }
        ]
    });
};


SelectTable2.prototype.updateButtonsContainerSize = function () {
    var rootBound = this.$buttonsContainer.getBoundingClientRect();
    var containBound = this.$buttonsContainer.getBoundingRecursiveRect();
    var fontSize = this.getFontSize();
    this.$buttonsContainer.addStyle('width', (containBound.width + 1) / fontSize + 'em');
    this.$searchContainer.addStyle('right', (containBound.width + 5) / fontSize + 'em');
};

SelectTable2.prototype.addAll = function () {
    Array.apply(null, this.$nonselectedItemsContainer.childNodes).forEach(function (e) {
        e.addTo(this.$selectedItemsContainer);
    }.bind(this));
    this.requestSort();
};

SelectTable2.prototype.removeAll = function () {
    Array.apply(null, this.$selectedItemsContainer.childNodes).forEach(function (e) {
        e.addTo(this.$nonselectedItemsContainer);
    }.bind(this))
    this.requestSort();
};

SelectTable2.prototype.updateScroller = function () {
    var update = function () {
        if (this.style.height) {
            var bodyMargin = parseFloat(this.$body.getComputedStyleValue('margin-top').replace('px', '') || (0.14285714285 * 14 + ''));
            var bound = this.getBoundingClientRect();
            var bodyBound = this.$body.getBoundingClientRect();
            var bodyRBound = this.$body.getBoundingRecursiveRect();
            var availableHeight = bound.bottom - bodyMargin - bodyBound.top;
            var isOverflowHeight = availableHeight < bodyRBound.height;
            if (isOverflowHeight) {
                this.$vscrollerNonselected.addStyle('max-height', availableHeight + 'px');
                this.$vscrollerSelected.addStyle('max-height', availableHeight + 'px');
                this.$vscrollerSelected.addClass('limited-height');
                this.$vscrollerNonselected.addClass('limited-height');
            }
            else {
                this.$vscrollerNonselected.removeStyle('max-height');
                this.$vscrollerSelected.removeStyle('max-height');
                this.$vscrollerSelected.removeClass('limited-height');
                this.$vscrollerSelected.removeClass('limited-height');
                this.$vscrollerNonselected.removeClass('limited-height');
            }
        }
        requestAnimationFrame(this.$vscrollerNonselected.requestUpdateSize.bind(this.$vscrollerNonselected));
        requestAnimationFrame(this.$vscrollerSelected.requestUpdateSize.bind(this.$vscrollerSelected));
    }.bind(this);
    setTimeout(update, 1);
};

SelectTable2.prototype.getAllItemElement = function () {
    var selectedItemElements = Array.apply(null, this.$selectedItemsContainer.childNodes);
    var nonselectedItemElements = Array.apply(null, this.$nonselectedItemsContainer.childNodes);
    return selectedItemElements.concat(nonselectedItemElements);
};

SelectTable2.prototype.init = function (props) {
    this.super(props);
    this.sync = this.sync.then(this.updateButtonsContainerSize.bind(this));
};

SelectTable2.eventHandler = {};
SelectTable2.eventHandler.addAllBtnClick = function (event) {
    this.addAll();
    if (this.searching) {
        this.eventHandler.searchTextInputModify(event);
    }
    this.emit('addall', EventEmitter["b" /* default */].copyEvent(event, {}), this);
    this.updateScroller();
};

SelectTable2.eventHandler.removeAllBtnClick = function (event) {
    this.removeAll();
    if (this.searching) {
        this.eventHandler.searchTextInputModify(event);
    }
    this.emit('removeall', EventEmitter["b" /* default */].copyEvent(event, {}), this);
    this.updateScroller();
};

SelectTable2.prototype._filter = function (items, filterText) {
    var result = [];
    if (filterText.length == 1) {
        result = items.map(function (item) {
            var res = { item: item, text: typeof item === 'string' ? item : item.text };
            return res;
        }).map(function (it) {
            it.score = 0;
            var text = it.text.replace(/((\&nbsp)|(\s))+/g, ' ').trim();
            it.score += text.toLowerCase().indexOf(filterText.toLowerCase()) >= 0 ? 100 : 0;
            text = nonAccentVietnamese(text);
            it.score += text.toLowerCase().indexOf(filterText.toLowerCase()) >= 0 ? 100 : 0;
            return it;
        });

        result.sort(function (a, b) {
            if (b.score - a.score == 0) {
                if (nonAccentVietnamese(b.text) > nonAccentVietnamese(a.text)) return -1;
                return 1;
            }
            return b.score - a.score;
        });
        result = result.filter(function (x) {
            return x.score > 0;
        });
    }
    else {
        var its = items.map(function (item) {
            var res = { item: item, text: typeof item === 'string' ? item : item.text };
            var text = res.text.replace(/((\&nbsp)|(\s))+/g, ' ').trim();
            res.score = (phraseMatch(text, filterText)
                + phraseMatch(nonAccentVietnamese(text), nonAccentVietnamese(filterText))) / 2;
            if (nonAccentVietnamese(text).replace(/s/g, '').toLowerCase().indexOf(nonAccentVietnamese(filterText).toLowerCase().replace(/s/g, '')) > -1)
                res.score = 100;
            return res;
        });
        if (its.length == 0) return;

        its.sort(function (a, b) {
            if (b.score - a.score == 0) {
                if (nonAccentVietnamese(b.text) > nonAccentVietnamese(a.text)) return -1;
                return 1;
            }
            return b.score - a.score;
        });
        var result = its.filter(function (x) {
            return x.score > 0.5;
        });
        if (result.length == 0) {
            var bestScore = its[0].score;
            result = its.filter(function (it) {
                return it.score + 0.001 >= bestScore;
            });
        }
        if (result[0].score == 0) result = [];
    }
    result = result.map(function (e) {
        return e.item;
    });

    return result;
};

SelectTable2.prototype._stringcmp = function (s0, s1) {
    if (s0 == s1) return 0;
    if (s0 > s1) return 1;
    return -1;
};

SelectTable2.prototype._getString = function (item) {
    if (typeof item == "string") return item;
    return item.text;
};

SelectTable2.prototype._equalArr = function (a, b) {
    if (a.length != b.length) return false;
    for (var i = 0; i < a.length; ++i) {
        if (a[i] != b[i]) return false;
    }
    return true;
};


SelectTable2.prototype._applySort = function (items, sortFlag) {
    var res = items.slice();

    if (sortFlag == 1 || sortFlag === true) {
        res.sort(function (a, b) {
            return this._stringcmp(this._getString(a), this._getString(b))
        }.bind(this))
    }
    else if (sortFlag == -1) {
        res.sort(function (a, b) {
            return -this._stringcmp(this._getString(a), this._getString(b))
        }.bind(this))
    }
    else if (typeof sortFlag == 'function') {
        res.sort(function (a, b) {
            return sortFlag(a, b)
        }.bind(this))
    }
    return res;
};

SelectTable2.prototype.requestSort = function () {
    if (!this.sorted || this.sorted == 0) return;
    var selectedItems = this.selectedItems;
    var selectedItemsNew = this._applySort(selectedItems, this.sorted);
    if (!this._equalArr(selectedItems, selectedItemsNew)) {
        this.selectedItems = selectedItemsNew;
    }

    var nonselectedItems = this.nonselectedItems;
    var nonselectedItemsNew = this._applySort(nonselectedItems, this.sorted);
    if (!this._equalArr(nonselectedItems, nonselectedItemsNew)) {
        this.nonselectedItems = nonselectedItemsNew;
    }

};

SelectTable2.eventHandler.searchTextInputModify = function (event) {
    var filterText = this.$searchTextInput.value.trim();
    if (filterText.length > 0) {
        var selectedItems = this.selectedItems;
        var nonselectedItems = this.nonselectedItems;
        this.selectedSearchItems = selectedItems;
        this.nonselectedSearchItems = this._filter(nonselectedItems, filterText);
        this.selectedSearchItems = this._filter(selectedItems, filterText);
    }
    else {

    }
    this.searching = filterText.length > 0;

};


SelectTable2.property = {};

SelectTable2.property.disableMoveAll = {
    set: function (value) {
        if (value)
            this.addClass('disable-move-all');
        else
            this.removeClass('disable-move-all');
    },
    get: function () {
        return this.containsClass('disable-move-all');
    }
};

SelectTable2.property.removeAllText = {
    set: function (text) {
        this._removeAllText = text;
        //todo: update remove all text
        if (!text)
            this.$removeAllBtn.addStyle('display', 'none');
        else {
            this.$removeAllBtn.removeStyle('display');
            this.$removeAllBtn.innerHTML = this.removeAllText;
            this.updateButtonsContainerSize();
        }
    },
    get: function () {
        return this._removeAllText || 'Remove All'
    }
};

SelectTable2.property.addAllText = {
    set: function (text) {
        this._addAllText = text;
        if (!text)
            this.$addAllBtn.addStyle('display', 'none');
        else {
            this.$addAllBtn.removeStyle('display');
            this.$addAllBtn.innerHTML = this.removeAllText;
            this.updateButtonsContainerSize();
        }
    },
    get: function () {
        return this._addAllText || 'Add All'
    }
};

SelectTable2.property.searching = {
    set: function (value) {
        if (value) {
            this.addClass('searching');
        }
        else {
            this.removeClass('searching');
        }
        this.updateScroller();
    },
    get: function () {
        return this.containsClass('searching');
    }
};


SelectTable2.property.sorted = {
    set: function (value) {
        this._sort = value;
        this.requestSort();

    },
    get: function () {
        return this._sort;
    }
};

SelectTable2.property.selectedItems = {
    set: function (items) {
        this.$selectedItemsContainer.clearChild();
        var $nonselectedItemsContainer = this.$nonselectedItemsContainer;
        var $selectedItemsContainer = this.$selectedItemsContainer;
        var self = this;
        if (items instanceof Array) {
            items.map(function (item) {
                return SelectTable2_({
                    tag: 'item',
                    props: {
                        data: item
                    },
                    on: {
                        requestmove: function (event) {
                            if (this.parentElement == $selectedItemsContainer) {
                                this.addTo($nonselectedItemsContainer);
                                self.emit('remove', EventEmitter["b" /* default */].copyEvent(event, { item: item }), self);
                            }
                            else {
                                this.addTo($selectedItemsContainer);
                                self.emit('add', EventEmitter["b" /* default */].copyEvent(event, { item: item }), self);
                            }
                            self.updateScroller();
                            self.requestSort();

                        }
                    }
                }).addTo(this.$selectedItemsContainer);
            }.bind(this))
        }
        else {
            // error
        }
        this.updateScroller();
        this.requestSort();
    },
    get: function () {
        return Array.prototype.map.call(this.$selectedItemsContainer.childNodes, function (e) {
            return e.data;
        });
    }

}

SelectTable2.property.nonselectedItems = {
    set: function (items) {
        this.$nonselectedItemsContainer.clearChild();
        var $nonselectedItemsContainer = this.$nonselectedItemsContainer;
        var $selectedItemsContainer = this.$selectedItemsContainer;
        var self = this;
        if (items instanceof Array) {
            items.map(function (item) {
                return SelectTable2_({
                    tag: 'item',
                    props: {
                        data: item
                    },
                    on: {
                        requestmove: function (event) {
                            if (this.parentElement == $selectedItemsContainer) {
                                this.addTo($nonselectedItemsContainer);
                                self.emit('remove', EventEmitter["b" /* default */].copyEvent(event, { item: item }), self);
                            }
                            else {
                                this.addTo($selectedItemsContainer);
                                self.emit('add', EventEmitter["b" /* default */].copyEvent(event, { item: item }), self);
                            }
                            self.updateScroller();
                            self.requestSort();
                        }
                    }
                }).addTo(this.$nonselectedItemsContainer);
            }.bind(this))
        }
        else {
            // error
        }
        this.updateScroller();
        this.requestSort();
    },
    get: function () {
        return Array.prototype.map.call(this.$nonselectedItemsContainer.childNodes, function (e) {
            return e.data;
        });
    }
};


SelectTable2.property.selectedSearchItems = {
    set: function (items) {
        this.$selectedSearchItemsContainer.clearChild();
        var $nonselectedSearchItemsContainer = this.$nonselectedSearchItemsContainer;
        var $selectedSearchItemsContainer = this.$selectedSearchItemsContainer;
        var table = this;
        if (items instanceof Array) {
            items.map(function (item) {
                return SelectTable2_({
                    tag: 'item',
                    props: {
                        data: item
                    },
                    on: {
                        requestmove: function (event) {
                            if (this.parentElement == $selectedSearchItemsContainer) {
                                this.addTo($nonselectedSearchItemsContainer);
                                table.getAllItemElement().filter(function (itemElement) {
                                    if (itemElement.data == this.data) {
                                        itemElement.addTo(table.$nonselectedItemsContainer);
                                        return true;
                                    }
                                    return false;
                                }.bind(this));
                                table.emit('remove', EventEmitter["b" /* default */].copyEvent(event, { item: item }), table);

                            }
                            else {
                                this.addTo($selectedSearchItemsContainer);
                                table.getAllItemElement().filter(function (itemElement) {
                                    if (itemElement.data == this.data) {
                                        itemElement.addTo(table.$selectedItemsContainer);
                                        return true;
                                    }
                                    return false;
                                }.bind(this));
                                table.emit('add', EventEmitter["b" /* default */].copyEvent(event, { item: item }), table);

                            }
                            table.updateScroller();
                            table.requestSort();
                        }
                    }
                }).addTo(this.$selectedSearchItemsContainer);
            }.bind(this))
        }
        else {
            // error
        }
        this.updateScroller();
    },
    get: function () {
        return Array.prototype.map.call(this.$selectedSearchItemsContainer.childNodes, function (e) {
            return e.data;
        });
    }

}

SelectTable2.property.nonselectedSearchItems = {
    set: function (items) {
        this.$nonselectedSearchItemsContainer.clearChild();
        var $nonselectedSearchItemsContainer = this.$nonselectedSearchItemsContainer;
        var $selectedSearchItemsContainer = this.$selectedSearchItemsContainer;
        var table = this;
        if (items instanceof Array) {
            items.map(function (item) {
                return SelectTable2_({
                    tag: 'item',
                    props: {
                        data: item
                    },
                    on: {
                        requestmove: function (event) {
                            if (this.parentElement == $selectedSearchItemsContainer) {
                                this.addTo($nonselectedSearchItemsContainer);
                                table.getAllItemElement().filter(function (itemElement) {
                                    if (itemElement.data == this.data) {
                                        itemElement.addTo(table.$nonselectedItemsContainer);
                                        return true;
                                    }
                                    return false;
                                }.bind(this));
                                table.emit('remove', EventEmitter["b" /* default */].copyEvent(event, { item: item }), table);
                            }
                            else {
                                this.addTo($selectedSearchItemsContainer);
                                table.getAllItemElement().filter(function (itemElement) {
                                    if (itemElement.data == this.data) {
                                        itemElement.addTo(table.$selectedItemsContainer);
                                        return true;
                                    }
                                    return false;
                                }.bind(this));
                                table.emit('add', EventEmitter["b" /* default */].copyEvent(event, { item: item }), table);

                            }
                            table.updateScroller();
                            table.requestSort();

                        }
                    }
                }).addTo(this.$nonselectedSearchItemsContainer);
            }.bind(this))
        }
        else {
            // error
        }
        this.updateScroller();
    },
    get: function () {
        return Array.prototype.map.call(this.$nonselectedSearchItemsContainer.childNodes, function (e) {
            return e.data;
        });
    }
};


/*
namespace of selecttable
*/
function SelectTable2_Item() {
    var res = SelectTable2_({
        extendEvent: ['requestmove', 'clickadd', 'clickremove', 'clickexclude'],
        class: 'absol-select-table-item',
        child: ['span.absol-select-table-item-text',
            {
                class: 'absol-select-table-item-right-container',
                child: {
                    class: 'absol-select-table-item-right-container-table',
                    child: {
                        class: 'absol-select-table-item-right-container-row',
                        child: [
                            {
                                attr: {
                                    title: 'Add'
                                },
                                class: ['absol-select-table-item-right-container-cell', 'add'],
                                child: 'addicon'

                            },
                            {
                                attr: {
                                    title: 'Remove'
                                },
                                class: ['absol-select-table-item-right-container-cell', 'remove'],
                                child: 'subicon'

                            },
                            {
                                attr: {
                                    title: 'Exclude'
                                },
                                class: ['absol-select-table-item-right-container-cell', 'exclude'],
                                child: 'excludeico'
                            },
                        ]
                    }
                }

            }
        ]
    });
    res.$text = SelectTable2_$('span', res);
    res.eventHandler = OOP["a" /* default */].bindFunctions(res, SelectTable2_Item.eventHandler);
    res.$rightBtn = SelectTable2_$('.absol-select-table-item-right-container', res);
    res.on('dblclick', res.eventHandler.dblclick);
    res.$addBtn = SelectTable2_$('.absol-select-table-item-right-container-cell.add', res).on('click', res.eventHandler.addBtClick);
    res.$removeBtn = SelectTable2_$('.absol-select-table-item-right-container-cell.remove', res).on('click', res.eventHandler.removeBtClick);
    res.$excludeBtn = SelectTable2_$('.absol-select-table-item-right-container-cell.exclude', res).on('click', res.eventHandler.excludeBtClick);
    return res;
};


SelectTable2_Item.eventHandler = {};
SelectTable2_Item.eventHandler.dblclick = function (event) {
    event.preventDefault();
    if (!EventEmitter["b" /* default */].hitElement(this.$rightBtn, event))
        this.emit('requestmove', event, this);
};

SelectTable2_Item.eventHandler.rightBtClick = function (event) {
    this.emit('requestmove', event, this);
};

SelectTable2_Item.eventHandler.removeBtClick = function (event) {
    this.emit('clickremove', event, this);
};

SelectTable2_Item.eventHandler.addBtClick = function (event) {
    this.emit('clickadd', event, this);
};

SelectTable2_Item.eventHandler.excludeBtClick = function (event) {
    this.emit('clickexclude', event, this);
};


SelectTable2_Item.property = {};
SelectTable2_Item.property.data = {
    set: function (value) {
        this._data = value;
        if (value) {
            var text;
            if (typeof value == "string") {
                text = value;
            }
            else {
                text = value.text;
            }
            this.$text.innerHTML = text;
        }
    },
    get: function () {
        return this._data;
    }
};

SelectTable2_Item.property.text = {
    get: function () {
        return this._data ? (typeof this._data == 'string' ? this._data : this._data.text) : '';
    }
};


function ExcludeIco() {
    return SelectTable2_(
        '<svg class="exclude-icon" width="24" height="24" viewBox="0 0 24 24">\
            <path  d="M8.27,3L3,8.27V15.73L8.27,21H15.73C17.5,19.24 21,15.73 21,15.73V8.27L15.73,3M9.1,5H14.9L19,9.1V14.9L14.9,19H9.1L5,14.9V9.1M11,15H13V17H11V15M11,7H13V13H11V7" />\
        </svg>');
}


SelectTable2_privateDom.install({
    item: SelectTable2_Item,
    excludeico: ExcludeIco
});

// not completed yet

ACore["a" /* default */].install('selecttable2', SelectTable2);
/* harmony default export */ var js_SelectTable2 = (SelectTable2);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/spaninput.css
var spaninput = __webpack_require__(145);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/SpanInput.js





var SpanInput_ = ACore["a" /* default */]._;
var SpanInput_$ = ACore["a" /* default */].$;


function SpanInput() {
    this.defineEvent(['change']);
    this._inputType = 0;
    this._lastValue = null;
    this.on('paste', this.eventHandler.paste)
        .on('keyup', this.eventHandler.keyup)
        .on('keydown', this.eventHandler.keydown)
        .on('blur', this.eventHandler.blur);
}


SpanInput.prototype.notifyValueChange = function (event) {
    var cValue = this.value;
    if (this._lastValue != cValue && (this._inputType != 1 || !isNaN(this._lastValue) || !isNaN(cValue))) {
        this._lastValue = cValue;
        this.emit('change', { type: 'change', value: cValue, originEvent: event }, this);
    }
}

SpanInput.eventHandler = {};

SpanInput.eventHandler.keyup = function (event) {
    if (this._inputType == 0) {
        this.notifyValueChange(event);
    }
    else if (this._inputType == 1) {
        this.eventHandler.numberKeyup(event)

    }
};

SpanInput.eventHandler.keydown = function (event) {
    if (this._inputType == 0) {
    }
    else if (this._inputType == 1) {
        this.eventHandler.numberKeydown(event)
    }
};


SpanInput.eventHandler.numberBlur = function (value) {
    this.notifyValueChange(event);
};


SpanInput.eventHandler.textBlur = function (event) {
    this.notifyValueChange(event);
};

SpanInput.eventHandler.blur = function (event) {
    if (this._inputType == 0) {
        this.eventHandler.textBlur(event);
    }
    else if (this._inputType == 1) {
        this.eventHandler.numberKeydown(event)
    }
}


SpanInput.eventHandler.numberKeyup = function (event) {
    this.notifyValueChange();
};

SpanInput.eventHandler.numberKeydown = function (event) {
    var key = event.key;
    if (key == 'Enter') {
        event.preventDefault();
        this.blur();
        this.notifyValueChange();
        return;
    }


    if (key && key.length == 1 && !event.ctrlKey && !event.altKey) {
        if (key.match(/[0-9.\-\+]/)) {
            if (key == '.' && this.text.indexOf('.') >= 0) event.preventDefault();
            if ((key == '+' || key == '-') && (this.text.indexOf('+') >= 0 || this.text.indexOf('-') >= 0 || getCaretPosition(this) > 0)) event.preventDefault();
        }
        else event.preventDefault();
    }
};


SpanInput.eventHandler.paste = function (event) {
    event.preventDefault();
    if (event.clipboardData && event.clipboardData.getData) {
        var text = event.clipboardData.getData("text/plain");
        if (this._inputType == 1) text = text.replace(/[^0-9.\-+]/g, '');
        document.execCommand("insertHTML", false, text);
        if (this._inputType == 1) {
            if (isNaN(this.value)) {
                this.value = NaN;
            }
        }
    }
    else if (window.clipboardData && window.clipboardData.getData) {
        var text = window.clipboardData.getData("Text");
        if (this._inputType == 1) text = text.replace(/[^0-9.\-+]/g, '');
        insertTextAtCursor(text);
        if (this._inputType == 1) {
            if (isNaN(this.value)) {
                this.value = NaN;
            }
        }
    }
};


SpanInput.property = {};
SpanInput.property.value = {
    set: function (value) {
        if (this._inputType == 1 && isNaN(value)) value = null;
        this.clearChild();
        if (value !== null) this.addChild(SpanInput_({ text: value + '' }));
    },
    get: function () {
        if (this._inputType == 1) {
            return parseFloat(this.text);
        }
        else {
            return this.text;
        }
    }
};

SpanInput.property.type = {
    set: function (value) {
        var index = ['text', 'number'].indexOf(value);
        if (index < 0) index = 0;
        this._inputType = index;
        if (index == 1) {
            this.addClass('absol-span-input-empty-minus');

        }
        else {
            this.removeClass('absol-span-input-empty-minus');
        }
    },
    get: function () {
        return ['text', 'number'][this._inputType];
    }
};


SpanInput.property.text = {
    get: function () {
        return getTextIn(this);
    }
}

SpanInput.tag = 'spaninput';

SpanInput.render = function () {
    return SpanInput_('span.absol-span-input[contenteditable="true"]');
};


ACore["a" /* default */].install(SpanInput);

/* harmony default export */ var js_SpanInput = (SpanInput);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/statictabbar.css
var statictabbar = __webpack_require__(147);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/StaticTabbar.js





var StaticTabbar_$ = ACore["a" /* default */].$;
var StaticTabbar_ = ACore["a" /* default */]._;


function StaticTabbar() {
    var thisST = this;
    this.$activeBox = StaticTabbar_$('.absol-static-tabbar-active-box', this)
    this.$hline = StaticTabbar_$('.absol-static-tabbar-hline', this);
    this.$buttons = [];
    this._btDict = {};
    this._activedButton = undefined;
    this.sync = new Promise(function (resolve) {
        StaticTabbar_('attachhook').on('error', function () {
            this.remove();
            resolve();
        }).addTo(thisST);
    });
    return this;
}

StaticTabbar.tag = 'StaticTabbar'.toLowerCase();

StaticTabbar.render = function () {
    return StaticTabbar_({
        class: 'absol-static-tabbar',
        extendEvent: 'change',
        child: [
            {
                class: 'absol-static-tabbar-active-box',
                child: '.absol-static-tabbar-hline'
            }
        ]
    });
};

StaticTabbar.prototype.fireChange = function (data) {
    this.emit('change', { target: this, data, value: this.value }, self);
}

StaticTabbar.property = {};

StaticTabbar.property.items = {
    set: function (value) {
        this.$buttons.forEach(function (e) {
            e.remove()
        });
        this._items = value;
        var self = this;
        this.$buttons = this.items.map(function (tab) {
            var ident = (tab.value || randomIdent());
            var button = StaticTabbar_({
                tag: 'button',
                class: 'absol-static-tabbar-button',
                id: 'tab-' + ident,
                child: {
                    tag: 'span',
                    child: { text: tab.text }
                },
                on: {
                    click: function (event) {
                        if (self.value != tab.value) {
                            self.value = ident;
                            self.fireChange(tab);
                        }
                    }
                }
            }).addTo(self);
            self._btDict[ident] = button;
            return button;
        });
        if (this.value !== undefined) {
            this.sync.then(this.activeTab.bind(this, this.value));
        }
    },
    get: function () {
        return this._items || [];
    }
};


StaticTabbar.property.value = {
    set: function (value) {
        this._value = value;
        if (this.$buttons.length > 0) {
            this.sync.then(this.activeTab.bind(this, value));
        }
    },
    get: function () {
        return this._value;
    }
};

StaticTabbar.prototype.activeTab = function (ident) {
    if (this._activedButton) this._activedButton.removeClass('active');
    var button = this._btDict[ident];
    this._activedButton = button;
    if (button) {
        button.addClass('active');
        var bound = this.getBoundingClientRect();
        var buttonBound = button.getBoundingClientRect();
        var dx = buttonBound.left - bound.left;
        var fontSize = this.getFontSize();
        this.$activeBox.addStyle({
            left: dx / fontSize + 'em',
            width: buttonBound.width / fontSize + 'em'
        });
    }
    else {
        this.$activeBox.addStyle({
            left: '0',
            width: '0'
        });
    }
};

ACore["a" /* default */].install('statictabbar', StaticTabbar);

/* harmony default export */ var js_StaticTabbar = (StaticTabbar);



// EXTERNAL MODULE: ./node_modules/absol-acomp/css/switch.css
var css_switch = __webpack_require__(149);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Switch.js




var Switch_ = ACore["a" /* default */]._;
var Switch_$ = ACore["a" /* default */].$;


function Switch() {
    var thisS = this;
    this.$input = Switch_$('input', this);
    this.on('click', function (event) {
        thisS.emit('change', event, thisS);
    });
    OOP["a" /* default */].drillProperty(this, this.$input, 'checked');
    OOP["a" /* default */].drillProperty(this, this.$input, 'isOn', 'checked');
}


Switch.tag = 'switch';

Switch.render = function () {
    return Switch_({
        tag: 'label',
        class: 'absol-switch',
        extendEvent: 'change',
        child: [
            'input[type="checkbox"]',
            'span.absol-switch-slider'
        ]
    });
};

Switch.attribute = {
    checked: {
        set: function (value) {
            if (value == 'false' || value == null) {
                this.checked = false;
            }
            else {
                this.checked = true;
            }

        },
        get: function () {
            return this.checked ? 'true' : 'false'
        },
        remove: function () {
            this.checked = false;
        }
    },
    disabled: {
        set: function (value) {
            if (value == 'false' || value == null) {
                this.disabled = false;
            }
            else {
                this.disabled = true;
            }

        },
        get: function () {
            return this.disabled ? 'true' : 'false'
        },
        remove: function () {
            this.disabled = false;
        }
    }
};


Switch.property = {
    disabled: {
        set: function (value) {
            this.$input.disabled = !!value;
            if (value) {
                this.addClass('disabled');
            }
            else {
                this.removeClass('disabled');
            }
        },
        get: function () {
            return this.$input.disabled;
        }
    }
};

ACore["a" /* default */].install('switch', Switch);

/* harmony default export */ var js_Switch = (Switch);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/checkboxbutton.css
var checkboxbutton = __webpack_require__(151);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/CheckboxButton.js




ACore["a" /* default */].install('checkboxbutton', CheckBoxInput);
/* harmony default export */ var CheckboxButton = (CheckBoxInput);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/tablescroller.css
var tablescroller = __webpack_require__(153);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TableScroller.js





var TableScroller_$ = ACore["a" /* default */].$;
var TableScroller_ = ACore["a" /* default */]._;


function TableScroller() {
    var thisTS = this;
    this.$content = undefined;
    this.$fixedViewport = TableScroller_$('.absol-table-scroller-fixed-viewport', this);

    this.$leftScroller = TableScroller_$('.absol-table-scroller-left-vscroller', this);
    this.$leftViewport = TableScroller_$('.absol-table-scroller-left-vscroller-viewport', this)
        .on('scroll', thisTS.eventHandler.scrollLeftScrollerViewport);
    ;

    this.$headScroller = TableScroller_$('.absol-table-scroller-header-hscroller', this);
    this.$headScrollerViewport = TableScroller_$('.absol-table-scroller-header-hscroller-viewport', this)
        .on('scroll', this.eventHandler.scrollHeadScrollerViewport);

    this.$attachHook = TableScroller_$('attachhook', this);
    this.$attachHook.requestUpdateSize = this._updateContentSize.bind(this);
    this.$attachHook.on('error', function () {
        HTML5_Dom["a" /* default */].addToResizeSystem(this);
    });

    this.sync = new Promise(function (rs) {
        thisTS.$attachHook.once('error', rs)
    });

    this.$viewport = TableScroller_$('.absol-table-scroller-viewport', this)
        .on('scroll', this.eventHandler.scrollViewport);

    this.$viewport.scrollInto = js_BScroller.prototype.scrollInto;

    this.$leftLine = TableScroller_$('.absol-table-scroller-left-line', this);
    this.$headLine = TableScroller_$('.absol-table-scroller-head-line', this);

    this.$vscrollbarCtn = TableScroller_$('.absol-table-scroller-vscrollbar-container', this);
    this.$vscrollbar = TableScroller_$('.absol-table-scroller-vscrollbar-container vscrollbar', this)
        .on('scroll', function () {
            thisTS.$viewport.scrollTop = this.innerOffset;
        });


    this.$hscrollbarCtn = TableScroller_$('.absol-table-scroller-hscrollbar-container', this);
    this.$hscrollbar = TableScroller_$('.absol-table-scroller-hscrollbar-container hscrollbar', this)
        .on('scroll', function () {
            thisTS.$viewport.scrollLeft = this.innerOffset;
        });

    this.$vscrollbar.hidden = false;
    this.$hscrollbar.hidden = false;
    this._fixedTableThsVisible = [];
    this._fixedTableTr = [];
    this._fixedTableThs = [];
}

TableScroller.tag = 'TableScroller'.toLowerCase();

TableScroller.render = function () {
    return TableScroller_({
        class: 'absol-table-scroller',
        child: [
            '.absol-table-scroller-viewport',
            '.absol-table-scroller-fixed-viewport',//place holder
            {
                class: 'absol-table-scroller-header-hscroller',
                child: '.absol-table-scroller-header-hscroller-viewport'
            },
            {
                class: 'absol-table-scroller-left-vscroller',
                child: '.absol-table-scroller-left-vscroller-viewport'
            },
            '.absol-table-scroller-head-line',
            '.absol-table-scroller-left-line',
            {
                class: 'absol-table-scroller-vscrollbar-container',
                child: {
                    tag: 'vscrollbar'
                }
            },
            {
                class: 'absol-table-scroller-hscrollbar-container',
                child: {
                    tag: 'hscrollbar'
                }
            },
            'attachhook'
        ]
    });
};


TableScroller.scrollSize = 17;//default 

HTML5_Dom["a" /* default */].getScrollSize().then(function (size) {
    TableScroller.scrollSize = size.width;//default scroller
    TableScroller.$style = TableScroller_('style[id="table-scroller-css"]').addTo(document.head);
    TableScroller.$style.innerHTML = [
        '.absol-table-scroller .absol-table-scroller-viewport {',// 
        '    width: calc(100% + ' + size.width + 'px);',
        '    height: calc(100% + ' + size.width + 'px);',
        '}',
        '.absol-table-scroller .absol-table-scroller-header-hscroller-viewport {',
        '    margin-bottom: -' + size.width + 'px;/*default*/',
        '}'

    ].join('\n');
    HTML5_Dom["a" /* default */].updateResizeSystem();
    setTimeout(HTML5_Dom["a" /* default */].updateResizeSystem.bind(HTML5_Dom["a" /* default */]), 30);// css load delay
});

TableScroller.eventHandler = {};
TableScroller.eventHandler.scrollViewport = function (event) {
    if (!this.__scrollingElement__ || this.__scrollingElement__ == this.$viewport) {
        this.__scrollingElement__ = this.$viewport;
        this.$headScrollerViewport.scrollLeft = this.$viewport.scrollLeft;
        this.$leftViewport.scrollTop = this.$viewport.scrollTop;
        this.$vscrollbar.innerOffset = this.$viewport.scrollTop;
        this.$hscrollbar.innerOffset = this.$viewport.scrollLeft;

        if (this.__scrollTimer__ > 0) {
            clearTimeout(this.__scrollTimer__);
        }
        this.__scrollTimer__ = setTimeout(function () {
            this.__scrollingElement__ = undefined;
            this.__scrollTimer__ = -1;
        }.bind(this), 300);
    }
};

TableScroller.eventHandler.scrollHeadScrollerViewport = function (event) {
    if (!this.__scrollingElement__ || this.__scrollingElement__ == this.$headScrollerViewport) {
        this.__scrollingElement__ = this.$headScrollerViewport;
        this.$viewport.scrollLeft = this.$headScrollerViewport.scrollLeft;
        if (this.__scrollTimer__ > 0) {
            clearTimeout(this.__scrollTimer__);
        }
        this.__scrollTimer__ = setTimeout(function () {
            this.__scrollingElement__ = undefined;
            this.__scrollTimer__ = -1;
        }.bind(this), 100);
    }
};


TableScroller.eventHandler.scrollLeftScrollerViewport = function () {
    if (!this.__scrollingElement__ || this.__scrollingElement__ == this.$leftViewport) {
        this.__scrollingElement__ = this.$leftViewport;
        this.$viewport.scrollTop = this.$leftViewport.scrollTop;
        if (this.__scrollTimer__ > 0) {
            clearTimeout(this.__scrollTimer__);
        }
        this.__scrollTimer__ = setTimeout(function () {
            this.__scrollingElement__ = undefined;
            this.__scrollTimer__ = -1;
        }.bind(this), 100);
    }
}

TableScroller.prototype.clearChild = function () {
    this.$viewport.clearChild();
    this.$fixedViewport.clearChild();
    this.$headScrollerViewport.clearChild();
    this.$leftViewport.clearChild();
    this.$content = null;
    return this;
};

TableScroller.prototype.addChild = function (elt) {
    if (this.$viewport.childNodes.length == 0) {
        if (elt.tagName && elt.tagName.toLowerCase() == 'table') {
            elt.classList.add('absol-table-scroller-origin');
            this.$viewport.addChild(elt);
            this.$content = elt;
            this._updateContent();
            this.sync.then(this._updateContentSize.bind(this)).then(function () {
                setTimeout(this._updateContentSize.bind(this), 30);
            }.bind(this));
        }
        else {
            throw new Error('Element must be a table!');
        }
    }
    else {
        throw new Error("Only 1 table accepted!");
    }
};


TableScroller.prototype._updateFixedTable = function () {
    var fixedCol = this.fixedCol;
    this.$fixedViewport.clearChild();
    this.$fixedTable = TableScroller_$(this.$content.cloneNode(false)).addClass('absol-table-scroller-fixed-table')
        .removeClass('absol-table-scroller-origin').addTo(this.$fixedViewport);
    this.$fixedTableThead = TableScroller_$(this.$contentThead.cloneNode(false)).addTo(this.$fixedTable);

    this.$fixedTableThead.clearChild();
    this._fixedTableThsVisible = [];
    var self = this;
    this._fixedTableTr = Array.prototype.filter.call(this.$contentThead.childNodes, function (elt) {
        return elt.tagName == "TR";
    }).map(function (tr) {
        var cloneTr = TableScroller_$(tr.cloneNode(false));
        cloneTr.__originElement__ = tr;
        self.$fixedTableThead.appendChild(cloneTr);
        return cloneTr;
    });

    this._fixedTableThs = this._fixedTableTr.map(function (tr) {
        return Array.prototype.filter.call(tr.__originElement__.childNodes, function (elt1) {
            return elt1.tagName == "TH" || elt1.tagName == "TD";
        }).reduce(function (ac, th) {
            var colspan = th.getAttribute('colspan');
            if (colspan) {
                colspan = parseInt(colspan);
            }
            else {
                colspan = 1;
            }
            ac.colspanSum += colspan;
            var cloneTh = TableScroller_$(th.cloneNode(true));
            tr.appendChild(cloneTh);
            cloneTh.__originElement__ = th;
            ac.result.push(cloneTh);
            if (ac.colspanSum <= fixedCol) {
                self._fixedTableThsVisible.push(th);
            }
            return ac;
        }, { result: [], colspanSum: 0 }).result;
    });

};


TableScroller.prototype._updateHeaderScroller = function () {
    var self = this;
    this.$headScrollerViewport.clearChild();
    this.$headScrollerTable = TableScroller_$(this.$content.cloneNode(false))
        .removeClass('absol-table-scroller-origin')
        .addTo(this.$headScrollerViewport);
    this.$headScrollerThead = TableScroller_$(this.$contentThead.cloneNode(false))
        .addTo(this.$headScrollerTable);

    this._headScrollerTr = Array.prototype.filter.call(this.$contentThead.childNodes, function (elt) {
        return elt.tagName == "TR";
    }).map(function (tr) {
        var cloneTr = TableScroller_$(tr.cloneNode(false));
        cloneTr.__originElement__ = tr;
        self.$headScrollerThead.appendChild(cloneTr);
        return cloneTr;
    });

    this._headScrollerTds = this._headScrollerTr.map(function (tr) {
        return Array.prototype.filter.call(tr.__originElement__.childNodes, function (elt1) {
            return elt1.tagName == "TH";
        }).map(function (th) {
            var cloneTh = TableScroller_$(th.cloneNode(true)).addTo(tr);
            cloneTh.__originElement__ = th;
            return cloneTh;
        });

    });
};


TableScroller.prototype._updateLeftTable = function () {
    this.$leftViewport.clearChild();
    this.$leftTable = TableScroller_$(this.$content.cloneNode(true)).addTo(this.$leftViewport);


};


TableScroller.prototype._updateContent = function () {
    this.$contentThead = TableScroller_$('thead', this.$content);
    this._updateFixedTable();
    this._updateHeaderScroller();
    this._updateLeftTable();
};

TableScroller.prototype._updateFixedTableSize = function () {
    var l = 1000;
    var r = -1000;
    this._fixedTableThsVisible.forEach(function (elt) {
        var b = elt.getBoundingClientRect();
        l = Math.min(l, b.left);
        r = Math.max(r, b.right);
    });
    this._leftWidth = Math.max(r - l, 0);

    this.$fixedViewport.addStyle('width', this._leftWidth + 2 + 'px');

    this._fixedTableTr.forEach(function (elt) {
        var styleHeight = elt.__originElement__.getBoundingClientRect().height + 'px';
        elt.addStyle('height', styleHeight);
    });

    this._fixedTableThs.forEach(function (row) {
        row.forEach(function (elt) {
            var styleWidth = elt.__originElement__.getBoundingClientRect().width + 'px';
            elt.addStyle('width', styleWidth);
        });
    });

    this.$fixedTable.addStyle({
        height: this.$contentThead.getBoundingClientRect().height + 'px',
        width: this.$content.getBoundingClientRect().width + 'px',
    });
};


TableScroller.prototype._updateHeaderScrollerSize = function () {
    var headHeight = this.$contentThead.getBoundingClientRect().height + 'px';
    this.$headScrollerTable.addStyle('height', headHeight);
    this.$headScrollerTable.addStyle('width', this.$content.getBoundingClientRect().width + 'px');
    this._headScrollerTr.forEach(function (elt) {
        var styleHeight = elt.__originElement__.getBoundingClientRect().height + 'px';
        elt.addStyle('height', styleHeight);
    });

    this._headScrollerTds.forEach(function (row) {
        row.forEach(function (elt) {
            var styleWidth = elt.__originElement__.getBoundingClientRect().width + 'px';
            elt.addStyle('width', styleWidth);
        });
    });
};

TableScroller.prototype._updateLeftTableSize = function () {
    this.$leftTable.addStyle('width', this.$content.getBoundingClientRect().width + 'px');
    this.$leftTable.addStyle('height', this.$content.getBoundingClientRect().height + 'px');
    this.$leftScroller.addStyle('width', this._leftWidth + 2 + 'px');
};

TableScroller.prototype._updateLinesSize = function () {
    if (this.$viewport.clientHeight < this.$viewport.scrollHeight) {
        this.addClass('scroll-v');
    }
    else {
        this.removeClass('scroll-v');
    }

    if (this.$viewport.clientWidth < this.$viewport.scrollWidth) {
        this.addClass('scroll-h');
    }
    else {
        this.removeClass('scroll-h');
    }

    this.$leftLine.addStyle({
        maxHeight: this.$content.getBoundingClientRect().height + 'px',
        left: this._leftWidth + 'px'
    });
    this.$headLine.addStyle({
        top: this.$contentThead.getBoundingClientRect().height + 'px',
        maxWidth: this.$content.getBoundingClientRect().width + 'px'
    });
};


TableScroller.prototype._updateScrollBarSize = function () {
    var viewportBound = this.$viewport.getBoundingClientRect();
    var tableBound = this.$content.getBoundingClientRect();
    this.$vscrollbar.innerHeight = this.$viewport.scrollHeight;
    this.$vscrollbar.outerHeight = viewportBound.height - TableScroller.scrollSize;


    this.$hscrollbar.innerWidth = this.$viewport.scrollWidth;
    this.$hscrollbar.outerWidth = viewportBound.width - TableScroller.scrollSize;

    var overHeight = this.$viewport.clientHeight < this.$viewport.scrollHeight;
    var overWidth = this.$viewport.clientWidth < this.$viewport.scrollWidth;
    if (overHeight) {
        if (overWidth) {
            this.$hscrollbarCtn.removeStyle('bottom');
            this.$vscrollbarCtn.removeStyle('right');
        }
        else {
            this.$vscrollbarCtn.addStyle('right', viewportBound.width - TableScroller.scrollSize - tableBound.width + 'px');
        }
    }
    else {
        if (overWidth) {
            this.$hscrollbarCtn.addStyle('bottom', viewportBound.height - TableScroller.scrollSize - tableBound.height + 'px');
        }
    }
};

TableScroller.prototype._updateContentSize = function () {
    if (!this.$fixedTable) return;
    this._updateFixedTableSize();
    this._updateHeaderScrollerSize();
    this._updateLeftTableSize();
    this._updateLinesSize();
    this._updateScrollBarSize();
};

TableScroller.property = {};

TableScroller.property.fixedCol = {
    set: function (value) {
        value = value || 0;
        this._fixedCol = value;
        if (this.$content) {
            this._updateContent();
            this.sync.then(this._updateContentSize.bind(this)).then(function () {
                setTimeout(this._updateContentSize.bind(this), 30)
            }.bind(this));
        }
    },
    get: function () {
        return this._fixedCol || 0;
    }
};


ACore["a" /* default */].install(TableScroller);

/* harmony default export */ var js_TableScroller = (TableScroller);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/tablevscroller.css
var tablevscroller = __webpack_require__(155);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TableVScroller.js




var TableVScroller_ = ACore["a" /* default */]._;
var TableVScroller_$ = ACore["a" /* default */].$;

function TableVScroller() {
    var thisTS = this;
    this.$attachHook = TableVScroller_$('attachhook', this);

    this.sync = new Promise(function (rs) {
        thisTS.$attachHook.on('error', rs)
    });
    this.$viewport = TableVScroller_$('.absol-table-vscroller-viewport', this);

    this.$attachHook.on('error', function () {
        HTML5_Dom["a" /* default */].addToResizeSystem(thisTS.$attachHook);
    });
    this.$topTable = TableVScroller_$('.absol-table-vscroller-head', this);
    this.$headLine = TableVScroller_$('.absol-table-vscroller-head-line', this);
}

TableVScroller.tag = 'TableVScroller'.toLowerCase();

TableVScroller.render = function () {
    return TableVScroller_(
        {
            class: 'absol-table-vscroller',
            child: [
                '.absol-table-vscroller-viewport',
                'table.absol-table-vscroller-head',
                '.absol-table-vscroller-head-line',
                'attachhook'
            ]
        }
    );
};

TableVScroller.prototype.clearChild = function () {
    this.$viewport.clearChild();
    this.$topTable.clearChild();
};

TableVScroller.prototype.addChild = function (elt) {
    if (this.$viewport.childNodes.length == 0) {
        if (elt.tagName && elt.tagName.toLowerCase() == 'table') {
            this.$viewport.addChild(elt);
            this.$table = TableVScroller_$(elt);
            this.$thead = TableVScroller_$('thead', elt);
            this.$tr = TableVScroller_$('tr', this.$thead);
            this.$topThead = this.$thead.cloneNode(true);
            this.$topTr = TableVScroller_$('tr', this.$topThead);
            this.$topTable.addChild(this.$topThead).addStyle('display', 'none');
        }
        else {
            throw new Error('Element must be a table!');
        }
    }
    else {
        throw new Error("Only 1 table accepted!");
    }
};

TableVScroller.prototype._trackBackgroundColor = function (element) {
    var current = this.$thead;
    var res;
    while (current && !res && res != 'rgba(0, 0, 0, 0)') {
        res = window.getComputedStyle(element).getPropertyValue('background-color');
        current = current.parentNode;

    }
    if (res == 'rgba(0, 0, 0, 0)') return 'white';
    return res;
}

TableVScroller.prototype.updateStyle = function () {
    if (!this.$thead) return;
    var clazz = this.$table.attr('class');
    if (clazz) {
        clazz = clazz.trim().split(/\s+/);
        for (var i = 0; i < clazz.length; ++i) {
            this.$topTable.addClass(clazz[i]);
        }
    }
    var bgColor = this._trackBackgroundColor(this.$thead);
    this.$topTable.addStyle('background-color', bgColor);
};


TableVScroller.prototype.updateSize = function () {
    var theadBound = this.$thead.getBoundingClientRect();
    var tableBound = this.$table.getBoundingClientRect();
    this.$topTable.addStyle({
        width: tableBound.width + 'px',
        height: theadBound.height + 'px'
    });
    this.$headLine.addStyle({
        top: theadBound.height + 'px',
        maxWidth: tableBound.width + 'px'
    });

    if (this.$viewport.clientHeight < this.$viewport.scrollHeight) {
        this.addClass('scroll-v');
    }
    else {
        this.removeClass('scroll-v');
    }
    var realNodes = this.$tr.childNodes;
    var topNodes = this.$topTr.childNodes;

    for (var i = 0; i < realNodes.length; ++i) {
        if (!realNodes[i].tagName) continue;
        var wstyle = window.getComputedStyle(TableVScroller_$(realNodes[i])).getPropertyValue('width');
        TableVScroller_$(topNodes[i]).attr('style', realNodes[i].attr('style')).addStyle('width', wstyle);
    }
    this.$topTable.removeStyle('display');
}


TableVScroller.prototype.update = function () {
    if (!this.$thead) return;
    this.updateStyle();
    this.updateSize();

};

TableVScroller.prototype.init = function (props) {
    this.super(props);
    this.sync.then(this.update.bind(this));
    this.$attachHook.updateSize = this.update.bind(this);
};

ACore["a" /* default */].install(TableVScroller);

/* harmony default export */ var js_TableVScroller = (TableVScroller);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/textarea2.css
var textarea2 = __webpack_require__(157);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/SelectMenu.js








/*global absol*/
var SelectMenu_ = ACore["a" /* default */]._;
var SelectMenu_$ = ACore["a" /* default */].$;

ACore["a" /* default */].creator['dropdown-ico'] = function () {
    return SelectMenu_([
        '<svg class="dropdown" width="100mm" height="100mm" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">',
        '<g transform="translate(0,-197)">',
        '<path d="m6.3152 218.09a4.5283 4.5283 0 0 0-3.5673 7.3141l43.361 55.641a4.5283 4.5283 0 0 0 7.1421 7e-3l43.496-55.641a4.5283 4.5283 0 0 0-3.5673-7.3216z" />',
        '</g>',
        '</svg>'
    ].join(''));
};


function SelectMenu_SelectMenu() {
    var thisSM = this;
    this._items = [];
    this._value = null;
    this._lastValue = null;
    this.$holderItem = SelectMenu_$('.absol-selectmenu-holder-item', this);

    this.$anchorCtn = SelectMenu_SelectMenu.getAnchorCtn();
    this.$anchor = SelectMenu_('.absol-selectmenu-anchor.absol-disabled').addTo(this.$anchorCtn);
    this.$anchorContentCtn = SelectMenu_('.absol-selectmenu-anchor-content-container').addTo(this.$anchor);

    this.$dropdownBox = SelectMenu_('.absol-selectmenu-dropdown-box').addTo(this.$anchorContentCtn);
    this.$searchTextInput = SelectMenu_('searchtextinput').addStyle('display', 'none').addTo(this.$dropdownBox);
    this.$vscroller = SelectMenu_('bscroller').addTo(this.$dropdownBox);
    this.$selectlist = SelectMenu_('selectlist', this).addTo(this.$vscroller)
        .on('sizechangeasync', this.eventHandler.listSizeChangeAsync)
        .on('valuevisibilityasync', this.eventHandler.listValueVisibility);


    this.$scrollTrackElts = [];
    this.$removableTrackElts = [];

    this._itemsByValue = {};
    this.$searchTextInput.on('stoptyping', this.eventHandler.searchModify);
    this._searchCache = {};
    this.$selectlist.on('pressitem', this.eventHandler.selectlistPressItem, true);
    this.$selectlist.on('pressitem', function () {
        thisSM.isFocus = false;
    }, true);
    this._lastValue = "NOTHING_VALUE";
    this._resourceReady = true;


    this.on('mousedown', this.eventHandler.click, true);
    this.on('blur', this.eventHandler.blur);

    this.selectListBound = { height: 0, width: 0 };
    this.$attachhook = SelectMenu_$('attachhook', this)
        .on('error', this.eventHandler.attached);

    this.sync = new Promise(function (rs) {
        SelectMenu_$('attachhook', this).once('error', function () {
            rs();
        });
    });

    this._selectListScrollSession = null;
    this._itemIdxByValue = null;
    return this;
}

SelectMenu_SelectMenu.tag = 'selectmenu-old';
SelectMenu_SelectMenu.render = function () {
    return SelectMenu_({
        class: ['absol-selectmenu'],
        extendEvent: ['change', 'minwidthchange'],
        attr: {
            tabindex: '1'
        },
        child: [
            '.absol-selectmenu-holder-item',
            {
                tag: 'button',
                class: 'absol-selectmenu-btn',
                child: ['dropdown-ico']
            },
            'attachhook',
        ]
    });
};

SelectMenu_SelectMenu.optimizeResource = true;

// //will remove after SelectMenu completed
SelectMenu_SelectMenu.getRenderSpace = function () {
    if (!SelectMenu_SelectMenu.getRenderSpace.warned) {
        console.warn('SelectMenu.getRenderSpace() will be removed in next version');
    }
    SelectMenu_SelectMenu.getRenderSpace.warned = true;
    if (!SelectMenu_SelectMenu.$renderSpace) {
        SelectMenu_SelectMenu.$renderSpace = SelectMenu_('.absol-selectmenu-render-space')
            .addTo(document.body);
    }
    return SelectMenu_SelectMenu.$renderSpace;
};


SelectMenu_SelectMenu.getAnchorCtn = function () {
    if (!SelectMenu_SelectMenu.$anchorCtn) {
        SelectMenu_SelectMenu.$anchorCtn = SelectMenu_('.absol-selectmenu-anchor-container')
            .addTo(document.body);
    }
    return SelectMenu_SelectMenu.$anchorCtn;
};


SelectMenu_SelectMenu.prototype.updateItem = function () {
    this.$holderItem.clearChild();
    if (this._itemsByValue[this.value]) {
        var elt = SelectMenu_({ tag: 'selectlistitem', props: { data: this._itemsByValue[this.value] } }).addTo(this.$holderItem);
        elt.$descCtn.addStyle('width', this.$selectlist._descWidth + 'px');
    }
};

SelectMenu_SelectMenu.prototype._dictByValue = function (items) {
    var dict = {};
    var item;
    for (var i = 0; i < items.length; ++i) {
        item = items[i];
        dict[item.value + ''] = item;
    }
    return dict;
};


SelectMenu_SelectMenu.prototype.init = function (props) {
    props = props || {};
    Object.keys(props).forEach(function (key) {
        if (props[key] === undefined) delete props[key];
    });

    if (!('value' in props)) {
        if (props.items && props.items.length > 0) props.value = typeof props.items[0] == 'string' ? props.items[0] : props.items[0].value;
    }
    var value = props.value;
    delete props.value;
    this.super(props);
    this.value = value;
};

SelectMenu_SelectMenu.property = {};
SelectMenu_SelectMenu.property.items = {
    set: function (value) {
        this._searchCache = {};
        this._itemIdxByValue = null;
        /**
         * verity data
         */
        if (value) {
            value.forEach(function (it) {
                if (it && it.text) {
                    it.text = it.text + '';
                }
            });
        }

        this._items = value;
        this._itemsByValue = this._dictByValue(value);

        if (!this._itemsByValue[this.value] && value.length > 0) {
            this.value = value[0].value;
        }
        else
            this.updateItem();

        this.$dropdownBox.removeStyle('min-width');
        this.selectListBound = this.$selectlist.setItemsAsync(value || []);
        this.style.setProperty('--select-list-desc-width', this.$selectlist.measuredSize.descWidth + 'px');
        this._resourceReady = true;

        this.addStyle('min-width', this.selectListBound.width + 2 + 23 + 'px');
        this.emit('minwidthchange', {
            target: this,
            value: this.selectListBound.width + 2 + 23,
            type: 'minwidthchange'
        }, this);
    },
    get: function () {
        return this._items || [];
    }
};

SelectMenu_SelectMenu.property.value = {
    set: function (value) {
        this.$selectlist.value = value;
        this._lastValue = value;
        this.updateItem();
    },
    get: function () {
        return this.$selectlist.value;
    }
};


SelectMenu_SelectMenu.property.enableSearch = {
    set: function (value) {
        this._enableSearch = !!value;
        if (value) {
            this.$searchTextInput.removeStyle('display');
        }
        else {
            this.$searchTextInput.addStyle('display', 'none');
        }
    },
    get: function () {
        return !!this._enableSearch;
    }
};

SelectMenu_SelectMenu.prototype.updateDropdownPostion = function (updateAnchor) {
    if (!this.isFocus) {
        this.$anchorContentCtn
            .removeStyle('left')
            .removeStyle('top');
        this.$dropdownBox.removeStyle('min-width');
        return;
    }
    var bound = this.getBoundingClientRect();
    if (!updateAnchor) {
        var outBound = HTML5_Dom["a" /* default */].traceOutBoundingClientRect(this);

        if (!this.isFocus || bound.top > outBound.bottom || bound.bottom < outBound.top) {
            this.isFocus = false;
            return;
        }

        var anchorOutBound = HTML5_Dom["a" /* default */].traceOutBoundingClientRect(this.$anchor);
        var searchBound = this.$searchTextInput.getBoundingClientRect();
        var availableTop = bound.top - anchorOutBound.top - (this.enableSearch ? searchBound.height + 8 : 0) - 20;
        var availableBottom = anchorOutBound.bottom - bound.bottom - (this.enableSearch ? searchBound.height + 8 : 0) - 20;

        if (this.forceDown || availableBottom >= this.selectListBound.height || availableBottom > availableTop) {
            this.isDropdowUp = false;
            if (this.$dropdownBox.firstChild != this.$searchTextInput) {
                this.$searchTextInput.selfRemove();
                this.$dropdownBox.addChildBefore(this.$searchTextInput, this.$vscroller);
            }
            this.$vscroller.addStyle('max-height', availableBottom + 'px');
        }
        else {
            this.isDropdowUp = true;
            if (this.$dropdownBox.lastChild != this.$searchTextInput) {
                this.$searchTextInput.selfRemove();
                this.$dropdownBox.addChild(this.$searchTextInput);
            }
            this.$vscroller.addStyle('max-height', availableTop + 'px');
        }
        this.$dropdownBox.addStyle('min-width', bound.width + 'px');
    }
    var anchorBound = this.$anchor.getBoundingClientRect();
    if (this.isDropdowUp) {
        this.$anchorContentCtn.addStyle({
            left: bound.left - anchorBound.left + 'px',
            top: bound.top - anchorBound.top - this.$dropdownBox.clientHeight - 1 + 'px',
        });
    }
    else {
        this.$anchorContentCtn.addStyle({
            left: bound.left - anchorBound.left + 'px',
            top: bound.bottom - anchorBound.top + 'px',
        });
    }
};

SelectMenu_SelectMenu.prototype.scrollToSelectedItem = function () {
    var self = this;
    setTimeout(function () {
        if (self.$selectlist.$selectedItem) {
            var fistChildBound = self.$selectlist.childNodes[1].getBoundingClientRect();
            var lastChildBound = self.$selectlist.lastChild.getBoundingClientRect();
            var listBound = {
                top: fistChildBound.top,
                height: lastChildBound.bottom - fistChildBound.top,
                bottom: lastChildBound.bottom
            }
            var itemBound = self.$selectlist.$selectedItem.getBoundingClientRect();
            if (self.isDropdowUp) {
                var scrollBound = self.$vscroller.getBoundingClientRect();
                self.$vscroller.scrollTop = Math.max(itemBound.bottom - scrollBound.height - listBound.top, 0);

            }
            else {
                self.$vscroller.scrollTop = itemBound.top - listBound.top;
            }
        }
    }.bind(this), 3);
};


SelectMenu_SelectMenu.prototype.startTrackScroll = function () {
    var trackElt = this.parentElement;
    while (trackElt) {
        if (trackElt.addEventListener) {
            trackElt.addEventListener('scroll', this.eventHandler.scrollParent, false);

        }
        else {
            trackElt.attachEvent('onscroll', this.eventHandler.scrollParent, false);
        }

        this.$scrollTrackElts.push(trackElt);
        trackElt = trackElt.parentElement;
    }
    if (document.addEventListener) {
        document.addEventListener('scroll', this.eventHandler.scrollParent, false);

        document.addEventListener('wheel', this.eventHandler.wheelDocument, true);
    }
    else {
        document.attachEvent('onscroll', this.eventHandler.scrollParent, false);
    }
    this.$scrollTrackElts.push(document);

};

SelectMenu_SelectMenu.prototype.stopTrackScroll = function () {
    var trackElt;
    for (var i = 0; i < this.$scrollTrackElts.length; ++i) {
        trackElt = this.$scrollTrackElts[i];
        if (trackElt.removeEventListener) {
            trackElt.removeEventListener('scroll', this.eventHandler.scrollParent, false);
        }
        else {
            trackElt.dettachEvent('onscroll', this.eventHandler.scrollParent, false);

        }
    }
    this.$scrollTrackElts = [];
};

SelectMenu_SelectMenu.prototype.startListenRemovable = function () {
    var removableElt = this.parentElement;
    while (removableElt) {
        if (removableElt.isSupportedEvent && removableElt.isSupportedEvent('remove')) {
            removableElt.on('remove', this.eventHandler.removeParent);
        }
        removableElt = removableElt.parentElement;
    }
};

SelectMenu_SelectMenu.prototype.stopListenRemovable = function () {
    var removableElt;
    while (this.$removableTrackElts.length > 0) {
        removableElt = this.$removableTrackElts.pop();
        removableElt.off('remove', this.eventHandler.removeParent);
    }
};

SelectMenu_SelectMenu.prototype._releaseResource = function () {
    this.$selectlist.items = [];
};

SelectMenu_SelectMenu.prototype._requestResource = function () {
    this.$selectlist.items = this._items || [];
};

SelectMenu_SelectMenu.property.isFocus = {
    set: function (value) {
        var self = this;
        value = !!value;
        if (value == this.isFocus) return;
        this._isFocus = value;
        if (value) {
            this.startTrackScroll();
            this.selectListScrollToken = null;//force scroll
            var isAttached = false;
            setTimeout(function () {
                if (isAttached) return;
                SelectMenu_$('body').on('mousedown', self.eventHandler.bodyClick);
                isAttached = true;
            }, 1000);
            SelectMenu_$('body').once('click', function () {
                setTimeout(function () {
                    if (isAttached) return;
                    SelectMenu_$('body').on('mousedown', self.eventHandler.bodyClick);
                    isAttached = true;
                }, 10);
            });

            if (this.enableSearch) {
                setTimeout(function () {
                    self.$searchTextInput.focus();
                }, 50);
            }

            this.updateDropdownPostion();
            this.scrollToSelectedItem();
            this.$anchor.removeClass('absol-disabled');
        }
        else {
            this.$anchor.addClass('absol-disabled');
            this.stopTrackScroll();
            SelectMenu_$('body').off('mousedown', this.eventHandler.bodyClick);
            setTimeout(function () {
                if (self.$searchTextInput.value != 0) {
                    self.$searchTextInput.value = '';
                    self.$selectlist.items = self.items;
                    self._resourceReady = true;
                    self.$selectlist.removeClass('as-searching');
                }
            }, 100)
            this.updateItem();
        }
    },
    get: function () {
        return !!this._isFocus;
    }
};


SelectMenu_SelectMenu.property.disabled = {
    set: function (value) {
        if (value) {
            this.addClass('disabled');
        }
        else {
            this.removeClass('disabled');
        }
    },
    get: function () {
        return this.containsClass('disabled');
    }
};


SelectMenu_SelectMenu.property.hidden = {
    set: function (value) {
        if (value) {
            this.addClass('hidden');
        }
        else {
            this.removeClass('hidden');
        }
    },
    get: function () {
        return this.addClass('hidden');
    }
};

SelectMenu_SelectMenu.property.selectedIndex = {
    get: function () {
        if (!this._itemIdxByValue) {
            this._itemIdxByValue = {};
            for (var i = 0; i < this._items.length; ++i) {
                this._itemIdxByValue[this._items[i].value] = i;
            }
        }
        var idx = this._itemIdxByValue[this._value];
        return idx >= 0 ? idx : -1;
    }
};

/**
 * @type {SelectMenu}
 */
SelectMenu_SelectMenu.eventHandler = {};

SelectMenu_SelectMenu.eventHandler.attached = function () {
    if (this._updateInterval) return;
    if (!this.$anchor.parentNode) this.$anchor.addTo(this.$anchorCtn);
    this.$attachhook.updateSize = this.$attachhook.updateSize || this.updateDropdownPostion.bind(this);
    HTML5_Dom["a" /* default */].addToResizeSystem(this.$attachhook);
    this.stopListenRemovable();
    this.startListenRemovable();
    if (!this._resourceReady) {
        this._requestResource();
        this._resourceReady = true;
    }
    this._updateInterval = setInterval(function () {
        if (!this.isDescendantOf(document.body)) {
            clearInterval(this._updateInterval);
            this._updateInterval = undefined;
            this.$anchor.selfRemove();
            this.stopTrackScroll();
            this.stopListenRemovable();
            this.eventHandler.removeParent();
        }
    }.bind(this), 10000);
};


SelectMenu_SelectMenu.eventHandler.scrollParent = function (event) {
    var self = this;
    if (this._scrollFrameout > 0) {
        this._scrollFrameout = 10;
        return;
    }
    this._scrollFrameout = this._scrollFrameout || 10;

    function update() {
        self.updateDropdownPostion(false);
        self.scrollToSelectedItem();
        self._scrollFrameout--;
        if (self._scrollFrameout > 0) requestAnimationFrame(update);
    }

    update();
};

SelectMenu_SelectMenu.eventHandler.removeParent = function (event) {
    this._releaseResource();
    this._resourceReady = false;
};

SelectMenu_SelectMenu.eventHandler.click = function (event) {
    if (EventEmitter["b" /* default */].isMouseRight(event)) return;
    this.isFocus = !this.isFocus;
};


SelectMenu_SelectMenu.eventHandler.bodyClick = function (event) {
    if (!EventEmitter["b" /* default */].hitElement(this, event) && !EventEmitter["b" /* default */].hitElement(this.$anchor, event)) {
        setTimeout(function () {
            this.isFocus = false;
        }.bind(this), 5)
    }
};

SelectMenu_SelectMenu.eventHandler.selectlistPressItem = function (event) {
    this.updateItem();
    if (this._lastValue != this.value) {
        event.lastValue = this._lastValue;
        event.value = this.value;
        setTimeout(function () {
            this.emit('change', event, this);
        }.bind(this), 1)
        this._lastValue = this.value;
    }
};


SelectMenu_SelectMenu.eventHandler.searchModify = function (event) {
    var filterText = this.$searchTextInput.value.replace(/((\&nbsp)|(\s))+/g, ' ').trim();
    if (filterText.length == 0) {
        this._resourceReady = true;
        this.$selectlist.items = this.items;
        this.scrollToSelectedItem();
        this.$selectlist.removeClass('as-searching');
    }
    else {
        this.$selectlist.addClass('as-searching');
        var view = [];
        if (!this._searchCache[filterText]) {
            if (this._items.length > 0 && !this._items[0].__nvnText__) {
                prepareSearchForList(this._items);
            }

            view = searchListByText(filterText, this._items);
            this._searchCache[filterText] = view;
        }
        else {
            view = this._searchCache[filterText];
        }
        this.$selectlist.items = view;
        this._resourceReady = true;
        this.$vscroller.scrollTop = 0;
    }

    this.selectListBound = this.$selectlist.getBoundingClientRect();
    this.updateDropdownPostion(true);
};

SelectMenu_SelectMenu.eventHandler.listSizeChangeAsync = function () {
    this.updateDropdownPostion();
};

SelectMenu_SelectMenu.eventHandler.listValueVisibility = function (event) {
    if (!this.isFocus) return;
    if (this._selectListScrollSession == event.session) return;

    this._selectListScrollSession = event.session;
    this.scrollToSelectedItem();
};


ACore["a" /* default */].install(SelectMenu_SelectMenu);

/* harmony default export */ var js_SelectMenu = (SelectMenu_SelectMenu);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TextArea2.js





var TextArea2_ = ACore["a" /* default */]._;
var TextArea2_$ = ACore["a" /* default */].$;


function TextArea2() {
    this.on('keydown', this.eventHandler.keydown);
    this.on('paste', this.eventHandler.paste);
    this.on('cut', this.eventHandler.paste);
}

TextArea2.tag = 'TextArea2'.toLowerCase();

TextArea2.render = function () {
    return TextArea2_('textarea.absol-textarea2');
};


TextArea2.getRenderPre = function () {
    if (!TextArea2.$preSpace) {
        TextArea2.$preSpace = TextArea2_('textarea').addStyle({
            'overflow': 'hidden',
            'height': '12px',
            'resize': 'none'
        }).addTo(js_SelectMenu.getRenderSpace());
    }
    return TextArea2.$preSpace;
};

TextArea2.eventHandler = {};

TextArea2.eventHandler.keydown = function (event) {
    if (event.altKey || event.ctrlKey) return;
    var key = event.key;
    var selectPost = this.getInputSelection();
    var leftText = this.value.substring(0, selectPost.start);
    var rightText = this.value.substring(selectPost.end);


    var middText = '';
    if (key == 'Enter') {
        middText = '\n';
    }
    else if (key == 'Backspace') {
        if (leftText.length > 0) {
            leftText = leftText.substring(0, leftText.length - 1);
        }
    }
    else if (key == 'Delete') {
        if (selectPost.start < selectPost.end) {
            middText = '';
        }
        else if (rightText.length > 0) {
            rightText = rightText.substring(1);
        }
    }
    else if (key.length == 1) {//char
        middText = key;
    }
    else {
        return;
    }
    var newText = leftText + middText + rightText;

    var heightSyle = this._measureHeight(newText);
    this.addStyle('height', heightSyle);
};


TextArea2.eventHandler.paste = function (event) {
    // var text  = 
    var cl = event.clipboardData || window.clipboardData;
    var middText = cl.getData('Text') || '';
    var selectPost = this.getInputSelection();
    var leftText = this.value.substring(0, selectPost.start);
    var rightText = this.value.substring(selectPost.end);
    var newText = leftText + middText + rightText;

    var heightSyle = this._measureHeight(newText);
    this.addStyle('height', heightSyle);

};


TextArea2.eventHandler.cut = function (event) {
    // var text  = 
    var cl = event.clipboardData || window.clipboardData;
    var selectPost = this.getInputSelection();
    var leftText = this.value.substring(0, selectPost.start);
    var rightText = this.value.substring(selectPost.end);
    var newText = leftText + rightText;

    var heightSyle = this._measureHeight(newText);
    this.addStyle('height', heightSyle);

};

TextArea2.prototype._measureHeight = function (text) {
    var pre = TextArea2.getRenderPre();
    pre.addStyle('padding-left', this.getComputedStyleValue('padding-left'))
    pre.addStyle('padding-right', this.getComputedStyleValue('padding-right'))
    pre.addStyle('padding-top', this.getComputedStyleValue('padding-top'))
    pre.addStyle('padding-bottom', this.getComputedStyleValue('padding-bottom'));
    pre.addStyle('width', this.getComputedStyleValue('width'));
    pre.addStyle('height', this.getFontSize() + 'px');
    pre.addStyle('boder', this.getComputedStyleValue('boder'));
    pre.addStyle('font-size', this.getComputedStyleValue('font-size'));
    pre.addStyle('font-family', this.getComputedStyleValue('font-family'));
    pre.value = text;
    var result = pre.scrollHeight + 'px';
    return result;
};

/**
 * Return an object with the selection range or cursor position (if both have the same value)
 * @param {DOMElement} el A dom element of a textarea or input text.
 * @return {Object} reference Object with 2 properties (start and end) with the identifier of the location of the cursor and selected text.
 **/
TextArea2.prototype.getInputSelection = function () {
    var start = 0, end = 0, normalizedValue, range, textInputRange, len, endRange;

    if (typeof this.selectionStart == "number" && typeof this.selectionEnd == "number") {
        start = this.selectionStart;
        end = this.selectionEnd;
    }
    else {
        range = document.selection.createRange();

        if (range && range.parentElement() == this) {
            len = this.value.length;
            normalizedValue = this.value.replace(/\r\n/g, "\n");

            // Create a working TextRange that lives only in the input
            textInputRange = this.createTextRange();
            textInputRange.moveToBookmark(range.getBookmark());

            // Check if the start and end of the selection are at the very end
            // of the input, since moveStart/moveEnd doesn't return what we want
            // in those cases
            endRange = this.createTextRange();
            endRange.collapse(false);

            if (textInputRange.compareEndPoints("StartToEnd", endRange) > -1) {
                start = end = len;
            }
            else {
                start = -textInputRange.moveStart("character", -len);
                start += normalizedValue.slice(0, start).split("\n").length - 1;

                if (textInputRange.compareEndPoints("EndToEnd", endRange) > -1) {
                    end = len;
                }
                else {
                    end = -textInputRange.moveEnd("character", -len);
                    end += normalizedValue.slice(0, end).split("\n").length - 1;
                }
            }
        }
    }

    return {
        start: start,
        end: end
    };
}

ACore["a" /* default */].install(TextArea2);
/* harmony default export */ var js_TextArea2 = (TextArea2);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/textclipboard.css
var textclipboard = __webpack_require__(159);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TextClipboard.js



var TextClipboard_ = ACore["a" /* default */]._;
var TextClipboard_$ = ACore["a" /* default */].$;

function TextClipboard() {
    this.$textarea = TextClipboard_('<textarea class="absol-text-clipboard" wrap="off" autocorrect="off"' +
        ' autocapitalize="off" spellcheck="false"></textarea>').addTo(this);
}

TextClipboard.tag = 'TextClipboard'.toLowerCase();

TextClipboard.render = function () {
    return TextClipboard_({
        style: {
            positon: 'fixed',
            opacity: 0,
            width: '1px',
            height: '1px',
            top: 0,
            left: 0
        }
    });
};

TextClipboard.prototype.copy = function (text) {
    this.$textarea.value = text;
    this.$textarea.select();
    document.execCommand('copy');
};

TextClipboard.prototype.paste = function () {
    this.$textarea.select();
    document.execCommand('paste');
};

ACore["a" /* default */].install(TextClipboard);

/* harmony default export */ var js_TextClipboard = (TextClipboard);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/timeinput.css
var timeinput = __webpack_require__(161);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/timepicker.css
var timepicker = __webpack_require__(163);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TimePicker.js








//todo: add this to absol
var isTouchDevice = BrowserDetector["a" /* default */].hasTouch && !BrowserDetector["a" /* default */].os.type.match(/windows|X11|Ubuntu|Linux/);
//todo: re select text after click
var TimePicker_ = ACore["a" /* default */]._;
var TimePicker_$ = ACore["a" /* default */].$;

var TimePicker_$g = Svg["a" /* default */].ShareInstance.$;
var TimePicker_g = Svg["a" /* default */].ShareInstance._;

function TimePicker() {
    this._hour = 0;
    this._minute = 0;
    this._lastDayOffset = 0;
    this._state = 'none';
    this._mode = 'CLOCK';
    this._latBound = { width: 0, height: 0 };
    var thisPicker = this;
    if (isTouchDevice)
        this.addClass('ac-time-picker-touch');
    this.$attachook = TimePicker_('attachhook').addTo(this).on('error', function () {
        HTML5_Dom["a" /* default */].addToResizeSystem(this);
        this.requestUpdateSize();
        thisPicker.addStyle('font-size', thisPicker.getComputedStyleValue('font-size'));
    });
    this.$attachook.requestUpdateSize = this.updateSize.bind(this);
    /***
     *
     * @type {NumberSpanInput}
     */
    this.$hour = TimePicker_$('.ac-time-picker-hour', this)
        .on({
            focus: this.eventHandler.focusHour,
            keydown: this.eventHandler.keydownHour,
            blur: this.eventHandler.blurHour
        });
    /***
     *
     * @type {NumberSpanInput}
     */
    this.$minute = TimePicker_$('.ac-time-picker-minute', this)
        .on({
            keydown: this.eventHandler.keydownMinute,
            focus: this.eventHandler.focusMinute,
            blur: this.eventHandler.blurMinute,
        });

    this.$hourInput = TimePicker_$('.ac-time-picker-hour-input', this)
        .on({
            click: this.eventHandler.clickHourInput,
            keydown: this.eventHandler.keydownHourInput,
            blur: this.eventHandler.blurHourInput
        });

    this.$minuteInput = TimePicker_$('.ac-time-picker-minute-input', this)
        .on({
            click: this.eventHandler.clickMinuteInput,
            keydown: this.eventHandler.keydownMinuteInput,
            blur: this.eventHandler.blurMinuteInput
        });

    //only support if is none touch device
    if (isTouchDevice) {
        this.$hour.readOnly = true;
        this.$hour.on('click', this._editHourState.bind(this));
        this.$minute.readOnly = true;
        this.$minute.on('click', this._editMinuteState.bind(this));
    }

    this.$clock = TimePicker_$g('.ac-time-picker-clock', this)
        .on(isTouchDevice ? 'touchstart' : 'mousedown', this.eventHandler.mousedownClock
        );

    this._clockWidth = 400;
    this._clockHeight = 400;
    this._clockRadius = 150;
    this._clockRadiusInner = 100;
    this.$clockContent = TimePicker_$g('.ac-time-picker-clock-content', this);
    this.$clockHourCtn = TimePicker_$g('.ac-time-picker-clock-hour-ctn', this);
    this.$clockMinuteCtn = TimePicker_$g('.ac-time-picker-clock-minute-ctn', this);

    this.$hourNumbers = Array(24).fill(0).map(function (u, i) {
        var h = i;
        if (h == 0)
            h = 12;
        else if (h == 12) h = '00';
        return TimePicker_g({
            tag: 'text',
            attr: {
                'text-anchor': 'middle'
            },
            class: 'ac-time-picker-clock-hour-' + (i < 12 ? 'am' : 'pm'),
            child: { text: h + '' }
        }).addTo(thisPicker.$clockHourCtn);
    });
    this.$minuteNumbers = Array(12).fill(0).map(function (u, i) {
        return TimePicker_g({
            tag: 'text',
            attr: {
                'text-anchor': 'middle'
            },
            class: 'ac-time-picker-clock-minute',
            child: { text: i * 5 + '' }
        }).addTo(thisPicker.$clockMinuteCtn);
    });

    this.$selectCtn = TimePicker_$g('.ac-time-picker-clock-select-ctn', this);
    this.$clockCenter = TimePicker_g({
        tag: 'circle',
        class: 'ac-time-picker-clock-center',
        attr: {
            cx: "0",
            cy: '0'
        }
    }).addTo(this.$selectCtn);
    this.$clockSelectLine = TimePicker_g({
        tag: 'path',
        class: 'ac-time-picker-clock-select-line'
    }).addTo(this.$selectCtn);
    this.$clockSelectCicle = TimePicker_g({
        tag: 'circle',
        class: 'ac-time-picker-clock-select-circle',
        attr: {
            cx: 0,
            cy: 0
        }
    }).addTo(this.$selectCtn);

    this.$clockSelectCenter = TimePicker_g({
        tag: 'circle',
        class: 'ac-time-picker-clock-select-center'
    }).addTo(this.$selectCtn);
    this.$finishBtn = TimePicker_$('.ac-time-picker-finish-btn', this)
        .on('click', this.finishSelect.bind(this));
    this.$cancelBtn = TimePicker_$('.ac-time-picker-cancel-btn', this)
        .on('click', this.cancelSelect.bind(this));
    this.$keyboardBtn = TimePicker_$('.ac-time-picker-keyboard-btn', this)
        .on('click', this.timeMode.bind(this));
    this.$clockBtn = TimePicker_$('.ac-time-picker-clock-btn', this)
        .on('click', this.clockMode.bind(this));
};


TimePicker.prototype.updateSize = function () {
    // var 
    this._fontSize = this.getFontSize();
    var cBound = this.$clock.getBoundingClientRect();
    this._clockWidth = cBound.width;
    this._clockHeight = cBound.height;
    this.$clock.attr({
        width: this._clockWidth,
        height: this._clockHeight,
        viewBox: '0 0 ' + this._clockWidth + ' ' + this._clockHeight
    });

    this.$clockContent.attr('transform', 'translate(' + (this._clockWidth / 2) + ',' + (this._clockHeight / 2) + ')');
    var clockRadius = this._clockWidth / 2 - this._fontSize;
    var clockRadiusInner = clockRadius - this._fontSize * 1.5;
    this._clockRadius = clockRadius;
    this._clockRadiusInner = clockRadiusInner;
    this.$clockCenter.attr('r', this._fontSize / 5);
    this.$clockSelectCicle.attr({ r: this._fontSize * 0.7, cx: clockRadius });
    this.$clockSelectCenter.attr({ r: this._fontSize / 10, cx: clockRadius });
    this.$hourNumbers.forEach(function (elt, i) {
        var angle = Math.PI * (i - 3) / 6;
        var r = i < 12 ? clockRadius : clockRadiusInner;
        var box = elt.getBBox();
        var x = r * Math.cos(angle);
        var y = r * Math.sin(angle) + box.height / 2;
        elt.attr({
            x: x,
            y: y
        });
    });
    this.$minuteNumbers.forEach(function (elt, i) {
        var angle = Math.PI * (i - 3) / 6;
        var box = elt.getBBox();
        var x = clockRadius * Math.cos(angle);
        var y = clockRadius * Math.sin(angle) + box.height / 3;
        elt.attr({
            x: x,
            y: y
        });
    });
    this.updateSelectPosition();
    this.notifySizeChange();
};


TimePicker.prototype.updateSelectPosition = function () {
    var angle, radius;
    if (this._state == "EDIT_MINUTE") {
        angle = Math.PI * (this._minute - 15) / 30;
        radius = this._clockRadius
    }
    else if (this._state == "EDIT_HOUR") {
        angle = Math.PI * (this._hour - 3) / 6;
        if (this._hour > 0 && this._hour <= 12) {
            radius = this._clockRadius;
        }
        else {
            radius = this._clockRadiusInner;
        }
    }
    else {
        return;
    }
    this._drawSelect(radius, angle);
};

TimePicker.prototype.editHour = function () {
    this.clockMode();
    if (this.$hour.readOnly) {
        this._editHourState();
    }
    else {
        this.$hour.focus();
    }
}


TimePicker.prototype._drawSelect = function (radius, angle) {
    var x = radius * Math.cos(angle);
    var y = radius * Math.sin(angle);
    this.$clockSelectCicle.attr({
        cx: x, cy: y
    });
    this.$clockSelectCenter.attr({
        cx: x, cy: y
    });
    this.$clockSelectLine.attr('d', 'M0,0L' + x + ',' + y);
};


TimePicker.prototype.notifyChange = function (force) {
    if (this._lastDayOffset != this.dayOffset || force) {
        this.emit('change', {
            target: this,
            hour: this.hour,
            minute: this.minute,
            dayOffset: this.dayOffset,
            name: 'change'
        }, this);
        this._lastDayOffset = this.dayOffset;
    }
};


TimePicker.prototype.notifySizeChange = function () {
    var bound = this.getBoundingClientRect();
    if (this._latBound.width != bound.width || this._latBound.height != bound.height) {
        this._latBound.width = bound.width;
        this._latBound.height = bound.height;
        this.emit('sizechange', { name: 'sizechange', bound: bound, target: this }, this);
    }
};

TimePicker.tag = 'TimePicker';

TimePicker.render = function () {
    return TimePicker_({
        extendEvent: ['change', 'finish', 'cancel', 'sizechange'],
        class: ['ac-time-picker', 'ac-time-picker-clock-mode'],//clock mode is default
        child: [
            {
                class: 'ac-time-picker-set-clock',
                child: [{
                    class: 'ac-time-picker-set-clock-header',
                    child: [
                        {
                            tag: 'numberspaninput',
                            class: 'ac-time-picker-hour',
                            props: {
                                value: 0,
                                zeroInt: 2
                            }
                        },
                        {
                            tag: 'span',
                            text: ':'
                        },
                        {
                            tag: 'numberspaninput',
                            class: 'ac-time-picker-minute',
                            props: {
                                value: 0,
                                zeroInt: 2
                            }
                        }
                    ]
                },
                    TimePicker_g(
                        {
                            tag: 'svg',
                            class: 'ac-time-picker-clock',
                            child: [
                                {
                                    class: 'ac-time-picker-clock-content',
                                    child: ['.ac-time-picker-clock-select-ctn', '.ac-time-picker-clock-hour-ctn', '.ac-time-picker-clock-minute-ctn']
                                }
                            ]
                        }
                    )]
            },
            {
                class: 'ac-time-picker-set-time',
                child: [
                    {
                        class: 'ac-time-picker-set-time-header',
                        child: { text: 'Set time' }
                    },
                    {
                        class: 'ac-time-picker-set-time-label',
                        child: { text: 'Type in time' }
                    },
                    {
                        class: 'ac-time-picker-set-time-input-group',
                        child: [
                            {
                                class: 'ac-time-picker-set-time-input-hm',
                                child: [
                                    {
                                        tag: 'input',
                                        class: 'ac-time-picker-hour-input',
                                        attr: {
                                            type: 'number',
                                            placeHolder: '00',
                                            tabindex: '2',
                                        }
                                    },
                                    {
                                        tag: 'span',
                                        child: { text: ':' }
                                    },
                                    {
                                        tag: 'input',
                                        class: 'ac-time-picker-minute-input',
                                        attr: {
                                            type: 'number',
                                            placeHolder: '00',
                                            tabindex: '3'
                                        }
                                    }
                                ]
                            },
                            {
                                class: 'ac-time-picker-set-time-input-label-hm',
                                child: [
                                    { tag: 'span', child: { text: 'hour' } },
                                    { tag: 'span', style: { visibility: 'hidden' }, child: { text: ':' } },
                                    { tag: 'span', child: { text: 'minute' } }

                                ]
                            }
                        ]
                    }
                ]
            },
            {
                class: 'ac-time-picker-footer',
                child: [
                    {
                        tag: 'button',
                        class: 'ac-time-picker-keyboard-btn',
                        child: 'span.mdi.mdi-keyboard-outline'
                    },
                    {
                        tag: 'button',
                        class: 'ac-time-picker-clock-btn',
                        child: 'span.mdi.mdi-clock-outline'
                    },
                    {
                        class: 'ac-time-picker-footer-right',
                        child: [
                            {
                                tag: 'button',
                                class: 'ac-time-picker-cancel-btn',
                                attr: { tabindex: '4' },
                                child: { text: 'CANCEL' }
                            },
                            {
                                tag: 'button',
                                attr: { tabindex: '4' },
                                class: 'ac-time-picker-finish-btn',
                                child: { text: 'OK' }
                            }

                        ]
                    }]
            }
        ]
    });
};


TimePicker.prototype.clockMode = function () {
    if (this._mode == "CLOCK") return;
    this._mode = 'CLOCK';
    this.removeClass('ac-time-picker-time-mode')
        .addClass('ac-time-picker-clock-mode');
    this.$hour.value = this._hour < 10 ? '0' + this._hour : this._hour;
    this.$minute.value = this._minute < 10 ? '0' + this._minute : this._minute;
    this._editHourState();
    this.updateSize();
    this._showSelectHour(this._hour);
};


TimePicker.prototype.timeMode = function () {
    if (this._mode == "TIME") return;
    this._mode = 'TIME';
    this.addClass('ac-time-picker-time-mode')
        .removeClass('ac-time-picker-clock-mode');
    this.$hourInput.value = this._hour < 10 ? '0' + this._hour : this._hour;
    this.$minuteInput.value = this._minute < 10 ? '0' + this._minute : this._minute;
    this.editHourInput();
    this.updateSize();
};


TimePicker.prototype._editHourState = function () {
    this._state = "EDIT_HOUR";
    this._preHour = this._hour;
    this.removeClass('ac-time-picker-edit-minute')
        .addClass('ac-time-picker-edit-hour')
        .removeClass('ac-time-picker-edit-hour-input')
        .removeClass('ac-time-picker-edit-minute-input');
    this.updateSize();
};


TimePicker.prototype._editMinuteState = function () {
    this._state = "EDIT_MINUTE";
    this._preMinute = this._minute;
    this.addClass('ac-time-picker-edit-minute')
        .removeClass('ac-time-picker-edit-hour')
        .removeClass('ac-time-picker-edit-hour-input')
        .removeClass('ac-time-picker-edit-minute-input');
    this.updateSize();
};


TimePicker.prototype.editHourInput = function () {
    var thisPicker = this;
    this._state = "EDIT_HOUR_INPUT";
    this._preHour = this._hour;
    this.removeClass('ac-time-picker-edit-minute')
        .removeClass('ac-time-picker-edit-hour')
        .addClass('ac-time-picker-edit-hour-input')
        .removeClass('ac-time-picker-edit-minute-input');
    this.updateSize();
    setTimeout(function () {
        thisPicker.$hourInput.focus();
        thisPicker.$hourInput.select();
    }, 10);
};


TimePicker.prototype.editMinuteInput = function () {
    var thisPicker = this;
    this._state = "EDIT_MINUTE_INPUT";
    this._preMinute = this._minute;
    this.removeClass('ac-time-picker-edit-minute')
        .removeClass('ac-time-picker-edit-hour')
        .removeClass('ac-time-picker-edit-hour-input')
        .addClass('ac-time-picker-edit-minute-input');
    this.updateSize();
    setTimeout(function () {
        thisPicker.$minuteInput.focus();
        thisPicker.$minuteInput.select();
    }, 1)
};


TimePicker.prototype.finishSelect = function () {
    this.emit('finish', {
        target: this,
        hour: this.hour,
        minute: this.minute,
        dayOffset: this.dayOffset,
        name: 'finish'
    }, this);
};


TimePicker.prototype.cancelSelect = function () {
    this.emit('cancel', { target: this, name: 'cancel' }, this);
};


TimePicker.eventHandler = {};

TimePicker.eventHandler.focusHour = function () {
    this._editHourState();
    this.$hour.selectAll();
};


TimePicker.eventHandler.blurHour = function () {
    var newText = this.$hour.value;
    var hour = parseFloat(newText) || 0;
    if (hour < 0 || hour >= 24)
        hour = this._preHour;
    this.$hour.value = hour < 10 ? '0' + hour : hour;
    this._hour = hour;
    this._showSelectHour(hour);
    this.notifyChange();
};


TimePicker.eventHandler.focusMinute = function () {
    this._editMinuteState();
    this.$minute.selectAll();
};


TimePicker.eventHandler.blurMinute = function () {
    var newText = this.$minute.innerHTML;
    var minute = parseFloat(newText) || 0;
    if (minute < 0 || minute >= 60)
        minute = this._preMinute;
    this.$minute.value = minute < 10 ? '0' + minute : minute;
    this._minute = minute;
    this._showSelectByMinuteText();
    this.notifyChange();
};


TimePicker.eventHandler.clickHourInput = function () {
    if (this._state != 'EDIT_HOUR') this.editHourInput();
    else {
        this.$hourInput.focus();
        this.$hourInput.select();
    }
};


TimePicker.eventHandler.clickMinuteInput = function () {
    if (this._state != 'EDIT_MINUTE_INPUT') this.editMinuteInput();
    else {
        this.$minuteInput.focus();
        this.$minuteInput.select();

    }
};

TimePicker.eventHandler.blurHourInput = function () {
    var hour = parseFloat(this.$hourInput.value) || 0;
    if (hour < 0 || hour >= 24)
        hour = this._preHour;
    this.hour = hour;
};

TimePicker.eventHandler.blurMinuteInput = function () {
    var minute = parseFloat(this.$minuteInput.value) || 0;
    if (minute < 0 || minute >= 60)
        minute = this._preMinute;
    this.minute = minute;
};


TimePicker.property = {};


TimePicker.property.hour = {
    set: function (value) {
        value = (value % 24) || 0;
        this._hour = value;
        var text = (value < 10 ? '0' : '') + value + '';
        this.$hour.clearChild().addChild(TimePicker_({ text: text }));
        this.$hourInput.value = text;
        this.updateSelectPosition();
    },
    get: function () {
        return this._hour;
    }
};


TimePicker.property.minute = {
    set: function (value) {
        value = (value % 60) || 0;
        this._minute = value;
        var text = (value < 10 ? '0' : '') + value + '';
        this.$minute.value = text;
        this.$minuteInput.value = text;
        this.updateSelectPosition();
    },
    get: function () {
        return this._minute;
    }
};


TimePicker.property.dayOffset = {
    set: function (value) {
        value = value || 0;
        if (value.getTime)
            value = value.getTime() - beginOfDay(value).getTime();
        else {
            value = value % MILLIS_PER_DAY;
        }

        this.hour = Math.floor(value / MILLIS_PER_HOUR);
        this.minute = Math.floor((value % MILLIS_PER_HOUR) / MILLIS_PER_MINUTE);
    },
    get: function () {
        return this._hour * MILLIS_PER_HOUR + this._minute * MILLIS_PER_MINUTE;
    }
};

TimePicker.prototype._showSelectHour = function (hour) {
    var radius;
    var angle = Math.PI * (hour - 3) / 6;
    if ((hour < 24 && hour > 12) || hour == 0) {
        radius = this._clockRadiusInner;
    }
    else if (hour <= 12) {
        radius = this._clockRadius;
    }
    else {
        return;
    }
    this._drawSelect(radius, angle);
};

TimePicker.prototype._showSelectByHourText = function () {
    var hour = parseFloat(this.$hour.innerHTML) || 0;
    if (hour < 0 || hour >= 24) return;
    this._showSelectHour(hour);
};


TimePicker.prototype._showSelectMinute = function (minute) {
    var angle = Math.PI * (minute - 15) / 30;
    this._drawSelect(this._clockRadius, angle);
}

TimePicker.prototype._showSelectByMinuteText = function () {
    var minute = parseFloat(this.$minute.innerHTML) || 0;
    if (minute < 0 || minute >= 60) return;
    this._showSelectMinute(minute);
};

/***
 *
 * @param {KeyboardEvent} event
 */
TimePicker.eventHandler.keydownHour = function (event) {
    var thisPicker = this;
    if (event.key == 'Enter' || event.key == 'Tab') {
        event.preventDefault();
        this.$hour.blur();
        this._editMinuteState();
        setTimeout(function () {
            thisPicker.$minute.focus();
            thisPicker.$minute.selectAll();
        }, 30);
    }
    else {
        setTimeout(function () {
            var newText = thisPicker.$hour.value;
            var hour = parseFloat(newText) || 0;
            if (hour < 0 || hour >= 24)
                hour = thisPicker._preHour;
            else {
                thisPicker._hour = hour;
                thisPicker._showSelectHour(hour);
            }
        }, 30);
    }
};


TimePicker.eventHandler.keydownMinute = function (event) {
    var thisPicker = this;
    if (event.key == 'Enter') {
        this.$minute.blur();
        event.preventDefault();
        setTimeout(this.finishSelect.bind(this), 30);
    }
    else if (event.key == 'Tab') {
        this.$minute.selectNone();
        this.$finishBtn.focus();
        event.preventDefault();
    }
    else {
        setTimeout(function () {
            var newText = thisPicker.$minute.value;
            var minute = parseFloat(newText) || 0;
            if (minute < 0 || minute >= 60)
                minute = thisPicker._preMinute;
            else {
                thisPicker._minute = minute;
                thisPicker._showSelectMinute(minute);
            }
        }, 30);
    }
};


TimePicker.eventHandler.keydownHourInput = function (event) {
    var thisPicker = this;
    if ((isTouchDevice && event.key == "Unidentified") || (event.key && event.key.length == 1 && !event.ctrlKey && !event.altKey)) {
        if (event.key.match(/[0-9]/)) {
            setTimeout(this.notifyChange.bind(this), 2);
        }
        else {
            event.preventDefault();
        }
    }
    else if (event.key == 'Enter') {
        event.preventDefault();
        this.$hourInput.blur();
        this.editMinuteInput();
    }
    else if (!event.key && !event.key.toLowerCase().match(/arrow|back/)) {
        var cText = this.$hourInput.value;
        setTimeout(function () {
            var newText = thisPicker.$hourInput.value;
            if (cText != newText) {
                var hour = parseFloat(newText) || 0;
                if (hour < 0 || hour >= 24)
                    hour = thisPicker._preHour;
                thisPicker.hour = hour;
                thisPicker.$hourInput.blur();
                thisPicker.editMinuteInput();
                thisPicker.notifyChange();
            }
        }, 1);
    }
};


TimePicker.eventHandler.keydownMinuteInput = function (event) {
    var thisPicker = this;
    if ((isTouchDevice && event.key == "Unidentified") || event.key.length == 1 && !event.ctrlKey && !event.altKey) {
        if ((isTouchDevice && event.key == "Unidentified") || event.key.match(/[0-9]/)) {
            setTimeout(this.notifyChange.bind(this), 2);

        }
        else {
            event.preventDefault();
        }
    }
    else if (event.key == 'Enter') {
        this.$minute.blur();
        this.eventHandler.blurMinuteInput();
        event.preventDefault();

        setTimeout(this.finishSelect.bind(this), 100);
    }
    else if (event.key == "Backspace") {

    }
    else if (event.key != 'Enter') {
        var cText = this.$minuteInput.value;
        setTimeout(function () {
            var newText = thisPicker.$minuteInput.value;
            if (cText != newText) {
                var minute = parseFloat(newText) || 0;
                if (minute < 0 || minute >= 60)
                    minute = thisPicker._preMinute;
                thisPicker.minute = minute;
                thisPicker.$minuteInput.focus();
                thisPicker.$minuteInput.select();
                thisPicker.notifyChange();
            }
        }, 1);
    }
};


TimePicker.eventHandler.dragOnClock = function (event) {
    event = (event.changedTouches && event.changedTouches[0]) || event;
    var cBound = this.$clock.getBoundingClientRect();
    var cx = (cBound.left + cBound.right) / 2;
    var cy = (cBound.top + cBound.bottom) / 2;
    var x = event.clientX - cx;
    var y = event.clientY - cy;
    var angle = Math.atan2(y, x);
    var radius = Math.sqrt(x * x + y * y);

    var index;
    if (this._state == "EDIT_HOUR") {
        angle += Math.PI * 2;
        index = Math.round(angle / (Math.PI / 6));
        var hour = (index + (12 + 3)) % 12;
        if (radius < (this._clockRadiusInner + this._clockRadius) / 2) {
            if (hour != 0) hour += 12;
        }
        else {
            if (hour == 0) hour = 12;
        }
        this._hour = hour;
        this._showSelectHour(hour);
        this.$hour.value = hour < 10 ? '0' + hour : hour;
        this.$hour.selectEnd();
    }
    else if (this._state == "EDIT_MINUTE") {
        radius = this._clockRadius;
        angle += Math.PI * 2;
        index = Math.round(angle / (Math.PI / 30));
        angle = index * (Math.PI / 30);
        var minute = (index + (60 + 15)) % 60;
        this._minute = minute;
        this.$minute.value = minute < 10 ? '0' + minute : minute;
        this._showSelectMinute(minute);
        this.$minute.selectEnd();
        this.notifyChange();
    }
    else {
        return;
    }
};


TimePicker.eventHandler.mousedownClock = function (event) {
    event.preventDefault();
    this.eventHandler.dragOnClock(event);
    document.body.addEventListener(isTouchDevice ? 'touchmove' : 'mousemove', this.eventHandler.mousemoveClock);
    document.body.addEventListener(isTouchDevice ? 'touchend' : 'mouseup', this.eventHandler.mousefinishClock);
    if (!isTouchDevice)
        document.body.addEventListener('mouseleave', this.eventHandler.mousefinishClock);
};


TimePicker.eventHandler.mousemoveClock = function (event) {
    event.preventDefault();
    this.eventHandler.dragOnClock(event);
};


TimePicker.eventHandler.mousefinishClock = function () {
    document.body.removeEventListener('mousemove', this.eventHandler.mousemoveClock);
    document.body.removeEventListener('mouseup', this.eventHandler.mousefinishClock);
    document.body.removeEventListener('mouseleave', this.eventHandler.mousefinishClock);
    if (this._state == 'EDIT_HOUR') {
        if (this.$minute.readOnly) {
            this._editMinuteState();
        }
        else {
            this.$minute.focus();
        }
    }
    else if (this._state == 'EDIT_MINUTE') {
        this.$minute.selectAll();// refocus
    }
};


ACore["a" /* default */].install('timepicker', TimePicker);
/* harmony default export */ var js_TimePicker = (TimePicker);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TimeInput.js





var TimeInput_ = ACore["a" /* default */]._;
var TimeInput_$ = ACore["a" /* default */].$;


function TimeInput() {
    this._isOpenPicker = false;
    this._hour = null;
    this._minute = null;
    this.$hour = TimeInput_$('.ac-time-input-hour', this);
    this.$minute = TimeInput_$('.ac-time-input-minute', this);
    /***
     *
     * @type {TimePicker}
     */
    this.$timePicker = TimeInput.getTimePicker();
    this.$timePickerCtn = TimeInput.getTimePickerContainer();
    this.on('click', this.togglePicker.bind(this));
}


TimeInput.getTimePicker = function () {
    if (!TimeInput.$timePickerCtn) {
        TimeInput.$timePickerCtn = TimeInput_((isTouchDevice ? '' : 'follower') + '.ac-time-input-picker-ctn.ac-time-input-picker-ctn-hidden')
            .addTo(document.body);
        TimeInput.$timePicker = TimeInput_('timepicker').addTo(TimeInput.$timePickerCtn);
        TimeInput.$timePicker.on('sizechange', function () {
            if (isTouchDevice) {
                var bound = TimeInput.$timePickerCtn.getBoundingClientRect();
                TimeInput.$timePickerCtn.addStyle({
                    left: 'calc(50vw - ' + (bound.width / 2) + 'px)',
                    top: 'calc(50vh - ' + (bound.height / 2) + 'px)'
                });
            }
            else {
                TimeInput.$timePickerCtn.updatePosition();
            }
        });
    }
    return TimeInput.$timePicker;
};

TimeInput.getTimePickerContainer = function () {
    TimeInput.getTimePicker();
    return TimeInput.$timePickerCtn;
}

TimeInput.tag = 'timeinput';

TimeInput.render = function () {
    return TimeInput_({
        class: 'ac-time-input',
        extendEvent: ['change'],
        child: [
            {
                tag: 'span',
                class: 'ac-time-input-hour',
                child: { text: '--' }
            },
            {
                tag: 'span',
                child: { text: " : " }
            },
            {
                tag: 'span',
                class: 'ac-time-input-minute',
                child: {
                    text: '--'
                }
            }
        ]
    })
};


TimeInput.prototype.togglePicker = function () {
    if (this._isOpenPicker) this.closePicker();
    else this.openPicker();
};


TimeInput.prototype.openPicker = function () {
    if (this._isOpenPicker) return;
    this._isOpenPicker = true;
    if (!isTouchDevice)
        this.$timePickerCtn.followTarget = this;
    this._lastDayOfset = this.dayOffset;
    this.$timePickerCtn.removeClass('ac-time-input-picker-ctn-hidden');
    this.$timePicker.dayOffset = this._lastDayOfset;
    this.$timePicker.clockMode();
    this.$timePicker.editHour();
    this.$timePicker
        .on('finish', this.eventHandler.pickerFinish)
        .on('cancel', this.eventHandler.pickerCancel);
    TimeInput_$(document.body).on('click', this.eventHandler.clickBody);
};

TimeInput.prototype.closePicker = function () {
    if (!this._isOpenPicker) return;
    var thisTI = this;
    this._isOpenPicker = false;
    this.$timePickerCtn.addClass('ac-time-input-picker-ctn-hidden');
    if (!isTouchDevice)
        this.$timePickerCtn.followTarget = null;
    this.$timePicker
        .off('finish', this.eventHandler.pickerFinish)
        .off('cancel', this.eventHandler.pickerCancel);
    setTimeout(function () {
        TimeInput_$(document.body).off('click', thisTI.eventHandler.clickBody);
    }, 100);
};

TimeInput.property = {};

TimeInput.property.hour = {
    set: function (value) {
        if (typeof value == "number") {
            value = (value % 24) || 0;
            this._hour = value;
            var text = (value < 10 ? '0' : '') + value + '';
            this.$hour.firstChild.data = text;
        }
        else {
            this._hour = null;
            this.$hour.firstChild.data = '--';
        }
    },
    get: function () {
        return this._hour;
    }
};


TimeInput.property.minute = {
    set: function (value) {
        if (typeof value == "number") {
            value = (value % 60) || 0;
            this._minute = value;
            var text = (value < 10 ? '0' : '') + value + '';
            this.$minute.firstChild.data = text;
        }
        else {
            this._minute = null;
            this.$minute.firstChild.data = '--';
        }
    },
    get: function () {
        return this._minute;
    }
};


TimeInput.property.dayOffset = {
    set: function (value) {

        if (typeof value == "number" || (value && value.getTime)) {
            value = value || 0;
            if (value.getTime)
                value = value.getTime() - beginOfDay(value).getTime();
            else {
                value = value % MILLIS_PER_DAY;
            }

            this.hour = Math.floor(value / MILLIS_PER_HOUR);
            this.minute = Math.floor((value % MILLIS_PER_HOUR) / MILLIS_PER_MINUTE);
        }
        else {
            this.hour = null;
            this.minute = null;
        }
    },
    get: function () {
        if (this._hour === null || this._minute === null) return null;
        return this._hour * MILLIS_PER_HOUR + this._minute * MILLIS_PER_MINUTE;
    }
};


TimeInput.property.disabled = {
    set: function (value) {
        value = !!value;
        this._disabled = value;
        if (value) this.addClass('as-disabled');
        else this.removeClass('as-disabled');
    },
    get: function () {
        return this._disabled;
    }
}

TimeInput.eventHandler = {};


TimeInput.eventHandler.pickerFinish = function (event) {
    this.closePicker();
    if (this._lastDayOfset != event.dayOffset) {
        this.dayOffset = event.dayOffset;
        this.emit('change', { name: 'change', target: this }, this);
    }
};


TimeInput.eventHandler.pickerCancel = function (event) {
    this.closePicker();
};

TimeInput.eventHandler.clickBody = function (event) {
    if (EventEmitter["b" /* default */].hitElement(this.$timePicker, event) || EventEmitter["b" /* default */].hitElement(this, event)) return;
    this.closePicker();
};

ACore["a" /* default */].install(TimeInput);

/* harmony default export */ var js_TimeInput = (TimeInput);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/tooltip.css
var tooltip = __webpack_require__(165);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/snackbar.css
var snackbar = __webpack_require__(167);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Snackbar.js





var Snackbar_ = ACore["a" /* default */]._;
var Snackbar_$ = ACore["a" /* default */].$;

var t = document.createElement;

/***
 * @extends AElement
 * @constructor
 */
function SnackBar() {
    OOP["a" /* default */].drillProperty(this, this.firstChild, 'message', 'data');

}

SnackBar.tag = 'SnackBar'.toLowerCase();

SnackBar.render = function () {
    return Snackbar_({
        class: 'as-snackbar',
        child: { text: '' }
    })
};

ACore["a" /* default */].install(SnackBar);

SnackBar.$instance = Snackbar_('snackbar');
SnackBar._removeTimeout = -1;

SnackBar.show = function (message) {
    if (SnackBar._removeTimeout > 0) {
        clearTimeout(SnackBar._removeTimeout);
    }
    if (!SnackBar.$instance.parentElement) document.body.appendChild(SnackBar.$instance);
    SnackBar.$instance.removeClass('as-hiding');
    SnackBar._removeTimeout = setTimeout(function (){
        SnackBar.$instance.addClass('as-show');
        SnackBar.$instance.message = message;
        SnackBar._removeTimeout = setTimeout(function () {
            SnackBar.$instance.removeClass('as-show').addClass('as-hiding');
            SnackBar._removeTimeout = setTimeout(function () {
                SnackBar.$instance.remove();
                SnackBar._removeTimeout = -1;
                SnackBar.$instance.removeClass('as-hiding');
            }, 500);
        }, 3000);
    }, 1);
}


/* harmony default export */ var Snackbar = (SnackBar);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Tooltip.js







var Tooltip_ = ACore["a" /* default */]._;
var Tooltip_$ = ACore["a" /* default */].$;

function ToolTip() {
    this.$content = Tooltip_$('.absol-tooltip-content', this);
    this.$arrow = Tooltip_$('.absol-tooltip-arrow', this);
}

ToolTip.tag = 'ToolTip'.toLowerCase();

ToolTip.render = function () {
    return Tooltip_({
        class: 'absol-tooltip',
        child: [
            { class: 'absol-tooltip-content', child: '<span>No</span>' },
            '.absol-tooltip-arrow'
        ]
    });
};

['addChild', 'addChildBefore', 'addChildAfter', 'clearChild'].forEach(function (key) {
    ToolTip.prototype[key] = function () {
        return this.$content[key].apply(this.$content, arguments);
    }
});

ACore["a" /* default */].install(ToolTip);


ToolTip.$holder = Tooltip_('.absol-tooltip-root-holder')
ToolTip.$tooltip = Tooltip_('tooltip.top').addTo(ToolTip.$holder);
ToolTip.$element = undefined;
ToolTip.$content = undefined;
ToolTip._orientation = 'top';
ToolTip._session = Math.random() * 10000000000 >> 0;

ToolTip.updatePosition = function () {
    var element = ToolTip.$element;
    if (!element) return;
    var orientation = ToolTip._orientation;

    var tBound = ToolTip.$tooltip.getBoundingClientRect();
    var ebound = element.getBoundingClientRect();
    var screenSize = Object(HTML5_Dom["b" /* getScreenSize */])();
    screenSize.width = Math.min(screenSize.width, document.body.getBoundingClientRect().width);
    var fontSize = this.$tooltip.getFontSize();

    var dx = 0;
    var dy = 0;
    var arrowPos = null;
    if (orientation === 'auto') {
        var aHCenter = (ebound.left + ebound.width / 2 > tBound.width / 2)
            && (screenSize.width - ebound.left - ebound.width / 2 > tBound.width / 2);
        var aVCenter = (ebound.top + ebound.height / 2 > tBound.height / 2)
            && (screenSize.height - ebound.top - ebound.height / 2 > tBound.height / 2);
        var aTop = (tBound.height < ebound.top - 5);
        var aBottom = tBound.height < screenSize.height - 5 - ebound.bottom;
        var aRight = tBound.width < screenSize.width - 5 - ebound.right;
        var aLeft = tBound.width < ebound.left - 5;

        var aHLeft = (ebound.left + ebound.width / 2 - tBound.width / 2 < 5) && (ebound.left + ebound.width / 2 >= 5 + fontSize / 2);
        var aHRight = (ebound.left + ebound.width / 2 + tBound.width / 2 > screenSize.width - 5) && (ebound.left + ebound.width / 2 < screenSize.width - 5 - fontSize / 2);
        var aVTop = (ebound.top + ebound.width / 2 - tBound.height / 2 < 5) && (ebound.top + ebound.height / 2 >= 5 + fontSize / 2);
        var aVBottom = (ebound.top + ebound.width / 2 + tBound.height / 2 <= screenSize.height - 5) && (ebound.top + ebound.height / 2 > screenSize.height - 5 - fontSize / 2);

        if (aHCenter) {
            if (aTop) {
                orientation = 'top';
            }
            else if (aBottom) {
                orientation = 'bottom';
            }
        }
        if (orientation === 'auto' && aVCenter) {
            if (aRight) {
                orientation = 'right';
            }
            else if (aLeft) {
                orientation = 'left';
            }
        }


        if (orientation === 'auto' && aHLeft) {
            if (aTop) orientation = "top";
            else if (aBottom) orientation = 'bottom';
            if (aTop || aBottom) {
                dx += tBound.width / 2 - (ebound.left + ebound.width / 2) + 5;
                arrowPos = tBound.width / 2 - dx + 'px';
            }
        }
        if (orientation === 'auto' && aHRight) {
            if (aTop) orientation = "top";
            else if (aBottom) orientation = 'bottom';
            if (aTop || aBottom) {
                dx -= tBound.width / 2 - (screenSize.width - (ebound.left + ebound.width / 2)) + 5;
                arrowPos = tBound.width / 2 - dx + 'px';
            }
        }


        if (orientation === 'auto' && aVTop) {
            if (aLeft) orientation = "left";
            else if (aRight) {
                orientation = 'right';
            }
            if (aLeft || aRight) {
                dy += tBound.height / 2 - (ebound.top + ebound.height / 2) + 5;
                arrowPos = tBound.height / 2 - dy + 'px';
            }
        }
        if (orientation === 'auto' && aVBottom) {
            if (aLeft) orientation = "left";
            else if (aRight) {
                orientation = 'right';
                console.log(3);
            }
            if (aLeft || aRight) {
                dy -= tBound.height / 2 - (screenSize.height - (ebound.top + ebound.height / 2)) + 5;
                arrowPos = tBound.height / 2 - dx + 'px'
            }
        }

        if (orientation === 'auto') {
            if (aRight) {
                if (aTop) {
                    orientation = 'ne';
                }
                else if (aBottom) {
                    orientation = 'se';
                }
            }
            else if (aLeft) {
                if (aTop) {
                    orientation = 'nw';
                }
                else if (aBottom) {
                    orientation = 'sw';
                }
            }
        }
        if (orientation === 'auto') orientation = "error";
        ToolTip.$tooltip.removeClass('top')
            .removeClass('left')
            .removeClass('right')
            .removeClass('bottom')
            .removeClass('ne')
            .removeClass('nw')
            .removeClass('se')
            .removeClass('sw')
            .addClass(orientation);
    }

    tBound = ToolTip.$tooltip.getBoundingClientRect();

    if (orientation == 'top') {
        dy += ebound.top - tBound.height;
        dx += ebound.left + ebound.width / 2 - tBound.width / 2;
    }
    else if (orientation == 'left') {
        dy += ebound.top + ebound.height / 2 - tBound.height / 2;
        dx += ebound.left - tBound.width;
    }
    else if (orientation == 'right') {
        dy += ebound.top + ebound.height / 2 - tBound.height / 2;
        dx += ebound.right;
    }
    else if (orientation == 'bottom') {
        dy += ebound.bottom;
        dx += ebound.left + ebound.width / 2 - tBound.width / 2;

    }
    else if (orientation === 'ne') {
        dy += ebound.top - tBound.height;
        dx += ebound.right;
    }
    else if (orientation === 'nw') {
        dy += ebound.top - tBound.height;
        dx += ebound.left - tBound.width;
    }
    else if (orientation === 'se') {
        dy += ebound.bottom;
        dx += ebound.right;
    }
    else if (orientation === 'sw') {
        dy += ebound.bottom;
        dx += ebound.left - tBound.width;
    }
    else {
        throw new Error("Invalid orientation, orientation: ['left', 'right', 'top', 'bottom', 'auto', 'nw', 'ne', 'sw', 'se']");
    }

    if (arrowPos) {
        ToolTip.$tooltip.addStyle('--tool-tip-arrow-pos', arrowPos);
    }
    else {
        ToolTip.$tooltip.removeStyle('--tool-tip-arrow-pos')
    }

    ToolTip.$holder.addStyle({
        top: dy + 'px',
        left: dx + 'px'
    });
};

ToolTip.$tooltip.$arrow.updateSize = ToolTip.updatePosition.bind(ToolTip);


ToolTip.show = function (element, content, orientation) {

    if (typeof content == 'string') {
        content = Tooltip_({
            tag: 'span',
            style: {
                'white-space': 'nowrap'
            },
            props: {
                innerHTML: content
            }
        });
    }


    Tooltip_$('', content, function (elt) {
        if (elt.tagName == "IMG" && elt.src) {
            HTML5_Dom["a" /* default */].waitImageLoaded(elt).then(ToolTip.updatePosition.bind(ToolTip));
        }
        else if (elt.sync) {
            elt.sync.then(ToolTip.updatePosition.bind(ToolTip));
        }
    });
    var currentSession = Math.random() * 10000000000 >> 0;

    ToolTip.$holder.addTo(document.body);
    HTML5_Dom["a" /* default */].addToResizeSystem(ToolTip.$tooltip.$arrow);

    ToolTip.$element = element;
    ToolTip._session = currentSession;
    ToolTip.$content = content;
    ToolTip._orientation = orientation;

    ToolTip.$tooltip.clearChild().addChild(content);
    ToolTip.$holder.removeStyle('visibility');
    ToolTip.$tooltip.removeClass('top')
        .removeClass('left')
        .removeClass('right')
        .removeClass('bottom')
        .removeClass('ne')
        .removeClass('nw')
        .removeClass('auto');
    ToolTip.$tooltip.addClass(orientation);
    ToolTip.updatePosition();
    return currentSession;
};

ToolTip.closeTooltip = function (session) {
    if (session === true || session === this._session) {
        ToolTip.$holder.addStyle('visibility', 'hidden');
        ToolTip.$tooltip.clearChild();
        ToolTip.$holder.addStyle({
            top: false,
            left: false
        });
    }
}


ToolTip.showWhenClick = function (element, content, orientation) {
    var mSession = undefined;
    element.addEventListener('click', function () {
        if (mSession !== undefined) return;
        mSession = ToolTip.show(element, content, orientation);
        var finish = function (event) {
            if (!EventEmitter["b" /* default */].hitElement(content, event)) {
                Tooltip_$(document.body).off('click', finish);
                ToolTip.closeTooltip(mSession);
                mSession = undefined;
            }
        };

        setTimeout(function () {
            Tooltip_$(document.body).on('click', finish);
        }, 100)
    });
};


/* harmony default export */ var Tooltip = (ToolTip);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/treelist.css
var treelist = __webpack_require__(32);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TreeListItem.js




var TreeListItem_ = ACore["a" /* default */]._;
var TreeListItem_$ = ACore["a" /* default */].$;

function TreeListItem() {
    var thisTI = this;
    this.$list = TreeListItem_$('treelist', this).on('press', function (event, sender) {
        thisTI.emit('press', event, this);
    });

    this.$parent = TreeListItem_$('.absol-tree-list-item-parent', this).on('mousedown', this.eventHandler.clickParent);
    this.$text = TreeListItem_$('span.absol-tree-list-item-text', this);
    this.$desc = TreeListItem_$('span.absol-tree-list-item-desc', this);
    this.$descCtn = TreeListItem_$('.absol-tree-list-item-desc-container', this);
    this.$list.level = 1;
    OOP["a" /* default */].drillProperty(this, this.$list, 'items');
}

TreeListItem.tag = 'TreeListItem'.toLowerCase();
TreeListItem.render = function () {
    return TreeListItem_({
        extendEvent: ['press', 'clickparent'],
        class: 'absol-tree-list-item',
        child: [
            {
                class: 'absol-tree-list-item-parent',
                child: ['span.absol-tree-list-item-text',
                    {
                        class: 'absol-tree-list-item-desc-container',
                        child: 'span.absol-tree-list-item-desc'
                    }
                ]
            },
            'treelist'
        ]
    });
};


TreeListItem.eventHandler = {};
TreeListItem.eventHandler.clickParent = function (event) {
    event.preventDefault();
    var prevented = false;
    var self = this;
    this.emit('press', {
        target: self,
        preventDefault: function () {
            prevented = true;
        },
        isPrevented: function () {
            return prevented;
        },
        data: this.data
    }, this);
    if (!prevented) {
        var top = self.getTopLevelElt();
        TreeListItem_$('treelistitem', top, function (e) {
            if (e != self)
                e.active = false;
        })
        self.active = true;
    }
};

TreeListItem.prototype.getTopLevelElt = function () {
    var current = this;
    while (current) {
        var parent = current.parentNode;
        if (!parent || (!parent.classList.contains('absol-tree-list') && !parent.classList.contains('absol-tree-list-item'))) break;
        current = current.parentNode;
    }
    return current;
};


TreeListItem.property = {
    text: {
        set: function (value) {
            value = value + '';
            this.$text.innerHTML = value;
        },
        get: function () {
            return this.$text.innerHTML;
        }
    },
    desc: {
        set: function (value) {
            value = value + '';
            this.$desc.innerHTML = value;
        },
        get: function () {
            return this.$desc.innerHTML
        }
    },
    level: {
        set: function (value) {
            value = value || 0;
            if (value == this.level) return;
            this._level = value;
            this.$parent.addStyle('padding-left', this._level * 0.4 * 3 + 'em');
            this.$list.level = value + 1;
        },
        get: function () {
            return this._level || 0;
        }
    },
    active: {
        set: function (value) {
            if (value) {
                this.addClass('active');
            }
            else {
                this.removeClass('active');
            }
        },
        get: function () {
            return this.containsClass('active');
        }
    },
    data: {
        set: function (value) {
            this._data = value;
        },
        get: function () {
            return this._data;
        }
    },
    value: {
        get: function () {
            var data = this.data;
            if (typeof data == 'string') return data;
            if (typeof data.value == "undefined") {
                return data.text;
            }
            else {
                return data.value;
            }
        }
    }
};


TreeListItem.property.extendClasses = {
    set: function (value) {
        var self = this;
        this.extendClasses.forEach(function (className) {
            self.$parent.removeClass(className);
        });
        this._extendClass = [];
        if (!value) return;
        if (typeof value == 'string') {
            value = value.split(/\s+/).filter(function (c) {
                return c.length > 0
            });
        }

        if (value instanceof Array) {
            this._extendClass = value;
            this._extendClass.forEach(function (className) {
                self.$parent.addClass(className);
            });
        }
        else {
            throw new Error('Invalid extendClasses');
        }
    },
    get: function () {
        return this._extendClass || [];
    }
};


TreeListItem.property.extendStyle = {
    set: function (value) {
        this.$parent.removeStyle(this._extendStyle || {});
        this._extendStyle = value || {};
        this.$parent.addStyle(this.extendStyle);
    },
    get: function () {
        return this._extendStyle || {};
    }
};


ACore["a" /* default */].install(TreeListItem);

/* harmony default export */ var js_TreeListItem = (TreeListItem);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TreeList.js



var TreeList_ = ACore["a" /* default */]._;
var TreeList_$ = ACore["a" /* default */].$;

function TreeList() {
}

TreeList.tag = 'treelist';
TreeList.render = function () {
    return TreeList_({
        class: 'absol-tree-list',
        extendEvent: 'press'
    });
};


TreeList.prototype.realignDescription = function (extMarginLeft) {
    extMarginLeft = extMarginLeft || 0;
    var maxWidth = 0;
    var ctns = [];
    TreeList_$('.absol-tree-list-item-desc-container', this, function (elt) {
        ctns.push(elt);
        var bound = elt.getBoundingClientRect();
        maxWidth = Math.max(maxWidth, bound.width);
    });
    var fontSize = this.getFontSize();
    var cntWidth = maxWidth / fontSize + 'em';
    var extMarginRight = maxWidth / fontSize + extMarginLeft + 'em';
    ctns.forEach(function (e) {
        e.addStyle('width', cntWidth);
    });
    TreeList_$('span.absol-tree-list-item-text', this, function (elt) {
        elt.addStyle('margin-right', extMarginRight);
    });
    return this;
};


TreeList.prototype.clearItems = function () {
    this._items = [];
    this.clearChild();
};

TreeList.prototype.getAllItem = function () {
    return this._items || [];
};

TreeList.prototype.getAllItemElement = function () {
    return Array.apply(null, this.childNodes);
}

TreeList.prototype.addItem = function (item) {
    var self = this;
    var props = { level: this.level, data: item };

    if (typeof item == 'string') {
        props.text = item;
    }
    else {
        props.text = item.text;
        if (item.items) {
            props.items = item.items;
        }
        if (item.desc) {
            props.desc = item.desc;
        }
        if (item.extendClasses) {
            props.extendClasses = item.extendClasses;
        }
        if (item.extendStyle) {
            props.extendStyle = item.extendStyle;
        }
    }

    var elt = TreeList_({
        tag: 'treelistitem',
        props: props,
        on: {
            press: function (event) {
                self.emit('press', event, this);
            }
        }
    });
    this.addChild(elt);

    this._items.push(item);
    return this;
};


TreeList.property = {};
TreeList.property.items = {
    set: function (value) {
        this.clearItems();

        (value || []).forEach(this.addItem.bind(this));
    },
    get: function () {
        return this.getAllItem();
    }
};


TreeList.property.level = {
    set: function (value) {
        value = value || 0;
        if (this.level == value) return;
        this._level = value;
        this.getAllItemElement().forEach(function (e) {
            e.level = value;
        });
    },
    get: function () {
        return this._level || 0;
    }
};

ACore["a" /* default */].install(TreeList);

/* harmony default export */ var js_TreeList = (TreeList);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/selecttreemenu.css
var selecttreemenu = __webpack_require__(170);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/list/treeListToList.js
/***
 *
 * @param {Array<SelectionItem>} items
 * @returns {Array<SelectionItem>}
 */
function treeListToList(items) {
    var arr = [];
    function visit(level, node) {
        node.level = level;
        arr.push(node);
        if (node.items && node.items.length > 0) node.items.forEach(visit.bind(null, level + 1));
    }
    items.forEach(visit.bind(null, 0));
    return arr;
}
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/SelectTreeBox.js




var SelectTreeBox_ = ACore["a" /* default */]._;
var SelectTreeBox_$ = ACore["a" /* default */].$;
var SelectTreeBox_$$ = ACore["a" /* default */].$$;

/***
 * @extends SelectListBox
 * @constructor
 */
function SelectTreeBox() {
    js_SelectListBox.call(this);
}

SelectTreeBox.tag = 'SelectTreeBox'.toLowerCase();

SelectTreeBox.render = function () {
    return js_SelectListBox.render().addClass('as-select-tree-box');
};


Object.assign(SelectTreeBox.prototype, js_SelectListBox.prototype);
SelectTreeBox.property = Object.assign({}, js_SelectListBox.property);
SelectTreeBox.eventHandler = Object.assign({}, js_SelectListBox.eventHandler);

SelectTreeBox.prototype._itemsToNodeList = function (items) {
    return treeListToList(items);
};



//todo
SelectTreeBox.prototype.searchItemByText = function (text) {
    text = text.trim();
    if (text.length == 0) return this._items;
    if (this._searchCache[text]) return this._searchCache[text];
    this._searchCache[text] = searchTreeListByText(text, this._items);
    return this._searchCache[text];
};

ACore["a" /* default */].install(SelectTreeBox);

/* harmony default export */ var js_SelectTreeBox = (SelectTreeBox);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/SelectTreeMenu.js






var SelectTreeMenu_ = ACore["a" /* default */]._;
var SelectTreeMenu_$ = ACore["a" /* default */].$;


/***
 * @extends SelectMenu
 * @constructor
 */
function SelectTreeMenu() {
    var thisSM = this;
    this._items = [];
    this._value = null;
    this._lastValue = null;
    this.$holderItem = SelectTreeMenu_$('.absol-selectmenu-holder-item', this);
    this.$viewItem = SelectTreeMenu_$('.absol-selectmenu-holder-item selectlistitem', this);
    /***
     *
     * @type {SelectTreeBox}
     */
    this.$selectlistBox = SelectTreeMenu_({
        tag: 'selecttreebox',
        props: {
            anchor: [1, 6, 2, 5]
        },
        on: {
            preupdateposition: this.eventHandler.preUpdateListPosition
        }
    });
    this.$selectlistBox.on('pressitem', this.eventHandler.selectListBoxPressItem);
    this.$selectlistBox.followTarget = this;
    OOP["a" /* default */].drillProperty(this, this.$selectlistBox, 'enableSearch');

    this._lastValue = "NOTHING_VALUE";
    this._isFocus = false;
    this.isFocus = false;

    this.on('mousedown', this.eventHandler.click, true);
}

SelectTreeMenu.tag = 'SelectTreeMenu'.toLowerCase();

SelectTreeMenu.render = function () {
    return SelectMenu2.render().addClass('as-select-tree-menu');
};

SelectTreeMenu.eventHandler = Object.assign({}, SelectMenu2.eventHandler);
SelectTreeMenu.property = Object.assign({}, SelectMenu2.property);


Object.assign(SelectTreeMenu.prototype, SelectMenu2.prototype);


ACore["a" /* default */].install(SelectTreeMenu);

/* harmony default export */ var js_SelectTreeMenu = (SelectTreeMenu);

// EXTERNAL MODULE: ./node_modules/absol-acomp/css/widthheightresizer.css
var widthheightresizer = __webpack_require__(172);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/WidthHeightSizer.js




//can replace with other module
var WidthHeightSizer_ = ACore["a" /* default */]._;
var WidthHeightSizer_$ = ACore["a" /* default */].$;

function WidthHeightResizer() {
    var res = WidthHeightSizer_({
        extendEvent: 'sizechange',
        class: 'absol-width-height-resizer',
        child: ['.absol-width-height-resizer-content',
            '.absol-width-height-resizer-anchor-bot-right',
            '.absol-width-height-resizer-anchor-bot-left',
            '.absol-width-height-resizer-anchor-top-right',
            '.absol-width-height-resizer-anchor-top-left'
        ]
    });

    res.eventHandler = OOP["a" /* default */].bindFunctions(res, WidthHeightResizer.eventHandler);

    res.$anchorBotRight = WidthHeightSizer_$('.absol-width-height-resizer-anchor-bot-right', res);
    res.$anchorTopRight = WidthHeightSizer_$('.absol-width-height-resizer-anchor-top-right', res);

    res.$anchorBotLeft = WidthHeightSizer_$('.absol-width-height-resizer-anchor-bot-left', res);
    res.$anchorTopLeft = WidthHeightSizer_$('.absol-width-height-resizer-anchor-top-left', res);

    res.$content = WidthHeightSizer_$('.absol-width-height-resizer-content', res);

    js_Draggable(res.$anchorBotRight).on('drag', res.eventHandler.dragBotRight).on('predrag', res.eventHandler.preDrag);
    js_Draggable(res.$anchorTopRight).on('drag', res.eventHandler.dragTopRight).on('predrag', res.eventHandler.preDrag);
    js_Draggable(res.$anchorBotLeft).on('drag', res.eventHandler.dragBotLeft).on('predrag', res.eventHandler.preDrag);
    js_Draggable(res.$anchorTopLeft).on('drag', res.eventHandler.dragTopLeft).on('predrag', res.eventHandler.preDrag);
    return res;
}

['addChild', 'addChildBefore', 'addChildAfter', 'clearChild'].forEach(function (key) {
    WidthHeightResizer.prototype[key] = function () {
        return this.$content[key].apply(this.$content, arguments);
    }
});

WidthHeightResizer.tag = 'WidthHeightResizer'.toLowerCase();

WidthHeightResizer.eventHandler = {};
WidthHeightResizer.eventHandler.preDrag = function (event) {
    this._whrWidth = parseFloat(this.getComputedStyleValue('width').replace('px', ''));
    this._whrHeight = parseFloat(this.getComputedStyleValue('height').replace('px', ''));

};

WidthHeightResizer.eventHandler.dragBotRight = function (event) {
    var newEvent = { target: this, data: {} };
    if (event.moveDX != 0) {
        this.addStyle('width', this._whrWidth + event.moveDX + 'px');
        newEvent.data.changeWidth = true;
    }
    if (event.moveDY != 0) {
        this.addStyle('height', this._whrHeight + event.moveDY + 'px');
        newEvent.data.changeHeight = true;
    }
    newEvent.data.height = this.getComputedStyleValue('height');
    newEvent.data.width = this.getComputedStyleValue('width');
    this.emit('sizechange', newEvent);
};

WidthHeightResizer.eventHandler.dragTopRight = function (event) {
    var newEvent = { target: this, data: {} };
    if (event.moveDX != 0) {
        this.addStyle('width', this._whrWidth + event.moveDX + 'px');
        newEvent.data.changeWidth = true;
    }
    if (event.moveDY != 0) {
        this.addStyle('height', this._whrHeight - event.moveDY + 'px');
        newEvent.data.changeHeight = true;
    }
    newEvent.data.height = this.getComputedStyleValue('height');
    newEvent.data.width = this.getComputedStyleValue('width');
    this.emit('sizechange', newEvent);
};

WidthHeightResizer.eventHandler.dragBotLeft = function (event) {
    var newEvent = { target: this, data: {} };
    if (event.moveDX != 0) {
        this.addStyle('width', this._whrWidth - event.moveDX + 'px');
        newEvent.data.changeWidth = true;
    }
    if (event.moveDY != 0) {
        this.addStyle('height', this._whrHeight + event.moveDY + 'px');
        newEvent.data.changeHeight = true;
    }
    newEvent.data.height = this.getComputedStyleValue('height');
    newEvent.data.width = this.getComputedStyleValue('width');
    this.emit('sizechange', newEvent);
};

WidthHeightResizer.eventHandler.dragTopLeft = function (event) {
    var newEvent = { target: this, data: {} };
    if (event.moveDX != 0) {
        this.addStyle('width', this._whrWidth - event.moveDX + 'px');
        newEvent.data.changeWidth = true;
    }
    if (event.moveDY != 0) {
        this.addStyle('height', this._whrHeight - event.moveDY + 'px');
        newEvent.data.changeHeight = true;
    }
    newEvent.data.height = this.getComputedStyleValue('height');
    newEvent.data.width = this.getComputedStyleValue('width');
    this.emit('sizechange', newEvent);
};

ACore["a" /* default */].creator.widthheightresizer = WidthHeightResizer;

/* harmony default export */ var WidthHeightSizer = (WidthHeightResizer);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/modal.css
var css_modal = __webpack_require__(174);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/Modal.js



var Modal_$ = ACore["a" /* default */].$;
var Modal_ = ACore["a" /* default */]._;

function Modal() {
    this._contentAlign = [];
    this.contentAlign = 'middle center';
    this.$content = Modal_$('.as-modal-content', this);
}


Modal.tag = 'modal';
Modal.render = function () {
    return Modal_({ class: 'as-modal', child: '.as-modal-content' });
};

['findChildBefore', 'findChildAfter', 'removeChild', 'clearChild', 'addChild'].forEach(function (key) {
    Modal.prototype[key] = function () {
        this.$content[key].apply(this.$content, arguments);
    }
});


Modal.property = {};
Modal.property.show = {
    set: function (value) {
        if (value)
            this.removeClass('as-hidden');
        else
            this.addClass('as-hidden');
    },
    get: function () {
        return !this.containsClass('as-hidden');
    }
};

Modal.property.contentAlign = {
    set: function (value) {
        var thisM = this;
        this._contentAlign.forEach(function (name) {
            thisM.removeClass('as-' + name);
        })
        value = value || '';
        if (typeof value === 'string') {
            this._contentAlign = value.split(/\s+/);
        }
        else if (value instanceof Array) {
            this._contentAlign = value;
        }
        else {
            throw new Error("Invalid contentAlign!");
        }
        var thisM = this;
        this._contentAlign.forEach(function (name) {
            thisM.addClass('as-' + name);
        })
    },
    get: function () {
        return this._contentAlign.join(' ');
    }
}


ACore["a" /* default */].install(Modal);

/* harmony default export */ var js_Modal = (Modal);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/trackbar.css
var trackbar = __webpack_require__(176);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TrackBar.js





var TrackBar_ = ACore["a" /* default */]._;
var TrackBar_$ = ACore["a" /* default */].$;

/***
 * @extends Hanger
 * @constructor
 */
function TrackBar() {
    this.$bar = TrackBar_$('.absol-trackbar', this);
    this.$button = TrackBar_$('.absol-trackbar-button', this);
    this.$line = TrackBar_$('.absol-trackbar-line', this);
    this.on('predrag', this.eventHandler.predrag)
        .on('drag', this.eventHandler.drag);
    this.leftValue = 0;
    this.rightValue = 1;
    this._dragValue = 0;
}

TrackBar.tag = 'trackbar';

TrackBar.render = function () {
    return TrackBar_({
        tag: 'hanger',
        extendEvent: 'change',
        class: 'absol-trackbar',
        child: [{ class: 'absol-trackbar-line', child: '.absol-trackbar-button' }, 'attachhook'],

    });
};

TrackBar.prototype._updateValue = function () {
    var left = int_map(this.value, this.leftValue, this.rightValue, 0, 100);
    this.$button.addStyle('left', left + '%');
}

TrackBar.eventHandler = {};

TrackBar.eventHandler.predrag = function (event) {
    if (event.target === this) {
        event.cancel();
    }
    else {
        event.preventDefault();
        var lineBound = this.$line.getBoundingClientRect();
        var newValue = this.leftValue + (this.rightValue - this.leftValue) * (event.clientX - lineBound.left) / lineBound.width;
        newValue = Math.max(this.leftValue, Math.min(this.rightValue, newValue));
        if (newValue !== this.value) {
            this.value = newValue;
            event.trackbarValue = this.value;
            this._dragValue = this.value;
            this.emit('change', event);
        }
    }
};

TrackBar.eventHandler.drag = function (event) {
    var lineWidth = this.$line.getBoundingClientRect().width;
    var d = event.currentPoint.sub(event.startingPoint);
    var delta = d.x / lineWidth * (this.rightValue - this.leftValue);
    var newValue = Math.max(this.leftValue, Math.min(this.rightValue, this._dragValue + delta));
    if (newValue != this.value) {
        this.value = newValue;
        event.trackbarValue = this.value;
        this.emit('change', event);
    }
};


TrackBar.property = {};

TrackBar.property.value = {
    set: function (value) {
        value = parseFloat(value + '');
        if (isNaN(value)) value = 0;
        this._value = value;
        this._updateValue();
    },

    get: function () {
        return Math.max(this.leftValue, Math.min(this.rightValue, this._value));
    }
};


TrackBar.property.leftValue = {
    set: function (value) {
        value = parseFloat(value + '');
        if (isNaN(value)) value = 0;
        this._leftValue = value;
        this._updateValue();
    },
    get: function () {
        return this._leftValue || 0;
    }
};

TrackBar.property.rightValue = {
    set: function (value) {
        value = parseFloat(value + '');
        if (isNaN(value)) value = 1;
        this._rightValue = value;
        this._updateValue();
    },
    get: function () {
        return this._rightValue || 1;
    }
};

ACore["a" /* default */].install(TrackBar);

/* harmony default export */ var js_TrackBar = (TrackBar);


// EXTERNAL MODULE: ./node_modules/absol-acomp/css/trackbarinput.css
var trackbarinput = __webpack_require__(178);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TrackBarInput.js



var TrackBarInput_ = ACore["a" /* default */]._;
var TrackBarInput_$ = ACore["a" /* default */].$;

function TrackBarInput() {
    var thisTI = this;
    this.$trackbarContainer = TrackBarInput_$('.absol-trackbar-input-trackbar-container', this)
    this.$inputContainer = TrackBarInput_$('.absol-trackbar-input-unit-input-container', this)
    this.$trackbar = TrackBarInput_$('trackbar', this);
    this.$input = TrackBarInput_$('flexiconinput', this);

    absol.OOP.drillProperty(this, this.$input, ['unit', 'icon']);
    absol.OOP.drillProperty(this, this.$trackbar, ['leftValue', 'rightValue']);

    this.$trackbar.on('change', function () {
        thisTI.$input.value = thisTI.value + '';
        thisTI.emit('change', thisTI.value);
    });

    this.$input.on('keyup', this.eventHandler.inputChange);
    this.inputTextWidth = 2;
    return this;
}


TrackBarInput.tag = 'TrackBarInput'.toLowerCase();

TrackBarInput.render = function () {
    return TrackBarInput_({
        class: 'absol-trackbar-input',
        extendEvent: 'change',
        child: [{
            class: 'absol-trackbar-input-trackbar-container',
            child: 'trackbar'
        },
            {
                class: 'absol-trackbar-input-unit-input-container',
                child: 'flexiconinput'
            }
        ]
    });
};

TrackBarInput.prototype.init = function (props) {
    props = props || {};
    props.leftValue = props.leftValue || 0;
    props.value = props.value || props.leftValue;
    Object.assign(this, props);
    this.value = props.value;
};
TrackBarInput.property = {};

TrackBarInput.property.value = {
    set: function (value) {
        this.$trackbar.value = value || 0;
        this.$input.value = this.value + '';
    },
    get: function () {
        return parseFloat((this.valueFixed === undefined ? this.$trackbar.value : this.$trackbar.value.toFixed(this.valueFixed)) + '');
    }
};

TrackBarInput.property.valueFixed = {
    set: function (value) {
        if (value === undefined || value === null) value = undefined;
        this._valueFixed = value;
        this.$input.value = this.value + '';
    },
    get: function () {
        return this._valueFixed;
    }
};

TrackBarInput.property.inputTextWidth = {
    set: function (value) {
        if (typeof value == 'number') {
            this._inputTextWidth = value;
            this.$inputContainer.addStyle('width', 3 + (value - 2) * 0.69 + 'em');
            this.$trackbarContainer.addStyle('right', 3.5 + (value - 2) * 0.69 + 'em');
        }
    },
    get: function () {
        return this._inputTextWidth;
    }
};

TrackBarInput.eventHandler = {};


TrackBarInput.eventHandler.inputChange = function (event) {
    var newValue = parseFloat(this.$input.value);
    if (!isNaN(newValue)) {
        newValue = Math.max(this.leftValue, Math.min(this.rightValue, newValue));
        this.$trackbar.value = newValue;
        this.emit('change', this.value);
    }
};

/* harmony default export */ var js_TrackBarInput = (TrackBarInput);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/buttonrange.css
var buttonrange = __webpack_require__(180);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/ButtonRange.js






var ButtonRange_ = ACore["a" /* default */]._;
var ButtonRange_$ = ACore["a" /* default */].$;


var ChevronLeft = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 410.258 410.258" style="enable-background:new 0 0 410.258 410.258;" xml:space="preserve">\n' +
    '<polygon points="298.052,24 266.052,0 112.206,205.129 266.052,410.258 298.052,386.258 162.206,205.129 "/>\n' +
    '</svg>';

var ChevronRight = '<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n' +
    '\t viewBox="0 0 410.258 410.258" style="enable-background:new 0 0 410.258 410.258;" xml:space="preserve">\n' +
    '<polygon points="144.206,0 112.206,24 248.052,205.129 112.206,386.258 144.206,410.258 298.052,205.129 "/>\n' +
    '</svg>'

/***
 * @extends AElement
 * @constructor
 */
function ButtonRange() {
    this._dict = {};
    this._pool = [];
    this._items = [];
    this.$lastActiveBtn = null;
    this._value = undefined;
    this._lastValue = this._value;
    this.$scroller = ButtonRange_$('.as-button-range-scroller', this)
        .on('wheel', this.eventHandler.wheel);
    this.$prevBtn = ButtonRange_$('.as-button-range-left-btn', this)
        .on('click', this.prevValue.bind(this));
    this.$nextBtn = ButtonRange_$('.as-button-range-right-btn', this)
        .on('click', this.nextValue.bind(this));
    this._scrollTimeout = -1;
    this._scrollToSelected = this._scrollToSelected.bind(this);
    this.$attachhook = ButtonRange_$('attachhook', this).on('error', this.eventHandler.attached);
    this.autoWidth = false;
}

ButtonRange.tag = 'buttonrange';
ButtonRange.render = function () {
    return ButtonRange_({
        extendEvent: ['change'],
        class: 'as-button-range',
        child: [
            {
                class: 'as-button-range-scroller',
            },
            {
                class: 'as-button-range-left-ctn',
                child: {
                    tag: 'button',
                    class: 'as-button-range-left-btn',
                    child: ChevronLeft
                }
            },
            {
                class: 'as-button-range-right-ctn',
                child: {
                    tag: 'button',
                    class: 'as-button-range-right-btn',
                    child: ChevronRight
                }
            },
            'attachhook'
        ]
    });
};

ButtonRange.prototype._updateUnderlinePosition = function () {
    if (!this.$lastActiveBtn) return;
    var scrollerFirstBound = this.$scroller.firstChild.getBoundingClientRect();
    if (scrollerFirstBound.width === 0) return;
    var activeBound = this.$lastActiveBtn.getBoundingClientRect();
    this.addStyle({
        '--underline-left': activeBound.left - scrollerFirstBound.left + 'px',
        '--underline-width': activeBound.width + 'px'
    });

};

ButtonRange.prototype.updateSize = function () {
    if (this.autoWidth) {
        if (this.$scroller.childNodes.length > 0) {
            var left = this.$scroller.firstChild.getBoundingClientRect().left;
            var right = this.$scroller.lastChild.getBoundingClientRect().right;
            if (left < right) {
                var fontSize = this.getFontSize() || 14;
                this.addStyle('width', (right - left + 2) / fontSize + 2 + 'em')
            }
        }
    }
    this._updateUnderlinePosition();
    this._scrollToSelected();
};

ButtonRange.prototype._newButton = function () {
    var button = ButtonRange_({
        tag: 'button',
        class: 'as-button-range-item',
        child: { text: 'null' }
    });
    button.on('click', this.eventHandler.clickItem.bind(this, button));
    return button;
};

ButtonRange.prototype._requestButton = function (items) {
    var button;
    if (this._pool.length > 0) {
        button = this._pool.pop();
    }
    else {
        button = this._newButton();
    }
    return button;
};

ButtonRange.prototype._assignButton = function (button, data) {
    button._data = data;
    button.childNodes[0].data = data.text;
};

ButtonRange.prototype._releaseButton = function (button) {
    this._pool.push(button);
};

ButtonRange.prototype._requireButton = function (n) {
    var child;
    while (this.$scroller.childNodes.length > n) {
        child = this.$scroller.lastChild;
        this._releaseButton(child);
        this.$scroller.removeChild(child);
    }

    while (this.$scroller.childNodes.length < n) {
        this.$scroller.addChild(this._requestButton());
    }
};

ButtonRange.prototype._assignButtonList = function (items) {
    var item;
    for (var i = 0; i < items.length; ++i) {
        item = this._getFullFormat(items[i]);
        this._assignButton(this.$scroller.childNodes[i], item);
        this._dict[item.ident] = {
            elt: this.$scroller.childNodes[i],
            data: item
        }
    }
};

ButtonRange.prototype._scrollToSelected = function () {
    if (this._scrollTimeout >= 0) return;
    if (!this.$lastActiveBtn) return;
    var scrollerBound = this.$scroller.getBoundingClientRect();
    if (scrollerBound.width === 0) return;
    var activeBound = this.$lastActiveBtn.getBoundingClientRect();
    var dx, speed;
    if (activeBound.left < scrollerBound.left - 1) {
        dx = activeBound.left - scrollerBound.left;
        if (dx < -500) dx = -500;
        speed = Math.sqrt(-dx * 2 + 4);
        this.$scroller.scrollLeft -= speed;
    }
    else if (activeBound.right - 1 > scrollerBound.right) {
        dx = activeBound.right - scrollerBound.right;
        if (dx > 500) dx = 500;
        speed = Math.sqrt(dx * 2 + 4);
        this.$scroller.scrollLeft += speed;
    }
    else {
        return;
    }
    var thisBR = this;
    this._scrollTimeout = setTimeout(function () {
        thisBR._scrollTimeout = -1;
        thisBR._scrollToSelected();
    }, 20);
};

ButtonRange.prototype.nextValue = function (userAction) {
    var currentIndex = this._findActiveIndex();
    var nextIndex;
    var nextValue;
    if (currentIndex < 0) {
        nextIndex = 0;
    }
    else {
        nextIndex = Math.min(this._items.length - 1, currentIndex + 1);
    }
    if (nextIndex >= 0) {
        nextValue = this._getFullFormat(this._items[nextIndex]).value;
        this.value = nextValue;
        if (userAction) this.notifyChange();
    }
};


ButtonRange.prototype.prevValue = function (userAction) {
    var currentIndex = this._findActiveIndex();
    var prevIndex;
    var prevValue;
    if (currentIndex < 0) {
        prevIndex = 0;
    }
    else {
        prevIndex = Math.max(0, currentIndex - 1);
    }
    if (prevIndex >= 0 && prevIndex < this._items.length && prevIndex != currentIndex) {
        prevValue = this._getFullFormat(this._items[prevIndex]).value;
        this.value = prevValue;
        if (userAction) this.notifyChange();
    }
};

ButtonRange.prototype._findActiveIndex = function () {
    var item;
    var value = this._value;
    for (var i = 0; i < this._items.length; ++i) {
        item = this._items[i];
        if (item === value || (item && item.value === value))
            return i;
    }
    return -1;
}


ButtonRange.prototype._getFullFormat = function (item) {
    var res = {};
    if ((typeof item == 'string') || (typeof item == 'number') || (typeof item == 'boolean') || (item === null) || (item === undefined)) {
        res.ident = item + '';
        res.value = item;
        res.text = item + '';
    }
    else if (item && (typeof item == 'object')) {
        res.value = item.value;
        res.ident = res.value + '';
        res.text = item.text;
    }
    return res;
};

ButtonRange.prototype.notifyChange = function () {
    this.emit('change', { target: this, value: this.value, type: 'change' }, this);
}


ButtonRange.property = {};

/**
 * @type {ButtonRange}
 */
ButtonRange.property.items = {
    set: function (items) {
        items = items || [];
        this._items = items;
        this._requireButton(items.length);
        this._assignButtonList(items);
        if (items.length > 0) {
            if (!this._dict[this._value + '']) {
                this._value = this._getFullFormat(items[0]).value;
            }
        }
        this.value = this._value;
        this.updateSize();
    },
    get: function () {
        return this._items;
    }
};

ButtonRange.property.value = {
    set: function (value) {
        this._value = value;
        this._lastValue = this._value;
        if (this.$lastActiveBtn) {
            this.$lastActiveBtn.removeClass('as-active');
            this.$lastActiveBtn = null;
        }
        var hodler = this._dict[value + ''];
        if (hodler) {
            hodler.elt.addClass('as-active');
            this.$lastActiveBtn = hodler.elt;
        }
        var activeIndex = this._findActiveIndex();
        this.$prevBtn.disabled = activeIndex === 0;
        this.$nextBtn.disabled = activeIndex === this._items.length - 1;
        this._updateUnderlinePosition();
        this._scrollToSelected();
    },
    get: function () {
        return this._value;
    }
};


ButtonRange.eventHandler = {};

ButtonRange.eventHandler.clickItem = function (item, event) {
    if (this._lastValue != item._data.value) {
        this.value = item._data.value;
        this.notifyChange();
    }
};

ButtonRange.eventHandler.attached = function () {
    if (this.style.width === 'auto') this.autoWidth = true;
    HTML5_Dom["a" /* default */].addToResizeSystem(this.$attachHook);
    this.updateSize();
};


ButtonRange.eventHandler.wheel = function (event) {
    var prevLeft = this.$scroller.scrollLeft;
    if (event.deltaY < 0) {
        this.$scroller.scrollLeft -= 100;
    }
    else if (event.deltaY > 0) {
        this.$scroller.scrollLeft += 100;
    }
    if (prevLeft !== this.$scroller.scrollLeft)
        event.preventDefault();
};


ACore["a" /* default */].install(ButtonRange);

/* harmony default export */ var js_ButtonRange = (ButtonRange);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/dropzone.css
var dropzone = __webpack_require__(182);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/DropZone.js





var DropZone_ = ACore["a" /* default */]._;
var DropZone_$ = ACore["a" /* default */].$;

/***
 * @extends AElement
 * @constructor
 */
function DropZone() {
    this.defineEvent(['fileenter', 'fileleave', 'filedrop']);
    this.addClass('as-drop-zone');
    this.on('dragover', this.eventHandler.dragZoneFileOver)
        .on('drop', this.eventHandler.dropZoneFileDrop);
    this._fileOverTimeout = -1;
}

DropZone.tag = 'dropzone';

DropZone.render = function () {
    return DropZone_('div');
};

DropZone.eventHandler = {};
DropZone.eventHandler.dragZoneFileOver = function (event) {
    event.preventDefault();
    if (this._fileOverTimeout > 0) {
        clearTimeout(this._fileOverTimeout);
    }
    else {
        this.addClass('as-drag-over');
        this.emit('fileenter', event, this);
    }
    this._fileOverTimeout = setTimeout(this.eventHandler.dragZoneFileOverEnd, 100);
};

/***
 *
 * @param {DragEvent} event
 */
DropZone.eventHandler.dropZoneFileDrop = function (event) {
    if (this._fileOverTimeout > 0) {
        clearTimeout(this._fileOverTimeout);
        this._fileOverTimeout = -1;
    }
    event.preventDefault();
    this.removeClass('as-drag-over');
    event._files = null;
    Object.defineProperty(event, 'files',{
        get: function (){
            if (this._files) return  this._files;
            var files = [];
            var file;
            if (event.dataTransfer.items) {
                for (var i = 0; i < event.dataTransfer.items.length; i++) {
                    if (event.dataTransfer.items[i].kind === 'file') {
                        file = event.dataTransfer.items[i].getAsFile();
                        files.push(file);
                    }
                }
            } else {
                // Use DataTransfer interface to access the file(s)
                for (var i = 0; i < event.dataTransfer.files.length; i++) {
                    files.push(event.dataTransfer.files[i]);
                }
            }
            this._files = files;
            return this._files;
        }
    });

    this.emit('filedrop', event, this);
};

DropZone.eventHandler.dragZoneFileOverEnd = function () {
    this._fileOverTimeout = -1;
    this.removeClass('as-drag-over');
    this.emit('fileleave', { type: 'fileleave' }, this);
};

ACore["a" /* default */].install(DropZone);

/* harmony default export */ var js_DropZone = (DropZone);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/radioinput.css
var radioinput = __webpack_require__(184);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/RadioInput.js




//new tech, not working version

var RadioInput_ = ACore["a" /* default */]._;
var RadioInput_$ = ACore["a" /* default */].$;

/***
 * @extends Element
 * @constructor
 */
function RadioInput() {
    this.$input = RadioInput_$('input', this)
        .on('change', this.notifyChange.bind(this));
    this.checked = false;
    this.disabled = false;
    this.on('click', this.eventHandler.click);
    this.onchange = null;
}

RadioInput.tag = "RadioInput".toLowerCase();

RadioInput.render = function (data) {
    return RadioInput_({
            tag: 'label',
            extendEvent: 'change',
            class: 'as-radio-input',
            child: [
                {
                    elt: data && data.$input,
                    tag: 'input',
                    class: 'as-radio-input-value',
                    attr: {
                        type: 'radio'
                    }
                },
                {
                    class: ['as-radio-input-check-mark']
                }
            ]
        }
    )
};

/***
 * as normal, change event will be fired when radio change by system
 */
RadioInput.prototype.notifyChange = function () {
    var event = { checked: this.checked };
    this.emit('change', event, this);
};

RadioInput.prototype._updateCheckedClass = function () {
    if (this.checked) {
        this.addClass('as-checked');
    }
    else {
        this.removeClass('as-checked');
    }
};


RadioInput.property = {};

RadioInput.property.disabled = {
    set: function (value) {
        if (value) {
            this.addClass('as-disabled');
        }
        else {
            this.removeClass('as-disabled');
        }
        this.$input.disabled = !!value;
    },
    get: function () {
        this.$input.disabled;
    }
};

/***
 *
 * @type {RadioInput}
 */
RadioInput.property.checked = {
    set: function (value) {
        this.$input.checked = !!value;
        this._updateCheckedClass();
    },
    get: function () {
        return this.$input.checked;
    }
}

RadioInput.attribute = {
    checked: {
        set: function (value) {
            if (value === 'false' || value === null) {
                this.checked = false;
            }
            else {
                this.checked = true;
            }
        },
        get: function () {
            return this.checked ? 'true' : 'false'
        },
        remove: function () {
            this.checked = false;
        }
    },
    disabled: {
        set: function (value) {
            if (value === 'false' || value === null) {
                this.disabled = false;
            }
            else {
                this.disabled = true;
            }
        },
        get: function () {
            return this.disabled ? 'true' : 'false'
        },
        remove: function () {
            this.disabled = false;
        }
    }
};

/***
 *
 * @type {RadioInput}
 */
RadioInput.eventHandler = {};

RadioInput.eventHandler.click = function () {
    this._updateCheckedClass();
};


ACore["a" /* default */].install(RadioInput);


RadioInput.autoReplace = function () {
    var placeHolders = Array.prototype.slice.call(document.getElementsByTagName(this.tag));
    var ph;
    var attOfPH;
    var attrs;
    var style;
    var classList;
    var attNode;
    var attrName, attrValue;
    var props;
    for (var i = 0; i < placeHolders.length; ++i) {
        ph = placeHolders[i];
        attOfPH = ph.attributes;
        classList = [];
        style = {};
        attrs = {};
        props = {};
        for (var j = 0; j < attOfPH.length; ++j) {
            attNode = attOfPH[j];
            attrName = attNode.nodeName;
            attrValue = attNode.nodeValue;
            if (attrName == 'style') {
                attrValue.trim().split(';').reduce(function (style, prop) {
                    var p = prop.split(':');
                    if (p.length == 2) {
                        style[p[0].trim()] = p[1].trim();
                    }
                    return style;
                }, style);
            }
            else if (attrName == 'class') {
                classList = attrValue.trim().split(/\s+/);
            }
            else if (attrName == 'onchange') {
                props.onchange = new Function('event', 'sender', attrValue);
            }
            else {
                attrs[attrName] = attrValue;
            }
        }
        var newElt = RadioInput_({
            tag: this.tag,
            attr: attrs,
            class: classList,
            style: style,
            props: props
        });
        RadioInput_$(ph).selfReplace(newElt);
    }
};

RadioInput.initAfterLoad = function (){
    HTML5_Dom["a" /* default */].documentReady.then(function (){
        RadioInput.autoReplace();
    })
};


/* harmony default export */ var js_RadioInput = (RadioInput);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/onscreenwidget.css
var onscreenwidget = __webpack_require__(186);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/OnScreenWidget.js







var OnScreenWidget_ = ACore["a" /* default */]._;
var OnScreenWidget_$ = ACore["a" /* default */].$;
var OnScreenWidget_$$ = ACore["a" /* default */].$$;


/***
 * @extends Hanger
 * @constructor
 */
function OnScreenWidget() {
    this.id = 'unset-id-' + randomIdent();
    this.on({
        dragstart: this.eventHandler.widgetStartDrag,
        drag: this.eventHandler.widgetDrag,
        dragend: this.eventHandler.widgetDragEnd
    });

    this.addEventListener('click', function (event) {
        if (!this._preventClick)
            this.emit('click', event, this);
    });
    this.$attachhook = OnScreenWidget_('attachhook').addTo(this);
    this.$attachhook.on('attached', this.eventHandler.attached);
    this.config = null;
}

OnScreenWidget.tag = 'OnScreenWidget'.toLowerCase();

OnScreenWidget.render = function () {
    return OnScreenWidget_({
        tag: 'hanger',
        extendEvent: 'click',
        class: 'as-onscreen-widget',
        style: {
            visibility: 'hidden'
        }
    });
};

OnScreenWidget.prototype.configPrefix = 'on-screen-widget-';

OnScreenWidget.prototype._genConfig = function () {
    this._widgetBound = this.getBoundingClientRect();
    var screenSize = Object(HTML5_Dom["b" /* getScreenSize */])();
    return {
        cx: (this._widgetBound.left + this._widgetBound.width / 2) * 100 / screenSize.width,
        cy: (this._widgetBound.top + this._widgetBound.height / 2) * 100 / screenSize.height
    }

}

OnScreenWidget.prototype._saveConfig = function () {
    var id = this.id || '';
    if (id.startsWith('unset-id-') || !this.config) return;
    localStorage.setItem(this.configPrefix + id, JSON.stringify(this.config));
};

OnScreenWidget.prototype._loadConfig = function () {
    var id = this.id || '';
    if (id.startsWith('unset-id-')) return;
    var config = null;
    try {
        config = JSON.parse(localStorage.getItem(this.configPrefix + id));
        if ((typeof config !== "object") || (typeof config.cx !== "number") || (typeof config.cy !== 'number')) {
            config = this.config || this._genConfig();
        }
    } catch (error) {
        config = this.config || this._genConfig();
    }

    var cx = config.cx || 0;
    var cy = config.cy || 0;
    this.addStyle({
        '--cx': cx + 'vw',
        '--cy': cy + 'vh'
    });
    this.config = config;
};


OnScreenWidget.prototype._updateCSSSize = function () {
    var bound = this.getBoundingClientRect();
    this.addStyle({
        '--client-height': bound.height + 'px',
        '--client-width': bound.width + 'px'
    });
    this.removeStyle('visibility');
};

/***
 *
 * @type {OnScreenWidget|{}}
 */
OnScreenWidget.eventHandler = {};

OnScreenWidget.eventHandler.attached = function () {
    var images = OnScreenWidget_$$('img', this);
    var syncs = images.map(function (img) {
        if (img.classList.contains('absol-attachhook')) return Promise.resolve();
        return Object(HTML5_Dom["e" /* waitImageLoaded */])(img, 100);
    });
    var thisW = this;
    Promise.all(syncs).then(function () {
        thisW._updateCSSSize();
        thisW._loadConfig();
    });
};

OnScreenWidget.eventHandler.widgetStartDrag = function (event) {
    this._widgetBound = this.getBoundingClientRect();
    this._preventClick = true;
};

OnScreenWidget.eventHandler.widgetDrag = function (event) {
    event.preventDefault();
    var screenSize = Object(HTML5_Dom["b" /* getScreenSize */])();
    var p0 = new Math_Vec2(this._widgetBound.left, this._widgetBound.top);
    var dv = event.currentPoint.sub(event.startingPoint);
    var p1 = p0.add(dv);
    p1.x = Math.max(0, Math.min(screenSize.width - this._widgetBound.width, p1.x)) + this._widgetBound.width / 2;
    p1.y = Math.max(0, Math.min(screenSize.height - this._widgetBound.height, p1.y)) + this._widgetBound.height / 2;
    this.addStyle({
        '--cx': (p1.x * 100 / screenSize.width) + 'vw',
        '--cy': (p1.y * 100 / screenSize.height) + 'vh'
    });
    if (this.config) {
        this.config.cx = (p1.x * 100 / screenSize.width);
        this.config.cy = (p1.y * 100 / screenSize.height);
    }
};

OnScreenWidget.eventHandler.widgetDragEnd = function () {
    var thisWG = this;
    setTimeout(function () {
        thisWG._preventClick = false;
    }, 100);
    this._saveConfig();
};

ACore["a" /* default */].install(OnScreenWidget);

/* harmony default export */ var js_OnScreenWidget = (OnScreenWidget);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/ribbonsplitbutton.css
var ribbonsplitbutton = __webpack_require__(188);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/RibbonSplitButton.js






var RibbonSplitButton_ = ACore["a" /* default */]._;
var RibbonSplitButton_$ = ACore["a" /* default */].$;


/***
 * @extends AElement
 * @constructor
 */
function RibbonSplitButton() {
    this.$icon = null;
    this._icon = null;
    this.$text = RibbonSplitButton_$('.as-ribbon-split-button-text', this);
    this.$textNode = this.$text.firstChild;
    this.$primaryBtn = RibbonSplitButton_$('.as-ribbon-split-button-primary', this)
        .on('click', this.eventHandler.clickPrimaryBtn);
    this.$extendBtn = RibbonSplitButton_$('.as-ribbon-split-button-extend', this);
    this._menuHolder = null;
}

RibbonSplitButton.tag = 'RibbonSplitButton'.toLowerCase();

RibbonSplitButton.render = function () {
    return RibbonSplitButton_({
        extendEvent: ['press', 'select'],
        attr: {
            'tabindex': '0'
        },
        class: ['as-ribbon-split-button', 'as-no-dropdown'],
        child: {
            class: 'as-ribbon-split-button-content',
            child: [
                {
                    tag: 'button',
                    attr: {
                        'tabindex': '-1'
                    },
                    class: 'as-ribbon-split-button-primary',
                    child: { tag: 'span', class: 'as-ribbon-split-button-text', child: { text: '' } }
                },
                {
                    tag: 'button',
                    attr: {
                        'tabindex': '-1'
                    },
                    class: 'as-ribbon-split-button-extend',
                    child: 'span.mdi.mdi-chevron-down'
                }
            ]
        }
    });
};

RibbonSplitButton.property = {};

RibbonSplitButton.property.items = {
    set: function (items) {
        var thisB = this;
        this._items = items || [];
        if (this._items && this._items.length > 0) {
            if (!this._menuHolder) {
                this.removeClass('as-no-dropdown');
                this._menuHolder = js_QuickMenu.toggleWhenClick(this.$extendBtn || this, {
                    getMenuProps: function () {
                        return {
                            items: thisB._items
                        }
                    },
                    getFlowedElement: function () {
                        return thisB;
                    },
                    anchor: [1, 2, 6, 5],
                    onSelect: function (item) {
                        thisB.emit('select', { item: cleanMenuItemProperty(item), type: 'select', target: thisB });
                    }
                });
            }
        }
        else {
            if (this._menuHolder) {
                this.addClass('as-no-dropdown');
                this._menuHolder.remove();
                this._menuHolder = null;
            }
        }
    },
    get: function () {
        return this._items;
    }
};

RibbonSplitButton.property.text = {
    set: function (value) {
        value = value || '';
        this.$textNode.data = value;
    },
    get: function () {
        return this.$textNode.data;
    }
};


RibbonSplitButton.property.icon = {
    set: function (icon) {
        icon = icon || null;
        this._icon = icon;
        if (this.$icon) this.$primaryBtn.removeChild(this.$icon);
        if (icon) {
            this.$icon = RibbonSplitButton_(icon);
            this.$primaryBtn.addChildBefore(this.$icon, this.$text);
            if (this.$icon.addClass) this.$icon.addClass('as-ribbon-split-button-icon');
        }
        else {
            this.$icon = null;
        }
    },
    get: function () {
        return this._icon;
    }
};


RibbonSplitButton.eventHandler = {};

RibbonSplitButton.eventHandler.clickPrimaryBtn = function () {
    this.emit('press', { type: 'press', target: this, item: cleanMenuItemProperty(this) })
}

ACore["a" /* default */].install(RibbonSplitButton);

/* harmony default export */ var js_RibbonSplitButton = (RibbonSplitButton);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/ribbonbutton.css
var ribbonbutton = __webpack_require__(190);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/RibbonButton.js





var RibbonButton_ = ACore["a" /* default */]._;
var RibbonButton_$ = ACore["a" /* default */].$;


/***
 * @extends AElement
 * @constructor
 */
function RibbonButton() {
    this.$icon = null;
    this._icon = null;
    this.$text = RibbonButton_$('.as-ribbon-button-text', this);
    this.$textNode = this.$text.firstChild;
    this._menuHolder = null;
}

RibbonButton.tag = 'RibbonButton'.toLowerCase();

RibbonButton.render = function () {
    return RibbonButton_({
        tag: 'button',
        extendEvent: ['select'],
        attr: {
            'tabindex': '0'
        },
        class: ['as-ribbon-button', 'as-no-dropdown'],
        child: [
            {
                tag: 'span', class: 'as-ribbon-button-text',
                child: { text: '' }
            },
            'span.mdi.mdi-chevron-down'
        ]
    });
};

RibbonButton.property = Object.assign({}, js_RibbonSplitButton.property);


RibbonButton.property.icon = {
    set: function (icon) {
        icon = icon || null;
        this._icon = icon;
        if (this.$icon) this.removeChild(this.$icon);
        if (icon) {
            this.$icon = RibbonButton_(icon);
            this.addChildBefore(this.$icon, this.$text);
            if (this.$icon.addClass) this.$icon.addClass('as-ribbon-button-icon');
        }
        else {
            this.$icon = null;
        }
    },
    get: function () {
        return this._icon;
    }
};


RibbonButton.eventHandler = {};

ACore["a" /* default */].install(RibbonButton);

/* harmony default export */ var js_RibbonButton = (RibbonButton);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/timeselectinput.css
var timeselectinput = __webpack_require__(192);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/TimeSelectInput.js











var TimeSelectInput_ = ACore["a" /* default */]._;
var TimeSelectInput_$ = ACore["a" /* default */].$;


/***
 * @extends AElement
 * @constructor
 */
function TimeSelectInput() {
    /***
     *
     * @type {SelectListBox}
     */
    this.$selectlistBox = TimeSelectInput_({
        tag: 'selectlistbox',
        props: {
            anchor: [1, 6, 2, 5]
        },
        on: {
            preupdateposition: this.eventHandler.preUpdateListPosition
        }
    });
    this.$text = TimeSelectInput_$('.as-time-select-input-text', this)
        .on('change', this.eventHandler.textChange)
        .on('keyup', this.eventHandler.textKeyUp)
        .on('keydown', this.eventHandler.textKeyDown);


    this.$toggleBtn = TimeSelectInput_$('absol-selectmenu-btn', this);
    this.$selectlistBox.on('pressitem', this.eventHandler.selectListBoxPressItem);
    this.$selectlistBox.followTarget = this;
    this._makeTimeList(0, MILLIS_PER_DAY, MILLIS_PER_MINUTE * 15);
    this._hour = 0;
    this._minute = 0;
    this._lastDayOffset = 0;
    this.dayOffset = 0;
    this.on('click', this.eventHandler.click);

}

TimeSelectInput.tag = 'TimeSelectInput'.toLowerCase();

TimeSelectInput.render = function () {
    return TimeSelectInput_({
        class: 'as-time-select-input',
        extendEvent: 'change',
        attr: {
            tabindex: 0
        },
        child: [
            {
                tag: 'input',
                class: 'as-time-select-input-text',
                attr: {
                    type: 'text'
                }
            },
            {
                tag: 'button',
                class: 'absol-selectmenu-btn',
                child: ['dropdown-ico']
            }
        ]
    });
};


TimeSelectInput.prototype._makeTimeList = function (start, end, step) {
    var items = [];
    for (var t = 0; t < end; t += step) {
        items.push({
            text: this._mil2Text(t),
            value: t
        });
    }
    this.$selectlistBox.items = items;
    this.addStyle('--list-min-width', this.$selectlistBox._estimateWidth + 'px');
};

TimeSelectInput.prototype.textRegx = /^((1[0-2])|[1-9]):([0-5][0-9]) (AM|PM)$/;

TimeSelectInput.prototype._mil2Text = function (mil) {
    if (mil < 0) {
        mil = mil + Math.ceil(-mil / MILLIS_PER_DAY) * MILLIS_PER_DAY;
    }
    var min = Math.floor(mil / (MILLIS_PER_MINUTE));
    var hour = Math.floor(min / 60) % 24;
    min = min % 60;
    return (hour % 12 == 0 ? 12 : (hour % 12)) + ':' + (min < 10 ? '0' : '') + min + ' ' + (hour < 12 ? 'AM' : 'PM');
};

/***
 *
 * @param {string} s
 * @private
 */
TimeSelectInput.prototype._text2mil = function (s) {
    s = s.toLowerCase();
    var nums = s.match(/[0-9]+/g) || [0, 0];
    while (nums.length < 2) {
        nums.push(0);
    }
    var h = positiveIntMod(parseInt(nums[0]), 24);
    var m = positiveIntMod(parseInt(nums[1]), 60);
    var pm = s.indexOf('pm') > 0 || h > 12;
    if (pm) {
        if (h < 12) h += 12;
    }
    else {
        if (h == 12) h = 0;
    }
    return h * MILLIS_PER_HOUR + m * MILLIS_PER_MINUTE;
};


TimeSelectInput.prototype.isActive = function () {
    return document.activeElement == this || AElement["a" /* default */].prototype.isDescendantOf.call(document.activeElement, this)
        || AElement["a" /* default */].prototype.isDescendantOf.call(document.activeElement, this.$selectlistBox);
};

TimeSelectInput.prototype._updateValueText = function () {
    this.$text.value = this._mil2Text(this.dayOffset);
};

TimeSelectInput.prototype.notifyCanBeChange = function () {
    var dayOffset = this.dayOffset;
    if (this._lastDayOffset !== dayOffset) {
        this.emit('change', {
            type: 'change',
            lastDayOffset: this._lastDayOffset,
            dayOffset: dayOffset,
            target: this
        }, this);
        this._lastDayOffset = dayOffset;
    }
};


TimeSelectInput.property = {};

TimeSelectInput.property.isFocus = {
    get: function () {
        return this.containsClass('as-focus');
    },
    set: function (value) {
        value = !!value;
        if (this.isFocus == value) return;
        if (value) {
            this.addClass('as-focus');
        }
        else {
            this.removeClass('as-focus');
        }
        var thisI = this;
        if (value) {
            document.body.appendChild(this.$selectlistBox);
            this.$selectlistBox.domSignal.$attachhook.emit('attached');
            var bound = this.getBoundingClientRect();
            this.$selectlistBox.addStyle('min-width', bound.width + 'px');
            this.$selectlistBox.refollow();
            this.$selectlistBox.updatePosition();
            setTimeout(function () {
                if (thisI.enableSearch) {
                    thisI.$selectlistBox.$searchInput.focus();
                }
                TimeSelectInput_$(document.body).on('click', thisI.eventHandler.bodyClick);
            }, 1);
            this.$selectlistBox.viewListAtFirstSelected();
        }
        else {
            TimeSelectInput_$(document.body).off('click', thisI.eventHandler.bodyClick);
            this.$selectlistBox.selfRemove();
            this.$selectlistBox.unfollow();
            this.$selectlistBox.resetSearchState();
        }
    }
};


TimeSelectInput.property.hour = {
    set: function (value) {
        this._hour = positiveIntMod(value, 24);
        this._lastDayOffset = this.dayOffset;
        this._updateValueText();
    },
    get: function () {
        return this._hour;
    }
};

TimeSelectInput.property.minute = {
    set: function (value) {
        this._minute = positiveIntMod(value, 60);
        this._lastDayOffset = this.dayOffset;
        this._updateValueText();
    },
    get: function () {
        return this._minute;
    }
};

TimeSelectInput.property.dayOffset = js_TimeInput.property.dayOffset;
TimeSelectInput.property.disabled = {
    set: function (value) {
        this.$text.disabled = !!value;
        if (value) {
            this.addClass('as-disabled');
        }
        else {
            this.removeClass('as-disabled');
        }
    }
    ,
    get: function () {
        return this.containsClass('as-disabled');
    }
};


/***
 *
 * @type {{}|TimeSelectInput}
 */
TimeSelectInput.eventHandler = {};

TimeSelectInput.eventHandler.selectListBoxPressItem = function (event) {
    var lastValue = this._lastDayOffset;
    var value = event.value;
    var text = this._mil2Text(value);
    this.dayOffset = value;
    this.$selectlistBox.values = [value];
    this.focus();
    setTimeout(function () {
        this.isFocus = false;
    }.bind(this), 100);
    this._lastDayOffset = lastValue;// restore last value after set dayOffset
    this.notifyCanBeChange();
};

TimeSelectInput.eventHandler.preUpdateListPosition = function () {
    var bound = this.getBoundingClientRect();
    var screenSize = Object(HTML5_Dom["b" /* getScreenSize */])();
    var availableTop = bound.top - 5;
    var availableBot = screenSize.height - 5 - bound.bottom;
    this.$selectlistBox.addStyle('--max-height', Math.max(availableBot, availableTop) + 'px');
    var outBound = Object(HTML5_Dom["d" /* traceOutBoundingClientRect */])(this);
    if (bound.bottom < outBound.top || bound.top > outBound.bottom || bound.right < outBound.left || bound.left > outBound.right) {
        this.isFocus = false;
    }
};

TimeSelectInput.eventHandler.textChange = function () {
    setTimeout(function () {
        if (!this.textRegx.test(this.$text.value)) {
            this.$text.value = this._mil2Text(this.dayOffset);
        }
    }.bind(this), 10);
};

/***
 *
 * @param {KeyboardEvent} event
 */
TimeSelectInput.eventHandler.textKeyDown = function (event) {
    if (event.key == 'Enter') {
        this.isFocus = false;
        this.$text.blur();
        this.notifyCanBeChange();
    }
};


TimeSelectInput.eventHandler.textKeyUp = function (event) {
    var s = this.$text.value;
    var mil = this._text2mil(s);
    this._hour = Math.floor(mil / MILLIS_PER_HOUR);
    this._minute = Math.floor(mil / MILLIS_PER_MINUTE) % 60;
    this.$selectlistBox.values = [mil];
    this.$selectlistBox.viewListAtFirstSelected();
};

TimeSelectInput.eventHandler.click = function (event) {
    if (!EventEmitter["b" /* default */].hitElement(this.$text, event)) {
        this.isFocus = !this.isFocus;
        setTimeout(function () {
            if (this.isFocus && this.$text != document.activeElement) {
                this.$text.select();
            }
        }.bind(this), 1)
    }
    else {
        if (!this.isFocus) this.isFocus = true;
    }
};

TimeSelectInput.eventHandler.bodyClick = function (event) {
    if (EventEmitter["b" /* default */].hitElement(this, event) || EventEmitter["b" /* default */].hitElement(this.$selectlistBox, event)) return;
    this.isFocus = false;
};


ACore["a" /* default */].install(TimeSelectInput);

/* harmony default export */ var js_TimeSelectInput = (TimeSelectInput);
// EXTERNAL MODULE: ./node_modules/absol-acomp/css/multiselectmenu.css
var multiselectmenu = __webpack_require__(194);

// CONCATENATED MODULE: ./node_modules/absol-acomp/js/MultiSelectMenu.js












var MultiSelectMenu_ = ACore["a" /* default */]._;
var MultiSelectMenu_$ = ACore["a" /* default */].$;


/***
 * @extends PositionTracker
 * @constructor
 */
function MultiSelectMenu() {
    this.on('click', this.eventHandler.click);
    this.$selectlistBox = MultiSelectMenu_({
        tag: 'selectlistbox',
        props: {
            anchor: [1, 6, 2, 5],
            displayValue: VALUE_HIDDEN
        },
        on: {
            preupdateposition: this.eventHandler.preUpdateListPosition,
            pressitem: this.eventHandler.selectListBoxPressItem
        }
    });

    this.$itemCtn = MultiSelectMenu_$('.as-multi-select-menu-item-ctn', this);
    this.$attachhook = MultiSelectMenu_$('attachhook', this)
        .on('attached', this.eventHandler.attached);

    OOP["a" /* default */].drillProperty(this, this.$selectlistBox, 'enableSearch');
    this.$items = [];
    this._values = [];
    this.items = [];
    this.values = [];
    this.$selectlistBox.followTarget = this;
    this.disableClickToFocus = false;
    this.orderly = true;
    this.itemFocusable = false;
    this._activeValue = undefined;
}

MultiSelectMenu.tag = 'MultiSelectMenu'.toLowerCase();
MultiSelectMenu.render = function () {
    return MultiSelectMenu_({
        class: ['as-multi-select-menu'],
        extendEvent: ['change', 'add', 'remove', 'activevaluechange'],
        attr: {
            tabindex: '1'
        },
        child: [
            {
                class: ['as-multi-select-menu-item-ctn', 'as-bscroller']
            },
            {
                tag: 'button',
                class: 'as-multi-select-menu-toggle-btn',
                child: 'dropdown-ico'
            },
            'attachhook'
        ]
    });
};


MultiSelectMenu.prototype._requireItem = function (n) {
    var itemElt;
    while (this.$items.length < n) {
        itemElt = SelectBox_requireItem(this);
        this.$itemCtn.addChild(itemElt);
        this.$items.push(itemElt);
    }

    while (this.$items.length > n) {
        itemElt = this.$items.pop();
        this.$itemCtn.removeChild(itemElt);
        SelectBox_releaseItem(itemElt);
    }
};


MultiSelectMenu.prototype._assignItems = function (items) {
    for (var i = 0; i < this.$items.length && i < items.length; ++i) {
        this.$items[i].data = items[i];
    }
};

/***
 *
 * @param {string[] | number[]} values
 * @private
 */
MultiSelectMenu.prototype._getItemsByValues = function (values) {
    var selectListBoxElt = this.$selectlistBox;
    var itemHolders = values.reduce(function (ac, cr) {
        ac.push.apply(ac, selectListBoxElt.findItemsByValue(cr));
        return ac;
    }, []);
    if (this.orderly) {
        if (typeof this.orderly === 'function') {
            itemHolders.sort(this.orderly);
        }
        else {
            itemHolders.sort(function(a, b) {
                return a.idx - b.idx;
            });
        }
    }

    return itemHolders.map(function (holder) {
        return holder.item;
    })

};


MultiSelectMenu.prototype._updateItems = function () {
    var cBound = this.getBoundingClientRect();
    var items = this._getItemsByValues(this._values);
    this._requireItem(items.length);
    this._assignItems(items);
    if (this.itemFocusable) {
        this._updateFocusItem();
    }
    var nBound = this.getBoundingClientRect();
    if (nBound.width != cBound.width || nBound.height != cBound.height) {
        ResizeSystem["a" /* default */].updateUp(this);
    }
};


MultiSelectMenu.property = {};
MultiSelectMenu.property.disabled = SelectMenu2.property.disabled;
MultiSelectMenu.property.hidden = SelectMenu2.property.hidden;
MultiSelectMenu.property.isFocus = SelectMenu2.property.isFocus;


MultiSelectMenu.prototype.init = function (props) {
    props = props || [];
    Object.keys(props).forEach(function (key) {
        if (props[key] === undefined) delete props[key];
    });
    this.super(props);
};

MultiSelectMenu.prototype._updateFocusItem = function () {
    for (var i = 0; i < this.$items.length; ++i) {
        this.$items[i].active = this.$items[i].value == this._activeValue;
    }
};


MultiSelectMenu.prototype.init = SelectMenu2.prototype.init;


MultiSelectMenu.property.items = {
    set: function (items) {
        items = items || [];
        this.$selectlistBox.items = items;
        this.addStyle('--list-min-width', this.$selectlistBox._estimateWidth + 'px');
        this._updateItems();
    },
    get: function () {
        return this.$selectlistBox.items
    }
};

MultiSelectMenu.property.values = {
    set: function (values) {
        values = values || [];
        values = (values instanceof Array) ? values : [values];
        this._values = values;
        this.$selectlistBox.values = values;
        this._updateItems();
    },
    get: function () {
        return this._values || [];
    }
};

MultiSelectMenu.property.orderly = {
    set: function (value) {
       var needUpdate = this._orderly === this._orderly;
       if (typeof value === 'function') {
           this._orderly;
       }
       else
           this._orderly = !!value;
       if (needUpdate) {
           this.values = this.values;
       }
    },
    get: function () {
        return !!this._orderly;
    }
};

MultiSelectMenu.property.disableClickToFocus = {
    set: function (value) {
        if (value) {
            this.addClass('as-disable-click-to-focus');
        }
        else {
            this.removeClass('as-disable-click-to-focus');
        }
    },
    get: function () {
        return this.containsClass('as-disable-click-to-focus');
    }
};

MultiSelectMenu.property.itemFocusable = {
    set: function (value) {
        if (value) {
            this.addClass('as-item-focusable');
        }
        else {
            this.removeClass('as-item-focusable');
        }
        this._updateFocusItem();
    },
    get: function () {
        return this.containsClass('as-item-focusable');
    }
};

MultiSelectMenu.property.activeValue = {
    set: function (value) {
        this._activeValue = value;
        if (this.itemFocusable) {
            this._updateFocusItem();
            //todo
        }
    },
    get: function () {
        return this._activeValue;
    }
};


MultiSelectMenu.eventHandler = Object.assign({}, SelectMenu2.eventHandler);

MultiSelectMenu.eventHandler.attached = function () {
    var maxHeightStyle = this.getComputedStyleValue('max-height') || 'none';
    if (maxHeightStyle.match(/[0-9-]+px/)) {
        this.addStyle('--multi-select-menu-max-height', maxHeightStyle);
        this.addStyle('max-height', 'unset');
    }
    else if (maxHeightStyle !== 'none') {
        console.warn('Can not adapt max-height:', maxHeightStyle);
    }
};


MultiSelectMenu.eventHandler.click = function (event) {
    if ((event.target === this || event.target === this.$itemCtn) && !this.disableClickToFocus) {
        this.isFocus = !this.isFocus;
    }
};


MultiSelectMenu.eventHandler.bodyClick = function (event) {
    if (!EventEmitter["b" /* default */].hitElement(this.$selectlistBox, event) && event.target !== this && event.target !== this.$itemCtn) {
        this.isFocus = false;
    }
};


MultiSelectMenu.eventHandler.selectListBoxPressItem = function (event) {
    var data = event.data;
    var currentValues = this.$selectlistBox.values;
    currentValues.push(data.value);
    this.$selectlistBox.values = currentValues;
    this.$selectlistBox.updatePosition();
    this._activeValue = data.value;
    this._updateItems();
    this.isFocus = false;
    this.emit('add', Object.assign({}, event, {
        type: 'add',
        target: this,
        value: data.value,
        data: data,
        itemData: data
    }), this);
    this.emit('change', Object.assign({}, event, {
        type: 'change',
        action: 'add',
        target: this,
        value: data.value,
        data: data,
        values: this.values
    }), this);
};


ACore["a" /* default */].install(MultiSelectMenu);

/* harmony default export */ var js_MultiSelectMenu = (MultiSelectMenu);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/dom/install.js


























































































var publicCreators = [
    js_AutoCompleteInput,
    js_BoardTable,
    js_Board,
    js_BScroller,
    js_ButtonArray,
    js_ButtonRange,
    js_CalendarInput,
    OldCalendarInput,
    CheckBoxInput,
    js_CheckBox,
    CheckboxButton,
    js_ChromeCalendar,
    js_CircleSectionLabel,
    js_DropZone,
    Scrollbar,
    VScrollbar,
    HScrollbar,
    VScroller,
    HScroller,
    ContextMenu,
    HMenu,
    VMenuItem,
    VMenu,
    Dropright,
    VMenuLine,
    Dropdown,
    HMenuItem,
    VMenu,
    VRootMenu,
    MenuButton,
    js_DateInput2,
    js_Hanger,
    js_DraggableHStack,
    js_DraggableVStack,
    js_DropPanel,
    js_DropPanelStack,
    js_EditableText,
    js_EmojiPicker,
    js_Sprite,
    ExpNode,
    js_ExpTree,
    ExpGroup,
    js_FlexiconButton,
    js_FlexiconInput,
    js_Follower,
    js_FollowerToggler,
    js_Frame,
    js_FrameView,
    js_TabFrame,
    js_TabView,
    js_SinglePage,
    js_HexaSectionLabel,
    js_VRuler,
    js_HRuler,
    js_IconSprite,
    js_LinearColorBar,
    js_MediaInput,
    js_MessageInput,
    js_Modal,
    js_NumberInput,
    js_NumberSpanInput,
    OnsScreenWindow,
    js_OnScreenWidget,
    js_PageSelector,
    js_PreInput,
    js_ProgressBar,
    js_QuickListButton,
    js_QuickMenu,
    js_QuickPath,
    js_Radio,
    js_RadioButton,
    js_RadioInput,
    js_RibbonSplitButton,
    js_RibbonButton,
    js_SelectList,
    js_RemoteSvg,
    js_ResizeBox,
    Searcher,
    js_SelectListBox,
    js_SelectTreeBox,
    SelectMenu2,
    js_SelectBox,
    js_MultiSelectMenu,
    js_SelectBoxItem,
    js_SelectTable,
    js_SelectTable2,
    js_SelectTreeMenu,
    js_SpanInput,
    Snackbar,
    js_StaticTabbar,
    js_Switch,
    js_TableScroller,
    js_TableVScroller,
    js_TextArea2,
    js_TextClipboard,
    js_TimeInput,
    js_TimeSelectInput,
    js_TimePicker,
    Tooltip,
    js_TreeList,
    js_TreeListItem,
    WidthHeightSizer,
    js_TrackBar,
    js_TrackBarInput
];

/***
 *
 * @param {Dom} core
 */
function install(core) {
    core.install(publicCreators);
    core.install('checkboxbutton', CheckBoxInput);
    core.install('selectbox', js_MultiSelectMenu);
}

/* harmony default export */ var dom_install = (install);
// CONCATENATED MODULE: ./node_modules/absol-acomp/AComp.js












var AComp = {
    core: ACore["a" /* default */],
    $: ACore["a" /* default */].$,
    _: ACore["a" /* default */]._,
    creator: ACore["a" /* default */].creator,
    buildDom: ACore["a" /* default */].buildDom,
    runDebugTask: DebugTask["a" /* default */].start.bind(DebugTask["a" /* default */]),
    Draggable: js_Draggable,
    EmojiChars: js_EmojiChars,
    EmojiAnims: js_EmojiAnims,
    install: dom_install
};

window.runDebugTask = DebugTask["a" /* default */].start.bind(DebugTask["a" /* default */]);

/* harmony default export */ var absol_acomp_AComp = (AComp);
// CONCATENATED MODULE: ./node_modules/absol-acomp/js/materializeIconTrigger.js




function materializeIconTrigger() {
    HTML5_Dom["a" /* default */].documentReady.then(function () {
        var linkMaterial = ACore["a" /* default */].$('link', document.head, function (elt) {
            if (elt.href && elt.href.indexOf('Material+Icons')) return true;
        });
        if (!linkMaterial) return;
        var checkInv = -1;

        function onLoaded() {
            if (checkInv > 0) {
                clearTimeout(checkInv);
                checkInv = -1;
            }
            linkMaterial.off('loaded', onLoaded)
                .off('load', onLoaded)
                .off('error', onLoaded);
            i.remove();

            requestAnimationFrame(function () {
                ResizeSystem["a" /* default */].update();
                if (document.cookie.indexOf('absol_debug') >= 0) {
                    console.info('Resize after MaterialIcons load');
                }
            });
        }

        linkMaterial.on('loaded', onLoaded)
            .on('load', onLoaded)
            .on('error', onLoaded);
        var i = ACore["a" /* default */]._({
            tag: 'i',
            class:"material-icons",
            style: {
                fontSize: '14px',
                position: 'fix',
                top: '0',
                left: '0',
                zIndex: '-1000',
                visibility: 'hidden'
            },
            child: { text: 'account_balance_wallet' }
        }).addTo(document.body);
        var iBox = i.getBoundingClientRect();
        if (iBox.width < iBox.height * 3) {
            onLoaded();
            return;
        }
        var intervalCount = 50;
        checkInv = setInterval(function () {
            intervalCount--;
            if (intervalCount < 0) {
                onLoaded();
            }
            iBox = i.getBoundingClientRect();
            if (iBox.width < iBox.height * 3) {
                onLoaded();
            }
        }, 200);
    });
}


// CONCATENATED MODULE: ./node_modules/absol-acomp/dev.js




















absol.parseMessage = parseMessage;

//for export to window
absol.Tooltip = absol_acomp_AComp.creator.tooltip;
absol.QuickMenu = js_QuickMenu;
absol.AComp = absol_acomp_AComp;
absol.Radio = js_Radio;
absol.EmojiChars = js_EmojiChars;
absol.EmojiAnims = js_EmojiAnims;
absol.ChromeCalendar = js_ChromeCalendar;
dom_install(absol.coreDom);
//old module
absol.coreDom.install('searchcrosstextinput', Searcher);

Object.assign(absol.string, stringMatching_namespaceObject);
absol.MessageInput = js_MessageInput
absol.EmojiPicker = js_EmojiPicker;
absol.ContextCaptor = ContextMenu;
window.AComp = absol.AComp;
setTimeout(function () {
    var mdiLink = absol.$('link', document.head, function (e) {
        if (e.href && e.href.toLowerCase().indexOf('materialdesignicons') >= 0) return true;
    });
    if (!mdiLink) {
        mdiLink = absol._({
            tag: 'link',
            attr: {
                rel: 'stylesheet',
                href: '//cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/5.3.45/css/materialdesignicons.css'
            }
        }).addTo(document.head);
    }
}, 100);

materializeIconTrigger();

absol.MaterialDesignIconsNameMap = MaterialDesignIconsNameMap;
absol.openFileDialog = openFileDialog;
// CONCATENATED MODULE: ./js/dom/Fcore.js


var Fcore = new HTML5_Dom["a" /* default */]();
Fcore.traceOutBoundingClientRect = HTML5_Dom["a" /* default */].traceOutBoundingClientRect;
Fcore.install(absol_acomp_AComp.core);
/* harmony default export */ var dom_Fcore = (Fcore);
// CONCATENATED MODULE: ./js/dom/Icons.js

var Icons_ = dom_Fcore._;
dom_Fcore.install('mdi-align-horizontal-left', function () {
  return Icons_('<svg width="24px" height="24px" viewBox="0 0 24 24">\
            <path fill="#000000" d = "M22 13V19H6V13H22M6 5V11H16V5H6M2 2V22H4V2H2" />\
        </svg>');
});
dom_Fcore.install('mdi-align-horizontal-center', function () {
  return Icons_('<svg width="24px" height="24px" viewBox="0 0 24 24">\
             <path fill="#000000" d="M20 19H13V22H11V19H4V13H11V11H7V5H11V2H13V5H17V11H13V13H20V19Z" />\
        </svg>');
});
dom_Fcore.install('mdi-align-horizontal-right', function () {
  return Icons_('<svg width="24px" height="24px" viewBox="0 0 24 24">\
             <path fill="#000000" d="M18 13V19H2V13H18M8 5V11H18V5H8M20 2V22H22V2H20Z" />\
        </svg>');
});
dom_Fcore.install('mdi-align-vertical-bottom', function () {
  return Icons_('<svg width="24px" height="24px" viewBox="0 0 24 24">\
             <path fill="#000000" d="M11 18H5V2H11V18M19 8H13V18H19V8M22 20H2V22H22V20Z" />\
        </svg>');
});
dom_Fcore.install('mdi-align-vertical-center', function () {
  return Icons_('<svg width="24px" height="24px" viewBox="0 0 24 24">\
             <path fill="#000000" d="M5 20V13H2V11H5V4H11V11H13V7H19V11H22V13H19V17H13V13H11V20H5Z" />\
        </svg>');
});
dom_Fcore.install('mdi-align-vertical-top', function () {
  return Icons_('<svg width="24px" height="24px" viewBox="0 0 24 24">\
           <path fill="#000000" d="M11 22H5V6H11V22M19 6H13V16H19V6M22 2H2V4H22V2Z" />\
        </svg>');
});
dom_Fcore.install('frame-ico', function () {
  return Icons_('<svg width="25.03mm" height="26.1mm" version="1.1" viewBox="0 0 25.03 26.1" xmlns="http://www.w3.org/2000/svg">' + '    <g transform="translate(0,-270.9)">' + '        <path d="m12.662 270.91-7.0158 3.7418v4.0759l6.9156-4.0424 7.0492 3.9756-0.13363-3.9422z" style="fill:gray" />' + '        <path d="m12.628 276.89-6.7486 3.6416 6.6817 4.0424 6.7151-3.842z" style="fill:rgb(240, 122, 0)" />' + '        <path d="m5.2452 282.4-0.03341 7.3165 6.3811 3.8754 0.03341-7.4167z" style="fill:rgb( 122, 240, 0)" />' + '        <path d="m19.745 282.37-6.3811 3.842v7.3499l6.4145-3.7084z" style="fill:rgb(0, 122, 240)" />' + '        <path d="m21.816 283.07-0.13364 7.8176-6.7486 4.1093 3.2406 2.0045 6.7152-3.9088 0.13363-8.1517z" style="fill:gray" />' + '        <path d="m3.1738 283.04-3.1738 2.0045v7.7842l6.7151 4.1093 3.3409-1.8709-6.7151-3.9756z" style="fill:gray" />' + '    </g>' + '</svg>');
});
dom_Fcore.install('filter-ico', function () {
  return Icons_('<svg class="navbar-search__filter" viewBox="0 0 15 15">' + '    <g>' + '        <polyline fill="none" points="5.5 13.2 5.5 5.8 1.5 1.2 13.5 1.2 9.5 5.8 9.5 10.2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></polyline>' + '    </g>' + '</svg>');
});
dom_Fcore.install('drag-horizontal', function () {
  return Icons_('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cy="5" cx="9.5" r="1.5"></circle><circle cy="5" cx="14.5" r="1.5"></circle><circle cy="11" cx="9.5" r="1.5"></circle><circle cy="11" cx="14.5" r="1.5"></circle><circle cy="17" cx="9.5" r="1.5"></circle><circle cy="17" cx="14.5" r="1.5"></circle></svg>');
});
dom_Fcore.install('drag-vertical', function () {
  return Icons_('<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" width="24px" height="24px" viewBox="0 0 24 24" preserveAspectRatio="none"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z" fill="#5F6368"/></g></svg>');
});
dom_Fcore.install('sort-up', function () {
  return Icons_('<svg width="8" height="6" x="0" y="0" style="opacity: 1;"><defs></defs><rect x="0" y="0" width="8" height="6" fill="transparent" class="stencil__selection-helper"></rect><path d="M0 6.000000000000002C0 6.000000000000002 4.000000000000001 0 4.000000000000001 0 4.000000000000001 0 8 6.000000000000002 8 6.000000000000002 8 6.000000000000002 0 6.000000000000002 0 6.000000000000002" stroke-width="0" stroke="none" stroke-dasharray="none" fill="rgb(96, 96, 96)" fill-rule="evenOdd"></path></svg>');
});
dom_Fcore.install('sort-down', function () {
  return Icons_('<svg width="8" height="6" x="0" y="0" style="opacity: 1;"><defs></defs><rect x="0" y="0" width="8" height="6" fill="transparent" class="stencil__selection-helper"></rect><path d="M0 0C0 0 4.000000000000001 6 4.000000000000001 6 4.000000000000001 6 8 0 8 0 8 0 0 0 0 0" stroke-width="0" stroke="none" stroke-dasharray="none" fill="rgb(96, 96, 96)" fill-rule="evenOdd"></path></svg>');
});
// CONCATENATED MODULE: ./js/dom/Fcomp.js


 //install all icon to core
//todo: import orther Creator

/* harmony default export */ var Fcomp = (dom_Fcore);
// CONCATENATED MODULE: ./js/R.js
/* harmony default export */ var R = ({
  APP: 'pizo',
  VERSION: '0.0.1'
});
// CONCATENATED MODULE: ./js/component/BaseView.js




function BaseView() {
  EventEmitter["b" /* default */].call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

Object.defineProperties(BaseView.prototype, Object.getOwnPropertyDescriptors(EventEmitter["b" /* default */].prototype));
Object.defineProperties(BaseView.prototype, Object.getOwnPropertyDescriptors(AppPattern_Fragment.prototype));
BaseView.prototype.constructor = BaseView;
BaseView.prototype.CONFIG_STORE_KEY = "AS_BaseView_config";
BaseView.prototype.config = {}; //share width differentInstance

BaseView.prototype.loadConfig = function () {
  var raw = localStorage.getItem(this.CONFIG_STORE_KEY);

  if (raw) {
    try {
      Object.assign(this.config, JSON.parse(raw));
    } catch (error) {
      console.error("Config fail:", error);
    }
  }
};

BaseView.prototype.saveConfig = function () {
  if (this._saveConfigTimeOut > 0) {
    clearTimeout(this._saveConfigTimeOut);
    this._saveConfigTimeOut = -1;
  }

  var self = this;
  setTimeout(function () {
    var raw = JSON.stringify(self.config);
    localStorage.setItem(self.CONFIG_STORE_KEY, raw);
  }, 2000);
};

BaseView.prototype.setData = function (data) {
  throw new Error('Not implement!');
};

BaseView.prototype.getData = function () {
  throw new Error('Not implement!');
};

BaseView.prototype.getComponentTool = function () {
  return undefined;
};

BaseView.prototype.getOutlineTool = function () {
  return undefined;
};

BaseView.prototype.notifyDataChange = function () {
  this.emit('datachange', {
    type: 'datachange',
    target: this
  }, this);
};

BaseView.prototype.execCmd = function () {
  return this.cmdRunner.invoke.apply(this.cmdRunner, arguments);
};

/* harmony default export */ var component_BaseView = (BaseView);
// EXTERNAL MODULE: ./css/LoginForm.css
var LoginForm = __webpack_require__(196);

// EXTERNAL MODULE: ./js/component/ModuleDatabase.js
var ModuleDatabase = __webpack_require__(0);

// EXTERNAL MODULE: ./css/FormatFunction.css
var FormatFunction = __webpack_require__(199);

// CONCATENATED MODULE: ./js/component/FormatFunction.js
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }




var FormatFunction_ = dom_Fcore._;
var FormatFunction_$ = dom_Fcore.$;
function formatDate(date) {
  var isMinutes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var isHours = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var isDay = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
  var isMonth = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;
  var isYear = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;
  if (_typeof(date) == "object") var d = date;else var d = new Date(date); //time zone value from database
  //get the timezone offset from local time in minutes

  var tzDifference = -d.getTimezoneOffset(); //convert the offset to milliseconds, add to targetTime, and make a new Date

  d = new Date(d.getTime() + tzDifference * 60 * 1000);
  var resultTime = [];
  var resultDayMonth = [];

  if (isHours) {
    var hour = '' + d.getHours();
    if (hour.length < 2) hour = '0' + hour;
    resultTime.push(hour);
  }

  if (isMinutes) {
    var minute = '' + d.getMinutes();
    if (minute.length < 2) minute = '0' + minute;
    resultTime.push(minute);
    var second = '' + d.getSeconds();
    if (second.length < 2) second = '0' + second;
    resultTime.push(second);
  }

  if (isDay) {
    var day = '' + d.getDate();
    if (day.length < 2) day = '0' + day;
    resultDayMonth.push(day);
  }

  if (isMonth) {
    var month = '' + (d.getMonth() + 1);
    if (month.length < 2) month = '0' + month;
    resultDayMonth.push(month);
  }

  if (isYear) resultDayMonth.push('' + d.getFullYear());
  return resultTime.join(':') + " " + resultDayMonth.join('/');
}
function FormatFunction_formatNumber(n) {
  // format number 1000000 to 1,234,567
  return n.replace(/\D/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}
function reFormatNumber(n) {
  return parseFloat(n.split(",").join(""));
}
function formatFit(n) {
  var arr = [];
  var per = 10;
  var check;

  while (n != 0) {
    check = n % per;
    arr.push(check);
    n = n - check;
    per *= 10;
  }

  return arr;
}
function getGMT(date) {
  var timezone = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var onlyDay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  if (date == undefined) var d = new Date();else var d = new Date(date); //time zone value from database

  var timeZoneFromDB = timezone; //time zone value from database
  //get the timezone offset from local time in minutes

  var tzDifference = timeZoneFromDB * 60 + d.getTimezoneOffset(); //convert the offset to milliseconds, add to targetTime, and make a new Date

  d = new Date(d.getTime() + tzDifference * 60 * 1000);
  var resultTime = [];
  var resultDayMonth = [];

  if (onlyDay == false) {
    var hour = '' + d.getHours();
    if (hour.length < 2) hour = '0' + hour;
    resultTime.push(hour);
    var minute = '' + d.getMinutes();
    if (minute.length < 2) minute = '0' + minute;
    resultTime.push(minute);
    var second = '' + d.getSeconds();
    if (second.length < 2) second = '0' + second;
    resultTime.push(second);
  }

  resultDayMonth.push('' + d.getFullYear());
  var month = '' + (d.getMonth() + 1);
  if (month.length < 2) month = '0' + month;
  resultDayMonth.push(month);
  var day = '' + d.getDate();
  if (day.length < 2) day = '0' + day;
  resultDayMonth.push(day);
  if (onlyDay === false) return resultDayMonth.join('-') + " " + resultTime.join(':');else return resultDayMonth.join('-');
}
function getIDCompair(string) {
  if (string == 0) return 0;
  return parseInt(string.slice(string.lastIndexOf("_") + 1));
}
function getNameCompair(string) {
  if (string == 0) return "";
  return string.slice(0, string.lastIndexOf("_"));
}
function removeAccents(str) {
  return str.normalize('NFD').replace(/[\u0300-\u036f]/g, '').replace(/đ/g, 'd').replace(/Đ/g, 'D');
}
function promiseState(promise, callback) {
  // Symbols and RegExps are never content-equal
  var uniqueValue = window['Symbol'] ? Symbol('unique') : /unique/;

  function notifyPendingOrResolved(value) {
    if (value === uniqueValue) {
      return callback('pending');
    } else {
      return callback('fulfilled');
    }
  }

  function notifyRejected(reason) {
    return callback('rejected');
  }

  var race = [promise, Promise.resolve(uniqueValue)];
  Promise.race(race).then(notifyPendingOrResolved, notifyRejected);
}
function consoleArea(areas) {
  var result = [];
  var multipolygon = {
    type: "FeatureCollection",
    features: []
  };
  areas.forEach(function (f) {
    if (f._area > 1.1368683772161603e-13) {
      var vertices = f.vertexlist;

      if (vertices !== undefined) {
        var temp = [];

        for (var i = 0; i < vertices.length; i++) {
          temp.push([vertices[i].x, vertices[i].y]);
        }

        temp.push([vertices[0].x, vertices[0].y]);
        temp = checkRule(temp);
        multipolygon.features.push({
          type: "Feature",
          properties: {},
          geometry: {
            type: 'Polygon',
            coordinates: [temp]
          }
        });
      }
    }
  });
  return result;
}
function grayscale(src) {
  return new Promise(function (resolve, reject) {
    var image = new Image();
    image.src = src;
    image.style.visibility = "hidden";
    image.style.position = "absolute";
    image.style.top = 0;

    image.onload = function () {
      document.body.appendChild(image);
      var myCanvas = document.createElement("canvas");
      var myCanvasContext = myCanvas.getContext("2d");
      var imgWidth = image.width;
      var imgHeight = image.height; // You'll get some string error if you fail to specify the dimensions

      myCanvas.width = imgWidth;
      myCanvas.height = imgHeight; //  alert(imgWidth);

      myCanvasContext.drawImage(image, 0, 0); // This function cannot be called if the image is not rom the same domain.
      // You'll get security error if you do.

      var imgPixels = myCanvasContext.getImageData(0, 0, imgWidth, imgHeight);
      document.body.removeChild(image); // This loop gets every pixels on the image and

      for (var y = 0; y < imgPixels.height; y++) {
        for (var x = 0; x < imgPixels.width; x++) {
          var i = y * 4 * imgPixels.width + x * 4;
          var avg = (imgPixels.data[i] + imgPixels.data[i + 1] + imgPixels.data[i + 2]) / 3;
          imgPixels.data[i] = avg;
          imgPixels.data[i + 1] = avg;
          imgPixels.data[i + 2] = avg;
        }
      }

      myCanvasContext.putImageData(imgPixels, 0, 0, 0, 0, imgPixels.width, imgPixels.height);
      resolve(myCanvas.toDataURL());
    };
  });
}

function toBase64(arr) {
  //arr = new Uint8Array(arr) if it's an ArrayBuffer
  return btoa(arr.reduce(function (data, _byte) {
    return data + String.fromCharCode(_byte);
  }, ''));
}

function consoleWKT(areas) {
  var multipolygon = "MULTIPOLYGON(";
  var polygon,
      isFirst,
      coordinates,
      isFirstPolygon = "";
  areas.forEach(function (f) {
    if (f._area > 1.1368683772161603e-13) {
      var vertices = f.vertexlist;

      if (vertices !== undefined) {
        polygon = "";
        coordinates = "";
        isFirst = "";

        for (var i = 0; i < vertices.length; i++) {
          coordinates += isFirst + vertices[i].x + " " + vertices[i].y;
          isFirst = ",";
        }

        coordinates += isFirst + vertices[0].x + " " + vertices[0].y;
        coordinates = checkRuleWKT(coordinates);
        polygon += "((" + coordinates + "))";
      }

      multipolygon += isFirstPolygon + polygon;
      isFirstPolygon = ",";
    }
  });
  multipolygon += ")";
  return multipolygon;
}
function consoleWKTLine(lines) {
  var isFirstLines = "";
  var multilines = "MultiLineString(";
  lines.forEach(function (f) {
    multilines += isFirstLines + "(" + f.origin.x + " " + f.origin.y;
    multilines += ", " + f.twin.origin.x + " " + f.twin.origin.y + ")";
    isFirstLines = ",";
  });
  multilines += ")";
  if (multilines == "MultiLineString()") return -1;
  return multilines;
}
function checkRule(poly) {
  var sum = 0;

  for (var i = 0; i < poly.length - 1; i++) {
    var cur = poly[i],
        next = poly[i + 1];
    sum += (next[0] - cur[0]) * (next[1] + cur[1]);
  }

  if (sum > 0) return poly.reverse();
  return poly;
}
function checkRuleWKT(poly) {
  var sum = 0;
  var polygon = poly.split(",");

  for (var i = 0; i < polygon.length - 1; i++) {
    var cur = polygon[i].split(" "),
        next = polygon[i + 1].split(" ");
    sum += (next[0] - cur[0]) * (parseFloat(next[1]) + parseFloat(cur[1]));
  }

  if (sum > 0) return polygon.reverse().join();
  return poly;
}
function loadingWheel() {
  var temp = FormatFunction_({
    tag: "div",
    "class": "container-wheel",
    child: [{
      tag: "div",
      "class": "lds-roller",
      child: [{
        tag: "div"
      }, {
        tag: "div"
      }, {
        tag: "div"
      }, {
        tag: "div"
      }, {
        tag: "div"
      }, {
        tag: "div"
      }, {
        tag: "div"
      }, {
        tag: "div"
      }]
    }]
  });

  Object.assign(temp, loadingWheel.prototype);
  document.body.appendChild(temp);
  document.body.style.pointerEvents = "none";
  return temp;
}

loadingWheel.prototype.disable = function () {
  document.body.style.pointerEvents = "";
  this.selfRemove();
};

function insertAfter(newNode, existingNode) {
  existingNode.parentNode.insertBefore(newNode, existingNode.nextSibling);
}
function isEqual(value, other) {
  // Get the value type
  var type = Object.prototype.toString.call(value); // If the two objects are not the same type, return false

  if (type !== Object.prototype.toString.call(other)) return false; // If items are not an object or array, return false

  if (['[object Array]', '[object Object]'].indexOf(type) < 0) return false; // Compare the length of the length of the two items

  var valueLen = type === '[object Array]' ? value.length : Object.keys(value).length;
  var otherLen = type === '[object Array]' ? other.length : Object.keys(other).length;
  if (valueLen !== otherLen) return false; // Compare two items

  var compare = function compare(item1, item2) {
    // Get the object type
    var itemType = Object.prototype.toString.call(item1); // If an object or array, compare recursively

    if (['[object Array]', '[object Object]'].indexOf(itemType) >= 0) {
      if (!isEqual(item1, item2)) return false;
    } // Otherwise, do a simple comparison
    else {
        // If the two items are not the same type, return false
        if (itemType !== Object.prototype.toString.call(item2)) return false; // Else if it's a function, convert to a string and compare
        // Otherwise, just compare

        if (itemType === '[object Function]') {
          if (item1.toString() !== item2.toString()) return false;
        } else {
          if (item1 !== item2) return false;
        }
      }
  }; // Compare properties


  if (type === '[object Array]') {
    for (var i = 0; i < valueLen; i++) {
      if (compare(value[i], other[i]) === false) return false;
    }
  } else {
    for (var key in value) {
      if (value.hasOwnProperty(key)) {
        if (compare(value[key], other[key]) === false) return false;
      }
    }
  } // If nothing failed, return true


  return true;
}
;
function isNumeric(n) {
  return !isNaN(parseFloat(n)) && isFinite(n);
}
function setCookie(name, value, days) {
  var expires = "";

  if (days) {
    var date = new Date();
    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
    expires = "; expires=" + date.toUTCString();
  }

  document.cookie = name + "=" + (value || "") + expires + "; path=/";
}
function getCookie(name) {
  var nameEQ = name + "=";
  var ca = document.cookie.split(';');

  for (var i = 0; i < ca.length; i++) {
    var c = ca[i];

    while (c.charAt(0) == ' ') {
      c = c.substring(1, c.length);
    }

    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
  }

  return null;
}
function eraseCookie(name) {
  document.cookie = name + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
}
// CONCATENATED MODULE: ./js/page/LoginForm.js








var LoginForm_ = dom_Fcore._;
var LoginForm_$ = dom_Fcore.$;

function LoginForm_LoginForm() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

LoginForm_LoginForm.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(LoginForm_LoginForm.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
LoginForm_LoginForm.prototype.constructor = LoginForm_LoginForm;

LoginForm_LoginForm.prototype.getView = function () {
  this.createPromise();
  var self = this;
  this.$view = LoginForm_({
    tag: "div",
    "class": "login-register",
    style: {
      backgroundImage: "url(https://pizo.vn/storage/backend/assets/images/background/login-register.jpg)"
    },
    child: [{
      tag: "div",
      "class": ["login-box", "card"],
      child: [{
        tag: "div",
        "class": "card-body",
        child: [{
          tag: "div",
          "class": ["form-horizontal", "form-material"],
          props: {
            id: "loginform"
          },
          child: [{
            tag: "h3",
            "class": ["box-title", "m-b-20", "text-center"],
            props: {
              innerHTML: "Đăng nhập"
            }
          }, {
            tag: "div",
            clas: "form-group",
            child: [{
              tag: "div",
              "class": "col-xs-12",
              child: [{
                tag: "div",
                "class": "form-group",
                child: [{
                  tag: "div",
                  "class": "col-xs-12",
                  child: [{
                    tag: "input",
                    "class": "form-control",
                    on: {
                      input: function input() {
                        if (self.notifycationLogin.style.display == "") self.notifycationLogin.style.display = "none";
                      }
                    },
                    props: {
                      id: "phone-password-pizo-complete",
                      name: "phone",
                      type: "tel",
                      placeholder: "Số điện thoại"
                    }
                  }]
                }]
              }, {
                tag: "div",
                "class": "form-group",
                child: [{
                  tag: "div",
                  "class": "col-xs-12",
                  child: [{
                    tag: "input",
                    "class": "form-control",
                    on: {
                      input: function input() {
                        if (self.notifycationLogin.style.display == "") self.notifycationLogin.style.display = "none";
                      }
                    },
                    props: {
                      id: "input-password-pizo-complete",
                      name: "password",
                      type: "password",
                      placeholder: "Mật khẩu"
                    }
                  }]
                }]
              }, {
                tag: "div",
                "class": ["form-group", "row"],
                child: [{
                  tag: "div",
                  "class": ["col-md-12", "font-14"],
                  child: [{
                    tag: "div",
                    "class": ["checkbox", "checkbox-primary", "pull-left", "p-t-0"],
                    child: [{
                      tag: "input",
                      props: {
                        id: "checkbox-signup",
                        type: "checkbox",
                        checked: true
                      }
                    }, {
                      tag: "label",
                      props: {
                        "for": "checkbox-signup",
                        innerHTML: " Ghi nhớ đăng nhập "
                      }
                    }]
                  }]
                }]
              }, {
                tag: "div",
                "class": ["alert", "alert-danger"],
                style: {
                  display: "none"
                },
                props: {
                  innerHTML: "Đăng nhập thất bại"
                }
              }, {
                tag: "div",
                "class": ["form-group", "text-center", "m-t-20"],
                child: [{
                  tag: "div",
                  "class": "col-xs-12",
                  child: [{
                    tag: "button",
                    "class": ["btn-login", "btn-login-info", "btn-login-lg", "btn-login-block", "text-uppercase", "waves-effect", "waves-light"],
                    on: {
                      click: function click(event) {
                        self.requestLogin();
                      }
                    },
                    props: {
                      id: "button-password-pizo-complete",
                      type: "submit",
                      innerHTML: "Đăng nhập"
                    }
                  }]
                }]
              }]
            }]
          }]
        }]
      }]
    }]
  });
  this.inputPhone = LoginForm_$("input#phone-password-pizo-complete", this.$view);
  this.inputPassword = LoginForm_$("input#input-password-pizo-complete", this.$view);

  var functionX = function functionX(event) {
    if (event.keyCode === 13) {
      self.requestLogin();
    }
  };

  this.inputSaveLogin = LoginForm_$("input#checkbox-signup", this.$view);
  this.notifycationLogin = LoginForm_$("div.alert.alert-danger", this.$view);
  window.addEventListener("keydown", functionX);
  this.functionX = functionX;
  return this.$view;
};

LoginForm_LoginForm.prototype.requestLogin = function () {
  ModuleDatabase["a" /* default */].queryData("login.php", {
    phone: this.inputPhone.value,
    password: this.inputPassword.value
  }, "users").then(function (value) {
    if (value == false) {
      if (this.notifycationLogin.style.display == "none") this.notifycationLogin.style.display = "";
    } else {
      if (this.inputSaveLogin.checked == true) {
        setCookie("token_pizo_phone", value["token"], 3);
        setCookie("userid_pizo_phone", value["user"][0]["id"], 3);
      }

      window.token = value["token"];
      window.userid = value["user"][0]["id"];
      ModuleDatabase["a" /* default */].getModule("users").setFormatLoad({
        WHERE: [{
          userid: value["user"][0]["id"]
        }]
      }, value["user"]);
      window.removeEventListener("keydown", this.functionX);
      this.resolveDB(value);
    }
  }.bind(this));
};

LoginForm_LoginForm.prototype.createPromise = function () {
  var self = this;
  self.promiseLogin = new Promise(function (resolve, reject) {
    self.resolveDB = resolve;
    self.rejectDB = reject;
  });
};

LoginForm_LoginForm.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

LoginForm_LoginForm.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

LoginForm_LoginForm.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

LoginForm_LoginForm.prototype.start = function () {};

/* harmony default export */ var page_LoginForm = (LoginForm_LoginForm);
// EXTERNAL MODULE: ./css/App.css
var App = __webpack_require__(201);

// EXTERNAL MODULE: ./css/ListRealty.css
var ListRealty = __webpack_require__(203);

// EXTERNAL MODULE: ./css/MergeRealty.css
var MergeRealty = __webpack_require__(205);

// EXTERNAL MODULE: ./node_modules/mpot-merge-tool/css/mpotmergtool.css
var mpotmergtool = __webpack_require__(207);

// CONCATENATED MODULE: ./node_modules/absol-form/js/core/BaseEditor.js




/***
 *
 * @constructor
 * @augments Fragment
 * @augments EventEmitter
 */
function BaseEditor() {
    EventEmitter["b" /* default */].call(this);
    AppPattern_Fragment.call(this);
    this.cmdRunner = new AppPattern_CMDRunner(this);
    this.cmdBindKeys = {};
    this.loadConfig();
}


Object.defineProperties(BaseEditor.prototype, Object.getOwnPropertyDescriptors(EventEmitter["b" /* default */].prototype));
Object.defineProperties(BaseEditor.prototype, Object.getOwnPropertyDescriptors(AppPattern_Fragment.prototype));
BaseEditor.prototype.constructor = BaseEditor;

BaseEditor.prototype.CONFIG_STORE_KEY = "AS_BaseEditor_config";
BaseEditor.prototype.config = {};//share width differentInstance

BaseEditor.prototype.loadConfig = function () {
    var raw = localStorage.getItem(this.CONFIG_STORE_KEY);
    if (raw) {
        try {
            Object.assign(this.config, JSON.parse(raw));
        }
        catch (error) {
            console.error("Config fail:", error);
        }
    }
};


BaseEditor.prototype.saveConfig = function () {
    if (this._saveConfigTimeOut > 0) {
        clearTimeout(this._saveConfigTimeOut);
        this._saveConfigTimeOut = -1;
    }
    var self = this;
    setTimeout(function () {
        var raw = JSON.stringify(self.config);
        localStorage.setItem(self.CONFIG_STORE_KEY, raw);
    }, 2000);
};


BaseEditor.prototype.setData = function (data) {
    throw new Error('Not implement!');
};

BaseEditor.prototype.getData = function () {
    throw new Error('Not implement!');
};

BaseEditor.prototype.getComponentTool = function () {
    return undefined;
};

BaseEditor.prototype.getOutlineTool = function () {
    return undefined;
};

BaseEditor.prototype.notifyDataChange = function () {
    this.emit('datachange', { type: 'datachange', target: this }, this);
};



BaseEditor.prototype.execCmd = function () {
    return this.cmdRunner.invoke.apply(this.cmdRunner, arguments);
};


BaseEditor.prototype.getCmdNames = function () {
    return [];
};


BaseEditor.prototype.getCmdDescriptors = function () {
    var self = this;
    return this.getCmdNames().reduce(function (ac, name) {
        ac[name] = self.getCmdDescriptor(name);
        return ac;
    }, {});
};


BaseEditor.prototype.getCmdDescriptor = function (name) {
    return {
        type: 'trigger',
        args: [],
        desc: '',
        bindKey: undefined
    };
};

BaseEditor.prototype.notifyCmdDescriptorsChange = function () {
    this.emit('cmddescriptorschange', { type: 'cmddescriptorschange' }, this);
};

BaseEditor.prototype.notifyCmdChange = function(){
    console.log('cmdchange');
    this.emit('cmdchange', { type: 'cmdchange' }, this);
};


BaseEditor.prototype.getCmdGroupTree = function () {
    return [];
};

BaseEditor.prototype.bindKeyToCmd = function (key, cmd) {
    this.cmdBindKeys[key] = cmd;
};


/**
 * @param {KeyboardEvent}event
 */
BaseEditor.prototype.ev_cmdKeyDown = function (event) {
    var specKeys = [];
    if (event.ctrlKey)
        specKeys.push('Ctrl');
    if (event.shiftKey)
        specKeys.push('Shift');
    if (event.altKey)
        specKeys.push('Alt');
    var key = event.key;
    if (key.length == 1) key = key.toUpperCase();
    var key1 = specKeys.concat([key]).join('-');
    var key2 = specKeys.concat([event.keyCode]).join('-');
    var cmd = this.cmdBindKeys[key1] || this.cmdBindKeys[key2];
    if (cmd) {
        this.execCmd(cmd, event);
        event.preventDefault();
    }
};


/* harmony default export */ var core_BaseEditor = (BaseEditor);
// EXTERNAL MODULE: ./node_modules/mpot-merge-tool/css/mpotpreview.css
var mpotpreview = __webpack_require__(209);

// CONCATENATED MODULE: ./node_modules/absol-colorpicker/components/CPCore.js



var CPCore = new HTML5_Dom["a" /* default */]({ creator: Object.assign({}, absol_acomp_AComp.creator) });
/* harmony default export */ var components_CPCore = (CPCore);
// EXTERNAL MODULE: ./node_modules/absol-colorpicker/style/colorpicker.css
var colorpicker = __webpack_require__(211);

// EXTERNAL MODULE: ./node_modules/absol-colorpicker/style/colorpickerbutton.css
var colorpickerbutton = __webpack_require__(213);

// CONCATENATED MODULE: ./node_modules/absol-colorpicker/style/index.js


// CONCATENATED MODULE: ./node_modules/absol-colorpicker/components/ColorPicker.js



var ColorPicker_ = components_CPCore._;
var ColorPicker_$ = components_CPCore.$;


function ColorPicker() {
    var res = ColorPicker_(['<div class="absol-color-picker">',
        '    <div class="absol-color-picker-color">',
        '        <div class="absol-color-picker-sat">',
        '            <div class="absol-color-picker-val">',
        '                <div class="absol-color-dragger"></div>',
        '            </div>',
        '        </div>',
        '    </div>',
        '    <div class="absol-color-picker-hue-range">',
        '        <div class="absol-color-picker-hue">',
        '            <div class="absol-color-dragger"></div>',
        '        </div>',
        '    </div>',
        '    <div class="absol-color-picker-alpha-range">',
        '        <div class="absol-color-picker-alpha">',
        '            <div class="absol-color-dragger"></div>',
        '        </div>',
        '    </div>',
        '    <div class="absol-color-picker-input">',
        ` <div class="absol-color-picker-text-container">
            <span class="f-mode">hsba(</span>
            <span class="absol-editabe-text num0">0</span><span class="separator0">deg, </span>
            <span class="absol-editabe-text num1">0</span><span class="separator1">%, </span>
            <span class="absol-editabe-text num2">0</span><span class="separator2">%, </span>
            <span class="absol-editabe-text num3">0</span><span>)</span>
        </div>`,
        '    </div>',
        '    <button class="absol-color-picker-mode">HSB</button>',
        '</div>'].join('')
    );

    res.$fMode = ColorPicker_$('.f-mode', res);
    res.$sep0 = ColorPicker_$('.separator0', res);
    res.$sep1 = ColorPicker_$('.separator1', res);
    res.$sep2 = ColorPicker_$('.separator2', res);

    res.$num0 = ColorPicker_('editabletext.num0');
    res.$num1 = ColorPicker_('editabletext.num1');
    res.$num2 = ColorPicker_('editabletext.num2');
    res.$num3 = ColorPicker_('editabletext.num3');
    ColorPicker.defaultNumberInputHandle(res.$num0);
    ColorPicker.defaultNumberInputHandle(res.$num1);
    ColorPicker.defaultNumberInputHandle(res.$num2);
    ColorPicker.defaultNumberInputHandle(res.$num3);



    res._num0LimitOption = ColorPicker.numberInputHandleLimit(res.$num0, 0, 360);
    res._num1LimitOption = ColorPicker.numberInputHandleLimit(res.$num1, 0, 100, 0);
    res._num2LimitOption = ColorPicker.numberInputHandleLimit(res.$num2, 0, 100, 0);
    res._num3LimitOption = ColorPicker.numberInputHandleLimit(res.$num3, 0, 1, 3);

    ColorPicker_$(".absol-editabe-text.num0", res).selfReplace(res.$num0);
    ColorPicker_$(".absol-editabe-text.num1", res).selfReplace(res.$num1);
    ColorPicker_$(".absol-editabe-text.num2", res).selfReplace(res.$num2);
    ColorPicker_$(".absol-editabe-text.num3", res).selfReplace(res.$num3);

    res.$num0.text = '0';
    res.$num1.text = '0';
    res.$num2.text = '0';
    res.$num3.text = '0';

    res.switchMode = {
        RGBA: 'HSBA',
        HSBA: 'HSLA',
        HSLA: 'RGBA',

        RGB: 'HSB',
        HSB: 'HSL',
        HSL: 'RGB'
    };

    res.toggleAlpha = {
        RGBA: 'RGB',
        HSBA: 'HSB',
        HSLA: 'HSL',

        RGB: 'RGBA',
        HSB: 'HSBA',
        HSL: 'HSLA'
    };

    res.defineEvent(['change']);
    res._saturation = 0;
    res._brightness = 0;
    res._hue = 0;
    res._alpha = 1;
    res.$color = ColorPicker_$('.absol-color-picker-color', res);
    res.$colorVal = ColorPicker_$('.absol-color-picker-val', res);
    res.$draggerVal = ColorPicker_$('.absol-color-dragger', res.$colorVal);
    res.eventHandler = OOP["a" /* default */].bindFunctions(res, ColorPicker.eventHandler);
    res.$colorVal.on('pointerdown', res.eventHandler.colorPointerDown, true);
    res.$hue = ColorPicker_$('.absol-color-picker-hue', res);
    res.$draggerHue = ColorPicker_$('.absol-color-dragger', res.$hue);
    res.$hue.on('pointerdown', res.eventHandler.huePointerDown);
    res.$alpha = ColorPicker_$('.absol-color-picker-alpha', res);
    res.$alpha.on('pointerdown', res.eventHandler.alphaPointerDown);
    res.$draggerAlpha = ColorPicker_$('.absol-color-dragger', res.$alpha);

    res.$textContainer = ColorPicker_$('.absol-color-picker-text-container', res);

    res.$mode = ColorPicker_$('.absol-color-picker-mode', res);
    res.$mode.on('click', res.eventHandler.modeClick);
    //todo

    res.$num0.on('blur', res.eventHandler.inputBlur);
    res.$num1.on('blur', res.eventHandler.inputBlur);
    res.$num2.on('blur', res.eventHandler.inputBlur);
    res.$num3.on('blur', res.eventHandler.inputBlur);


    return res;
}


ColorPicker.defaultNumberInputHandle = function (element) {
    element
        .on('keydown', function (event) {
            if (!event.key.match(/^[0-9\.]$/) && event.key.length == 1) {
                event.preventDefault();
            }
            if (event.key == 'Tab') {
                event.preventDefault();
            }
            if (event.key == 'Enter') {
                this.edit(false);
            }
            if (event.key == '.' && this.text.indexOf('.') >= 0) {
                event.preventDefault();
            }
            if (this.text.length >= 6 && event.key.length == 1) event.preventDefault();
        })
        .on('click', function (event) {
            element.edit(true, true);
        })
        .on('keydown', function (event) {
            if (event.key == 'Tab') {
                var parent = element.parentNode;
                var firstFriend;
                var found = false;
                var nextFriend = ColorPicker_$('editabletext', parent, function (elt) {
                    if (elt.getComputedStyleValue('display') == "none") return;
                    if (!firstFriend) {
                        firstFriend = elt;
                    }
                    if (elt == element) {
                        found = true;
                    }
                    else if (found) {
                        return true;
                    }
                });

                nextFriend = nextFriend || firstFriend;
                if (nextFriend) {
                    nextFriend.edit(true, true);
                }

            }
        });
};




ColorPicker.numberInputHandleLimit = function (element, min, max, fixed) {
    var option = {
        min: min, max: max, fixed: fixed || 0,
        enable: true
    }
    element.on('blur', function (event) {
        if (!option.enable) return;
        var number = parseFloat(element.text);
        if (isNaN(number)) {
            number = min;
        }
        if (option.fixed == 0) {
            number = Math.round(number);
        }
        number = Math.max(min, Math.min(option.max, number));
        element.text = number.toFixed(option.fixed) + '';
    });
    return option;
};




ColorPicker.property = {};
ColorPicker.property.withAlpha = {
    set: function (value) {
        if (value) {
            this.addClass('with-alpha');
        }
        else {
            this.removeClass('with-alpha');
        }
    },
    get: function () {
        return this.containClass('with-alpha');
    }
};

ColorPicker.property.saturation = {
    set: function (value) {
        value = value || 0;
        value = Math.max(0, Math.min(1, value));
        this._saturation = value;
        this.$draggerVal.addStyle('left', value * 100 + '%');
        this._update();

    },
    get: function () {
        return this._saturation;
    }
};

ColorPicker.property.brightness = {
    set: function (value) {
        value = value || 0;
        value = Math.max(0, Math.min(1, value));
        this._brightness = value;
        this.$draggerVal.addStyle('bottom', value * 100 + '%');
        this._update();

    },
    get: function () {
        return this._brightness;
    }
};

ColorPicker.property.mode = {
    set: function (value) {
        value = (value + '').toUpperCase();
        if (value.indexOf('A') >= 0) {
            this.addClass('with-alpha');
        }
        else {
            this.removeClass('with-alpha');
            this.alpha = 1;
        }

        if (value.match(/^H/)) {
            this._num0LimitOption.max = 360;
            this._num1LimitOption.max = 100;
            this._num2LimitOption.max = 100;
        }
        else if (value.match(/^RGB/)) {
            this._num0LimitOption.max = 255;
            this._num1LimitOption.max = 255;
            this._num2LimitOption.max = 255;
        }

        if (value.match(/^(HSB|HSL|RGB|RGBA|HSBA|HSLA)$/)) {
            this.$mode.innerHTML = value;
            this._updateColorText();
        }
    },
    get: function () {
        return this.$mode.innerHTML;
    }
};


ColorPicker.property.hue = {
    set: function (value) {
        value = value || 0;
        value = Math.max(0, Math.min(1, value));
        this._hue = value;
        this.$draggerHue.addStyle('top', value * 100 + '%');
        this._update();
    },
    get: function () {
        return this._hue;
    }
};

ColorPicker.property.alpha = {
    set: function (value) {
        value = value || 0;
        value = Math.max(0, Math.min(1, value));
        this._alpha = value;
        this.$draggerAlpha.addStyle('top', (1 - value) * 100 + '%');
        this._update();
    },
    get: function () {
        return this._alpha;
    }
};


ColorPicker.property.value = {
    set: function (value) {
        if (typeof value == 'string') {
            value = Color_Color.parse(value)
        }
        if (!value || !value.toHSBA)
            throw new Error('Invalid color type');
        var hsba = value.toHSBA();
        this.hue = hsba[0];
        this.saturation = hsba[1];
        this.brightness = hsba[2];
        this.alpha = hsba[3];
    },
    get: function () {
        return Color_Color.fromHSBA(this.hue, this.saturation, this.brightness, this.alpha);
    }
}


ColorPicker.property.RGBA = {
    set: function (value) {
        var hsba = Color_Color.rgbaToHSBA(value || [0, 0, 0, 0]);
        this.hue = hsba[0];
        this.saturation = hsba[1];
        this.brightness = hsba[2];
        this.alpha = hsba[3];
    },
    get: function () {
        var rgba = Color_Color.hsbaToRGBA([this.hue, this.saturation, this.brightness, this.alpha]);
        return rgba;

    },
}



ColorPicker.prototype._getSVOfEvent = function (event) {
    var valBound = this.$colorVal.getBoundingClientRect();
    var dx = event.clientX - valBound.left;
    var dy = event.clientY - valBound.top;
    var s = Math.max(0, Math.min(1, dx / valBound.width));
    var b = Math.max(0, Math.min(1, 1 - dy / valBound.height));
    return { s, b };
};


ColorPicker.prototype._getHOfEvent = function (event) {
    var hueBound = this.$hue.getBoundingClientRect();
    var h = event.clientY - hueBound.top;
    h = h / hueBound.height;
    h = Math.max(0, Math.min(1, h));
    return h;
};

ColorPicker.prototype._getAOfEvent = function (event) {
    var alphaBound = this.$alpha.getBoundingClientRect();
    var a = alphaBound.bottom - event.clientY;
    a = a / alphaBound.height;
    a = Math.max(0, Math.min(1, a));
    return a;
};

ColorPicker.prototype._getTextColorCode = function () {
    var h = this.hue + 0.5;
    if (h > 1) h -= 1;
    var s = this.saturation > 0.5 ? 0 : 1;
    var b = this.brightness > 0.5 ? 0 : 1;
    var rgba = Color_Color.hsbaToRGBA([h, s, b, 1]);
    return 'rgba(' + rgba.map((x, i) => i < 3 ? x * 255 : x).join(',') + ')';

};

ColorPicker.prototype.init = function (props) {
    this.RGBA = [1, 1, 1, 1];
    this.super(props);
};

ColorPicker.prototype._update = function () {
    //update vs
    var rgba = Color_Color.hsbaToRGBA([this.hue, 1, 1, 1]);
    this.$color.addStyle('background', 'rgba(' + rgba.map((x, i) => i < 3 ? x * 255 : x).join(',') + ')');
    rgba = Color_Color.hsbaToRGBA([this.hue, this.saturation, this.brightness, this.alpha]);
    this.$textContainer.addStyle('background', 'rgba(' + rgba.map((x, i) => i < 3 ? x * 255 : x).join(',') + ')');
    this.$textContainer.addStyle('color', this._getTextColorCode());
    this._updateColorText();
};


ColorPicker.prototype._updateColorText = function () {
    var hsba = [this.hue, this.saturation, this.brightness, this.alpha];
    var mode = this.mode;
    this.$fMode.innerHTML = mode.toLocaleLowerCase() + '(';
    if (mode.match(/^H/)) {
        this.$sep0.innerHTML = 'deg, ';
        this.$sep1.innerHTML = '%, ';
        if (mode.match(/A$/)) {
            this.$sep2.innerHTML = "%, ";
            this.$num3.removeStyle('display');

        }
        else {
            this.$sep2.innerHTML = "%";
            this.$num3.addStyle('display', 'none');

        }
    }
    else {
        this.$sep0.innerHTML = ', ';
        this.$sep1.innerHTML = ', ';
        if (mode.match(/A$/)) {
            this.$sep2.innerHTML = ", ";
            this.$num3.removeStyle('display');

        }
        else {
            this.$num3.addStyle('display', 'none');
            this.$sep2.innerHTML = "";
        }

    }
    if (mode.match(/HSB/)) {
        this.$num0.text = '' + Math.round(hsba[0] * 360);
        this.$num1.text = '' + Math.round(hsba[1] * 100);
        this.$num2.text = '' + Math.round(hsba[2] * 100);
        this.$num3.text = hsba[3].toFixed(3);
    }
    else {
        var cBytes = Color_Color['hsbaTo' + (mode.match(/A$/) ? mode : mode + 'A')](hsba);
        if (mode.match(/^H/)) {
            this.$num0.text = '' + Math.round(cBytes[0] * 360);
            this.$num1.text = '' + Math.round(cBytes[1] * 100);
            this.$num2.text = '' + Math.round(cBytes[2] * 100);
            this.$num3.text = hsba[3].toFixed(3);
        }
        else {
            this.$num0.text = '' + Math.round(cBytes[0] * 255);
            this.$num1.text = '' + Math.round(cBytes[1] * 255);
            this.$num2.text = '' + Math.round(cBytes[2] * 255);
            this.$num3.text = hsba[3].toFixed(3);
        }
        // var tempMode = mode.indexOf('A') < 0 ? mode + 'A' : mode;
        // var tempColor = Color['hsbaTo' + tempMode](hsba);
        // this.$textContainer.value = Color[mode.toLocaleLowerCase() + 'ToText'](tempColor);
    }
};

ColorPicker.eventHandler = {};

ColorPicker.eventHandler.colorPointerDown = function (event) {
    var newSV = this._getSVOfEvent(event);
    this.saturation = newSV.s;
    this.brightness = newSV.b;

    absol.$(document.body)
        .on('pointermove', this.eventHandler.colorPointerMove)
        .on('pointerup', this.eventHandler.colorPointerFinish)
        .on('pointerleave', this.eventHandler.colorPointerFinish);
    this.emit('change', { target: this, originEvent: event, value: this.value });
};

ColorPicker.eventHandler.colorPointerFinish = function (event) {
    absol.$(document.body)
        .off('pointermove', this.eventHandler.colorPointerMove)
        .off('pointerup', this.eventHandler.colorPointerFinish)
        .off('pointerleave', this.eventHandler.colorPointerFinish);
};

ColorPicker.eventHandler.colorPointerMove = function (event) {
    var newSV = this._getSVOfEvent(event);
    this.saturation = newSV.s;
    this.brightness = newSV.b;
    event.preventDefault();
    this.emit('change', { target: this, originEvent: event, value: this.value });
};



ColorPicker.eventHandler.huePointerDown = function (event) {
    var newH = this._getHOfEvent(event);
    this.hue = newH;
    event.preventDefault();
    absol.$(document.body)
        .on('pointermove', this.eventHandler.huePointerMove)
        .on('pointerup', this.eventHandler.huePointerFinish)
        .on('pointerleave', this.eventHandler.huePointerFinish);
    this.emit('change', { target: this, originEvent: event, value: this.value });
};

ColorPicker.eventHandler.huePointerFinish = function (event) {
    absol.$(document.body)
        .off('pointermove', this.eventHandler.huePointerMove)
        .off('pointerup', this.eventHandler.huePointerFinish)
        .off('pointerleave', this.eventHandler.huePointerFinish);
    event.preventDefault();

};

ColorPicker.eventHandler.huePointerMove = function (event) {
    var newH = this._getHOfEvent(event);
    this.hue = newH;
    event.preventDefault();
    this.emit('change', { target: this, originEvent: event, value: this.value });
};



ColorPicker.eventHandler.alphaPointerDown = function (event) {
    var newA = this._getAOfEvent(event);
    this.alpha = newA;

    absol.$(document.body)
        .on('pointermove', this.eventHandler.alphaPointerMove)
        .on('pointerup', this.eventHandler.alphaPointerFinish)
        .on('pointerleave', this.eventHandler.alphaPointerFinish);
    event.preventDefault();
    this.emit('change', { target: this, originEvent: event, value: this.value });
};

ColorPicker.eventHandler.alphaPointerFinish = function (event) {
    absol.$(document.body)
        .off('pointermove', this.eventHandler.alphaPointerMove)
        .off('pointerup', this.eventHandler.alphaPointerFinish)
        .off('pointerleave', this.eventHandler.alphaPointerFinish);
    event.preventDefault();
};

ColorPicker.eventHandler.alphaPointerMove = function (event) {
    var newA = this._getAOfEvent(event);
    this.alpha = newA;
    event.preventDefault();
    this.emit('change', { target: this, originEvent: event, value: this.value });
};

ColorPicker.eventHandler.modeClick = function (event) {
    this.mode = this.switchMode[this.mode];
    event.preventDefault();
};


ColorPicker.eventHandler.inputBlur = function () {
    var mode = this.mode;
    var alpha = 1;
    if (mode.match(/A$/)) {
        alpha = parseFloat(this.$num3.text);
    }
    var bytes;
    if (mode.match(/^H/)) {
        bytes = [parseFloat(this.$num0.text) / 360, parseFloat(this.$num1.text) / 100, parseFloat(this.$num2.text) / 100, alpha];
    }
    else if (mode.match(/^RGB/)) {
        bytes = [parseFloat(this.$num0.text) / 255, parseFloat(this.$num1.text) / 255, parseFloat(this.$num2.text) / 255, alpha];
    }

    var hsba = mode.match(/^HSB/) ? bytes : Color_Color[(mode.match(/A$/) ? mode.toLocaleLowerCase() : mode.toLocaleLowerCase() + 'a') + 'ToHSBA'](bytes);
    this.hue = hsba[0];
    this.saturation = hsba[1];
    this.brightness = hsba[2];
    this.alpha = hsba[3];
};

components_CPCore.creator.colorpicker = ColorPicker;

/* harmony default export */ var components_ColorPicker = (ColorPicker);
// CONCATENATED MODULE: ./node_modules/absol-colorpicker/components/ColorPickerButton.js



var ColorPickerButton_ = components_CPCore._;
var ColorPickerButton_$ = components_CPCore.$;

function ColorPickerButton() {
    this.$innerValue = ColorPickerButton_$('.as-color-picker-button-inner-value', this);

    this.prepare();
    this.on('click', this.eventHandler.click);
}

ColorPickerButton.eventHandler = {};

ColorPickerButton.eventHandler.click = function (event) {
    this.togglePicker();
};

ColorPickerButton.eventHandler.changeColor = function (event) {
    this.$innerValue.addStyle("background-color", event.value.toString());
    this._value = event.value;
    this.emit('change', event, this);
}

ColorPickerButton.eventHandler.clickBody = function (event) {
    if (EventEmitter["b" /* default */].hitElement(this, event) || EventEmitter["b" /* default */].hitElement(this.$ColorPicker, event)) return;
    this.closePicker();
};

ColorPickerButton.prototype.togglePicker = function () {
    if (this.containsClass('as-color-picker-selecting')) {
        this.closePicker();
    }
    else {
        this.openPicker();
    }
};


ColorPickerButton.prototype.openPicker = function () {
    if (ColorPickerButton.lastOpen) {
        ColorPickerButton.lastOpen.closePicker();
    }
    ColorPickerButton.lastOpen = this;
    this.addClass('as-color-picker-selecting');
    this.$ColorPicker.on('change', this.eventHandler.changeColor);
    this.$ctn.addTo(document.body);
    this.$follower.followTarget = this;
    ColorPickerButton_$(document.body).on('click', this.eventHandler.clickBody);
    this._lastValue = this.value;
    ColorPickerButton.$ColorPicker.value = this.value;
};


ColorPickerButton.prototype.closePicker = function () {
    this.removeClass('as-color-picker-selecting');
    if (ColorPickerButton.lastOpen == this) {
        ColorPickerButton.lastOpen == null;
        this.$ctn.remove();
    }
    this.$ColorPicker.off('change', this.eventHandler.changeColor);
    ColorPickerButton_$(document.body).off('click', this.eventHandler.clickBody);
    if (this.value != this._lastValue) {
        this.emit('stopchange', { target: this, value: this.value }, this);
    }
};

ColorPickerButton.prototype.prepare = function () {
    if (!ColorPickerButton.$ColorPicker) {
        ColorPickerButton.$ctn = ColorPickerButton_('.absol-context-hinge-fixed-container');
        ColorPickerButton.$follower = ColorPickerButton_('follower').addTo(ColorPickerButton.$ctn);
        ColorPickerButton.$ColorPicker = ColorPickerButton_({
            tag: 'colorpicker',
            props: {
                mode: 'RGBA'
            }
        }).addTo(ColorPickerButton.$follower);

        ColorPickerButton.lastOpen = null;
    }

    this.$follower = ColorPickerButton.$follower;

    this.$ColorPicker = ColorPickerButton.$ColorPicker;
    this.$ctn = ColorPickerButton.$ctn;
};

ColorPickerButton.render = function () {
    return ColorPickerButton_({
        tag: 'button',
        extendEvent: ['change', 'stopchange'],
        class: 'as-color-picker-button',
        child: [
            {
                tag: "div",
                class: "as-color-picker-button-inner",
                child: '.as-color-picker-button-inner-value'
            }
        ]
    });
};

ColorPickerButton.property = {};
ColorPickerButton.property.value = {
    set: function (value) {
        this._value = value;
        if (this._value) {
            this.$innerValue.addStyle("background-color", value);
        }
        else {
        }
    },
    get: function () {
        return this._value;
    }
};


components_CPCore.install('colorpickerbutton', ColorPickerButton);

/* harmony default export */ var components_ColorPickerButton = (ColorPickerButton);

// CONCATENATED MODULE: ./node_modules/absol-colorpicker/index.js







var absol_colorpicker_ColorPicker = {
    core: components_CPCore,
    _: components_CPCore._,
    $: components_CPCore.$,
    creator: components_CPCore.creator,
    Color:Color_Color
};

/* harmony default export */ var absol_colorpicker = (absol_colorpicker_ColorPicker);
// CONCATENATED MODULE: ./node_modules/absol-form/js/core/FCore.js




var FCore_Fcore = new HTML5_Dom["a" /* default */]();

FCore_Fcore.install(absol_acomp_AComp.core);
FCore_Fcore.install(absol_colorpicker.core);
/* harmony default export */ var FCore = (FCore_Fcore);
// EXTERNAL MODULE: ./node_modules/mpot-merge-tool/css/mpotbasepreview.css
var mpotbasepreview = __webpack_require__(215);

// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/preview/MPOTBasePreview.js




var MPOTBasePreview_ = FCore._;
var MPOTBasePreview_$ = FCore.$;

/****
 * @extends Context
 * @constructor
 */
function MPOTBasePreview() {
    AppPattern_Context.call(this);
    this._data = {};
    this.$view = null;
    this.createView();
}

Object.defineProperties(MPOTBasePreview.prototype, Object.getOwnPropertyDescriptors(AppPattern_Context.prototype));
MPOTBasePreview.prototype.constructor = MPOTBasePreview;

MPOTBasePreview.prototype.type = 'base';

MPOTBasePreview.prototype.createView = function () {
    this.$view = MPOTBasePreview_({
        class: 'mpot-base-preview',
        child: [
            {
                class: 'mpot-base-preview-name',
                child: { text: '' }
            },
            {
                class: 'mpot-base-preview-content'
            }
        ]
    });
    this.$name = MPOTBasePreview_$('.mpot-base-preview-name', this.$view);
    this.$content = MPOTBasePreview_$('.mpot-base-preview-content', this.$view);
};

MPOTBasePreview.prototype.getView = function () {
    if (this.$view) return this.$view;
    this.createView();
    return this.$view;
};

MPOTBasePreview.prototype.setData = function (data) {
    this._data = data;
    this.$name.firstChild.data = data.name || '';
};


MPOTBasePreview.prototype.getData = function () {
    return this._data;
};

/* harmony default export */ var preview_MPOTBasePreview = (MPOTBasePreview);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/preview/MPOTImagePreview.js



var MPOTImagePreview_ = FCore._;
var MPOTImagePreview_$ = FCore.$;

/***
 * @extends {MPOTBasePreview}
 * @constructor
 */
function MPOTImagePreview() {
    preview_MPOTBasePreview.call(this);
}

Object.defineProperties(MPOTImagePreview.prototype, Object.getOwnPropertyDescriptors(preview_MPOTBasePreview.prototype))
MPOTImagePreview.prototype.constructor = MPOTImagePreview;
MPOTImagePreview.prototype.type = 'image';

MPOTImagePreview.prototype.createView = function () {
    preview_MPOTBasePreview.prototype.createView.call(this);
};

MPOTImagePreview.prototype._viewData = function () {
    var thisP = this;
    var data = this._data;
    if (data.values && data.values.length >= 0) {
        this.$imgs = data.values.map(function (it) {
            return MPOTImagePreview_({
                tag: 'img',
                style: data.style||{},
                props: {
                    src: it
                }
            }).addTo(thisP.$content);
        });
    }
    else {
        this.$img = MPOTImagePreview_({
            tag: 'img',
            style: data.style || {},
            props: {
                src: data.value
            }
        }).addTo(thisP.$content);
    }
}

MPOTImagePreview.prototype.setData = function (data) {
    preview_MPOTBasePreview.prototype.setData.call(this, data);
    this.$content.clearChild();
    this._viewData();
};


MPOTImagePreview.prototype.getData = function () {
    return this._data;
};

/* harmony default export */ var preview_MPOTImagePreview = (MPOTImagePreview);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/preview/MPOTTextPreview.js




var MPOTTextPreview_ = FCore._;
var MPOTTextPreview_$ = FCore.$;


/***
 * @extends {MPOTBasePreview}
 * @constructor
 */
function MPOTTextPreview() {
    preview_MPOTBasePreview.call(this);
    this._data = null;

}

Object.defineProperties(MPOTTextPreview.prototype, Object.getOwnPropertyDescriptors(preview_MPOTBasePreview.prototype))
MPOTTextPreview.prototype.constructor = MPOTTextPreview;
MPOTTextPreview.prototype.type = 'text';

MPOTTextPreview.prototype.createView = function() {
    preview_MPOTBasePreview.prototype.createView.call(this);
    this.$text = MPOTTextPreview_({
        tag: 'span',
        child: {
            text: ''
        }
    });
    this.$content.addChild(this.$text);
};


MPOTTextPreview.prototype._viewData = function() {
    var data = this._data;
    if (data.values && data.values.length >= 0) {
        this.$text.firstChild.data = data.values.join(', ');
    } else {
        this.$text.firstChild.data = data.value || '';
    }
    if (this._data) {
        this._data.element = this.$text.firstChild;
    }
};

MPOTTextPreview.prototype.setEditable = function() {
    this.$text.setAttribute("contenteditable", true);
}

MPOTTextPreview.prototype.setData = function(data) {
    preview_MPOTBasePreview.prototype.setData.call(this, data);
    this._viewData();
};


MPOTTextPreview.prototype.getData = function() {
    return this._data;
};

/* harmony default export */ var preview_MPOTTextPreview = (MPOTTextPreview);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/preview/MPOTGroupPreview.js



var MPOTGroupPreview_ = FCore._;
var MPOTGroupPreview_$ = FCore.$;

/***
 * @extends {MPOTBasePreview}
 * @constructor
 */
function MPOTGroupPreview() {
    preview_MPOTBasePreview.call(this);
    this.properties  = [];
}

Object.defineProperties(MPOTGroupPreview.prototype, Object.getOwnPropertyDescriptors(preview_MPOTBasePreview.prototype))
MPOTGroupPreview.prototype.constructor = MPOTGroupPreview;
MPOTGroupPreview.prototype.type = 'group';

MPOTGroupPreview.prototype.createView = function () {
    this.$view = MPOTGroupPreview_({
        class: 'mpot-group',
        child: [
            {
                class: 'mpot-preview-group-name',
                child: { text: '' }
            }
        ]
    });
    this.$name = MPOTGroupPreview_$('.mpot-preview-group-name', this.$view);
};


/* harmony default export */ var preview_MPOTGroupPreview = (MPOTGroupPreview);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/preview/MPOTContainerPreview.js



var MPOTContainerPreview_ = FCore._;
var MPOTContainerPreview_$ = FCore.$;

/***
 * @extends {MPOTBasePreview}
 * @constructor
 */
function MPOTContainerPreview() {
    preview_MPOTBasePreview.call(this);
    this.properties  = [];
}

Object.defineProperties(MPOTContainerPreview.prototype, Object.getOwnPropertyDescriptors(preview_MPOTBasePreview.prototype))
MPOTContainerPreview.prototype.constructor = MPOTContainerPreview;
MPOTContainerPreview.prototype.type = 'container';

MPOTContainerPreview.prototype.createView = function () {
    this.$view = MPOTContainerPreview_({
        class: 'mpot-container',
        child: [
            {
                class: 'mpot-preview-group-name',
                child: { text: '' }
            }
        ]
    });
    this.$name = MPOTContainerPreview_$('.mpot-preview-group-name', this.$view);
};


/* harmony default export */ var preview_MPOTContainerPreview = (MPOTContainerPreview);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/preview/MPOTNotSupportPreview.js



var MPOTNotSupportPreview_ = FCore._;
var MPOTNotSupportPreview_$ = FCore.$;

/***
 * @extends {MPOTBasePreview}
 * @constructor
 */
function MPOTNotSupportPreview() {
    preview_MPOTBasePreview.call(this);
}

Object.defineProperties(MPOTNotSupportPreview.prototype, Object.getOwnPropertyDescriptors(preview_MPOTBasePreview.prototype))
MPOTNotSupportPreview.prototype.constructor = MPOTNotSupportPreview;
MPOTNotSupportPreview.prototype.type = '*';

MPOTNotSupportPreview.prototype.createView = function () {
    preview_MPOTBasePreview.prototype.createView.call(this);
};

MPOTNotSupportPreview.prototype.setData = function (data) {
    preview_MPOTBasePreview.prototype.setData.call(this, data);
    this.$content.addChild(MPOTNotSupportPreview_({
        tag: 'div',
        style: {
            color: 'red'
        },
        child: [
            {
                tag: 'span',
                child: { text: 'Not support ' }
            },
            {
                tag: 'strong',
                child: { text: data.type + '' }
            },
            {
                tag: 'span',
                child: { text: '!' }
            }
        ]
    }))
};


MPOTNotSupportPreview.prototype.getData = function () {
    return this._data;
};

/* harmony default export */ var preview_MPOTNotSupportPreview = (MPOTNotSupportPreview);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/preview/MPOTNumberPreview.js




var MPOTNumberPreview_ = FCore._;
var MPOTNumberPreview_$ = FCore.$;


/***
 * @extends {MPOTBasePreview}
 * @constructor
 */
function MPOTNumberPreview() {
    preview_MPOTBasePreview.call(this);
    this._data = null;

}

Object.defineProperties(MPOTNumberPreview.prototype, Object.getOwnPropertyDescriptors(preview_MPOTBasePreview.prototype))
MPOTNumberPreview.prototype.constructor = MPOTNumberPreview;
MPOTNumberPreview.prototype.type = 'number';

MPOTNumberPreview.prototype.createView = function() {
    preview_MPOTBasePreview.prototype.createView.call(this);
    this.$text = MPOTNumberPreview_({
        tag: 'span',
        child: {
            text: ''
        }
    });
    setInputFilter(this.$text, function(value) {
        return /^-?\d*[.,]?\d*$/.test(value);
    }); // Allow digits and '.' only, using a RegExp
    this.$content.addChild(this.$text);
};

function setInputFilter(textbox, inputFilter) {
    ["input", "keydown", "keyup", "mousedown", "mouseup", "select", "contextmenu", "drop"].forEach(function(event) {
        textbox.addEventListener(event, function() {
            if (inputFilter(this.textContent)) {
                this.oldValue = this.textContent;
                //   var range = document.createRange();
                //   var sel = window.getSelection();
                //   this.oldSelectionStart = this.selectionStart;
                //   this.oldSelectionEnd = this.selectionEnd;
            } else if (this.hasOwnProperty("oldValue")) {
                this.textContent = this.oldValue;
                //   this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
            } else {
                this.textContent = "";
            }
        });
    });
}

MPOTNumberPreview.prototype._viewData = function() {
    var data = this._data;
    if (data.values && data.values.length >= 0) {
        this.$text.firstChild.data = data.values.join(', ');
    } else {
        this.$text.firstChild.data = data.value;
    }
    if (this._data) {
        this._data.element = this.$text.firstChild;
    }
};

MPOTNumberPreview.prototype.setEditable = function() {
    this.$text.setAttribute("contenteditable", true);
}

MPOTNumberPreview.prototype.setData = function(data) {
    preview_MPOTBasePreview.prototype.setData.call(this, data);
    this._viewData();
};


MPOTNumberPreview.prototype.getData = function() {
    return this._data;
};

/* harmony default export */ var preview_MPOTNumberPreview = (MPOTNumberPreview);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/preview/MPOTConstantPreview.js




var MPOTConstantPreview_ = FCore._;
var MPOTConstantPreview_$ = FCore.$;


/***
 * @extends {MPOTBasePreview}
 * @constructor
 */
function MPOTConstantPreview() {
    preview_MPOTBasePreview.call(this);
    this._data = null;

}

Object.defineProperties(MPOTConstantPreview.prototype, Object.getOwnPropertyDescriptors(preview_MPOTBasePreview.prototype))
MPOTConstantPreview.prototype.constructor = MPOTConstantPreview;
MPOTConstantPreview.prototype.type = 'text';

MPOTConstantPreview.prototype.createView = function () {
    preview_MPOTBasePreview.prototype.createView.call(this);
    this.$container = MPOTConstantPreview_({
        tag: 'div',
    });
    this.$content.addChild(this.$container);
};


MPOTConstantPreview.prototype._viewData = function () {
    var data = this._data;
    if(data.element)
    {
        this.$container.appendChild(data.element);
    }
};

MPOTConstantPreview.prototype.setData = function (data) {
    preview_MPOTBasePreview.prototype.setData.call(this, data);
    this._viewData();
};


MPOTConstantPreview.prototype.getData = function () {
    return this._data;
};

/* harmony default export */ var preview_MPOTConstantPreview = (MPOTConstantPreview);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/preview/MPOTElementPreview.js




var MPOTElementPreview_ = FCore._;
var MPOTElementPreview_$ = FCore.$;


/***
 * @extends {MPOTBasePreview}
 * @constructor
 */
function MPOTElementPreview() {
    preview_MPOTBasePreview.call(this);
    this._data = null;

}

Object.defineProperties(MPOTElementPreview.prototype, Object.getOwnPropertyDescriptors(preview_MPOTBasePreview.prototype))
MPOTElementPreview.prototype.constructor = MPOTElementPreview;
MPOTElementPreview.prototype.type = 'element';

MPOTElementPreview.prototype.createView = function() {
    preview_MPOTBasePreview.prototype.createView.call(this);
    this.$container = MPOTElementPreview_({
        tag: 'div',
    });
    this.$content.addChild(this.$container);
};


MPOTElementPreview.prototype._viewData = function() {
    var data = this._data;
    this.$container.clearChild();
    if (data.values && data.values.length >= 0) {
        for (var i = 0; i < data.values.length; i++) {
            this.$container.appendChild(data.values[i].element);
        }
    } else {
        if (data.item)
            this.$container.appendChild(data.item.element);
        else {
            for (var i = 0; i < data.items.length; i++) {
                if (data.items[i].value == data.value) {
                    data.item = data.items[i];
                    this.$container.appendChild(data.item.element);
                    break;
                }
            }
        }
    }
    if (data.items)
        if (data.items.functionChange)
            data.items.functionChange(this.$container);
};

MPOTElementPreview.prototype.setData = function(data) {
    preview_MPOTBasePreview.prototype.setData.call(this, data);
    this._viewData();
};


MPOTElementPreview.prototype.getData = function() {
    return this._data;
};

/* harmony default export */ var preview_MPOTElementPreview = (MPOTElementPreview);
// EXTERNAL MODULE: ./node_modules/mpot-merge-tool/css/mpotbaseeditor.css
var mpotbaseeditor = __webpack_require__(217);

// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/edit/MPOTBaseEditor.js




var MPOTBaseEditor_ = FCore._;
var MPOTBaseEditor_$ = FCore.$;

/****
 * @extends Context
 * @constructor
 */
function MPOTBaseEditor() {
    AppPattern_Context.call(this);
    EventEmitter["b" /* default */].call(this);
    this._data = null;
    this.$view = null;
    this.$inputList = [];
    this.createView();
}

Object.defineProperties(MPOTBaseEditor.prototype, Object.getOwnPropertyDescriptors(AppPattern_Context.prototype));
Object.defineProperties(MPOTBaseEditor.prototype, Object.getOwnPropertyDescriptors(EventEmitter["b" /* default */].prototype));
MPOTBaseEditor.prototype.constructor = MPOTBaseEditor;

MPOTBaseEditor.prototype.type = 'base';

MPOTBaseEditor.prototype.createView = function() {
    this.$view = MPOTBaseEditor_({
        class: 'mpot-base-editor'
    });
};

MPOTBaseEditor.prototype._assignInputList = function(eList) {
    var thisE = this;
    eList = eList || [];
    this.$inputList = eList;
    this.$inputList.forEach(function(elt, idx, arr) {
        elt.attr('tabindex', '1');
        elt.addClass('mpot-choice-input');
        if (!elt.tagName.toLowerCase().match(/input|texarea/)) {
            elt.on('keydown', function(event) {
                var focusElt;
                switch (event.key) {
                    case 'ArrowUp':
                        event.preventDefault();
                        focusElt = arr[idx - 1];
                        break;
                    case 'ArrowDown':
                        event.preventDefault();
                        focusElt = arr[idx + 1];
                        break;
                    case ' ':
                        event.preventDefault();
                        this.click();
                        break;
                    case 'Enter':
                        thisE.notifyChange();
                        break;
                }
                if (focusElt) thisE._focusInput(focusElt);
            });
        }
    });
};

MPOTBaseEditor.prototype._focusInput = function(inputElt) {
    // inputElt.focus();
    if (inputElt.tagName.toLowerCase().match(/input|textarea/)) inputElt.select();
};

MPOTBaseEditor.prototype._findFocusInput = function() {
    if (this.$inputList.length === 0) return null;
    var res;
    var input;
    for (var i = 0; i < this.$inputList.length && !res; ++i) {
        input = this.$inputList[i];
        if (input.checked) res = input;
    }
    return res || this.$inputList[0];
};

MPOTBaseEditor.prototype.focus = function() {
    var input = this._findFocusInput();
    if (input) this._focusInput(input);
};

MPOTBaseEditor.prototype.getView = function() {
    if (this.$view) return this.$view;
};

MPOTBaseEditor.prototype.setData = function(data) {
    this._data = data;
}


MPOTBaseEditor.prototype.getData = function() {
    return this._data;
};

MPOTBaseEditor.prototype.notifyChange = function(extendData) {
    this.emit('change', Object.assign({}, extendData), this);
};

MPOTBaseEditor.prototype.getPreviewData = function() {
    return { type: this.type };
};

MPOTBaseEditor.prototype.isCompleted = function() {
    return true;
};

/* harmony default export */ var edit_MPOTBaseEditor = (MPOTBaseEditor);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/edit/MPOTTextEditor.js




var MPOTTextEditor_$ = FCore.$;
var MPOTTextEditor_ = FCore._;
var MPOTTextEditor_$$ = FCore.$$;

function MPOTTextEditor() {
    edit_MPOTBaseEditor.call(this);

}

Object.defineProperties(MPOTTextEditor.prototype, Object.getOwnPropertyDescriptors(edit_MPOTBaseEditor.prototype));
MPOTTextEditor.prototype.constructor = MPOTTextEditor;
MPOTTextEditor.prototype.type = 'text';

MPOTTextEditor.prototype._showInput = function() {
    var thisE = this;
    var data = this._data;
    this.$view.clearChild();
    var aOb = {
        class: 'mpot-text-input',
        style: {
            width: '100%',
            maxWidth: '100%',
            boxSizing: 'border-box'
        },
        on: {
            keydown: function(event) {
                if (event.key === 'Enter' && !event.shiftKey && !event.ctrlKey) {
                    data.value = this.value;
                    this.blur();
                    thisE.notifyChange();
                }
            },
            input: function() {
                data.value = this.value;
                thisE.notifyChange({ notFinish: true });
            }
        }
    };
    if (data.long) {
        Object.assign(aOb, {
            tag: 'textarea'

        });
    } else {
        Object.assign(aOb, {
            tag: 'input',
            attr: {
                type: 'text'
            }
        });
    }
    this.$input = MPOTTextEditor_(aOb);
    this._assignInputList([this.$input]);

    this.$input.value = data.value || '';
    this.$input.placeholder = data.placeholder || '';
    this.$view.addChild(this.$input);
};

MPOTTextEditor.prototype._showSingleChoice = function() {
    var thisE = this;
    var data = this._data;
    var groupName = randomIdent(10);
    var checkInputText = [];
    var result = [],
        item;
    for (var i = 0; i < data.items.length; i++) {
        item = data.items[i];
        if (checkInputText[item] == 1)
            continue;
        checkInputText[item] = 1;
        var tempIndex = MPOTTextEditor_({
            tag: 'radiobutton',
            attr: {
                name: groupName
            },
            props: {
                checked: item === data.value,
                value: item
            },
            on: {
                change: function() {
                    if (this.checked) {
                        data.value = this.value;
                        thisE.notifyChange();
                    }
                }
            }
        });
        result.push({
            class: 'mpot-choice',
            child: [{
                    class: 'mpot-choice-select-cell',
                    child: tempIndex,
                },
                {
                    class: 'mpot-choice-value',
                    child: {
                        tag: 'span',
                        child: { text: item }
                    }
                }
            ]
        });
        if (data.value === undefined) {
            tempIndex.checked = true;
            tempIndex.emit("change");
        } else if (data.value == item) {
            tempIndex.checked = true;
            tempIndex.emit("change");
        }
    }
    this.$choiceList = MPOTTextEditor_({
        class: 'mpot-choice-list',
        child: result
    });
    this._assignInputList(MPOTTextEditor_$$('radiobutton', this.$choiceList));
    this.$view.clearChild().addChild(this.$choiceList);
};

MPOTTextEditor.prototype._showMultiChoice = function() {
    var thisE = this;
    var data = this._data;
    this._choiceListChecked = (data.values || []).reduce(function(ac, cr) {
        ac[cr] = true;
        return ac;
    }, {});
    this.$choiceList = MPOTTextEditor_({
        class: 'mpot-choice-list',
        child: data.items.map(function(item, idx) {
            return {
                class: 'mpot-choice',
                child: [{
                        class: 'mpot-choice-select-cell',
                        child: {
                            tag: 'checkboxbutton',
                            props: {
                                checked: thisE._choiceListChecked[item]
                            },
                            on: {
                                change: function() {
                                    thisE._choiceListChecked[item] = this.checked;
                                    var dict = thisE._choiceListChecked;
                                    data.values = data.items.filter(function(u, i) {
                                        return dict[u];
                                    });
                                    thisE.notifyChange({ notFinish: true });
                                }
                            }
                        }
                    },
                    {
                        class: 'mpot-choice-value',
                        child: {
                            tag: 'span',
                            child: { text: item }
                        }
                    }
                ]
            }
        })

    });
    this._assignInputList(MPOTTextEditor_$$('checkboxbutton', this.$choiceList));
    this.$view.clearChild().addChild(this.$choiceList);
};


MPOTTextEditor.prototype.setData = function(data) {
    this._data = data;
    if (data.action === 'input') {
        this._showInput();
    } else if (data.action === 'single-choice') {
        this._showSingleChoice();
    } else if (data.action === 'multi-choice') {
        this._showMultiChoice();
    }
};

MPOTTextEditor.prototype.isCompleted = function() {
    var data = this._data;
    return !!(data.value || (data.values && data.values.length > 0));
};

MPOTTextEditor.prototype.getPreviewData = function() {
    var data = this._data;

    var pData = {
        type: this.type,
        name: data.name,
        id: data.id
    };
    var data = this._data;
    switch (data.action) {
        case 'multi-choice':
            var dict = this._choiceListChecked;
            pData.values = data.items.filter(function(u, i) {
                return dict[u];
            });
            break;
        default:
            pData.value = data.value;
            break;
    }
    return pData;
};


/* harmony default export */ var edit_MPOTTextEditor = (MPOTTextEditor);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/edit/MPOTImageEditor.js




var MPOTImageEditor_$ = FCore.$;
var MPOTImageEditor_$$ = FCore.$$;
var MPOTImageEditor_ = FCore._;

/***
 * @extends MPOTBaseEditor
 * @constructor
 */
function MPOTImageEditor() {
    edit_MPOTBaseEditor.call(this);
}

Object.defineProperties(MPOTImageEditor.prototype, Object.getOwnPropertyDescriptors(edit_MPOTBaseEditor.prototype));
MPOTImageEditor.prototype.constructor = MPOTImageEditor;
MPOTImageEditor.prototype.type = 'image';


MPOTImageEditor.prototype._showInput = function () {
    var thisE = this;
    this.$view.clearChild();
    this.$previewImg = MPOTImageEditor_({
        tag: 'img',
        style: {
            'max-width': '300px',
            'max-height': '300px',
            display: 'block'
        }
    });
    var previewImg = this.$previewImg;
    this.$input = MPOTImageEditor_({
        tag: 'input',
        attr: {
            type: 'file',
            accept: "image/*"
        },
        style: {
            marginBottom: '1em'
        },
        on: {
            change: function (event) {
                if (this.files.length == 1) {
                    var src = URL.createObjectURL(this.files[0]);
                    previewImg.src = src;
                    thisE._data.value = src;
                    thisE._data.file = this.files[0];
                    thisE.notifyChange()
                }
            }
        }
    });

    this._assignInputList([this.$input]);

    this.$view.addChild(this.$input);
    this.$view.addChild(this.$previewImg);
};

MPOTImageEditor.prototype._showSingleChoice = function () {
    var thisE = this;
    var data = this._data;
    var groupName = randomIdent(10);
    this.$choiceList = MPOTImageEditor_({
        class: 'mpot-choice-list',
        child: data.items.map(function (item, idx, arr) {
            return {
                class: 'mpot-choice',
                child: [
                    {
                        class: 'mpot-choice-select-cell',
                        child: {
                            tag: 'radiobutton',
                            attr: {
                                name: groupName
                            },
                            props: {
                                checked: item === data.src
                            },
                            on: {
                                change: function () {
                                    if (this.checked) {
                                        data.value = item;
                                        thisE.notifyChange();
                                    }
                                }
                            }
                        }
                    },
                    {
                        class: 'mpot-choice-value',
                        child: {
                            tag: 'img',
                            props: { src: item }
                        }
                    }
                ]
            }
        })
    });
    this._assignInputList(MPOTImageEditor_$$('radiobutton', this.$choiceList));
    this.$view.clearChild().addChild(this.$choiceList);
};

MPOTImageEditor.prototype._showMultiChoice = function () {
    var thisE = this;
    var data = this._data;
    var groupName = randomIdent(10);

    this._choiceListChecked = (data.values || []).reduce(function (ac, cr) {
        ac[cr] = true;
        return ac;
    }, {});
    this.$choiceList = MPOTImageEditor_({
        class: 'mpot-choice-list',
        child: data.items.map(function (item, idx, arr) {
            return {
                class: 'mpot-choice',
                child: [
                    {
                        class: 'mpot-choice-select-cell',
                        child: {
                            tag: 'checkboxbutton',
                            attr: {
                                name: groupName
                            },
                            props: {
                                checked: thisE._choiceListChecked[item]
                            },
                            on: {
                                change: function () {
                                    thisE._choiceListChecked[item] = this.checked;
                                    var dict = thisE._choiceListChecked;
                                    data.values = data.items.filter(function (u, i) {
                                        return dict[u];
                                    });
                                    thisE.notifyChange({ notFinish: true });
                                }
                            }
                        }
                    },
                    {
                        class: 'mpot-choice-value',
                        child: {
                            tag: 'img',
                            props: { src: item }
                        }
                    }
                ]
            }
        })
    });
    this._assignInputList(MPOTImageEditor_$$('checkboxbutton', this.$choiceList));
    this.$view.clearChild().addChild(this.$choiceList);
};


MPOTImageEditor.prototype.setData = function (data) {
    this._data = data;
    if (data.action === 'input') {
        this._showInput();
    }
    else if (data.action === 'single-choice') {
        this._showSingleChoice();
    }
    else if (data.action === 'multi-choice') {
        this._showMultiChoice();
    }
};


MPOTImageEditor.prototype.isCompleted = function () {
    var data = this._data;
    return !!(data.value || (data.values && data.values.length > 0));
};


MPOTImageEditor.prototype.getPreviewData = function () {
    var data = this._data || {};
    var pData = {
        type: this.type,
        name: data.name,
        id: data.id,
        style: data.style || {}
    };
    pData.type = this.type;
    switch (data.action) {
        case 'multi-choice':
            pData.values = data.values;
            break;
        default :
            pData.value = data.value;
            break;
    }
    return pData;
};


/* harmony default export */ var edit_MPOTImageEditor = (MPOTImageEditor);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/edit/MPOTNumberEditor.js




var MPOTNumberEditor_$ = FCore.$;
var MPOTNumberEditor_ = FCore._;
var MPOTNumberEditor_$$ = FCore.$$;

function MPOTNumberEditor() {
    edit_MPOTBaseEditor.call(this);

}

Object.defineProperties(MPOTNumberEditor.prototype, Object.getOwnPropertyDescriptors(edit_MPOTBaseEditor.prototype));
MPOTNumberEditor.prototype.constructor = MPOTNumberEditor;
MPOTNumberEditor.prototype.type = 'text';

MPOTNumberEditor.prototype._showInput = function() {
    var thisE = this;
    var data = this._data;
    this.$view.clearChild();
    var aOb = {
        class: 'mpot-text-input',
        style: {
            width: '100%',
            maxWidth: '100%',
            boxSizing: 'border-box'
        },
        on: {
            keydown: function(event) {
                if (event.key === 'Enter' && !event.shiftKey && !event.ctrlKey) {
                    data.value = parseFloat(this.value);
                    if (isNaN(data.value)) data.value = null;
                    this.blur();
                    thisE.notifyChange();
                }
            },
            input: function() {
                data.value = parseFloat(this.value);
                if (isNaN(data.value)) data.value = null;
                thisE.notifyChange({ notFinish: true });
            }
        }
    }
    Object.assign(aOb, {
        tag: 'input',
        attr: {
            type: 'number'
        }
    });
    this.$input = MPOTNumberEditor_(aOb);
    this._assignInputList([this.$input]);
    this.$input.value = data.value || '';
    this.$input.placeholder = data.placeholder || '';
    this.$view.addChild(this.$input);
};

MPOTNumberEditor.prototype._showSingleChoice = function() {
    var thisE = this;
    var data = this._data;
    var groupName = randomIdent(10);
    var result = [];
    var checkElement = [];
    var item;
    for (var i = 0; i < data.items.length; i++) {
        item = data.items[i];
        if (checkElement[item] !== undefined)
            continue;
        checkElement[item] = 1;
        var tempIndex = MPOTNumberEditor_({
            tag: 'radiobutton',
            attr: {
                name: groupName
            },
            props: {
                checked: item === data.value
            },
            on: {
                change: function() {
                    if (this.checked) {
                        data.value = item;
                        thisE.notifyChange();
                    }
                }
            }
        });
        result.push({
            class: 'mpot-choice',
            child: [{
                    class: 'mpot-choice-select-cell',
                    child: tempIndex,
                },
                {
                    class: 'mpot-choice-value',
                    child: {
                        tag: 'span',
                        child: { text: item }
                    }
                }
            ]
        });
        if (data.value === undefined) {
            tempIndex.checked = true;
            tempIndex.emit("change");
        } else if (data.value == item) {
            tempIndex.checked = true;
            tempIndex.emit("change");
        }
    }
    this.$choiceList = MPOTNumberEditor_({
        class: 'mpot-choice-list',
        child: result
    });
    this._assignInputList(MPOTNumberEditor_$$('radiobutton', this.$choiceList));
    this.$view.clearChild().addChild(this.$choiceList);
};

MPOTNumberEditor.prototype._showMultiChoice = function() {
    var thisE = this;
    var data = this._data;
    this._choiceListChecked = (data.values || []).reduce(function(ac, cr) {
        ac[cr] = true;
        return ac;
    }, {});
    this.$choiceList = MPOTNumberEditor_({
        class: 'mpot-choice-list',
        child: data.items.map(function(item, idx) {
            return {
                class: 'mpot-choice',
                child: [{
                        class: 'mpot-choice-select-cell',
                        child: {
                            tag: 'checkboxbutton',
                            props: {
                                checked: thisE._choiceListChecked[item]
                            },
                            on: {
                                change: function() {
                                    thisE._choiceListChecked[item] = this.checked;
                                    var dict = thisE._choiceListChecked;
                                    data.values = data.items.filter(function(u, i) {
                                        return dict[u];
                                    });
                                    thisE.notifyChange({ notFinish: true });
                                }
                            }
                        }
                    },
                    {
                        class: 'mpot-choice-value',
                        child: {
                            tag: 'span',
                            child: { text: item }
                        }
                    }
                ]
            }
        })

    });
    this._assignInputList(MPOTNumberEditor_$$('checkboxbutton', this.$choiceList));
    this.$view.clearChild().addChild(this.$choiceList);
};

MPOTNumberEditor.prototype.isCompleted = function() {
    var data = this._data;
    return !!((typeof data.value === 'number') || (data.values && data.values.length > 0))
};

MPOTNumberEditor.prototype.setData = function(data) {
    this._data = data;
    if (data.action === 'input') {
        this._showInput();
    } else if (data.action === 'single-choice') {
        this._showSingleChoice();
    } else if (data.action === 'multi-choice') {
        this._showMultiChoice();
    }
};

MPOTNumberEditor.prototype.getPreviewData = function() {
    var data = this._data;
    var pData = {
        type: this.type,
        name: data.name,
        id: data.id
    };
    var data = this._data;
    switch (data.action) {
        case 'multi-choice':
            pData.values = data.values;
            break;
        default:
            pData.value = data.value;
            break;
    }
    return pData;
};


/* harmony default export */ var edit_MPOTNumberEditor = (MPOTNumberEditor);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/edit/MPOTNotSupportEditor.js




var MPOTNotSupportEditor_$ = FCore.$;
var MPOTNotSupportEditor_ = FCore._;

function MPOTNotSupportEditor() {
    edit_MPOTBaseEditor.call(this);

}

Object.defineProperties(MPOTNotSupportEditor.prototype, Object.getOwnPropertyDescriptors(edit_MPOTBaseEditor.prototype));
MPOTNotSupportEditor.prototype.constructor = MPOTNotSupportEditor;
MPOTNotSupportEditor.prototype.type = 'text';


MPOTNotSupportEditor.prototype.setData = function (data) {
    this._data = data;
    this.$view.clearChild();
    this.$view.addChild(MPOTNotSupportEditor_({
        tag: 'div',
        style: {
            color: 'red'
        },
        child: [
            {
                tag: 'span',
                child: { text: 'Not support ' }
            },
            {
                tag: 'strong',
                child: { text: data.type + '' }
            },
            {
                tag: 'span',
                child: { text: '!' }
            }
        ]
    }));

};


/* harmony default export */ var edit_MPOTNotSupportEditor = (MPOTNotSupportEditor);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/edit/MPOTConstantEditor.js


var MPOTConstantEditor_$ = FCore.$;
var MPOTConstantEditor_ = FCore._;
var MPOTConstantEditor_$$ = FCore.$$;

function MPOTContantEditor() {
    edit_MPOTBaseEditor.call(this);
}

Object.defineProperties(MPOTContantEditor.prototype, Object.getOwnPropertyDescriptors(edit_MPOTBaseEditor.prototype));
MPOTContantEditor.prototype.constructor = MPOTContantEditor;
MPOTContantEditor.prototype.type = 'contant';

MPOTContantEditor.prototype.setData = function (data) {
    this._data = data;
};

MPOTContantEditor.prototype.isCompleted = function () {
    var data = this._data;
    return !!(data.value || (data.values && data.values.length > 0));
};

MPOTContantEditor.prototype.getPreviewData = function () {
    var data = this._data;
    return data;
};


/* harmony default export */ var MPOTConstantEditor = (MPOTContantEditor);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/edit/MPOTElementEditor.js




var MPOTElementEditor_$ = FCore.$;
var MPOTElementEditor_ = FCore._;
var MPOTElementEditor_$$ = FCore.$$;

function MPOTElementEditor() {
    edit_MPOTBaseEditor.call(this);

}

Object.defineProperties(MPOTElementEditor.prototype, Object.getOwnPropertyDescriptors(edit_MPOTBaseEditor.prototype));
MPOTElementEditor.prototype.constructor = MPOTElementEditor;
MPOTElementEditor.prototype.type = 'element';

function checkValueElement(element) {
    var input = element.getElementsByTagName("input");
    var textarea = element.getElementsByTagName("textarea");
    var result = [];
    for (var i = 0; i < input.length; i++) {
        result.push(input[i].value);
    }
    for (var i = 0; i < textarea.length; i++) {
        result.push(textarea[i].value);
    }
    return result;
}

function checkManyArray(arrAll, arrChild) {
    for (var i = 0; i < arrAll.length; i++) {
        if (check2Array(arrAll[i], arrChild))
            return true;
    }
    return false;
}

function check2Array(arr1, arr2) {
    if (arr1.length !== arr2.length)
        return false;
    for (var i = 0; i < arr1.length; i++) {
        if (arr1[i] != arr2[i])
            return false;
    }
    return true;
}

MPOTElementEditor.prototype._showSingleChoice = function() {
    var thisE = this;
    var data = this._data;
    var groupName = randomIdent(10);
    var checkElement = [];
    var result = [];
    var item;
    for (var i = 0; i < data.items.length; i++) {
        item = data.items[i];
        if (checkElement[item.element.innerHTML] !== undefined && checkManyArray(checkElement[item.element.innerHTML], checkValueElement(item.element))) {
            continue;
        }
        var cloneNode = item.element.cloneNode(true);
        if (item.promiseComplete) {
            item.promiseComplete.then(function() {
                cloneNode.parentNode.replaceChild(item.element.cloneNode(), cloneNode);
            })
        }
        if (checkElement[item.element.innerHTML]) {
            checkElement[item.element.innerHTML][++checkElement[item.element.innerHTML].index] = checkValueElement(item.element);
        } else {
            checkElement[item.element.innerHTML] = [];
            checkElement[item.element.innerHTML].index = 0;
            checkElement[item.element.innerHTML][checkElement[item.element.innerHTML].index] = checkValueElement(item.element);
        }
        var tempIndex = MPOTElementEditor_({
            tag: 'radiobutton',
            attr: {
                name: groupName
            },
            on: {
                change: function(item) {
                    return function(event) {
                        if (this.checked) {
                            data.value = item.value;
                            data.item = item;
                            thisE.notifyChange();
                        }
                    }
                }(item)
            }
        })
        result.push({
            class: 'mpot-choice',
            child: [{
                    class: 'mpot-choice-select-cell',
                    child: [
                        tempIndex
                    ]
                },
                {
                    class: 'mpot-choice-value',
                    child: {
                        tag: 'span',
                        child: [
                            cloneNode
                        ]
                    }
                }
            ]
        });
        if (data.value === undefined) {
            tempIndex.checked = true;
            tempIndex.emit("change");
        } else if (data.value == item.value) {
            tempIndex.checked = true;
            tempIndex.emit("change");
        }
    }
    this.$choiceList = MPOTElementEditor_({
        class: 'mpot-choice-list',
        child: result
    });

    this._assignInputList(MPOTElementEditor_$$('radiobutton', this.$choiceList));
    this.$view.clearChild().addChild(this.$choiceList);
};

MPOTElementEditor.prototype._showMultiChoice = function() {
    var thisE = this;
    var data = this._data;
    this._choiceListChecked = [];
    for (var i = 0; i < data.items.length; i++) {
        this._choiceListChecked[i] = data.items[i];
    }

    this.$choiceList = MPOTElementEditor_({
        class: 'mpot-choice-list',
        child: data.items.map(function(item, idx) {
            var cloneNode = item.element.cloneNode(true);
            if (item.promiseComplete) {
                item.promiseComplete.then(function(cloneNode) {
                    cloneNode.parentNode.replaceChild(item.element.cloneNode(true), cloneNode);
                }.bind(this, cloneNode))
            }

            var selectChoice = MPOTElementEditor_({
                tag: 'checkboxbutton',
                props: {
                    checked: thisE._choiceListChecked[idx].value,
                    index: idx
                },
                on: {
                    change: function() {
                        thisE._choiceListChecked[this.index].value = this.checked;
                    }
                }
            })

            var value = thisE._choiceListChecked[idx].value;
            Object.defineProperty(thisE._choiceListChecked[idx], 'value', {
                get: function() { return value },
                set: function(v) {
                    value = v;
                    selectChoice.checked = v;
                    var dict = thisE._choiceListChecked;
                    data.values = data.items.filter(function(u, i) {
                        return dict[u];
                    });
                    thisE.notifyChange({ notFinish: true });
                }
            });

            return {
                class: 'mpot-choice',
                child: [{
                        class: 'mpot-choice-select-cell',
                        child: [
                            selectChoice
                        ]
                    },
                    {
                        class: 'mpot-choice-value',
                        child: {
                            tag: 'span',
                            child: [
                                cloneNode
                            ]
                        }
                    }
                ]
            }
        })
    });

    this._assignInputList(MPOTElementEditor_$$('checkboxbutton', this.$choiceList));
    this.$view.clearChild().addChild(this.$choiceList);
};


MPOTElementEditor.prototype.setData = function(data) {
    this._data = data;
    if (data.action === 'single-choice') {
        this._showSingleChoice();
    } else if (data.action === 'multi-choice') {
        this._showMultiChoice();
    }
};

MPOTElementEditor.prototype.isCompleted = function() {
    var data = this._data;
    return !!(data.value || (data.values && data.values.length > 0));
};

MPOTElementEditor.prototype.getPreviewData = function() {
    var data = this._data;
    var pData = {
        type: this.type,
        name: data.name,
        id: data.id,
        items: data.items
    };
    var data = this._data;
    switch (data.action) {
        case 'multi-choice':
            var dict = this._choiceListChecked;
            pData.values = [];
            for (var i = 0; i < dict.length; i++) {
                if (dict[i].value == true)
                    pData.values.push(data.items[i]);
            }
            break;
        default:
            pData.value = data.value;
            if (data.item)
                pData.item = data.item;
            break;
    }
    return pData;
};


/* harmony default export */ var edit_MPOTElementEditor = (MPOTElementEditor);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/TypeHandler.js
















var PreviewConstructors = {
    image: preview_MPOTImagePreview,
    text: preview_MPOTTextPreview,
    constant: preview_MPOTConstantPreview,
    "*": preview_MPOTNotSupportPreview,
    number: preview_MPOTNumberPreview,
    element:preview_MPOTElementPreview,
    container:preview_MPOTContainerPreview
};


var EditorConstructors = {
    text: edit_MPOTTextEditor,
    image: edit_MPOTImageEditor,
    constant: MPOTConstantEditor,
    number: edit_MPOTNumberEditor,
    '*': edit_MPOTNotSupportEditor,
    element:edit_MPOTElementEditor
};

function createEditor(type){
    var editorConstructor = EditorConstructors[type] || edit_MPOTNotSupportEditor;
    return new editorConstructor();
}


function createPreview(type){
    var editorConstructor = PreviewConstructors[type] || preview_MPOTNotSupportPreview;
    return new editorConstructor();
}
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/MPOTPreview.js















var MPOTPreview_ = FCore._;
var MPOTPreview_$ = FCore.$;


/***
 * @typedef MPOTProperty
 * @property {String}type
 * @property {String} name
 * @property value
 */

/***
 * @extends {Fragment}
 * @constructor
 * @augments EventEmitter
 */
function MPOTPreview() {
    AppPattern_Fragment.call(this);
    EventEmitter["b" /* default */].call(this);
    this.domSignal = new HTML5_DomSignal();
    this.domSignal.on('requestUpdateData', this._updateData.bind(this));
    this._data = {};
    this.nodes = [];
}


Object.defineProperties(MPOTPreview.prototype, Object.getOwnPropertyDescriptors(AppPattern_Fragment.prototype));
Object.defineProperties(MPOTPreview.prototype, Object.getOwnPropertyDescriptors(EventEmitter["b" /* default */].prototype));
MPOTPreview.prototype.constructor = MPOTPreview;


MPOTPreview.prototype._nodeConstructors = PreviewConstructors;
/***
 *
 * @param {MPOTProperty} prop
 * @private
 */
MPOTPreview.prototype.createProperty = function (prop) {
    var constructor = this._nodeConstructors[prop.type];
    var propertyPreview = null;
    if (constructor) {
        var propertyPreview = new constructor();
        propertyPreview.setData(prop);
        if(prop.id)
        propertyPreview.getView().id = "preview-"+prop.id;
    }
    return propertyPreview;
};

MPOTPreview.prototype.createGroup = function (group) {
    var _this = this;
    var groupPreview = new preview_MPOTGroupPreview();
    groupPreview.setData(group);
    if(group.id)
    groupPreview.getView().id = "preview-"+group.id;
    var properties = [];
    if (group.properties) {
        properties = group.properties.map(function (prop) {
            var it = _this._updateBodyContent(prop);
            groupPreview.getView().addChild(it.getView());
            return it;
        });
    }
    groupPreview.properties = properties;
    return groupPreview;
};

MPOTPreview.prototype.createContainer = function (group) {
    var _this = this;
    var groupPreview = new preview_MPOTContainerPreview();
    groupPreview.setData(group);
    if(group.id)
    groupPreview.getView().id = "preview-"+group.id;
    var properties = [];
    if (group.properties) {
        properties = group.properties.map(function (prop) {
            var it = _this._updateBodyContent(prop);
            groupPreview.getView().addChild(it.getView());
            return it;
        });
    }
    groupPreview.properties = properties;
    return groupPreview;
};

MPOTPreview.prototype.createView = function () {
    this.$view = MPOTPreview_({
        class: 'mpot-preview',
        child: [
            {
                class: 'mpot-preview-header',
                child: [
                    {
                        class: 'mpot-preview-title',
                        child: { text: '' }
                    }
                ]
            },
            {
                class: 'mpot-preview-body'
            }

        ]
    });
    this.$titleText = MPOTPreview_$('.mpot-preview-title', this.$view).firstChild;
    this.$body = MPOTPreview_$('.mpot-preview-body', this.$view);
    this.requestUpdateData();
};

MPOTPreview.prototype._updatePropertyNameWidth = function () {

};

MPOTPreview.prototype._updateTitle = function () {
    this.$titleText.data = this._data.title || '';
};

MPOTPreview.prototype._updateBody = function () {
    this.nodes = [];
    var data = this._data;
    this.$body.clearChild();
    data.properties.forEach(function (prop) {
        this.$body.addChild(this._updateBodyContent(prop).getView());
    }.bind(this));
};

MPOTPreview.prototype._updateBodyContent = function(prop)
{
    var _this = this;
    var groupNode;
    if(prop.type === 'container')
    {
        groupNode = _this.createContainer(prop);
        _this.nodes.push(groupNode);
    }else
    if (prop.type === 'group') {
        groupNode = _this.createGroup(prop);
        _this.nodes.push(groupNode);
    }
    else {
        groupNode = _this.createProperty(prop);
        groupNode.getView().on('click', function () {
            if(prop.changeid !== undefined)
            {
                _this.notifyChoose(prop.changeid);
            }else
            if(prop.action !== "const")
            _this.notifyChoose(prop.id);
        });
        _this.nodes.push(groupNode);
    }
    if(prop.enableEdit == true&&groupNode.setEditable)
    {
        groupNode.setEditable();
    }
    return groupNode
}

MPOTPreview.prototype._updateData = function () {
    if (!this.$view) return;
    this._updateTitle();
    this._updatePropertyNameWidth();
    this._updateBody();
};

MPOTPreview.prototype.requestUpdateData = function () {
    this.domSignal.emit('requestUpdateData');
};


MPOTPreview.prototype.setData = function (data) {
    this._data = data;
    this.requestUpdateData();
};


/***
 *
 * @param {string} key
 * @returns {MPOTBasePreview}
 */
MPOTPreview.prototype.findNodeById = function (id) {
    function find(arr) {
        var ret = null;
        var node;
        for (var i = 0; i < arr.length && !ret; ++i) {
            node = arr[i];
            if (node._data.id === id) {
                ret = node;
            }
            else if (node.properties) {
                ret = find(node.properties);
            }
        }
        return ret;
    }

    return find(this.nodes);
};


MPOTPreview.prototype.setDataToNode = function (data) {
    var node = this.findNodeById(data.id);
    if (node) {
        node.setData(data);
    }
};


MPOTPreview.prototype.notifyChoose = function (nodeId) {
    this.emit('pressnode', { nodeId: nodeId }, this);
};


/* harmony default export */ var js_MPOTPreview = (MPOTPreview);
// EXTERNAL MODULE: ./node_modules/mpot-merge-tool/css/mpotpropertyeditor.css
var mpotpropertyeditor = __webpack_require__(219);

// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/edit/MPOTGroupEditor.js




var MPOTGroupEditor_$ = FCore.$;
var MPOTGroupEditor_ = FCore._;
var MPOTGroupEditor_$$ = FCore.$$;

function MPOTGroupEditor() {
    edit_MPOTBaseEditor.call(this);
    /***
     *
     * @type {MPOTBaseEditor[]}
     */
    this.children = [];
}

Object.defineProperties(MPOTGroupEditor.prototype, Object.getOwnPropertyDescriptors(edit_MPOTBaseEditor.prototype));
MPOTGroupEditor.prototype.constructor = MPOTGroupEditor;
MPOTGroupEditor.prototype.type = 'group';


MPOTGroupEditor.prototype.setData = function(data) {
    this._data = data;
    var thisE = this;
    this.$view.clearChild();
    this.children = data.properties.map(function(prop) {
        var type = prop.type;
        var editor = createEditor(type);
        editor.on('change', thisE.ev_nodeChange.bind(thisE));
        editor.attach(thisE);
        var view = editor.getView();
        view.addTo(thisE.$view);
        editor.setData(prop);
        var itemElt = MPOTGroupEditor_({
            class: 'mpot-group-editor-item',
            child: [{
                    class: 'mpot-group-editor-item-name',
                    child: {
                        text: prop.name
                    }
                },
                editor.getView().addClass('mpot-group-editor-item-editor')
            ]
        });
        thisE.$view.addChild(itemElt);
        if (prop.id)
            itemElt.id = prop.id;
        return editor;
    });
};

MPOTGroupEditor.prototype.focus = function() {
    if (this.children.length > 0) {
        this.children[0].focus();
    }
}

MPOTGroupEditor.prototype.getPreviewData = function() {
    var data = this._data;
    var pData = {
        id: data.id,
        type: data.type,
        name: data.name
    };

    pData.properties = this.children.map(function(child) {
        return child.getData();
    });

    return pData;
};

MPOTGroupEditor.prototype.ev_nodeChange = function(event, sender) {
    if (sender === this.children[this.children.length - 1]) {
        this.emit('change', event, sender);
    } else {
        if (!event.notFinish) {
            event.notFinish = true;
            this.emit('change', event, sender);
            var idx = this.children.indexOf(sender);
            if (idx !== -1)
                this.children[idx + 1].focus();
        } else {
            this.emit('change', event, sender);
        }
    }
};

MPOTGroupEditor.prototype.isCompleted = function() {
    for (var i = 0; i < this.children.length; ++i) {
        if (!this.children[i].isCompleted()) return false;
    }
    return true;
};

EditorConstructors.group = MPOTGroupEditor;

/* harmony default export */ var edit_MPOTGroupEditor = (MPOTGroupEditor);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/MPOTPropertyEditor.js












var MPOTPropertyEditor_$ = FCore.$;
var MPOTPropertyEditor_ = FCore._;

/***
 * @extends BaseEditor
 * @constructor
 */
function MPOTPropertyEditor() {
    core_BaseEditor.call(this);
    this.setContext('PROPERTY_EDITOR', this);
    this._data = {};
    this.ev_nodeChange = this.ev_nodeChange.bind(this);
    this.isChange = false;
    setTimeout(function() {
        this.isChange = true;
    }.bind(this), 300)
}

Object.defineProperties(MPOTPropertyEditor.prototype, Object.getOwnPropertyDescriptors(core_BaseEditor.prototype));
MPOTPropertyEditor.prototype.constructor = MPOTPropertyEditor;

MPOTPropertyEditor.prototype._nodeConstructor = EditorConstructors;

MPOTPropertyEditor.prototype.createView = function() {
    this.$view = MPOTPropertyEditor_({
        class: 'mpot-property-editor',
        child: [{
                class: 'mpot-property-editor-header',
                child: [{
                    tag: 'buttonrange',
                    style: {
                        width: 'auto'
                    }
                }]
            },
            {
                class: 'mpot-property-editor-body',
                child: [{
                    tag: 'frameview'
                }]
            }
        ]
    });

    this.$tabbar = MPOTPropertyEditor_$('.mpot-property-editor-header buttonrange', this.$view)
        .on('change', this.ev_tabbarChange.bind(this));

    this.$body = MPOTPropertyEditor_$('.mpot-property-editor-body', this.$view);
    /***
     *
     * @type {FrameView}
     */
    this.$frameview = MPOTPropertyEditor_$('frameview', this.$body);
};

MPOTPropertyEditor.prototype._loadHeader = function() {
    this._headerHolders = this._loadHeaderContent(this._data.properties);
    this._headerHolderById = this._headerHolders.reduce(function(ac, cr) {
        ac[cr.id] = cr;
        return ac;
    }, {});

    this._tabItems = this._headerHolders.filter(function(holder) {
        return holder.display;
    }).map(function(holder) {
        return {
            text: holder.fName,
            value: holder.id
        }
    });
    this.$tabbar.items = this._tabItems;
}

MPOTPropertyEditor.prototype._loadHeaderContent = function(arr) {
    var result = [];
    var property;
    for (var i = 0; i < arr.length; i++) {
        property = arr[i];
        if (property.type === "container") {
            result = result.concat(this._loadHeaderContent(property.properties));
            continue;
        }
        var name = property.name || property.id;
        var fName = property.fName || name;
        var display = property.action !== 'const';
        var holder = {
            property: property,
            name: name,
            id: property.id,
            fName: fName,
            display: display
        };
        result.push(holder);
    }
    return result;
}

MPOTPropertyEditor.prototype._loadPropertyNodeKey = function() {
    this._nodeKey = this._data.properties.reduce(function visit(ac, property) {
        var key = property.id || property.name || randomIdent(10);
        var holder = {
            property: property
        };
        ac[key] = holder;
        if (property.type === 'group') {
            property.properties.reduce(visit, ac);
        }
        return ac;
    }, {});
};

MPOTPropertyEditor.prototype._loadPropertyTab = function() {
    this.$frameview.clearChild();


    this._headerHolders.forEach(function(it) {
        this.updateHeader(it)
    }.bind(this));
    var i = 0;
    while (this._headerHolders[i].property !== undefined && this._headerHolders[i].property["type"] == "constant") {
        i++;
    }
    if (i < this._headerHolders.length)
        this._headerHolders[i].$frame.requestActive();
    this.$tabbar.value = this._headerHolders[i].id;
};

MPOTPropertyEditor.prototype.updateHeader = function(it) {
    var thisE = this;
    var view;
    var frameElt;
    var prop = it.property;
    frameElt = MPOTPropertyEditor_('tabframe.mpot-property-editor-frame');
    thisE.$frameview.addChild(frameElt);
    it.$frame = frameElt;
    it.editor = createEditor(prop.type);
    it.editor.on('change', thisE.ev_nodeChange);
    it.editor.attach(thisE);
    view = it.editor.getView();
    it.editor.setData(prop);
    if (view) {
        frameElt.addChild(view);
        if (prop.id)
            view.id = "edit-" + prop.id;
    }
}

MPOTPropertyEditor.prototype.selectTabById = function(id) {
    var thisE = this;
    var headerHolder = this._headerHolderById[id];
    if (headerHolder) {
        this.$tabbar.value = headerHolder.id;
        this.$tabbar.notifyChange();
    } else {
        this._headerHolders.forEach(function(holder) {
            if (holder.property.type === 'group') {
                var index = holder.property.properties.map(function(p) {
                    return p.id
                }).indexOf(id);
                if (index >= 0) {
                    thisE.$tabbar.value = holder.id;
                    thisE.$tabbar.notifyChange();
                    holder.editor.children[index].focus();
                }
            }
        });
    }
};


MPOTPropertyEditor.prototype.setData = function(data) {
    this._data = data;
    this._loadPropertyNodeKey();
    this._loadHeader();
    this._loadPropertyTab();
};

MPOTPropertyEditor.prototype.getPreviewData = function() {
    var data = this._data;
    var pData = {};
    pData.title = data.title;
    var propsData = data.properties;
    var propsDataChild = []
    for (var i = 0; i < propsData.length; i++)
        propsDataChild.push(this.getDataChild(propsData[i]));

    pData.properties = propsDataChild;
    return pData;
};

MPOTPropertyEditor.prototype.getDataChild = function(prop) {
    if (prop.type === "container") {
        var arr = [];
        for (var i = 0; i < prop.properties.length; i++) {
            arr.push(this.getDataChild(prop.properties[i]));
        }
        return {
            type: "container",
            id: prop.id,
            properties: arr
        };
    }
    var id = prop.id;
    var holder = this._headerHolderById[id];
    return holder.editor.getPreviewData();
}

MPOTPropertyEditor.prototype.ev_tabbarChange = function(event) {
    var key = this.$tabbar.value;
    var holder = this._headerHolderById[key];
    var frameElt = holder.$frame;
    frameElt.requestActive();
    holder.editor.focus()
};


MPOTPropertyEditor.prototype.ev_nodeChange = function(event, sender) {
    var pData = sender.getPreviewData()
    var holder = this._headerHolderById[pData.id];
    this.notifyNodeChange(Object.assign({}, event, { nodePreviewData: pData }));
    if (!event.notFinish && this.isChange === true)
        setTimeout(this.$tabbar.nextValue.bind(this.$tabbar, true), 300);
};


MPOTPropertyEditor.prototype.notifyNodeChange = function(extendData) {
    this.emit('nodechange', Object.assign({}, extendData, { type: 'nodechange' }), this);
};

MPOTPropertyEditor.prototype.getCompletedMask = function() {
    return this._headerHolders.map(function(holder) {
        return holder.editor.isCompleted();
    });
};

MPOTPropertyEditor.prototype.isCompleted = function() {
    return this.getCompletedMask().reduce(function(ac, cr) {
        return ac && cr;
    }, true);
};

/* harmony default export */ var js_MPOTPropertyEditor = (MPOTPropertyEditor);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/utils.js


function normalizeEditData(eData){
    var idDict = {};
    eData = eData ||{};
    eData.properties =  eData.properties || [];
    eData.properties.forEach(function visit(prop){
        prop.id = prop.id || randomIdent(16);
        if (idDict[prop.id]) prop.id += randomIdent(4);
        idDict[prop.id] = true;
        if (prop.type === 'group'){
            prop.properties =  prop.properties||[];
            prop.properties.forEach(visit);
        }
    });
    return eData;
}
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/js/MPOTMergeTool.js









var MPOTMergeTool_$ = FCore.$;
var MPOTMergeTool_ = FCore._;

/***
 *
 * @constructor
 * @augments BaseEditor
 */
function MPOTMergeTool() {
    core_BaseEditor.call(this);
    this._data = null;
    this.preview = new js_MPOTPreview();
    this.editor = new js_MPOTPropertyEditor();
    this.editor.on('nodechange', this.ev_editNodeChange.bind(this));
    this.preview.on('pressnode', this.ev_pressNode.bind(this));
    this.preview.attach(this);
    this.editor.attach(this);
}

Object.defineProperties(MPOTMergeTool.prototype, Object.getOwnPropertyDescriptors(core_BaseEditor.prototype));
MPOTMergeTool.prototype.constructor = MPOTMergeTool;

MPOTMergeTool.prototype.CONFIG_STORE_KEY = "AS_MPOT_CONFIG";

MPOTMergeTool.prototype.config = {
    previewWidth: 60
};


MPOTMergeTool.prototype.createView = function() {
    this.$view = MPOTMergeTool_({
        class: 'mpot-merge-tool',
        style: {
            '--preview-width': this.config.previewWidth + '%'
        },
        child: [{
                tag: 'bscroller',
                class: 'mpot-merge-tool-preview-ctn',
                child: [
                    this.preview.getView()
                ]
            },
            {
                class: 'mpot-merge-tool-properties-ctn',
                child: [
                    this.editor.getView()
                ]
            },
            'hanger.mpot-merge-tool-center-resizer'
        ]
    });
    /***
     *
     * @type {Hanger}
     */
    this.$centerResizer = MPOTMergeTool_$('hanger.mpot-merge-tool-center-resizer', this.$view)
        .on('dragstart', this.ev_dragResizerStart.bind(this))
        .on('drag', this.ev_dragResizer.bind(this))
        .on('dragend', this.ev_dragResizerEnd.bind(this));
};

MPOTMergeTool.prototype.ev_dragResizerStart = function() {
    this.$centerResizer.addClass('as-active');
};

MPOTMergeTool.prototype.ev_dragResizer = function(event) {
    var d = event.currentPoint.sub(event.startingPoint);
    var dx = d.x;
    var bound = this.$view.getBoundingClientRect();
    var newWidth = Math.max(20, Math.min(80, this.config.previewWidth + dx * 100 / bound.width));
    this.$view.addStyle('--preview-width', newWidth + '%');
    HTML5_Dom["a" /* default */].updateResizeSystem();
};

MPOTMergeTool.prototype.ev_dragResizerEnd = function(event) {
    var d = event.currentPoint.sub(event.startingPoint);
    var dx = d.x;
    var bound = this.$view.getBoundingClientRect();
    var newWidth = Math.max(20, Math.min(80, this.config.previewWidth + dx * 100 / bound.width));
    this.$view.addStyle('--preview-width', newWidth + '%');
    this.config.previewWidth = newWidth;
    this.saveConfig();
    this.$centerResizer.removeClass('as-active');
};


MPOTMergeTool.prototype._normalizeData = function(data) {
    data = data || {};
    data.editor = normalizeEditData(data.editor);
    return data;
};

MPOTMergeTool.prototype.setData = function(data) {
    data = this._normalizeData(data);
    this._data = data;
    this.editor.setData(data.editor);
    if (data.enEditable === true && this.preview.setEditable)
        this.preview.setEditable();
    this.preview.setData(this.editor.getPreviewData());
};

MPOTMergeTool.prototype.getData = function() {
    return {
        data: this._data,
        previewData: this.editor.getPreviewData(),
        editorData: this._data.editor
    }

};

MPOTMergeTool.prototype.ev_editNodeChange = function(event) {
    var pData = event.nodePreviewData;
    this.preview.setDataToNode(pData);
    if (!event.notFinish)
        this.emit('change', Object.assign({}, event, { type: 'change' }), this);
};

MPOTMergeTool.prototype.ev_pressNode = function(event, sender) {
    var nodeId = event.nodeId;
    this.editor.selectTabById(nodeId);
};

/* harmony default export */ var js_MPOTMergeTool = (MPOTMergeTool);
// CONCATENATED MODULE: ./node_modules/mpot-merge-tool/index.js




















/* harmony default export */ var mpot_merge_tool = ({
    MPOTMergeTool: js_MPOTMergeTool,
    MPOTBaseEditor: edit_MPOTBaseEditor,
    MPOTGroupEditor: edit_MPOTGroupEditor,
    MPOTNotSupportEditor: edit_MPOTNotSupportEditor,
    MPOTNumberEditor: edit_MPOTNumberEditor,
    MPOTTextEditor: edit_MPOTTextEditor,
    MPOTBasePreview: preview_MPOTBasePreview,
    MPOTGroupPreview: preview_MPOTGroupPreview,
    MPOTImagePreview: preview_MPOTImagePreview,
    MPOTNotSupportPreview: preview_MPOTNotSupportPreview,
    MPOTNumberPreview: preview_MPOTNumberPreview,
    MPOTTextPreview: preview_MPOTTextPreview,
    MPOTConstantEditor: MPOTConstantEditor,
    MPOTConstantPreview: preview_MPOTConstantPreview,
    MPOTElementEditor: edit_MPOTElementEditor,
    MPOTElementPreview: preview_MPOTElementPreview,
    typeHandler: TypeHandler_namespaceObject
});
// EXTERNAL MODULE: ./css/MapView.css
var MapView = __webpack_require__(221);

// CONCATENATED MODULE: ./js/component/MapView.js





var MapView_ = dom_Fcore._;
var MapView_$ = dom_Fcore.$;
function locationView(functionDone, data, functionCancel) {
  var map = MapView_MapView();
  var detailView = DetailView(map, data);
  map.activeDetail(detailView);

  var temp = MapView_({
    tag: "div",
    "class": "pizo-new-realty-location",
    on: {
      click: function click(event) {
        event.preventDefault();
      }
    },
    child: [{
      tag: "div",
      "class": "pizo-new-realty-location-tab",
      child: [{
        tag: "span",
        props: {
          innerHTML: "Vị trí"
        }
      }, {
        tag: "button",
        "class": "pizo-new-realty-location-donebutton",
        on: {
          click: function click(event) {
            if (temp.detailView.number.value == undefined || temp.detailView.street.value == undefined || temp.detailView.ward.value == undefined || temp.detailView.district.value == undefined || temp.detailView.state.value == undefined) {
              alert("Vui lòng điền đầy đủ địa chỉ");
              return;
            }

            functionDone(detailView, map);
          }
        },
        props: {
          innerHTML: "Xong"
        }
      }]
    }, {
      tag: "div",
      "class": "pizo-new-realty-location-content",
      child: [detailView, map]
    }]
  });

  if (functionCancel) {
    MapView_$("div.pizo-new-realty-location-tab", temp).appendChild(MapView_({
      tag: "button",
      "class": "pizo-new-realty-location-donebutton",
      on: {
        click: function click(event) {
          functionCancel(detailView, map);
        }
      },
      props: {
        innerHTML: "Hủy"
      }
    }));
  }

  temp.map = map;
  temp.detailView = detailView;
  temp.getDataCurrent = detailView.getDataCurrent.bind(detailView);

  temp.addLatLng = function () {
    temp.detailView.addLatLng();
    temp.map.addLatLng();
  };

  temp.data = data;
  return temp;
}
function DetailView(map, data) {
  var temp;

  var input = MapView_({
    tag: "input",
    "class": "pizo-new-realty-location-detail-row-input",
    props: {
      type: "text",
      placeholder: ""
    },
    attr: {
      disabled: ""
    }
  });

  var arr = [];
  arr.push(ModuleDatabase["a" /* default */].getModule("states").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("districts").load({
    ORDERING: "stateid"
  }));
  arr.push(ModuleDatabase["a" /* default */].getModule("wards").load({
    ORDERING: "districtid"
  }));
  var state, district, ward, street, number;
  state = MapView_({
    tag: "selectmenu",
    "class": "pizo-new-realty-location-detail-row-menu",
    props: {
      enableSearch: true
    },
    on: {
      change: function change(event) {
        var x = parseInt(getIDCompair(this.value));

        for (var i = 0; i < temp.checkStateDistrict[x].length; i++) {
          if (temp.checkStateDistrict[x][i] == district.value) return;
        }

        if (temp.checkStateDistrict[x] !== undefined) district.items = temp.checkStateDistrict[x];
        district.emit("change");
        if (event !== undefined) temp.setInput();
      }
    }
  });
  district = MapView_({
    tag: "selectmenu",
    "class": "pizo-new-realty-location-detail-row-menu",
    props: {
      enableSearch: true
    },
    style: {
      poiterEvent: "none",
      backGroundColor: "#fafafa"
    },
    on: {
      change: function change(event) {
        var x = parseInt(getIDCompair(this.value));

        if (temp.checkDistrictWard[x] !== undefined) {
          ward.items = temp.checkDistrictWard[x];
          ward.emit("change");
        }

        if (event !== undefined) temp.setInput();
      }
    }
  });
  ward = MapView_({
    tag: "selectmenu",
    "class": "pizo-new-realty-location-detail-row-menu",
    props: {
      enableSearch: true
    },
    style: {
      poiterEvent: "none",
      backGroundColor: "#fafafa"
    },
    on: {
      change: function change(event) {
        var x = parseInt(getIDCompair(this.value));
        ModuleDatabase["a" /* default */].getModule("streets").load({
          WHERE: [{
            wardid: x
          }]
        }).then(function (value) {
          temp.checkWardStreet = ModuleDatabase["a" /* default */].getModule("streets").getLibary("wardid", function (data) {
            return {
              text: data.name,
              value: data.name + "_" + data.id
            };
          }, true);
          street.items = temp.checkWardStreet[x];
          if (event !== undefined) temp.setInput();
        });
      }
    }
  });
  street = MapView_({
    tag: "selectmenu",
    "class": "pizo-new-realty-location-detail-row-menu",
    style: {
      poiterEvent: "none",
      backGroundColor: "#fafafa"
    },
    on: {
      change: function change(event) {
        if (event !== undefined) temp.setInput();
      }
    }
  });
  number = MapView_({
    tag: "input",
    "class": "pizo-new-realty-location-detail-row-menu",
    on: {
      change: function change(event) {
        if (event !== undefined) temp.setInput();
      }
    }
  });
  Promise.all(arr).then(function () {
    state.items = ModuleDatabase["a" /* default */].getModule("states").getList("name", ["name", "id"]);
    temp.checkStateDistrict = ModuleDatabase["a" /* default */].getModule("districts").getLibary("stateid", function (data) {
      return {
        text: data.name,
        value: data.name + "_" + data.id
      };
    }, true);
    temp.checkDistrictWard = ModuleDatabase["a" /* default */].getModule("wards").getLibary("districtid", function (data) {
      return {
        text: data.name,
        value: data.name + "_" + data.id
      };
    }, true);
    temp.checkWard = ModuleDatabase["a" /* default */].getModule("wards").getLibary("id");
    temp.checkState = ModuleDatabase["a" /* default */].getModule("states").getLibary("id");
    temp.checkDistrict = ModuleDatabase["a" /* default */].getModule("districts").getLibary("id");
    var index;

    if (data !== undefined) {
      temp.number.value = data.number;
      index = data.state.lastIndexOf("_");

      if (index === -1) {
        temp.state.items.push({
          text: data.state,
          value: data.state
        });
        temp.state.items = temp.state.items;
      }

      temp.state.value = data.state;
      temp.state.emit("change");
      index = data.district.lastIndexOf("_");

      if (index === -1) {
        temp.district.items.push({
          text: data.district,
          value: data.district
        });
        temp.district.items = temp.district.items;
      }

      temp.district.value = data.district;
      temp.district.emit("change");
      index = data.ward.lastIndexOf("_");

      if (index === -1) {
        temp.ward.items.push({
          text: data.ward,
          value: data.ward
        });
        temp.ward.items = temp.ward.items;
      }

      temp.ward.value = data.ward;
      temp.ward.emit("change");
      index = data.street.lastIndexOf("_");

      if (index === -1) {
        temp.street.items.push({
          text: data.street,
          value: data.street
        });
        temp.street.items = temp.street.items;
      }

      temp.street.value = data.street;
      temp.setInput(false);

      if (data.lat !== undefined && data.lng !== undefined) {
        temp.lat.value = data.lat;
        temp.lng.value = data.lng;
        var postionData = [data.lat, data.lng];
        postionData["data"] = data;
        map.addMoveMarker(postionData);
      } else temp.setInput();
    }
  });
  var lat, lng;
  lng = MapView_({
    tag: "input",
    "class": "pizo-new-realty-location-detail-row-input-long",
    attr: {
      type: "number"
    },
    on: {
      change: function change(event) {
        if (temp.changInput) map.addMoveMarker([parseFloat(lat.value), parseFloat(lng.value)], false);
      }
    }
  });
  lat = MapView_({
    tag: "input",
    "class": "pizo-new-realty-location-detail-row-input-lat",
    attr: {
      type: "number"
    },
    on: {
      change: function change(event) {
        if (temp.changInput) map.addMoveMarker([parseFloat(lat.value), parseFloat(lng.value)], false);
      }
    }
  });

  var containerGPS = MapView_({
    tag: "div",
    "class": "pizo-new-realty-location-detail-row",
    style: {
      display: "none"
    },
    child: [{
      tag: "span",
      "class": "pizo-new-realty-location-detail-row-label",
      props: {
        innerHTML: "GPS"
      }
    }, {
      tag: "div",
      "class": "pizo-new-realty-location-detail-row-menu",
      child: [lat, lng]
    }]
  });

  temp = MapView_({
    tag: "div",
    "class": "pizo-new-realty-location-detail",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-location-detail-row",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-location-detail-row-label",
        props: {
          innerHTML: "Địa chỉ đầy đủ"
        }
      }, input]
    }, {
      tag: "div",
      "class": "pizo-new-realty-location-detail-row",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-location-detail-row-label",
        props: {
          innerHTML: "Tỉnh/TP"
        },
        child: [{
          tag: "span",
          "class": "pizo-new-realty-location-detail-row-label-important",
          props: {
            innerHTML: "*"
          }
        }]
      }, state]
    }, {
      tag: "div",
      "class": "pizo-new-realty-location-detail-row",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-location-detail-row-label",
        props: {
          innerHTML: "Quận/Huyện"
        },
        child: [{
          tag: "span",
          "class": "pizo-new-realty-location-detail-row-label-important",
          props: {
            innerHTML: "*"
          }
        }]
      }, district]
    }, {
      tag: "div",
      "class": "pizo-new-realty-location-detail-row",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-location-detail-row-label",
        props: {
          innerHTML: "Phường/Xã"
        },
        child: [{
          tag: "span",
          "class": "pizo-new-realty-location-detail-row-label-important",
          props: {
            innerHTML: "*"
          }
        }]
      }, ward]
    }, {
      tag: "div",
      "class": "pizo-new-realty-location-detail-row",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-location-detail-row-label",
        props: {
          innerHTML: "Đường"
        },
        child: [{
          tag: "span",
          "class": "pizo-new-realty-location-detail-row-label-important",
          props: {
            innerHTML: "*"
          }
        }]
      }, street]
    }, {
      tag: "div",
      "class": "pizo-new-realty-location-detail-row",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-location-detail-row-label",
        props: {
          innerHTML: "Số nhà"
        },
        child: [{
          tag: "span",
          "class": "pizo-new-realty-location-detail-row-label-important",
          props: {
            innerHTML: "*"
          }
        }]
      }, number]
    }, containerGPS]
  });
  temp.map = map;
  temp.input = input;
  temp.number = number;
  temp.district = district;
  temp.street = street;
  temp.ward = ward;
  temp.state = state;
  Object.assign(temp, DetailView.prototype);
  temp.lng = lng;
  temp.lat = lat;
  temp.containerGPS = containerGPS; // temp.activeAutocomplete(map);

  return temp;
}

DetailView.prototype.addLatLng = function () {
  this.containerGPS.style.display = "";
};

DetailView.prototype.getDataCurrent = function () {
  var temp = {
    number: this.number.value,
    street: this.street.value,
    ward: this.ward.value,
    district: this.district.value,
    state: this.state.value
  };

  if (this.containerGPS.style.display == "") {
    temp.lng = parseFloat(this.lng.value);
    temp.lat = parseFloat(this.lat.value);
  }

  return temp;
};

DetailView.prototype.activeAutocomplete = function (map) {
  var self = this;
  map.setCurrentLocation();
  var autocomplete;
  var options = {
    // terms:['street_number','route','locality','administrative_area_level_1','administrative_area_level_2','administrative_area_level_3'],
    types: ['address'],
    componentRestrictions: {
      country: 'vn'
    }
  };
  autocomplete = new google.maps.places.Autocomplete(self.input, options); // Avoid paying for data that you don't need by restricting the set of
  // place fields that are returned to just the address components.

  autocomplete.setFields(['address_component']); // When the user selects an address from the drop-down, populate the
  // address fields in the form.

  autocomplete.addListener('place_changed', function () {
    if (self.input.value !== self.input.lastValue) self.fillInAddress(autocomplete, self.input.value, map);
    self.input.lastValue = self.input.value;
  });
  self.autocomplete = autocomplete;
};

DetailView.prototype.setInput = function () {
  var isChange = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
  var self = this;
  var stringInput = "";
  var index;
  var valueNumber = this.number.value;
  var valueRoute = this.street.value;
  var valueWard = this.ward.value;
  var valueDistrict = this.district.value;
  var valueState = this.state.value;
  var isFirst = "";

  if (valueNumber !== undefined) {
    stringInput += isFirst + valueNumber;
    isFirst = " ";
  }

  if (valueRoute !== undefined) {
    index = valueRoute.lastIndexOf("_");
    if (index == -1) stringInput += isFirst + valueRoute;else stringInput += isFirst + valueRoute.slice(0, index);
    isFirst = ", ";
  }

  if (valueWard !== undefined) {
    index = valueWard.lastIndexOf("_");
    if (index == -1) stringInput += isFirst + valueWard;else stringInput += isFirst + valueWard.slice(0, index);
    isFirst = ", ";
  }

  if (valueDistrict !== undefined) {
    index = valueDistrict.lastIndexOf("_");
    if (index == -1) stringInput += isFirst + valueDistrict;else stringInput += isFirst + valueDistrict.slice(0, index);
    isFirst = ", ";
  }

  if (valueState !== undefined) {
    index = valueState.lastIndexOf("_");
    if (index == -1) stringInput += isFirst + valueState;else stringInput += isFirst + valueState.slice(0, index);
    isFirst = ", ";
  }

  this.input.value = stringInput;
  if (isChange === true) this.getLongLat(stringInput).then(function (result) {
    self.map.addMoveMarker(result);
  }); // if(isChange===true)
  // google.maps.event.trigger(this.autocomplete, 'place_changed');
};

DetailView.prototype.fillInAddress = function (autocomplete, text, map) {
  // Get the place details from the autocomplete object.
  // var self = this;
  // var place = autocomplete.getPlace();
  this.getLongLat(text).then(function (result) {
    map.addMoveMarker(result);
  }); // var textResult = text;
  // var componentForm = {
  //     street_number: 'short_name',
  //     route: 'long_name',
  //     locality: 'long_name',
  //     administrative_area_level_1: 'long_name',
  //     administrative_area_level_2: 'long_name',
  //     country: 'long_name',
  //     postal_code: 'short_name'
  // };
  // self.number.value = "";
  // self.street.value = "";
  // self.state.value = "";
  // self.district.value = "";
  // self.ward.value = "";
  // // Get each component of the address from the place details,
  // // and then fill-in the corresponding field on the form.
  // console.log(place)
  // for (var i = place.address_components.length-1; i >= 0 ; i--) {
  //     var addressType = place.address_components[i].types[0];
  //     if (componentForm[addressType]) {
  //         var val = place.address_components[i][componentForm[addressType]];
  //         switch (addressType) {
  //             case "street_number":
  //                 var valueNumber = val;
  //                 console.log(val)
  //                 self.number.value = valueNumber;
  //                 break;
  //             case "route":
  //                 var valueRoute = getContainsChild(self.street.items,{text:val,value:val})
  //                 if(valueRoute === false)
  //                 {
  //                     self.street.items= self.street.items.concat([{text:val,value:val}])
  //                     self.street.value = val;
  //                     valueRoute = {text:val,value:val};
  //                 }else
  //                 self.street.value = valueRoute.value;
  //                 textResult = textResult.replace(textResult.slice(0,textResult.indexOf(val+", ")+val.length+2),"");
  //                 break;
  //             case "administrative_area_level_1":
  //                 var valueState = getContainsChild(self.state.items,{text:val,value:val});
  //                 if(valueState === false)
  //                 {
  //                     self.state.items=self.state.items.concat([{text:val,value:val}]);
  //                     self.state.value = val;
  //                     valueState = {text:val,value:val};
  //                 }else
  //                 self.state.value = valueState.value;
  //                 break;
  //             case "administrative_area_level_2":
  //                 if(typeof valueState === "string")
  //                 var valueDistrict = getContainsChild(self.district.items,{text:val,value:val});
  //                 else
  //                 var valueDistrict = getContainsChild(self.checkStateDistrict[getIDCompair(valueState.value)],{text:val,value:val});
  //                 if(valueDistrict === false)
  //                 {
  //                     self.district.items=self.district.items.concat([{text:val,value:val}]);
  //                     self.district.value = val;
  //                     valueDistrict = {text:val,value:val};
  //                 }else
  //                 self.district.value = valueDistrict.value;
  //                 break;
  //             case "country":
  //                 break;
  //         }
  //     }
  // }
  // var val  = textResult.slice(0,textResult.indexOf(","));
  // val = val.replace("Ward Number","Phường");
  // if(typeof valueDistrict === "string")
  // var valueWard = getContainsChild(self.ward.items,{text:val,value:val});
  // else
  // var valueWard = getContainsChild(self.checkDistrictWard[getIDCompair(valueDistrict.value)],{text:val,value:val});
  // if(valueWard===false)
  // {
  //     self.ward.items=self.ward.items.concat([{text:val,value:val}]);
  //     self.ward.value = val;
  // }
  // self.ward.value = valueWard.value;
  // this.setInput();
};

function getContainsChild(arr, value) {
  var check;

  for (var i = 0; i < arr.length; i++) {
    check = arr[i].text;
    if (removeAccents(check.toLowerCase()).indexOf(removeAccents(value.value.toLowerCase())) !== -1) return arr[i];
  }

  return false;
}

DetailView.prototype.geolocate = function () {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function (position) {
      var geolocation = {
        lat: position.coords.latitude,
        lng: position.coords.longitude
      };
      var circle = new google.maps.Circle({
        center: geolocation,
        radius: position.coords.accuracy
      });
      autocomplete.setBounds(circle.getBounds());
    });
  }
};

DetailView.prototype.getLongLat = function (text) {
  return new Promise(function (resolve, reject) {
    var geocoder = new google.maps.Geocoder();
    geocoder.geocode({
      'address': text
    }, function (results, status) {
      if (status == google.maps.GeocoderStatus.OK) {
        // do something with the geocoded result
        //
        resolve([results[0].geometry.location.lat(), results[0].geometry.location.lng()]); // results[0].geometry.location.latitude
        // results[0].geometry.location.longitude
      } else {
        reject();
      }
    });
  });
};

function MapView_MapView() {
  var temp = MapView_({
    tag: "div",
    "class": "pizo-new-realty-location-map-view",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-location-map-view-content",
      props: {
        id: "map-View"
      }
    }]
  });

  Object.assign(temp, MapView_MapView.prototype);
  temp.mapReplace = MapView_$('div.pizo-new-realty-location-map-view-content', temp);
  temp.map = temp.activeMap();
  temp.isShowAddress = true;
  return temp;
}

MapView_MapView.prototype.setLabelUnder = function () {
  var isShowAddress = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
  this.isShowAddress = isShowAddress;
};

MapView_MapView.prototype.activePlanningMap = function () {
  this.addMapPolygon();
  this.addMapHouse();
};

MapView_MapView.prototype.addLatLng = function () {
  if (this.currentMarker !== undefined) {
    this.currentMarker.setOption({
      draggable: true
    });
  }

  this.draggable = true;
};

MapView_MapView.prototype.addMapPolygon = function () {
  var self = this;
  if (this.checkMap === undefined) this.checkMap = [];
  if (this.currentPolygon === undefined) this.currentPolygon = [];
  if (this.checkLibary === undefined) this.checkLibary = [];
  google.maps.event.addListener(self.map, 'zoom_changed', function () {
    var zoomLevel = self.map.getZoom();

    if (zoomLevel >= 20) {
      self.enablePolygon = true;
      new google.maps.event.trigger(self.map, 'center_changed');
    } else {
      self.enablePolygon = false;
      self.removeMapPolygon();
    }
  });
  self.map.setZoom(20);
  var intLng, cellLng, intLat, cellLat, cellDeltaLat, cellDeltaLng;
  google.maps.event.addListener(self.map, "center_changed", function () {
    if (self.enablePolygon == true) {
      var promiseAll = [];
      var center = this.getCenter();
      var latitude = center.lat();
      var longitude = center.lng();
      intLng = parseInt(longitude / 1);
      cellLng = Math.ceil(longitude % 1 / (1 / 1110));
      intLat = parseInt(latitude / 1);
      cellLat = Math.ceil(latitude % 1 / (1 / 1110));
      cellLng = intLng * 10000 + cellLng;
      cellLat = intLat * 10000 + cellLat;
      self.removeMapPolygonAround(cellLat, cellLng);

      for (var m = -2; m <= 1; m++) {
        for (var k = -2; k <= 1; k++) {
          cellDeltaLat = cellLat + m;
          cellDeltaLng = cellLng + k;

          if (self.checkMap[cellDeltaLat] === undefined || self.checkMap[cellDeltaLat][cellDeltaLng] === undefined) {
            if (self.checkMap[cellDeltaLat] === undefined) self.checkMap[cellDeltaLat] = [];
            if (self.checkMap[cellDeltaLat][cellDeltaLng] === undefined) self.checkMap[cellDeltaLat][cellDeltaLng] = [];
            if (self.checkLibary[cellDeltaLat] === undefined) self.checkLibary[cellDeltaLat] = [];
            self.checkLibary[cellDeltaLat][cellDeltaLng] = 1;
            var promiseTemp = new Promise(function (resolve, reject) {
              ModuleDatabase["a" /* default */].getModule("polygon").load({
                WHERE: [{
                  cellLng: cellDeltaLng
                }, "&&", {
                  cellLat: cellDeltaLat
                }]
              }).then(function (cellDeltaLat, cellDeltaLng, value) {
                if (self.enablePolygon == true) {
                  for (var i = 0; i < value.length; i++) {
                    self.addWKT(value[i]["AsText(`map`)"], cellDeltaLat, cellDeltaLng);
                  }

                  resolve();
                }
              }.bind(null, cellDeltaLat, cellDeltaLng));
            });
            promiseAll.push(promiseTemp);
          } else {
            self.setMapPolygon(cellDeltaLat, cellDeltaLng);
          }
        }
      }

      if (self.isDoneMarker) {
        promiseAll.push(self.isDoneMarker);
        Promise.all(promiseAll).then(function () {
          for (var i = 0; i < self.currentHouse.length; i++) {
            var marker = self.checkHouse[self.currentHouse[i][0]][self.currentHouse[i][1]];
            if (marker.length > 0) marker = marker[0];
            if (marker.isTrigger === true) continue;
            var cellLatX, cellLngX, intLngX, intLatX, deltaLat, deltaLng;
            intLngX = parseInt(self.currentHouse[i][1] / 1);
            cellLngX = self.currentHouse[i][1] % 1 / (1 / 1110);
            deltaLng = cellLngX % 1;
            if (deltaLng > 0.5) cellLngX = Math.ceil(cellLngX) - 1;else cellLngX = Math.ceil(cellLngX) - 2;
            intLatX = parseInt(self.currentHouse[i][0] / 1);
            cellLatX = self.currentHouse[i][0] % 1 / (1 / 1110);
            deltaLat = cellLatX % 1;
            if (deltaLat > 0.5) cellLatX = Math.ceil(cellLatX) - 1;else cellLatX = Math.ceil(cellLatX) - 2;
            cellLngX = intLngX * 10000 + cellLngX;
            cellLatX = intLatX * 10000 + cellLatX;

            for (var k = 0; k < 2; k++) {
              for (var n = 0; n < 2; n++) {
                var arrPolygon = self.checkMap[cellLatX + k];

                if (arrPolygon) {
                  arrPolygon = arrPolygon[cellLngX + n];
                  if (arrPolygon) for (var j = 0; j < arrPolygon.length; j++) {
                    if (google.maps.geometry.poly.containsLocation(marker.getPosition(), arrPolygon[j])) {
                      google.maps.event.addListener(arrPolygon[j], "mousemove", function () {
                        google.maps.event.trigger(marker, 'mouseover');
                      });
                      google.maps.event.addListener(arrPolygon[j], "click", function () {
                        google.maps.event.trigger(marker, 'click');
                      });
                      google.maps.event.addListener(arrPolygon[j], "mouseout", function () {
                        google.maps.event.trigger(marker, 'mouseout');
                      });
                      marker.isTrigger = true;
                    }
                  }
                }
              }
            }
          }
        });
      }
    }
  });
};

MapView_MapView.prototype.addWKT = function (multipolygonWKT, cellLat, cellLng) {
  var wkt = new Wkt.Wkt();
  wkt.read(multipolygonWKT);
  var components = wkt.components;

  for (var k = 0; k < components.length; k++) {
    var line = components[k];
    var polygon = new google.maps.Polygon({
      paths: line,
      strokeColor: "#000000",
      fillColor: "#adaeaf",
      strokeOpacity: 0.8,
      strokeWeight: 1,
      map: this.map,
      geodesic: true
    });
    google.maps.event.addListener(polygon, "mouseover", function () {
      this.setOptions({
        fillColor: "#00FF00"
      });
    });
    google.maps.event.addListener(polygon, "mouseout", function () {
      this.setOptions({
        fillColor: "#adaeaf"
      });
    });
    this.checkMap[cellLat][cellLng].push(polygon);
  }

  if (this.checkLibary[cellLat] === undefined) this.checkLibary[cellLat] = [];
  this.currentPolygon.push([cellLat, cellLng]);
  return this.checkMap[cellLat][cellLng];
};

MapView_MapView.prototype.setMapPolygon = function (cellLat, cellLng) {
  if (this.checkLibary[cellLat] === undefined || this.checkLibary[cellLat][cellLng] === 1) return;
  var arr = this.checkMap[cellLat][cellLng];

  for (var i = 0; i < arr.length; i++) {
    if (arr[i].getMap() === null) arr[i].setMap(this.map);
  }

  if (this.checkLibary[cellLat] === undefined) this.checkLibary[cellLat] = [];
  if (this.checkLibary[cellLat][cellLng] !== 1) this.currentPolygon.push([cellLat, cellLng]);
  this.checkLibary[cellLat][cellLng] = 1;
};

MapView_MapView.prototype.removeMapPolygon = function (arr) {
  for (var i = this.currentPolygon.length - 1; i >= 0; i--) {
    var arr = this.checkMap[this.currentPolygon[i][0]][this.currentPolygon[i][1]];

    for (var j = 0; j < arr.length; j++) {
      arr[j].setMap(null);
    }

    this.checkLibary[this.currentPolygon[i][0]][this.currentPolygon[i][1]] = undefined;
    this.currentPolygon.splice(i, 1);
  }
};

MapView_MapView.prototype.removeMapPolygonAround = function (cellLat, cellLng) {
  var currentLat, currentLng;

  for (var i = this.currentPolygon.length - 1; i >= 0; i--) {
    currentLat = this.currentPolygon[i][0];
    currentLng = this.currentPolygon[i][1];

    if (Math.abs(currentLat - cellLat) > 3 || Math.abs(currentLng - cellLng) > 3) {
      var arr = this.checkMap[currentLat][currentLng];

      for (var j = 0; j < arr.length; j++) {
        arr[j].setMap(null);
      }

      this.currentPolygon.splice(i, 1);
      this.checkLibary[currentLat][currentLng] = undefined;
    }
  }
};

MapView_MapView.prototype.addMapHouse = function () {
  var self = this;
  if (this.checkHouse === undefined) this.checkHouse = [];
  if (this.currentHouse === undefined) this.currentHouse = [];
  google.maps.event.addListener(self.map, 'zoom_changed', function () {
    var zoomLevel = self.map.getZoom();

    if (zoomLevel >= 10) {
      self.enableHouse = true;
      new google.maps.event.trigger(self.map, 'center_changed');
    } else {
      self.enableHouse = true; // self.removeMapHouse();
    }
  });
  self.map.setZoom(20);
  google.maps.event.addListener(self.map, "idle", function () {
    self.isDoneMarker = new Promise(function (resolve, reject) {
      var bounds = self.map.getBounds();
      var ne = bounds.getNorthEast(); // LatLng of the north-east corner

      var sw = bounds.getSouthWest();
      var topRight = [ne.lat(), ne.lng()];
      var bottomLeft = [sw.lat(), sw.lng()];
      self.bottomLeft = bottomLeft;
      self.topRight = topRight;

      if (self.enableHouse == true) {
        self.removeMapHouseAround();
        var queryData = [{
          lat: {
            operator: ">",
            value: bottomLeft[0]
          }
        }, "&&", {
          lat: {
            operator: "<",
            value: topRight[0]
          }
        }, "&&", {
          lng: {
            operator: ">",
            value: bottomLeft[1]
          }
        }, "&&", {
          lng: {
            operator: "<",
            value: topRight[1]
          }
        }];

        if (self.currentMarker && self.currentMarker.data !== undefined) {
          queryData = [queryData];
          queryData.push("&&");
          queryData.push({
            id: {
              operator: "!=",
              value: self.currentMarker.data.id
            }
          });
        }

        if (queryData.length > 0) {
          queryData.push("&&");
          queryData.push({
            censorship: 1
          });
        }

        ModuleDatabase["a" /* default */].getModule("activehouses").load({
          WHERE: queryData
        }).then(function (value) {
          for (var i = 0; i < value.length; i++) {
            self.addOrtherMarker(value[i]);
          }

          var event = new CustomEvent('change-house');
          self.dispatchEvent(event);
          resolve();
        });
      }
    }.bind(this));
  });
};

MapView_MapView.prototype.addOrtherMarker = function (data) {
  var self = this;
  var position = [data.lat, data.lng];

  if (this.checkHouse[position[0]] !== undefined && this.checkHouse[position[0]][position[1]] !== undefined) {
    var arr = this.checkHouse[position[0]][position[1]];

    for (var j = 0; j < arr.length; j++) {
      if (arr[j].getMap() === null) {
        arr[j].setMap(self.map);
        this.currentHouse.push(position);
      }
    }

    var marker = arr;
  } else {
    var image = {
      url: "./assets/images/marker-red.png",
      // This marker is 20 pixels wide by 32 pixels high.
      scaledSize: new google.maps.Size(24, 24),
      // The origin for this image is (0, 0).
      origin: new google.maps.Point(0, 0),
      // The anchor for this image is the base of the flagpole at (0, 32).
      anchor: new google.maps.Point(12, 12)
    };
    var label;

    if (self.isShowAddress === true) {
      var checkAddress = ModuleDatabase["a" /* default */].getModule("addresses").getLibary("id");
      if (checkAddress[data.addressid]) label = checkAddress[data.addressid].addressnumber;
    } else if (self.isShowAddress === false) {
      if (parseInt(data.salestatus / 10) == 1 ? true : false) label = data.price + " tỉ";else if (parseInt(data.salestatus % 10) == 1 ? true : false) label = parseInt(data.pricerent) / 1000000 + " triệu";else if (data.price > 0) label = data.price + " tỉ";else if (data.pricerent > 0) label = data.price + " VND";
    }

    var labelContent = MapView_({
      tag: "div",
      child: [{
        tag: "div",
        "class": "arrow"
      }, {
        tag: "div",
        "class": "inner",
        props: {
          innerHTML: label
        }
      }]
    });

    var marker = new MarkerWithLabel({
      position: new google.maps.LatLng(position[0], position[1]),
      map: self.map,
      draggable: false,
      icon: image,
      labelContent: labelContent,
      labelAnchor: new google.maps.Point(40, -5),
      labelClass: "labels",
      zIndex: 2
    });
    var imageHover = {
      url: "./assets/images/marker-green.png",
      // This marker is 20 pixels wide by 32 pixels high.
      scaledSize: new google.maps.Size(24, 24),
      // The origin for this image is (0, 0).
      origin: new google.maps.Point(0, 0),
      // The anchor for this image is the base of the flagpole at (0, 32).
      anchor: new google.maps.Point(12, 12)
    }; // var mouseOverInfoWindow = false, timeoutID;

    var infowindow = new google.maps.InfoWindow({
      maxWidth: 350
    }); // google.maps.event.addListener(infowindow, 'domready', function() {
    //     infowindow.addListener('mouseover', function() {
    //         mouseOverInfoWindow = true;
    //     });
    //     infowindow.addListener('mouseout', function() {
    //         marker.setIcon(image);
    //         infowindow.close();
    //         mouseOverInfoWindow = false;
    //     });
    // });

    marker.data = data;
    google.maps.event.addListener(marker, 'mouseover', function () {
      if (infowindow.visible === true) return;
      infowindow.setContent(self.modalMiniRealty(marker.data));
      infowindow.open(self.map, marker);
      infowindow.visible = true;
      marker.setIcon(imageHover);
    });
    google.maps.event.addListener(marker, 'mouseout', function (event) {
      // timeoutID = setTimeout(function() {
      //     if (!mouseOverInfoWindow) {
      //         marker.setIcon(image);
      //         infowindow.close();
      //     }
      //   }, 400);
      marker.setIcon(image);
      infowindow.close();
      infowindow.visible = false;
    });
    if (this.checkHouse[position[0]] === undefined) this.checkHouse[position[0]] = [];
    if (this.checkHouse[position[0]][position[1]] === undefined) this.checkHouse[position[0]][position[1]] = [marker];else this.checkHouse[position[0]][position[1]].push(marker);
    this.currentHouse.push(position);
  }

  self.isDoneMarker = true;
  return marker;
};

MapView_MapView.prototype.setFilter = function () {};

MapView_MapView.prototype.modalMiniRealty = function (data) {
  var temp = MapView_({
    tag: "a",
    "class": "responsive-mini-bubble",
    child: [{
      tag: "div",
      "class": "mini-bubble-content",
      child: [{
        tag: "div",
        "class": "mini-bubble-image"
      }, {
        tag: "div",
        "class": "mini-bubble-details",
        child: [{
          tag: "strong",
          props: {
            innerHTML: "VND " + data.price + "tỉ"
          }
        }, {
          tag: "div",
          props: {
            innerHTML: data.width + "m x " + data.height + "m"
          }
        }, {
          tag: "div",
          props: {
            innerHTML: data.acreage + "m²"
          }
        }]
      }]
    }]
  });

  var image = MapView_$("div.mini-bubble-image", temp);
  var first = "";
  var arr = [];

  if (data !== undefined) {
    for (var i = 0; i < data.image.length; i++) {
      if (first !== "") arr.push(first);
      arr.push({
        id: parseInt(data.image[i])
      });

      if (first == "") {
        first = "||";
      }
    }
  }

  var src = "https://photos.zillowstatic.com/p_e/ISrh2fnbc4956m0000000000.jpg";
  if (arr.length > 0) ModuleDatabase["a" /* default */].getModule("image").load({
    WHERE: arr
  }).then(function (values) {
    for (var i = 0; i < values.length; i++) {
      if (values[i].thumnail == 1) {
        src = "https://lab.daithangminh.vn/home_co/pizo/assets/upload/" + values[i].src;
        image.style.backgroundImage = "url(" + src + ")";
        break;
      }
    }
  });
  image.style.backgroundImage = "url(" + src + ")";
  return temp;
};

MapView_MapView.prototype.removeMapHouse = function (arr) {
  for (var i = this.currentHouse.length - 1; i >= 0; i--) {
    var arr = this.checkHouse[this.currentHouse[i][0]][this.currentHouse[i][1]];

    for (var j = 0; j < arr.length; j++) {
      arr[j].setMap(null);
    }

    this.currentHouse.splice(i, 1);
  }
};

MapView_MapView.prototype.removeMapHouseAround = function (cellLat, cellLng) {
  var currentLat, currentLng;

  for (var i = this.currentHouse.length - 1; i >= 0; i--) {
    currentLat = this.currentHouse[i][0];
    currentLng = this.currentHouse[i][1];

    if (currentLat < this.bottomLeft[0] || currentLat > this.topRight[0] || currentLng < this.bottomLeft[1] || currentLng > this.topRight[1]) {
      var arr = this.checkHouse[currentLat][currentLng];

      for (var j = 0; j < arr.length; j++) {
        arr[j].setMap(null);
      }

      this.currentHouse.splice(i, 1);
    }
  }
};

MapView_MapView.prototype.activeDetail = function (detailView) {
  this.detailView = detailView;
  this.addMapPolygon();
  this.addMapHouse();
};

MapView_MapView.prototype.activeMap = function () {
  var center = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [10.822500, 106.629104];
  var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;
  var map = new google.maps.Map(this.mapReplace, {
    zoom: zoom,
    center: new google.maps.LatLng(center[0], center[1]),
    mapTypeControlOptions: {
      mapTypeIds: ['roadmap', 'satellite']
    }
  });
  this.delay = 10;
  this.numDeltas = 50;
  this.draggable = false;
  this.moveCurrentMarker = true;
  return map;
};

MapView_MapView.prototype.setCurrentLocation = function () {
  var geolocationDiv = document.createElement('div');
  var geolocationControl = this.GeolocationControl(geolocationDiv, this.map);
  this.map.controls[google.maps.ControlPosition.TOP_CENTER].push(geolocationDiv);
};

MapView_MapView.prototype.setMoveMarkerWithCurrent = function (value) {
  this.moveCurrentMarker = value;
};

MapView_MapView.prototype.addMoveMarker = function (position) {
  var changeInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
  var self = this;
  var marker;

  if (self.detailView !== undefined) {
    if (changeInput) self.detailView.changInput = false;
  } else changeInput = false;

  if (this.currentMarker !== undefined && position.data == undefined) {
    marker = this.currentMarker;
    self.transition(position, changeInput).then(function (value) {
      self.map.setCenter(new google.maps.LatLng(position[0], position[1]));
      self.smoothZoom(20, self.map.getZoom());
    });
  } else {
    var image = {
      url: "./assets/images/marker-blue.png",
      // This marker is 20 pixels wide by 32 pixels high.
      scaledSize: new google.maps.Size(24, 24),
      // The origin for this image is (0, 0).
      origin: new google.maps.Point(0, 0),
      // The anchor for this image is the base of the flagpole at (0, 32).
      anchor: new google.maps.Point(12, 12)
    };
    marker = new google.maps.Marker({
      position: new google.maps.LatLng(position[0], position[1]),
      map: self.map,
      draggable: self.draggable,
      icon: image,
      title: "Latitude:" + position[0] + " | Longtitude:" + position[1],
      zIndex: 2
    });
    this.currentMarker = marker;

    if (position.data !== undefined) {
      marker.data = position.data;
    }

    self.map.setCenter(new google.maps.LatLng(position[0], position[1]));
    self.smoothZoom(20, self.map.getZoom());

    if (changeInput) {
      self.detailView.lng.value = position[1];
      self.detailView.lat.value = position[0];
      self.detailView.changInput = true;
    }

    marker.addListener("dragend", function (event) {
      var result = [event.latLng.lat(), event.latLng.lng()];
      self.map.setCenter(new google.maps.LatLng(result[0], result[1]));
      self.smoothZoom(20, self.map.getZoom());

      if (changeInput) {
        self.detailView.lng.value = result[1];
        self.detailView.lat.value = result[0];
        self.detailView.changInput = true;
      }
    });
  }

  return marker;
};

MapView_MapView.prototype.transition = function (result, changeInput) {
  var self = this;
  var position = [this.currentMarker.getPosition().lat(), this.currentMarker.getPosition().lng()];

  if (changeInput) {
    self.detailView.lng.value = result[1];
    self.detailView.lat.value = result[0];
    self.detailView.changInput = true;
  }

  var deltaLat = (result[0] - position[0]) / this.numDeltas;
  var deltaLng = (result[1] - position[1]) / this.numDeltas; // window.service.nearbySearch({ location: {lat: result[0], lng: result[1]}, rankBy: google.maps.places.RankBy.DISTANCE , type: ['market'] },
  // function(results, status){
  //     self.callback(results, status)
  // });

  return this.moveMarker(position, deltaLat, deltaLng);
};

MapView_MapView.prototype.callback = function (results, status) {
  if (status === google.maps.places.PlacesServiceStatus.OK) {// for (var i = 0; i < results.length; i++) { 
    //     this.createMarker(results[i]); 
    // }
  }
};

MapView_MapView.prototype.createMarker = function (place) {
  var marker = new google.maps.Marker({
    map: this.map,
    position: place.geometry.location
  });
  google.maps.event.addListener(marker, 'click', function () {
    infowindow.setContent(place.name);
    infowindow.open(map, this);
  });
};

MapView_MapView.prototype.moveMarker = function (position, deltaLat, deltaLng) {
  var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
  var self = this;
  return new Promise(function (resolve, reject) {
    position[0] += deltaLat;
    position[1] += deltaLng;
    var latlng = new google.maps.LatLng(position[0], position[1]);
    self.currentMarker.setTitle("Latitude:" + position[0] + " | Longtitude:" + position[1]);
    self.currentMarker.setPosition(latlng);

    if (i != self.numDeltas - 1) {
      i++;
      setTimeout(function () {
        resolve(self.moveMarker(position, deltaLat, deltaLng, i));
      }, self.delay);
    } else resolve();
  });
};

MapView_MapView.prototype.smoothZoom = function (max, cnt) {
  var self = this;

  if (cnt >= max) {
    return;
  } else {
    var z = google.maps.event.addListener(this.map, 'zoom_changed', function (event) {
      google.maps.event.removeListener(z);
      self.smoothZoom(this.map, max, cnt + 1);
    });
    setTimeout(function () {
      if (cnt !== undefined) self.map.setZoom(cnt);
    }, 80); // 80ms is what I found to work well on my system -- it might not work well on all systems
  }
};

MapView_MapView.prototype.GeolocationControl = function (controlDiv) {
  // Set CSS for the control button
  var controlUI = document.createElement('div');
  controlUI.style.backgroundColor = '#444';
  controlUI.style.borderStyle = 'solid';
  controlUI.style.borderWidth = '1px';
  controlUI.style.borderColor = 'white';
  controlUI.style.height = '28px';
  controlUI.style.marginTop = '5px';
  controlUI.style.cursor = 'pointer';
  controlUI.style.textAlign = 'center';
  controlUI.title = 'Click to center map on your location';
  controlDiv.appendChild(controlUI); // Set CSS for the control text

  var controlText = document.createElement('div');
  controlText.style.fontFamily = 'Arial,sans-serif';
  controlText.style.fontSize = '10px';
  controlText.style.color = 'white';
  controlText.style.paddingLeft = '10px';
  controlText.style.paddingRight = '10px';
  controlText.style.marginTop = '8px';
  controlText.innerHTML = 'Chọn để quay về vị trí hiện tại';
  controlUI.appendChild(controlText); // Setup the click event listeners to geolocate user

  google.maps.event.addDomListener(controlUI, 'click', this.geolocateMap.bind(this));
};

MapView_MapView.prototype.geolocateMap = function () {
  var self = this;

  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function (position) {
      if (self.moveCurrentMarker) self.addMoveMarker([position.coords.latitude, position.coords.longitude]);else {
        self.map.setCenter(new google.maps.LatLng(position.coords.latitude, position.coords.longitude));
        self.smoothZoom(20, self.map.getZoom());
      }
    });
  }
};
// EXTERNAL MODULE: ./css/NewAccount.css
var NewAccount = __webpack_require__(223);

// EXTERNAL MODULE: ./css/form_create_edit.css
var form_create_edit = __webpack_require__(33);

// EXTERNAL MODULE: ./css/test_question.css
var test_question = __webpack_require__(34);

// EXTERNAL MODULE: ./css/test.css
var test = __webpack_require__(35);

// CONCATENATED MODULE: ./js/component/modal_drag_drop_image.js
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }





var modal_drag_drop_image_ = dom_Fcore._;
var modal_drag_drop_image_$ = dom_Fcore.$;
var xmlModalDragImage;
/* harmony default export */ var modal_drag_drop_image = (xmlModalDragImage = {
  imgAll: [],
  imgDelete: [],
  deleteAllTrash: function deleteAllTrash() {
    var self = this;

    for (var i = 0; i < self.imgAll.length; i++) {
      data_module.img["delete"](self.imgAll[i]);
    }

    for (var i = 0; i < self.imgDelete.length; i++) {
      data_module.img["delete"](self.imgDelete[i]);
    }
  },
  Image: function Image(srcImg) {
    var temp = modal_drag_drop_image_({
      tag: "img",
      "class": "full-size",
      style: {
        position: "absolute",
        left: "50%",
        transform: "translateX(-50%)"
      },
      props: {
        src: srcImg
      },
      on: {
        click: function click() {
          var el = this;

          while (!el.classList.contains("image-autoresize-create") && !el !== document.body) {
            el = el.parentNode;
          }

          if (el.classList.contains("hasFocus") || el.classList.contains("image-autoresize-preview")) mViewer.pickImageElement(this, this.src);else if (el !== document.body) el.classList.add("hasFocus");
        }
      }
    });

    window.addEventListener("click", function (event) {
      if (event.target !== temp && temp !== undefined && temp.parentNode !== undefined) {
        var el = temp;

        while (el.parentNode != undefined && !el.classList.contains("image-autoresize-create")) {
          el = el.parentNode;
        }

        if (el !== document) if (el.classList.contains("hasFocus")) el.classList.remove("hasFocus");
      }
    });
    return temp;
  },
  containGetImage: function containGetImage() {
    var self = this;

    var input = modal_drag_drop_image_({
      tag: "input",
      "class": "modal-upload-XML-body-drop-area-main-form-input",
      props: {
        type: "file",
        multiple: "",
        accept: "image/*",
        id: "fileElem"
      },
      on: {
        change: function change() {
          self.handleFiles(this.files, self);
        }
      }
    });

    self.select = modal_drag_drop_image_({
      tag: "div",
      "class": ["quantumWizButtonEl", "quantumWizButtonPaperbuttonEl", "quantumWizButtonPaperbuttonFlat", "quantumWizButtonPaperbuttonFlatColored", "quantumWizButtonPaperbutton2El2", "quantumWizDialogPaperdialogDialogButton", "disable"],
      style: {
        backgroundColor: "#2196F3",
        border: "1px solid rgb(169, 169, 169)",
        width: "90px"
      },
      child: [{
        tag: "span",
        "class": "quantumWizButtonPaperbuttonContent",
        child: [{
          tag: "span",
          "class": "quantumWizButtonPaperbuttonLabel",
          style: {
            color: "white"
          },
          props: {
            innerHTML: "Chọn"
          }
        }]
      }],
      on: {
        click: function click() {
          self.functionClickDone();
          if (self.modal !== undefined) self.modal.parentNode.removeChild(self.modal);
        }
      }
    });

    var temp = modal_drag_drop_image_({
      tag: "div",
      "class": "modal-upload-XML-body-drop",
      child: [{
        tag: "div",
        "class": "modal-upload-XML-body-drop-area",
        child: [{
          tag: "div",
          "class": "modal-upload-XML-body-drop-area-main",
          child: [{
            tag: "div",
            "class": ["modal-upload-XML-body-drop-area-main-form", "displayVisible"],
            props: {
              id: "drop-area"
            },
            child: [{
              tag: "div",
              "class": "modal-upload-XML-body-drop-area-main-form-content",
              child: [input, {
                tag: "button",
                "class": "modal-upload-XML-body-drop-area-main-form-button",
                props: {
                  innerHTML: "Chọn một hình ảnh để tải lên",
                  "for": "fileElem"
                },
                on: {
                  click: function click() {
                    input.click();
                  }
                }
              }, {
                tag: "p",
                "class": "modal-upload-XML-body-drop-area-main-form-tutorial",
                props: {
                  innerHTML: "Kéo thả hình ảnh vào đây"
                }
              }, {
                tag: "div",
                "class": "modal-upload-XML-body-drop-area-main-gallery",
                style: {
                  top: 0
                },
                props: {
                  id: "gallery"
                }
              }, {
                tag: "progress",
                "class": "modal-upload-XML-body-drop-area-main-process-bar",
                props: {
                  id: "progress-bar",
                  max: "100",
                  value: "0"
                }
              }]
            }, {
              tag: "div",
              "class": "modal-upload-XML-body-drop-save",
              child: [self.select, {
                tag: "div",
                "class": ["quantumWizButtonEl", "quantumWizButtonPaperbuttonEl", "quantumWizButtonPaperbuttonFlat", "quantumWizButtonPaperbuttonFlatColored", "quantumWizButtonPaperbutton2El2", "quantumWizDialogPaperdialogDialogButton"],
                style: {
                  marginLeft: "10px",
                  border: "1px solid rgb(169, 169, 169)",
                  width: "90px"
                },
                child: [{
                  tag: "span",
                  "class": "quantumWizButtonPaperbuttonContent",
                  child: [{
                    tag: "span",
                    "class": "quantumWizButtonPaperbuttonLabel",
                    props: {
                      innerHTML: "Hủy"
                    }
                  }]
                }],
                on: {
                  click: function click() {
                    self.functionClickCancel();
                    if (self.modal !== undefined) self.modal.parentNode.removeChild(self.modal);
                  }
                }
              }]
            }]
          }]
        }]
      }]
    });

    self.xnen = temp;
    return temp;
  },
  createModal: function createModal(DOMElement) {
    var functionClickDone = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};
    var functionClickCancel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};
    var self = this;
    var xnen = self.containGetImage();

    var pointControl = modal_drag_drop_image_({
      tag: "div",
      "class": ["modal-upload-XML-body-navigation-bar", "selected-modal"],
      child: [{
        tag: "div",
        "class": "modal-upload-XML-body-navigation-bar-button",
        props: {
          innerHTML: "Tải lên"
        }
      }],
      on: {
        click: function click() {
          if (self.me === this) return;
          if (self.me !== undefined) self.me.classList.remove("selected-modal");
          this.classList.add("selected-modal");
          self.me = this;
          xnen.setPage(0);
        }
      }
    });

    self.me = pointControl;
    self.modal = modal_drag_drop_image_({
      tag: "modal",
      child: [{
        tag: "div",
        "class": "modal-upload-XML",
        child: [{
          tag: "div",
          "class": "modal-upload-XML-header",
          child: [{
            tag: "div",
            "class": "modal-upload-XML-header-text",
            props: {
              innerHTML: "Chèn ảnh"
            }
          }, {
            tag: "i",
            "class": ["modal-upload-XML-header-icon-close", "material-icons"],
            props: {
              innerHTML: "close"
            },
            on: {
              click: function click() {
                self.modal.parentNode.removeChild(self.modal);
              }
            }
          }]
        }, {
          tag: "div",
          "class": "modal-upload-XML-body",
          child: [{
            tag: "div",
            "class": "modal-upload-XML-body-navigation",
            child: [pointControl]
          }, xnen]
        }]
      }]
    });
    DOMElement.appendChild(self.modal);
    self.functionClickDone = functionClickDone;
    self.functionClickCancel = functionClickCancel;
    self.createEvent();
    return self.modal;
  },
  createEvent: function createEvent() {
    var self = this;
    self.dropArea = document.getElementById("drop-area"); // Prevent default drag behaviors

    ["dragenter", "dragover", "dragleave", "drop"].forEach(function (eventName) {
      self.dropArea.addEventListener(eventName, self.preventDefaults, false);
      document.body.addEventListener(eventName, self.preventDefaults, false);
    }); // Highlight drop area when item is dragged over it

    ["dragenter", "dragover"].forEach(function (eventName) {
      self.dropArea.addEventListener(eventName, self.highlight, false);
    });
    ["dragleave", "drop"].forEach(function (eventName) {
      self.dropArea.addEventListener(eventName, self.unhighlight, false);
    }); // Handle dropped files

    self.dropArea.addEventListener("drop", function (e) {
      self.handleDrop(e, self);
    }, false);
    self.uploadProgress = [];
    self.progressBar = document.getElementById("progress-bar");
  },
  preventDefaults: function preventDefaults(e) {
    e.preventDefault();
    e.stopPropagation();
  },
  highlight: function highlight(e) {
    this.classList.add("highlight");
  },
  unhighlight: function unhighlight(e) {
    this.classList.remove("active");
  },
  handleDrop: function handleDrop(e, self) {
    var dt = e.dataTransfer;
    var files = dt.files;
    self.handleFiles(files, self);
  },
  initializeProgress: function initializeProgress(numFiles) {
    var self = this;
    self.progressBar.value = 0;
    self.uploadProgress = [];

    for (var i = numFiles; i > 0; i--) {
      self.uploadProgress.push(0);
    }
  },
  updateProgress: function updateProgress(fileNumber, percent, self) {
    self.uploadProgress[fileNumber] = percent;
    var total = self.uploadProgress.reduce(function (tot, curr) {
      return tot + curr;
    }, 0) / self.uploadProgress.length;
    console.debug("update", fileNumber, percent, total);
    self.progressBar.value = total;
  },
  handleFiles: function handleFiles(files, self) {
    files = _toConsumableArray(files);
    self.initializeProgress(files.length);

    for (var i = 0; i < files.length; i++) {
      self.uploadFile(files[i], i, self);
      self.previewFile(files[i], self);
    }
  },
  elementCreateByObject: function elementCreateByObject(el, object) {
    var mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
    var self = this;
    var marginAlign;
    var url, width, height, align;

    if (object.childNodes === undefined) {
      url = object.url;
      width = object.width + "px";
      height = object.height + "px";
      align = object.align;
    } else {
      url = self.getDataformObject(object, "value");

      for (var i = 0; i < object.childNodes.length; i++) {
        if (object.childNodes[i].tagName === "style") {
          width = xmlComponent.getDataformObject(object.childNodes[i], "width");
          height = xmlComponent.getDataformObject(object.childNodes[i], "height");
          align = xmlComponent.getDataformObject(object.childNodes[i], "align");
          break;
        }
      }
    }

    if (el.getElementsByClassName("max-width-image-resize").length === 0) {
      marginAlign = self.marginAlign();

      if (mode == 0) {
        marginAlign.classList.add("max-width-image-resize-edit");
        marginAlign.style.width = "100%";
      } else if (mode == 1) {
        marginAlign.classList.add("max-width-image-resize-padding");
        marginAlign.classList.add("max-width-image-resize-edit");
      } else if (mode == 2) {
        marginAlign.classList.add("max-width-image-resize-edit");
      } else if (mode == 3) {
        marginAlign.classList.add("margin-align-padding");
        marginAlign.classList.add("max-width-image-resize-edit");
      } else if (mode == 4) {
        marginAlign.classList.add("margin-align");
        marginAlign.classList.add("max-width-image-resize-edit");
      }

      el.appendChild(marginAlign);
    } else if (el.getElementsByClassName("max-width-image-resize").length === 1) marginAlign = el.getElementsByClassName("max-width-image-resize")[0];

    var menuProps = {
      items: [{
        text: "Canh trái",
        icon: "span.mdi.mdi-format-align-left",
        cmd: "align_left"
      }, {
        text: "Canh giữa",
        icon: "span.mdi.mdi-format-align-center",
        cmd: "align_center"
      }, {
        text: "Canh phải",
        icon: "span.mdi.mdi-format-align-right",
        cmd: "align_right"
      }, {
        text: "Xóa",
        icon: "span.mdi.mdi-delete",
        cmd: "delete"
      }]
    };

    var button = modal_drag_drop_image_({
      tag: "div",
      "class": ["freebirdFormeditorViewMediaEditMenuButton"],
      child: [{
        tag: "i",
        "class": ["freebirdFormeditorViewMediaEditMenuButtonContent", "material-icons", "icon-ceneter"],
        props: {
          innerHTML: "more_vert"
        }
      }]
    });

    var imgUrl = self.Image(url);

    var img = modal_drag_drop_image_({
      tag: "widthheightresizer",
      "class": ["image-autoresize-create"],
      child: [button, imgUrl],
      on: {
        sizechange: function sizechange(event) {}
      }
    });

    img.style.width = width;
    img.style.height = height;
    marginAlign.style.textAlign = align;
    absol.QuickMenu.showWhenClick(button, menuProps, [2], function (menuItem) {
      if (menuItem.cmd === "align_left") {
        img.parentNode.style.textAlign = "left";
      } else if (menuItem.cmd === "align_center") {
        img.parentNode.style.textAlign = "center";
      } else if (menuItem.cmd === "align_right") {
        img.parentNode.style.textAlign = "right";
      } else if (menuItem.cmd === "delete") {
        var parent = img.parentNode;
        img.parentNode.removeChild(img);
        if (parent.childNodes.length === 0) parent.parentNode.removeChild(parent);
        self.imgDelete.push(imgUrl.getAttribute("src"));
      }

      var el = img;

      while (!el.classList.contains("true-dame")) {
        el = el.parentNode;
      }

      el.click();
    });

    img.getValue = function () {
      var resultXML = "<content>";
      resultXML += "<type>image</type>";
      resultXML += "<style><width>" + img.style.width + "</width><height>" + img.style.height + "</height><align>" + img.parentNode.style.textAlign + "</align></style>";
      resultXML += "<value>" + imgUrl.getAttribute("src") + "</value>";
      resultXML += "</content>";
      return resultXML;
    };

    marginAlign.appendChild(img);
    return marginAlign;
  },
  elementPreviewByObject: function elementPreviewByObject(el, object) {
    var mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
    var self = this;
    var marginAlign;

    if (el.getElementsByClassName("max-width-image-resize").length === 0) {
      marginAlign = self.marginAlign();

      if (mode == 0) {
        marginAlign.classList.add("max-width-image-resize-edit");
        marginAlign.style.width = "100%";
      } else if (mode == 1) {
        marginAlign.classList.add("max-width-image-resize-padding");
        marginAlign.classList.add("max-width-image-resize-edit");
      } else if (mode == 2) {} else if (mode == 3) {
        marginAlign.classList.add("margin-align-padding");
      } else if (mode == 4) {
        marginAlign.classList.add("margin-align");
      }

      el.appendChild(marginAlign);
    } else if (el.getElementsByClassName("max-width-image-resize").length === 1) marginAlign = el.getElementsByClassName("max-width-image-resize")[0];

    var imgUrl = xmlComponent.Image(xmlComponent.getDataformObject(object, "value"));

    var img = modal_drag_drop_image_({
      tag: "widthheightresizer",
      "class": ["image-autoresize-create"],
      child: [imgUrl],
      on: {
        sizechange: function sizechange(event) {}
      }
    });

    img.getElementsByClassName("absol-width-height-resizer-anchor-bot-right")[0].style.display = "none";
    img.getElementsByClassName("absol-width-height-resizer-anchor-bot-left")[0].style.display = "none";
    img.getElementsByClassName("absol-width-height-resizer-anchor-top-right")[0].style.display = "none";
    img.getElementsByClassName("absol-width-height-resizer-anchor-top-left")[0].style.display = "none";
    img.classList.add("image-autoresize-preview");

    for (var i = 0; i < object.childNodes.length; i++) {
      if (object.childNodes[i].tagName === "style") {
        img.style.width = xmlComponent.getDataformObject(object.childNodes[i], "width");
        img.style.height = xmlComponent.getDataformObject(object.childNodes[i], "height");
        marginAlign.style.textAlign = xmlComponent.getDataformObject(object.childNodes[i], "align");
        break;
      }
    }

    marginAlign.appendChild(img);

    marginAlign.getValue = function () {
      var resultXML = "<content>";
      resultXML += "<type>image</type>";
      resultXML += "<style><width>" + img.style.width + "</width><height>" + img.style.height + "</height><align>" + img.parentNode.style.textAlign + "</align></style>";
      resultXML += "<value>" + imgUrl.getAttribute("src") + "</value>";
      resultXML += "</content>";
      return resultXML;
    };

    return marginAlign;
  },
  marginAlign: function marginAlign() {
    var temp = modal_drag_drop_image_({
      tag: "div",
      "class": "max-width-image-resize"
    });

    temp.getValue = function () {
      var resultXML = "";

      for (var i = 0; i < temp.childNodes.length; i++) {
        resultXML += temp.childNodes[i].getValue();
      }

      return resultXML;
    };

    return temp;
  },
  previewFile: function previewFile(file, self) {
    var reader = new FileReader();
    reader.readAsDataURL(file);

    reader.onloadend = function () {
      self.addImage(reader.result);
    };
  },
  addImage: function addImage(src) {
    var self = this;
    self.imgUrl = self.Image(src);

    var img = modal_drag_drop_image_({
      tag: "div",
      "class": "image-autoresize",
      style: {
        pointerEvents: "none",
        textAlign: "left"
      },
      child: [self.imgUrl],
      on: {
        sizechange: function sizechange(event) {}
      }
    });

    var parent = document.getElementById("gallery");
    parent.style.position = "relative";
    var value;
    var srcURL;

    for (var i = 0; i < parent.childNodes.length; i++) {
      srcURL = parent.childNodes[i].getElementsByClassName("full-size")[0].getAttribute("src");
      value = self.imgAll.indexOf(srcURL);

      if (i != -1) {
        self.imgAll.splice(value, 1);
      }
    }

    parent.clearChild();
    parent.appendChild(img);

    self.imgUrl.onload = function () {
      img.style.width = self.imgUrl.naturalWidth * (img.clientHeight / self.imgUrl.naturalHeight) + "px";
    };
  },
  uploadFile: function uploadFile(file, i, self) {
    self.updateProgress(i, 100, self);
    self.select.classList.remove("disable");
    if (!self.xnen.classList.contains("visible")) self.xnen.classList.add("visible"); // var url = "./php/upload/handle_file_upload.php";
    // var name =
    //   ("img_" + Math.random() + Math.random()).replace(/\./g, "") +
    //   file.name.slice(file.name.lastIndexOf("."));
    // var xhr = new XMLHttpRequest();
    // var formData = new FormData();
    // xhr.open("POST", url, true);
    // xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest");
    // // Update progress (can be used to show progress indicator)
    // xhr.upload.addEventListener("progress", function(e) {
    //   self.updateProgress(i, (e.loaded * 100.0) / e.total || 100, self);
    // });
    // xhr.addEventListener("readystatechange", function(e) {
    //   if (xhr.readyState == 4 && xhr.status == 200) {
    //     self.updateProgress(i, 100, self); // <- Add this
    //     // self.select.classList.remove("disable");
    //     if (!self.modal.classList.contains("visible"))
    //       self.modal.classList.add("visible");
    //     self.imgUrl.src = "./img/delete/" + name;
    //     self.imgAll.push("./img/delete/" + name);
    //     document.getElementById("gallery").style.position = "relative";
    //   } else if (xhr.readyState == 4 && xhr.status != 200) {
    //     // Error. Inform the user
    //   }
    // });
    // formData.append("upload_name", name);
    // formData.append("file", file);
    // xhr.send(formData);
  }
});
// EXTERNAL MODULE: ./css/ModuleView.css
var ModuleView = __webpack_require__(228);

// EXTERNAL MODULE: ./css/tablesort.css
var tablesort = __webpack_require__(230);

// CONCATENATED MODULE: ./js/component/HashTable.js
function HashTable(data) {
  this.hash = [];
  this.checkData = [];
  this.functionSetHash(data);
  this.data = data;
  return this;
}

HashTable.prototype.functionSetHash = function (data) {
  var dataParent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
  var hash = this.hash;
  var checkData = this.checkData;
  var value;
  var object;
  var tempCharater = [];

  for (var m = 0; m < data.length; m++) {
    object = data[m];

    for (var i = 0; i < object.length; i++) {
      if (object[i].value !== undefined) value = object[i].value;else if (typeof object[i] === "string") value = object[i];else value = "";
      var stringCheck = m + dataParent;

      for (var j = 0; j < value.length; j++) {
        tempCharater = value[j].toLocaleLowerCase();

        if (hash[tempCharater] === undefined) {
          hash[tempCharater] = [];
        }

        if (hash[tempCharater][stringCheck] == undefined) hash[tempCharater][stringCheck] = [];
        if (hash[tempCharater][stringCheck][i] === undefined) hash[tempCharater][stringCheck][i] = [];
        hash[tempCharater][stringCheck][i].push(j);
      }

      if (data[m].getRowMerge) checkData[stringCheck] = data[m].getRowMerge;else checkData[stringCheck] = [data[m]];
    }

    if (data[m].child !== undefined) {
      this.functionSetHash(data[m].child, "_" + m + dataParent);
    }
  }
};

HashTable.prototype.hashVisiableAll = function (arr, isFilter) {
  arr.sort(function (a, b) {
    if (a.oldIndex === undefined) {
      if (b.oldIndex === undefined) return 0;
      return -1;
    }

    if (b.oldIndex === undefined) return 1;

    if (a.oldIndex < b.oldIndex) {
      return -1;
    }

    if (a.oldIndex > b.oldIndex) {
      return 1;
    }

    return 0;
  });

  for (var i = 0; i < arr.length; i++) {
    if (isFilter) {
      if (arr[i].isFilter === true) arr[i].visiable = true;else arr[i].visiable = false;
    } else if (arr[i].isFilter === undefined) arr[i].visiable = true;else arr[i].visiable = false;

    arr[i].isSearch = undefined;

    if (arr[i].child && arr[i].child.length > 0) {
      this.hashVisiableAll(arr[i].child, isFilter);
    }
  }
};

HashTable.prototype.getKey = function (key, index) {
  key = key.trim();

  if (key === "") {
    this.hashVisiableAll(this.data, this.data.isFilter);
    this.data.isSearch = undefined;
    return;
  }

  var check = [];
  this.data.updateVisible = true;
  var rowElement, objectElement;
  this.data.isSearch = true;

  for (var i = 0; i < key.length; i++) {
    var arrCharacter = this.hash[key[i].toLocaleLowerCase()];

    Loop1: for (var row in arrCharacter) {
      if (index === undefined) rowElement = arrCharacter[row];else if (arrCharacter[row][index] !== undefined) rowElement = [arrCharacter[row][index]];else continue;
      if (check[row] === undefined) check[row] = [];

      Loop2: for (var column in rowElement) {
        if (check[row][column] === undefined && i !== 0) {
          continue;
        }

        objectElement = rowElement[column];
        if (Array.isArray(objectElement)) for (var j = 0; j < objectElement.length; j++) {
          if (check[row][column] === undefined) {
            check[row][column] = {
              index: objectElement[j]
            };
            check[row][column].indexCharacter = key.length - 1;
            check[row][column].lastCheck = [objectElement];
            check[row][column].lastIndexCheck = [];
            check[row][column].lastIndex = objectElement[j];
            var temp = key.length - (objectElement[j] + "").length;
            var tempString = "";

            for (var x = 0; x < temp; x++) {
              tempString += "0";
            }

            check[row][column].tempExactly = parseFloat("0." + tempString + objectElement[j]);
          } else {
            if (objectElement[j] > check[row][column].index) {
              if (check[row][column].indexCharacter !== key.length - i) {
                delete check[row][column];
                continue Loop2;
              } else {
                var prevCheck = objectElement[j];
                var currentIndex = check[row][column].index;
                var tempIndex = check[row][column].indexCharacter;
                var tempExactly = check[row][column].tempExactly + (prevCheck - currentIndex);
                var lastCheck = check[row][column].lastCheck;
                var lastIndexCheck = check[row][column].lastIndexCheck; // prevCheck = currentIndex;

                var tempDistance = 0;

                for (var m = lastIndexCheck.length - 1; m >= 0; m--) {
                  var itemCheck = lastCheck[m + 1];
                  var itemIndexCheck = 1;
                  var lastIndex = lastIndexCheck[m];
                  var oldIndex = lastIndexCheck[m];

                  for (var n = itemIndexCheck; n < itemCheck.length; n++) {
                    if (itemCheck[n] > prevCheck) break;
                    lastIndex = itemCheck[n];
                  }

                  prevCheck = lastIndex;

                  if (lastIndex - oldIndex > 0) {
                    tempExactly -= lastIndex - oldIndex - tempDistance;
                    tempDistance += lastIndex - oldIndex;
                    lastIndexCheck[m] = lastIndex;

                    if (m == lastIndexCheck.length - 1) {
                      var temp = key.length - (lastIndex + "").length;
                      var tempString = "";

                      for (var x = 0; x < temp; x++) {
                        tempString += "0";
                      }

                      tempExactly = parseInt(tempExactly) + parseFloat("0." + tempString + lastIndex);
                    }
                  } else break;
                }

                lastCheck.unshift(objectElement);
                lastIndexCheck.unshift(check[row][column].lastIndex);
                check[row][column] = {
                  index: objectElement[j]
                };
                check[row][column].lastCheck = lastCheck;
                check[row][column].lastIndexCheck = lastIndexCheck;
                check[row][column].lastIndex = objectElement[j];
                check[row][column].indexCharacter = tempIndex - 1;
                check[row][column].tempExactly = tempExactly;
              }
            } else {
              continue;
            }
          }

          if (check[row][column].indexCharacter == 0) {
            var arrParent = row.split("_");
            var k = arrParent.length - 1;
            var stringCheck = arrParent[k];
            var charCode = stringCheck.charCodeAt(0);

            while (k >= 0) {
              if (this.data.isFilter) {
                var object = this.checkData[stringCheck];

                for (var l = 0; l < object.length; l++) {
                  if (object[l].isFilter === true) {
                    object[l].confirm = true;
                    object[l].isComplete = true;
                    var tempExactly = check[row][column].tempExactly + charCode / 1000000000;
                    if (object[l].exactly === undefined) object[l].exactly = tempExactly;else if (object[l].exactly > tempExactly) object[l].exactly = tempExactly;
                  } else object[l].confirm = undefined;
                }
              } else {
                var object = this.checkData[stringCheck];

                for (var l = 0; l < object.length; l++) {
                  if (object[l].isFilter === undefined) {
                    object[l].confirm = true;
                    object[l].isComplete = true;
                    var tempExactly = check[row][column].tempExactly + charCode / 1000000000;
                    if (object[l].exactly === undefined) object[l].exactly = tempExactly;else if (object[l].exactly > tempExactly) object[l].exactly = tempExactly;
                  } else object[l].confirm = undefined;
                }
              }

              var object = this.checkData[stringCheck];

              for (var l = 0; l < object.length; l++) {
                object[l].isSearch = true;
              }

              charCode += arrParent[k].charCodeAt(0);
              stringCheck = arrParent[--k] + "_" + stringCheck;
            }

            continue Loop1;
          } else {
            var object = this.checkData[row];

            for (var l = 0; l < object.length; l++) {
              if (object[l].isComplete !== true) {
                object[l].isSearch = undefined;
                object[l].confirm = undefined;
              }
            }

            continue Loop2;
          }
        }
      }
    }
  }
};
// CONCATENATED MODULE: ./js/component/HashTableFilter.js
function HashTableFilter(data) {
  this.hash = [];
  this.data = data;
  this.check = [];
  this.functionSetHash(data);
  this.indexCount = [];
  this.lastIndex = [];
  this.lastKey = [];
  this.lastIndexFilter = [];
  this.functionCheck = [];
  return this;
}

HashTableFilter.prototype.functionSetHash = function (data) {
  var dataParent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
  var hash = this.hash;
  var value;
  var object;

  for (var m = 0; m < data.length; m++) {
    object = data[m];
    var stringCheck = m + dataParent;

    if (this.check[stringCheck] == undefined) {
      this.check[stringCheck] = [];
      this.check[stringCheck].data = object.getRowMerge;
    }

    for (var i = 0; i < object.length; i++) {
      if (object[i].value !== undefined) value = object[i].value;else if (typeof object[i] === "string") value = object[i];else value = "";

      if (Array.isArray(value)) {
        for (var j = 0; j < value.length; j++) {
          if (hash[i] === undefined) hash[i] = [];
          if (hash[i][value[j]] === undefined) hash[i][value[j]] = [];
          hash[i][value[j]].push(stringCheck);
        }
      } else {
        if (hash[i] === undefined) hash[i] = [];
        if (hash[i][value] === undefined) hash[i][value] = [];
        hash[i][value].push(stringCheck);
      }

      if (data[m].child !== undefined) {
        this.functionSetHash(data[m].child, "_" + m + dataParent);
      }
    }
  }
};

HashTableFilter.prototype.getKey = function (key, index) {
  var hash = this.hash;
  this.lastKey[index] = key;

  if (key == 0) {
    if (this.lastIndex[index] !== undefined) for (var i = 0; i < this.lastIndex[index].length; i++) {
      this.lastIndex[index][i][index] = undefined;
    }
    delete this.indexCount[index];
    var countAll = this.indexCount.reduce(function (a, b) {
      return a + b;
    }, 0);

    if (countAll > 0) {
      for (var tempx in this.indexCount) {
        index = parseInt(tempx);
        key = this.lastKey[index];
        break;
      }
    } else {
      for (var i = 0; i < this.data.length; i++) {
        if (this.data.isSearch) {
          if (this.data[i].isSearch === true) this.data[i].visiable = true;
        } else if (this.data[i].isSearch === undefined) this.data[i].visiable = true;

        this.data[i].isFilter = undefined;
      }

      this.data.isFilter = undefined;
      return;
    }
  }

  this.data.updateVisible = true;
  this.indexCount[index] = 1;
  this.data.isFilter = true;
  var countAll = this.indexCount.reduce(function (a, b) {
    return a + b;
  }, 0);
  if (this.lastIndex[index] !== undefined) for (var i = 0; i < this.lastIndex[index].length; i++) {
    this.lastIndex[index][i][index] = undefined;
  }
  this.lastIndex[index] = [];

  for (var i = 0; i < this.lastIndexFilter.length; i++) {
    this.lastIndexFilter[i].isFilter = undefined;
  }

  this.lastIndexFilter = [];
  if (hash[index] !== undefined && hash[index][key] !== undefined) for (var i = 0; i < hash[index][key].length; i++) {
    var checkRow = this.check[hash[index][key][i]];
    checkRow[index] = true;
    this.lastIndex[index].push(checkRow);
    var countIn = 0;

    for (var param in checkRow) {
      if (checkRow[param] === true) {
        countIn++;
      }
    }

    if (countIn == countAll) {
      if (this.data.isSearch) {
        for (var k = 0; k < checkRow.data.length; k++) {
          if (checkRow.data[k].isSearch === true) checkRow.data[k].confirm = true;
          checkRow.data[k].isFilter = true;
          checkRow.data[k].isComplete = true;
        }
      } else {
        for (var k = 0; k < checkRow.data.length; k++) {
          if (checkRow.data[k].isComplete === true) continue;
          if (checkRow.data[k].isSearch === undefined) checkRow.data[k].confirm = true;
          checkRow.data[k].isFilter = true;
          checkRow.data[k].isComplete = true;
        }
      }

      this.lastIndexFilter.push(checkRow);
    } else {
      for (var k = 0; k < checkRow.data.length; k++) {
        if (checkRow.data[k].isComplete !== true) {
          checkRow.data[k].isFilter = undefined;
          checkRow.data[k].confirm = undefined;
        }
      }
    }
  }
};
// CONCATENATED MODULE: ./js/component/slip.js
var _Slip$prototype;

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/*
    Slip - swiping and reordering in lists of elements on touch screens, no fuss.

    Fires these events on list elements:

        • slip:swipe
            When swipe has been done and user has lifted finger off the screen.
            If you execute event.preventDefault() the element will be animated back to original position.
            Otherwise it will be animated off the list and set to display:none.

        • slip:beforeswipe
            Fired before first swipe movement starts.
            If you execute event.preventDefault() then element will not move at all.

        • slip:cancelswipe
            Fired after the user has started to swipe, but lets go without actually swiping left or right.

        • slip:animateswipe
            Fired while swiping, before the user has let go of the element.
            event.detail.x contains the amount of movement in the x direction.
            If you execute event.preventDefault() then the element will not move to this position.
            This can be useful for saturating the amount of swipe, or preventing movement in one direction, but allowing it in the other.

        • slip:reorder
            Element has been dropped in new location. event.detail contains the following:
                • insertBefore: DOM node before which element has been dropped (null is the end of the list). Use with node.insertBefore().
                • spliceIndex: Index of element before which current element has been dropped, not counting the element iself.
                               For use with Array.splice() if the list is reflecting objects in some array.
                • originalIndex: The original index of the element before it was reordered.

        • slip:beforereorder
            When reordering movement starts.
            Element being reordered gets class `slip-reordering`.
            If you execute event.preventDefault() then the element will not move at all.

        • slip:beforewait
            If you execute event.preventDefault() then reordering will begin immediately, blocking ability to scroll the page.

        • slip:tap
            When element was tapped without being swiped/reordered. You can check `event.target` to limit that behavior to drag handles.


    Usage:

        CSS:
            You should set `user-select:none` (and WebKit prefixes, sigh) on list elements,
            otherwise unstoppable and glitchy text selection in iOS will get in the way.

            You should set `overflow-x: hidden` on the container or body to prevent horizontal scrollbar
            appearing when elements are swiped off the list.


        var list = document.querySelector('ul#slippylist');
        new Slip(list);

        list.addEventListener('slip:beforeswipe', function(e) {
            if (shouldNotSwipe(e.target)) e.preventDefault();
        });

        list.addEventListener('slip:swipe', function(e) {
            // e.target swiped
            if (thatWasSwipeToRemove) {
                e.target.parentNode.removeChild(e.target);
            } else {
                e.preventDefault(); // will animate back to original position
            }
        });

        list.addEventListener('slip:beforereorder', function(e) {
            if (shouldNotReorder(e.target)) e.preventDefault();
        });

        list.addEventListener('slip:reorder', function(e) {
            // e.target reordered.
            if (reorderedOK) {
                e.target.parentNode.insertBefore(e.target, e.detail.insertBefore);
            } else {
                e.preventDefault();
            }
        });

    Requires:
        • Touch events
        • CSS transforms
        • Function.bind()

    Caveats:
        • Elements must not change size while reordering or swiping takes place (otherwise it will be visually out of sync)
*/

/*! @license
    Slip.js 1.2.0

    © 2014 Kornel Lesiński <kornel@geekhood.net>. All rights reserved.

    Redistribution and use in source and binary forms, with or without modification,
    are permitted provided that the following conditions are met:

    1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

    2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and
       the following disclaimer in the documentation and/or other materials provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
    INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
    DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
    SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
    SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
    WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
    USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
var accessibility = {
  // Set values to false if you don't want Slip to manage them
  container: {
    ariaRole: "listbox",
    tabIndex: 0,
    focus: false // focuses after drop

  },
  items: {
    ariaRole: "option",
    // If "option" flattens items, try "group": https://www.marcozehe.de/2013/03/08/sometimes-you-have-to-use-illegal-wai-aria-to-make-stuff-work/
    tabIndex: -1,
    // 0 will make every item tabbable, which isn't always useful
    focus: false // focuses when dragging

  }
};
var damnYouChrome = /Chrome\/[3-5]/.test(navigator.userAgent); // For bugs that can't be programmatically detected :( Intended to catch all versions of Chrome 30-40

var needsBodyHandlerHack = damnYouChrome; // Otherwise I _sometimes_ don't get any touchstart events and only clicks instead.

/* When dragging elements down in Chrome (tested 34-37) dragged element may appear below stationary elements.
   Looks like WebKit bug #61824, but iOS Safari doesn't have that problem. */

var compositorDoesNotOrderLayers = damnYouChrome; // -webkit-mess

var testElementStyle = document.createElement('div').style;
var transitionJSPropertyName = "transition" in testElementStyle ? "transition" : "webkitTransition";
var transformJSPropertyName = "transform" in testElementStyle ? "transform" : "webkitTransform";
var transformCSSPropertyName = transformJSPropertyName === "webkitTransform" ? "-webkit-transform" : "transform";
var userSelectJSPropertyName = "userSelect" in testElementStyle ? "userSelect" : "webkitUserSelect";
testElementStyle[transformJSPropertyName] = 'translateZ(0)';
var hwLayerMagicStyle = testElementStyle[transformJSPropertyName] ? 'translateZ(0) ' : '';
var hwTopLayerMagicStyle = testElementStyle[transformJSPropertyName] ? 'translateZ(1px) ' : '';
testElementStyle = null;
var globalInstances = 0;
var attachedBodyHandlerHack = false;

var nullHandler = function nullHandler() {};

function Slip(container, options) {
  if ('string' === typeof container) container = document.querySelector(container);
  if (!container || !container.addEventListener) throw new Error("Please specify DOM node to attach to");
  if (!this || this === window) return new Slip(container, options);
  this.options = options = options || {};
  this.options.keepSwipingPercent = options.keepSwipingPercent || 0;
  this.options.minimumSwipeVelocity = options.minimumSwipeVelocity || 1;
  this.options.minimumSwipeTime = options.minimumSwipeTime || 110;
  this.options.ignoredElements = options.ignoredElements || [];
  if (!Array.isArray(this.options.ignoredElements)) throw new Error("ignoredElements must be an Array"); // Functions used for as event handlers need usable `this` and must not change to be removable

  this.cancel = this.setState.bind(this, this.states.idle);
  this.onTouchStart = this.onTouchStart.bind(this);
  this.onTouchMove = this.onTouchMove.bind(this);
  this.onTouchEnd = this.onTouchEnd.bind(this);
  this.onMouseDown = this.onMouseDown.bind(this);
  this.onMouseMove = this.onMouseMove.bind(this);
  this.onMouseUp = this.onMouseUp.bind(this);
  this.onMouseLeave = this.onMouseLeave.bind(this);
  this.onSelection = this.onSelection.bind(this);
  this.onContainerFocus = this.onContainerFocus.bind(this);
  this.setState(this.states.idle);
  this.attach(container);
}

function getTransform(node) {
  var transform = node.style[transformJSPropertyName];

  if (transform) {
    return {
      value: transform,
      original: transform
    };
  }

  if (window.getComputedStyle) {
    var style = window.getComputedStyle(node).getPropertyValue(transformCSSPropertyName);
    if (style && style !== 'none') return {
      value: style,
      original: ''
    };
  }

  return {
    value: '',
    original: ''
  };
}

function findIndex(target, nodes) {
  var originalIndex = 0;
  var listCount = 0;

  for (var i = 0; i < nodes.length; i++) {
    if (nodes[i].nodeType === 1) {
      listCount++;

      if (nodes[i] === target.node) {
        originalIndex = listCount - 1;
      }
    }
  }

  return originalIndex;
} // All functions in states are going to be executed in context of Slip object


Slip.prototype = (_Slip$prototype = {
  container: null,
  options: {},
  state: null,
  target: null,
  // the tapped/swiped/reordered node with height and backed up styles
  usingTouch: false,
  // there's no good way to detect touchscreen preference other than receiving a touch event (really, trust me).
  mouseHandlersAttached: false,
  startPosition: null,
  // x,y,time where first touch began
  latestPosition: null,
  // x,y,time where the finger is currently
  previousPosition: null,
  // x,y,time where the finger was ~100ms ago (for velocity calculation)
  startPositionAverage: null,
  canPreventScrolling: false,
  states: {
    idle: function idleStateInit() {
      this.removeMouseHandlers();

      if (this.target) {
        this.target.node.style.willChange = ''; // this.target = null;
      }

      this.usingTouch = false;
      return {
        allowTextSelection: true
      };
    },
    undecided: function undecidedStateInit() {
      this.target.height = this.target.node.offsetHeight;
      this.target.node.style.willChange = transformCSSPropertyName;
      this.target.node.style[transitionJSPropertyName] = '';

      if (!this.dispatch(this.target.originalTarget, 'beforewait')) {
        if (this.dispatch(this.target.originalTarget, 'beforereorder')) {
          this.setState(this.states.reorder);
        }
      } else {
        var holdTimer = setTimeout(function () {
          var move = this.getAbsoluteMovement();

          if (this.canPreventScrolling && move.x < 15 && move.y < 25) {
            if (this.dispatch(this.target.originalTarget, 'beforereorder')) {
              this.setState(this.states.reorder);
            }
          }
        }.bind(this), 300);
      }

      return {
        leaveState: function leaveState() {
          clearTimeout(holdTimer);
        },
        onMove: function onMove() {
          var move = this.getAbsoluteMovement();

          if (move.x > 20 && move.y < Math.max(100, this.target.height)) {
            if (this.dispatch(this.target.originalTarget, 'beforeswipe', {
              directionX: move.directionX,
              directionY: move.directionY
            })) {
              this.setState(this.states.swipe);
              return false;
            } else {
              this.setState(this.states.idle);
            }
          }

          if (move.y > 20) {
            this.setState(this.states.idle);
          } // Chrome likes sideways scrolling :(


          if (move.x > move.y * 1.2) return false;
        },
        onLeave: function onLeave() {
          this.setState(this.states.idle);
        },
        onEnd: function onEnd() {
          var allowDefault = this.dispatch(this.target.originalTarget, 'tap');
          this.setState(this.states.idle);
          return allowDefault;
        }
      };
    },
    swipe: function swipeStateInit() {
      var swipeSuccess = false;
      var swipeAverage = false;
      var container = this.container;
      var originalIndex = findIndex(this.target, this.container.childNodes);
      this.target.node.originalIndex = originalIndex;
      container.classList.add('slip-swiping-container');

      function removeClass() {
        container.classList.remove('slip-swiping-container');
      }

      this.target.height = this.target.node.offsetHeight;
      return {
        leaveState: function leaveState() {
          if (swipeSuccess) {
            this.animateSwipe(function (target) {
              target.node.style[transformJSPropertyName] = target.baseTransform.original;
              target.node.style[transitionJSPropertyName] = '';

              if (this.dispatch(target.node, 'afterswipe')) {
                removeClass();
                return true;
              } else {
                this.animateToZeroHidden(undefined, target);
              }
            }.bind(this));
          } else {
            if (swipeAverage) this.animateToAverage(removeClass);else this.animateToZeroHidden(removeClass);
          }
        },
        onMove: function onMove() {
          var delta = 0;
          if (this.target.node.startPositionAverage !== undefined) delta = this.target.node.startPositionAverage;
          var move = this.getTotalMovementAvarage(delta);

          if (Math.abs(move.y) < this.target.height + 20) {
            if (this.dispatch(this.target.node, 'animateswipe', {
              x: move.x,
              originalIndex: originalIndex
            })) {
              if (true) {
                this.target.node.style[transformJSPropertyName] = 'translate(' + move.x + 'px,0) ' + hwLayerMagicStyle;

                if (this.target.node.hiddenButtonRight !== undefined) {
                  var hiddenButtonRight = this.target.node.hiddenButtonRight;
                  hiddenButtonRight.style["height"] = this.target.node.offsetHeight + "px";
                  hiddenButtonRight.style[transformJSPropertyName] = 'translate(' + -move.x + 'px,0) ' + hwLayerMagicStyle;
                  if (-move.x > 0) hiddenButtonRight.style["width"] = -move.x + "px";
                  var tempElement = hiddenButtonRight.childNodes[0].childNodes[hiddenButtonRight.childNodes[0].childNodes.length - 1];
                  var lastWidth;

                  if (tempElement !== undefined) {
                    if (tempElement.classList.contains("button-hidden-swipe-activeAll-width")) lastWidth = parseInt(tempElement.style.maxWidth);else lastWidth = tempElement.clientWidth;

                    if (hiddenButtonRight.offsetWidth > hiddenButtonRight.childNodes[0].offsetWidth + lastWidth || hiddenButtonRight.childNodes[0].childNodes.length == 1 && -move.x > 0) {
                      if (tempElement !== undefined && !tempElement.classList.contains("button-hidden-swipe-activeAll-width")) {
                        tempElement.classList.add("button-hidden-swipe-activeAll-width");
                      }
                    } else {
                      if (tempElement !== undefined && tempElement.classList.contains("button-hidden-swipe-activeAll-width")) {
                        tempElement.classList.remove("button-hidden-swipe-activeAll-width");
                      }
                    }
                  }
                }
              } else { var lastWidth, tempElement, hiddenButtonLeft; }
            }

            return false;
          } else {
            this.dispatch(this.target.node, 'cancelswipe');
            this.setState(this.states.idle);
          }
        },
        onLeave: function onLeave() {
          this.state.onEnd.call(this);
        },
        onEnd: function onEnd() {
          var hiddenButtonRight = this.target.node.hiddenButtonRight;
          var tempElement;
          if (hiddenButtonRight !== undefined) tempElement = hiddenButtonRight.childNodes[0].childNodes[hiddenButtonRight.childNodes[0].childNodes.length - 1];
          var delta = 0;
          if (this.target.node.startPositionAverage != undefined && this.target.node.startPositionAverage > 0) delta = this.target.node.startPositionAverage;
          var move = this.getAbsoluteMovementAvarage(delta);
          var swiped = false;

          if (tempElement !== undefined && tempElement.classList.contains("button-hidden-swipe-activeAll-width")) {
            var swiped = true;
          } else {
            var velocity = (move.x - delta) / move.time; // How far out has the item been swiped?

            var swipedPercent = Math.abs((this.startPosition.x - this.previousPosition.x) / this.container.clientWidth) * 100;

            if (tempElement !== undefined) {
              // console.log(move.x,tempElement.childNodes[0])
              if (move.x > parseInt(tempElement.childNodes[0].offsetWidth) * hiddenButtonRight.childNodes[0].childNodes.length && move.directionX == "left") swipeAverage = true;
            } else {
              if (delta > 0) swiped = false;else var swiped = velocity > this.options.minimumSwipeVelocity && move.time > this.options.minimumSwipeTime || this.options.keepSwipingPercent && swipedPercent > this.options.keepSwipingPercent;
            }
          }

          if (swiped) {
            if (this.dispatch(this.target.node, 'swipe', {
              direction: move.directionX,
              originalIndex: originalIndex
            })) {
              swipeSuccess = true; // can't animate here, leaveState overrides anim
            }
          } else {
            this.dispatch(this.target.node, 'cancelswipe');
          }

          this.setState(this.states.idle);
          return !swiped;
        }
      };
    },
    reorder: function reorderStateInit() {
      if (this.target.node.focus && accessibility.items.focus) {
        this.target.node.focus();
      }

      this.target.height = this.target.node.offsetHeight;
      var nodes;

      if (this.options.ignoredElements.length) {
        var container = this.container;
        var query = container.tagName.toLowerCase();

        if (container.getAttribute('id')) {
          query = '#' + container.getAttribute('id');
        } else if (container.classList.length) {
          query += '.' + container.getAttribute('class').replace(' ', '.');
        }

        query += ' > ';
        this.options.ignoredElements.forEach(function (selector) {
          query += ':not(' + selector + ')';
        });

        try {
          nodes = container.parentNode.querySelectorAll(query);
        } catch (err) {
          if (err instanceof DOMException && err.name === 'SyntaxError') throw new Error('ignoredElements you specified contain invalid query');else throw err;
        }
      } else {
        nodes = this.container.childNodes;
      }

      var originalIndex = findIndex(this.target, nodes);
      var mouseOutsideTimer;
      var zero = this.target.node.offsetTop + this.target.height / 2;
      var otherNodes = [];
      var element = this.target.node;

      if (element.childrenNodes.length != 0) {
        element.setDisPlayNone();
      }

      if (element.elementParent.tagName == "DIV") {
        element.minDrag = element.elementParent.headerTable.offsetHeight;
      } else element.minDrag = element.elementParent.offsetTop + element.elementParent.offsetHeight;

      if (element.elementParent.tagName == "DIV") {
        element.maxDrag = element.elementParent.childNodes[0].offsetHeight - element.offsetHeight;
      } else element.maxDrag = element.elementParent.offsetTop + element.elementParent.getHeightChild();

      for (var i = 0; i < nodes.length; i++) {
        if (nodes[i].nodeType != 1 || nodes[i] === this.target.node) continue;
        var t = nodes[i].offsetTop;
        nodes[i].style[transitionJSPropertyName] = transformCSSPropertyName + ' 0.2s ease-in-out';
        nodes[i].transformObject = {
          node: nodes[i],
          baseTransform: getTransform(nodes[i]),
          pos: t + (t < zero ? nodes[i].offsetHeight : 0) - zero
        };
        otherNodes.push(nodes[i].transformObject);
      }

      this.target.node.classList.add('slip-reordering'); // this.target.node.style.zIndex = '99999';

      this.target.node.style[userSelectJSPropertyName] = 'none';

      if (compositorDoesNotOrderLayers) {
        // Chrome's compositor doesn't sort 2D layers
        this.container.style.webkitTransformStyle = 'preserve-3d';
      }

      function onChangeChild(arr, text) {
        for (var i = 0; i < arr.length; i++) {
          arr[i].style[transformJSPropertyName] = text;

          if (arr[i].childrenNodes.length !== 0) {
            onChangeChild(arr[i].childrenNodes, text);
          }
        }
      }

      function onMove() {
        /*jshint validthis:true */
        var self = this;
        this.updateScrolling();

        if (mouseOutsideTimer) {
          // don't care where the mouse is as long as it moves
          clearTimeout(mouseOutsideTimer);
          mouseOutsideTimer = null;
        }

        var move = this.getTotalMovement();
        if (this.target.node.offsetTop + move.y < this.target.node.minDrag || this.target.node.offsetTop + move.y > this.target.node.maxDrag) return;
        this.target.node.style[transformJSPropertyName] = 'translate(0,' + move.y + 'px) ' + hwTopLayerMagicStyle + this.target.baseTransform.value;
        this.target.node.moveY = move;
        var height = this.target.height;
        this.target.node.elementParent.childrenNodes.forEach(function (o) {
          // o = o.transformObject;
          if (self.target.node !== o) {
            o = o.transformObject;
            var off = 0;

            if (o.pos < 0 && move.y < 0 && o.pos > move.y) {
              off = height;
            } else if (o.pos > 0 && move.y > 0 && o.pos < move.y) {
              off = -height;
            } // FIXME: should change accelerated/non-accelerated state lazily


            var transform = off ? 'translate(0,' + off + 'px) ' + hwLayerMagicStyle + o.baseTransform.value : o.baseTransform.original;

            if (o.node.style[transformJSPropertyName] != transform) {
              o.node.style[transformJSPropertyName] = transform;

              if (o.node.childrenNodes.length != 0) {
                var arr = o.node.childrenNodes;
                onChangeChild(arr, transform);
              }
            }
          }
        });
        return false;
      }

      onMove.call(this);
      return {
        leaveState: function leaveState() {
          if (mouseOutsideTimer) clearTimeout(mouseOutsideTimer);

          if (compositorDoesNotOrderLayers) {
            this.container.style.webkitTransformStyle = '';
          }

          if (this.container.focus && accessibility.container.focus) {
            this.container.focus();
          }

          this.target.node.classList.remove('slip-reordering');
          this.target.node.style[userSelectJSPropertyName] = '';
          this.animateToZero(function (target) {
            target.node.style.zIndex = '';
          });
          otherNodes.forEach(function (o) {
            o.node.style[transformJSPropertyName] = o.baseTransform.original;
            o.node.style[transitionJSPropertyName] = ''; // FIXME: animate to new position
          });
        },
        onMove: onMove,
        onLeave: function onLeave() {
          // don't let element get stuck if mouse left the window
          // but don't cancel immediately as it'd be annoying near window edges
          if (mouseOutsideTimer) clearTimeout(mouseOutsideTimer);
          mouseOutsideTimer = setTimeout(function () {
            mouseOutsideTimer = null;
            this.cancel();
          }.bind(this), 700);
        },
        onEnd: function onEnd() {
          var move = this.target.node.moveY;
          var i, spliceIndex;
          var arr = this.target.node.elementParent.childrenNodes;

          if (move === undefined || move.y === undefined) {
            this.setState(this.states.idle);
            return false;
          }

          if (move.y < 0) {
            for (i = 0; i < arr.length; i++) {
              if (arr[i].transformObject !== undefined && arr[i].transformObject.pos > move.y) {
                break;
              }
            }

            spliceIndex = i;
          } else {
            for (i = arr.length - 1; i >= 0; i--) {
              if (arr[i].transformObject !== undefined && arr[i].transformObject.pos < move.y) {
                break;
              }
            }

            spliceIndex = i + 1;
          }

          if (spliceIndex == originalIndex) {
            this.setState(this.states.idle);
            return false;
          }

          this.dispatch(this.target.node, 'reorder', {
            spliceIndex: spliceIndex,
            originalIndex: originalIndex,
            insertBefore: arr[spliceIndex] ? arr[spliceIndex] : null
          });
          this.setState(this.states.idle);
          return false;
        }
      };
    }
  },
  attach: function attach(container) {
    globalInstances++;
    if (this.container) this.detach(); // In some cases taps on list elements send *only* click events and no touch events. Spotted only in Chrome 32+
    // Having event listener on body seems to solve the issue (although AFAIK may disable smooth scrolling as a side-effect)

    if (!attachedBodyHandlerHack && needsBodyHandlerHack) {
      attachedBodyHandlerHack = true;
      document.body.addEventListener('touchstart', nullHandler, false);
    }

    this.container = container; // Accessibility

    if (false !== accessibility.container.tabIndex) {
      this.container.tabIndex = accessibility.container.tabIndex;
    }

    if (accessibility.container.ariaRole) {
      this.container.setAttribute('aria-role', accessibility.container.ariaRole);
    }

    this.setChildNodesAriaRoles();
    this.container.addEventListener('focus', this.onContainerFocus, false);
    this.otherNodes = []; // selection on iOS interferes with reordering

    document.addEventListener("selectionchange", this.onSelection, false); // cancel is called e.g. when iOS detects multitasking gesture

    this.container.addEventListener('touchcancel', this.cancel, false);
    this.container.addEventListener('touchstart', this.onTouchStart, false);
    this.container.addEventListener('touchmove', this.onTouchMove, false);
    this.container.addEventListener('touchend', this.onTouchEnd, false);
    this.container.addEventListener('mousedown', this.onMouseDown, false); // mousemove and mouseup are attached dynamically
  },
  detach: function detach() {
    this.cancel();
    this.container.removeEventListener('mousedown', this.onMouseDown, false);
    this.container.removeEventListener('touchend', this.onTouchEnd, false);
    this.container.removeEventListener('touchmove', this.onTouchMove, false);
    this.container.removeEventListener('touchstart', this.onTouchStart, false);
    this.container.removeEventListener('touchcancel', this.cancel, false);
    document.removeEventListener("selectionchange", this.onSelection, false);

    if (false !== accessibility.container.tabIndex) {
      this.container.removeAttribute('tabIndex');
    }

    if (accessibility.container.ariaRole) {
      this.container.removeAttribute('aria-role');
    }

    this.unSetChildNodesAriaRoles();
    globalInstances--;

    if (!globalInstances && attachedBodyHandlerHack) {
      attachedBodyHandlerHack = false;
      document.body.removeEventListener('touchstart', nullHandler, false);
    }
  },
  setState: function setState(newStateCtor) {
    if (this.state) {
      if (this.state.ctor === newStateCtor) return;
      if (this.state.leaveState) this.state.leaveState.call(this);
    } // Must be re-entrant in case ctor changes state


    var prevState = this.state;
    var nextState = newStateCtor.call(this);

    if (this.state === prevState) {
      nextState.ctor = newStateCtor;
      this.state = nextState;
    }
  },
  findTargetNode: function findTargetNode(targetNode) {
    while (targetNode && targetNode.parentNode !== this.container) {
      targetNode = targetNode.parentNode;
    }

    return targetNode;
  },
  onContainerFocus: function onContainerFocus(e) {
    e.stopPropagation();
    this.setChildNodesAriaRoles();
  },
  setChildNodesAriaRoles: function setChildNodesAriaRoles() {
    var nodes = this.container.childNodes;

    for (var i = 0; i < nodes.length; i++) {
      if (nodes[i].nodeType != 1) continue;

      if (accessibility.items.ariaRole) {
        nodes[i].setAttribute('aria-role', accessibility.items.ariaRole);
      }

      if (false !== accessibility.items.tabIndex) {
        nodes[i].tabIndex = accessibility.items.tabIndex;
      }
    }
  },
  unSetChildNodesAriaRoles: function unSetChildNodesAriaRoles() {
    var nodes = this.container.childNodes;

    for (var i = 0; i < nodes.length; i++) {
      if (nodes[i].nodeType != 1) continue;

      if (accessibility.items.ariaRole) {
        nodes[i].removeAttribute('aria-role');
      }

      if (false !== accessibility.items.tabIndex) {
        nodes[i].removeAttribute('tabIndex');
      }
    }
  },
  onSelection: function onSelection(e) {
    e.stopPropagation();
    var isRelated = e.target === document || this.findTargetNode(e);
    var iOS = /(iPhone|iPad|iPod)/i.test(navigator.userAgent) && !/(Android|Windows)/i.test(navigator.userAgent);
    if (!isRelated) return;

    if (iOS) {
      // iOS doesn't allow selection to be prevented
      this.setState(this.states.idle);
    } else {
      if (!this.state.allowTextSelection) {
        e.preventDefault();
      }
    }
  },
  addMouseHandlers: function addMouseHandlers() {
    // unlike touch events, mousemove/up is not conveniently fired on the same element,
    // but I don't need to listen to unrelated events all the time
    if (!this.mouseHandlersAttached) {
      this.mouseHandlersAttached = true;
      document.documentElement.addEventListener('mouseleave', this.onMouseLeave, false);
      window.addEventListener('mousemove', this.onMouseMove, true);
      window.addEventListener('mouseup', this.onMouseUp, true);
      window.addEventListener('blur', this.cancel, false);
    }
  },
  removeMouseHandlers: function removeMouseHandlers() {
    if (this.mouseHandlersAttached) {
      this.mouseHandlersAttached = false;
      document.documentElement.removeEventListener('mouseleave', this.onMouseLeave, false);
      window.removeEventListener('mousemove', this.onMouseMove, true);
      window.removeEventListener('mouseup', this.onMouseUp, true);
      window.removeEventListener('blur', this.cancel, false);
    }
  },
  onMouseLeave: function onMouseLeave(e) {
    // e.stopPropagation();
    if (this.usingTouch) return;

    if (e.target === document.documentElement || e.relatedTarget === document.documentElement) {
      if (this.state.onLeave) {
        this.state.onLeave.call(this);
      }
    }
  },
  onMouseDown: function onMouseDown(e) {
    e.stopPropagation();
    if (this.usingTouch || e.button != 0 || !this.setTarget(e)) return;
    this.addMouseHandlers(); // mouseup, etc.

    this.canPreventScrolling = true; // or rather it doesn't apply to mouse

    this.startAtPosition({
      x: e.clientX,
      y: e.clientY,
      time: e.timeStamp
    });
  },
  onTouchStart: function onTouchStart(e) {
    e.stopPropagation();
    this.usingTouch = true;
    this.canPreventScrolling = true; // This implementation cares only about single touch

    if (e.touches.length > 1) {
      this.setState(this.states.idle);
      return;
    }

    if (!this.setTarget(e)) return;
    this.startAtPosition({
      x: e.touches[0].clientX,
      y: e.touches[0].clientY,
      time: e.timeStamp
    });
  },
  setTarget: function setTarget(e) {
    var targetNode = this.findTargetNode(e.target);

    if (!targetNode) {
      this.setState(this.states.idle);
      return false;
    } // scrollContainer may be explicitly set via options, otherwise search upwards for a parent with an overflow-y property
    // fallback to document.scrollingElement (or documentElement on IE), and do not use document.body


    var scrollContainer = this.options.scrollContainer;

    if (!scrollContainer) {
      var top = document.scrollingElement || document.documentElement;
      scrollContainer = targetNode.parentNode;

      while (scrollContainer) {
        if (scrollContainer == top) break;
        if (scrollContainer != document.body && scrollContainer.scrollHeight - scrollContainer.clientHeight > 10 && window.getComputedStyle(scrollContainer)['overflow-y'] != 'visible') break;
        scrollContainer = scrollContainer.parentNode;
      }

      scrollContainer = scrollContainer || top;
    }

    if (this.target !== null && this.target.node !== targetNode) {
      this.animateToZeroHidden(undefined, this.target);
    }

    this.target = {
      originalTarget: e.target,
      node: targetNode,
      scrollContainer: scrollContainer,
      origScrollTop: scrollContainer.scrollTop,
      origScrollHeight: scrollContainer.scrollHeight,
      baseTransform: getTransform(targetNode)
    };
    return true;
  },
  startAtPosition: function startAtPosition(pos) {
    this.startPosition = this.previousPosition = this.latestPosition = pos;
    this.setState(this.states.undecided);
  },
  updatePosition: function updatePosition(e, pos) {
    if (this.target == null) {
      return;
    }

    this.latestPosition = pos;

    if (this.state.onMove) {
      if (this.state.onMove.call(this) === false) {
        e.preventDefault();
      }
    } // sample latestPosition 100ms for velocity


    if (this.latestPosition.time - this.previousPosition.time > 100) {
      this.previousPosition = this.latestPosition;
    }
  },
  onMouseMove: function onMouseMove(e) {
    e.stopPropagation();
    this.updatePosition(e, {
      x: e.clientX,
      y: e.clientY,
      time: e.timeStamp
    });
  },
  onTouchMove: function onTouchMove(e) {
    e.stopPropagation();
    this.updatePosition(e, {
      x: e.touches[0].clientX,
      y: e.touches[0].clientY,
      time: e.timeStamp
    }); // In Apple's touch model only the first move event after touchstart can prevent scrolling (and event.cancelable is broken)

    this.canPreventScrolling = false;
  },
  onMouseUp: function onMouseUp(e) {
    // e.stopPropagation();
    if (this.usingTouch || e.button !== 0) return;

    if (this.state.onEnd && false === this.state.onEnd.call(this)) {
      e.preventDefault();
    }
  },
  onTouchEnd: function onTouchEnd(e) {
    // e.stopPropagation();
    if (e.touches.length > 1) {
      this.cancel();
    } else if (this.state.onEnd && false === this.state.onEnd.call(this)) {
      e.preventDefault();
    }
  },
  getTotalMovement: function getTotalMovement() {
    var scrollOffset = this.target.scrollContainer.scrollTop - this.target.origScrollTop;
    return {
      x: this.latestPosition.x - this.startPosition.x,
      y: this.latestPosition.y - this.startPosition.y + scrollOffset,
      time: this.latestPosition.time - this.startPosition.time
    };
  },
  getTotalMovementAvarage: function getTotalMovementAvarage(delta) {
    var scrollOffset = this.target.scrollContainer.scrollTop - this.target.origScrollTop;
    return {
      x: this.latestPosition.x - this.startPosition.x - delta,
      y: this.latestPosition.y - this.startPosition.y + scrollOffset,
      time: this.latestPosition.time - this.startPosition.time
    };
  },
  getAbsoluteMovement: function getAbsoluteMovement() {
    var move = this.getTotalMovement();
    return {
      x: Math.abs(move.x),
      y: Math.abs(move.y),
      time: move.time,
      directionX: move.x < 0 ? 'left' : 'right',
      directionY: move.y < 0 ? 'up' : 'down'
    };
  },
  getAbsoluteMovementAvarage: function getAbsoluteMovementAvarage(delta) {
    var move = this.getTotalMovementAvarage(delta);
    return {
      x: Math.abs(move.x),
      y: Math.abs(move.y),
      time: move.time,
      directionX: move.x < 0 ? 'left' : 'right',
      directionY: move.y < 0 ? 'up' : 'down'
    };
  },
  updateScrolling: function updateScrolling() {
    var triggerOffset = 40,
        offset = 0;
    var scrollable = this.target.scrollContainer,
        containerRect = scrollable.getBoundingClientRect(),
        targetRect = this.target.node.getBoundingClientRect(),
        bottomOffset = Math.min(containerRect.bottom, window.innerHeight) - targetRect.bottom,
        topOffset = targetRect.top - Math.max(containerRect.top, 0),
        maxScrollTop = this.target.origScrollHeight - Math.min(scrollable.clientHeight, window.innerHeight);

    if (bottomOffset < triggerOffset) {
      offset = Math.min(triggerOffset, triggerOffset - bottomOffset);
    } else if (topOffset < triggerOffset) {
      offset = Math.max(-triggerOffset, topOffset - triggerOffset);
    }

    scrollable.scrollTop = Math.max(0, Math.min(maxScrollTop, scrollable.scrollTop + offset));
  },
  dispatch: function dispatch(targetNode, eventName, detail) {
    var event = document.createEvent('CustomEvent');

    if (event && event.initCustomEvent) {
      event.initCustomEvent('slip:' + eventName, true, true, detail);
    } else {
      event = document.createEvent('Event');
      event.initEvent('slip:' + eventName, true, true);
      event.detail = detail;
    }

    return targetNode.dispatchEvent(event);
  },
  getSiblings: function getSiblings(target) {
    var siblings = [];
    var tmp = target.node.nextSibling;

    while (tmp) {
      if (tmp.nodeType == 1) siblings.push({
        node: tmp,
        baseTransform: getTransform(tmp)
      });
      tmp = tmp.nextSibling;
    }

    return siblings;
  },
  animateToZero: function animateToZero(callback, target) {
    // save, because this.target/container could change during animation
    target = target || this.target;
    var delta = 0;
    if (this.target.node.startPositionAverage != undefined && this.target.node.startPositionAverage > 0) delta = this.target.node.startPositionAverage;
    var move = this.getTotalMovementAvarage(delta);
    target.node.style[transitionJSPropertyName] = transformCSSPropertyName + ' 0.2s ease-out';
    target.node.style[transformJSPropertyName] = 'translate(0,0) ' + hwLayerMagicStyle;

    if (move.x > 0 && target.node.hiddenButtonRight !== undefined) {
      target.node.hiddenButtonRight.style[transitionJSPropertyName] = "all" + ' 0.2s ease-out';
      target.node.hiddenButtonRight.style[transformJSPropertyName] = 'translate(0,0) ' + hwLayerMagicStyle;
      target.node.hiddenButtonRight.style["width"] = 0;
      var tempElement = this.target.node.hiddenButtonRight.childNodes[0].childNodes[this.target.node.hiddenButtonRight.childNodes[0].childNodes.length - 1];

      if (tempElement !== undefined && tempElement.classList.contains("button-hidden-swipe-activeAll-width")) {
        tempElement.classList.remove("button-hidden-swipe-activeAll-width");
      }
    }

    setTimeout(function () {
      target.node.style[transitionJSPropertyName] = '';
      target.node.style[transformJSPropertyName] = '';

      if (move.x && target.node.hiddenButtonRight !== undefined) {
        target.node.hiddenButtonRight.style[transitionJSPropertyName] = '';
        target.node.hiddenButtonRight.style[transformJSPropertyName] = '';
      }

      if (callback) callback.call(this, target);
      target.node.startPositionAverage = 0;
    }.bind(this), 201);
  },
  animateToZeroHidden: function animateToZeroHidden(callback, target) {
    // save, because this.target/container could change during animation
    target = target || this.target;
    var delta = 0;
    if (this.target.node.startPositionAverage != undefined && this.target.node.startPositionAverage > 0) delta = this.target.node.startPositionAverage;
    var move = this.getTotalMovementAvarage(delta);
    target.node.style[transitionJSPropertyName] = transformCSSPropertyName + ' 0.2s ease-out';
    target.node.style[transformJSPropertyName] = 'translate(0,0) ' + hwLayerMagicStyle;

    if (move.x > 0 && target.node.hiddenButtonRight !== undefined) {
      target.node.hiddenButtonRight.style[transitionJSPropertyName] = "all" + ' 0.2s ease-out';
      target.node.hiddenButtonRight.style[transformJSPropertyName] = 'translate(0,0) ' + hwLayerMagicStyle;
      target.node.hiddenButtonRight.style["width"] = 0;
      var tempElement = this.target.node.hiddenButtonRight.childNodes[0].childNodes[this.target.node.hiddenButtonRight.childNodes[0].childNodes.length - 1];

      if (tempElement !== undefined && tempElement.classList.contains("button-hidden-swipe-activeAll-width")) {
        tempElement.classList.remove("button-hidden-swipe-activeAll-width");
      }
    }

    setTimeout(function () {
      target.node.style[transitionJSPropertyName] = '';
      target.node.style[transformJSPropertyName] = '';

      if (move.x && target.node.hiddenButtonRight !== undefined) {
        target.node.hiddenButtonRight.style[transitionJSPropertyName] = '';
        target.node.hiddenButtonRight.style[transformJSPropertyName] = '';
      }

      if (callback) callback.call(this, target);
      target.node.startPositionAverage = 0;
    }.bind(this), 201);
  }
}, _defineProperty(_Slip$prototype, "animateToZero", function animateToZero(callback, target) {
  // save, because this.target/container could change during animation
  target = target || this.target;
  target.node.style[transitionJSPropertyName] = transformCSSPropertyName + ' 0.1s ease-out';
  target.node.style[transformJSPropertyName] = 'translate(0,0) ' + hwLayerMagicStyle + target.baseTransform.value;
  setTimeout(function () {
    target.node.style[transitionJSPropertyName] = '';
    target.node.style[transformJSPropertyName] = target.baseTransform.original;
    if (callback) callback.call(this, target);
  }.bind(this), 101);
}), _defineProperty(_Slip$prototype, "animateToAverage", function animateToAverage(callback, target) {
  // save, because this.target/container could change during animation
  target = target || this.target;
  var delta = 0;
  if (this.target.node.startPositionAverage != undefined && this.target.node.startPositionAverage > 0) delta = this.target.node.startPositionAverage;
  var move = this.getAbsoluteMovementAvarage(delta);

  if (move.x > 0 && target.node.hiddenButtonRight !== undefined) {
    var transformWidth = parseInt(target.node.hiddenButtonRight.childNodes[0].childNodes[0].childNodes[0].offsetWidth) * this.target.node.hiddenButtonRight.childNodes[0].childNodes.length;
    target.node.style[transitionJSPropertyName] = transformCSSPropertyName + ' 0.1s ease-in';
    target.node.style[transformJSPropertyName] = 'translate(' + -transformWidth + 'px,0) ' + hwLayerMagicStyle;
    target.node.hiddenButtonRight.style[transitionJSPropertyName] = 'all' + ' 0.1s ease-in';
    target.node.hiddenButtonRight.style[transformJSPropertyName] = 'translate(' + transformWidth + 'px,0) ' + hwLayerMagicStyle;
    target.node.hiddenButtonRight.style["width"] = transformWidth + "px";
    var tempElement = this.target.node.hiddenButtonRight.childNodes[0].childNodes[this.target.node.hiddenButtonRight.childNodes[0].childNodes.length - 1];

    if (tempElement !== undefined && tempElement.classList.contains("button-hidden-swipe-activeAll-width")) {
      tempElement.classList.remove("button-hidden-swipe-activeAll-width");
    }
  }

  setTimeout(function () {
    target.node.style[transitionJSPropertyName] = '';
    if (move.x > 0 && target.node.hiddenButtonRight !== undefined) target.node.hiddenButtonRight.style[transitionJSPropertyName] = '';
    if (callback) callback.call(this, target);
    target.node.startPositionAverage = transformWidth;
  }.bind(this), 101);
}), _defineProperty(_Slip$prototype, "animateSwipe", function animateSwipe(callback) {
  var target = this.target;
  var siblings = this.getSiblings(target);
  var emptySpaceTransformStyle = 'translate(0,' + this.target.height + 'px) ' + hwLayerMagicStyle + ' '; // FIXME: animate with real velocity

  target.node.style[transitionJSPropertyName] = 'all 0.1s linear';
  target.node.style[transformJSPropertyName] = ' translate(' + (this.getTotalMovement().x > 0 ? '' : '-') + '100%,0) ' + hwLayerMagicStyle + target.baseTransform.value;
  setTimeout(function () {
    if (callback.call(this, target)) {
      siblings.forEach(function (o) {
        o.node.style[transitionJSPropertyName] = '';
        o.node.style[transformJSPropertyName] = emptySpaceTransformStyle + o.baseTransform.value;
      });
      setTimeout(function () {
        siblings.forEach(function (o) {
          o.node.style[transitionJSPropertyName] = transformCSSPropertyName + ' 0.1s ease-in-out';
          o.node.style[transformJSPropertyName] = 'translate(0,0) ' + hwLayerMagicStyle + o.baseTransform.value;
        });
        setTimeout(function () {
          siblings.forEach(function (o) {
            o.node.style[transitionJSPropertyName] = '';
            o.node.style[transformJSPropertyName] = o.baseTransform.original;
          });
        }, 101);
      }, 1);
    }
  }.bind(this), 101);
}), _Slip$prototype);
// CONCATENATED MODULE: ./js/component/ModuleView.js
function ModuleView_typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { ModuleView_typeof = function _typeof(obj) { return typeof obj; }; } else { ModuleView_typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return ModuleView_typeof(obj); }



 // import '../../css/CardDone.css';
// import TabView from 'absol-acomp/js/TabView';






Svg["a" /* default */].ShareInstance._;
Svg["a" /* default */].ShareInstance.$;

window.getTextSize = function getTextSize(text) {
  var svg = Svg["a" /* default */].ShareInstance._({
    tag: 'svg',
    style: {
      position: 'fixed',
      zIndex: '10000',
      top: 0,
      left: 0,
      background: 'gray'
    },
    child: {
      child: {
        tag: 'text',
        attr: {
          transform: 'rotate(45)',
          x: 0,
          y: 0
        },
        style: {
          fill: 'green'
        },
        child: {
          text: text
        }
      }
    }
  }).addTo(document.body);

  var text = Svg["a" /* default */].ShareInstance.$('g');
  var size = text.getBBox();
  svg.attr({
    width: size.width,
    height: size.height,
    viewBox: [size.x, size.y, size.width, size.height].join(' ')
  });
  return size;
};


var ModuleView_ = dom_Fcore._;
var ModuleView_$ = dom_Fcore.$;
var traceOutBoundingClientRect = dom_Fcore.traceOutBoundingClientRect;
function ModuleView_ModuleView() {}
function alignFormCss(element, elementDynamic) {
  var GroupElement = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
  var maxColumn = [],
      k,
      maxWidth,
      longElement = 0,
      check = [],
      countRow = [];

  for (var i = 0; i < element.length; i++) {
    k = 0;

    if (check.includes(element[i])) {
      element.splice(i, 1);
      i--;
      continue;
    } else {
      check.push(element[i]);
    }

    for (var j = 0; j < element[i].childNodes.length; j++) {
      if (GroupElement[i] === j && GroupElement[i][0] === j) {
        longElement = GroupElement[i][1];
        maxWidth += element[i].childNodes[j].offsetWidth;
        longElement--;
        continue;
      } else {
        if (longElement > 0) {
          maxWidth += element[i].childNodes[j].offsetWidth;
          longElement--;
          continue;
        } else maxWidth = element[i].childNodes[j].offsetWidth;
      }

      if (maxWidth > maxColumn[k] || maxColumn[k] === undefined) {
        maxColumn[k] = element[i].childNodes[j].offsetWidth;
      }

      k++;
      maxWidth = 0;
    }
  }

  var resultcss = '';
  var value;
  var Dynamic = [];
  var fontSizeHtml = getDefaultFontSize()[1];

  for (var i = 0; i < element.length; i++) {
    countRow[i] = 0;
    Dynamic[i] = [];

    for (var j = 0; j < element[i].childNodes.length; j++) {
      if (elementDynamic !== j || Array.isArray(elementDynamic) && elementDynamic.includes(j)) {
        value = '';
        element[i].classList.forEach(function (result) {
          value += "." + result;
        });
        value += ' ';
        element[i].childNodes[j].classList.forEach(function (result) {
          value += "." + result;
        });
        var marginYes = 0;
        if (element[i].childNodes[j].tagName === "SPAN") marginYes = 10;
        var tempWidth = (maxColumn[j] + marginYes) / fontSizeHtml;
        var el = element[i].childNodes[j];
        var paddingLeft = window.getComputedStyle(el, null).getPropertyValue('padding-left');
        var paddingRight = window.getComputedStyle(el, null).getPropertyValue('padding-right');
        var padding = parseFloat(paddingLeft) + parseFloat(paddingRight);
        var border = window.getComputedStyle(el, null).getPropertyValue('border-width');
        border = parseFloat(border);
        value += '{\n';
        value += 'width: ' + (tempWidth - (padding + border + 1) / fontSizeHtml) + 'em; \n';
        value += '}\n';
        countRow[i] += tempWidth;
        resultcss += value;
      } else {
        Dynamic[i].push(j);
      }
    }
  }

  if (Dynamic.length !== 0) {
    Dynamic.forEach(function (result, index) {
      for (var i = 0; i < Dynamic[index].length; i++) {
        element[index].childNodes[Dynamic[index]];
        value = '';
        element[index].classList.forEach(function (result) {
          value += "." + result;
        });
        value += ' ';
        element[index].childNodes[Dynamic[index]].classList.forEach(function (result) {
          value += "." + result;
        });
        var el = element[index].childNodes[Dynamic[index]];
        var paddingLeft = window.getComputedStyle(el, null).getPropertyValue('padding-left');
        var paddingRight = window.getComputedStyle(el, null).getPropertyValue('padding-right');
        var border = window.getComputedStyle(el, null).getPropertyValue('border-width');
        border = parseFloat(border);
        var padding = parseFloat(paddingLeft) + parseFloat(paddingRight);
        value += '{\n';
        value += 'width: calc(' + 100 / Dynamic[index].length + '% - ' + (countRow[index] / Dynamic[index].length + (padding + border + 1) / fontSizeHtml) + 'em); \n';
        value += '}\n';
        resultcss += value;
      }
    });
  }

  var blob = new Blob([resultcss], {
    type: 'text/css;charset=utf-8'
  });
  var link = document.createElement('a');
  link.href = window.URL.createObjectURL(blob);
  link.download = "style_alignFormCss.css";
  link.click();
}

function getDefaultFontSize(pa) {
  pa = pa || document.body;
  var who = document.createElement('div');
  who.style.cssText = 'display:inline-block; padding:0; line-height:1; position:absolute; visibility:hidden; font-size:1em';
  who.appendChild(document.createTextNode('M'));
  pa.appendChild(who);
  var fs = [who.offsetWidth, who.offsetHeight];
  pa.removeChild(who);
  return fs;
}

function selectElement(nameClass, elementDynamic) {
  var ElementStack = [],
      GroupElement = [];
  window.addEventListener("click", function (event) {
    var elementTarget = event.target;

    while (elementTarget.classList !== undefined && !elementTarget.classList.contains(nameClass)) {
      elementTarget = elementTarget.parentNode;
    }

    if (elementTarget !== undefined && elementTarget !== document) {
      ElementStack.push(elementTarget);
    }
  });
  window.addEventListener("keydown", function (event) {
    if (event.keyCode === 27) {
      alignFormCss(ElementStack, elementDynamic, GroupElement);
    }
  });
}
function unit_Long() {
  var functionX = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};
  return ModuleView_({
    tag: "selectmenu",
    "class": "pizo-new-realty-dectruct-content-area-unit",
    on: {
      change: functionX
    },
    props: {
      items: [{
        text: "m",
        value: 1
      }, {
        text: "km",
        value: 1000
      }, {
        text: "in",
        value: 0.0254
      }]
    }
  });
}
function unit_Zone() {
  var functionX = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};
  return ModuleView_({
    tag: "selectmenu",
    "class": "pizo-new-realty-dectruct-content-area-unit-size",
    on: {
      change: functionX
    },
    props: {
      items: [{
        text: "m²",
        value: 1
      }, {
        text: "km²",
        value: 1000000
      }, {
        text: "hecta",
        value: 10000
      }]
    }
  });
}
function input_choicenumber(point, callback) {
  var _input = absol._({
    tag: "input",
    "class": "quantumWizTextinputPaperinputInput",
    props: {
      type: "number",
      autocomplete: "off",
      min: 0,
      max: 999999,
      step: 1,
      dir: "auto",
      badinput: false,
      value: point
    },
    on: {
      focus: function focus() {
        return function (input) {
          input.classList.add("isFocused");
        }(_input);
      },
      blur: function blur() {
        return function (input) {
          input.classList.remove("isFocused");
        }(_input);
      },
      input: function input() {
        return function () {
          _input.requestUpdateSize();

          if (callback !== undefined) callback(_input.value);
        }();
      }
    }
  });

  _input.getValue = function () {
    return _input.value;
  };

  _input.requestUpdateSize = function () {
    _input.style.width = fakeInput(_input.value, 14) + 15 + "px";
  };

  _input.requestUpdateSize();

  return _input;
}
function fakeInput(text, size) {
  var temp = document.getElementsByClassName("fake-text");
  if (temp.length === 0) document.body.appendChild(absol._({
    tag: "span",
    "class": "fake-text",
    props: {
      innerHTML: text
    }
  }));else temp[0].innerHTML = text + "-";

  if (size !== undefined) {
    temp[0].style.fontSize = size + "px";
  } else temp[0].style.fontSize = "1.7857em";

  return temp[0].offsetWidth;
}

function moveAt(clone, pageX, pageY, shiftX, shiftY, trigger, functionCheckZone, bg, result) {
  var y = pageY - result.getBoundingClientRect().top;
  y -= shiftY;
  clone.style.top = y + 'px';
  var x = pageX - result.getBoundingClientRect().left;
  x -= shiftX;
  clone.style.left = x + 'px';
}

function onMouseMove(clone, event, shiftX, shiftY, trigger, functionCheckZone, bg, parent) {
  event.preventDefault();
  moveAt(clone, event.pageX, event.pageY, shiftX, shiftY, trigger, functionCheckZone, bg, parent);
}

function onMouseMoveFix(clone, event, shiftY, result) {
  event.preventDefault();
  moveAtFix(clone, event.pageY, shiftY, result);
}

function moveAtFix(clone, pageY, shiftY, result) {
  var y = pageY - result.getBoundingClientRect().top;
  y -= shiftY;
  var height = result.clientHeight;
  var tempx = height - 3 * clone.clientHeight / 4;
  var top = clone.clientHeight / 2;

  if (result.tagName !== "DIV") {
    height += result.getHeightChild();
    tempx = height;
  } else {
    if (result.headerTable.offsetHeight === 0) {
      top = -clone.clientHeight / 4;
    }
  }

  if (y > tempx) {
    y = tempx;
    return;
  }

  if (y < top) {
    y = top;
    return;
  }

  clone.style.top = y + 'px';
}

function moveElement(event, me, result, index) {
  var scrollParent = result.realTable.parentNode;

  while (scrollParent) {
    var overflowStyle = window.getComputedStyle(scrollParent)['overflow'];
    if ((overflowStyle === 'auto' || overflowStyle === 'scroll' || scrollParent.tagName === 'HTML') && (scrollParent.clientHeight < scrollParent.scrollHeight || scrollParent.clientWidth < scrollParent.scrollWidth)) break;
    scrollParent = scrollParent.parentElement;
  }

  if (scrollParent) scrollParent.addEventListener("scroll", function (event) {
    bg.isMove = false;
    outFocus(clone, _trigger, functionCheckZone, bg, result);
  });

  var _trigger;

  var height = 112;
  if (result.height !== undefined) height = result.height;
  var clone = result.cloneColumn(index);
  var bg = result.backGround(height, function () {
    if (bg.noAction !== true) result.deleteColumn(index);
  }, index);

  var functionCheckZone = function functionCheckZone(event) {
    if (AABBYY(window.xMousePos, window.yMousePos, bg.getDeleteZone().getBoundingClientRect())) {
      if (!bg.classList.contains("focus-blast")) bg.classList.add("focus-blast");
    } else {
      if (bg.classList.contains("focus-blast")) bg.classList.remove("focus-blast");
    }

    var arrZone = bg.getZone();

    for (var i = 0; i < arrZone.length; i++) {
      var checkElement = arrZone[i];

      if (AABBYY(window.xMousePos, window.yMousePos, checkElement.getBoundingClientRect())) {
        if (!checkElement.classList.contains("focus-blast")) checkElement.classList.add("focus-blast");
      } else {
        if (checkElement.classList.contains("focus-blast")) checkElement.classList.remove("focus-blast");
      }
    }
  };

  window.addEventListener("mousemove", functionCheckZone);
  bg.isMove = true;
  result.appendChild(bg);
  bg.appendChild(clone);
  var shiftX = clone.clientWidth / 2 - 15;
  var shiftY = clone.clientHeight / 2;
  moveAt(clone, event.pageX, event.pageY, shiftX, shiftY, _trigger, functionCheckZone, bg, result);
  window.addEventListener('mousemove', _trigger = function trigger(event) {
    onMouseMove(clone, event, shiftX, shiftY, _trigger, functionCheckZone, bg, result);
  });

  window.onmouseup = function () {
    bg.isMove = false;
    outFocus(clone, _trigger, functionCheckZone, bg, result);
  };
}

function moveElementFix(event, me, result, index) {
  var trigger;
  var clone = result.cloneRow(index);
  var bg = result.backGroundFix(index);
  var scrollParent = result.realTable.parentNode;

  while (scrollParent) {
    var overflowStyle = window.getComputedStyle(scrollParent)['overflow'];
    if ((overflowStyle === 'auto' || overflowStyle === 'scroll' || scrollParent.tagName === 'HTML') && (scrollParent.clientHeight < scrollParent.scrollHeight || scrollParent.clientWidth < scrollParent.scrollWidth)) break;
    scrollParent = scrollParent.parentElement;
  }

  result.bodyTable.appendChild(bg);
  bg.appendChild(clone);

  var functionCheckZone = function functionCheckZone(event) {
    var arrZone = bg.getZone();

    for (var i = 0; i < arrZone.length; i++) {
      var offset = clone.getBoundingClientRect();
      var centerX = offset.left + offset.width / 2; // [UPDATE] subtract to center

      var centerY = offset.top + offset.height / 2;
      var checkElement = arrZone[i];

      if (AAYY(centerX, centerY, checkElement.getBoundingClientRect())) {
        if (!checkElement.classList.contains("focus-blast")) {
          checkElement.classList.add("focus-blast");
          break;
        }
      } else {
        if (checkElement.classList.contains("focus-blast")) checkElement.classList.remove("focus-blast");
      }

      var removeList = document.getElementsByClassName("focus-blast")[0];
      if (removeList !== undefined) removeList.classList.remove("focus-blast");
    }
  };

  var shiftY = clone.clientHeight / 2;
  moveAtFix(clone, event.pageY, shiftY, result);
  if (scrollParent) scrollParent.addEventListener("scroll", function (event) {
    moveAtFix(clone, event.pageY, shiftY, result);
    bg.style.top = parseFloat(bg.style.realTop) - parseFloat(scrollParent.scrollTop) + "px";
  });
  window.addEventListener('mousemove', functionCheckZone);

  var trigger = function trigger(event) {
    onMouseMoveFix(clone, event, shiftY, result);
  };

  var mouseUpFunction = function mouseUpFunction() {
    window.removeEventListener("mouseup", mouseUpFunction);
    var removeList = document.getElementsByClassName("focus-blast")[0];

    if (removeList !== undefined) {
      var row1 = removeList.row1;
      var row2 = removeList.row2;

      if (row1 === undefined && row2 === 0) {
        outFocus(clone, trigger, functionCheckZone, bg, result);
        return;
      }

      var element = me;

      while (element.tagName !== "TR" && element !== undefined) {
        element = element.parentNode;
      }

      if (element === removeList.elementReal) {
        outFocus(clone, trigger, functionCheckZone, bg, result);
        return;
      }

      result.bodyTable.insertBefore(element, removeList.elementReal);

      if (element.getElementChild !== undefined) {
        var elementChild = element.getElementChild();

        if (elementChild.length !== 0) {
          for (var i = 0; i < elementChild.length; i++) {
            result.bodyTable.insertBefore(elementChild[i], removeList.elementReal);
          }
        }
      }

      if (result.data.child !== undefined) {
        result.data.child = changeIndex(result.data.child, index - 1, row1);
      } else result.data = changeIndex(result.data, index - 1, row1);

      result.childrenNodes = changeIndex(result.childrenNodes, index - 1, row1);
      var k = 0;

      for (var i = 0; i < result.clone.length; i++) {
        var checkValue = array_insertBefore(result.clone[i], element.childNodes[k], row2);
        if (checkValue === false) continue;
        result.clone[i] = checkValue;
        k++;
      }

      if (result.checkSpan !== undefined) result.checkSpan = changeIndex(result.checkSpan, index - 1, row1);
    }

    outFocus(clone, trigger, functionCheckZone, bg, result);
  };

  window.addEventListener('mousemove', trigger);
  window.addEventListener("mouseup", mouseUpFunction);
}

function array_insertBefore(arr, data, new_index) {
  var old_index;

  for (var i = 0; i < arr.length; i++) {
    if (arr[i] === data) {
      old_index = i;
      break;
    }
  }

  if (old_index === undefined) return false; // for testing

  return arr_change(arr, data, old_index, new_index);
}

;

function arr_change(arr, data, old_index, new_index) {
  if (new_index === undefined) new_index = arr.length + 1;

  if (old_index > new_index) {
    arr.splice(new_index, 0, data);
    arr.splice(old_index + 1, 1);
  } else {
    arr.splice(new_index, 0, data);
    arr.splice(old_index, 1);
  }

  return arr;
}

function changeIndex(arr, old_index, new_index) {
  var data = arr.splice(old_index, 1)[0];
  if (old_index < new_index) arr.splice(new_index - 1, 0, data);else arr.splice(new_index, 0, data);
  return arr;
}

function AABBYY(x, y, bound) {
  if (bound.x === 0 && bound.y === 0 && bound.width === 0 && bound.height === 0) return true;
  return x >= bound.x && y >= bound.y && x <= bound.x + bound.width && y <= bound.y + bound.height;
}

function AAYY(x, y, bound) {
  if (bound.x === 0 && bound.y === 0 && bound.width === 0 && bound.height === 0) return true;
  return y >= bound.y && y <= bound.y + bound.height;
}

function outFocus(clone, trigger, functionCheckZone, bg, parent) {
  window.removeEventListener('mousemove', functionCheckZone);
  window.removeEventListener('mousemove', trigger);
  window.onmouseup = null;
  setTimeout(function () {
    bg.selfRemove();

    if (parent.isSaveTheme) {
      parent.saveTheme();
    }
  }, 20);
  clone.selfRemove();
  var event = new CustomEvent('dragdrop');
  parent.realTable.parentNode.dispatchEvent(event);
}

function captureMousePosition(event) {
  window.xMousePos = event.pageX;
  window.yMousePos = event.pageY;
}

function tableView() {
  var header = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  var dragHorizontal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var dragVertical = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  var childIndex = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;
  var indexRow = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 50;
  var cell,
      row,
      check = [];
  var checkSpan = [];

  var headerTable = ModuleView_({
    tag: "thead"
  });

  var bodyTable = ModuleView_({
    tag: "tbody"
  });

  var realTable = ModuleView_({
    tag: "table",
    "class": "sortTable",
    child: [headerTable, bodyTable]
  });

  var resolveAdd;
  var promiseAdd = new Promise(function (resolve, reject) {
    resolveAdd = resolve;
  });

  var result = ModuleView_({
    tag: "div",
    "class": "container-sortTable",
    child: [realTable, {
      tag: 'attachhook',
      on: {
        error: function error() {
          resolveAdd();
        }
      }
    }]
  });

  data.checkVisiableCell = function (x, y) {
    if (ModuleView_typeof(this[x][y]) !== "object") return true;

    if (x > 0) {
      if (this[x - 1][y] === this[x][y]) return false;
    }

    if (y > 0) {
      if (this[x][y - 1] === this[x][y]) return false;
    }

    return true;
  };

  result.realTable = realTable;
  result.headerTable = headerTable;
  result.bodyTable = bodyTable;
  Object.assign(result, tableView.prototype);
  result.check = check;

  if (header.isSaveTheme) {
    result.isSaveTheme = header.isSaveTheme;

    if (getCookie(result.isSaveTheme + "token_pizo_table_header" + window.token) != undefined) {
      header = JSON.parse(getCookie(result.isSaveTheme + "token_pizo_table_header" + window.token));
      result.arrSortHeader = JSON.parse(getCookie(result.isSaveTheme + "token_pizo_table_sort" + window.token));
    }
  }

  result.header = header;
  result.data = data;
  result.dragVertical = dragVertical;
  result.dragHorizontal = dragHorizontal;
  result.isSwipeLeft = false;
  result.isSwipeRight = false;
  result.sortArray = [];
  result.indexPageSum = Math.ceil(result.data.length / indexRow);

  if (window.scrollEvent === undefined) {
    window.xMousePos = 0;
    window.yMousePos = 0;
    window.lastScrolledLeft = 0;
    window.lastScrolledTop = 0;
    document.addEventListener("mousemove", function (event) {
      window.scrollEvent = captureMousePosition(event);
    });
    var scrollParent = result;
    promiseAdd.then(function () {
      while (scrollParent) {
        var overflowStyle = window.getComputedStyle(scrollParent)['overflow'];
        if ((overflowStyle === 'auto' || overflowStyle === 'scroll' || scrollParent.tagName === 'HTML') && (scrollParent.clientHeight < scrollParent.scrollHeight || scrollParent.clientWidth < scrollParent.scrollWidth)) break;
        scrollParent = scrollParent.parentElement;
      }

      if (scrollParent) {
        var lastScrollTime = new Date().getTime();

        var functionScrollTemp = function functionScrollTemp(event) {
          var now = new Date().getTime();

          if (now - lastScrollTime > 300) {
            if (!result.isDescendantOf(scrollParent)) {
              scrollParent.removeEventListener("scroll", functionScrollTemp);
              return;
            }
          }

          lastScrollTime = new Date().getTime();

          if (result.lastScrolledLeft != scrollParent.scrollLeft) {
            window.xMousePos -= result.lastScrolledLeft;
            result.lastScrolledLeft = scrollParent.scrollLeft;
            window.xMousePos += result.lastScrolledLeft;
          }

          if (result.lastScrolledTop != scrollParent.scrollTop) {
            window.yMousePos -= result.lastScrolledTop;
            result.lastScrolledTop = scrollParent.scrollTop;
            window.yMousePos += result.lastScrolledTop;
          }
        };

        scrollParent.addEventListener("scroll", functionScrollTemp);
      }

      if (BrowserDetector["a" /* default */].isMobile) {
        var tempLimit = ModuleView_({
          tag: "div",
          child: [{
            tag: "span",
            style: {
              padding: "10px",
              textAlign: "center",
              display: "block",
              fontSize: "16px"
            },
            props: {
              innerHTML: "Để tìm kiếm các phần tử cũ hơn vui lòng sử dung Tìm kiếm"
            }
          }]
        });

        tempLimit.style.display = "none";
        result.appendChild(tempLimit);
        if (scrollParent) scrollParent.addEventListener("scroll", function (event) {
          if (result.currentIndex > indexRow * 10 && result.currentIndex !== result.data.length) {
            if (tempLimit.style.display !== "block") tempLimit.style.display = "block";
            return;
          } else {
            if (tempLimit.style.display !== "none") tempLimit.style.display = "none";
          }

          if (result.currentIndex === result.data.length) return;
          result.indexPage = result.currentIndex / 10 + 1;

          if (this.scrollTop >= this.scrollHeight - this.offsetHeight) {
            if (result.getBodyTable !== undefined) {
              result.getBodyTable(result.data);

              if (result.bodyTable.listCheckBox !== undefined && result.bodyTable.listCheckBox.length > 0) {
                result.bodyTable.listCheckBox[0].update();
              }
            }
          }

          result.setUpSwipe();
        });
      }
    }.bind(this));
  }

  result.updatePagination = function () {
    var number = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : result.tempIndexRow;
    var isRedraw = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

    if (BrowserDetector["a" /* default */].isMobile) {
      result.tempIndexRow = indexRow;

      if (isRedraw) {
        result.updateTable(undefined, undefined, undefined, undefined, undefined, false);
        if (scrollParent) scrollParent.emit("scroll");
      }
    } else {
      result.tempIndexRow = parseInt(number);

      if (result.paginationElement !== undefined) {
        if (isRedraw) {
          result.updateTable();
        }

        var pagination = result.pagination(result.tempIndexRow);
        result.paginationElement.parentNode.replaceChild(pagination, result.paginationElement);
      } else {
        var pagination = result.pagination(result.tempIndexRow);
        result.appendChild(pagination);
      }

      result.paginationElement = pagination;
    }
  };

  result.updatePagination(indexRow, false);
  result.clone = [];
  var k = 0;
  result.toUpperCase = header.toUpperCase == true ? true : false;
  result.toLowerCase = header.toLowerCase == true ? true : false;
  result.updateTableOnlyHeader();
  result.parentMargin = 0;
  result.childIndex = childIndex;
  result.childrenNodes = [];
  result.getBodyTable(data, undefined, true);
  result.checkSpan = checkSpan;

  if (dragVertical) {
    result.slip = new Slip(result.bodyTable);
    result.setUpSlip();
  }

  return result;
}

tableView.prototype.updateTableHeader = function () {
  this.updateTableOnlyHeader();

  if (this.isSaveTheme) {
    this.saveTheme();
  }

  if (this.isInputHeader) {
    this.addInputSearchHeader();
  }

  this.updateTable();
};

tableView.prototype.updateTableOnlyHeader = function () {
  var header = this.header;
  var result = this;
  var check = this.check;
  var cell, row;
  row = ModuleView_({
    tag: "tr"
  });
  var k = 0;
  result.clone = [];

  if (this.arrSortHeader) {
    for (var i = 0; i < header.length; i++) {
      check[i] = "hidden";
    }

    for (var i = 0; i < this.arrSortHeader.length; i++) {
      if (header[this.arrSortHeader[i]].hidden === false || header[this.arrSortHeader[i]].hidden === undefined) {
        check[this.arrSortHeader[i]] = undefined;
        result.clone[k] = [];
        cell = result.getCellHeader(header[this.arrSortHeader[i]], this.arrSortHeader[i]);
        result.clone[k++].push(cell);
        row.addChild(cell);
      } else check[this.arrSortHeader[i]] = "hidden";
    }
  } else for (var i = 0; i < header.length; i++) {
    if (header[i].hidden === false || header[i].hidden === undefined) {
      check[i] = undefined;
      result.clone[k] = [];
      cell = result.getCellHeader(header[i], i);
      result.clone[k++].push(cell);
      row.addChild(cell);
    } else check[i] = "hidden";
  }

  if (this.headerTable.childNodes[0]) this.headerTable.replaceChild(row, this.headerTable.childNodes[0]);else this.headerTable.appendChild(row);
};

tableView.prototype.getElementNext = function (element) {
  if (element.childrenNodes.length > 0) {
    return this.getElementNext(element.childrenNodes[element.childrenNodes.length - 1]);
  }

  return element.nextSibling;
};

tableView.prototype.getElementNextVisiale = function (element) {
  element = element.nextSibling;
  if (element) while (element.nextSibling && element.nextSibling.classList.contains("displayNone")) {
    element = element.nextSibling;
  }
  return element;
};

tableView.prototype.getElementPrevVisiale = function (element) {
  element = element.previousSibling;
  if (element) while (element.previousSibling && element.previousSibling.classList.contains("displayNone")) {
    element = element.previousSibling;
  }
  return element;
};

tableView.prototype.setUpSwipe = function (isSwipeLeft, isSwipeRight) {
  setTimeout(function () {
    if (isSwipeLeft !== undefined) {
      this.isSwipeLeft = isSwipeLeft;
    }

    if (this.isSwipeLeft !== undefined) {
      for (var i = 0; i < this.bodyTable.childNodes.length; i++) {
        if (this.bodyTable.childNodes[i].hiddenButtonLeft !== undefined) continue;

        var hiddenButton = ModuleView_({
          tag: "div",
          "class": "button-hidden-swipe-container-left",
          child: [{
            tag: "div",
            "class": "button-hidden-swipe-calcWidth"
          }]
        });

        for (var j = 0; j < this.isSwipeLeft.length; j++) {
          this.bodyTable.childNodes[i].appendChild(hiddenButton);
          var icon;

          if (typeof this.isSwipeLeft[j].icon == "string") {
            icon = ModuleView_({
              tag: "i",
              "class": ["material-icons", "button-hidden-swipe-icon"],
              style: this.isSwipeLeft[j].iconStyle,
              props: {
                innerHTML: this.isSwipeLeft[j].icon
              }
            });
          } else icon = this.isSwipeRight[j].icon.cloneNode(true);

          var tempElement = ModuleView_({
            tag: "div",
            "class": "button-hidden-swipe",
            on: {
              click: function (index, indexEvent, e) {
                if (this.isSwipeLeft[indexEvent].event !== undefined) {
                  var me = this.bodyTable.childNodes[index];
                  var index = me.originalIndex;
                  var parent = me.elementParent;
                  this.isSwipeLeft[indexEvent].event(e, me, index, me.data, me, parent);
                }
              }.bind(this, i, j)
            },
            style: {
              width: 1 / this.isSwipeLeft.length * 100 + "%",
              backgroundColor: this.isSwipeLeft[j].background,
              maxWidth: this.bodyTable.childNodes[i].offsetHeight * 1.2 + "px",
              zIndex: j
            },
            child: [{
              tag: "div",
              "class": "button-hidden-swipe-detail",
              style: {
                width: this.bodyTable.childNodes[i].offsetHeight + "px",
                height: this.bodyTable.childNodes[i].offsetHeight + "px"
              },
              child: [icon]
            }]
          });

          if (!(this.isSwipeLeft[j].text == "" || this.isSwipeLeft[j].text == undefined)) {
            tempElement.childNodes[0].appendChild(ModuleView_({
              tag: "span",
              "class": "button-hidden-swipe-text",
              style: {
                color: this.isSwipeLeft[j].textcolor
              },
              props: {
                innerHTML: this.isSwipeLeft[j].text
              }
            }));
          }

          if (j == this.isSwipeLeft.length - 1) tempElement.classList.add("button-hidden-swipe-activeAll");
          hiddenButton.childNodes[0].appendChild(tempElement);
        }

        this.bodyTable.childNodes[i].hiddenButtonLeft = hiddenButton;
      }
    }

    if (isSwipeRight !== undefined) {
      this.isSwipeRight = isSwipeRight;
    }

    if (this.isSwipeRight !== undefined) {
      for (var i = 0; i < this.bodyTable.childNodes.length; i++) {
        if (this.bodyTable.childNodes[i].hiddenButtonRight !== undefined) continue;

        var hiddenButton = ModuleView_({
          tag: "div",
          "class": "button-hidden-swipe-container-right",
          child: [{
            tag: "div",
            "class": "button-hidden-swipe-calcWidth"
          }]
        });

        for (var j = 0; j < this.isSwipeRight.length; j++) {
          this.bodyTable.childNodes[i].appendChild(hiddenButton);
          var icon;

          if (typeof this.isSwipeRight[j].icon == "string") {
            icon = ModuleView_({
              tag: "i",
              "class": ["material-icons", "button-hidden-swipe-icon"],
              style: this.isSwipeRight[j].iconStyle,
              props: {
                innerHTML: this.isSwipeRight[j].icon
              }
            });
          } else icon = this.isSwipeRight[j].icon.cloneNode(true);

          var tempElement = ModuleView_({
            tag: "div",
            "class": "button-hidden-swipe",
            on: {
              click: function (index, indexEvent, e) {
                if (this.isSwipeRight[indexEvent].event !== undefined) {
                  var me = this.bodyTable.childNodes[index];
                  var index = me.originalIndex;
                  var parent = me.elementParent;
                  this.isSwipeRight[indexEvent].event(e, me, index, me.data, me, parent);
                }
              }.bind(this, i, j)
            },
            style: {
              width: 1 / this.isSwipeRight.length * 100 + "%",
              backgroundColor: this.isSwipeRight[j].background,
              maxWidth: this.bodyTable.childNodes[i].offsetWidth * 3 / 4 / this.isSwipeRight.length + "px",
              zIndex: j
            },
            child: [{
              tag: "div",
              "class": "button-hidden-swipe-detail",
              child: [icon]
            }]
          });

          if (!(this.isSwipeRight[j].text == "" || this.isSwipeRight[j].text == undefined)) {
            tempElement.childNodes[0].appendChild(ModuleView_({
              tag: "span",
              "class": "button-hidden-swipe-text",
              style: {
                color: this.isSwipeRight[j].textcolor
              },
              props: {
                innerHTML: this.isSwipeRight[j].text
              }
            }));
          }

          if (j == this.isSwipeRight.length - 1) tempElement.classList.add("button-hidden-swipe-activeAll");
          hiddenButton.childNodes[0].appendChild(tempElement);
        }

        this.bodyTable.childNodes[i].hiddenButtonRight = hiddenButton;
        setTimeout(function (hiddenButton) {
          var container;
          var max = 0;

          for (var i = 0; i < hiddenButton.childNodes[0].childNodes.length; i++) {
            container = hiddenButton.childNodes[0].childNodes[i].childNodes[0];
            if (max < container.offsetWidth) max = container.offsetWidth;
          }

          for (var i = 0; i < hiddenButton.childNodes[0].childNodes.length; i++) {
            container = hiddenButton.childNodes[0].childNodes[i].childNodes[0];
            container.style.minWidth = max + "px";
          }
        }.bind(this, hiddenButton), 80);
      }
    }

    if (this.isSwipeLeft || this.isSwipeRight) {
      this.realTable.style.overflow = "hidden";
    }
  }.bind(this), 80);
};

tableView.prototype.addEvent = function () {};

tableView.prototype.swipeCompleteLeft = function (e, me, index, data, row, parent) {
  parent.exactlyDeleteRow(index);
};

tableView.prototype.swipeCompleteRight = function (e, me, index, data, row, parent) {
  parent.exactlyDeleteRow(index);
};

tableView.prototype.swipeCancel = function () {};

tableView.prototype.setUpSlip = function () {
  var self = this;
  this.bodyTable.addEventListener('slip:reorder', function (e) {
    var index = e.detail.originalIndex;
    var spliceIndex = e.detail.spliceIndex;
    self.changeRowIndex(index, spliceIndex);
  }, false);
  if (this.bodyTable.addEventComplete == true) return;
  this.bodyTable.addEventListener('slip:beforewait', function (e) {
    if (e.target.className.indexOf !== undefined && e.target.className.indexOf('drag-icon-button') > -1) e.preventDefault();
  }, false);
  this.bodyTable.addEventListener('slip:beforeswipe', function (e) {
    var startPoint = e.target;

    while (startPoint != null && startPoint.tagName != "TR") {
      startPoint = startPoint.parentNode;
    }

    startPoint = startPoint.startPositionAverage;
    if (self.isSwipeRight === false && e.detail.directionX === "left" && !(startPoint > 0)) e.preventDefault();
    if (self.isSwipeLeft === false && e.detail.directionX === "right" && !(startPoint > 0)) e.preventDefault(); // else if(!startPoint>0)
    // this.slip.animateToZero();
  }.bind(this), false);
  this.bodyTable.addEventListener('slip:cancelswipe', function (e) {
    self.swipeCancel();
  }, false);
  this.bodyTable.addEventListener('slip:swipe', function (e) {
    // functionClick(event, this, index, row.data, row, result);
    var index = e.detail.originalIndex;
    var me = self.bodyTable.childNodes[index];
    var parent = me.elementParent; // var tempIndex = index;

    index = parent.childrenNodes.indexOf(me);
    if (e.detail.direction === "left") self.swipeCompleteLeft(e, me, index, me.data, me, parent);
    if (e.detail.direction === "right") self.swipeCompleteRight(e, me, index, me.data, me, parent);
  }, false);
  this.bodyTable.addEventComplete = true;
};

tableView.prototype.changeRowIndex = function (index, spliceIndex) {
  var self = this;
  var result = self;

  if (isNumeric(index) != true) {
    var me = index;
    index = -1;

    for (var i = 0; i < self.bodyTable.childNodes.length; i++) {
      if (self.bodyTable.childNodes[i] == me) {
        index = i;
        break;
      }
    }
  } else var me = self.bodyTable.childNodes[index];

  var tempIndex, tempSpliceIndex;
  var elementReal = me.elementParent.childrenNodes[spliceIndex];
  var element = me;
  if (elementReal === undefined) elementReal = self.getElementNext(me.elementParent.childrenNodes[me.elementParent.childrenNodes.length - 1]);
  result.bodyTable.insertBefore(element, elementReal);

  if (element.classList.contains("more-child")) {
    element.classList.remove("more-child");
  }

  if (element.getElementChild !== undefined) {
    var elementChild = element.getElementChild();

    if (elementChild.length !== 0) {
      for (var i = 0; i < elementChild.length; i++) {
        result.bodyTable.insertBefore(elementChild[i], elementReal);
      }
    }
  }

  self = element.elementParent;
  result = self;
  tempIndex = index;
  tempSpliceIndex = spliceIndex;
  index = self.childrenNodes.indexOf(element);
  spliceIndex = self.childrenNodes.indexOf(elementReal);

  if (result.data.child !== undefined) {
    if (spliceIndex === -1) spliceIndex = self.childrenNodes.length;
    result.data.child = changeIndex(result.data.child, index, spliceIndex);
  } else {
    result.data = changeIndex(result.data, index, spliceIndex);
  }

  result.childrenNodes = changeIndex(result.childrenNodes, index, spliceIndex);
  var k = 0;

  for (var i = 0; i < result.clone.length; i++) {
    var checkValue = array_insertBefore(result.clone[i], element.childNodes[k], spliceIndex + 1);
    if (checkValue === false) continue;
    result.clone[i] = checkValue;
    k++;
  }

  if (result.checkSpan !== undefined) result.checkSpan = changeIndex(result.checkSpan, index, spliceIndex);
  var event = new CustomEvent('dragdrop', {
    bubbles: true,
    detail: {
      event: event,
      me: me,
      index: tempIndex,
      spliceIndex: tempSpliceIndex,
      parent: self,
      dataSpliceIndex: spliceIndex,
      dataIndex: index,
      afterIndex: index = self.childrenNodes.indexOf(element)
    }
  });
  self.dispatchEvent(event);
};

tableView.prototype.saveTheme = function () {
  setCookie(this.isSaveTheme + "token_pizo_table_header" + window.token, JSON.stringify(this.header), 3);
  var arr = [];

  for (var i = 0; i < this.clone.length; i++) {
    arr.push(this.clone[i][0].id);
  }

  this.arrSortHeader = arr;
  setCookie(this.isSaveTheme + "token_pizo_table_sort" + window.token, JSON.stringify(arr), 3);
};

tableView.prototype.getCellHeader = function (header, i) {
  var value, style, classList, dragElement, cell, bonus;
  var result = this;
  var dragHorizontal = result.dragHorizontal;
  var dragVertical = result.dragVertical;
  var check = result.check;
  var toUpperCase = result.toUpperCase;
  var toLowerCase = result.toLowerCase;
  var functionClickSort;

  if (header.value === undefined) {
    if (ModuleView_typeof(header) === "object") value = "";else value = header;
  } else value = header.value;

  if (toUpperCase) value = value.toUpperCase();
  if (toLowerCase) value = value.toLowerCase();
  var functionClick = undefined;

  switch (header.type) {
    case "check":
      check[i] = "check";
      bonus = ModuleView_({
        tag: "checkboxbutton",
        "class": "pizo-checkbox",
        style: {
          display: "flex",
          flexGrow: 2
        },
        on: {
          change: function change(event) {
            for (var j = 1; j < result.bodyTable.listCheckBox.length; j++) {
              result.bodyTable.listCheckBox[j].update(this.checked);
            }
          }
        }
      });

      bonus.update = function () {
        for (var j = 1; j < result.bodyTable.listCheckBox.length; j++) {
          if (result.bodyTable.listCheckBox[j].checked === false) {
            result.bodyTable.listCheckBox[0].checked = false;
            return;
          }
        }

        result.bodyTable.listCheckBox[0].checked = true;
      };

      result.bodyTable.listCheckBox = [bonus];
      break;

    case "increase":
      check[i] = "increase";
      break;

    case "dragzone":
      if (dragVertical) check[i] = "dragzone";else {
        check[i] = "hidden";
        return;
      }
      break;

    case "detail":
      check[i] = "detail";
      var icon = "more";
      if (header.icon !== undefined) icon = header.icon;
      bonus = ModuleView_({
        tag: "i",
        "class": "material-icons",
        style: {
          fontSize: "1.4em",
          cursor: "pointer",
          verticalAlign: "bottom"
        },
        props: {
          innerHTML: icon
        },
        on: {
          click: function click() {
            document.body.appendChild(result.modalChoice());
          }
        }
      });
      break;
  }

  if (header.sort === true || header.sort === undefined) {
    functionClickSort = function functionClickSort(event, me, index, dataIndex, row, result) {
      var last_sort = document.getElementsByClassName("downgrade");
      last_sort = last_sort[0];
      me = me.parentNode;

      if (last_sort !== me && last_sort !== undefined) {
        last_sort.classList.remove("downgrade");
      }

      var last_sort = document.getElementsByClassName("upgrade");
      last_sort = last_sort[0];

      if (last_sort !== me && last_sort !== undefined) {
        last_sort.classList.remove("upgrade");
      }

      if (!me.classList.contains("downgrade")) {
        sortArray(result.data, index);
        me.classList.add("downgrade");
        if (me.classList.contains("upgrade")) me.classList.remove("upgrade");
      } else {
        sortArray(result.data, index, false);
        me.classList.add("upgrade");
        if (me.classList.contains("downgrade")) me.classList.remove("downgrade");
      }

      var event = new CustomEvent('sort', {
        bubbles: true,
        detail: {
          event: event,
          me: me,
          index: index,
          dataIndex: dataIndex,
          row: row,
          result: result
        }
      });
      result.dispatchEvent(event);
      if (result.paginationElement !== undefined && result.paginationElement.noneValue !== true) result.paginationElement.reActive();else result.updateTable();
    };
  }

  if (header.functionClick !== undefined) functionClick = header.functionClick;
  style = {};
  if (header.style !== undefined) style = header.style;
  classList = [];
  if (header.classList !== undefined) classList = header.classList;
  dragElement = true;
  if (header.dragElement !== undefined && header.dragElement === false) dragElement = false;

  var container = ModuleView_({
    tag: "div",
    "class": "container-header"
  });

  var on = {
    click: function (index, functionClick) {
      return function (event) {
        // event.preventDefault();
        if (functionClick !== undefined) {
          var row = cell.parentNode;
          functionClick(event, this, index, row.data, row, result);
        }
      };
    }(i, functionClick),
    dragstart: dragHorizontal && dragElement ? function () {
      return false;
    } : undefined
  };
  var mousedown = dragHorizontal && dragElement ? function (index) {
    return function (event) {
      // event.preventDefault();
      var finalIndex;

      for (var i = 0; i < result.clone.length; i++) {
        if (result.clone[i][0].id == index) {
          finalIndex = i;
          break;
        }
      }

      this.hold = false;
      var dom = this;
      this["default"] = event;
      this.timeoutID = setTimeout(function () {
        dom.hold = true;
        moveElement(event, dom, result, finalIndex);
      }, 200);
    };
  }(i) : undefined;

  var mouseup = function mouseup() {
    if (this.hold === false) {
      this.hold = true; // this.click();

      clearTimeout(this.timeoutID);
    }
  };

  var mousemove = dragHorizontal && dragElement ? function (index) {
    return function (event) {
      if (this.hold === false) {
        var finalIndex;

        for (var i = 0; i < result.clone.length; i++) {
          if (result.clone[i][0].id == index) {
            finalIndex = i;
            break;
          }
        }

        this.hold = false;
        var deltaX = this["default"].clientX - event.clientX,
            deltaY = this["default"].clientY - event.clientY;

        if (Math.abs(deltaX) + Math.abs(deltaY) > 10) {
          this.hold = true;
          moveElement(event, this, result, finalIndex);
          clearTimeout(this.timeoutID);
        }
      }
    };
  }(i) : undefined;

  if (BrowserDetector["a" /* default */].isMobile) {
    on["touchstart"] = mousedown;
    on["touchend"] = mouseup;
    on["touchmove"] = mousemove;
  } else {
    on["mousedown"] = mousedown;
    on["mouseup"] = mouseup;
    on["mousemove"] = mousemove;
  }

  cell = ModuleView_({
    tag: "th",
    attr: {
      role: 'columnheader'
    },
    style: style,
    "class": classList,
    child: [container],
    props: {
      id: i
    },
    on: on
  });
  cell.data = header;
  if (functionClick !== undefined) cell.style.cursor = "pointer";

  var childUpDown = ModuleView_({
    tag: "div",
    "class": "sort-container",
    on: {
      click: function (index, functionClickSort) {
        return function (event) {
          // event.preventDefault();
          if (functionClickSort !== undefined) {
            var row = cell.parentNode;
            functionClickSort(event, this, index, row.data, row, result);
          }
        };
      }(i, functionClickSort)
    },
    child: [{
      tag: "sort-up",
      "class": ["arrow_up"]
    }, {
      tag: "sort-down",
      "class": ["arrow_down"]
    }]
  });

  result.sortArray[i] = childUpDown;

  result.exactlySort = function () {
    childUpDown.click();
  };

  if (header.sort === true) {
    cell.classList.add("has-sort");
  }

  if (header.element === undefined) {
    container.addChild(ModuleView_({
      tag: "span",
      props: {
        innerHTML: value
      }
    }));
  } else {
    container.appendChild(data[i][j].element);
  }

  if (bonus !== undefined) {
    container.addChild(bonus);
    bonus = undefined;
  }

  container.addChild(childUpDown);
  cell.container = container;
  return cell;
};

tableView.prototype.modalChoice = function () {
  var self = this;

  var tempDiv = ModuleView_({
    tag: "div",
    "class": "tableview-choice-container-content"
  });

  var _functionESC;

  var modal = ModuleView_({
    tag: "modal",
    "class": "tableview-choice-container",
    child: [{
      tag: "div",
      "class": "tableview-choice-container-tab",
      child: [{
        tag: "span",
        "class": "tableview-choice-container-tab-label",
        props: {
          innerHTML: "Chọn thông tin hiển thị"
        }
      }, {
        tag: "button",
        "class": "tableview-choice-container-tab-button",
        on: {
          click: function click(event) {
            modal.applyChecked();
            self.updateTableHeader();
            modal.selfRemove();
            modal.removeEventListener("keydown", _functionESC);
          }
        },
        props: {
          innerHTML: "Xong"
        }
      }]
    }, tempDiv],
    on: {
      click: function click(event) {
        if (event.target.classList.contains("tableview-choice-container") == true) {
          modal.selfRemove();
          modal.removeEventListener("keydown", _functionESC);
        }
      }
    }
  });

  _functionESC = function functionESC(event) {
    if (event.keyCode == 27) {
      modal.selfRemove();
      modal.removeEventListener("keydown", _functionESC);
    }
  };

  var arrCheckBox = [];
  self.addEventListener("keydown", _functionESC);
  var checked, value;

  for (var i = 0; i < self.header.length; i++) {
    if (self.header[i].disabled == true) continue;
    if (self.header[i].hidden == true) checked = false;else checked = true;
    if (self.header[i].value !== undefined) value = self.header[i].value;else if (typeof self.header[i] === "string") value = self.header[i];else value = "";

    var checkboxTemp = ModuleView_({
      tag: "checkbox",
      props: {
        checked: checked,
        text: value
      }
    });

    checkboxTemp.data = i;
    tempDiv.addChild(checkboxTemp);
    arrCheckBox.push(checkboxTemp);
  }

  if (this.isSaveTheme) {
    this.saveTheme();
  }

  modal.applyChecked = function () {
    for (var i = 0; i < arrCheckBox.length; i++) {
      if (arrCheckBox[i].data.disabled == true) continue;

      if (arrCheckBox[i].checked == false) {
        if (ModuleView_typeof(self.header[arrCheckBox[i].data]) == "object") {
          self.header[arrCheckBox[i].data].hidden = true;
        } else {
          self.header[arrCheckBox[i].data] = {
            value: self.header[arrCheckBox[i].data],
            hidden: true
          };
        }
      } else {
        if (ModuleView_typeof(self.header[arrCheckBox[i].data]) == "object") {
          self.header[arrCheckBox[i].data].hidden = undefined;

          if (self.arrSortHeader) {
            if (self.arrSortHeader.indexOf(arrCheckBox[i].data.toString()) == -1) {
              self.arrSortHeader.push(arrCheckBox[i].data);
            }
          }
        }
      }
    }
  };

  return modal;
};

tableView.prototype.sortTable = function (index, increase) {
  if (increase == -1) {}
};

tableView.prototype.checkLongRow = function (index) {
  var result = this;
  var delta = [];

  for (var i = 0; i < result.clone.length; i++) {
    delta[i] = 0;

    if (result.checkSpan !== undefined) {
      for (var j = 0; j < index; j++) {
        if (result.checkSpan[j] !== undefined) if (result.checkSpan[j][i] !== undefined) delta[i]++;
      }
    }
  }

  return delta;
};

tableView.prototype.checkLongColumn = function (row, column) {
  var result = this;
  var delta = 0;

  if (result.checkSpan !== undefined) {
    for (var j = 0; j < column; j++) {
      if (result.checkSpan[row] !== undefined) if (result.checkSpan[row][j] !== undefined) delta++;
    }
  }

  return delta;
};

tableView.prototype.setArrayFix = function (num, isLeft) {
  var x = setInterval(function () {
    if (this.clone[0][0].offsetWidth > 0) {
      clearInterval(x);
      var i;
      var length;

      if (isLeft) {
        i = 0;
        length = num;
      } else {
        i = this.clone.length - num;
        length = this.clone.length;
      }

      var isAdd = false;
      var arrWidth = [];

      for (; i < length; i++) {
        if (this.clone[i][0].tagName === "TH" && !this.clone[i][0].classList.contains("postionStickyCell")) {
          this.clone[i][0].classList.add("postionStickyCell");
          this.clone[i][0].style.zIndex = 6;
          arrWidth[i] = this.clone[i][0].offsetWidth + "px";
          isAdd = true;
        }
      }

      var ratio;

      if (i !== 0) {
        i = num;
        length = this.clone.length;
      } else {
        i = 0;
        length = num;
      }

      if (isAdd === true) {
        var sum = 0;
        var a = i;

        for (i = 0; i < length; i++) {
          if (this.clone[i][0].style.maxWidth === "") {
            sum += this.clone[i][0].offsetWidth;
          }
        }

        ratio = this.realTable.offsetWidth / sum;

        for (; a < length; a++) {
          if (this.clone[a][0].style.maxWidth === "") {
            arrWidth[a] = this.clone[a][0].offsetWidth * ratio + "px";
          } else {
            arrWidth[a] = this.clone[a][0].offsetWidth + "px";
          }
        }
      } else ratio = 1;

      if (isAdd === true) for (var i = 0; i < this.clone.length; i++) {
        this.clone[i][0].style.minWidth = arrWidth[i];
        this.clone[i][0].style.width = arrWidth[i];
        this.clone[i][0].style.maxWidth = arrWidth[i];

        if (this.clone[i][0].classList.contains("postionStickyCell")) {
          this.clone[i][0].style.left = this.clone[i][0].offsetLeft + "px";
        }
      }

      for (var i = 0; i < this.clone.length; i++) {
        for (var j = 0; j < this.clone[i].length; j++) {
          if (this.clone[i][j].tagName !== "TH" && !this.clone[i][j].classList.contains("postionStickyCell") && this.clone[i][0].classList.contains("postionStickyCell")) {
            this.clone[i][j].classList.add("postionStickyCell");
            this.clone[i][j].style.left = this.clone[i][0].style.left;
          }

          if (this.clone[i][j].parentNode.childrenNodes && this.clone[i][j].parentNode.childrenNodes.length !== 0) this.clone[i][j].parentNode.setArrayFix(num, isLeft);
        }
      }
    }
  }.bind(this), 10);
};

tableView.prototype.setArrayScroll = function (num) {
  var isLeft = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
  var self = this;
  if (isLeft) this.numArrayFixLeft = num;else this.numArrayFixRight = num;

  ModuleView_('attachhook').once('error', function () {
    setTimeout(function () {
      self.setArrayFix(num, isLeft);
    }, 10);
  });
};

tableView.prototype.addInputSearchHeader = function () {
  this.isInputHeader = true;
  var header = this.header;
  var check = this.check;
  var clone = this.clone;
  var index;

  for (var i = 0; i < clone.length; i++) {
    index = clone[i][0].id;

    if (check[index] === undefined && header[index].disableInput !== true) {
      var input = ModuleView_({
        tag: "input",
        "class": "searchheader-input"
      });

      this.addInputSearch(input, index);
      clone[i][0].appendChild(ModuleView_({
        tag: "div",
        "class": "searchheader",
        child: [input]
      }));
    }
  }
};

tableView.prototype.addInputSearch = function (input, index) {
  var self = this;
  self.hashTable = new HashTable(self.data);

  input.onchange = function (event) {
    var needUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

    if (this.updateTimeOut !== undefined) {
      clearTimeout(this._updateTimeOut);
      this.updateTimeOut = undefined;
    }

    this.updateTimeOut = setTimeout(function () {
      if (input.value !== input.lastInputSearch || needUpdate == true) {
        self.checkTableView(input.value, index);
        input.lastInputSearch = input.value;
        self.updatePagination();
      }
    }.bind(this), 500);
  };

  input.oninput = input.onchange;
  if (self.inputElement === undefined) self.inputElement = [];
  self.inputElement.push(input);
};

tableView.prototype.addFilter = function (input, index, functionChange) {
  var self = this;
  self.hashTableFilter = new HashTableFilter(self.data);
  var functionFilter;

  if (functionChange === undefined) {
    functionFilter = function functionFilter(event) {
      var needUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      self.checkTableViewFilter(input.value, index);
      self.updatePagination();
    };
  } else {
    functionFilter = functionChange;
  }

  input.on("change", functionFilter);
  if (self.inputFilter === undefined) self.inputFilter = [];
  self.inputFilter.push([input, index]);
};

tableView.prototype.checkTableView = function (value, index) {
  var self = this;
  self.hashTable.getKey(value, index);
  self.data.sort(function (a, b) {
    if (a.exactly === undefined) {
      if (b.exactly === undefined) return 0;
      return -1;
    }

    if (b.exactly === undefined) return 1;

    if (a.exactly < b.exactly) {
      return -1;
    }

    if (a.exactly > b.exactly) {
      return 1;
    }

    return 0;
  });
};

tableView.prototype.checkTableViewFilter = function (value, index) {
  var self = this;
  self.hashTableFilter.getKey(value, index);
};

tableView.prototype.updateHash = function (row) {
  var object = row.data;
  var value;

  if (this.inputElement !== undefined || this.inputFilter !== undefined) {
    if (this.inputFilter !== undefined) for (var k = 0; k < this.inputFilter.length; k++) {
      if (this.inputFilter[k][0].value == 0) continue;
      if (object[this.inputFilter[k][1]].value !== undefined) value = object[this.inputFilter[k][1]].value;else if (typeof object[this.inputFilter[k][1]] === "string") value = object[this.inputFilter[k][1]];else value = "";

      if (this.inputFilter[k][0].value != object[this.inputFilter[k][1]]) {
        row.classList.add("disPlayNone");
        setTimeout(function () {
          row.classList.remove("parent");
        }, 10);
        return false;
      }
    }

    for (var i = 0; i < object.length; i++) {
      if (object[i].value !== undefined) value = object[i].value;else if (typeof object[i] === "string") value = object[i];else value = "";
      if (this.inputElement !== undefined) for (var k = 0; k < this.inputElement.length; k++) {
        if (this.inputElement[k].value === "") continue;

        for (var j = 0; j < value.length; j++) {
          var checkCharacter = -1;
          var current = this.inputElement[k].value.indexOf[value[j]];

          if (current == -1 || current < checkCharacter) {
            row.classList.add("disPlayNone");
            setTimeout(function () {
              row.classList.remove("parent");
            }, 10);
            return false;
          } else checkCharacter = current;
        }
      }
    }
  }

  return true;
};

tableView.prototype.resetHash = function () {
  var self = this;
  if (self.hashTable !== undefined) self.hashTable = new HashTable(self.data);
  if (self.hashTableFilter !== undefined) self.hashTableFilter = new HashTableFilter(self.data);
};

tableView.prototype.setVisiableFalse = function (arr) {
  for (var i = 0; i < arr.length; i++) {
    arr[i].visiable = false;
    if (arr[i].child !== undefined) this.setVisiableFalse(arr[i].child);
  }
};

tableView.prototype.setVisiableAll = function (arr) {
  for (var i = 0; i < arr.length; i++) {
    arr[i].confirm = true;
    if (arr[i].child !== undefined) this.setVisiableAll(arr[i].child);
  }
};

tableView.prototype.setVisiableAllNoneUpdate = function (arr) {
  for (var i = 0; i < arr.length; i++) {
    arr[i].visiable = true;
  }
};

tableView.prototype.getBodyTable = function (data, index) {
  var isFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var nodeBefore = arguments.length > 3 ? arguments[3] : undefined;
  var temp = this.bodyTable;
  var result = this,
      k,
      delta = [],
      row,
      cell;
  var arr = [];
  var i = 0;
  var isCheckChild;
  if (this.startIndex == undefined) this.startIndex = 0;
  var startIndexCell;

  if (index == undefined) {
    index = 0;
    startIndexCell = this.startIndex;
  } else startIndexCell = index;

  if (this.currentIndex !== undefined) {
    i = this.currentIndex;
  } else {
    this.currentIndex = i;
  }

  var deltaLong = -1;
  var isFlag = false;
  result.checkSpan = [];
  if (result.indexRow == undefined || result.indexRow >= this.tempIndexRow) result.indexRow = 0;
  var indexIncrease = {
    a: this.indexRow + startIndexCell
  };

  Loop: for (; i < data.length && this.indexRow <= this.tempIndexRow + deltaLong; i++) {
    isCheckChild = false;

    if (data[i].child !== undefined) {
      data[i].child.updateVisible = data.updateVisible;
      data[i].child.ortherFilter = data.ortherFilter;
    }

    if (data[i].oldIndex === undefined) data[i].oldIndex = i;

    if (data.updateVisible === true) {
      var tempCheck = data[i].confirm;
      data[i].confirm = undefined;
      data[i].exactly = undefined;
      data[i].isComplete = undefined;

      if (tempCheck !== true) {
        data[i].visiable = false;
        if (data[i].child !== undefined) result.setVisiableFalse(data[i].child); // if (data[i].child !== undefined) {
        //     result.getBodyTable(data[i].child);
        // }

        continue;
      } else {
        data[i].visiable = undefined;
        data[i].updateVisible = undefined;
        isCheckChild = true; // if (data[i].child !== undefined)
        //     result.setVisiableAll(data[i].child)
      }
    } else {
      if (data[i].visiable === false) {
        // if (data[i].child !== undefined)
        //     result.getBodyTable(data[i].child);
        continue;
      } else if (data[i].visiable === true) {
        data[i].visiable = undefined; // if (data[i].child !== undefined)
        //     result.setVisiableAllNoneUpdate(data[i].child)
      } else if (data.ortherFilter === true) {
        if (data[i].visiable === undefined) {
          // if (data[i].child !== undefined)
          //     result.getBodyTable(data[i].child);
          continue;
        }
      }
    }

    if (index !== 0) {
      index--;
      isFlag = true;
      continue;
    }

    if (isFlag == true) {
      if (index === 0) {
        if (data[i].getRowMerge && data[i].getRowMerge.length > 1) {
          var indexDataRow = data[i].getRowMerge.indexOf(data[i]);

          if (indexDataRow > 0) {
            i -= indexDataRow;
            deltaLong += indexDataRow;
          }
        }
      }

      isFlag = false;
    }

    row = result.getRow(data[i]);
    if (isCheckChild === true) ModuleView_('attachhook').once('error', function (rowAfter) {
      if (rowAfter.childrenNodes && rowAfter.childrenNodes.length == 0 && rowAfter.classList.contains("more-child")) {
        rowAfter.classList.remove("more-child");
      }
    }.bind(this, row));

    if (nodeBefore) {
      temp.insertBefore(row, nodeBefore);
    } else temp.addChild(row);

    arr.push(row);
    var tempX = {
      a: this.tempIndexRow - this.indexRow + deltaLong
    };

    for (var j = 0; j < result.realTable.parentNode.clone.length; j++) {
      k = parseFloat(result.realTable.parentNode.clone[j][0].id);
      if (delta[j] === undefined) delta[j] = 0;
      cell = result.getCell(data[i], indexIncrease, k, j, result.checkSpan, row, tempX);

      if (this.tempIndexRow - this.indexRow + deltaLong < tempX.a) {
        deltaLong -= tempX.a;
        row.selfRemove();
      }

      if (cell === 6 || cell === 2) {
        result.clone[j].splice(this.indexRow + 1 - delta[j], 1);
        delta[j] += 1;
        continue;
      }

      if (cell === true) {
        continue;
      }

      cell.clone = result.clone;
      result.clone[j][this.indexRow + 1 - delta[j]] = cell;
      row.addChild(cell);
    }

    row.checkChild();
    this.indexRow++;
    indexIncrease.a++;
  }

  this.currentIndex = i;
  this.startIndex = indexIncrease.a;
  if (data.updateVisible) result.setConfirm(data, i);
  if (isFirst == true) result.setMergeCell(data, result.checkSpan, i - 1);
  if (result.checkMargin !== undefined) result.checkMargin();
  data.ortherFilter = undefined;
  data.updateVisible = undefined;
  result.childrenNodes = result.childrenNodes.concat(arr);
  result.lastRowElement(); // this.indexRow = 0;

  return arr;
};

tableView.prototype.checkVisiableCell = function (x, y) {
  if (ModuleView_typeof(this.data[x][y]) !== "object") return true;

  if (x > 0) {
    if (this.data[x - 1][y] === this.data[x][y]) return false;
  }

  if (y > 0) {
    if (this.data[x][y - 1] === this.data[x][y]) return false;
  }

  return true;
};

tableView.prototype.setMergeCell = function (arr, checkSpan) {
  var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
  var data;
  var rowMergeData;

  if (i === -1) {
    return;
  }

  for (i; i < arr.length; i++) {
    rowMergeData = arr[i].getRowMerge;

    if (rowMergeData === undefined) {
      rowMergeData = [arr[i]];
      Object.defineProperty(arr[i], "getRowMerge", {
        get: function (rowMergeData) {
          return function () {
            return rowMergeData;
          };
        }(rowMergeData),
        set: function (rowMergeData) {
          return function (value) {
            rowMergeData = value;
          };
        }(rowMergeData),
        configurable: true
      });
    }

    for (var j = 0; j < arr[i].length; j++) {
      data = arr[i][j];

      if (checkSpan[i] !== undefined) {
        if (checkSpan[i][j] == 2) {
          var rowMerge = arr[i - 1].getRowMerge;

          if (rowMerge.indexOf(arr[i]) === -1) {
            rowMerge.push(arr[i]);
          }

          Object.defineProperty(arr[i], "getRowMerge", {
            get: function (rowMerge) {
              return function () {
                return rowMerge;
              };
            }(rowMerge),
            set: function (rowMerge) {
              return function (value) {
                rowMerge = value;
              };
            }(rowMerge),
            configurable: true
          });
          var define = arr[i - 1][j];
          Object.defineProperty(arr[i], j, {
            get: function (define) {
              return function () {
                return define;
              };
            }(define),
            set: function set(define) {
              return function (value) {
                define = value;
              };
            }
          });
        }

        if (checkSpan[i][j] == 6) {
          var define = arr[i][j - 1];
          Object.defineProperty(arr[i], j, {
            get: function (define) {
              return function () {
                return define;
              };
            }(define),
            set: function (define) {
              return function () {
                define = value;
              };
            }(define)
          });
        }
      }

      var isCheckRow = 0;

      if (data.rowspan !== undefined) {
        for (var l = i + 1; l < i + data.rowspan; l++) {
          if (checkSpan[l] === undefined) checkSpan[l] = [];
          checkSpan[l][j] = 2;
        }

        isCheckRow = data.rowspan - 1;
        data.rowspan = undefined;
      }

      if (data.colspan !== undefined) {
        for (var l = j + 1; l < j + data.colspan; l++) {
          for (var x = 0; x <= isCheckRow; x++) {
            if (checkSpan[i + x] === undefined) checkSpan[i + x] = [];
            checkSpan[i + x][l] = 6;
          }
        }

        data.colspan = undefined;
      }
    }

    if (arr[i].child !== undefined) {
      this.setMergeCell(arr[i].child, checkSpan);
    }
  }
};

tableView.prototype.setConfirm = function (arr) {
  var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

  for (i; i < arr.length; i++) {
    if (arr[i].oldIndex === undefined) arr[i].oldIndex = i;
    if (arr[i].confirm !== undefined) arr[i].visiable = arr[i].confirm;else arr[i].visiable = false;
    arr[i].confirm = undefined;
    arr[i].exactly = undefined;
    arr[i].isComplete = undefined;

    if (arr[i].child !== undefined) {
      this.setConfirm(arr[i].child);
    }
  }
};

tableView.prototype.countRow = function () {
  var countRowVisiable = this.countRowChild(this.data);
  return countRowVisiable;
};

tableView.prototype.countRowChild = function (arr) {
  var countRowVisiable = 0;

  for (var i = 0; i < arr.length; i++) {
    if (arr[i].visiable != false) countRowVisiable++; // if (arr[i].child !== undefined)
    //     countRowVisiable += this.countRowChild(arr[i].child);
  }

  return countRowVisiable;
};

tableView.prototype.pagination = function (number, functionClick) {
  var countPrecent = Math.ceil(this.countRow() / number);

  if (countPrecent <= 1) {
    var temp = ModuleView_({
      tag: "div",
      style: {
        display: "none"
      }
    });

    temp.noneValue = true;
    return temp;
  }

  var self = this;
  var paginationLeftPos = "20px";
  var paginationWidthPos = "40px";
  var paginationOpacity = 0;
  var checkPaginationClick = 0;
  var arr = [];

  var overlay = ModuleView_({
    tag: "div",
    "class": "pagination-hover-overlay"
  });

  var container = ModuleView_({
    tag: "div",
    "class": "pagination-wrapper"
  });

  var realTemp = ModuleView_({
    tag: "div",
    "class": "pagination",
    child: [{
      tag: "div",
      "class": "pagination-container",
      child: [overlay, {
        tag: "div",
        "class": "pagination-prev",
        on: {
          click: function click(event) {
            var temp = ModuleView_$("a.active", container);
            if (temp !== undefined) var prev = temp.previousSibling;

            while (prev != null && prev.classList.contains("detail")) {
              prev = prev.previousSibling;
            }

            if (prev !== null) {
              prev.click();
              temp.style.color = "";
            }
          }
        },
        props: {},
        child: [{
          tag: "span",
          "class": ["icon-pagination", "icon-pagination-prev"],
          child: [{
            tag: "i",
            "class": ["icon", "material-icons"],
            props: {
              innerHTML: "keyboard_arrow_left"
            }
          }]
        }]
      }, container, {
        tag: "div",
        "class": "pagination-next",
        on: {
          click: function click(event) {
            var temp = ModuleView_$("a.active", container);
            if (temp !== undefined) var next = temp.nextSibling;

            while (next != null && next.classList.contains("detail")) {
              next = next.nextSibling;
            }

            if (next !== null) {
              next.click();
              temp.style.color = "";
            }
          }
        },
        child: [{
          tag: "span",
          "class": ["icon-pagination", "icon-pagination-next"],
          child: [{
            tag: "i",
            "class": ["icon", "material-icons"],
            props: {
              innerHTML: "keyboard_arrow_left"
            }
          }]
        }]
      }]
    }]
  });

  var temp = realTemp;

  for (var i = 0; i < countPrecent; i++) {
    if (i == 1) {
      temp.detailLeft = ModuleView_({
        tag: "a",
        "class": ["pagination-page-number", "detail"],
        props: {
          innerHTML: "..."
        }
      });
      container.appendChild(temp.detailLeft);
    }

    if (i == countPrecent - 1) {
      temp.detailRight = ModuleView_({
        tag: "a",
        "class": ["pagination-page-number", "detail"],
        props: {
          innerHTML: "..."
        }
      });
      container.appendChild(temp.detailRight);
    }

    var choiceSelect = ModuleView_({
      tag: "a",
      "class": "pagination-page-number",
      on: {
        click: function (i) {
          return function (event) {
            var active = ModuleView_$("a.active", container);
            if (active !== undefined) active.classList.remove("active");
            this.classList.add("active");
            temp.updateSize();
            paginationOpacity = 1;
            checkPaginationClick = 1;
            overlay.style.backgroundColor = "#00178a";
            overlay.style.opacity = paginationOpacity;
            var x = this;
            setTimeout(function () {
              paginationLeftPos = x.offsetLeft + "px";
              overlay.style.left = paginationLeftPos;
              paginationWidthPos = x.offsetWidth + "px";
              overlay.style.width = paginationWidthPos;
            }, 10);
            this.style.color = "#fff";
            if (functionClick !== undefined) functionClick(event, i);
            self.indexRow = 0;
            self.updateTable(undefined, undefined, undefined, undefined, i * number);
            if (self.scrollParent !== undefined) self.scrollParent.scrollTop = 0;
            if (self.changePageIndex !== undefined) self.changePageIndex(i);
          };
        }(i),
        mouseover: function mouseover(event) {
          paginationOpacity = 1;
          overlay.style.backgroundColor = "#00c1dd";
          overlay.style.left = this.offsetLeft + "px";
          overlay.style.width = this.offsetWidth + "px";
          overlay.style.opacity = paginationOpacity;
          var active = ModuleView_$("a.active", container);
          if (active !== undefined) active.style.color = "#333d45";
          this.style.color = "#fff";
        },
        mouseout: function mouseout(event) {
          if (checkPaginationClick) {
            paginationOpacity = 1;
          } else {
            paginationOpacity = 0;
          }

          overlay.style.backgroundColor = "#00178a";
          overlay.style.opacity = paginationOpacity;
          overlay.style.left = paginationLeftPos;
          overlay.style.width = paginationWidthPos;
          this.style.color = "#333d45";
          var active = ModuleView_$("a.active", container);
          if (active !== undefined) active.style.color = "#fff";
        }
      },
      props: {
        innerHTML: i + 1
      }
    });

    choiceSelect.index = i + 1;
    arr.push(choiceSelect);
    container.appendChild(choiceSelect);
  }

  temp.resetChoice = function () {
    setTimeout(function () {
      arr[0].click();
    }, 10);
  };

  temp.resetOnlyView = function () {
    setTimeout(function () {
      if (arr.length == 0) return;
      var temp = ModuleView_$("a.active", container);

      if (temp !== undefined) {
        temp.classList.remove("active");
        temp.style.color = "";
      }

      arr[0].classList.add("active");
      paginationLeftPos = arr[0].offsetLeft + "px";
      paginationWidthPos = arr[0].offsetWidth + "px";
      paginationOpacity = 1;
      checkPaginationClick = 1;
      overlay.style.left = paginationLeftPos;
      overlay.style.width = paginationWidthPos;
      overlay.style.backgroundColor = "#00178a";
      overlay.style.opacity = paginationOpacity;
      arr[0].style.color = "#fff";
    }, 10);
  };

  temp.reActive = function () {
    var temp = ModuleView_$("a.active", container);
    if (temp !== undefined) temp.click();
  };

  temp.resetOnlyView();
  var displayNone = [];

  temp.updateSize = function () {
    setTimeout(function () {
      temp.detailLeft.style.display = "";
      temp.detailRight.style.display = "";

      for (var i = 0; i < displayNone.length; i++) {
        displayNone[i].style.display = "";
      }

      var i = 0;
      var active = ModuleView_$("a.active", container);
      displayNone = [active];
      var lastIndexPrev, lastIndexPrevBefore;
      var lastIndexNext, lastIndexNextBefore;
      var isLeft = false,
          isRight = false;

      if (active !== undefined) {
        var prev = active.previousSibling,
            next = active.nextSibling;

        while (container.offsetWidth <= self.realTable.offsetWidth - 160 && !(isLeft == true && isRight == true)) {
          if (isRight == false && next != null) {
            while (next == temp.detailRight || next == temp.detailLeft) {
              next = next.nextSibling;
            }

            next.style.display = "flex";
            lastIndexNextBefore = lastIndexNext;
            lastIndexNext = next;
            displayNone.push(next);
            next = next.nextSibling;
            i++;
          } else {
            isRight = true;
          }

          if (container.offsetWidth > self.realTable.offsetWidth - 160) break;

          if (isLeft == false && prev != null) {
            while (prev == temp.detailLeft || prev == temp.detailRight) {
              prev = prev.previousSibling;
            }

            prev.style.display = "flex";
            lastIndexPrevBefore = lastIndexPrev;
            lastIndexPrev = prev;
            displayNone.push(prev);
            prev = prev.previousSibling;
            i++;
          } else {
            isLeft = true;
          }
        }

        if (isRight == false && lastIndexNext !== undefined && lastIndexNext.nextSibling !== null) {
          lastIndexNext.style.display = "";
          lastIndexNextBefore.style.display = "";
          temp.detailRight.style.display = "flex";
          displayNone.push(container.lastChild);
          container.lastChild.style.display = "flex";
        }

        if (isLeft == false && lastIndexPrev !== undefined && lastIndexPrev.previousSibling !== null) {
          lastIndexPrev.style.display = "";
          lastIndexPrevBefore.style.display = "";
          temp.detailLeft.style.display = "flex";
          displayNone.push(container.firstChild);
          container.firstChild.style.display = "flex";
        }
      }
    }, 10);
  };

  temp.updateSize();

  this["goto"] = function (index) {
    var active = ModuleView_$("a.active", container);
    if (active !== undefined) active.style.color = "#333d45";
    arr[index - 1].click();
  };

  this.getPaginationIndex = function () {
    var active = ModuleView_$("a.active", container);
    if (active !== undefined) return active.index;else return 1;
  };

  this.getPaginationLength = function () {
    return countPrecent;
  };

  return temp;
};

tableView.prototype.getRow = function (data) {
  var temp = ModuleView_({
    tag: "tr"
  });

  var result = this;
  setTimeout(function () {
    temp.classList.add("parent");
  }, 10);
  var rowMerge = data.getRowMerge;

  if (rowMerge === undefined) {
    rowMerge = [data];
  }

  Object.defineProperty(data, "getRowMerge", {
    get: function get() {
      return rowMerge;
    },
    set: function set(value) {
      rowMerge = value;
    },
    configurable: true
  });
  Object.assign(temp, tableView.prototype);
  temp.realTable = result.realTable;
  temp.headerTable = result.headerTable;
  temp.bodyTable = result.bodyTable;
  temp.check = result.check;
  temp.header = result.header;
  temp.dragVertical = result.dragVertical;
  temp.dragHorizontal = result.dragHorizontal;
  temp.data = data;
  if (temp.data.child === undefined) temp.data.child = [];
  temp.childrenNodes = [];
  temp.clone = [];
  temp.parentMargin = result.parentMargin + 1;
  temp.childIndex = result.childIndex;
  temp.moreChild = temp.data.moreChild;
  temp.data.moreChild = undefined;
  temp.tempIndexRow = result.tempIndexRow;

  temp.checkLeft = function () {
    for (var i = 0; i < temp.childNodes.length; i++) {
      temp.childNodes[i].checkLeft();
    }
  };

  if (temp.data.marker !== undefined) {
    temp.id = temp.data.marker.toString();
  }

  temp.checkChild = function (data) {
    temp.checkClone();
    if (data !== undefined) temp.data = data;

    if (temp.data.child.length !== 0) {
      temp.checkIcon();
      temp.getBodyTable(temp.data.child, undefined, undefined, temp.getElementNext(temp));
    }
  };

  temp.checkClone = function () {
    if (temp.clone.length === 0) {
      temp.clone = [];
      var k = 0;

      for (var i = 0; i < temp.childNodes.length; i++) {
        temp.clone[k++] = [temp.childNodes[i]];

        if (temp.childNodes[i].colSpan !== 1) {
          k++;
        }
      }
    }
  };

  temp.checkIcon = function () {
    var indexMore = 0;

    if (temp.childIndex !== undefined) {
      if (temp.childIndex === 0) {
        if (!result.realTable.parentNode.classList.contains("padding-High-table")) result.realTable.parentNode.classList.add("padding-High-table");
      }

      indexMore = temp.childIndex;
    }

    temp.classList.add("more-child");

    var buttonClick = ModuleView_({
      tag: "div",
      "class": "more-icon-container",
      on: {
        click: function click(event) {
          temp.setDisPlay();
        }
      },
      child: [{
        tag: "i",
        "class": ["material-icons", "more-button"],
        props: {
          innerHTML: "play_arrow"
        }
      }]
    });

    var x = temp.childNodes[indexMore].firstChild;

    while (x.classList !== undefined && x.classList.contains("margin-div-cell")) {
      x = x.nextSibling;
    }

    temp.childNodes[indexMore].insertBefore(buttonClick, x);
    this.buttonClick = buttonClick;

    result.checkMargin = function () {
      for (var i = 0; i < result.clone[indexMore].length; i++) {
        if (!result.clone[indexMore][i].classList.contains("margin-left-has-icon")) result.clone[indexMore][i].classList.add("margin-left-has-icon");
      }
    };

    result.checkMargin();
    setTimeout(function () {
      if (temp.moreChild == false) {
        temp.setDisPlay();
        temp.moreChild = undefined;
      }
    }, 1);
  };

  temp.checkVisibleChild = function () {
    this.buttonClick.selfRemove();
    var parent = this.childNodes[0].getParentNode();

    if (parent.tagName === "DIV") {
      for (var i = 0; i < parent.bodyTable.childNodes.length; i++) {
        if (parent.bodyTable.childNodes[i].childNodes[parent.childIndex].classList.contains("margin-left-has-icon")) parent.bodyTable.childNodes[i].childNodes[parent.childIndex].classList.remove("margin-left-has-icon");
      }
    }
  };

  temp.updateCurrentRow = function (data) {
    var parent = temp.childNodes[0].getParentNode();
    var index = parent.childrenNodes.indexOf(this);
    if (index == -1) return;
    return parent.updateRow(data, index);
  };

  temp.getParentNode = function () {
    var parent = temp.childNodes[0].getParentNode();
    var index = parent.childrenNodes.indexOf(this);
    if (index == -1) return;
    return parent;
  };

  return temp;
};

tableView.prototype.setDisPlay = function () {
  if (!this.classList.contains("more-child") && this.data.child && this.data.child.length !== this.childrenNodes.length) {
    this.data.updateVisible = undefined;

    for (var i = 0; i < this.childrenNodes.length; i++) {
      this.childrenNodes[i].selfRemove();
    }

    this.childrenNodes = [];
    this.currentIndex = 0;
    this.setVisiableAllNoneUpdate(this.data.child);
    this.getBodyTable(this.data.child, undefined, undefined, this.getElementNext(this));
  }

  if (!this.classList.contains("more-child")) {
    this.classList.add("more-child");
    this.setMoreChild(this.childrenNodes);
  } else {
    this.classList.remove("more-child");
    this.setDisPlayNone();
  }
};

tableView.prototype.setMoreChild = function (childrenNodes) {
  for (var i = 0; i < childrenNodes.length; i++) {
    childrenNodes[i].classList.remove("disPlayNone");
    childrenNodes[i].classList.add("parent");

    ModuleView_('attachhook').once('error', function (rowAfter) {
      if (rowAfter.childrenNodes && rowAfter.childrenNodes.length == 0 && rowAfter.classList.contains("more-child")) {
        rowAfter.classList.remove("more-child");
      }
    }.bind(this, childrenNodes[i]));

    if (childrenNodes[i].classList.contains("more-child")) {
      if (childrenNodes[i].childrenNodes && childrenNodes[i].childrenNodes.length > 0) {
        childrenNodes[i].setMoreChild(childrenNodes[i].childrenNodes);
      } else childrenNodes[i].setDisPlayNone();
    } else {
      childrenNodes[i].setDisPlayNone();
    }
  }
};

tableView.prototype.setDisPlayVisable = function () {
  if (this.classList.contains("more-child")) {
    var childrenNodes = this.childrenNodes;

    for (var i = 0; i < childrenNodes.length; i++) {
      childrenNodes[i].classList.remove("disPlayNone");
      childrenNodes[i].classList.add("parent");
      if (childrenNodes[i].childrenNodes.length !== 0) childrenNodes[i].setDisPlayVisable();
    }
  }
};

tableView.prototype.setDisPlayNone = function () {
  var childrenNodes = this.childrenNodes;

  for (var i = 0; i < childrenNodes.length; i++) {
    childrenNodes[i].classList.remove("parent");
    childrenNodes[i].classList.add("disPlayNone");
    if (childrenNodes[i].childrenNodes.length !== 0) childrenNodes[i].setDisPlayNone();
  }
};

tableView.prototype.getDivMargin = function () {
  return ModuleView_({
    tag: "div",
    "class": "margin-div-cell"
  });
};

tableView.prototype.getTrueCheckBox = function () {
  var indexCheckBox = -1;

  for (var i = 0; i < this.header.length; i++) {
    if (this.header[i].type == "check") {
      indexCheckBox = i;
      break;
    }
  }

  if (indexCheckBox === -1) return [];
  return this.checkChildCheckBox(this.data, indexCheckBox);
};

tableView.prototype.checkChildCheckBox = function (data, indexCheckBox) {
  var arr = [];

  for (var i = 0; i < data.length; i++) {
    if (data[i][indexCheckBox] == true) {
      data[i][indexCheckBox] = false;
      arr.push(data[i]);
    }

    if (data[i][indexCheckBox]["value"] == true) {
      data[i][indexCheckBox]["value"] = false;
      arr.push(data[i]);
    }

    if (data[i].child.length > 0) arr.concat(this.checkChildCheckBox(data[i].child, indexCheckBox));
  }

  return arr;
};

tableView.prototype.getCell = function (dataOrigin, i, j, k) {
  var checkSpan = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];
  var row = arguments.length > 5 ? arguments[5] : undefined;
  var orther = arguments.length > 6 ? arguments[6] : undefined;
  var dataOld = dataOrigin;
  dataOrigin = dataOrigin[j];
  var data = dataOrigin;
  var result = this,
      value,
      bonus,
      style,
      classList,
      cell;

  if (ModuleView_typeof(i) === "object") {
    var objectRealIndex = i;
    var realIndex = objectRealIndex.a;
  } else {
    var realIndex = i;
  }

  var localData;

  if (result.tagName === "DIV") {
    localData = result.data;
  } else {
    localData = result.data.child;
  }

  i = localData.indexOf(dataOld);

  if (i === -1) {
    i = realIndex;
  }

  if (checkSpan[i] !== undefined) {
    if (checkSpan[i][j] == 2) {
      var rowMerge = localData[i - 1].getRowMerge;

      if (rowMerge.indexOf(localData[i]) === -1) {
        rowMerge.push(localData[i]);
      }

      Object.defineProperty(localData[i], "getRowMerge", {
        get: function get() {
          return rowMerge;
        },
        set: function set(value) {
          rowMerge = value;
        },
        configurable: true
      });
      var define = localData[i - 1][j];
      Object.defineProperty(dataOld, j, {
        get: function get() {
          return define;
        },
        set: function set(value) {
          define = value;
        }
      });
      if (this.check[j] === "increase") if (ModuleView_typeof(objectRealIndex) === "object") {
        objectRealIndex.a--;
      }
      return 2;
    }

    if (checkSpan[i][j] == 6) {
      var define = dataOld[j - 1];
      Object.defineProperty(dataOld, j, {
        get: function get() {
          return define;
        },
        set: function set(value) {
          define = value;
        }
      });
      return 6;
    }
  }

  if (data.value === undefined) {
    if (ModuleView_typeof(data) === "object") value = "";else value = data.toString();
  } else value = data.value;

  switch (this.check[j]) {
    case "hidden":
      return true;

    case "increase":
      if (value === "") value += realIndex + 1;
      break;

    case "dragzone":
      if (realIndex !== -1) {
        if (data.icon !== undefined) {
          icon = data.icon;
          bonus = ModuleView_({
            tag: "i",
            "class": ["material-icons"],
            style: {
              fontSize: "20px",
              cursor: "pointer"
            },
            props: {
              innerHTML: icon
            }
          });
        } else {
          bonus = ModuleView_({
            tag: "i",
            "class": ["material-icons", "drag-icon-button"],
            props: {
              innerHTML: "drag_indicator"
            },
            on: {// mousedown: result.dragVertical ? function (event) {
              //     var self = this;
              //     return function (event, cellIndex, self) {
              //         event.preventDefault();
              //         var finalIndex = cellIndex.getParentNode().childrenNodes.indexOf(cellIndex.parentNode);
              //         self.hold = false;
              //         var dom = self;
              //         self.default = event;
              //         self.timeoutID = setTimeout(function () {
              //             dom.hold = true;
              //             moveElementFix(event, dom, cellIndex.getParentNode(), finalIndex + 1);
              //         }, 200);
              //     }(event, cell, self)
              // } : undefined,
              // dragstart: result.dragVertical ? function () {
              //     return false;
              // } : undefined,
              // mouseup: function () {
              //     if (this.hold === false) {
              //         this.hold = true;
              //         // this.click();
              //         clearTimeout(this.timeoutID);
              //     }
              // },
              // mousemove: result.dragVertical ? function (event) {
              //     var self = this;
              //     return function (event, cellIndex, self) {
              //         if (self.hold === false) {
              //             var finalIndex = cellIndex.getParentNode().childrenNodes.indexOf(cellIndex.parentNode);
              //             self.hold = false;
              //             var deltaX = self.default.clientX - event.clientX,
              //                 deltaY = self.default.clientY - event.clientY;
              //             if ((Math.abs(deltaX) + Math.abs(deltaY)) > 10) {
              //                 self.hold = true;
              //                 moveElementFix(event, self, cellIndex.getParentNode(), finalIndex + 1);
              //                 clearTimeout(self.timeoutID);
              //             }
              //         }
              //     }(event, cell, self)
              // } : undefined,
            }
          });
        }
      }

      break;

    case "check":
      if (realIndex !== -1) {
        bonus = ModuleView_({
          tag: "checkboxbutton",
          "class": "pizo-checkbox",
          on: {
            change: function change(event) {
              if (result.bodyTable.listCheckBox !== undefined) {
                if (this.checked === false) result.bodyTable.listCheckBox[0].checked = false;else {
                  if (result.bodyTable.listCheckBox[0].checked === false) for (var j = 1; j < result.bodyTable.listCheckBox.length; j++) {
                    if (result.bodyTable.listCheckBox[j].checked === false) {
                      j--;
                      break;
                    }
                  }

                  if (j === result.bodyTable.listCheckBox.length) {
                    result.bodyTable.listCheckBox[0].checked = true;
                  }
                }
                this.update();
              }
            }
          }
        });

        bonus.update = function (checked) {
          if (checked == undefined) dataOrigin.value = this.checked;else {
            dataOrigin.value = checked;

            if (this.checked != checked) {
              this.checked = checked;
              this.emit("change");
            }
          }
        };

        if (dataOrigin.value === true) bonus.checked = dataOrigin.value;
        if (result.bodyTable.listCheckBox !== undefined) result.bodyTable.listCheckBox.push(bonus);
      }

      break;

    case "detail":
      if (realIndex !== -1) {
        var icon = "more_vert";
        if (data.icon !== undefined) icon = data.icon;
        bonus = ModuleView_({
          tag: "i",
          "class": "material-icons",
          style: {
            fontSize: "20px",
            cursor: "pointer"
          },
          props: {
            innerHTML: icon
          }
        });
      }

      break;
  }

  var functionClick = undefined;
  if (data.functionClick !== undefined) functionClick = data.functionClick;else {
    if (result.header[j].functionClickAll !== undefined) functionClick = result.header[j].functionClickAll;
  }
  var functionChange = undefined;
  if (data.functionChange !== undefined) functionChange = data.functionChange;else {
    if (result.header[j].functionChangeAll !== undefined) functionChange = result.header[j].functionChangeAll;
  }
  style = {};
  if (data.style !== undefined) style = data.style;
  classList = [];
  if (data.classList !== undefined) classList = data.classList;
  var on = {
    click: function click(event) {
      return function (event, row, functionClick) {
        // event.preventDefault();
        if (functionClick !== undefined) {
          if (cell.getParentNode().childrenNodes.length !== 0) var finalIndex = cell.getParentNode().childrenNodes.indexOf(cell.parentNode);else var finalIndex = 0;
          functionClick(event, cell, finalIndex, cell.getParentNode(), row.data, row);
        }
      }(event, row, functionClick);
    },
    change: function change(event) {
      return function (event, row, functionChange) {
        // event.preventDefault();
        if (functionChange !== undefined) {
          if (cell.getParentNode().childrenNodes.length !== 0) var finalIndex = cell.getParentNode().childrenNodes.indexOf(cell.parentNode);else var finalIndex = 0;
          functionChange(event, cell, finalIndex, cell.getParentNode(), row.data, row);
        }
      }(event, row, functionChange);
    }
  };
  var mousedown = result.dragVertical ? function (event) {
    return function (event, cellIndex, self) {
      var finalIndex = cellIndex.getParentNode().childrenNodes.indexOf(cellIndex.parentNode);
      var element = cellIndex.parentNode;
      element.finalIndex = finalIndex;
      element.elementParent = self;
    }(event, cell, result);
  } : undefined;
  var mouseup = result.dragVertical ? function (event) {
    return function (event, cellIndex, self) {
      var element = cellIndex.getParentNode();
      delete element.finalIndex;
      delete element.elementParent;
    }(event, cell, result);
  } : undefined;

  if (BrowserDetector["a" /* default */].isMobile) {
    on["touchstart"] = mousedown;
    on["touchend"] = mouseup;
  } else {
    on["mousedown"] = mousedown;
    on["mouseup"] = mouseup;
  }

  cell = ModuleView_({
    tag: "td",
    style: style,
    "class": classList,
    on: on
  });
  if (functionClick !== undefined) cell.style.cursor = "pointer";

  var container = ModuleView_({
    tag: "div",
    "class": "container-view"
  });

  cell.checkLeft = function () {
    return function (cell, result, k) {
      var widthSize = 0;
      var step = 1.71428571429;
      var arr = cell.getElementsByClassName("margin-div-cell");

      for (var i = arr.length - 1; i >= 0; i--) {
        arr[i].selfRemove();
      }

      if (result.data.child !== undefined) if (k === result.childIndex) {
        for (var i = 0; i < result.parentMargin - 1; i++) {
          cell.insertBefore(result.getDivMargin(), cell.firstChild);
          widthSize += step;
        }
      }
      container.style.width = "calc(100% - " + widthSize + "em)";
      if (widthSize !== 0) cell.classList.add("margin-left-has-icon");
    }(cell, row, k);
  };

  row.resetParentChild = function () {
    for (var i = 0; i < row.childrenNodes.length; i++) {
      row.childrenNodes[i].parentMargin = row.parentMargin + 1;
      row.childrenNodes[i].resetParentChild();
    }
  };

  cell.addChild(container);
  cell.checkLeft();

  if (data.element !== undefined) {
    container.appendChild(data.element);
  } else if (data.adapter !== undefined) {
    var tempAdapter = data.adapter();
    container.appendChild(tempAdapter);
    data.element = tempAdapter;
  } else {
    if (this.check[j] !== "dragzone" && this.check[j] !== "check" && this.check[j] !== "deltail") container.addChild(ModuleView_({
      text: value
    }));
  }

  if (bonus !== undefined) {
    container.addChild(bonus);
    bonus = undefined;
  }

  var isCheckRow = 0;

  if (data.rowspan !== undefined) {
    cell.setAttribute("rowspan", data.rowspan);
    isCheckRow = data.rowspan - 1;
    var isComplete = false;
    if (orther) if (orther.a < data.rowspan - 1) {
      orther.a += data.rowspan;
      isComplete = true;
    }

    if (isComplete === false) {
      for (var l = i + 1; l < i + data.rowspan; l++) {
        if (checkSpan[l] === undefined) checkSpan[l] = [];
        checkSpan[l][j] = 2;
      }

      data.rowspan = undefined;
    }
  } else if (realIndex !== -1) {
    if (ModuleView_typeof(localData[i + 1]) === "object" && ModuleView_typeof(localData[i][j]) === "object" && ModuleView_typeof(localData[i + 1][j]) === "object") {
      var index = 1;

      for (var l = i + 1; l < localData.length; l++) {
        if (localData[i][j] === localData[l][j]) {
          if (checkSpan[l] === undefined) checkSpan[l] = [];
          checkSpan[l][j] = 2;
          index++;
        } else break;
      }

      if (index > 1) {
        isCheckRow = index - 1;
        cell.setAttribute("rowspan", index);
        if (orther) if (orther.a < index - 1) orther.a += index - 1;
      }
    }
  }

  if (data.colspan !== undefined) {
    cell.setAttribute("colspan", data.colspan);

    for (var l = j + 1; l < j + data.colspan; l++) {
      for (var x = 0; x <= isCheckRow; x++) {
        if (checkSpan[i + x] === undefined) checkSpan[i + x] = [];
        checkSpan[i + x][l] = 6;
      }
    }

    data.colspan = undefined;
  } else // if (realIndex !== -1)
    if (ModuleView_typeof(dataOld[j]) === "object" && ModuleView_typeof(dataOld[j + 1]) === "object") {
      var index = 1;

      for (var l = j + 1; l < dataOld.length; l++) {
        if (dataOld[j] === dataOld[l]) {
          for (var x = 0; x <= isCheckRow; x++) {
            if (checkSpan[i + x] === undefined) checkSpan[i + x] = [];
            checkSpan[i + x][l] = 6;
          }

          index++;
        } else break;
      }

      if (index > 1) {
        cell.setAttribute("colspan", index);
      }
    }

  cell.getParentNode = function () {
    var parent = cell.clone[0][0];
    parent = parent;
    if (parent.tagName === "TH") return parent.parentNode.parentNode.parentNode.parentNode;
    return parent.parentNode;
  };

  return cell;
};

tableView.prototype.updateTable = function (header, data, dragHorizontal, dragVertical) {
  var index = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;
  var isUpdate = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;
  this.checkSpan = [];
  var result = this;

  var temp = ModuleView_({
    tag: "tbody"
  });

  var isFirst = false;

  if (data !== undefined) {
    data.checkVisiableCell = function (x, y) {
      if (ModuleView_typeof(this[x][y]) !== "object") return true;

      if (x > 0) {
        if (this[x - 1][y] === this[x][y]) return false;
      }

      if (y > 0) {
        if (this[x][y - 1] === this[x][y]) return false;
      }

      return true;
    };

    this.data = data;
    isFirst = true;
    result.indexPageSum = Math.ceil(result.data.length / result.indexRow);
  }

  if (isUpdate == true) result.indexRow = 0;
  temp.listCheckBox = [];
  if (dragHorizontal !== undefined) result.dragHorizontal = dragHorizontal;
  if (dragVertical !== undefined) result.dragVertical = dragVertical;
  if (this.bodyTable.listCheckBox !== undefined && this.bodyTable.listCheckBox.length > 0) temp.listCheckBox[0] = this.bodyTable.listCheckBox[0];

  for (var i = 0; i < result.clone.length; i++) {
    if (this.headerTable.childNodes.length > 1) result.clone[i] = [result.clone[i][0], result.clone[i][1]];else result.clone[i] = [result.clone[i].shift()];
  }

  this.realTable.replaceChild(temp, this.bodyTable);
  this.bodyTable = temp;
  result.childrenNodes = [];
  this.currentIndex = undefined;
  result.getBodyTable(this.data, index, isFirst);

  if (temp.listCheckBox[0] !== undefined) {
    temp.listCheckBox[0].update();
  }

  if (result.dragVertical) {
    result.setUpSlip();
    if (result.isSwipeLeft || result.isSwipeRight) this.setUpSwipe();
    result.slip = new Slip(result.bodyTable);
  }

  if (data !== undefined) {
    if (result.paginationElement !== undefined && result.paginationElement.reActive) result.paginationElement.reActive();
    result.realTable.parentNode.resetHash();
  }

  if (result.numArrayFixLeft) {
    result.setArrayFix(result.numArrayFixLeft, true);
  }

  if (result.numArrayFixRight) {
    result.setArrayFix(result.numArrayFixRight, false);
  }
};

tableView.prototype.getLastElement = function (element) {
  if (element.childrenNodes !== undefined && element.childrenNodes.length !== 0) {
    return this.getLastElement(element.childrenNodes[element.childrenNodes.length - 1]);
  }

  return element;
};

tableView.prototype.insertRow = function (data) {
  var checkMust = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var result = this,
      k,
      cell;
  var delta = [];
  var index = result.childrenNodes.length;
  var row = result.getRow(data);

  for (var i = 0; i < result.clone.length; i++) {
    delta[i] = 0;

    if (result.checkSpan !== undefined) {
      if (result.checkSpan[index] !== undefined) {
        if (result.checkSpan[index][i] === 6) {
          result.checkSpan[index][i] = undefined;
          result.clone[i].splice(index + 1, 0, {});
        }
      }

      for (var j = 0; j < index; j++) {
        if (result.checkSpan[j] !== undefined) if (result.checkSpan[j][i] !== undefined) delta[i]++;
      }
    }
  }

  var checkChild = false;
  if (result.tagName === "DIV") result.bodyTable.addChild(row);else {
    checkChild = true;
    if (!result.classList.contains("more-child")) result.setDisPlay();
    var tempElement = result.getLastElement(result.clone[0][result.clone[0].length - 1].parentNode);
    result.bodyTable.insertBefore(row, tempElement.nextSibling);
  }

  for (var i = 0; i < this.realTable.parentNode.clone.length; i++) {
    k = parseFloat(this.realTable.parentNode.clone[i][0].id);
    cell = result.getCell(data, index, k, i, result.checkSpan, row);

    if (cell === 6) {
      result.clone[k++].splice(index, 1);
      continue;
    }

    if (cell === 2) {
      k++;
      continue;
    }

    if (cell === true) {
      continue;
    }

    cell.clone = result.clone;
    if (result.clone[i] === undefined) result.clone[i] = [];
    result.clone[i][index + 1 - delta[i]] = cell;
    k++;
    row.addChild(cell);
  }

  var x;
  result.childrenNodes[index] = row;

  if (result.tagName !== "DIV") {
    result.data.child.splice(index, 0, data);
    x = data;
  } else {
    result.data.splice(index, 0, data);
    x = data;
  }

  row.data = x;
  var temp;

  if (temp !== undefined) {
    row.childrenNodes = temp.childrenNodes;
    row.clone = temp.clone;
    row.checkSpan = temp.checkSpan;

    if (row.clone !== undefined) {
      var k = 0,
          l = 0;
      var delta = 0;

      for (var i = 0; i < row.clone.length; i++) {
        if (row.clone[i][0] === temp.childNodes[k]) {
          row.clone[i].shift();
          k++;
        }

        if (delta > 0) {
          delta--;
          continue;
        }

        row.clone[i].unshift(row.childNodes[l]);

        if (row.childNodes[l].colSpan != 1) {
          delta += row.childNodes[l].colSpan - 1;
        }

        l++;
      }
    }
  }

  if (checkChild === true || checkMust === true) {
    if (result.checkIcon !== undefined) {
      result.checkIcon();
    }
  }

  if (row.childrenNodes.length !== 0) row.checkIcon();else row.checkClone();
  if (result.checkMargin !== undefined) result.checkMargin(); //    result.checkDataUpdate(row);

  result.realTable.parentNode.resetHash(); // result.realTable.parentNode.updateHash(row);

  this.setUpSwipe();

  if (result.realTable.parentNode.numArrayFixLeft) {
    result.setArrayFix(result.realTable.parentNode.numArrayFixLeft, true);
  }

  if (result.realTable.parentNode.numArrayFixRight) {
    result.setArrayFix(result.realTable.parentNode.numArrayFixRight, false);
  }

  result.indexPageSum++;
  result.indexPage++;
  return row;
};

tableView.prototype.insertLastRow = function (functionLast) {
  this.functionLast = functionLast;
  this.lastRowElement();
};

tableView.prototype.getPaginationIndex = function () {
  if (this.indexPage === undefined) return 1;
  return this.indexPage;
};

tableView.prototype.getPaginationLength = function () {
  if (this.indexPageSum === undefined) return 1;
  return this.indexPageSum;
};

tableView.prototype.lastRowElement = function () {
  if (this.functionLast) {
    if (this.tagName === "DIV") {
      var tempDataLast = [];

      for (var i = 0; i < this.childrenNodes.length; i++) {
        tempDataLast.push(this.childrenNodes[i].data);
      }

      var tempLast = this.functionLast(tempDataLast, this.childrenNodes, this.getPaginationIndex());
      if (tempLast === undefined) return;
      var row = this.getRow(tempLast);
      if (this.lastElement === undefined || this.lastElement && this.lastElement.parentNode && this.lastElement.parentNode.parentNode) this.bodyTable.addChild(row);else {
        this.bodyTable.addChild(this.lastElement);
        this.bodyTable.replaceChild(row, this.lastElement);
      }

      for (var j = 0; j < this.realTable.parentNode.clone.length; j++) {
        var k = parseFloat(this.realTable.parentNode.clone[j][0].id);
        var cell = this.getCell(tempLast, -1, k, j, this.checkSpan, row);

        if (cell === 6 || cell === 2) {
          continue;
        }

        if (cell === true) {
          continue;
        }

        row.addChild(cell);
      }

      this.lastElement = row;
    }
  }
};

tableView.prototype.updateRow = function (data, index) {
  var checkMust = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var result = this,
      k,
      cell;
  var delta = [];
  var row = result.getRow(data);

  for (var i = 0; i < result.clone.length; i++) {
    delta[i] = 0;

    if (result.checkSpan !== undefined) {
      if (result.checkSpan[index] !== undefined) {
        if (result.checkSpan[index][i] === 6) {
          result.checkSpan[index][i] = undefined;
          result.clone[i].splice(index + 1, 0, {});
        }
      }

      for (var j = 0; j < index; j++) {
        if (result.checkSpan[j] !== undefined) if (result.checkSpan[j][i] !== undefined) delta[i]++;
      }
    }
  }

  var checkChild = false;
  var temp;
  temp = result.childrenNodes[index];
  result.bodyTable.replaceChild(row, temp);
  row.classList.value = temp.classList.value;

  if (temp.childrenNodes !== undefined) {
    row.childrenNodes = temp.childrenNodes;
    row.clone = temp.clone;
  }

  for (var i = 0; i < this.realTable.parentNode.clone.length; i++) {
    k = parseFloat(this.realTable.parentNode.clone[i][0].id);
    cell = result.getCell(data, index, k, i, result.checkSpan, row);

    if (cell === 6) {
      result.clone[k++].splice(index, 1);
      continue;
    }

    if (cell === 2) {
      k++;
      continue;
    }

    if (cell === true) {
      continue;
    }

    cell.clone = result.clone;
    if (result.clone[i] === undefined) result.clone[i] = [];
    result.clone[i][index + 1 - delta[i]] = cell;
    k++;
    row.addChild(cell);
  }

  var x;
  result.childrenNodes[index] = row;

  if (result.tagName !== "DIV") {
    x = Object.assign(temp.data, data);
  } else {
    x = Object.assign(temp.data, data);
  }

  row.data = temp.data;

  if (temp !== undefined) {
    row.childrenNodes = temp.childrenNodes;
    row.clone = temp.clone;
    row.checkSpan = temp.checkSpan;

    if (row.clone !== undefined) {
      var k = 0,
          l = 0;
      var delta = 0;

      for (var i = 0; i < row.clone.length; i++) {
        if (row.clone[i][0] === temp.childNodes[k]) {
          row.clone[i].shift();
          k++;
        }

        if (delta > 0) {
          delta--;
          continue;
        }

        row.clone[i].unshift(row.childNodes[l]);

        if (row.childNodes[l].colSpan != 1) {
          delta += row.childNodes[l].colSpan - 1;
        }

        l++;
      }
    }
  }

  if (checkChild === true || checkMust === true) {
    if (result.checkIcon !== undefined) result.checkIcon();
  }

  if (row.childrenNodes.length !== 0) row.checkIcon();else row.checkClone();
  if (result.checkMargin !== undefined) result.checkMargin(); //    result.checkDataUpdate(row);

  setTimeout(function () {
    if (temp.classList.contains("more-child")) {
      row.classList.add("more-child");
    } else {
      row.classList.remove("more-child");
    }
  }, 100);
  result.realTable.parentNode.resetHash(); // result.realTable.parentNode.updateHash(row);

  return row;
};

tableView.prototype.dropRow = function (index) {
  var result = this;
  var element = result.clone[0][index + 1].parentNode;
  return new Promise(function (resolve, reject) {
    if (!element.classList.contains("hideTranslate")) element.classList.add("hideTranslate");
    if (element.childrenNodes.length !== 0) element.addHideAnimationChild();
    result.bodyTable.parentNode.style.pointerEvents = "none";

    var eventEnd = function eventEnd() {
      result.exactlyDeleteRow(index);
      result.bodyTable.parentNode.style.pointerEvents = "";
      resolve();
    }; // Code for Safari 3.1 to 6.0


    element.addEventListener("webkitTransitionEnd", eventEnd); // Standard syntax

    element.addEventListener("transitionend", eventEnd);
  });
};

tableView.prototype.exactlyDeleteRow = function (index) {
  var parent = this,
      deltaX = [];
  var element = parent.childrenNodes[index];
  parent.dropRowChild(element);
  var deltaY = 0;
  deltaX = parent.checkLongRow(index);

  for (var i = 0; i < element.childNodes.length; i++) {
    if (element.childNodes[i].tagName !== "TD") continue;
    parent.clone[i + deltaY].splice(index + 1 - deltaX[i + deltaY], 1);
    if (parent.checkSpan !== undefined) parent.checkSpan.splice(index, 1);
    if (element.childNodes[i].colSpan !== undefined) deltaY += element.childNodes[i].colSpan - 1;
  }

  if (parent.childrenNodes.length !== 0) {
    parent.childrenNodes.splice(parent.childrenNodes.indexOf(element), 1);
  }

  if (parent.tagName !== "DIV") {
    var indexData = parent.data.child.indexOf(element.data);
    if (indexData !== -1) parent.data.child.splice(indexData, 1);
  } else {
    var indexData = parent.data.indexOf(element.data);
    if (indexData !== -1) parent.data.splice(indexData, 1);
  }

  if (parent.checkVisibleChild !== undefined && parent.childrenNodes.length === 0) parent.checkVisibleChild();
  parent.realTable.parentNode.resetHash();

  if (parent.tagName == "DIV") {
    if (parent.childrenNodes.length == 0) {
      parent.updatePagination();
    }
  }

  parent.indexPageSum--;
  parent.indexPage--;
};

tableView.prototype.insertColumn = function (index) {
  var insertBefore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;
  var current = [];
  var cell, cellHeader;
  delete this.header[index].hidden;
  this.check[index] = this.header[index].type;
  cellHeader = this.getCellHeader(this.header[index], index);
  var currentClone;

  if (insertBefore === -1) {
    this.headerTable.childNodes[0].appendChild(cellHeader);
    current.push(cellHeader);
    this.clone.push(current);
  } else {
    if (this.clone.length < insertBefore) {
      console.log("index insert > current index");
      return;
    } else currentClone = this.clone[insertBefore];

    this.headerTable.childNodes[0].insertBefore(cellHeader, this.clone[insertBefore][0]);
    current.push(cellHeader);
    this.clone.splice(insertBefore, 0, current);
  }

  var k = 1;

  for (var i = 0; i < this.childrenNodes.length; i++) {
    cell = this.getCell(this.childrenNodes[i].data, i, index, this.clone[this.clone.length - 1][0].id + 1, this.checkSpan, this.childrenNodes[i]);
    current.push(cell);
    cell.clone = this.clone;
    if (insertBefore === -1) this.childrenNodes[i].appendChild(cell);else {
      if (this.childrenNodes[i] === currentClone[k].parentNode) {
        this.childrenNodes[i].insertBefore(cell, currentClone[k]);
      } else {
        var tempIndexRow = insertBefore - this.checkLongColumn(i, insertBefore);
        if (this.childrenNodes[i].childNodes[tempIndexRow] !== undefined) this.childrenNodes[i].insertBefore(cell, this.childrenNodes[i].childNodes[tempIndexRow]);else this.childrenNodes[i].appendChild(cell);
        k--;
      }
    }

    if (this.childrenNodes[i].childrenNodes.length !== 0) {
      this.childrenNodes[i].insertColumn(index, insertBefore);
    }

    k++;
  }

  if (this.isSaveTheme) {
    this.saveTheme();
  }
};

tableView.prototype.changeParent = function (index, rowParent) {
  var result = this,
      deltaX = [];
  var element = result.clone[0][index + 1].parentNode;
  var parent = element.childNodes[0].getParentNode();
  var deltaY = 0;
  deltaX = parent.checkLongRow(index);
  parent.changeRowChild(element, rowParent);

  for (var i = 0; i < element.childNodes.length; i++) {
    element.childNodes[i].clone = rowParent.clone;
    rowParent.clone[i + deltaY].push(element.childNodes[i]);
    parent.clone[i + deltaY].splice(index + 1 - deltaX[i + deltaY], 1);
    if (parent.checkSpan !== undefined) parent.checkSpan.splice(index, 1);
    if (element.childNodes[i].colSpan !== undefined) deltaY += element.childNodes[i].colSpan - 1;
  }

  if (parent.childrenNodes.length !== 0) {
    var indexData = parent.childrenNodes.indexOf(element);
    var dataTemp;
    if (parent.tagName == "DIV") dataTemp = parent.data[indexData];else dataTemp = parent.data.child[indexData];
    if (rowParent.tagName == "DIV") rowParent.data.push(dataTemp);else rowParent.data.child.push(dataTemp);
    if (parent.data.child !== undefined) parent.data.child.splice(indexData, 1);else parent.data.splice(indexData, 1);
    rowParent.childrenNodes.push(element);
    parent.childrenNodes.splice(indexData, 1);
  }

  if (result.checkVisibleChild !== undefined && result.childrenNodes.length === 0) result.checkVisibleChild();
  result.indexPageSum++;
  result.indexPage++;
  rowParent.indexPageSum--;
  result.indexPage++;
  return rowParent.childrenNodes.length - 1;
};

tableView.prototype.addHideAnimationChild = function () {
  for (var i = 0; i < this.childrenNodes.length; i++) {
    if (!this.childrenNodes[i].classList.contains("hideTranslate")) this.childrenNodes[i].classList.add("hideTranslate");

    if (this.childrenNodes[i].childrenNodes.length !== 0) {
      this.childrenNodes[i].addHideAnimationChild();
    }
  }
};

tableView.prototype.changeRowChild = function (element, parent) {
  var current;

  if (parent.tagName === "DIV") {
    current = null;
    parent.bodyTable.addChild(element);
  } else {
    current = parent.getParentNode();
    element.parentNode.insertBefore(element, this.getElementNext(parent));
  }

  element.parentMargin = parent.parentMargin + 1;
  element.resetParentChild();
  element.checkLeft();
  if (element.childrenNodes.length !== 0) element.changeRowChildElement(element);
};

tableView.prototype.changeRowChildElement = function (current) {
  for (var i = 0; i < this.childrenNodes.length; i++) {
    if (this.tagName === "DIV" || current == null) this.bodyTable.addChild(this.childrenNodes[i]);else {
      insertAfter(this.childrenNodes[i], current);
    }
    this.childrenNodes[i].checkLeft();

    if (this.childrenNodes[i].childrenNodes.length !== 0) {
      this.childrenNodes[i].changeRowChildElement(this.childrenNodes[i]);
    }
  }
};

tableView.prototype.dropRowChild = function (element) {
  if (element !== undefined && element.parentNode !== undefined) element.parentNode.removeChild(element);
  if (element !== undefined && element.childrenNodes.length !== 0) element.dropRowChildElement();
};

tableView.prototype.dropRowChildElement = function () {
  for (var i = 0; i < this.childrenNodes.length; i++) {
    this.childrenNodes[i].selfRemove();

    if (this.childrenNodes[i].childrenNodes.length !== 0) {
      this.childrenNodes[i].dropRowChildElement();
    }
  }
};

tableView.prototype.backGroundFix = function (index) {
  var rect = this.getBoundingClientRect();
  var scrollParent = this.realTable.parentNode;

  while (scrollParent) {
    var overflowStyle = window.getComputedStyle(scrollParent)['overflow'];
    if ((overflowStyle === 'auto' || overflowStyle === 'scroll' || scrollParent.tagName === 'HTML') && (scrollParent.clientHeight < scrollParent.scrollHeight || scrollParent.clientWidth < scrollParent.scrollWidth)) break;
    scrollParent = scrollParent.parentElement;
  }

  var scrollLeft = scrollTop = 0;

  if (scrollParent) {
    scrollLeft = scrollParent.scrollLeft;
    scrollTop = scrollParent.scrollTop;
  }

  var rectDistance = traceOutBoundingClientRect(this);

  var temp = ModuleView_({
    tag: "div",
    "class": "background-opacity",
    style: {
      top: rect.y + 'px',
      left: rect.x + scrollLeft + 'px',
      backgroundColor: "#ffffff00",
      realTop: rect.y + scrollTop,
      width: rectDistance.width - 17 + "px"
    },
    child: []
  });

  var arrZone = [];
  var tempElement = this.getBound2Row(undefined, 0, index);
  arrZone.push(tempElement);
  temp.appendChild(tempElement);

  for (var i = 0; i < this.clone[0].length - 1; i++) {
    tempElement = this.getBound2Row(i, i + 1, index);
    arrZone.push(tempElement);
    temp.appendChild(tempElement);
  }

  tempElement = this.getBound2Row(this.clone[0].length - 1, undefined, index);
  tempElement.childNodes[0].style.height = parseFloat(tempElement.childNodes[0].style.height) - 2 + "px";
  arrZone.push(tempElement);
  temp.appendChild(tempElement);

  temp.getZone = function () {
    return arrZone;
  };

  return temp;
};

tableView.prototype.backGround = function (height, callback, index) {
  var rect = this.getBoundingClientRect();
  var scrollParent = this.realTable.parentNode;

  while (scrollParent) {
    var overflowStyle = window.getComputedStyle(scrollParent)['overflow'];
    if ((overflowStyle === 'auto' || overflowStyle === 'scroll' || scrollParent.tagName === 'HTML') && (scrollParent.clientHeight < scrollParent.scrollHeight || scrollParent.clientWidth < scrollParent.scrollWidth)) break;
    scrollParent = scrollParent.parentElement;
  }

  var rectDistance = traceOutBoundingClientRect(this);
  var scrollTop = 0;
  if (scrollParent) scrollTop = scrollParent.scrollTop;

  var temp = ModuleView_({
    tag: "div",
    "class": "background-opacity-1",
    style: {
      top: rect.y + 'px',
      left: rect.x - 17 + 'px',
      backgroundColor: "#ffffff00",
      realTop: rect.y + scrollTop // width:rectDistance.width-17+"px"

    },
    child: [{
      tag: "div",
      "class": "delete-zone",
      style: {
        transform: "translateY(-" + height + "px)",
        top: rect.y + 'px',
        left: rectDistance.left + 'px',
        backgroundColor: "#ffffff00",
        height: height + "px",
        width: rectDistance.width + "px"
      },
      child: [{
        tag: "i",
        "class": ["delete-zone-icon", "material-icons"],
        style: {
          marginTop: height / 2 - 30 + "px"
        },
        props: {
          innerHTML: "delete_forever"
        }
      }, {
        tag: "span",
        "class": ["detele-zone-label"],
        style: {
          marginTop: height / 2 - 15 + "px"
        },
        props: {
          innerHTML: "Delete"
        }
      }],
      on: {
        mouseover: function mouseover(event) {
          if (callback !== undefined && temp.isMove == false) callback(event);
        }
      }
    }]
  });

  var arrZone = [];
  var tempElement = this.getBound2Colum(undefined, 0, index);
  arrZone.push(tempElement);
  temp.appendChild(tempElement);

  for (var i = 0; i < this.clone.length - 1; i++) {
    tempElement = this.getBound2Colum(i, i + 1, index);
    arrZone.push(tempElement);
    temp.appendChild(tempElement);
  }

  tempElement = this.getBound2Colum(this.clone.length - 1, undefined, index);
  tempElement.childNodes[2].style.width = parseFloat(tempElement.childNodes[2].style.width) - 8 + "px";
  arrZone.push(tempElement);
  temp.appendChild(tempElement);

  temp.getDeleteZone = function () {
    return temp.childNodes[0];
  };

  temp.getZone = function () {
    return arrZone;
  };

  return temp;
};

tableView.prototype.deleteColumn = function (index) {
  var realIndex = this.clone[index][0].id;
  if (ModuleView_typeof(this.header[realIndex]) == "object") this.header[realIndex].hidden = true;else this.header[realIndex] = {
    value: this.header[realIndex],
    hidden: true
  };

  for (var i = 0; i < this.clone[index].length; i++) {
    this.clone[index][i].selfRemove();
  }

  this.clone.splice(index, 1);

  for (var i = 0; i < this.childrenNodes.length; i++) {
    if (this.childrenNodes[i].childrenNodes.length !== 0) {
      this.childrenNodes[i].deleteColumn(index);
    }
  }

  if (this.isSaveTheme) {
    this.saveTheme();
  }
};

tableView.prototype.cloneColumn = function (index) {
  var isFull = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var clone = this.clone[index][0].cloneNode(true);
  clone.style.width = this.clone[index][0].offsetWidth - window.getComputedStyle(this.clone[index][0], null).getPropertyValue('padding-left').replace("px", "") - window.getComputedStyle(this.clone[index][0], null).getPropertyValue('padding-right').replace("px", "") - window.getComputedStyle(this.clone[index][0], null).getPropertyValue('border-left-width').replace("px", "") - window.getComputedStyle(this.clone[index][0], null).getPropertyValue('border-right-width').replace("px", "") + 'px';
  clone.style.height = this.clone[index][0].offsetHeight - window.getComputedStyle(this.clone[index][0], null).getPropertyValue('padding-top').replace("px", "") - window.getComputedStyle(this.clone[index][0], null).getPropertyValue('padding-bottom').replace("px", "") - window.getComputedStyle(this.clone[index][0], null).getPropertyValue('border-top-width').replace("px", "") - window.getComputedStyle(this.clone[index][0], null).getPropertyValue('border-bottom-width').replace("px", "") + 'px';

  var headerTable = ModuleView_({
    tag: "thead"
  });

  headerTable.addChild(ModuleView_({
    tag: "tr",
    child: [clone]
  }));

  var bodyTable = ModuleView_({
    tag: "tbody"
  });

  if (isFull) this.cloneCellColumn(bodyTable, this.clone, index);

  var result = ModuleView_({
    tag: "table",
    style: {
      cursor: "move"
    },
    "class": "sortTableClone",
    child: [headerTable, bodyTable]
  });

  return result;
};

tableView.prototype.cloneCellColumn = function (bodyTable, cloneArray, index) {
  var clone, cell;

  for (var i = 1; i < cloneArray[index].length; i++) {
    clone = cloneArray[index][i].cloneNode(true);
    clone.style.width = cloneArray[index][i].offsetWidth - window.getComputedStyle(cloneArray[index][i], null).getPropertyValue('padding-left').replace("px", "") - window.getComputedStyle(cloneArray[index][i], null).getPropertyValue('padding-right').replace("px", "") - window.getComputedStyle(cloneArray[index][i], null).getPropertyValue('border-left-width').replace("px", "") - window.getComputedStyle(cloneArray[index][i], null).getPropertyValue('border-right-width').replace("px", "") + 'px';
    clone.style.height = cloneArray[index][i].offsetHeight - window.getComputedStyle(cloneArray[index][i], null).getPropertyValue('padding-top').replace("px", "") - window.getComputedStyle(cloneArray[index][i], null).getPropertyValue('padding-bottom').replace("px", "") - window.getComputedStyle(cloneArray[index][i], null).getPropertyValue('border-top-width').replace("px", "") - window.getComputedStyle(cloneArray[index][i], null).getPropertyValue('border-bottom-width').replace("px", "") + 'px';
    cell = ModuleView_({
      tag: "tr",
      child: [clone]
    });
    cell.classList = cloneArray[index][i].parentNode.classList;
    if (cloneArray[index][i].colSpan !== undefined) clone.setAttribute("rowspan", "");
    bodyTable.addChild(cell);

    if (cloneArray[index][i].parentNode.clone !== undefined) {
      var cloneArrayTemp = cloneArray[index][i].parentNode.clone;
      this.cloneCellColumn(bodyTable, cloneArrayTemp, index);
    }
  }
};

tableView.prototype.cloneRow = function (index) {
  var isFull = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var clone;

  var headerTable = ModuleView_({
    tag: "thead"
  });

  var bodyTable = ModuleView_({
    tag: "tbody"
  });

  var result = ModuleView_({
    tag: "table",
    style: {
      opacity: 0.7
    },
    "class": "sortTableClone",
    child: [headerTable, bodyTable]
  });

  var row = ModuleView_({
    tag: "tr"
  });

  if (index === 0) headerTable.addChild(row);else {
    bodyTable.addChild(row);
  }

  for (var i = 0; i < this.clone.length; i++) {
    if (this.clone[i][index] === undefined) continue;
    clone = this.clone[i][index].cloneNode(true);
    clone.style.width = this.clone[i][index].offsetWidth - window.getComputedStyle(this.clone[i][index], null).getPropertyValue('padding-left').replace("px", "") - window.getComputedStyle(this.clone[i][index], null).getPropertyValue('padding-right').replace("px", "") - window.getComputedStyle(this.clone[i][index], null).getPropertyValue('border-left-width').replace("px", "") - window.getComputedStyle(this.clone[i][index], null).getPropertyValue('border-right-width').replace("px", "") + 1 + 'px';
    clone.style.height = this.clone[i][index].offsetHeight - window.getComputedStyle(this.clone[i][index], null).getPropertyValue('padding-top').replace("px", "") - window.getComputedStyle(this.clone[i][index], null).getPropertyValue('padding-bottom').replace("px", "") - window.getComputedStyle(this.clone[i][index], null).getPropertyValue('border-top-width').replace("px", "") - window.getComputedStyle(this.clone[i][index], null).getPropertyValue('border-bottom-width').replace("px", "") + 'px';
    clone.setAttribute("colspan", "");
    row.appendChild(clone);
  }

  return result;
};

tableView.prototype.getBound2Colum = function (colum1, colum2, index) {
  var self = this;
  var left, right;
  var isShow = true;
  if (colum1 !== undefined) left = self.clone[colum1][0].offsetWidth / 2 + parseFloat(window.getComputedStyle(self.clone[colum1][0]).webkitBorderHorizontalSpacing) / 2;else left = 20 + parseFloat(window.getComputedStyle(self).paddingLeft);

  if (colum2 !== undefined) {
    right = self.clone[colum2][0].offsetWidth / 2 + parseFloat(window.getComputedStyle(self.clone[colum2][0]).webkitBorderHorizontalSpacing) / 2;
    if (self.clone[colum2][0].classList.contains("postionStickyCell")) isShow = false;
  } else right = 20 + parseFloat(window.getComputedStyle(self).paddingRight);

  var center = ModuleView_({
    tag: "div",
    "class": "move-hover-zone-center"
  });

  if (!isShow) {
    center.style.display = "none";
  }

  var temp = ModuleView_({
    tag: "div",
    "class": "move-hover-zone",
    style: {
      height: self.offsetHeight + "px"
    },
    on: {
      mouseover: isShow ? function () {
        if (this.parentNode.isMove === false) {
          self.moveColumn(self.clone, colum1, colum2, index);
        }
      } : undefined
    },
    child: [{
      tag: "div",
      "class": "move-hover-zone-left",
      style: {
        width: left + 'px'
      }
    }, center, {
      tag: "div",
      "class": "move-hover-zone-right",
      style: {
        width: right + 'px'
      }
    }]
  });

  return temp;
};

tableView.prototype.moveColumn = function (arrClone, colum1, colum2, index) {
  var i = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;
  var parent; // if(index==colum1)
  //     return;
  // if(index==colum2)
  //     return;

  var delta = 0,
      lastDelta;

  for (i; i < arrClone[index].length; i++) {
    parent = arrClone[index][i - delta].parentNode;

    if (colum2 !== undefined) {
      if (lastDelta > 0) {
        lastDelta--;
        continue;
      }

      parent.insertBefore(arrClone[index][i - delta], arrClone[colum2][i]);
    } else {
      parent.appendChild(arrClone[index][i]);
    }

    if (arrClone[index][i].rowSpan !== undefined) {
      delta += arrClone[index][i].rowSpan - 1;
      lastDelta = arrClone[index][i].rowSpan - 1;
    }

    if (arrClone[index][i - delta].parentNode.clone !== undefined) {
      this.moveColumn(arrClone[index][i - delta].parentNode.clone, colum1, colum2, index, 1);
    }
  }

  if (colum1 > index) {
    if (colum2 === undefined) arrClone.push(arrClone[index]);else arrClone.splice(colum2, 0, arrClone[index]);
    arrClone.splice(index, 1);
  }

  if (colum2 < index) {
    var tempElement = arrClone[index];
    arrClone.splice(index, 1);
    if (colum2 === undefined) arrClone.push(tempElement);else arrClone.splice(colum2, 0, tempElement);
  }
};

tableView.prototype.getHeightChild = function () {
  var result = 0;
  var self = this;
  var tempClone = self.childrenNodes;
  if (tempClone !== undefined) for (var i = 0; i < tempClone.length; i++) {
    result += tempClone[i].offsetHeight;
    if (tempClone[i].offsetHeight !== 0) result += parseFloat(window.getComputedStyle(tempClone[i]).webkitBorderVerticalSpacing);

    if (tempClone[i].childrenNodes.length !== 0) {
      result += tempClone[i].getHeightChild();
    }
  }
  return result;
};

tableView.prototype.getElementChild = function () {
  var result = [];
  var self = this;
  var tempClone = self.childrenNodes;
  if (tempClone !== undefined) for (var i = 0; i < tempClone.length; i++) {
    result.push(tempClone[i]);

    if (tempClone[i].childrenNodes.length !== 0) {
      result = result.concat(tempClone[i].getElementChild());
    }
  }
  return result;
};

tableView.prototype.getBound2Row = function (row1, row2) {
  var self = this;
  var top, bottom, elementReal;
  if (self.clone[0][row1] !== undefined) var style1 = window.getComputedStyle(self.clone[0][row1]);

  if (self.clone[0][row2] !== undefined) {
    var style2 = window.getComputedStyle(self.clone[0][row2]);
    elementReal = self.clone[0][row2].parentNode;
  } else {
    if (self.tagName !== "DIV") {
      if (self.clone[0][row1].parentNode.childrenNodes.length !== 0) {
        var x = self.clone[0][row1].parentNode.getElementChild();
        elementReal = x[x.length - 1].nextSibling;
      } else elementReal = self.clone[0][row1].parentNode.nextSibling;
    }
  }

  if (row1 !== undefined) {
    top = self.clone[0][row1].offsetHeight / 2 + parseFloat(style1.webkitBorderVerticalSpacing) / 2;
  } else top = parseFloat(window.getComputedStyle(self).paddingTop);

  if (row2 !== undefined) {
    if (self.clone[0][row2].parentNode.style.display === "none") return ModuleView_({
      tag: "div"
    });
    bottom = self.clone[0][row2].offsetHeight / 2 + parseFloat(style2.webkitBorderVerticalSpacing) / 2;
    if (self.clone[0][row2].tagName !== "TH" && row1 === undefined) bottom = self.clone[0][row2].offsetHeight / 2;

    if (row1 !== undefined && self.clone[0][row2].parentNode.childrenNodes.length !== 0) {
      bottom += self.clone[0][row2].parentNode.getHeightChild();
    }
  } else {
    bottom = parseFloat(window.getComputedStyle(self).paddingBottom) + self.clone[0][row1].offsetHeight / 2;
  }

  if (row1 === undefined) {
    row1 = row2;
    row2++;
    if (self.clone[0][row1 + 1] !== undefined) elementReal = self.clone[0][row1 + 1].parentNode;
  }

  var temp = ModuleView_({
    tag: "div",
    "class": "move-hover-zone-topbot",
    props: {
      row1: row1,
      row2: row2,
      elementReal: elementReal
    },
    style: {
      width: self.offsetWidth + "px" // backgroundColor:random_bg_color()

    },
    on: {
      mouseover: function mouseover() {}
    },
    child: [{
      tag: "div",
      "class": "move-hover-zone-top",
      style: {
        height: top - 4 + 'px'
      }
    }, {
      tag: "div",
      "class": "move-hover-zone-middle"
    }, {
      tag: "div",
      "class": "move-hover-zone-bottom",
      style: {
        height: bottom + 4 + 'px'
      }
    }]
  });

  return temp;
};

function compareIncrease(valueA, valueB) {
  if (typeof valueA === "string") valueA = valueA.toLowerCase();
  if (typeof valueB === "string") valueB = valueB.toLowerCase();
  if (valueA > valueB) return -1;
  if (valueA < valueB) return 1;
  return 0;
}

function sortArray(arr, index) {
  var increase = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  var check = [];
  var result = [];
  var indexLength;
  if (arr.length === 0) return [];

  for (var i = 0; i < arr.length; i++) {
    var object = arr[i].getRowMerge;
    if (check[JSON.stringify(JSON.stringify(object))]) continue;
    indexLength = object.length;

    for (var j = 0; j < object.length; j++) {
      if (check[JSON.stringify(object[j])]) {
        indexLength--;
        continue;
      }

      check[JSON.stringify(object[j])] = object[j];
    }

    if (indexLength > 0) {
      check[JSON.stringify(object)] = object;
      result.push(object);
    }
  }

  if (increase) {
    result.sort(function (prev, next) {
      var a = prev[0];
      var b = next[0];
      if (prev.length === 1) if (a.child !== undefined) {
        sortArray(a.child, index, increase);
      }
      if (a[index].valuesort) var valueA = a[index].valuesort;else var valueA = a[index].value;
      if (b[index].valuesort) var valueB = b[index].valuesort;else var valueB = b[index].value;
      if (valueA === undefined) valueA = a[index];
      if (valueB === undefined) valueB = b[index];
      return compareIncrease(valueA, valueB);
    });
    if (result.length !== 0) if (result[result.length - 1].length === 1) {
      if (result[result.length - 1][0].child !== undefined) sortArray(result[result.length - 1][0].child, index, increase);
    }
  } else {
    result.sort(function (prev, next) {
      var a = prev[0];
      var b = next[0];
      if (prev.length === 1) if (a.child !== undefined) sortArray(a.child, index, increase);
      if (a[index].valuesort) var valueA = a[index].valuesort;else var valueA = a[index].value;
      if (b[index].valuesort) var valueB = b[index].valuesort;else var valueB = b[index].value;
      if (valueA === undefined) valueA = a[index];
      if (valueB === undefined) valueB = b[index];
      return compareIncrease(valueB, valueA);
    });
    if (result.length !== 0) if (result[result.length - 1].length === 1) {
      if (result[result.length - 1][0].child !== undefined) sortArray(result[result.length - 1][0].child, index, increase);
    }
  }

  arr.splice(0, arr.length);

  for (var param in result) {
    for (var i = 0; i < result[param].length; i++) {
      result[param][i].oldIndex = i;
      arr.push(result[param][i]);
    }
  }

  return arr;
}

function getDate() {
  var today = new Date();
  var dd = String(today.getDate()).padStart(2, '0');
  var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!

  var yyyy = today.getFullYear();
  today = dd + '/' + mm + '/' + yyyy;
  return today;
}

function random_bg_color() {
  var x = Math.floor(Math.random() * 256);
  var y = Math.floor(Math.random() * 256);
  var z = Math.floor(Math.random() * 256);
  var bgColor = "rgb(" + x + "," + y + "," + z + ")";
  return bgColor;
}

function allowNumbersOnly(e) {
  var code = e.which ? e.which : e.keyCode;

  if ((code > 122 || code < 97) && code != 45) {
    e.preventDefault();
  }
}
function createAlias(string) {
  var value = "";
  string = string.toLowerCase();
  string = ModuleView_removeAccents(string);

  for (var i = 0; i < string.length; i++) {
    if (string[i] == " ") {
      value += "-";
      continue;
    }

    if ((string[i] > "z" || string[i] < "a") && string[i] != "-") {
      continue;
    }

    value += string[i];
  }

  return value.replace(/^\-+|\-+$/gm, '');
  ;
}
function ModuleView_removeAccents(str) {
  return str.normalize('NFD').replace(/[\u0300-\u036f]/g, '').replace(/đ/g, 'd').replace(/Đ/g, 'D');
}
function deleteQuestion(title, content) {
  var yes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "Có";
  var no = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "không";
  var contentElement;

  if (ModuleView_typeof(content) !== "object") {
    contentElement = ModuleView_({
      tag: "span",
      "class": "module-delete-header-content",
      props: {
        innerHTML: content
      }
    });
  } else {
    contentElement = content;
  }

  var temp;
  var promiseComfirm = new Promise(function (resolve, reject) {
    temp = ModuleView_({
      tag: "modal",
      "class": "modal-delete-module",
      child: [{
        tag: "div",
        "class": "module-delete-container",
        child: [{
          tag: "div",
          "class": "module-delete-header",
          child: [{
            tag: "span",
            "class": "module-delete-header-title",
            props: {
              innerHTML: title
            }
          }, {
            tag: "div",
            "class": "module-delete-header-close-container",
            on: {
              click: function click(event) {
                temp.selfRemove();
                reject();
              }
            },
            child: [{
              tag: "i",
              "class": ["module-delete-header-close", "material-icons"],
              props: {
                innerHTML: "close"
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "module-delete-content",
          child: [contentElement]
        }, {
          tag: "div",
          "class": "module-delete-button",
          child: [{
            tag: "button",
            "class": "module-delete-button-yes",
            on: {
              click: function click(event) {
                temp.selfRemove();
                setTimeout(function () {
                  resolve();
                }, 60);
              }
            },
            child: [{
              tag: "span",
              "class": "module-delete-button-yes-label",
              props: {
                innerHTML: yes
              }
            }]
          }, {
            tag: "button",
            "class": "module-delete-button-no",
            on: {
              click: function click(event) {
                temp.selfRemove();
                reject();
              }
            },
            child: [{
              tag: "span",
              "class": "module-delete-button-no-label",
              props: {
                innerHTML: no
              }
            }]
          }]
        }]
      }]
    });
  });
  temp.promiseComfirm = promiseComfirm;
  return temp;
}
function confirmQuestion(title, content) {
  var yes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "OK";
  var contentElement;

  if (ModuleView_typeof(content) !== "object") {
    contentElement = ModuleView_({
      tag: "span",
      "class": "module-delete-header-content",
      props: {
        innerHTML: content
      }
    });
  } else {
    contentElement = content;
  }

  var temp;
  var promiseComfirm = new Promise(function (resolve, reject) {
    temp = ModuleView_({
      tag: "modal",
      "class": "modal-delete-module",
      child: [{
        tag: "div",
        "class": "module-delete-container",
        child: [{
          tag: "div",
          "class": "module-delete-header",
          child: [{
            tag: "span",
            "class": "module-delete-header-title",
            props: {
              innerHTML: title
            }
          }, {
            tag: "div",
            "class": "module-delete-header-close-container",
            on: {
              click: function click(event) {
                temp.selfRemove();
                reject();
              }
            },
            child: [{
              tag: "i",
              "class": ["module-delete-header-close", "material-icons"],
              props: {
                innerHTML: "close"
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "module-delete-content",
          child: [contentElement]
        }, {
          tag: "div",
          "class": "module-delete-button",
          child: [{
            tag: "button",
            "class": "module-delete-button-yes",
            on: {
              click: function click(event) {
                temp.selfRemove();
                resolve();
              }
            },
            child: [{
              tag: "span",
              "class": "module-delete-button-yes-label",
              props: {
                innerHTML: yes
              }
            }]
          }]
        }]
      }]
    });
  });
  temp.promiseComfirm = promiseComfirm;
  return temp;
}
// CONCATENATED MODULE: ./js/component/NewAccount.js
function NewAccount_typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { NewAccount_typeof = function _typeof(obj) { return typeof obj; }; } else { NewAccount_typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return NewAccount_typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { NewAccount_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function NewAccount_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }












var NewAccount_ = dom_Fcore._;
var NewAccount_$ = dom_Fcore.$;

function NewAccount_NewAccount(data) {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.data = data;
  if (data !== undefined) this.textHeader = "Sửa ";else this.textHeader = "Thêm ";
}

NewAccount_NewAccount.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(NewAccount_NewAccount.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
NewAccount_NewAccount.prototype.constructor = NewAccount_NewAccount;

NewAccount_NewAccount.prototype.createPromise = function () {
  var self = this;

  if (this.data === undefined) {
    self.promiseAddDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  } else {
    self.promiseEditDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  }
};

NewAccount_NewAccount.prototype.resetPromise = function (value) {
  if (self.promiseAddDB !== undefined) self.promiseAddDB = undefined;
  if (self.promiseEditDB !== undefined) self.promiseEditDB = undefined;
};

NewAccount_NewAccount.prototype.setOnlyInformation = function () {
  this.isOnlyInformation = true;
};

NewAccount_NewAccount.prototype.getView = function (dataParent) {
  if (this.$view) return this.$view;
  var self = this;
  self.createPromise();
  var x = [{
    text: "Không có chức danh",
    value: 0
  }];

  for (var i = 0; i < dataParent.length; i++) {
    x.push(dataParent[i]);
  }

  this.$view = NewAccount_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: this.textHeader + " tài khoản"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
              self.rejectDB(self.getDataSave());
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              var tempData = self.getDataSave();

              if (tempData !== undefined) {
                self.resolveDB(tempData);
                self.createPromise();
              }
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              var tempData = self.getDataSave();

              if (tempData !== undefined) {
                self.resolveDB(tempData);
                self.$view.selfRemove();
                var arr = self.parent.body.getAllChild();
                self.parent.body.activeFrame(arr[arr.length - 1]);
              }
            }
          },
          child: ['<span>' + "Lưu và đóng" + '</span>']
        }]
      }]
    }]
  });

  var active = NewAccount_({
    tag: "switch"
  });

  var address = this.itemAddressOld();

  if (this.data !== undefined) {
    if (this.data.original.addressid != 0) ModuleDatabase["a" /* default */].getModule("addresses_user").load({
      WHERE: [{
        id: self.data.original.addressid
      }]
    }).then(function (valueAdr) {
      self.checkAddress = ModuleDatabase["a" /* default */].getModule("addresses_user").getLibary("id");
      var connect = "";
      var arr = [];

      for (var i = 0; i < valueAdr.length; i++) {
        if (connect !== "") arr.push(connect);
        arr.push({
          id: valueAdr[i].streetid
        });
        connect = "||";
      }

      ModuleDatabase["a" /* default */].getModule("streets").load({
        WHERE: arr
      }).then(function (valueStr) {
        self.checkStreet = ModuleDatabase["a" /* default */].getModule("streets").getLibary("id");
        self.checkState = ModuleDatabase["a" /* default */].getModule("states").getLibary("id");
        self.checkDistrict = ModuleDatabase["a" /* default */].getModule("districts").getLibary("id");
        self.checkWard = ModuleDatabase["a" /* default */].getModule("wards").getLibary("id");
        address.setAddressData(self.data.original.addressid);
      });
    });
  }

  var container;
  var state, district, ward, street;
  state = NewAccount_({
    tag: "selectmenu",
    "class": "pizo-new-realty-desc-detail-row-permission-state",
    props: {
      enableSearch: true
    },
    on: {
      change: function change(event) {
        var x = parseInt(getIDCompair(this.value));

        if (x == 0) {
          district.items = [{
            text: "Tất cả",
            value: 0
          }];
          district.value = 0;
        } else {
          for (var i = 0; i < self.checkStateDistrict[x].length; i++) {
            if (self.checkStateDistrict[x][i] == district.value) return;
          }

          if (self.checkStateDistrict[x] !== undefined) ;
          district.items = [{
            text: "Tất cả",
            value: 0
          }].concat(self.checkStateDistrict[x]);
        }

        district.emit("change");

        if (event !== undefined) {
          if (this.value == 0) self.setValueNull("state");else self.addPermissionParent({
            stateid: this.value
          });
        }
      }
    }
  });
  district = NewAccount_({
    tag: "selectmenu",
    "class": "pizo-new-realty-desc-detail-row-permission-district",
    props: {
      enableSearch: true
    },
    style: {
      poiterEvent: "none",
      backGroundColor: "#fafafa"
    },
    on: {
      change: function change(event) {
        var x = parseInt(getIDCompair(this.value));

        if (x == 0) {
          ward.items = [{
            text: "Tất cả",
            value: 0
          }];
          ward.value = 0;
        } else {
          if (self.checkDistrictWard[x] !== undefined) {
            ward.items = [{
              text: "Tất cả",
              value: 0
            }].concat(self.checkDistrictWard[x]);
          }
        }

        ward.emit("change");

        if (event !== undefined) {
          if (this.value == 0) self.setValueNull("district");else self.addPermissionParent({
            districtid: this.value
          });
        }
      }
    }
  });
  ward = NewAccount_({
    tag: "selectmenu",
    "class": "pizo-new-realty-desc-detail-row-permission-ward",
    props: {
      enableSearch: true
    },
    style: {
      poiterEvent: "none",
      backGroundColor: "#fafafa"
    },
    on: {
      change: function change(event) {
        var x = parseInt(getIDCompair(this.value));

        if (x == 0) {
          street.items = [{
            text: "Tất cả",
            value: 0
          }];
        } else ModuleDatabase["a" /* default */].getModule("streets").load({
          WHERE: [{
            wardid: x
          }]
        }).then(function (value) {
          self.checkWardStreet = ModuleDatabase["a" /* default */].getModule("streets").getLibary("wardid", function (data) {
            return {
              text: data.name,
              value: data.name + "_" + data.id
            };
          }, true);
          street.items = [{
            text: "Tất cả",
            value: 0
          }].concat(self.checkWardStreet[x]);
        });

        street.emit("change");

        if (event !== undefined) {
          if (this.value == 0) self.setValueNull("ward");else self.addPermissionParent({
            wardid: this.value
          });
        }
      }
    }
  });
  street = NewAccount_({
    tag: "selectmenu",
    "class": "pizo-new-realty-desc-detail-row-permission-street",
    style: {
      poiterEvent: "none",
      backGroundColor: "#fafafa"
    },
    on: {
      change: function change(event) {
        if (event !== undefined) {
          if (event !== undefined) {
            if (this.value == 0) self.setValueNull("ward");else self.addPermissionParent({
              streetid: this.value
            });
          }
        }
      }
    }
  });

  var selectPermission = NewAccount_({
    tag: "selectbox",
    "class": "pizo-new-account-container-permission-addvance-selectmenu-content",
    on: {
      activevaluechange: function activevaluechange(event) {
        var dataTemp = JSON.parse(this.activeValue);

        if (dataTemp["streetid"] !== undefined) {
          street.value = dataTemp["streetid"];
          street.emit("change");
          ward.value = dataTemp["wardid"];
          ward.emit("change");
          district.value = dataTemp["districtid"];
          district.emit("change");
          state.value = dataTemp["stateid"];
          state.emit("change");
        } else {
          if (dataTemp["wardid"] !== undefined) {
            ward.value = dataTemp["wardid"];
            ward.emit("change");
            district.value = dataTemp["districtid"];
            district.emit("change");
            state.value = dataTemp["stateid"];
            state.emit("change");
            street.value = 0;
            street.emit("change");
          } else {
            if (dataTemp["districtid"] !== undefined) {
              district.value = dataTemp["districtid"];
              district.emit("change");
              state.value = dataTemp["stateid"];
              state.emit("change");
              ward.value = 0;
              ward.emit("change");
            } else {
              if (dataTemp["stateid"] !== undefined) {
                state.value = dataTemp["stateid"];
                state.emit("change");
                district.value = 0;
                district.emit("change");
              } else {
                state.value = 0;
                state.emit("change");
              }
            }
          }
        }

        self.resetPermission();
        var objectPermission = self.checkPermission[this.activeValue];
        self.addPermissionParent(JSON.parse(this.activeValue));

        for (var i = 0; i < objectPermission.length; i++) {
          NewAccount_$("div.checkbox_" + objectPermission[i], self.$view).checked = true;
        }

        self.resetPermissionChoice();
      },
      remove: function remove(event) {
        if (self.checkPermission[event.value] !== undefined) {
          delete self.checkPermission[event.value] !== undefined;
        }

        if (this.value == this.activeValue) {
          if (this.values.length > 0) this.activeValue = this.values[0];
        }

        this.emit("activevaluechange");
      }
    },
    props: {
      items: [],
      disableClickToFocus: true,
      itemFocusable: true
    }
  });

  this.$view.addChild(NewAccount_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [{
      tag: "div",
      "class": ["pizo-list-realty-main-result-control-advance"],
      child: [{
        tag: "div",
        "class": "pizo-new-account-container",
        child: [{
          tag: "div",
          "class": "pizo-new-account-container-name",
          child: [{
            tag: "div",
            "class": "pizo-new-account-container-name-container",
            child: [{
              tag: "span",
              "class": "pizo-new-account-container-name-container-label",
              props: {
                innerHTML: "Họ và tên"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-account-container-name-container-input", "pizo-new-realty-dectruct-input"],
              on: {}
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-account-container-email",
          child: [{
            tag: "div",
            "class": "pizo-new-account-container-email-container",
            child: [{
              tag: "span",
              "class": "pizo-new-account-container-email-container-label",
              props: {
                innerHTML: "Email"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-account-container-email-container-input", "pizo-new-realty-dectruct-input"],
              on: {}
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-account-container-phone-birthday-gender",
          child: [{
            tag: "div",
            "class": "pizo-new-account-container-phone",
            child: [{
              tag: "div",
              "class": "pizo-new-account-container-phone-container",
              child: [{
                tag: "span",
                "class": "pizo-new-account-container-phone-container-label",
                props: {
                  innerHTML: "Số điện thoại"
                },
                child: [{
                  tag: "span",
                  "class": "pizo-new-realty-location-detail-row-label-important",
                  props: {
                    innerHTML: "*"
                  }
                }]
              }, {
                tag: "input",
                "class": ["pizo-new-account-container-phone-container-input", "pizo-new-realty-dectruct-input"],
                props: {
                  type: "number"
                }
              }]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-account-container-birthday",
            child: [{
              tag: "div",
              "class": "pizo-new-account-container-birthday-container",
              child: [{
                tag: "span",
                "class": "pizo-new-account-container-birthday-container-label",
                props: {
                  innerHTML: "Ngày sinh"
                }
              }, {
                tag: 'calendar-input',
                data: {
                  anchor: 'top',
                  value: new Date(new Date().getFullYear(), 0, 1),
                  maxDateLimit: new Date()
                },
                on: {}
              }]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-account-container-gender",
            child: [{
              tag: "div",
              "class": "pizo-new-account-container-gender-container",
              child: [{
                tag: "span",
                "class": "pizo-new-account-container-gender-container-label",
                props: {
                  innerHTML: "Giới tính"
                }
              }, {
                tag: "selectmenu",
                props: {
                  items: [{
                    text: "Nam",
                    value: "Nam"
                  }, {
                    text: "Nữ",
                    value: "Nữ"
                  }]
                }
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-account-container-change-password",
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-change-password-show",
            props: {
              innerHTML: "Đổi mật khẩu"
            }
          }, {
            tag: "span",
            "class": "pizo-new-account-container-change-password-hide",
            props: {
              innerHTML: "Ẩn đổi mật khẩu"
            }
          }],
          on: {
            click: function click(event) {
              if (this.classList.contains("show-password-change")) {
                this.classList.remove("show-password-change");
                container.style.display = "none";
              } else {
                this.classList.add("show-password-change");
                container.style.display = "unset";
              }
            }
          }
        }, {
          tag: "div",
          "class": "pizo-new-account-container-password",
          child: [{
            tag: "div",
            "class": "pizo-new-account-container-password-container",
            child: [{
              tag: "div",
              "class": "pizo-new-account-container-password-container-new",
              child: [{
                tag: "span",
                "class": "pizo-new-account-container-password-container-label",
                props: {
                  innerHTML: "Mật khẩu mới"
                }
              }, {
                tag: "input",
                "class": ["pizo-new-account-container-password-container-input-new", "pizo-new-realty-dectruct-input"],
                attr: {
                  type: "password"
                },
                on: {}
              }]
            }, {
              tag: "div",
              "class": "pizo-new-account-container-password-container-new-confirm",
              child: [{
                tag: "span",
                "class": "pizo-new-account-container-password-container-label",
                props: {
                  innerHTML: "Xác nhận mật khẩu"
                }
              }, {
                tag: "input",
                "class": ["pizo-new-account-container-password-container-input-new-confirm", "pizo-new-realty-dectruct-input"],
                attr: {
                  type: "password"
                },
                on: {
                  change: function change() {}
                }
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-account-container-avatar",
          child: [{
            tag: "div",
            "class": "pizo-new-account-container-avatar-container",
            child: [{
              tag: "span",
              "class": "pizo-new-account-container-avatar-container-label",
              props: {
                innerHTML: "Avatar"
              }
            }, {
              tag: "div",
              "class": "pizo-new-account-container-avatar-container-image",
              child: [{
                tag: "img",
                "class": "pizo-new-account-container-avatar-container-image-content",
                attr: {
                  src: "./assets/avatar/avatar-default.png"
                },
                on: {
                  click: function click(event) {
                    modal_drag_drop_image.createModal(document.body, function () {
                      if (modal_drag_drop_image.imgUrl) this.src = modal_drag_drop_image.imgUrl.src;
                    }.bind(this));
                    modal_drag_drop_image.addImage(this.src);
                  }
                }
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-account-container-address",
          child: [address]
        }, {
          tag: "div",
          "class": "pizo-new-account-container-status-position",
          child: [{
            tag: "div",
            "class": "pizo-new-account-container-position",
            child: [{
              tag: "div",
              "class": "pizo-new-account-container-position-container",
              child: [{
                tag: "span",
                "class": "pizo-new-account-container-position-container-label",
                props: {
                  innerHTML: "Chức vụ"
                }
              }, {
                tag: "div",
                "class": "pizo-new-account-container-position-container-input",
                child: [{
                  tag: "selectmenu",
                  "class": ["pizo-new-account-selectbox-container-input", "pizo-new-realty-dectruct-input", "disabled"],
                  props: {
                    enableSearch: true,
                    items: x
                  }
                }]
              }]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-account-container-status",
            child: [{
              tag: "div",
              "class": "pizo-new-account-container-status-container",
              child: [{
                tag: "span",
                "class": "pizo-new-account-container-status-container-label",
                props: {
                  innerHTML: "Hoạt động"
                }
              }, active]
            }]
          } // {
          //     tag:"div",
          //     class:"pizo-new-account-container-permission",
          //     child:[
          //         {
          //             tag:"div",
          //             class:"pizo-new-account-container-permission-container",
          //             child:[
          //                 {
          //                     tag:"span",
          //                     class:"pizo-new-account-container-permission-container-label",
          //                     props:{
          //                         innerHTML:"Quyền hệ thống"
          //                     }
          //                 },
          //                 activePemission
          //             ]
          //         }
          //     ]
          // },
          ]
        }, {
          tag: "div",
          "class": "pizo-new-account-container-permission-realty",
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-label",
            props: {
              innerHTML: "Quyền bất động sản"
            }
          }, {
            tag: "div",
            "class": ["pizo-new-account-container-permission-1", "pizo-new-account-container-permission-child"],
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Danh sách"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_56"]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Thêm"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_57"]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Sửa"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_58"]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Xóa"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_59"]
              }]
            }]
          }, {
            tag: "div",
            "class": ["pizo-new-account-container-permission-2", "pizo-new-account-container-permission-child"],
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Sửa (liên hệ)"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_60"]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Xóa (liên hệ)"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_61"]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Duyệt"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_62"]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Hủy duyệt"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_63"]
              }]
            }]
          }, {
            tag: "div",
            "class": ["pizo-new-account-container-permission-3", "pizo-new-account-container-permission-child"],
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Gộp dự án"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_64"]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Yêu cầu gọi lại"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_65"]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Thực hiện gọi lại"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_66"]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Chi tiết"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_67"]
              }]
            }]
          }, {
            tag: "div",
            "class": ["pizo-new-account-container-permission-4", "pizo-new-account-container-permission-child"],
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Yêu cầu chỉnh sửa"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_68"]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
                props: {
                  innerHTML: "Xác nhận chỉnh sửa"
                }
              }, {
                tag: "checkbox",
                "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_69"]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission"
            }, {
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row-permission"
            }]
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-new-account-container-permission",
        child: [{
          tag: "span",
          "class": "pizo-new-account-container-prermission-label",
          props: {
            innerHTML: "Quyền hệ thống"
          }
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-user", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Tài khoản"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Danh sách"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_1"],
              on: {
                click: function click(event) {
                  if (this.checked == false) {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = true;
                    }
                  } else {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = false;
                    }
                  }
                }
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Thêm"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_2"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Sửa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_3"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Xóa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_4"],
              props: {
                disabled: true
              }
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-position", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Sơ đồ tổ chức"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Danh sách"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_5"],
              on: {
                click: function click(event) {
                  if (this.checked == false) {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = true;
                    }
                  } else {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = false;
                    }
                  }
                }
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Thêm"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_6"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Sửa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_7"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Xóa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_8"],
              props: {
                disabled: true
              }
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-contact", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Liên hệ"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Danh sách"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_9"],
              on: {
                click: function click(event) {
                  if (this.checked == false) {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = true;
                    }
                  } else {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = false;
                    }
                  }
                }
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Thêm"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_10"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Sửa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_11"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Xóa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_12"],
              props: {
                disabled: true
              }
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-notification", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Thông báo"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Danh sách"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_49"]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Push"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_50"]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission"
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission"
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-state", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Tỉnh/TP"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Danh sách"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_13"],
              on: {
                click: function click(event) {
                  if (this.checked == false) {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = true;
                    }
                  } else {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = false;
                    }
                  }
                }
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Thêm"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_14"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Sửa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_15"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Xóa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_16"],
              props: {
                disabled: true
              }
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-district", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Quận/Huyện"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Danh sách"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_17"],
              on: {
                click: function click(event) {
                  if (this.checked == false) {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = true;
                    }
                  } else {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = false;
                    }
                  }
                }
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Thêm"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_18"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Sửa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_19"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Xóa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_20"],
              props: {
                disabled: true
              }
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-ward", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Phường/ xã"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Danh sách"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_21"],
              on: {
                click: function click(event) {
                  if (this.checked == false) {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = true;
                    }
                  } else {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = false;
                    }
                  }
                }
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Thêm"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_22"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Sửa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_23"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Xóa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_24"],
              props: {
                disabled: true
              }
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-street", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Đường"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Danh sách"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_25"],
              on: {
                click: function click(event) {
                  if (this.checked == false) {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = true;
                    }
                  } else {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = false;
                    }
                  }
                }
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Thêm"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_26"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Sửa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_27"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Xóa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_28"],
              props: {
                disabled: true
              }
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-planing_information", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Thông tin quy hoạch"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Danh sách"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_29"],
              on: {
                click: function click(event) {
                  if (this.checked == false) {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = true;
                    }
                  } else {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = false;
                    }
                  }
                }
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Thêm"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_30"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Sửa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_31"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Xóa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_32"],
              props: {
                disabled: true
              }
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-equipments", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Tiện nghi trong nhà"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Danh sách"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_33"],
              on: {
                click: function click(event) {
                  if (this.checked == false) {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = true;
                    }
                  } else {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = false;
                    }
                  }
                }
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Thêm"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_34"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Sửa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_35"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Xóa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_36"],
              props: {
                disabled: true
              }
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-juridicals", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Pháp lý"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Danh sách"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_37"],
              on: {
                click: function click(event) {
                  if (this.checked == false) {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = true;
                    }
                  } else {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = false;
                    }
                  }
                }
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Thêm"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_38"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Sửa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_39"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Xóa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_40"],
              props: {
                disabled: true
              }
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-ex_im", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Nhập xuất dữ liệu"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Nhập dữ liệu"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_51"]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Xuất dữ liệu"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_52"]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: []
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: []
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-report", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Báo cáo"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Tổng quát"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_53"]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Cuộc gọi"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_54"]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Upload hình"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_55"]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission"
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-type_realty", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Loại bất động sản"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Danh sách"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_41"],
              on: {
                click: function click(event) {
                  if (this.checked == false) {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = true;
                    }
                  } else {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = false;
                    }
                  }
                }
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Thêm"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_42"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Sửa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_43"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Xóa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_44"],
              props: {
                disabled: true
              }
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-account-container-permission-help", "pizo-new-account-container-permission-child"],
          child: [{
            tag: "span",
            "class": "pizo-new-account-container-prermission-container-label",
            props: {
              innerHTML: "Trợ giúp"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Danh sách"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_45"],
              on: {
                click: function click(event) {
                  if (this.checked == false) {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = true;
                    }
                  } else {
                    var index = parseInt(getIDCompair(this.classList[2]));

                    for (var i = 0; i < 3; i++) {
                      var elementTemp = NewAccount_$("div.checkbox_" + (index + 1 + i), self.$view);
                      if (elementTemp !== undefined) elementTemp.disabled = false;
                    }
                  }
                }
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Thêm"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_46"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Sửa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_47"],
              props: {
                disabled: true
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-permission",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-desc-detail-row-cell-menu-ultra-span",
              props: {
                innerHTML: "Xóa"
              }
            }, {
              tag: "checkbox",
              "class": ["pizo-new-realty-desc-detail-row-menu-1-checkbox", "checkbox_48"],
              props: {
                disabled: true
              }
            }]
          }]
        }]
      }]
    }, {
      tag: "div",
      "class": ["pizo-list-realty-main-result-control-advance"],
      child: [{
        tag: "div",
        "class": ["pizo-new-account-container", "pizo-new-account-advance-permission"],
        child: [{
          tag: "div",
          "class": "pizo-new-account-container-permission-child",
          child: [{
            tag: "span",
            "class": "pizo-new-realty-desc-detail-row-permission",
            props: {
              innerHTML: "Tỉnh/TP"
            }
          }, state]
        }, {
          tag: "div",
          "class": "pizo-new-account-container-permission-child",
          child: [{
            tag: "span",
            "class": "pizo-new-realty-desc-detail-row-permission",
            props: {
              innerHTML: "Quận/Huyện"
            }
          }, district]
        }, {
          tag: "div",
          "class": "pizo-new-account-container-permission-child",
          child: [{
            tag: "span",
            "class": "pizo-new-realty-desc-detail-row-permission",
            props: {
              innerHTML: "Phường/Xã"
            }
          }, ward]
        }, {
          tag: "div",
          "class": "pizo-new-account-container-permission-child",
          child: [{
            tag: "span",
            "class": "pizo-new-realty-desc-detail-row-permission",
            props: {
              innerHTML: "Đường"
            }
          }, street]
        }]
      }, {
        tag: "div",
        "class": "pizo-new-account-container-permission",
        child: [{
          tag: "div",
          "class": "pizo-new-account-container-permission-addvance-selectmenu",
          child: [{
            tag: "i",
            "class": ["material-icons", "pizo-new-account-container-permission-addvance-selectmenu-icon"],
            on: {
              click: function click(event) {
                var indexValue;
                var itemValue;
                var objectPermission = [];

                for (var i = 56; i < 70; i++) {
                  if (NewAccount_$("div.checkbox_" + i, self.$view).checked == true && NewAccount_$("div.checkbox_" + i, self.$view).disabled !== true) {
                    objectPermission.push(i);
                  }
                }

                if (street.value == 0) {
                  if (ward.value == 0) {
                    if (district.value == 0) {
                      if (state.value == 0) {
                        indexValue = 0;
                        itemValue = {
                          text: "Tất cả",
                          value: indexValue
                        };
                      } else {
                        indexValue = '{"stateid":"' + state.value + '"}';
                        itemValue = {
                          text: getNameCompair(state.value),
                          value: indexValue
                        };
                      }
                    } else {
                      indexValue = '{"stateid":"' + state.value + '","districtid":"' + district.value + '"}';
                      itemValue = {
                        text: getNameCompair(district.value),
                        value: indexValue
                      };
                    }
                  } else {
                    indexValue = '{"stateid":"' + state.value + '","districtid":"' + district.value + '","wardid":"' + ward.value + '"}';
                    itemValue = {
                      text: getNameCompair(ward.value),
                      value: indexValue
                    };
                  }
                } else {
                  indexValue = '{"stateid":"' + state.value + '","districtid":"' + district.value + '","wardid":"' + ward.value + '","streetid":"' + street.value + '"}';
                  itemValue = {
                    text: getNameCompair(street.value),
                    value: indexValue
                  };
                }

                if (selectPermission.values.indexOf(indexValue) == -1) {
                  selectPermission.items.push(itemValue);
                  selectPermission.values.push(indexValue);
                  selectPermission.items = selectPermission.items;
                  selectPermission.values = selectPermission.values;
                }

                selectPermission.activeValue = indexValue;
                self.checkPermission[indexValue] = objectPermission;
                selectPermission.emit("activevaluechange");
              }
            },
            props: {
              innerHTML: "send"
            }
          }, selectPermission]
        }]
      }]
    }]
  }));
  var arr = [];
  arr.push(ModuleDatabase["a" /* default */].getModule("states").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("districts").load({
    ORDERING: "stateid"
  }));
  arr.push(ModuleDatabase["a" /* default */].getModule("wards").load({
    ORDERING: "districtid"
  }));

  if (this.data !== undefined) {
    var x = ModuleDatabase["a" /* default */].queryData("loadPermision.php", {
      userid: this.data.original.id
    }, "privileges");
    var resolveStreet;
    var y = new Promise(function (resolve, reject) {
      resolveStreet = resolve;
    });
    x.then(function (values) {
      var where = [];
      var first = "";

      for (var i = 0; i < values.length; i++) {
        if (values[i].streetid != 0) {
          if (first !== "") where.push(first);
          where.push({
            id: values[i].streetid
          });
          if (first == "") first = "&&";
        }
      }

      if (where.length > 0) ModuleDatabase["a" /* default */].getModule("streets").load({
        WHERE: where
      }).then(function (value) {
        this.checkStreet = ModuleDatabase["a" /* default */].getModule("streets").getLibary("id");
        resolveStreet();
      }.bind(this));else {
        resolveStreet();
      }
    }.bind(this));
    arr.push(x);
    arr.push(y);
  }

  this.state = state;
  this.district = district;
  this.ward = ward;
  this.street = street;
  Promise.all(arr).then(function (values) {
    state.items = [{
      text: "Tất cả",
      value: 0
    }].concat(ModuleDatabase["a" /* default */].getModule("states").getList("name", ["name", "id"]));
    district.items = [{
      text: "Tất cả",
      value: 0
    }];
    ward.items = [{
      text: "Tất cả",
      value: 0
    }];
    street.items = [{
      text: "Tất cả",
      value: 0
    }];
    this.checkStateDistrict = ModuleDatabase["a" /* default */].getModule("districts").getLibary("stateid", function (data) {
      return {
        text: data.name,
        value: data.name + "_" + data.id
      };
    }, true);
    this.checkDistrictWard = ModuleDatabase["a" /* default */].getModule("wards").getLibary("districtid", function (data) {
      return {
        text: data.name,
        value: data.name + "_" + data.id
      };
    }, true);
    this.checkWard = ModuleDatabase["a" /* default */].getModule("wards").getLibary("id");
    this.checkState = ModuleDatabase["a" /* default */].getModule("states").getLibary("id");
    this.checkDistrict = ModuleDatabase["a" /* default */].getModule("districts").getLibary("id");
    this.checkPermission = [];

    if (values[3] !== undefined) {
      var result = values[3];

      for (var i = 0; i < result.length; i++) {
        var permissionTemp = result[i].permission;

        if (permissionTemp < 56 && permissionTemp > 0) {
          var tempCheckbox = NewAccount_$("div.checkbox_" + permissionTemp, self.$view);
          tempCheckbox.click();
        } else {
          var indexTemp = "{";
          var tempCheck;

          if (result[i]["stateid"] !== 0) {
            tempCheck = this.checkState[result[i]["stateid"]];
            if (tempCheck !== undefined) indexTemp += '"stateid":"' + tempCheck.name + "_" + tempCheck.id + '"';
          }

          if (result[i]["districtid"] !== 0) {
            tempCheck = this.checkDistrict[result[i]["districtid"]];
            if (tempCheck !== undefined) indexTemp += ',"districtid":"' + tempCheck.name + "_" + tempCheck.id + '"';
          }

          if (result[i]["wardid"] !== 0) {
            tempCheck = this.checkWard[result[i]["wardid"]];
            if (tempCheck !== undefined) indexTemp += ',"wardid":"' + tempCheck.name + "_" + tempCheck.id + '"';
          }

          if (result[i]["streetid"] !== 0) {
            tempCheck = this.checkStreet[result[i]["streetid"]];
            if (tempCheck !== undefined) indexTemp += ',"streetid":"' + tempCheck.name + "_" + tempCheck.id + '"';
          }

          if (indexTemp == "{") indexTemp = 0;else indexTemp += "}";
          if (this.checkPermission[indexTemp] === undefined) this.checkPermission[indexTemp] = [];
          this.checkPermission[indexTemp].push(permissionTemp);
        }
      }

      var indexValue, indexItem, stringTemp, lastParam;

      for (var param in this.checkPermission) {
        if (param == 0) {
          indexValue = 0;
          indexItem = {
            text: "Tất cả",
            value: indexValue
          };
        } else {
          stringTemp = JSON.parse(param);
          lastParam = Object.keys(stringTemp)[Object.keys(stringTemp).length - 1];
          indexValue = param;
          indexItem = {
            text: getNameCompair(stringTemp[lastParam]),
            value: param
          };
        }

        selectPermission.items.push(indexItem);
        selectPermission.values.push(indexValue);
        selectPermission.items = selectPermission.items;
        selectPermission.values = selectPermission.values;
      }

      if (selectPermission.values.length > 0) {
        selectPermission.activeValue = selectPermission.values[0];
        selectPermission.emit("activevaluechange");
      }
    }
  }.bind(this));
  this.selectPermission = selectPermission;
  this.sendButton = NewAccount_$('.pizo-new-account-container-permission-addvance-selectmenu-icon', this.$view);
  this.name = NewAccount_$('input.pizo-new-account-container-name-container-input', this.$view);
  this.email = NewAccount_$('input.pizo-new-account-container-email-container-input', this.$view);
  this.phone = NewAccount_$('input.pizo-new-account-container-phone-container-input', this.$view);
  this.birthday = NewAccount_$('div.pizo-new-account-container-birthday-container div', this.$view);
  this.gender = NewAccount_$('div.pizo-new-account-container-gender-container div', this.$view);
  this.address = address;
  this.position = NewAccount_$('div.pizo-new-account-selectbox-container-input', this.$view);
  this.status = NewAccount_$('div.pizo-new-account-container-status-container label.absol-switch', this.$view); // this.permission = $('div.pizo-new-account-container-permission-container label.absol-switch',this.$view);

  this.avatar = NewAccount_$("img.pizo-new-account-container-avatar-container-image-content", this.$view);
  container = NewAccount_$("div.pizo-new-account-container-password", self.$view);
  this.containerPassword = container;
  this.newPassWord = NewAccount_$('input.pizo-new-account-container-password-container-input-new', this.$view);
  this.confirmPassWord = NewAccount_$('input.pizo-new-account-container-password-container-input-new-confirm', this.$view);
  this.street = street;
  this.ward = ward;
  this.district = district;
  this.state = state;

  if (this.data !== undefined) {
    this.name.value = this.data.original.name;
    this.phone.setAttribute("disabled", "");
    this.email.value = this.data.original.email;
    this.phone.value = this.data.original.phone;
    this.birthday.value = new Date(this.data.original.birthday);
    this.gender.value = this.data.original.gender;
    this.position.value = parseInt(this.data.original.positionid);
    this.status.checked = parseInt(this.data.original.status) ? true : false; // this.permission.checked = parseInt(this.data.original.permission)?true:false;

    if (this.data.original.avatar !== "") {
      this.avatar.src = "https://lab.daithangminh.vn/home_co/pizo/assets/avatar/" + this.data.original.avatar;
    }
  } else {
    NewAccount_$("div.pizo-new-account-container-change-password", this.$view).style.display = "none";
    container.style.display = "unset";
  }

  if (this.isOnlyInformation === true) {
    NewAccount_$("div.pizo-new-account-container-permission", this.$view).style.display = "none";
    NewAccount_$("div.pizo-new-account-container.pizo-new-account-advance-permission", this.$view).parentNode.style.display = "none";
    NewAccount_$("div.pizo-new-account-container-permission-realty", this.$view).style.display = "none";
    NewAccount_$("div.pizo-new-account-container-status-position", this.$view).style.display = "none";
  }

  return this.$view;
};

NewAccount_NewAccount.prototype.itemAddressOld = function () {
  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
    addressid_old: 0
  };
  var addressid;
  if (data.addressid_old !== undefined) addressid = data.addressid_old;else addressid = 0;

  var temp = NewAccount_({
    tag: "div",
    "class": ["pizo-new-account-container-address-container", "addressItemCheck"],
    child: [{
      tag: "span",
      "class": "pizo-new-account-container-address-container-label",
      props: {
        innerHTML: "Địa chỉ"
      }
    }, {
      tag: "input",
      "class": ["pizo-new-account-container-address-container-input"],
      on: {
        click: function click(event) {
          this.blur();
          var selfElement = this;
          var childNode = locationView(function (value) {
            selfElement.value = value.input.value;
            temp.data = childNode.getDataCurrent();
            childRemove.selfRemove();
          }, temp.data);

          var childRemove = NewAccount_({
            tag: "modal",
            on: {
              click: function click(event) {
                var target = event.target;

                while (target !== childNode && target !== childRemove && target !== document.body) {
                  target = target.parentNode;
                }

                if (target === childRemove) childRemove.selfRemove();
              }
            },
            child: [childNode]
          });

          temp.appendChild(childRemove);
        }
      }
    }]
  });

  temp.setAddressData = function () {
    var addressid = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

    if (addressid != 0) {
      var number = this.checkAddress[addressid].addressnumber;
      var street = this.checkStreet[this.checkAddress[addressid].streetid].name;
      var ward = this.checkWard[this.checkAddress[addressid].wardid].name;
      var district = this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].name;
      var state = this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].stateid].name;
      NewAccount_$("input.pizo-new-account-container-address-container-input", temp).value = number + " " + street + ", " + ward + ", " + district + ", " + state;
      temp.data = {
        number: this.checkAddress[addressid].addressnumber,
        street: this.checkStreet[this.checkAddress[addressid].streetid].name + "_" + this.checkAddress[addressid].streetid,
        ward: this.checkWard[this.checkAddress[addressid].wardid].name + "_" + this.checkAddress[addressid].wardid,
        district: this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].name + "_" + this.checkWard[this.checkAddress[addressid].wardid].districtid,
        state: this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].stateid].name + "_" + this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].stateid
      };
    }
  }.bind(this);

  temp.setAddressData(addressid);
  return temp;
};

NewAccount_NewAccount.prototype.resetPermission = function () {
  for (var i = 56; i < 70; i++) {
    if (NewAccount_$("div.checkbox_" + i, this.$view).checked == true) NewAccount_$("div.checkbox_" + i, this.$view).checked = false;
    if (NewAccount_$("div.checkbox_" + i, this.$view).disabled == true) NewAccount_$("div.checkbox_" + i, this.$view).disabled = false;
  }
};

NewAccount_NewAccount.prototype.resetPermissionChoice = function () {// this.selectPermission.activeValue = undefined;
};

NewAccount_NewAccount.prototype.backPermission = function (objectChild) {
  var temp = _objectSpread({}, objectChild);

  if (temp["streetid"] !== undefined) {
    if (temp["streetid"] == 0) return {
      stateid: 0
    };

    if (temp["wardid"] == undefined) {
      temp["wardid"] = this.checkStreet[getIDCompair(temp["streetid"])].wardid;
      temp["wardid"] = this.checkWard[temp["wardid"]].name + "_" + temp["wardid"];
    }

    delete temp["streetid"];
    return temp;
  }

  if (temp["wardid"] !== undefined) {
    if (temp["wardid"] == 0) return {
      stateid: 0
    };

    if (temp["districtid"] == undefined) {
      temp["districtid"] = this.checkWard[getIDCompair(temp["wardid"])].districtid;
      temp["districtid"] = this.checkDistrict[temp["districtid"]].name + "_" + temp["districtid"];
    }

    delete temp["wardid"];
    return temp;
  }

  if (temp["districtid"] !== undefined) {
    if (temp["districtid"] == 0) return {
      stateid: 0
    };

    if (temp["stateid"] == undefined) {
      temp["stateid"] = this.checkDistrict[getIDCompair(temp["districtid"])].stateid;
      temp["stateid"] = this.checkState[temp["stateid"]].name + "_" + temp["stateid"];
    }

    delete temp["districtid"];
    return temp;
  }

  return {
    stateid: 0
  };
};

NewAccount_NewAccount.prototype.addPermissionParent = function (objectChild) {
  this.resetPermission();
  this.resetPermissionChoice();
  var objectChildOlder = this.backPermission(objectChild);

  for (var param in this.checkPermission) {
    var objectParam = JSON.parse(param);

    if (this.checkSameAddress(objectChild, objectParam)) {
      this.sameClick(param);
    } else {
      if (param == 0 || this.checkOlderPermission(objectChildOlder, JSON.parse(param)) && this.checkPermissionParent(objectChildOlder, objectParam)) {
        for (var i = 0; i < this.checkPermission[param].length; i++) {
          var tempCheckbox = NewAccount_$("div.checkbox_" + this.checkPermission[param][i], this.$view);
          tempCheckbox.checked = true;
          if (objectChild != 0) tempCheckbox.disabled = true;
        }
      }
    }
  }
};

NewAccount_NewAccount.prototype.checkSameAddress = function (objectChild, object) {
  var param;

  if (NewAccount_typeof(objectChild) == "object") {
    for (param in objectChild) {
      if (object[param] !== undefined && objectChild[param] == object[param]) {
        continue;
      }

      return false;
    }

    if (!this.checkOlderPermission(objectChild, object)) return false;
  } else return false;

  return true;
};

NewAccount_NewAccount.prototype.sameClick = function (param) {
  var objectPermission = param;

  if (this.selectPermission.activeValue !== objectPermission) {
    this.selectPermission.activeValue = objectPermission;
    this.selectPermission.emit("activevaluechange");
  }
};

NewAccount_NewAccount.prototype.checkOlderPermission = function (objectChild, objectParent) {
  if (objectChild["wardid"] !== undefined) {
    if (objectParent["streetid"] !== undefined) return false;
  } else if (objectChild["districtid"] !== undefined) {
    if (objectParent["wardid"] !== undefined) return false;
  } else if (objectChild["stateid"] !== undefined) {
    if (objectParent["districtid"] !== undefined) return false;
  }

  return true;
};

NewAccount_NewAccount.prototype.checkPermissionParent = function (objectChild, objectParent) {
  if (objectChild["wardid"] !== undefined) {
    var dataTemp = getIDCompair(objectChild["wardid"]);

    if (objectParent["wardid"] !== undefined) {
      if (dataTemp == getIDCompair(objectParent["wardid"])) return true;
      return false;
    } else {
      dataTemp = this.checkWard[dataTemp].districtid;
      dataTemp = this.checkDistrict[dataTemp].name + "_" + dataTemp;
      return this.checkPermissionParent({
        districtid: dataTemp
      }, objectParent);
    }
  }

  if (objectChild["districtid"] !== undefined) {
    var dataTemp = getIDCompair(objectChild["districtid"]);

    if (objectParent["districtid"] !== undefined) {
      if (dataTemp == getIDCompair(objectParent["districtid"])) return true;
      return false;
    } else {
      dataTemp = this.checkDistrict[dataTemp].stateid;
      dataTemp = this.checkState[dataTemp].name + "_" + dataTemp;
      return this.checkPermissionParent({
        stateid: dataTemp
      }, objectParent);
    }
  }

  if (objectChild["stateid"] !== undefined) {
    var dataTemp = getIDCompair(objectChild["stateid"]);

    if (objectParent["stateid"] !== undefined && dataTemp == getIDCompair(objectParent["stateid"])) {
      return true;
    }
  }

  return false;
};

NewAccount_NewAccount.prototype.setValueNull = function (object) {
  if (object == "street") {
    if (this.ward.value != 0) {
      this.addPermissionParent({
        wardid: this.ward.value
      });
    } else {
      return this.setValueNull("ward");
    }
  }

  if (object == "ward") {
    if (this.district.value != 0) {
      this.addPermissionParent({
        districtid: this.district.value
      });
    } else {
      return this.setValueNull("district");
    }
  }

  if (object == "district") {
    if (this.state.value != 0) {
      this.addPermissionParent({
        stateid: this.state.value
      });
    } else {
      return this.setValueNull("state");
    }
  }

  if (object == "state") {
    if (this.selectPermission.values.indexOf(0) !== -1) {
      if (this.selectPermission.values.length > 0) this.selectPermission.activeValue = this.selectPermission.values[0];
    } else {
      this.resetPermission();
      this.resetPermissionChoice();
    }
  }
};

NewAccount_NewAccount.prototype.getDataSave = function () {
  this.sendButton.click();
  var avatar = this.avatar.src;
  avatar = avatar.replace("https://lab.daithangminh.vn/home_co/pizo/assets/avatar/", "");
  var vnf_regex = /((09|03|07|08|05)+([0-9]{8})\b)/g;

  if (vnf_regex.test(this.phone.value) == false) {
    var deleteItem = confirmQuestion("Xác nhận số điện thoại", "Số điện thoại chưa đúng vui lòng kiểm tra lại!");
    this.$view.addChild(deleteItem);
    return;
  }

  if (this.data == undefined) {
    if (ModuleDatabase["a" /* default */].getModule("users").getLibary("phone")[this.phone.value] !== undefined || ModuleDatabase["a" /* default */].getModule("contacts").getLibary("phone")[this.phone.value] !== undefined) {
      var deleteItem = confirmQuestion("Xác nhận số điện thoại", "Số điện thoại trùng vui lòng kiểm tra lại!");
      this.$view.addChild(deleteItem);
      return;
    }
  }

  for (var i = 0; i < this.selectPermission.values.length; i++) {
    this.selectPermission.activeValue = this.selectPermission.values[i];
    this.selectPermission.emit("activevaluechange");
  }

  var permission = _objectSpread({}, this.checkPermission);

  var tempParam;

  for (var param in permission) {
    tempParam = JSON.parse(param);

    for (var paramChild in tempParam) {
      tempParam[paramChild] = getIDCompair(tempParam[paramChild]);
    }

    permission[JSON.stringify(tempParam)] = permission[param];
    delete permission[param];
  }

  permission[0] = this.checkPermission[0];

  if (permission[0] === undefined) {
    permission[0] = [];
  }

  for (var i = 1; i < 56; i++) {
    var tempCheckbox = NewAccount_$("div.checkbox_" + i, this.$view);

    if (tempCheckbox.checked == true) {
      permission[0].unshift(i);
    }
  }

  var temp = {
    name: this.name.value,
    email: this.email.value,
    phone: this.phone.value,
    birthday: getGMT(this.birthday.value, new Date().getTimezoneOffset() / -60, true),
    gender: this.gender.value,
    positionid: this.position.value,
    status: this.status.checked ? 1 : 0,
    permission: permission,
    avatar: avatar
  };

  if (this.containerPassword.style.display == "unset") {
    if (this.newPassWord.value == "" || this.newPassWord.value !== this.confirmPassWord.value) {
      var deleteItem = confirmQuestion("Xác nhận mật khẩu", "Mật khẩu xác nhận chưa đúng vui lòng kiểm tra lại!");
      this.$view.addChild(deleteItem);
      return;
    } else {
      temp.password = this.newPassWord.value;
    }
  }

  if (this.address.data !== undefined) {
    var address = {};
    var data = this.address.data;
    var lastIndex = data.ward.lastIndexOf("_");

    if (lastIndex === -1) {
      address.ward = data.ward;
      lastIndex = data.district.lastIndexOf("_");

      if (lastIndex == -1) {
        address.district = data.district;
        lastIndex = data.state.lastIndexOf("_");

        if (lastIndex == -1) {
          address.state = data.state;
        } else {
          address.stateid = data.state.slice(lastIndex + 1);
        }
      } else address.districtid = data.district.slice(lastIndex + 1);
    } else address.wardid = data.ward.slice(lastIndex + 1);

    var lastIndex = data.street.lastIndexOf("_");
    if (lastIndex === -1) address.street = data.street;else address.streetid = data.street.slice(lastIndex + 1);
    address.number = data.number;
    temp.addressid = address;
  }

  if (this.data !== undefined) temp.id = this.data.original.id;
  return temp;
};

NewAccount_NewAccount.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

NewAccount_NewAccount.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

NewAccount_NewAccount.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

NewAccount_NewAccount.prototype.start = function () {};

/* harmony default export */ var component_NewAccount = (NewAccount_NewAccount);
// CONCATENATED MODULE: ./js/component/MergeRealty.js












var MergeRealty_ = dom_Fcore._;
var MergeRealty_$ = dom_Fcore.$;

function MergeRealty_MergeRealty(data) {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.data = data;
}

MergeRealty_MergeRealty.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(MergeRealty_MergeRealty.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
MergeRealty_MergeRealty.prototype.constructor = MergeRealty_MergeRealty;

MergeRealty_MergeRealty.prototype.createPromise = function () {
  var self = this;

  if (this.data === undefined) {
    self.promiseAddDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  } else {
    self.promiseEditDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  }
};

MergeRealty_MergeRealty.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;
  this.$view = MergeRealty_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Gộp bất động sản"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
              self.rejectDB(self.getDataSave());
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.createPromise();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Lưu và đóng" + '</span>']
        }]
      }]
    }]
  });
  var myTool = new mpot_merge_tool.MPOTMergeTool();
  this.myTool = myTool;
  var element = new MapView_MapView();
  element.map.set("gestureHandling", "cooperative");
  element.activePlanningMap();
  var toolView = myTool.getView();
  var itemsAddress = [];
  var itemsAddressOld = [];
  var itemData;
  var itemName = [];
  var itemContent = [];
  var itemWidth = [],
      sumWidth = 0;
  var itemHeight = [],
      sumHeight = 0;
  var itemAcreage = [],
      sumAcreage = 0;
  var itemLandarea = [],
      sumLandarea = 0;
  var itemFloorarea = [],
      sumFloorarea = 0;
  var itemDirection = [];
  var checkDirection = {
    0: "Chưa xác định",
    6: "Đông",
    4: "Tây",
    2: "Nam",
    8: "Bắc",
    9: "Đông Bắc",
    3: "Đông Nam",
    7: "Tây Bắc",
    1: "Tây Nam"
  };
  var itemType = [];
  var checkType = ModuleDatabase["a" /* default */].getModule("type_activehouses").getLibary("id");
  var number, street, ward, district, state, fullAddress;
  this.checkAddressName = [];
  var checkAddress = this.checkAddressName;
  this.checkAddressData = checkAddress;
  var valueRoadWidth,
      itemRoadWidth = [],
      sumRoadWidth = 0;
  var itemEquipments = [],
      itemContact = [];
  var itemCheckStatus = [];
  var itemImageStaus = [];

  itemImageStaus.functionChange = function (parent) {
    var arr = parent.getElementsByClassName("checked-pizo");

    if (arr.length == 0) {
      if (parent.childNodes.length > 0) parent.childNodes[0].classList.add("checked-pizo");
    }
  };

  var itemImageJuridical = [];
  var itemInputFit = [];
  var itemInputPriceRent = [];
  var itemInputPrice = [];
  var itemInputJuridical = [];
  var arr = ModuleDatabase["a" /* default */].getModule("juridicals").getList("name", "id");
  this.checkAddress = ModuleDatabase["a" /* default */].getModule("addresses").getLibary("id");
  this.checkStreet = ModuleDatabase["a" /* default */].getModule("streets").getLibary("id");
  this.checkWard = ModuleDatabase["a" /* default */].getModule("wards").getLibary("id");
  this.checkDistrict = ModuleDatabase["a" /* default */].getModule("districts").getLibary("id");
  this.checkState = ModuleDatabase["a" /* default */].getModule("states").getLibary("id");
  this.checkImage = ModuleDatabase["a" /* default */].getModule("image").getLibary("id");
  ModuleDatabase["a" /* default */].getModule("users").load().then(function (value) {
    self.checkUser = ModuleDatabase["a" /* default */].getModule("users").getLibary("phone");
    self.checkUserID = ModuleDatabase["a" /* default */].getModule("users").getLibary("id");
  });
  ModuleDatabase["a" /* default */].getModule("contacts").load().then(function (value) {
    self.checkContact = ModuleDatabase["a" /* default */].getModule("contacts").getLibary("phone");
    self.checkContactID = ModuleDatabase["a" /* default */].getModule("contacts").getLibary("id");
  });
  var valueSimpleStructure,
      itemStructure = [];
  var prefixImage = "https://lab.daithangminh.vn/home_co/pizo/assets/upload/";

  for (var i = 0; i < this.data.length; i++) {
    //Địa chỉ hiện tại
    itemData = this.data[i].original;

    for (var j = 0; j < itemData.image.length; j++) {
      if (this.checkImage[itemData.image[j]].type == 1) {
        var dataChild = {
          value: true,
          element: absol._({
            tag: "div",
            "class": "grid-item",
            child: [{
              tag: "button",
              "class": "pizo-container-icon-radiobutton",
              on: {
                click: function click(event) {
                  var parent = this.parentNode.parentNode;
                  var arr = parent.getElementsByClassName("checked-pizo");
                  if (arr.length > 0) arr[0].classList.remove("checked-pizo");
                  {
                    this.parentNode.classList.add("checked-pizo");
                  }
                }
              },
              child: [{
                tag: "i",
                "class": ["material-icons", "choice-button-img"],
                style: {
                  overflow: "hidden",
                  cursor: "pointer",
                  userSelect: "none",
                  fontSize: "13px"
                },
                props: {
                  innerHTML: "stop_circle"
                }
              }]
            }, {
              tag: "img",
              "class": "full-size",
              props: {
                src: prefixImage + this.checkImage[itemData.image[j]].src
              }
            }, {
              tag: "i",
              "class": ["material-icons", "close-button-img"],
              style: {
                overflow: "hidden",
                position: "absolute",
                right: "7px",
                top: "7px",
                cursor: "pointer",
                height: "fit-content",
                margin: "0px",
                width: "fit-content",
                userSelect: "none",
                backgroundColor: "white",
                fontSize: "21px"
              },
              props: {
                innerHTML: "close"
              }
            }]
          }),
          id: itemData.image[j],
          copy: this.checkImage[itemData.image[j]].src
        };
        MergeRealty_$(".close-button-img", dataChild.element).addEventListener("click", function (dataChild) {
          dataChild.value = false;
        }.bind(null, dataChild));
        itemImageStaus.push(dataChild);
      } else {
        var dataChild = {
          value: true,
          element: absol._({
            tag: "div",
            "class": "grid-item",
            child: [{
              tag: "img",
              "class": "full-size",
              props: {
                src: prefixImage + this.checkImage[itemData.image[j]].src
              }
            }, {
              tag: "i",
              "class": ["material-icons", "close-button-img"],
              style: {
                overflow: "hidden",
                position: "absolute",
                right: "7px",
                top: "7px",
                cursor: "pointer",
                height: "fit-content",
                margin: "0px",
                width: "fit-content",
                userSelect: "none",
                backgroundColor: "white",
                fontSize: "21px"
              },
              props: {
                innerHTML: "close"
              }
            }]
          }),
          id: itemData.image[j],
          copy: this.checkImage[itemData.image[j]].src
        };
        dataChild["data"] = this.checkImage[itemData.image[j]];
        MergeRealty_$(".close-button-img", dataChild.element).addEventListener("click", function (dataChild) {
          dataChild.value = false;
        }.bind(null, dataChild));
        itemImageJuridical.push(dataChild);
      }
    }

    if (itemData.addressid != 0) {
      number = this.checkAddress[itemData.addressid].addressnumber;
      street = this.checkStreet[this.checkAddress[itemData.addressid].streetid].name;
      ward = this.checkWard[this.checkAddress[itemData.addressid].wardid].name;
      district = this.checkDistrict[this.checkWard[this.checkAddress[itemData.addressid].wardid].districtid].name;
      state = this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[itemData.addressid].wardid].districtid].stateid].name;
      fullAddress = number + " " + street + ", " + ward + ", " + district + ", " + state;
      itemsAddress.push(fullAddress);
      checkAddress[fullAddress] = [itemData.lat, itemData.lng];
      checkAddress[fullAddress].data = itemData;
    } //Địa chỉ cũ


    if (itemData.addressid_old != 0) {
      number = this.checkAddress[itemData.addressid_old].addressnumber;
      street = this.checkStreet[this.checkAddress[itemData.addressid_old].streetid].name;
      ward = this.checkWard[this.checkAddress[itemData.addressid_old].wardid].name;
      district = this.checkDistrict[this.checkWard[this.checkAddress[itemData.addressid_old].wardid].districtid].name;
      state = this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[itemData.addressid_old].wardid].districtid].stateid].name;
      fullAddress = number + " " + street + ", " + ward + ", " + district + ", " + state;
      checkAddress[fullAddress] = {};
      checkAddress[fullAddress].data = itemData;
      itemsAddressOld.push(fullAddress);
    }

    itemName.push(itemData.name);
    var inputSell = parseInt(itemData.salestatus % 10) == 1 ? true : false;
    var inputLease = parseInt(itemData.salestatus / 10) == 1 ? true : false;

    var tempStatus = MergeRealty_({
      tag: "div",
      "class": "pizo-new-realty-desc-detail-row",
      style: {
        pointerEvents: "none"
      },
      child: [{
        tag: "div",
        "class": "pizo-new-realty-desc-detail-row-cell-menu-1",
        child: [{
          tag: "div",
          "class": "pizo-new-realty-desc-detail-row",
          child: [{
            tag: "span",
            "class": "pizo-new-realty-desc-detail-row-cell-menu-1-span",
            props: {
              innerHTML: "Còn bán"
            }
          }, {
            tag: "checkbox",
            "class": "pizo-new-realty-desc-detail-row-menu-1-checkbox",
            props: {
              checked: inputSell
            }
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-new-realty-desc-detail-row-cell-menu-2",
        child: [{
          tag: "div",
          "class": "pizo-new-realty-desc-detail-row",
          child: [{
            tag: "span",
            "class": "pizo-new-realty-desc-detail-row-cell-menu-2-span",
            props: {
              innerHTML: "Còn cho thuê"
            }
          }, {
            tag: "checkbox",
            "class": "pizo-new-realty-desc-detail-row-menu-2-checkbox",
            props: {
              checked: inputLease
            }
          }]
        }]
      }]
    });

    tempStatus.inputLease = MergeRealty_$("div.pizo-new-realty-desc-detail-row-menu-2-checkbox", tempStatus);
    tempStatus.inputSell = MergeRealty_$("div.pizo-new-realty-desc-detail-row-menu-1-checkbox", tempStatus);
    itemCheckStatus.push({
      value: i + 1,
      element: tempStatus
    });
    itemContent.push(itemData.content);
    sumWidth += parseFloat(itemData.width);
    itemWidth.push(itemData.width);
    sumHeight += parseFloat(itemData.height);
    itemHeight.push(itemData.height);
    sumAcreage += parseFloat(itemData.acreage);
    itemAcreage.push(itemData.acreage);
    sumLandarea += parseFloat(itemData.landarea);
    itemLandarea.push(itemData.landarea);
    sumFloorarea += parseFloat(itemData.floorarea);
    itemFloorarea.push(itemData.floorarea);
    var advanceDetruct = itemData.advancedetruct;
    var advanceDetruct1 = advanceDetruct % 10 ? true : false;
    advanceDetruct = parseInt(advanceDetruct / 10);
    var advanceDetruct2 = advanceDetruct % 10 ? true : false;
    advanceDetruct = parseInt(advanceDetruct / 10);
    var advanceDetruct3 = advanceDetruct % 10 ? true : false;
    advanceDetruct = parseInt(advanceDetruct / 10);
    var advanceDetruct4 = advanceDetruct % 10 ? true : false;
    advanceDetruct = MergeRealty_({
      tag: "div",
      "class": "pizo-new-realty-dectruct-content-area-advance",
      child: [{
        tag: "div",
        "class": ["pizo-new-realty-dectruct-content-area-size"],
        child: [{
          tag: "div",
          "class": ["pizo-new-realty-dectruct-content-area-size-zone"],
          child: [{
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-dectruct-content-area-floor-label",
              props: {
                innerHTML: "Tầng"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-realty-dectruct-content-area-floor", "pizo-new-realty-dectruct-input"],
              attr: {
                type: "number",
                min: 0,
                step: 1
              },
              props: {
                value: itemData.floor
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size-zone",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-dectruct-content-area-basement-label",
              props: {
                innerHTML: "Hầm"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-realty-dectruct-content-area-basement", "pizo-new-realty-dectruct-input"],
              attr: {
                type: "number",
                min: 0,
                step: 1
              },
              props: {
                value: itemData.basement
              }
            }]
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-new-realty-dectruct-content-area-selectbox",
        child: [{
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size-zone",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-selectbox-child",
              child: [{
                tag: "span",
                props: {
                  innerHTML: "Lửng"
                }
              }, {
                tag: "checkbox",
                "class": "pizo-new-realty-dectruct-content-area-selectbox-child-1",
                props: {
                  checked: advanceDetruct1
                }
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-selectbox-child",
              child: [{
                tag: "span",
                props: {
                  innerHTML: "Sân thượng"
                }
              }, {
                tag: "checkbox",
                "class": "pizo-new-realty-dectruct-content-area-selectbox-child-2",
                props: {
                  checked: advanceDetruct2
                }
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size-zone",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-selectbox-child",
              child: [{
                tag: "span",
                props: {
                  innerHTML: "Ban công"
                }
              }, {
                tag: "checkbox",
                "class": "pizo-new-realty-dectruct-content-area-selectbox-child-3",
                props: {
                  checked: advanceDetruct3
                }
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-selectbox-child",
              child: [{
                tag: "span",
                props: {
                  innerHTML: "Thang máy"
                }
              }, {
                tag: "checkbox",
                "class": "pizo-new-realty-dectruct-content-area-selectbox-child-4",
                props: {
                  checked: advanceDetruct4
                }
              }]
            }]
          }]
        }]
      }]
    });

    var simpleDetruct = MergeRealty_({
      tag: "div",
      "class": ["pizo-new-realty-dectruct-content-area", "pizo-new-realty-dectruct-content-area-simple"],
      child: [{
        tag: "span",
        "class": "pizo-new-realty-detruct-content-area-label",
        style: {
          marginBottom: "0.7143rem"
        },
        props: {
          innerHTML: "Quy mô kết cấu"
        }
      }, advanceDetruct, {
        tag: "div",
        "class": "pizo-new-realty-dectruct-content-area-size",
        child: [{
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size-zone",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-dectruct-content-area-bedroom-label",
              props: {
                innerHTML: "Phòng ngủ"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-realty-dectruct-content-area-bedroom", "pizo-new-realty-dectruct-input"],
              attr: {
                type: "number",
                min: 0,
                step: 1
              },
              props: {
                value: itemData.bedroom
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size-zone",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-dectruct-content-area-living-label",
              props: {
                innerHTML: "Phòng khách"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-realty-dectruct-content-area-living", "pizo-new-realty-dectruct-input"],
              attr: {
                type: "number",
                min: 0,
                step: 1
              },
              props: {
                value: itemData.living
              }
            }]
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-new-realty-dectruct-content-area-size",
        child: [{
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size-zone",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-dectruct-content-area-kitchen-label",
              props: {
                innerHTML: "Bếp"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-realty-dectruct-content-area-kitchen", "pizo-new-realty-dectruct-input"],
              attr: {
                type: "number",
                min: 0,
                step: 1
              },
              props: {
                value: itemData.kitchen
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size-zone",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-dectruct-content-area-toilet-label",
              props: {
                innerHTML: "Toilet"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-realty-dectruct-content-area-toilet", "pizo-new-realty-dectruct-input"],
              attr: {
                type: "number",
                min: 0,
                step: 1
              },
              props: {
                value: itemData.toilet
              }
            }]
          }]
        }]
      }]
    });

    simpleDetruct.advanceDetruct1 = advanceDetruct1;
    simpleDetruct.advanceDetruct2 = advanceDetruct2;
    simpleDetruct.advanceDetruct3 = advanceDetruct3;
    simpleDetruct.advanceDetruct4 = advanceDetruct4;
    simpleDetruct.inputFloor = MergeRealty_$("input.pizo-new-realty-dectruct-content-area-floor", simpleDetruct);
    simpleDetruct.inputBasement = MergeRealty_$("input.pizo-new-realty-dectruct-content-area-basement", simpleDetruct);
    simpleDetruct.inputBedroom = MergeRealty_$("input.pizo-new-realty-dectruct-content-area-bedroom", simpleDetruct);
    simpleDetruct.inputLiving = MergeRealty_$("input.pizo-new-realty-dectruct-content-area-living", simpleDetruct);
    simpleDetruct.inputToilet = MergeRealty_$("input.pizo-new-realty-dectruct-content-area-toilet", simpleDetruct);
    simpleDetruct.inputKitchen = MergeRealty_$("input.pizo-new-realty-dectruct-content-area-kitchen", simpleDetruct);

    var tempSelectbox = MergeRealty_({
      tag: "selectmenu",
      "class": "pizo-new-realty-detruct-content-structure",
      on: {
        change: function change(event) {
          if (this.value == 3) advanceDetruct.style.display = "";else advanceDetruct.style.display = "none";
          if (this.value >= 2) simpleDetruct.style.display = "";else simpleDetruct.style.display = "none";
        }
      },
      props: {
        items: [{
          text: "Chưa xác định",
          value: 0
        }, {
          text: "Đất trống",
          value: 1
        }, {
          text: "Cấp 4",
          value: 2
        }, {
          text: "Sẳn *",
          value: 3
        }],
        value: itemData.structure
      }
    });

    var elementTemp = MergeRealty_({
      tag: "div",
      "class": "pizo-new-realty-dectruct-content-area-size-zone",
      style: {
        pointerEvents: "none"
      },
      child: [{
        tag: "div",
        "class": "pizo-new-realty-desc-detail-row",
        child: [tempSelectbox]
      }, simpleDetruct]
    });

    tempSelectbox.emit("change");
    itemStructure.push({
      value: i + 1,
      element: elementTemp.cloneNode(true),
      simpleDetruct: simpleDetruct
    });

    if (valueSimpleStructure === undefined) {
      valueSimpleStructure = simpleDetruct;
    }

    itemDirection.push(checkDirection[itemData.direction]);

    if (checkType[itemData.type]) {
      itemType.push(checkType[itemData.type].name);
    }

    sumRoadWidth += parseFloat(itemData.roadwidth);
    itemRoadWidth.push(itemData.roadwidth);
    if (valueRoadWidth === undefined) valueRoadWidth = itemData.roadwidth;

    if (itemData.contact.length > 0) {
      var tempElement = this.contactItem(itemData.contact[i]);
      var dataChild = {
        value: false,
        element: tempElement,
        promiseComplete: tempElement.promiseComplete
      };
      MergeRealty_$(".pizo-new-realty-contact-item-close", tempElement).addEventListener("click", function (dataChild) {
        dataChild.value = false;
      }.bind(null, dataChild));
      itemContact.push(dataChild);
    }

    if (itemData.equipment.length > 0) {
      itemEquipments.push({
        value: false,
        element: this.convenientView(itemData),
        itemData: itemData.equipment
      });
    }

    var tempInputFit = MergeRealty_({
      tag: "selectbox",
      "class": ["pizo-new-realty-dectruct-content-area-fit", "pizo-new-realty-dectruct-input"],
      props: {
        items: [{
          text: "Để ở",
          value: 1
        }, {
          text: "Cho thuê",
          value: 10
        }, {
          text: "Kinh doanh",
          value: 100
        }, {
          text: "Làm văn phòng",
          value: 1000
        }],
        values: formatFit(parseInt(itemData.fit))
      }
    });

    itemInputFit.push({
      value: i + 1,
      element: tempInputFit
    });

    var tempInputValue = MergeRealty_({
      tag: "div",
      "class": "pizo-new-realty-desc-detail-row",
      child: [{
        tag: "input",
        "class": ["pizo-new-realty-detruct-content-price", "pizo-new-realty-dectruct-input"],
        props: {
          value: itemData.price
        },
        on: {// change: function(event) {
          //     var inputValue = $("input.pizo-new-realty-detruct-content-price-per", temp);
          //     var price = $('input.pizo-new-realty-detruct-content-price', temp);
          //     var priceUnit = $('div.pizo-new-realty-detruct-content-price-unit', temp)
          //     var areaValue = $('input.pizo-new-realty-dectruct-content-area-all', temp);
          //     var areaValueUnit = unit_Zone_all;
          //     inputValue.value = price.value * priceUnit.value / (areaValue.value * areaValueUnit.value) * 1000;
          // }
        }
      }, {
        tag: "selectmenu",
        "class": "pizo-new-realty-detruct-content-price-unit",
        on: {
          change: function (tempInputValue) {
            return function (event) {
              var price = MergeRealty_$('input.pizo-new-realty-detruct-content-price', tempInputValue);
              price.value = price.value * event.lastValue / event.value;
            };
          }(tempInputValue)
        },
        props: {
          items: [{
            text: "tỉ",
            value: 1
          }, {
            text: "triệu",
            value: 1 / 1000
          }]
        }
      }]
    });

    itemInputPrice.push({
      value: i + 1,
      element: tempInputValue
    });

    var tempInputValue = MergeRealty_({
      tag: "div",
      "class": "pizo-new-realty-dectruct-content-area-right",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-desc-detail-row",
        child: [{
          tag: "input",
          "class": ["pizo-new-realty-detruct-content-price-rent", "pizo-new-realty-dectruct-input"],
          props: {
            value: itemData.pricerent
          },
          on: {
            input: function input(event) {
              this.value = formatNumber(this.value);
            },
            blur: function blur(event) {
              this.value = reFormatNumber(this.value);
            }
          }
        }, {
          tag: "selectmenu",
          "class": "pizo-new-realty-detruct-content-price-rent-unit",
          on: {
            change: function (tempInputValue) {
              return function (event) {
                var price = MergeRealty_$('input.pizo-new-realty-detruct-content-price-rent', tempInputValue);
                price.value = price.value * event.lastValue / event.value;
              };
            }(tempInputValue)
          },
          props: {
            items: [{
              text: "VND",
              value: 1
            }, {
              text: "USD",
              value: 23180
            }]
          }
        }]
      }]
    });

    itemInputPriceRent.push({
      value: i + 1,
      element: tempInputValue
    });

    var tempInputValue = MergeRealty_({
      tag: "div",
      "class": "pizo-new-realty-juridical-content",
      child: [{
        tag: "selectmenu",
        style: {
          textAlign: "left"
        },
        "class": ["pizo-new-realty-dectruct-content-area-fit", "pizo-new-realty-dectruct-input"],
        props: {
          items: arr
        }
      }]
    });

    itemInputJuridical.push({
      value: i + 1,
      element: tempInputValue
    });
  }

  itemWidth.push(sumWidth);
  itemHeight.push(sumHeight);
  itemAcreage.push(sumAcreage);
  itemLandarea.push(sumLandarea);
  itemFloorarea.push(sumFloorarea);
  itemRoadWidth.push(sumRoadWidth);
  var dataName = {
    type: 'text',
    name: 'Tên',
    id: 'name',
    enableEdit: true,
    action: "single-choice",
    items: itemName
  };
  var dataStatus = {
    type: 'element',
    name: 'Hiện trạng',
    id: 'status-active',
    action: "single-choice",
    items: itemCheckStatus
  };
  var dataAddress = {
    type: 'text',
    name: 'Địa chỉ',
    id: 'address',
    action: "single-choice",
    items: itemsAddress
  };
  var dataAddressOld = {
    type: 'text',
    name: 'Địa chỉ cũ',
    id: 'address-old',
    action: "single-choice",
    items: itemsAddressOld
  };
  var dataContent = {
    type: 'text',
    name: 'Mô tả',
    id: 'description',
    enableEdit: true,
    action: "single-choice",
    items: itemContent
  };
  var dataWidth = {
    type: 'number',
    name: 'Dài (m)',
    id: 'width',
    enableEdit: true,
    action: "single-choice",
    items: itemWidth
  };
  var dataHeight = {
    type: 'number',
    name: 'Ngang (m)',
    id: 'height',
    enableEdit: true,
    action: "single-choice",
    items: itemHeight
  };
  var dataAcreage = {
    type: 'number',
    name: 'Diện tích (m²)',
    id: 'acreage',
    enableEdit: true,
    action: "single-choice",
    items: itemAcreage
  };
  var dataLandarea = {
    type: 'number',
    name: 'Đất xây dựng (m²)',
    id: 'landarea',
    enableEdit: true,
    action: "single-choice",
    items: itemLandarea
  };
  var dataFloorarea = {
    type: 'number',
    name: 'Sàn xây dựng (m²)',
    id: 'floorarea',
    enableEdit: true,
    action: "single-choice",
    items: itemFloorarea
  };
  var dataStructure = {
    type: 'element',
    name: 'Kết cấu',
    id: 'structure',
    action: "single-choice",
    items: itemStructure
  };
  var dataDirection = {
    type: 'text',
    name: 'Hướng',
    id: 'direction',
    action: "single-choice",
    items: itemDirection
  };
  var dataType = {
    type: 'text',
    name: 'Loại nhà',
    id: 'type-house',
    action: "single-choice",
    items: itemType
  };
  var dataRoadWidth = {
    type: 'text',
    name: 'Chiều rộng đường vào (m)',
    id: 'roadwidth',
    enableEdit: true,
    action: "single-choice",
    items: itemRoadWidth
  };
  var dataEquipments = {
    type: 'element',
    name: 'Tiện ích trong nhà',
    id: 'equipments',
    action: "multi-choice",
    items: itemEquipments
  };
  var dataContact = {
    type: 'element',
    name: 'Liên hệ',
    id: 'contact',
    action: "multi-choice",
    items: itemContact
  };
  var dataImage = {
    type: 'element',
    name: 'Ảnh hiện trạng',
    id: 'image-status',
    action: "multi-choice",
    items: itemImageStaus,
    style: {
      maxWidth: '200px',
      maxHeight: '200px'
    }
  };
  var dataImageJuridical = {
    type: 'element',
    name: 'Ảnh pháp lý',
    id: 'image-juridical',
    action: "multi-choice",
    items: itemImageJuridical,
    style: {
      maxWidth: '200px',
      maxHeight: '200px'
    }
  };
  var dataFit = {
    type: 'element',
    name: 'Phù hợp khai thác',
    id: 'fit',
    enableEdit: true,
    action: "single-choice",
    items: itemInputFit
  };
  var dataPrice = {
    type: 'element',
    name: 'Giá',
    id: 'price-child',
    enableEdit: true,
    action: "single-choice",
    items: itemInputPrice
  };
  var dataPriceRent = {
    type: 'element',
    name: 'Giá thuê tháng',
    id: 'price-rent',
    enableEdit: true,
    action: "single-choice",
    items: itemInputPriceRent
  };
  var dataJuridical = {
    type: 'element',
    name: 'Tình trạng pháp lý',
    id: 'juridical',
    enableEdit: true,
    action: "single-choice",
    items: itemInputJuridical
  };

  var elementStructure = MergeRealty_({
    tag: "div",
    "class": "container-structure"
  });

  var elementEquipments = MergeRealty_({
    tag: "div",
    "class": "container-equipments",
    child: [self.convenientView({
      equipment: []
    })]
  });

  elementStructure.appendChild(valueSimpleStructure);
  myTool.editor.on("nodechange", function (event) {
    switch (event.nodePreviewData.id) {
      case "address":
        if (checkAddress[event.nodePreviewData.value]) element.addMoveMarker(checkAddress[event.nodePreviewData.value]);
        break;

      case "structure":
        elementStructure.clearChild();
        elementStructure.appendChild(event.nodePreviewData.item.simpleDetruct);
        break;

      case "equipments":
        elementEquipments.clearChild();
        var result = [];
        var checkEquipment = [],
            valueTemp;

        for (var i = 0; i < event.nodePreviewData.values.length; i++) {
          for (var j = 0; j < event.nodePreviewData.values[i].itemData.length; j++) {
            valueTemp = event.nodePreviewData.values[i].itemData[j];
            if (checkEquipment[valueTemp.equipmentid] === undefined) checkEquipment[valueTemp.equipmentid] = {
              equipmentid: valueTemp.equipmentid,
              content: parseInt(valueTemp.content)
            };else checkEquipment[valueTemp.equipmentid].content += parseInt(valueTemp.content);
          }
        }

        for (var param in checkEquipment) {
          result.push(checkEquipment[param]);
        }

        elementEquipments.appendChild(self.convenientView({
          equipment: result
        }));
        break;

      case "status-active":
        var elementParent = event.nodePreviewData.item.element;

        while (elementParent && !elementParent.classList.contains("mpot-preview-body")) {
          elementParent = elementParent.parentNode;
        }

        if (event.nodePreviewData.item.element.inputLease.checked === false) {
          if (elementParent) {
            elementParent.classList.add("displayNonePriceRent");
          }
        } else if (event.nodePreviewData.item.element.inputLease.checked === true) {
          if (elementParent) {
            elementParent.classList.remove("displayNonePriceRent");
          }
        }

        break;

      default:
    }
  });
  myTool.setData({
    editor: {
      title: 'Thông tin bất động sản sau gộp',
      properties: [{
        type: "container",
        id: "container-general",
        properties: [{
          type: "group",
          name: 'Thông tin chung',
          id: "general",
          properties: [dataName, dataStatus, dataAddress, dataAddressOld, dataContent]
        }, {
          type: 'constant',
          id: 'GPS',
          action: 'const',
          element: element
        }]
      }, {
        type: "container",
        id: "container-price-construct",
        properties: [{
          type: "group",
          name: 'Thông tin xây dựng',
          id: "construction",
          properties: [dataWidth, dataHeight, dataAcreage, dataLandarea, dataFloorarea, dataStructure, {
            type: 'constant',
            id: 'structure-detail',
            changeid: 'structure',
            action: 'const',
            element: elementStructure
          }, dataDirection, dataType, dataRoadWidth]
        }, {
          type: "container",
          id: "container-price-juridical",
          properties: [{
            type: "group",
            name: 'Giá',
            id: "price",
            properties: [dataPrice, dataPriceRent, dataFit]
          }, dataJuridical]
        }]
      }, {
        type: "container",
        id: "container-orther",
        properties: [dataEquipments, {
          type: 'constant',
          id: 'equipments-detail',
          changeid: 'equipments',
          action: 'const',
          element: elementEquipments
        }]
      }, {
        type: "container",
        id: "container-contact",
        properties: [dataContact, dataImage, dataImageJuridical]
      } // {
      //     type:"container",
      //     id:"container-general",
      // }
      ]
    }
  });
  toolView.addStyle({
    width: '100%',
    height: '100%'
  });
  this.$view.addChild(MergeRealty_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [{
      tag: "div",
      "class": ["pizo-list-realty-main-result-control"],
      child: [toolView]
    }]
  }));
  this.createPromise();
  return this.$view;
};

MergeRealty_MergeRealty.prototype.contactItem = function (data) {
  var name, typecontact, phone, statusphone, note;
  var resolveComplete;
  var promiseComplete = new Promise(function (resolve, reject) {
    resolveComplete = resolve;
  });
  var self = this;

  var temp = MergeRealty_({
    tag: "div",
    "class": "pizo-new-realty-contact-item",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-contact-item-name",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-contact-item-name-label",
        props: {
          innerHTML: "Tên"
        }
      }, {
        tag: "input",
        "class": "pizo-new-realty-contact-item-name-input",
        props: {}
      }, {
        tag: "selectmenu",
        "class": "pizo-new-realty-contact-item-name-selectbox",
        props: {
          items: [{
            text: "Chưa xác định",
            value: 0
          }, {
            text: "Môi giới",
            value: 1
          }, {
            text: "Chủ nhà",
            value: 2
          }, {
            text: "Họ hàng",
            value: 3
          }]
        }
      }, {
        tag: "button",
        "class": "pizo-new-realty-contact-item-setting",
        on: {
          click: function click(event) {
            var tempData = temp.getData();
            if (tempData.password !== undefined) self.editAccount(temp, tempData);else self.editContact(temp, tempData);
          }
        },
        child: [{
          tag: "i",
          "class": "material-icons",
          style: {
            fontSize: "1rem",
            verticalAlign: "middle"
          },
          props: {
            innerHTML: "settings"
          }
        }]
      }, {
        tag: "button",
        "class": "pizo-new-realty-contact-item-close",
        child: [{
          tag: "i",
          "class": "material-icons",
          style: {
            fontSize: "1rem",
            verticalAlign: "middle"
          },
          props: {
            innerHTML: "close"
          }
        }]
      }]
    }, {
      tag: "div",
      "class": "pizo-new-realty-contact-item-phone",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-contact-item-phone-label",
        props: {
          innerHTML: "Số điện thoại"
        }
      }, {
        tag: "input",
        "class": "pizo-new-realty-contact-item-phone-input",
        props: {
          type: "number"
        },
        on: {
          change: function change(event) {
            if (self.checkUser === undefined) {
              var element = this;
              ModuleDatabase["a" /* default */].getModule("users").load().then(function () {
                setTimeout(function () {
                  element.emit("change");
                }, 10);
              });
              return;
            }

            if (self.checkContact === undefined) {
              var element = this;
              ModuleDatabase["a" /* default */].getModule("contacts").load().then(function () {
                setTimeout(function () {
                  element.emit("change");
                }, 10);
              });
              return;
            }

            if (self.checkUser[this.value] !== undefined || self.checkContact[this.value] !== undefined) {
              if (self.checkUser[this.value] !== undefined) {
                var tempValue = self.checkUser[this.value];
                temp.setInformation(tempValue);
              } else {
                var tempValue = self.checkContact[this.value];
                temp.setInformation(tempValue);
              }
            } else {
              temp.setOpenForm();
            }
          }
        }
      }, {
        tag: "selectmenu",
        "class": "pizo-new-realty-contact-item-phone-selectbox",
        style: {
          width: "190px"
        },
        props: {
          items: [{
            text: "Còn hoạt động",
            value: 1
          }, {
            text: "Sai số",
            value: 0
          }, {
            text: "Gọi lại sau",
            value: 2
          }, {
            text: "Bỏ qua",
            value: 3
          }, {
            text: "Khóa máy",
            value: 4
          }]
        }
      }]
    }, {
      tag: "div",
      "class": "pizo-new-realty-contact-item-note",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-contact-item-note-label",
        props: {
          innerHTML: "Ghi chú"
        }
      }, {
        tag: "textarea",
        "class": "pizo-new-realty-contact-item-note-input"
      }]
    }]
  });

  var name = MergeRealty_$('input.pizo-new-realty-contact-item-name-input', temp);
  var typecontact = MergeRealty_$('div.pizo-new-realty-contact-item-name-selectbox', temp);
  var phone = MergeRealty_$('input.pizo-new-realty-contact-item-phone-input', temp);
  var statusphone = MergeRealty_$('div.pizo-new-realty-contact-item-phone-selectbox', temp);
  var note = MergeRealty_$('textarea.pizo-new-realty-contact-item-note-input', temp);

  phone.checkContact = function (data) {
    if (self.checkUserID === undefined) {
      var element = this;
      ModuleDatabase["a" /* default */].getModule("users").load().then(function () {
        setTimeout(function () {
          element.checkContact(data);
        }, 10);
      });
      return;
    }

    if (self.checkContactID === undefined) {
      var element = this;
      ModuleDatabase["a" /* default */].getModule("contacts").load().then(function () {
        setTimeout(function () {
          element.checkContact(data);
        }, 10);
      });
      return;
    }

    if (data.contactid !== undefined && data.contactid !== 0) {
      temp.setInformation(self.checkContactID[data.contactid]);
    } else if (data.userid !== undefined && data.userid !== 0) {
      temp.setInformation(self.checkUserID[data.userid]);
    } else {
      temp.setInformation(data);
    }
  };

  temp.setInformation = function (data) {
    if (data === undefined) {
      temp.selfRemove();
      return;
    }

    temp.data = data;
    if (data.statusphone === undefined) statusphone.value = 1;else statusphone.value = data.statusphone;
    phone.value = data.phone;
    name.value = data.name;
    name.setAttribute("disabled", "");
    statusphone.style.pointerEvents = "none";
    statusphone.style.backgroundColor = "#f3f3f3";
    resolveComplete();
  };

  temp.setOpenForm = function (data) {
    temp.data = data;
    statusphone.value = 1;
    name.removeAttribute("disabled");
    statusphone.style.pointerEvents = "unset";
    statusphone.style.backgroundColor = "unset";
    resolveComplete();
  };

  temp.getData = function () {
    if (temp.data !== undefined) {
      temp.data.typecontact = typecontact.value;
      temp.data.note = note.value;
      return temp.data;
    } else {
      return {
        name: name.value,
        statusphone: statusphone.value,
        phone: phone.value,
        typecontact: typecontact.value,
        note: note.value
      };
    }
  };

  if (data !== undefined) {
    phone.checkContact(data);
    typecontact.value = data.typecontact;
    note.value = data.note;
  }

  temp.promiseComplete = promiseComplete;
  return temp;
};

MergeRealty_MergeRealty.prototype.editAccount = function (node, data) {
  var self = this;
  ModuleDatabase["a" /* default */].getModule("positions").load().then(function (value) {
    var mNewAccount = new component_NewAccount({
      original: data
    });
    mNewAccount.attach(self.parent);
    var frameview = mNewAccount.getView(ModuleDatabase["a" /* default */].getModule("positions").getList("name", "id"));
    self.parent.body.addChild(frameview);
    self.parent.body.activeFrame(frameview);
    self.editDBAccount(mNewAccount, data, node);
  });
};

MergeRealty_MergeRealty.prototype.editDBAccount = function (mNewAccount, data, node) {
  var self = this;
  mNewAccount.promiseEditDB.then(function (value) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("users").update(value).then(function (result) {
      self.editViewAccount(result, node);
      loading.disable();
    });
    mNewAccount.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewAccount.promiseEditDB !== undefined) self.editDBAccount(mNewAccount, data, parent, index);
    }, 10);
  });
};

MergeRealty_MergeRealty.prototype.editViewAccount = function (value, node) {
  node.setInformation(value);
};

MergeRealty_MergeRealty.prototype.editDBContact = function (mNewContact, data, node) {
  var self = this;
  var loading = new loadingWheel();
  mNewContact.promiseEditDB.then(function (value) {
    if (value.id === undefined) ModuleDatabase["a" /* default */].getModule("users").add(value).then(function (result) {
      self.editViewAccount(result, node);
      loading.disable();
    });else ModuleDatabase["a" /* default */].getModule("contacts").update(value).then(function (result) {
      self.editViewContact(result, node);
      loading.disable();
    });
    mNewContact.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewContact.promiseEditDB !== undefined) self.editDBContact(mNewContact, data);
    }, 10);
  });
};

MergeRealty_MergeRealty.prototype.editViewContact = function (value, node) {
  node.setInformation(value);
};

MergeRealty_MergeRealty.prototype.editContact = function (node, data) {
  var self = this;
  var mNewContact = new NewContact({
    original: data
  });
  mNewContact.attach(self.parent);
  var frameview = mNewContact.getView();
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDBContact(mNewContact, data, node);
};

MergeRealty_MergeRealty.prototype.convenientView = function (dataHouse) {
  var self = this;
  var data = ModuleDatabase["a" /* default */].getModule("equipments").data;
  var arr = [];

  for (var i = 0; i < data.length; i++) {
    if (data[i].available === 0) continue;
    arr.push({
      text: data[i].name,
      value: data[i].id,
      data: data[i]
    });
  }

  var container = MergeRealty_({
    tag: "div",
    "class": "pizo-new-realty-dectruct-content-area-size"
  });

  var equipment = MergeRealty_({
    tag: "selectbox",
    style: {
      width: "100%"
    },
    props: {
      items: arr,
      enableSearch: true
    },
    on: {
      add: function add(event) {
        switch (parseInt(event.itemData.data.type)) {
          case 0:
            container.appendChild(self.itemCount(event.itemData.data));
            break;

          case 1:
            container.appendChild(self.itemDisplayNone(event.itemData.data));
            break;
        }
      },
      remove: function remove(event) {
        for (var i = 0; i < container.childNodes.length; i++) {
          if (container.childNodes[i].equipmentid == event.itemData.data.id) {
            container.childNodes[i].selfRemove();
            break;
          }
        }
      }
    }
  });

  if (this.data !== undefined) {
    var value = [];
    var temp;
    var libary = ModuleDatabase["a" /* default */].getModule("equipments").getLibary("id");

    for (var i = 0; i < dataHouse.equipment.length; i++) {
      temp = libary[dataHouse.equipment[i].equipmentid];
      temp.content = dataHouse.equipment[i].content;
      value.push(dataHouse.equipment[i].equipmentid);

      switch (parseInt(temp.type)) {
        case 0:
          if (temp.available == 1) container.appendChild(self.itemCount(temp));else container.appendChild(self.itemDisplayNone(temp));
          break;

        case 1:
          container.appendChild(self.itemDisplayNone(temp));
          break;
      }
    }

    equipment.values = value;
  }

  var temp = MergeRealty_({
    tag: "div",
    "class": "pizo-new-realty-convenient",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-convenient-content",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-convenient-content-size",
        child: [equipment]
      }, container]
    }]
  });

  return temp;
};

MergeRealty_MergeRealty.prototype.itemCount = function (data) {
  var input = MergeRealty_({
    tag: "input",
    "class": ["pizo-new-realty-dectruct-content-area-floor", "pizo-new-realty-dectruct-input"],
    attr: {
      type: "number",
      min: 0,
      step: 1
    },
    props: {
      value: 1
    }
  });

  if (data.content !== undefined) {
    input.value = data.content;
  }

  var temp = MergeRealty_({
    tag: "div",
    "class": ["pizo-new-realty-dectruct-content-area-size-zone-all"],
    child: [{
      tag: "div",
      "class": "pizo-new-realty-desc-detail-row",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-dectruct-content-area-floor-label",
        props: {
          innerHTML: data.name
        }
      }, input]
    }]
  });

  temp.equipmentid = data.id;

  temp.getData = function () {
    var result = {
      equipmentid: data.id,
      content: input.value
    };
    return result;
  };

  return temp;
};

MergeRealty_MergeRealty.prototype.itemDisplayNone = function (data) {
  var temp = MergeRealty_({
    tag: "div",
    style: {
      display: "none"
    }
  });

  temp.equipmentid = data.id;

  temp.getData = function () {
    var result = {
      equipmentid: data.id,
      content: data.content
    };
    return result;
  };

  return temp;
};

MergeRealty_MergeRealty.prototype.getDataSave = function () {
  var temp = {};
  var data = this.myTool.getData().previewData.properties;
  var advanceDetructElement = data[1].properties[0].properties[6].element.childNodes[0];
  var fitUpdate = 0;
  var inputFit = data[1].properties[1].properties[0].properties[2].item.element;
  if (inputFit.values.length !== 0) fitUpdate = inputFit.values.reduce(function (a, b) {
    return a + b;
  });
  var advanceDetruct = 0;
  advanceDetruct += advanceDetructElement.advanceDetruct1.checked ? 1 : 0;
  advanceDetruct += advanceDetructElement.advanceDetruct2.checked ? 10 : 0;
  advanceDetruct += advanceDetructElement.advanceDetruct3.checked ? 100 : 0;
  advanceDetruct += advanceDetructElement.advanceDetruct4.checked ? 1000 : 0;
  var image = [];
  var arrJuridical = data[3].properties[2].values;

  for (var i = 0; i < arrJuridical.length; i++) {
    image.push({
      src: arrJuridical[i].id,
      copy: arrJuridical[i].copy,
      type: 0,
      userid: window.userid
    });
  }

  var arrStatus = data[3].properties[1].values;
  console.log(arrStatus);

  for (var i = 0; i < arrStatus.length; i++) {
    var thumnail = 0;
    if (arrStatus[i].element.classList.contains("checked-pizo")) thumnail = 1;
    image.push({
      src: arrStatus[i].id,
      copy: arrStatus[i].copy,
      type: 1,
      thumnail: thumnail,
      userid: window.userid
    });
  }

  var address, addressOld;
  var height, width, landarea, floorarea, acreage, direction, type, roadwidth, floor, basement, bedroom, living, toilet, kitchen, price, name, content, salestatus, structure, pricerent, juridical, lat, lng;
  width = data[1].properties[0].properties[0].element.wholeText;
  height = data[1].properties[0].properties[1].element.wholeText;
  acreage = data[1].properties[0].properties[2].element.wholeText;
  landarea = data[1].properties[0].properties[3].element.wholeText;
  floorarea = data[1].properties[0].properties[4].element.wholeText;
  var checkDetruct = {
    "Chưa xác định": 0,
    "Đông": 6,
    "Tây": 4,
    "Nam": 2,
    "Bắc": 8,
    "Đông Bắc": 9,
    "Đông Nam": 3,
    "Tây Bắc": 7,
    "Tây Nam": 1
  };
  structure = data[1].properties[0].properties[5].value;
  direction = checkDetruct[data[1].properties[0].properties[7].value];
  var checkType = ModuleDatabase["a" /* default */].getModule("type_activehouses").getLibary("name");
  type = checkType[data[1].properties[0].properties[8].value].id;
  roadwidth = data[1].properties[0].properties[9].value;
  floor = advanceDetructElement.inputFloor.value;
  basement = advanceDetructElement.inputBasement.value;
  bedroom = advanceDetructElement.inputBedroom.value;
  living = advanceDetructElement.inputLiving.value;
  toilet = advanceDetructElement.inputToilet.value;
  kitchen = advanceDetructElement.inputKitchen.value;
  price = data[1].properties[1].properties[0].properties[0].item.element.childNodes[0].value;
  pricerent = data[1].properties[1].properties[0].properties[1].item.element.childNodes[0].childNodes[0].value;
  name = data[0].properties[0].properties[0].value;
  var addressData = this.checkAddressName[data[0].properties[0].properties[2].value];
  var addressDataOld = this.checkAddressName[data[0].properties[0].properties[3].value];
  var addressReal;
  var addressRealOld;

  if (addressData) {
    lat = addressData[0];
    lng = addressData[1];
    addressReal = {
      id: addressData.data.addressid
    };
  }

  if (addressDataOld) addressRealOld = {
    id: addressDataOld.data.addressid_old
  };
  address = addressData;
  addressOld = addressDataOld;
  content = data[0].properties[0].properties[4].value;
  salestatus = data[0].properties[0].properties[1].item.element;
  salestatus = (salestatus.inputLease.checked == true ? 1 : 0) * 10 + (salestatus.inputSell.checked == true ? 1 : 0);
  juridical = data[1].properties[1].properties[1].item.element.childNodes[0].value;
  var temp = {
    height: height,
    width: width,
    landarea: landarea,
    floorarea: floorarea,
    acreage: acreage,
    direction: direction,
    type: type,
    fit: fitUpdate,
    roadwidth: roadwidth,
    floor: floor,
    basement: basement,
    bedroom: bedroom,
    living: living,
    toilet: toilet,
    kitchen: kitchen,
    price: price,
    name: name,
    content: content,
    salestatus: salestatus,
    structure: structure,
    pricerent: pricerent,
    advancedetruct: advanceDetruct,
    juridical: juridical,
    image: image,
    censorship: 1,
    addressid: addressReal,
    addressid_old: addressRealOld
  };
  if (lat) temp.lat = lat;
  if (lng) temp.lng = lng;
  var arr = [];
  var containerEquipment = data[2].properties[1].element.childNodes[0].childNodes[0].childNodes[1];

  for (var i = 0; i < containerEquipment.childNodes.length; i++) {
    arr.push(containerEquipment.childNodes[i].getData());
  }

  temp.equipment = arr;
  var contact = [];
  var containerContact = data[3].properties[0].values;

  for (var i = 0; i < containerContact.length; i++) {
    contact.push(containerContact[i].element.getData());
  }

  temp.contact = contact;
  var arrID = [];

  for (var i = 0; i < this.data.length; i++) {
    arrID.push(this.data[i].original.id);
  }

  temp.oldId = arrID;
  console.log(temp);
  return temp;
};

MergeRealty_MergeRealty.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

MergeRealty_MergeRealty.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

MergeRealty_MergeRealty.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

MergeRealty_MergeRealty.prototype.start = function () {};

/* harmony default export */ var component_MergeRealty = (MergeRealty_MergeRealty);
// EXTERNAL MODULE: ./css/MapRealty.css
var MapRealty = __webpack_require__(232);

// EXTERNAL MODULE: ./css/ModuleImage.css
var ModuleImage = __webpack_require__(234);

// CONCATENATED MODULE: ./js/component/ModuleImage.js




var ModuleImage_ = dom_Fcore._;
var ModuleImage_$ = dom_Fcore.$;
var img_ele = null,
    x_cursor = 0,
    y_cursor = 0,
    x_img_ele = 0,
    y_img_ele = 0;
function descViewImagePreview() {
  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var promiseLazyLoad = arguments.length > 2 ? arguments[2] : undefined;

  var temp = ModuleImage_({
    tag: "div",
    "class": "image-show",
    child: [{
      tag: "div",
      "class": "image-show__title",
      child: [{
        tag: "div",
        "class": "fl-l",
        style: {
          margin: "0.2143rem 0.7143rem 0.2143rem 1rem"
        }
      }, {
        tag: "div",
        "class": ["fl-r", "image-show__close"],
        props: {
          id: "image-show__close",
          title: "Đóng"
        },
        child: [{
          tag: "i",
          "class": ["btn", "dark", "btn--m", "material-icons", "fa-close"],
          style: {
            margin: "0.4286rem 0.7143rem"
          }
        }]
      }]
    }, {
      tag: "div",
      style: {
        display: "flex",
        height: "calc(100vh - 95px)",
        padding: "5px"
      },
      child: [{
        tag: "div",
        "class": "timeLineContainerCheck",
        child: [{
          tag: "div",
          "class": "image-show__thumb__legend",
          style: {
            height: "2.2857rem",
            width: "8.5714rem",
            position: "absolute",
            zIndex: 10,
            top: "2.8571rem",
            left: "0.3571rem"
          },
          child: [{
            tag: "span",
            props: {
              id: "image-show__thumb__legend_title_content"
            },
            attr: {
              dataTranslateInner: "STR_DATE_TIME"
            }
          }]
        }, {
          tag: "div",
          "class": "flx",
          style: {
            height: "100%",
            overflowX: "hidden"
          },
          child: [{
            tag: "div",
            "class": ["flx", "flx-al-e", "image-show__list"],
            child: []
          }]
        }, {
          tag: "div",
          "class": "timeline-slider",
          style: {
            margin: "0rem 0.8571rem 1.0714rem"
          },
          child: [{
            tag: "div",
            "class": "timeline-slider__track",
            child: [{
              tag: "div",
              "class": ["timeline-slider__track__progress", "hover-track"]
            }]
          }, {
            tag: "div",
            "class": ["timeline-slider__pivot", "timeline-slider__pivot--left"]
          }, {
            tag: "div",
            "class": ["timeline-slider__pivot", "timeline-slider__pivot--right"]
          }, {
            tag: "div",
            "class": ["timeline-slider__handle"],
            style: {
              width: "12px",
              height: "12px",
              left: "6px"
            },
            child: [{
              tag: "div",
              "class": "timeline-slider__tooltip",
              style: {
                top: "-0.2143rem"
              }
            }]
          }]
        }]
      }, {
        tag: "div",
        "class": ["image-show__body", "content"],
        props: {
          id: "image-show"
        },
        child: [{
          tag: "div",
          "class": ["image-show__btnc", "image-show__btnc__left"],
          child: [{
            tag: "div",
            "class": ["flx-fix", "image-show__btn", "clickable"],
            child: [{
              tag: "div",
              "class": "image-show__btn__inside",
              child: [{
                tag: "i",
                "class": ["material-icons", "fa-chevron-left"],
                attr: {
                  dataTranslateTitle: "STR_NAVIGATE_PHOTO_PREV",
                  title: "Ảnh cũ hơn"
                }
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": "image-show__wrapper__img",
          props: {
            id: "mainImage"
          },
          child: [{
            tag: "div",
            "class": "image-show__meta-wrapper",
            props: {
              id: "imageTitle"
            },
            child: [{
              tag: "div",
              "class": "image-show__caption"
            }]
          }, {
            tag: "img",
            "class": ["image-show__img", "z-fh", "fadeInImageShow"],
            attr: {
              draggable: "false" // crossorigin:"Anonymous",

            }
          }]
        }, {
          tag: "div",
          "class": ["image-show__btnc", "image-show__btnc__right"],
          child: [{
            tag: "div",
            "class": ["flx-fix", "image-show__btn", "clickable"],
            child: [{
              tag: "div",
              "class": "image-show__btn__inside",
              child: [{
                tag: "i",
                "class": ["material-icons", "fa-chevron-right"],
                attr: {
                  dataTranslateTitle: "STR_NAVIGATE_PHOTO_NEXT",
                  title: "Ảnh mới hơn"
                }
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": "image-show__btnc__fullscreen",
          child: [{
            tag: "i",
            "class": ["image-show__icon-fullscreen", "material-icons", "fa-fullscreen-icon"]
          }]
        }]
      }]
    }, {
      tag: "div",
      "class": "image-show__bottom",
      child: [{
        tag: "div",
        "class": "image-show__bottom__sender",
        child: [{
          tag: "div",
          "class": ["avatar", "avatar--xs"],
          child: [{
            tag: "div",
            "class": "avatar-img",
            style: {}
          }]
        }, {
          tag: "div",
          "class": "image-show__bottom__sender__info",
          child: [{
            tag: "div",
            "class": ["truncate", "user-name"],
            style: {
              fontSize: "1rem",
              fontWeight: 400
            }
          }, {
            tag: "div",
            "class": ["truncate", "date-submit"],
            child: [{
              tag: "span",
              attr: {
                dataTranslateInner: "STR_DATE_TIME"
              },
              props: {
                innerHTML: "10:06  14/02/2020"
              }
            }]
          }]
        }]
      }, {
        tag: "div",
        "class": "image-show__bottom__ctrl",
        child: [{
          tag: "i",
          "class": ["btn", "material-icons", "fa-chevron-left"],
          attr: {
            dataTranslateTitle: "STR_NAVIGATE_PHOTO_PREV",
            title: "Ảnh cũ hơn"
          }
        }, {
          tag: "i",
          "class": ["btn", "material-icons", "fa-chevron-right"],
          attr: {
            dataTranslateTitle: "STR_NAVIGATE_PHOTO_NEXT",
            title: "Ảnh mới hơn"
          }
        }, {
          tag: "a",
          "class": ["btn", "dark"],
          attr: {
            download: "",
            title: "Chia sẻ"
          },
          props: {
            id: "image-show-forward"
          },
          child: [{
            tag: "i",
            "class": ["material-icons", "fa-share-photoview", "btn"],
            attr: {
              dataTranslateTitle: "STR_FORWARD_MSG",
              title: "Chia sẻ"
            }
          }]
        }, {
          tag: "a",
          "class": ["btn", "dark"],
          child: [{
            tag: "i",
            "class": ["material-icons", "fa-download", "btn"],
            attr: {
              dataTranslateTitle: "STR_SAVE_PHOTO_AS",
              title: "Lưu về máy"
            }
          }],
          props: {
            id: "image-show-download"
          },
          attr: {
            href: "#",
            target: "_blank",
            rel: "noopener noreferrer",
            download: "",
            title: "Lưu về máy"
          }
        }, {
          tag: "i",
          "class": ["btn", "material-icons", "fa-rotate-left"],
          props: {
            dataTranslateTitle: "STR_ROTATE_LEFT",
            title: "Xoay trái"
          }
        }, {
          tag: "i",
          "class": ["btn", "material-icons", "fa-rotate-right"],
          props: {
            dataTranslateTitle: "STR_ROTATE_RIGHT",
            title: "Xoay phải"
          }
        } // {
        //     tag:"i",
        //     class:["btn", "material-icons", "fa-more-option"],
        //     props:{
        //         dataTranslateTitle:"STR_MORE_OPTION",
        //     }
        // }
        ]
      }]
    }]
  });

  var container = ModuleImage_({
    tag: "modal",
    attr: {
      tabindex: 1
    },
    child: [temp]
  });

  Object.assign(container, descViewImagePreview.prototype);
  var self = container;
  self.closeButton = ModuleImage_$('div#image-show__close.fl-r.image-show__close', temp);
  self.containImage = ModuleImage_$('div.flx.flx-al-e.image-show__list', temp);
  self.prevButton = ModuleImage_$('i.btn.material-icons.fa-chevron-left', temp);
  self.nextButton = ModuleImage_$('i.btn.material-icons.fa-chevron-right', temp);
  self.prevButtonTop = ModuleImage_$('div.image-show__btnc.image-show__btnc__left div.flx-fix.image-show__btn', temp);
  self.nextButtonTop = ModuleImage_$('div.image-show__btnc.image-show__btnc__right div.flx-fix.image-show__btn', temp);
  self.forwardButton = ModuleImage_$('a#image-show-forward', temp);
  self.downloadButton = ModuleImage_$('a#image-show-download', temp);
  self.rotateLeftButton = ModuleImage_$('i.btn.material-icons.fa-rotate-left', temp);
  self.rotateRightButton = ModuleImage_$('i.btn.material-icons.fa-rotate-right', temp);
  self.titleTimeLine = ModuleImage_$('span#image-show__thumb__legend_title_content', temp);
  self.avatarImage = ModuleImage_$('div.avatar-img', temp);
  self.userName = ModuleImage_$('div.truncate.user-name', temp);
  self.dateSubmit = ModuleImage_$('div.truncate.date-submit', temp);
  self.noteImage = ModuleImage_$('div#imageTitle.image-show__meta-wrapper  div.image-show__caption', temp);
  self.mainImage = ModuleImage_$('div#mainImage>img.image-show__img.z-fh.fadeInImageShow', temp);
  self.openCloseTimeLine = ModuleImage_$('div.image-show__btnc__fullscreen', temp);
  self.containerTimeLine = ModuleImage_$('div.timeLineContainerCheck', temp);
  self.containerMainImage = ModuleImage_$('div.#image-show.image-show__body.content', temp);
  self.timeLineMarker = ModuleImage_$('div.timeline-slider__handle', temp);
  var supportsPassive = false;

  try {
    window.addEventListener("test", null, Object.defineProperty({}, 'passive', {
      get: function get() {
        supportsPassive = true;
      }
    }));
  } catch (e) {}

  var wheelOpt = supportsPassive ? {
    passive: false
  } : false;
  var wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';
  self.prevButton.addEventListener("click", function (event) {
    self.SelectImage(self.itemSelect.nextElement().index);
  });
  self.nextButton.addEventListener("click", function (event) {
    self.SelectImage(self.itemSelect.prevElement().index);
  });
  self.prevButtonTop.addEventListener("click", function (event) {
    self.SelectImage(self.itemSelect.nextElement().index);
  });
  self.nextButtonTop.addEventListener("click", function (event) {
    self.SelectImage(self.itemSelect.prevElement().index);
  });
  self.rotateLeftButton.addEventListener("click", function (event) {
    self.setRoation(-90);
  });
  self.rotateRightButton.addEventListener("click", function (event) {
    self.setRoation(90);
  });
  self.closeButton.addEventListener("click", function (event) {
    self.selfRemove();
  });
  self.containImage.addEventListener(wheelEvent, function (event) {
    event.preventDefault();
  }, wheelOpt);
  var deltaYcontainImage = 0;
  var deltaYcontainerMainImage = 0;
  self.containImage.addEventListener("wheel", function (event) {
    if (Math.abs(deltaYcontainImage) < 200) {
      if (deltaYcontainImage * event.deltaY < 0) deltaYcontainImage = event.deltaY;else deltaYcontainImage += event.deltaY;
    } else {
      if (deltaYcontainImage < 0) {
        var next = self.itemSelect.prevElement();
        if (next !== null) self.SelectImage(next.index);
      } else {
        var next = self.itemSelect.nextElement();
        if (next !== null) self.SelectImage(next.index);
      }

      deltaYcontainImage = 0;
    }
  });
  self.containerMainImage.addEventListener("wheel", function (event) {
    if (Math.abs(deltaYcontainerMainImage) < 50) {
      if (deltaYcontainerMainImage * event.deltaY < 0) deltaYcontainerMainImage = 0;else deltaYcontainerMainImage += event.deltaY;
    } else {
      if (deltaYcontainerMainImage < 0) {
        self.setScale(0.125);
      } else {
        self.setScale(-0.125);
      }

      deltaYcontainerMainImage = 0;
    }
  });
  self.openCloseTimeLine.addEventListener("click", function (event) {
    if (self.containerTimeLine.classList.contains("displayNone")) {
      self.containerTimeLine.classList.remove("displayNone");
    } else {
      self.containerTimeLine.classList.add("displayNone");
    }
  });
  self.containImage.indexDay = -1;
  self.containImage.indexElement = -1;
  self.renderItems(data, index);

  if (promiseLazyLoad !== undefined) {
    self.addFunctionLazyLoad(promiseLazyLoad);
  }

  var functionESC = function functionESC(event) {
    if (event.keyCode == 27) {
      self.selfRemove();
      self.removeEventListener("keydown", functionESC);
      var arr = document.body.getElementsByClassName("as-modal");

      if (arr.length > 0) {
        arr[arr.length - 1].focus();
      }
    }
  };

  self.addEventListener("keydown", functionESC);
  setTimeout(function () {
    self.focus();
  }, 100);
  return self;
}

descViewImagePreview.prototype.renderItems = function (data, index) {
  var self = this;
  var dataCheck = [];
  data.sort(function (a, b) {
    var dateA = new Date(a.date);
    var dateB = new Date(b.date);
    if (dateA < dateB) return 1;
    if (dateA > dateB) return -1;
    return 0;
  });
  var dayThumnail, day, format, date;
  var today = new Date();

  for (var i = 0; i < data.length; i++) {
    date = new Date(data[i].date);
    if (today.getFullYear() === date.getFullYear()) format = formatDate(date);else format = formatDate(date, undefined, undefined, undefined, undefined, true);

    if (dataCheck[format] === undefined) {
      dataCheck[format] = [data[i]];
      day = ModuleImage_({
        tag: "span",
        attr: {
          dataTranslateInner: "STR_DATE_TIME"
        }
      });
      dayThumnail = ModuleImage_({
        tag: "div",
        "class": "image-show__thumb__legend",
        child: [day]
      });

      if (date.getDay() === today.getDay() && date.getMonth() === today.getMonth()) {
        format = "Hôm nay";
      }

      day.addChild(ModuleImage_({
        text: format
      }));

      dayThumnail.getDate = function (formatDate) {
        return function () {
          return formatDate;
        };
      }(format);

      dayThumnail.getValue = function (mDate) {
        return function () {
          return mDate;
        };
      }(date);

      self.containImage.indexDay++;
      dayThumnail.indexDay = self.containImage.indexDay;
      self.containImage.appendChild(dayThumnail);
    } else dataCheck[format] = dataCheck[format].concat([data[i]]);

    if (data[i].id !== undefined) self.containImage.indexElement = data[i].id;else self.containImage.indexElement++;
    var item = self.ItemTimeLine(data[i], self.containImage.indexElement);
    item.dayElement = dayThumnail;
    self.containImage.appendChild(item);
  }

  if (index !== undefined) self.SelectImage(index);
};

descViewImagePreview.prototype.resetImage = function (data) {
  var self = this;

  var newMainImage = ModuleImage_({
    tag: "img",
    "class": ["image-show__img", "z-fh", "fadeInImageShow"],
    attr: {
      draggable: "false",
      // crossorigin:"Anonymous",
      src: data.src
    }
  });

  newMainImage.addEventListener('mousedown', start_drag);
  newMainImage.addEventListener('mousemove', while_drag);
  newMainImage.addEventListener('mouseup', stop_drag);
  newMainImage.rotateRadius = 0;
  newMainImage.scaleUnit = 1;
  newMainImage.style.transform = "rotate(" + newMainImage.rotateRadius + "deg) translate(0rem, 0rem) scale(" + newMainImage.scaleUnit + ")";
  newMainImage.addEventListener("click", function () {
    var element = this;
    setTimeout(function () {
      if (element.moved !== true && data.note != "") {
        if (self.noteImage.parentNode.classList.contains("displayNone")) self.noteImage.parentNode.classList.remove("displayNone");else self.noteImage.parentNode.classList.add("displayNone");
      }
    });
  }, 100);
  this.downloadButton.setAttribute("href", data.src);
  this.mainImage.parentNode.replaceChild(newMainImage, this.mainImage);
  this.mainImage = newMainImage;
  this.noteImage.innerText = data.note;
  if (data.note == "") self.noteImage.parentNode.classList.add("displayNone");
  this.avatarImage.style.backgroundImage = "url(" + data.avatar + ")";
  this.userName.innerText = data.userName;
  this.dateSubmit.innerText = formatDate(data.date, true, true, true, true, true);
};

descViewImagePreview.prototype.setRoation = function (radius) {
  this.mainImage.rotateRadius += radius;
  this.mainImage.style.transform = "rotate(" + this.mainImage.rotateRadius + "deg) translate(0rem, 0rem) scale(" + this.mainImage.scaleUnit + ")";
};

descViewImagePreview.prototype.setScale = function (scale) {
  if (this.mainImage.scaleUnit + scale < 1) {
    this.mainImage.style.position = "";
    this.mainImage.style.top = "";
    this.mainImage.style.left = "";
    return;
  }

  if (this.mainImage.style.position === "") {
    this.mainImage.style.position = "absolute";
  }

  this.mainImage.scaleUnit += scale;
  this.mainImage.style.transform = "rotate(" + this.mainImage.rotateRadius + "deg) translate(0rem, 0rem) scale(" + this.mainImage.scaleUnit + ")";
};

descViewImagePreview.prototype.SelectImage = function (index) {
  if (this.itemSelect !== undefined) this.itemSelect.classList.remove("selected");
  this.itemSelect = ModuleImage_$("div#thumb_" + index, this);
  this.itemSelect.classList.add("selected");
  this.resetImage(this.itemSelect.data);

  if (this.itemSelect.nextElement() === null) {
    if (!this.prevButton.classList.contains("unclickable")) this.prevButton.classList.add("unclickable");
    if (this.prevButtonTop.classList.contains("clickable")) this.prevButtonTop.classList.remove("clickable");
  } else {
    if (this.prevButton.classList.contains("unclickable")) this.prevButton.classList.remove("unclickable");
    if (!this.prevButtonTop.classList.contains("clickable")) this.prevButtonTop.classList.add("clickable");
  }

  if (this.itemSelect.prevElement() === null) {
    if (!this.nextButton.classList.contains("unclickable")) this.nextButton.classList.add("unclickable");
    if (this.nextButtonTop.classList.contains("clickable")) this.nextButtonTop.classList.remove("clickable");
  } else {
    if (this.nextButton.classList.contains("unclickable")) this.nextButton.classList.remove("unclickable");
    if (!this.nextButtonTop.classList.contains("clickable")) this.nextButtonTop.classList.add("clickable");
  }

  this.scrollView();
  var self = this;
  setTimeout(function () {
    var arr = self.containImage.getElementsByClassName("image-show__thumb__legend");
    var last, current;

    for (var i = 0; i < arr.length; i++) {
      last = current;
      current = arr[i];

      if (self.titleTimeLine.getBoundingClientRect().y <= current.getBoundingClientRect().y - 16) {
        if (last !== undefined) self.titleTimeLine.innerText = last.getDate();else self.titleTimeLine.innerText = current.getDate();
        break;
      }
    }
  }, 10);
};

descViewImagePreview.prototype.scrollView = function () {
  var self = this;
  this.containImage.scrollTop = this.itemSelect.offsetTop - this.containImage.offsetHeight / 2;
  this.timeLineMarker.style.top = "calc(" + this.itemSelect.dayElement.indexDay / this.containImage.indexDay * 100 + "% - 0rem)";
  if (this.promiseLazyLoad !== undefined) if (this.itemSelect.dayElement.indexDay === this.containImage.indexDay) this.promiseLazyLoad.then(function (result) {
    self.renderItems(result);
    self.scrollView();
    self.promiseLazyLoad = undefined;
  });
};

descViewImagePreview.prototype.addFunctionLazyLoad = function (promiseLazyLoad) {
  this.promiseLazyLoad = promiseLazyLoad;
};

descViewImagePreview.prototype.ItemTimeLine = function (data, i) {
  var self = this;
  var index;
  if (data.index !== undefined) index = data.index;else index = i;

  var temp = ModuleImage_({
    tag: "div",
    "class": "image-show__thumb-container",
    props: {
      id: "thumb_" + index
    },
    on: {
      click: function click(event) {
        self.SelectImage(index);
      }
    },
    child: [{
      tag: "img",
      "class": ["image-show__thumb", "clickable"],
      attr: {// crossorigin:"Anonymous"
      },
      props: {
        src: data.src
      }
    }]
  });

  temp.data = data;
  temp.index = index;
  temp.imageElement = ModuleImage_$('div.image-show__thumb-container img.image-show__thumb', temp);

  temp.nextElement = function () {
    var indexElement = temp;

    do {
      indexElement = indexElement.nextSibling;
    } while (indexElement !== null && !indexElement.classList.contains("image-show__thumb-container"));

    return indexElement;
  };

  temp.prevElement = function () {
    var indexElement = temp;

    do {
      indexElement = indexElement.previousSibling;
    } while (indexElement !== null && !indexElement.classList.contains("image-show__thumb-container"));

    return indexElement;
  };

  return temp;
};

function start_drag() {
  img_ele = this;
  x_img_ele = window.event.clientX - img_ele.offsetLeft;
  y_img_ele = window.event.clientY - img_ele.offsetTop;
  this.moved = false;
}

function stop_drag() {
  img_ele = null;
}

function while_drag() {
  if (this.moved === false) {
    this.moved = true;
  }

  x_cursor = window.event.clientX;
  y_cursor = window.event.clientY;

  if (img_ele !== null) {
    img_ele.style.left = x_cursor - x_img_ele + 'px';
    img_ele.style.top = window.event.clientY - y_img_ele + 'px';
  }
}
// EXTERNAL MODULE: ./css/NewRealty.css
var NewRealty = __webpack_require__(236);

// EXTERNAL MODULE: ./css/imagesilder.css
var imagesilder = __webpack_require__(238);

// EXTERNAL MODULE: ./css/NewContact.css
var css_NewContact = __webpack_require__(240);

// CONCATENATED MODULE: ./js/component/NewContact.js








var NewContact_ = dom_Fcore._;
var NewContact_$ = dom_Fcore.$;

function NewContact_NewContact(data) {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.textHeader = "Sửa ";
  this.data = data;
  if (this.data == undefined) this.textHeader = "Thêm ";
}

NewContact_NewContact.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(NewContact_NewContact.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
NewContact_NewContact.prototype.constructor = NewContact_NewContact;

NewContact_NewContact.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;
  this.$view = NewContact_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: self.textHeader + "Quận/Huyện"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
              self.rejectDB(self.getDataSave());
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              var tempData = self.getDataSave();

              if (tempData !== undefined) {
                self.resolveDB(tempData);
                self.createPromise();
              }
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              var tempData = self.getDataSave();

              if (tempData !== undefined) {
                self.resolveDB(self.getDataSave());
                self.$view.selfRemove();
                var arr = self.parent.body.getAllChild();
                self.parent.body.activeFrame(arr[arr.length - 1]);
              }
            }
          },
          child: ['<span>' + "Lưu và đóng" + '</span>']
        }]
      }]
    }]
  });
  this.$view.addChild(NewContact_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [{
      tag: "div",
      "class": ["pizo-list-realty-main-result-control"],
      child: [{
        tag: "div",
        "class": "pizo-new-contact-container",
        child: [{
          tag: "div",
          "class": "pizo-new-contact-container-name-container",
          child: [{
            tag: "span",
            "class": "pizo-new-contact-container-name-container-label",
            props: {
              innerHTML: "Tên"
            }
          }, {
            tag: "input",
            "class": ["pizo-new-contact-container-name-container-input", "pizo-new-realty-dectruct-input"]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-contact-container-email-container",
          child: [{
            tag: "span",
            "class": "pizo-new-contact-container-email-container-label",
            props: {
              innerHTML: "Email"
            }
          }, {
            tag: "input",
            "class": "pizo-new-contact-container-email-container-input"
          }]
        }, {
          tag: "div",
          "class": "pizo-new-contact-container-phone-container",
          child: [{
            tag: "span",
            "class": "pizo-new-contact-container-phone-container-label",
            props: {
              innerHTML: "Số điện thoại"
            }
          }, {
            tag: "input",
            "class": "pizo-new-contact-container-phone-container-input",
            props: {
              type: "number"
            }
          }]
        }, {
          tag: "div",
          "class": "pizo-new-contact-container-type-container",
          child: [{
            tag: "span",
            "class": "pizo-new-contact-container-type-container-label",
            props: {
              innerHTML: "Tình trạng cuộc gọi"
            }
          }, {
            tag: "selectmenu",
            "class": "pizo-new-contact-container-type-container-input",
            props: {
              items: [{
                text: "Còn hoạt động",
                value: 1
              }, {
                text: "Sai số",
                value: 0
              }, {
                text: "Gọi lại sau",
                value: 2
              }, {
                text: "Bỏ qua",
                value: 3
              }, {
                text: "Khóa máy",
                value: 4
              }]
            }
          }]
        }]
      }]
    }]
  }));
  this.createPromise();
  this.name = NewContact_$('input.pizo-new-contact-container-name-container-input', this.$view);
  this.phone = NewContact_$('input.pizo-new-contact-container-phone-container-input', this.$view);
  this.type = NewContact_$('div.pizo-new-contact-container-type-container-input', this.$view);
  this.email = NewContact_$('input.pizo-new-contact-container-email-container-input', this.$view);

  if (this.data !== undefined) {
    this.name.value = this.data.original.name;
    this.phone.value = this.data.original.phone;
    this.type.value = this.data.original.statusphone;
    this.email.value = this.data.original.email;
  }

  return this.$view;
};

NewContact_NewContact.prototype.getDataSave = function () {
  var temp = {
    name: this.name.value,
    phone: this.phone.value,
    statusphone: this.type.value,
    email: this.email.value
  };

  if (ModuleDatabase["a" /* default */].getModule("users").getLibary("phone")[this.phone.value] !== undefined || ModuleDatabase["a" /* default */].getModule("contacts").getLibary("phone")[this.phone.value] !== undefined) {
    var deleteItem = confirmQuestion("Xác nhận số điện thoại", "Số điện thoại trùng vui lòng kiểm tra lại!");
    this.$view.addChild(deleteItem);
    return;
  }

  if (this.data !== undefined) temp.id = this.data.original.id;
  return temp;
};

NewContact_NewContact.prototype.createPromise = function () {
  var self = this;

  if (this.data === undefined) {
    self.promiseAddDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  } else {
    self.promiseEditDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  }
};

NewContact_NewContact.prototype.resetPromise = function (value) {
  if (self.promiseAddDB !== undefined) self.promiseAddDB = undefined;
  if (self.promiseEditDB !== undefined) self.promiseEditDB = undefined;
};

NewContact_NewContact.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

NewContact_NewContact.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.contact == "RUNNING") this.flushDataToView();
};

NewContact_NewContact.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

NewContact_NewContact.prototype.start = function () {};

/* harmony default export */ var component_NewContact = (NewContact_NewContact);
// CONCATENATED MODULE: ./js/component/modal_drag_drop_manyfiles.js
function modal_drag_drop_manyfiles_toConsumableArray(arr) { return modal_drag_drop_manyfiles_arrayWithoutHoles(arr) || modal_drag_drop_manyfiles_iterableToArray(arr) || modal_drag_drop_manyfiles_unsupportedIterableToArray(arr) || modal_drag_drop_manyfiles_nonIterableSpread(); }

function modal_drag_drop_manyfiles_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function modal_drag_drop_manyfiles_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return modal_drag_drop_manyfiles_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return modal_drag_drop_manyfiles_arrayLikeToArray(o, minLen); }

function modal_drag_drop_manyfiles_iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function modal_drag_drop_manyfiles_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return modal_drag_drop_manyfiles_arrayLikeToArray(arr); }

function modal_drag_drop_manyfiles_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function modal_drag_drop_manyfiles_typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { modal_drag_drop_manyfiles_typeof = function _typeof(obj) { return typeof obj; }; } else { modal_drag_drop_manyfiles_typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return modal_drag_drop_manyfiles_typeof(obj); }







var modal_drag_drop_manyfiles_ = dom_Fcore._;
var modal_drag_drop_manyfiles_$ = dom_Fcore.$;
var xmlModalDragManyFiles;
/* harmony default export */ var modal_drag_drop_manyfiles = (xmlModalDragManyFiles = {
  imgUrl: [],
  files: [],
  avatar: "",
  note: "",
  userName: "",
  enableClick: false,
  iconSrc: "https://lab.daithangminh.vn/vivid_exticons/",
  deleteAllTrash: function deleteAllTrash() {},
  functionFormat: function functionFormat(data) {
    return data;
  },
  setProfile: function setProfile() {
    var profile = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    if (profile.userName !== undefined) this.userName = profile.userName;
    if (profile.avatar !== undefined) this.avatar = profile.avatar;
    if (profile.note !== undefined) this.note = profile.note;
  },
  setFormatData: function setFormatData(functionFormat) {
    this.functionFormat = functionFormat;
  },
  enableCheckBox: false,
  enableSelectbox: false,
  Image: function Image(srcImg) {
    var self = this;
    var temp;

    var img = modal_drag_drop_manyfiles_({
      tag: "img",
      "class": ["full-size"],
      props: {
        src: srcImg
      },
      on: {
        click: function click() {
          if (self.enableClick === false) return;
          var manyfiles = self.getFile();
          var arr = [];
          var index;

          for (var i = 0; i < manyfiles.length; i++) {
            if (modal_drag_drop_manyfiles_typeof(manyfiles[i]) == "object") {
              var dataTemp = self.functionFormat(manyfiles[i]);
              if (manyfiles[i].ref !== undefined) dataTemp.src = manyfiles[i].ref + manyfiles[i].src;
              arr.push(dataTemp);
            } else arr.push({
              avatar: self.avatar,
              userName: self.userName,
              src: manyfiles[i],
              date: new Date().toISOString(),
              note: self.note
            });

            if (manyfiles[i] == temp.value) index = i;
          }

          document.body.appendChild(descViewImagePreview(arr, index));
        }
      }
    });

    temp = modal_drag_drop_manyfiles_({
      tag: "div",
      "class": "grid-item",
      child: [img, {
        tag: "i",
        "class": "material-icons",
        style: {
          overflow: "hidden",
          position: "absolute",
          right: "7px",
          top: "7px",
          cursor: "pointer",
          height: "fit-content",
          margin: 0,
          width: "fit-content",
          userSelect: "none",
          backgroundColor: "white",
          fontSize: "21px"
        },
        on: {
          click: function click(event) {
            this.parentNode.selfRemove();

            if (self.getFile().length == 0) {
              if (!self.select.classList.contains("disable")) self.select.classList.add("disable");
            }
          }
        },
        props: {
          innerHTML: "close"
        }
      }]
    });

    if (self.enableCheckBox == true) {
      var checkboxButton = modal_drag_drop_manyfiles_({
        tag: "button",
        "class": "pizo-container-icon-radiobutton",
        on: {
          click: function click(event) {
            if (self.gallery === undefined) {
              self.gallery = modal_drag_drop_manyfiles_$(".gallery_c0ek499ts0", this.mContainGetImage);
            }

            var arr = self.gallery.getElementsByClassName("checked-pizo");
            if (arr.length > 0) arr[0].classList.remove("checked-pizo");
            {
              temp.classList.add("checked-pizo");
            }
          }
        },
        child: [{
          tag: "i",
          "class": "material-icons",
          style: {
            overflow: "hidden",
            cursor: "pointer",
            userSelect: "none",
            fontSize: "13px"
          },
          props: {
            innerHTML: "stop_circle"
          }
        }]
      });

      temp.checkboxButton = checkboxButton;
      temp.insertBefore(checkboxButton, temp.firstChild);
    }

    window.addEventListener("click", function (event) {
      if (event.target !== temp && temp !== undefined && temp.parentNode !== undefined) {
        var el = temp;

        while (el.parentNode != undefined && !el.classList.contains("image-autoresize-create")) {
          el = el.parentNode;
        }

        if (el !== document) if (el.classList.contains("hasFocus")) el.classList.remove("hasFocus");
      }
    });
    img.addEventListener("load", function () {
      temp.onload.bind(this)();
    });

    if (self.getFile().length == 0) {
      temp.classList.add("checked-pizo");
    }

    return temp;
  },
  enableGetDetail: function enableGetDetail() {
    var isDetail = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
    this.enableDetail = isDetail;
  },
  containGetImage: function containGetImage() {
    var self = this;

    var input = modal_drag_drop_manyfiles_({
      tag: "input",
      "class": "modal-upload-XML-body-drop-area-main-form-input",
      attr: {
        multiple: ""
      },
      props: {
        type: "file",
        accept: "*/*",
        id: "fileElem"
      },
      on: {
        change: function change() {
          self.handleFiles(this.files, self);
        }
      }
    });

    self.select = modal_drag_drop_manyfiles_({
      tag: "div",
      "class": ["quantumWizButtonEl", "quantumWizButtonPaperbuttonEl", "quantumWizButtonPaperbuttonFlat", "quantumWizButtonPaperbuttonFlatColored", "quantumWizButtonPaperbutton2El2", "quantumWizDialogPaperdialogDialogButton", "disable"],
      style: {
        backgroundColor: "#2196F3",
        border: "1px solid rgb(169, 169, 169)",
        width: "90px"
      },
      child: [{
        tag: "span",
        "class": "quantumWizButtonPaperbuttonContent",
        child: [{
          tag: "span",
          "class": "quantumWizButtonPaperbuttonLabel",
          style: {
            color: "white"
          },
          props: {
            innerHTML: "Tải lên"
          }
        }]
      }],
      on: {
        click: function click() {
          self.functionClickDone();
          if (self.modal !== undefined) self.modal.parentNode.removeChild(self.modal);
        }
      }
    });

    var temp = modal_drag_drop_manyfiles_({
      tag: "div",
      "class": "modal-upload-XML-body-drop",
      child: [{
        tag: "div",
        "class": "modal-upload-XML-body-drop-area",
        child: [{
          tag: "div",
          "class": "modal-upload-XML-body-drop-area-main",
          child: [{
            tag: "div",
            "class": ["modal-upload-XML-body-drop-area-main-form", "displayVisible", "drop-area_c0ek499ts0"],
            child: [{
              tag: "div",
              "class": "modal-upload-XML-body-drop-area-main-form-content",
              child: [input, {
                tag: "button",
                "class": "modal-upload-XML-body-drop-area-main-form-button",
                props: {
                  innerHTML: "Chọn files để tải lên",
                  "for": "fileElem"
                },
                on: {
                  click: function click() {
                    input.click();
                  }
                }
              }, {
                tag: "p",
                "class": "modal-upload-XML-body-drop-area-main-form-tutorial",
                props: {
                  innerHTML: "Kéo thả files vào đây"
                }
              }, {
                tag: "div",
                "class": ["modal-upload-XML-body-drop-area-main-gallery", "grid", "gallery_c0ek499ts0"]
              }, {
                tag: "progress",
                "class": ["modal-upload-XML-body-drop-area-main-process-bar", "progress-bar_c0ek499ts0"],
                props: {
                  max: "100",
                  value: "0"
                }
              }]
            }, {
              tag: "div",
              "class": "modal-upload-XML-body-drop-save",
              child: [self.select, {
                tag: "div",
                "class": ["quantumWizButtonEl", "quantumWizButtonPaperbuttonEl", "quantumWizButtonPaperbuttonFlat", "quantumWizButtonPaperbuttonFlatColored", "quantumWizButtonPaperbutton2El2", "quantumWizDialogPaperdialogDialogButton"],
                style: {
                  marginLeft: "10px",
                  border: "1px solid rgb(169, 169, 169)",
                  width: "90px"
                },
                child: [{
                  tag: "span",
                  "class": "quantumWizButtonPaperbuttonContent",
                  child: [{
                    tag: "span",
                    "class": "quantumWizButtonPaperbuttonLabel",
                    props: {
                      innerHTML: "Hủy"
                    }
                  }]
                }],
                on: {
                  click: function click() {
                    self.functionClickCancel();
                    self.resetFile();
                    if (self.modal !== undefined) self.modal.parentNode.removeChild(self.modal);
                  }
                }
              }]
            }]
          }]
        }]
      }]
    });

    self.xnen = temp;
    self.mContainGetImage = temp;
    return temp;
  },
  createModal: function createModal(DOMElement) {
    var functionClickDone = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};
    var functionClickCancel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};
    var self = this;
    var xnen = self.containGetImage();

    var pointControl = modal_drag_drop_manyfiles_({
      tag: "div",
      "class": ["modal-upload-XML-body-navigation-bar", "selected-modal"],
      child: [{
        tag: "div",
        "class": "modal-upload-XML-body-navigation-bar-button",
        props: {
          innerHTML: "Tải lên"
        }
      }],
      on: {
        click: function click() {
          if (self.me === this) return;
          if (self.me !== undefined) self.me.classList.remove("selected-modal");
          this.classList.add("selected-modal");
          self.me = this;
          xnen.setPage(0);
        }
      }
    });

    self.me = pointControl;
    self.modal = modal_drag_drop_manyfiles_({
      tag: "modal",
      child: [{
        tag: "div",
        "class": "modal-upload-XML",
        child: [{
          tag: "div",
          "class": "modal-upload-XML-header",
          child: [{
            tag: "div",
            "class": "modal-upload-XML-header-text",
            props: {
              innerHTML: "Chèn Files"
            }
          }, {
            tag: "i",
            "class": ["modal-upload-XML-header-icon-close", "material-icons"],
            props: {
              innerHTML: "close"
            },
            on: {
              click: function click() {
                self.modal.parentNode.removeChild(self.modal);
              }
            }
          }]
        }, {
          tag: "div",
          "class": "modal-upload-XML-body",
          child: [{
            tag: "div",
            "class": "modal-upload-XML-body-navigation",
            child: [pointControl]
          }, xnen]
        }]
      }]
    });
    DOMElement.appendChild(self.modal);
    self.functionClickDone = functionClickDone;
    self.functionClickCancel = functionClickCancel;
    self.createEvent();
    return self.modal;
  },
  createEvent: function createEvent() {
    var self = this;

    if (self.dropArea === undefined) {
      self.dropArea = modal_drag_drop_manyfiles_$('.drop-area_c0ek499ts0', self.mContainGetImage);
    } // self.dropArea = document.getElementById("drop-area");
    // Prevent default drag behaviors


    ["dragenter", "dragover", "dragleave", "drop"].forEach(function (eventName) {
      self.dropArea.addEventListener(eventName, self.preventDefaults, false);
      document.body.addEventListener(eventName, self.preventDefaults, false);
    }); // Highlight drop area when item is dragged over it

    ["dragenter", "dragover"].forEach(function (eventName) {
      self.dropArea.addEventListener(eventName, self.highlight, false);
    });
    ["dragleave", "drop"].forEach(function (eventName) {
      self.dropArea.addEventListener(eventName, self.unhighlight, false);
    }); // Handle dropped files

    self.dropArea.addEventListener("drop", function (e) {
      self.handleDrop(e, self);
    }, false);
    self.uploadProgress = [];
  },
  preventDefaults: function preventDefaults(e) {
    e.preventDefault();
    e.stopPropagation();
  },
  highlight: function highlight(e) {
    this.classList.add("highlight");
  },
  unhighlight: function unhighlight(e) {
    this.classList.remove("active");
  },
  handleDrop: function handleDrop(e, self) {
    var dt = e.dataTransfer;
    var files = dt.files;
    self.handleFiles(files, self);
  },
  initializeProgress: function initializeProgress(numFiles) {
    var self = this;
    if (self.progressBar === undefined) self.progressBar = modal_drag_drop_manyfiles_$('.progress-bar_c0ek499ts0', self.mContainGetImage);
    self.progressBar.value = 0;
    self.uploadProgress = [];

    for (var i = numFiles; i > 0; i--) {
      self.uploadProgress.push(0);
    }
  },
  updateProgress: function updateProgress(fileNumber, percent, self) {
    self.uploadProgress[fileNumber] = percent;
    var total = self.uploadProgress.reduce(function (tot, curr) {
      return tot + curr;
    }, 0) / self.uploadProgress.length;
    console.debug("update", fileNumber, percent, total);
    self.progressBar.value = total;
  },
  handleFiles: function handleFiles(files) {
    var self = this;
    files = modal_drag_drop_manyfiles_toConsumableArray(files);
    self.initializeProgress(files.length);

    for (var i = 0; i < files.length; i++) {
      self.uploadFile(files[i], i);
      self.previewFile(files[i]);
    }
  },
  marginAlign: function marginAlign() {
    var temp = modal_drag_drop_manyfiles_({
      tag: "div",
      "class": "max-width-image-resize"
    });

    temp.getValue = function () {
      var resultXML = "";

      for (var i = 0; i < temp.childNodes.length; i++) {
        resultXML += temp.childNodes[i].getValue();
      }

      return resultXML;
    };

    return temp;
  },
  previewFile: function previewFile(file) {
    var self = this;

    if (self.gallery === undefined) {
      self.gallery = modal_drag_drop_manyfiles_$(".gallery_c0ek499ts0", self.mContainGetImage);
    }

    if (file.type.match("image.*")) {
      var reader = new FileReader();
      reader.readAsDataURL(file);

      reader.onloadend = function () {
        if (self.blackWhite === true) {
          grayscale(reader.result, true).then(function (value) {
            var img = self.Image(value);

            if (self.enableDetail == true) {
              img.value = {
                src: reader.result,
                file: file
              };
            } else {
              img.value = reader.result;
            }

            var parent = self.gallery;
            parent.appendChild(img);

            img.onload = function () {};
          });
        } else {
          var value = reader.result;
          var img = self.Image(value);

          if (self.enableDetail == true) {
            img.value = {
              src: value,
              file: file
            };
          } else {
            img.value = value;
          }

          var parent = self.gallery;
          parent.appendChild(img);

          img.onload = function () {};
        }
      };
    } else {
      var img = self.Image(this.iconSrc + file.name.substr(file.name.lastIndexOf('.') + 1) + ".svg");
      img.value = file;
      var parent = self.gallery;
      parent.appendChild(img);

      img.onload = function () {};
    }
  },
  setBackWhite: function setBackWhite() {
    this.blackWhite = true;
  },
  addFile: function addFile(data) {
    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";

    if (this.gallery === undefined) {
      this.gallery = modal_drag_drop_manyfiles_$(".gallery_c0ek499ts0", this.mContainGetImage);
    }

    var img = this.Image(ref + data.src);

    if (this.enableCheckBox && data.thumnail == 1) {
      img.checkboxButton.click();
    }

    data.ref = ref;
    img.value = data;
    var parent = this.gallery;
    parent.appendChild(img);

    img.onload = function () {};
  },
  resetFile: function resetFile() {
    var self = this;

    if (self.gallery === undefined) {
      self.gallery = modal_drag_drop_manyfiles_$(".gallery_c0ek499ts0", self.mContainGetImage);
    }

    self.gallery.clearChild();
  },
  getFile: function getFile() {
    var arr = [];

    if (this.gallery === undefined) {
      this.gallery = modal_drag_drop_manyfiles_$(".gallery_c0ek499ts0", this.mContainGetImage);
    }

    for (var i = 0; i < this.gallery.childNodes.length; i++) {
      arr.push(this.gallery.childNodes[i].value);
    }

    return arr;
  },
  getImportTant: function getImportTant() {
    if (this.gallery === undefined) {
      this.gallery = modal_drag_drop_manyfiles_$(".gallery_c0ek499ts0", this.mContainGetImage);
    }

    var arr = this.gallery.getElementsByClassName("checked-pizo");
    if (arr.length > 0) return this.getFile().indexOf(arr[0].value);
  },
  uploadFile: function uploadFile(file, i, self) {
    var self = this;
    self.updateProgress(i, 100, self);
    self.select.classList.remove("disable");
    if (!self.xnen.classList.contains("visible")) self.xnen.classList.add("visible"); // var url = "./php/upload/handle_file_upload.php";
    // var name =
    //   ("img_" + Math.random() + Math.random()).replace(/\./g, "") +
    //   file.name.slice(file.name.lastIndexOf("."));
    // var xhr = new XMLHttpRequest();
    // var formData = new FormData();
    // xhr.open("POST", url, true);
    // xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest");
    // // Update progress (can be used to show progress indicator)
    // xhr.upload.addEventListener("progress", function(e) {
    //   self.updateProgress(i, (e.loaded * 100.0) / e.total || 100, self);
    // });
    // xhr.addEventListener("readystatechange", function(e) {
    //   if (xhr.readyState == 4 && xhr.status == 200) {
    //     self.updateProgress(i, 100, self); // <- Add this
    //     // self.select.classList.remove("disable");
    //     if (!self.modal.classList.contains("visible"))
    //       self.modal.classList.add("visible");
    //     self.imgUrl.src = "./img/delete/" + name;
    //     self.imgAll.push("./img/delete/" + name);
    //     document.getElementById("gallery").style.position = "relative";
    //   } else if (xhr.readyState == 4 && xhr.status != 200) {
    //     // Error. Inform the user
    //   }
    // });
    // formData.append("upload_name", name);
    // formData.append("file", file);
    // xhr.send(formData);
  }
});
// CONCATENATED MODULE: ./js/component/NewRealty.js
function NewRealty_typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { NewRealty_typeof = function _typeof(obj) { return typeof obj; }; } else { NewRealty_typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return NewRealty_typeof(obj); }
















var NewRealty_ = dom_Fcore._;
var NewRealty_$ = dom_Fcore.$;

function NewRealty_NewRealty(data) {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.textHeader = "Sửa ";
  this.data = data;
  console.log(this);
  if (this.data == undefined) this.textHeader = "Thêm ";
}

NewRealty_NewRealty.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(NewRealty_NewRealty.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
NewRealty_NewRealty.prototype.constructor = NewRealty_NewRealty;

NewRealty_NewRealty.prototype.createPromise = function () {
  var self = this;

  if (this.data === undefined) {
    self.promiseAddDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  } else {
    self.promiseEditDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  }
};

NewRealty_NewRealty.prototype.resetPromise = function (value) {
  var self = this;
  if (self.promiseAddDB !== undefined) self.promiseAddDB = undefined;
  if (self.promiseEditDB !== undefined) self.promiseEditDB = undefined;
};

NewRealty_NewRealty.prototype.generalData = function () {
  for (var i = 0; i < this.header.length; i++) {
    if (this.header[i].value === undefined) {
      if (NewRealty_typeof(this.header[i]) === "object") value = "";else value = this.header[i];
    } else value = this.header[i].value;

    switch (value) {}
  }
};

NewRealty_NewRealty.prototype.getView = function () {
  // if(this.$view!==undefined)
  //     return this.$view;
  var self = this;
  this.$view = NewRealty_({
    tag: "singlepage",
    "class": "pizo-new-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: self.textHeader + "dự án"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              var dataSave = self.getDataSave();

              if (dataSave !== false && !isEqual(dataSave, self.data)) {
                var deleteItem = deleteQuestion("Lưu thay đổi", "Bạn muốn đóng (tất cả những chỉnh sửa sẽ không được lưu lại)?");
                self.$view.addChild(deleteItem);
                deleteItem.promiseComfirm.then(function () {
                  self.rejectDB(dataSave);
                  self.$view.selfRemove();
                  var arr = self.parent.body.getAllChild();
                  self.parent.body.activeFrame(arr[arr.length - 1]);
                });
              } else {
                self.rejectDB(dataSave);
                self.$view.selfRemove();
                var arr = self.parent.body.getAllChild();
                self.parent.body.activeFrame(arr[arr.length - 1]);
              }
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-save", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              var dataSave = self.getDataSave(true);
              if (dataSave == false) return;
              self.resolveDB(dataSave);
              self.data = dataSave;
              self.createPromise();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-save-close", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              var dataSave = self.getDataSave(true);
              if (dataSave == false) return;
              self.resolveDB(dataSave);
              self.data = dataSave;
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Lưu và đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-request-edit", "pizo-list-realty-button-element"],
          style: {
            display: "none"
          },
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.data = self.getDataSave();
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Gửi yêu cầu chỉnh sửa" + '</span>']
        }]
      }]
    }]
  });
  this.$view.addChild(NewRealty_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [this.descView()]
  }));
  self.createPromise();
  self.saveButton = NewRealty_$("button.pizo-list-realty-button-save", this.$view);
  self.saveCloseButton = NewRealty_$("button.pizo-list-realty-button-save-close", this.$view);
  self.requestEditButton = NewRealty_$("button.pizo-list-realty-button-request-edit", this.$view);

  if (this.isRequestEdit) {
    self.requestEditButton.style.display = "";
    self.saveButton.style.display = "none";
    self.saveCloseButton.style.display = "none";
  }

  setTimeout(function () {
    self.data = self.getDataSave();
  }, 100);
  return this.$view;
};

NewRealty_NewRealty.prototype.descView = function () {
  this.checkAddress = ModuleDatabase["a" /* default */].getModule("addresses").getLibary("id");
  this.checkStreet = ModuleDatabase["a" /* default */].getModule("streets").getLibary("id");
  this.checkWard = ModuleDatabase["a" /* default */].getModule("wards").getLibary("id");
  this.checkDistrict = ModuleDatabase["a" /* default */].getModule("districts").getLibary("id");
  this.checkState = ModuleDatabase["a" /* default */].getModule("states").getLibary("id");
  var self = this;
  ModuleDatabase["a" /* default */].getModule("users").load().then(function (value) {
    self.checkUser = ModuleDatabase["a" /* default */].getModule("users").getLibary("phone");
    self.checkUserID = ModuleDatabase["a" /* default */].getModule("users").getLibary("id");
  });
  ModuleDatabase["a" /* default */].getModule("contacts").load().then(function (value) {
    self.checkContact = ModuleDatabase["a" /* default */].getModule("contacts").getLibary("phone");
    self.checkContactID = ModuleDatabase["a" /* default */].getModule("contacts").getLibary("id");
  });
  this.containerMap = NewRealty_({
    tag: "div"
  });
  this.contactView = this.contactView();

  var temp = NewRealty_({
    tag: "div",
    "class": "pizo-new-realty-desc",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-desc-content",
      child: [this.containerMap]
    }, {
      tag: "div",
      "class": "pizo-new-realty-desc-infomation",
      child: [{
        tag: "div",
        "class": ["pizo-new-realty-desc-infomation-cell", "center-child"],
        child: [self.convenientView(), self.contactView, self.imageCurrentStaus()]
      }, {
        tag: "div",
        "class": "pizo-new-realty-desc-infomation-cell",
        child: [self.juridicalView(), self.historyView(), self.imageJuridical()]
      }]
    }]
  });

  var container = NewRealty_$("div.pizo-new-realty-desc-content", temp);
  container.insertBefore(this.descViewdetail(), container.firstChild);
  var container = NewRealty_$("div.pizo-new-realty-desc-infomation", temp);
  container.insertBefore(this.detructView(), container.firstChild);
  return temp;
};

NewRealty_NewRealty.prototype.imageJuridical = function () {
  var result = Object.assign({}, modal_drag_drop_manyfiles);
  result.enableClick = true;
  result.setFormatData(function (data) {
    return {
      avatar: "https://4.bp.blogspot.com/-AYOvATaN5wQ/V5sRt4Kim_I/AAAAAAAAF8s/QWR5ZHQ8N38ByHRLP2nOCJySfMmJur5sACLcB/s280/sieu-nhan-cuu-the-gioi.jpg",
      userName: "Bùi Phạm Minh Thi",
      src: data.src,
      date: data.created,
      note: ""
    };
  });
  var container = result.containGetImage();
  result.setBackWhite();
  result.createEvent();

  var temp = NewRealty_({
    tag: "div",
    "class": "pizo-new-realty-image",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-image-tab",
      props: {
        innerHTML: "Hình ảnh pháp lý"
      }
    }, {
      tag: "div",
      "class": "pizo-new-realty-image-content",
      child: [container]
    }]
  });

  this.viewJuridical = result;
  var arr = [];
  var first = "";

  if (this.data !== undefined) {
    for (var i = 0; i < this.data.original.image.length; i++) {
      if (first !== "") arr.push(first);
      arr.push({
        id: parseInt(this.data.original.image[i])
      });

      if (first == "") {
        first = "||";
      }
    }
  }

  if (arr.length > 0) ModuleDatabase["a" /* default */].getModule("image").load({
    WHERE: arr
  }).then(function (values) {
    for (var i = 0; i < values.length; i++) {
      if (values[i].type == 0) result.addFile(values[i], "https://lab.daithangminh.vn/home_co/pizo/assets/upload/");
    }
  });
  return temp;
};

NewRealty_NewRealty.prototype.imageCurrentStaus = function () {
  var result = Object.assign({}, modal_drag_drop_manyfiles);
  result.enableClick = true;
  result.enableCheckBox = true;
  result.setFormatData(function (data) {
    return {
      avatar: "https://4.bp.blogspot.com/-AYOvATaN5wQ/V5sRt4Kim_I/AAAAAAAAF8s/QWR5ZHQ8N38ByHRLP2nOCJySfMmJur5sACLcB/s280/sieu-nhan-cuu-the-gioi.jpg",
      userName: "Bùi Phạm Minh Thi",
      src: data.src,
      date: data.created,
      note: ""
    };
  });
  var container = result.containGetImage();
  result.createEvent();

  var temp = NewRealty_({
    tag: "div",
    "class": "pizo-new-realty-image",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-image-tab",
      props: {
        innerHTML: "Hình ảnh hiện trạng"
      }
    }, {
      tag: "div",
      "class": "pizo-new-realty-image-content",
      child: [container]
    }]
  });

  this.viewCurrentStaus = result;
  var arr = [];
  var first = "";

  if (this.data !== undefined) {
    for (var i = 0; i < this.data.original.image.length; i++) {
      if (first !== "") arr.push(first);
      arr.push({
        id: parseInt(this.data.original.image[i])
      });

      if (first == "") {
        first = "||";
      }
    }
  }

  if (arr.length > 0) ModuleDatabase["a" /* default */].getModule("image").load({
    WHERE: arr
  }).then(function (values) {
    for (var i = 0; i < values.length; i++) {
      if (values[i].type == 1) result.addFile(values[i], "https://lab.daithangminh.vn/home_co/pizo/assets/upload/");
    }
  });
  return temp;
};

NewRealty_NewRealty.prototype.descViewImageThumnail = function (dataImage, index, promiseLazyLoad) {
  var temp = NewRealty_({
    tag: "div",
    "class": ["pizo-new-relty-desc-content-thumnail", "pizo-new-realty-dectruct-content-area-size-zone"],
    child: [{
      // tag:"div",
      // class:"mtm",
      // child:[
      //     {
      //         tag:"div",
      //         style:{
      //             position:"relative"
      //         }
      //     }
      // ]
      tag: "img",
      props: {
        src: dataImage[0].src
      }
    }],
    on: {
      click: function click(event) {
        document.body.appendChild(descViewImagePreview(dataImage, index, promiseLazyLoad)); // xmlModalDragImage.createModal(document.body,function(){
        //     
        // });
      }
    }
  });

  switch (dataImage.length) {
    case 1:
      break;

    case 2: //chia doi

    case 3:
    case 4:
    case 5:
  }

  return temp;
};

NewRealty_NewRealty.prototype.itemAddress = function () {
  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
    addressid: 0
  };
  var lat = arguments.length > 1 ? arguments[1] : undefined;
  var lng = arguments.length > 2 ? arguments[2] : undefined;
  var addressid;
  if (data.addressid !== undefined) addressid = data.addressid;else addressid = 0;
  var self = this;

  var text = NewRealty_({
    text: "Địa chỉ"
  });

  var important = NewRealty_({
    tag: "span",
    "class": "pizo-new-realty-location-detail-row-label-important",
    props: {
      innerHTML: "*"
    }
  });

  var temp = NewRealty_({
    tag: "div",
    "class": ["pizo-new-realty-desc-detail-row", "addressItemCheck"],
    child: [{
      tag: "span",
      "class": "pizo-new-realty-desc-detail-1-row-label",
      child: [text, important]
    }, {
      tag: "input",
      "class": ["pizo-new-realty-desc-detail-1-row-input"],
      on: {
        click: function click(event) {
          this.blur();
          var selfElement = this;
          var childNode = locationView(function (value) {
            selfElement.value = value.input.value;
            temp.data = childNode.getDataCurrent();
            childRemove.selfRemove();

            if (temp.data.lat != undefined && temp.data.lng != undefined) {
              self.containerMap.addMoveMarker([temp.data.lat, temp.data.lng], false);
            }
          }, temp.data);
          childNode.addLatLng();

          var childRemove = NewRealty_({
            tag: "modal",
            on: {
              click: function click(event) {
                var target = event.target;

                while (target !== childNode && target !== childRemove && target !== document.body) {
                  target = target.parentNode;
                }

                if (target === childRemove) childRemove.selfRemove();
              }
            },
            child: [childNode]
          });

          temp.appendChild(childRemove);
        }
      }
    }]
  });

  if (addressid != 0) {
    var number = this.checkAddress[addressid].addressnumber;
    var street = this.checkStreet[this.checkAddress[addressid].streetid].name;
    var ward = this.checkWard[this.checkAddress[addressid].wardid].name;
    var district = this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].name;
    var state = this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].stateid].name;
    NewRealty_$("input.pizo-new-realty-desc-detail-1-row-input", temp).value = number + " " + street + ", " + ward + ", " + district + ", " + state;
    temp.data = {
      id: data.id,
      number: this.checkAddress[addressid].addressnumber,
      street: this.checkStreet[this.checkAddress[addressid].streetid].name + "_" + this.checkAddress[addressid].streetid,
      ward: this.checkWard[this.checkAddress[addressid].wardid].name + "_" + this.checkAddress[addressid].wardid,
      district: this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].name + "_" + this.checkWard[this.checkAddress[addressid].wardid].districtid,
      state: this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].stateid].name + "_" + this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].stateid,
      lng: lng,
      lat: lat
    };
  }

  return temp;
};

NewRealty_NewRealty.prototype.itemAddressOld = function () {
  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
    addressid_old: 0
  };
  var addressid;
  if (data.addressid_old !== undefined) addressid = data.addressid_old;else addressid = 0;

  var text = NewRealty_({
    text: "Địa chỉ cũ"
  });

  var temp = NewRealty_({
    tag: "div",
    "class": ["pizo-new-realty-desc-detail-row", "addressItemCheck"],
    child: [{
      tag: "span",
      "class": "pizo-new-realty-desc-detail-1-row-label",
      child: [text]
    }, {
      tag: "input",
      "class": ["pizo-new-realty-desc-detail-1-row-input"],
      on: {
        click: function click(event) {
          this.blur();
          var selfElement = this;
          var childNode = locationView(function (value) {
            selfElement.value = value.input.value;
            temp.data = childNode.getDataCurrent();
            childRemove.selfRemove();
          }, temp.data, function () {
            selfElement.value = "";
            temp.data = undefined;
            childRemove.selfRemove();
          });

          var childRemove = NewRealty_({
            tag: "modal",
            on: {
              click: function click(event) {
                var target = event.target;

                while (target !== childNode && target !== childRemove && target !== document.body) {
                  target = target.parentNode;
                }

                if (target === childRemove) childRemove.selfRemove();
              }
            },
            child: [childNode]
          });

          temp.appendChild(childRemove);
        }
      }
    }]
  });

  if (addressid != 0) {
    var number = this.checkAddress[addressid].addressnumber;
    var street = this.checkStreet[this.checkAddress[addressid].streetid].name;
    var ward = this.checkWard[this.checkAddress[addressid].wardid].name;
    var district = this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].name;
    var state = this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].stateid].name;
    NewRealty_$("input.pizo-new-realty-desc-detail-1-row-input", temp).value = number + " " + street + ", " + ward + ", " + district + ", " + state;
    temp.data = {
      number: this.checkAddress[addressid].addressnumber,
      street: this.checkStreet[this.checkAddress[addressid].streetid].name + "_" + this.checkAddress[addressid].streetid,
      ward: this.checkWard[this.checkAddress[addressid].wardid].name + "_" + this.checkAddress[addressid].wardid,
      district: this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].name + "_" + this.checkWard[this.checkAddress[addressid].wardid].districtid,
      state: this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].stateid].name + "_" + this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].stateid
    };
  }

  return temp;
}; // NewRealty.prototype.itemAddress = function (addressid = 0) {
//     var self = this;
//     var text = _({ text: "Địa chỉ" });
//     var important = _({
//         tag: "span",
//         class: "pizo-new-realty-location-detail-row-label-important",
//         props: {
//             innerHTML: "*"
//         }
//     });
//     var temp = _({
//         tag: "div",
//         class: ["pizo-new-realty-desc-detail-row", "addressItemCheck"],
//         child: [
//             {
//                 tag: "span",
//                 class: "pizo-new-realty-desc-detail-1-row-label",
//                 child: [
//                     text,
//                     important
//                 ]
//             },
//             {
//                 tag: "input",
//                 class: ["pizo-new-realty-desc-detail-1-row-input"],
//                 on: {
//                     click: function (event) {
//                         this.blur();
//                         var selfElement = this;
//                         var childNode = locationView(function (value) {
//                             selfElement.value = value.input.value;
//                             temp.data = childNode.getDataCurrent();
//                             temp.selfRemoveChild(value.input.value, childNode);
//                             childRemove.selfRemove();
//                         },temp.data)
//                         var childRemove = _({
//                             tag: "modal",
//                             on: {
//                                 click: function (event) {
//                                     var target = event.target;
//                                     while (target !== childNode && target !== childRemove && target !== document.body)
//                                         target = target.parentNode;
//                                     if (target === childRemove)
//                                         childRemove.selfRemove();
//                                 }
//                             },
//                             child: [
//                                 childNode
//                             ]
//                         })
//                         temp.appendChild(childRemove)
//                     }
//                 }
//             }
//         ]
//     })
//     temp.label = text;
//     temp.important = important;
//     temp.updateIndex = function (index) {
//         temp.index = index;
//         if (index == 0)
//         {
//             index = "";
//         }else
//         temp.important.style.display = "none";
//         temp.label.data = "Địa chỉ " + index;
//     }
//     temp.parentUpdateIndex = function () {
//         var k = 0;
//         for (var i = 0; i < temp.parentNode.childNodes.length; i++) {
//             if (!temp.parentNode.childNodes[i].classList.contains("addressItemCheck"))
//                 return;
//             temp.parentNode.childNodes[i].updateIndex(k++);
//         }
//     }
//     temp.selfRemoveChild = function (value,childNode) {
//         temp.value = value;
//         var next = temp;
//         while (next.nextSibling!==null)
//             next = next.nextSibling;
//         if (value === "") {
//             switch (temp.index) {
//                 case undefined:
//                 case 0:
//                     if (temp.nextSibling.classList.contains("addressItemCheck")&&(temp.nextSibling.value === "" || temp.nextSibling.value === undefined)) {
//                         temp.nextSibling.selfRemove();
//                     }
//                     var containerMap = _({
//                         tag: "div"
//                     })
//                     self.containerMap.parentNode.replaceChild(containerMap, self.containerMap);
//                     self.containerMap = containerMap;
//                     break;
//                 case 1:
//                 case 2:
//                     if (next !== temp){
//                         if (next.value === "" || next.value === undefined) {
//                             var prev = temp.previousSibling;
//                             temp.selfRemove();
//                             prev.parentUpdateIndex();
//                         } else {
//                             temp.parentNode.insertBefore(temp, next.nextSibling);
//                             temp.parentUpdateIndex();
//                         }
//                     }
//                     break;
//                 case 3:
//                     break;
//             }
//             return true;
//         } else {
//             switch(temp.index)
//             {
//                 case undefined:
//                 case 0:
//                     if (childNode.map.currentMarker !== undefined) {
//                         childNode.map.currentMarker.setDraggable(false);
//                         var latLng = childNode.map.currentMarker.getPosition();
//                         childNode.map.map.setCenter(latLng);
//                         self.containerMap.parentNode.replaceChild(childNode.map, self.containerMap);
//                         self.containerMap = childNode.map;
//                     }
//                     if(next === temp)
//                     {
//                         temp.parentNode.insertBefore(self.itemAddress(), temp.nextSibling);
//                         temp.parentUpdateIndex();
//                     }
//                     break;
//                 case 1:
//                 case 2:
//                     if(next === temp)
//                     {
//                         temp.parentNode.insertBefore(self.itemAddress(), temp.nextSibling);
//                         temp.parentUpdateIndex();
//                     }
//                     break;
//             }
//             return false;
//         }
//     }
//     this.inputAddress = $('input.pizo-new-realty-desc-detail-1-row-input',temp);
//     if(addressid!==0)
//     {
//         var number = this.checkAddress[addressid].addressnumber;
//         var street = this.checkStreet[this.checkAddress[addressid].streetid].name;
//         var ward = this.checkWard[this.checkAddress[addressid].wardid].name;
//         var district = this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].name;
//         var state = this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].stateid].name;
//         $("input.pizo-new-realty-desc-detail-1-row-input",temp).value = number+" "+street+", "+ward+", "+district+", "+state;
//         temp.data = {
//             id:addressid,
//             number:this.checkAddress[addressid].addressnumber,
//             street:this.checkStreet[this.checkAddress[addressid].streetid].name+"_"+this.checkAddress[addressid].streetid,
//             ward:this.checkWard[this.checkAddress[addressid].wardid].name+"_"+this.checkAddress[addressid].wardid,
//             district:this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].name+"_"+this.checkWard[this.checkAddress[addressid].wardid].districtid,
//             state:this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].stateid].name+"_"+this.checkDistrict[this.checkWard[this.checkAddress[addressid].wardid].districtid].stateid,
//             lng:this.checkAddress[addressid].lng,
//             lat:this.checkAddress[addressid].lat,
//         }
//     }
//     return temp;
// }


NewRealty_NewRealty.prototype.descViewdetail = function () {
  var self = this;

  var containerAddress = NewRealty_({
    tag: "div",
    style: {
      marginBottom: "10px"
    }
  });

  if (this.data !== undefined) {
    var addressCurrent = this.itemAddress(this.data.original, this.data.original.lat, this.data.original.lng);
    containerAddress.appendChild(addressCurrent);
    var map = new MapView_MapView();
    var position = [this.data.original.lat, this.data.original.lng];
    position["data"] = this.data.original;
    map.addMoveMarker(position, false);
    map.currentMarker.setDraggable(false);
    map.activePlanningMap();
    this.containerMap.parentNode.replaceChild(map, this.containerMap);
    this.containerMap = map;
    var addressOld = this.itemAddressOld(this.data.original);
    containerAddress.appendChild(addressOld);
  } else {
    var addressCurrent = this.itemAddress();
    containerAddress.appendChild(addressCurrent);
    var map = new MapView_MapView();
    map.activePlanningMap();
    this.containerMap.parentNode.replaceChild(map, this.containerMap);
    this.containerMap = map;
    var addressOld = this.itemAddressOld();
    containerAddress.appendChild(addressOld);
  }

  var temp = NewRealty_({
    tag: "div",
    "class": ["pizo-new-realty-desc-detail", "pizo-new-realty-dectruct-content-area-size-zone"],
    child: [containerAddress, {
      tag: "div",
      "class": "pizo-new-realty-desc-detail-row",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-dectruct-content-area-size-zone",
        child: [{
          tag: "div",
          "class": "pizo-new-realty-desc-detail-row",
          child: [{
            tag: "span",
            "class": "pizo-new-realty-desc-detail-row-cell-label",
            props: {
              innerHTML: "Tên"
            }
          }, {
            tag: "input",
            "class": "pizo-new-realty-desc-detail-row-cell-input"
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-new-realty-dectruct-content-area-size-zone",
        child: [{
          tag: "div",
          "class": "pizo-new-realty-desc-detail-row",
          child: [{
            tag: "span",
            "class": "pizo-new-realty-desc-detail-row-cell-label",
            props: {
              innerHTML: "Hiện trạng"
            },
            child: [{
              tag: "span",
              "class": "pizo-new-realty-location-detail-row-label-important",
              props: {
                innerHTML: "*"
              }
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-cell-menu-1",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-1-span",
                props: {
                  innerHTML: "Còn bán"
                }
              }, {
                tag: "checkbox",
                "class": "pizo-new-realty-desc-detail-row-menu-1-checkbox"
              }]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-cell-menu-2",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-2-span",
                props: {
                  innerHTML: "Còn cho thuê"
                }
              }, {
                tag: "checkbox",
                "class": "pizo-new-realty-desc-detail-row-menu-2-checkbox",
                on: {
                  change: function change(event) {
                    if (this.checked == false) self.priceRent.style.display = "none";else self.priceRent.style.display = "";
                  }
                }
              }]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row-cell-menu-3",
            style: {
              display: "none"
            },
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-desc-detail-row-cell-menu-3-span",
                props: {
                  innerHTML: "Kiểm duyệt"
                }
              }, {
                tag: "switch",
                "class": "pizo-new-realty-desc-detail-row-menu-3-checkbox",
                props: {
                  checked: false
                }
              }]
            }]
          }]
        }]
      }]
    }, {
      tag: "div",
      "class": "pizo-new-realty-desc-detail-row",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-desc-detail-row-label",
        props: {
          innerHTML: "Mô tả"
        }
      }, {
        tag: "textarea",
        style: {
          height: "15em"
        },
        "class": "pizo-new-realty-desc-detail-row-input",
        on: {
          click: function click() {}
        }
      }]
    }]
  });

  this.inputName = NewRealty_$('input.pizo-new-realty-desc-detail-row-cell-input', temp);
  this.inputLease = NewRealty_$('div.pizo-new-realty-desc-detail-row-menu-2-checkbox', temp);
  this.inputSell = NewRealty_$('div.pizo-new-realty-desc-detail-row-menu-1-checkbox', temp);
  this.inputCensorship = NewRealty_$('label.pizo-new-realty-desc-detail-row-menu-3-checkbox', temp);
  this.containerCensorship = NewRealty_$('div.pizo-new-realty-desc-detail-row-cell-menu-3', temp);
  this.inputContent = NewRealty_$('textarea.pizo-new-realty-desc-detail-row-input', temp);
  this.addressCurrent = addressCurrent;
  this.addressOld = addressOld;
  this.containerAddress = containerAddress;
  return temp;
};

NewRealty_NewRealty.prototype.detructView = function () {
  var unitHeight = unit_Long(function (event) {
    var height = NewRealty_$('input.pizo-new-realty-dectruct-content-area-height', temp);
    height.value = height.value * event.lastValue / event.value;
  });
  var unitWidth = unit_Long(function (event) {
    var width = NewRealty_$('input.pizo-new-realty-dectruct-content-area-width', temp);
    width.value = width.value * event.lastValue / event.value;
  });
  var unit_Zone_1 = unit_Zone(function (event) {
    var area1 = NewRealty_$('input.pizo-new-realty-dectruct-content-area-1', temp);
    area1.value = area1.value * event.lastValue / event.value;
  });
  var unit_Zone_2 = unit_Zone(function (event) {
    var area2 = NewRealty_$('input.pizo-new-realty-dectruct-content-area-2', temp);
    area2.value = area2.value * event.lastValue / event.value;
  });
  var unit_Zone_all = unit_Zone(function (event) {
    var area2 = NewRealty_$('pizo-new-realty-dectruct-content-area-all', temp);
    area2.value = area2.value * event.lastValue / event.value;
  });
  var unitWidthRoad = unit_Long(function (event) {
    var width = NewRealty_$('input.pizo-new-realty-dectruct-content-area-access', temp);
    width.value = width.value * event.lastValue / event.value;
  });
  var self = this;

  var priceRent = NewRealty_({
    tag: "div",
    "class": "pizo-new-realty-dectruct-content-area-right",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-desc-detail-row",
      child: [{
        tag: "span",
        "class": ["pizo-new-realty-detruct-content-price-rent-label", "pizo-new-realty-detruct-content-area-label"],
        props: {
          innerHTML: "Giá thuê tháng"
        },
        child: [{
          tag: "span",
          "class": "pizo-new-realty-location-detail-row-label-important",
          props: {
            innerHTML: "*"
          }
        }]
      }, {
        tag: "input",
        "class": ["pizo-new-realty-detruct-content-price-rent", "pizo-new-realty-dectruct-input"],
        props: {
          value: 0
        },
        on: {
          input: function input(event) {
            this.value = FormatFunction_formatNumber(this.value);
          },
          blur: function blur(event) {
            this.value = reFormatNumber(this.value);
          }
        }
      }, {
        tag: "selectmenu",
        "class": "pizo-new-realty-detruct-content-price-rent-unit",
        on: {
          change: function change(event) {
            var price = NewRealty_$('input.pizo-new-realty-detruct-content-price-rent', temp);
            price.value = price.value * event.lastValue / event.value;
          }
        },
        props: {
          items: [{
            text: "VND",
            value: 1
          }, {
            text: "USD",
            value: 23180
          }]
        }
      }]
    }]
  });

  var important = NewRealty_({
    tag: "span",
    "class": "pizo-new-realty-location-detail-row-label-important",
    props: {
      innerHTML: "*"
    }
  });

  var important1 = NewRealty_({
    tag: "span",
    "class": "pizo-new-realty-location-detail-row-label-important",
    props: {
      innerHTML: "*"
    }
  });

  var temp = NewRealty_({
    tag: "div",
    "class": "pizo-new-realty-dectruct",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-dectruct-tab",
      props: {
        innerHTML: "Thông tin xây dựng"
      }
    }, {
      tag: "div",
      "class": "pizo-new-realty-dectruct-content",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-dectruct-content-area",
        child: [{
          tag: "span",
          "class": "pizo-new-realty-detruct-content-area-label",
          props: {
            innerHTML: "Diện tích"
          }
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-dectruct-content-area-height-label",
                props: {
                  innerHTML: "Ngang"
                },
                child: [important]
              }, {
                tag: "input",
                "class": ["pizo-new-realty-dectruct-content-area-height", "pizo-new-realty-dectruct-input"],
                on: {
                  change: function change(event) {
                    var valueA = 0;
                    var valueB = 0;

                    if (this.value !== "") {
                      valueA = this.value * this.nextSibling.value;
                    }

                    var width = NewRealty_$('input.pizo-new-realty-dectruct-content-area-width', temp);

                    if (width.value !== "") {
                      valueB = width.value * width.nextSibling.value;
                    }

                    var input1 = NewRealty_$('input.pizo-new-realty-dectruct-content-area-1', temp);
                    input1.value = valueA * valueB / input1.nextSibling.value;
                    var input2 = NewRealty_$('input.pizo-new-realty-dectruct-content-area-2', temp);
                    input2.value = valueA * valueB / input2.nextSibling.value;
                    var inputall = NewRealty_$('input.pizo-new-realty-dectruct-content-area-all', temp);
                    inputall.value = valueA * valueB / input2.nextSibling.value;
                    inputall.emit("change");
                  }
                },
                attr: {
                  type: "number",
                  min: 0
                }
              }, unitHeight]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-dectruct-content-area-width-label",
                props: {
                  innerHTML: "Dài"
                },
                child: [important1]
              }, {
                tag: "input",
                "class": ["pizo-new-realty-dectruct-content-area-width", "pizo-new-realty-dectruct-input"],
                on: {
                  change: function change(event) {
                    var valueA = 0;
                    var valueB = 0;

                    if (this.value !== "") {
                      valueA = this.value * this.nextSibling.value;
                    }

                    var height = NewRealty_$('input.pizo-new-realty-dectruct-content-area-height', temp);

                    if (height.value !== "") {
                      valueB = height.value * height.nextSibling.value;
                    }

                    var input1 = NewRealty_$('input.pizo-new-realty-dectruct-content-area-1', temp);
                    input1.value = valueA * valueB / input1.nextSibling.value;
                    var input2 = NewRealty_$('input.pizo-new-realty-dectruct-content-area-2', temp);
                    input2.value = valueA * valueB / input2.nextSibling.value;
                    var inputall = NewRealty_$('input.pizo-new-realty-dectruct-content-area-all', temp);
                    inputall.value = valueA * valueB / input2.nextSibling.value;
                    inputall.emit("change");
                  }
                },
                attr: {
                  type: "number",
                  min: 0
                }
              }, unitWidth]
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-dectruct-content-area-1-label",
                props: {
                  innerHTML: "Đất XD"
                }
              }, {
                tag: "input",
                "class": ["pizo-new-realty-dectruct-content-area-1", "pizo-new-realty-dectruct-input"],
                attr: {
                  type: "number",
                  min: 0
                }
              }, unit_Zone_1]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-dectruct-content-area-2-label",
                props: {
                  innerHTML: "Sàn XD"
                }
              }, {
                tag: "input",
                "class": ["pizo-new-realty-dectruct-content-area-2", "pizo-new-realty-dectruct-input"],
                attr: {
                  type: "number",
                  min: 0
                }
              }, unit_Zone_2]
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-dectruct-content-area-1-label",
                props: {
                  innerHTML: "Diện tích"
                }
              }, {
                tag: "input",
                "class": ["pizo-new-realty-dectruct-content-area-all", "pizo-new-realty-dectruct-input"],
                on: {
                  change: function change(event) {
                    var inputValue = NewRealty_$("input.pizo-new-realty-detruct-content-price-per", temp);
                    var price = NewRealty_$('input.pizo-new-realty-detruct-content-price', temp);
                    var priceUnit = NewRealty_$('div.pizo-new-realty-detruct-content-price-unit', temp);
                    var areaValue = NewRealty_$('input.pizo-new-realty-dectruct-content-area-all', temp);
                    var areaValueUnit = unit_Zone_all;
                    inputValue.value = price.value * priceUnit.value / (areaValue.value * areaValueUnit.value) * 1000;
                  }
                },
                attr: {
                  type: "number",
                  min: 0
                }
              }, unit_Zone_all]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-dectruct-content-area-2-label",
                props: {
                  innerHTML: "Kết cấu"
                }
              }, {
                tag: "selectmenu",
                "class": "pizo-new-realty-detruct-content-structure",
                on: {
                  change: function change(event) {
                    if (this.value == 3) self.advanceDetruct.style.display = "";else self.advanceDetruct.style.display = "none";
                    if (this.value >= 2) self.simpleDetruct.style.display = "";else self.simpleDetruct.style.display = "none";
                  }
                },
                props: {
                  items: [{
                    text: "Chưa xác định",
                    value: 0
                  }, {
                    text: "Đất trống",
                    value: 1
                  }, {
                    text: "Cấp 4",
                    value: 2
                  }, {
                    text: "Sẳn *",
                    value: 3
                  }]
                }
              }]
            }]
          }]
        }]
      }, {
        tag: "div",
        "class": ["pizo-new-realty-dectruct-content-area", "pizo-new-realty-dectruct-content-area-simple"],
        child: [{
          tag: "span",
          "class": "pizo-new-realty-detruct-content-area-label",
          style: {
            marginBottom: "0.7143rem"
          },
          props: {
            innerHTML: "Quy mô kết cấu"
          }
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-advance",
          child: [{
            tag: "div",
            "class": ["pizo-new-realty-dectruct-content-area-size"],
            child: [{
              tag: "div",
              "class": ["pizo-new-realty-dectruct-content-area-size-zone"],
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "span",
                  "class": "pizo-new-realty-dectruct-content-area-floor-label",
                  props: {
                    innerHTML: "Tầng"
                  }
                }, {
                  tag: "input",
                  "class": ["pizo-new-realty-dectruct-content-area-floor", "pizo-new-realty-dectruct-input"],
                  attr: {
                    type: "number",
                    min: 0,
                    step: 1
                  },
                  props: {
                    value: 0
                  }
                }]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "span",
                  "class": "pizo-new-realty-dectruct-content-area-basement-label",
                  props: {
                    innerHTML: "Hầm"
                  }
                }, {
                  tag: "input",
                  "class": ["pizo-new-realty-dectruct-content-area-basement", "pizo-new-realty-dectruct-input"],
                  attr: {
                    type: "number",
                    min: 0,
                    step: 1
                  },
                  props: {
                    value: 0
                  }
                }]
              }]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-selectbox",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "div",
                  "class": "pizo-new-realty-dectruct-content-area-selectbox-child",
                  child: [{
                    tag: "span",
                    props: {
                      innerHTML: "Lửng"
                    }
                  }, {
                    tag: "checkbox",
                    "class": "pizo-new-realty-dectruct-content-area-selectbox-child-1"
                  }]
                }, {
                  tag: "div",
                  "class": "pizo-new-realty-dectruct-content-area-selectbox-child",
                  child: [{
                    tag: "span",
                    props: {
                      innerHTML: "Sân thượng"
                    }
                  }, {
                    tag: "checkbox",
                    "class": "pizo-new-realty-dectruct-content-area-selectbox-child-2"
                  }]
                }]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "div",
                  "class": "pizo-new-realty-dectruct-content-area-selectbox-child",
                  child: [{
                    tag: "span",
                    props: {
                      innerHTML: "Ban công"
                    }
                  }, {
                    tag: "checkbox",
                    "class": "pizo-new-realty-dectruct-content-area-selectbox-child-3"
                  }]
                }, {
                  tag: "div",
                  "class": "pizo-new-realty-dectruct-content-area-selectbox-child",
                  child: [{
                    tag: "span",
                    props: {
                      innerHTML: "Thang máy"
                    }
                  }, {
                    tag: "checkbox",
                    "class": "pizo-new-realty-dectruct-content-area-selectbox-child-4"
                  }]
                }]
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-dectruct-content-area-bedroom-label",
                props: {
                  innerHTML: "Phòng ngủ"
                }
              }, {
                tag: "input",
                "class": ["pizo-new-realty-dectruct-content-area-bedroom", "pizo-new-realty-dectruct-input"],
                attr: {
                  type: "number",
                  min: 0,
                  step: 1
                },
                props: {
                  value: 0
                }
              }]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-dectruct-content-area-living-label",
                props: {
                  innerHTML: "Phòng khách"
                }
              }, {
                tag: "input",
                "class": ["pizo-new-realty-dectruct-content-area-living", "pizo-new-realty-dectruct-input"],
                attr: {
                  type: "number",
                  min: 0,
                  step: 1
                },
                props: {
                  value: 0
                }
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-dectruct-content-area-kitchen-label",
                props: {
                  innerHTML: "Bếp"
                }
              }, {
                tag: "input",
                "class": ["pizo-new-realty-dectruct-content-area-kitchen", "pizo-new-realty-dectruct-input"],
                attr: {
                  type: "number",
                  min: 0,
                  step: 1
                },
                props: {
                  value: 0
                }
              }]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-dectruct-content-area-toilet-label",
                props: {
                  innerHTML: "Toilet"
                }
              }, {
                tag: "input",
                "class": ["pizo-new-realty-dectruct-content-area-toilet", "pizo-new-realty-dectruct-input"],
                attr: {
                  type: "number",
                  min: 0,
                  step: 1
                },
                props: {
                  value: 0
                }
              }]
            }]
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-new-realty-dectruct-content-area",
        child: [{
          tag: "div",
          "class": ["pizo-new-realty-dectruct-content-area-size-zone", "no-margin-style"],
          child: [{
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-detruct-content-area-label",
              props: {
                innerHTML: "Hướng"
              }
            }, {
              tag: "selectmenu",
              "class": "pizo-new-realty-detruct-content-direction",
              props: {
                items: [{
                  text: "Chưa xác định",
                  value: 0
                }, {
                  text: "Đông",
                  value: 6
                }, {
                  text: "Tây",
                  value: 4
                }, {
                  text: "Nam",
                  value: 2
                }, {
                  text: "Bắc",
                  value: 8
                }, {
                  text: "Đông Bắc",
                  value: 9
                }, {
                  text: "Đông Nam",
                  value: 3
                }, {
                  text: "Tây Bắc",
                  value: 7
                }, {
                  text: "Tây Nam",
                  value: 1
                }]
              }
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-realty-dectruct-content-area-size-zone", "margin-style"],
          child: [{
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-detruct-content-area-label",
              props: {
                innerHTML: "Loại nhà"
              }
            }, {
              tag: "selectmenu",
              "class": "pizo-new-realty-detruct-content-type",
              props: {
                items: ModuleDatabase["a" /* default */].getModule("type_activehouses").getList("name", "id")
              }
            }]
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-new-realty-dectruct-content-area-right",
        child: [{
          tag: "span",
          "class": "pizo-new-realty-detruct-content-area-label",
          props: {
            innerHTML: "Chiều rộng đường vào"
          }
        }, {
          tag: "input",
          "class": ["pizo-new-realty-dectruct-content-area-access", "pizo-new-realty-dectruct-input"],
          attr: {
            type: "number",
            min: 0,
            step: 1
          },
          props: {
            value: 0
          }
        }, unitWidthRoad]
      }]
    }, {
      tag: "div",
      "class": "pizo-new-realty-dectruct-tab",
      props: {
        innerHTML: "Giá"
      }
    }, {
      tag: "div",
      "class": "pizo-new-realty-dectruct-content",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-dectruct-content-area",
        child: [{
          tag: "div",
          "class": ["pizo-new-realty-dectruct-content-area-size-zone", "no-margin-style"],
          child: [{
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-detruct-content-area-label",
              props: {
                innerHTML: "Giá"
              },
              child: [{
                tag: "span",
                "class": "pizo-new-realty-location-detail-row-label-important",
                props: {
                  innerHTML: "*"
                }
              }]
            }, {
              tag: "input",
              "class": ["pizo-new-realty-detruct-content-price", "pizo-new-realty-dectruct-input"],
              props: {
                value: 0
              },
              on: {
                change: function change(event) {
                  var inputValue = NewRealty_$("input.pizo-new-realty-detruct-content-price-per", temp);
                  var price = NewRealty_$('input.pizo-new-realty-detruct-content-price', temp);
                  var priceUnit = NewRealty_$('div.pizo-new-realty-detruct-content-price-unit', temp);
                  var areaValue = NewRealty_$('input.pizo-new-realty-dectruct-content-area-all', temp);
                  var areaValueUnit = unit_Zone_all;
                  inputValue.value = price.value * priceUnit.value / (areaValue.value * areaValueUnit.value) * 1000;
                }
              }
            }, {
              tag: "selectmenu",
              "class": "pizo-new-realty-detruct-content-price-unit",
              on: {
                change: function change(event) {
                  var price = NewRealty_$('input.pizo-new-realty-detruct-content-price', temp);
                  price.value = price.value * event.lastValue / event.value;
                }
              },
              props: {
                items: [{
                  text: "tỉ",
                  value: 1
                }, {
                  text: "triệu",
                  value: 1 / 1000
                }]
              }
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-realty-dectruct-content-area-size-zone", "margin-style"],
          child: [{
            tag: "div",
            "class": "pizo-new-realty-desc-detail-row",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-detruct-content-area-label",
              props: {
                innerHTML: "Giá m²"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-realty-detruct-content-price-per", "pizo-new-realty-dectruct-input"],
              attr: {
                disabled: ""
              }
            }]
          }]
        }]
      }, priceRent, {
        tag: "div",
        "class": "pizo-new-realty-dectruct-content-area-right",
        child: [{
          tag: "span",
          "class": "pizo-new-realty-detruct-content-area-label",
          props: {
            innerHTML: "Phù hợp khai thác"
          }
        }, {
          tag: "selectbox",
          "class": ["pizo-new-realty-dectruct-content-area-fit", "pizo-new-realty-dectruct-input"],
          props: {
            items: [{
              text: "Để ở",
              value: 1
            }, {
              text: "Cho thuê",
              value: 10
            }, {
              text: "Kinh doanh",
              value: 100
            }, {
              text: "Làm văn phòng",
              value: 1000
            }]
          }
        }]
      }]
    }]
  });

  this.inputHeight = NewRealty_$('input.pizo-new-realty-dectruct-content-area-height.pizo-new-realty-dectruct-input', temp);
  this.inputWidth = NewRealty_$('input.pizo-new-realty-dectruct-content-area-width.pizo-new-realty-dectruct-input', temp);
  this.inputUnitHeight = unitHeight;
  this.inputUnitWidth = unitWidth;
  this.inputZone1 = NewRealty_$('input.pizo-new-realty-dectruct-content-area-1.pizo-new-realty-dectruct-input', temp);
  this.inputZone2 = NewRealty_$('input.pizo-new-realty-dectruct-content-area-2.pizo-new-realty-dectruct-input', temp);
  this.inputUnitZone1 = unit_Zone_1;
  this.inputUnitZone2 = unit_Zone_2;
  this.inputZoneAll = NewRealty_$('input.pizo-new-realty-dectruct-content-area-all', temp);
  this.inputUnitZoneAll = unit_Zone_all;
  this.inputPrice = NewRealty_$('input.pizo-new-realty-detruct-content-price', temp);
  this.inputUnitPrice = NewRealty_$('div.pizo-new-realty-detruct-content-price-unit', temp);
  this.inputPriceRent = NewRealty_$('input.pizo-new-realty-detruct-content-price-rent', temp);
  this.inputPriceRentUnit = NewRealty_$('div.pizo-new-realty-detruct-content-price-rent-unit', temp);
  this.inputFit = NewRealty_$('div.pizo-new-realty-dectruct-content-area-fit', temp);
  this.direction = NewRealty_$('div.pizo-new-realty-detruct-content-direction', temp);
  this.structure = NewRealty_$('div.pizo-new-realty-detruct-content-structure', temp);
  this.type = NewRealty_$('div.pizo-new-realty-detruct-content-type', temp);
  this.inputWidthRoad = NewRealty_$('input.pizo-new-realty-dectruct-content-area-access', temp);
  this.inputUnitWidthRoad = unitWidthRoad;
  this.inputBedroom = NewRealty_$('input.pizo-new-realty-dectruct-content-area-bedroom', temp);
  this.inputKitchen = NewRealty_$('input.pizo-new-realty-dectruct-content-area-kitchen', temp);
  this.inputToilet = NewRealty_$('input.pizo-new-realty-dectruct-content-area-toilet', temp);
  this.inputLiving = NewRealty_$('input.pizo-new-realty-dectruct-content-area-living', temp);
  this.inputBasement = NewRealty_$('input.pizo-new-realty-dectruct-content-area-basement', temp);
  this.inputFloor = NewRealty_$('input.pizo-new-realty-dectruct-content-area-floor', temp);
  this.priceRent = priceRent;
  this.advanceDetruct = NewRealty_$("div.pizo-new-realty-dectruct-content-area-advance", temp);
  this.simpleDetruct = NewRealty_$("div.pizo-new-realty-dectruct-content-area-simple", temp);
  this.advanceDetruct1 = NewRealty_$("div.pizo-new-realty-dectruct-content-area-selectbox-child-1", temp);
  this.advanceDetruct2 = NewRealty_$("div.pizo-new-realty-dectruct-content-area-selectbox-child-2", temp);
  this.advanceDetruct3 = NewRealty_$("div.pizo-new-realty-dectruct-content-area-selectbox-child-3", temp);
  this.advanceDetruct4 = NewRealty_$("div.pizo-new-realty-dectruct-content-area-selectbox-child-4", temp);

  if (this.data !== undefined) {
    var original = this.data.original;
    this.inputHeight.value = original.height;
    this.inputWidth.value = original.width;
    this.inputZone1.value = original.landarea;
    this.inputZone2.value = original.floorarea;
    this.inputZoneAll.value = original.acreage;
    this.direction.value = original.direction;
    this.type.value = original.type;
    this.inputFit.value = original.fit;
    this.inputWidthRoad.value = original.roadwidth;
    this.inputFloor.value = original.floor;
    this.inputBasement.value = original.basement;
    this.inputBedroom.value = original.bedroom;
    this.inputLiving.value = original.living;
    this.inputToilet.value = original.toilet;
    this.inputKitchen.value = original.kitchen;
    this.inputPrice.value = original.price;
    this.inputPriceRent.value = original.pricerent;
    this.structure.value = original.structure;
    this.structure.emit("change");
    this.inputName.value = original.name;
    var checkStatus = parseInt(original.salestatus);
    this.inputLease.checked = parseInt(checkStatus / 10) == 1 ? true : false;
    this.inputSell.checked = parseInt(checkStatus % 10) == 1 ? true : false;
    if (this.inputSell.checked == true) this.priceRent.style.display = "none";
    this.inputContent.value = original.content;
    this.inputFit.values = formatFit(parseInt(original.fit));
    this.inputPrice.emit("change");
    var advanceDetruct = this.data.original.advancedetruct;
    this.advanceDetruct1.checked = advanceDetruct % 10 ? true : false;
    advanceDetruct = parseInt(advanceDetruct / 10);
    this.advanceDetruct2.checked = advanceDetruct % 10 ? true : false;
    advanceDetruct = parseInt(advanceDetruct / 10);
    this.advanceDetruct3.checked = advanceDetruct % 10 ? true : false;
    advanceDetruct = parseInt(advanceDetruct / 10);
    this.advanceDetruct4.checked = advanceDetruct % 10 == 1 ? true : false;
    this.inputCensorship.checked = parseInt(original.censorship) == 1 ? true : false;

    if (this.data !== undefined) {
      this.containerCensorship.style.display = "";
    }
  }

  return temp;
};

NewRealty_NewRealty.prototype.setCensorship = function () {
  this.isCensorship = true;
};

NewRealty_NewRealty.prototype.setRequestEdit = function () {
  this.isRequestEdit = true;
};

NewRealty_NewRealty.prototype.getDataSave = function () {
  var isCheck = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  var fitUpdate = 0;
  if (this.inputFit.values.length !== 0) fitUpdate = this.inputFit.values.reduce(function (a, b) {
    return a + b;
  });
  var advanceDetruct = 0;
  advanceDetruct += this.advanceDetruct1.checked ? 1 : 0;
  advanceDetruct += this.advanceDetruct2.checked ? 10 : 0;
  advanceDetruct += this.advanceDetruct3.checked ? 100 : 0;
  advanceDetruct += this.advanceDetruct4.checked ? 1000 : 0;
  var image = [];
  var arr = this.viewJuridical.getFile();

  for (var i = 0; i < arr.length; i++) {
    if (typeof arr[i] == "string") {
      image.push({
        src: arr[i],
        type: 0,
        userid: window.userid
      });
    } else {
      image.push({
        src: arr[i].id,
        type: 0,
        userid: window.userid
      });
    }
  }

  var thumnail = this.viewCurrentStaus.getImportTant();
  arr = this.viewCurrentStaus.getFile();

  for (var i = 0; i < arr.length; i++) {
    if (typeof arr[i] == "string") {
      var src = arr[i];
    } else {
      var src = arr[i].id;
    }

    if (i == thumnail) image.push({
      src: src,
      type: 1,
      thumnail: 1,
      userid: window.userid
    });else image.push({
      src: src,
      type: 1,
      thumnail: 0,
      userid: window.userid
    });
  }

  var temp = {
    height: this.inputHeight.value * this.inputUnitHeight.value,
    width: this.inputWidth.value * this.inputUnitWidth.value,
    landarea: this.inputZone1.value * this.inputUnitZone1.value,
    floorarea: this.inputZone2.value * this.inputUnitZone2.value,
    acreage: this.inputZoneAll.value * this.inputUnitZoneAll.value,
    direction: this.direction.value,
    type: this.type.value,
    fit: fitUpdate,
    roadwidth: this.inputWidthRoad.value * this.inputUnitWidthRoad.value,
    floor: this.inputFloor.value,
    basement: this.inputBasement.value,
    bedroom: this.inputBedroom.value,
    living: this.inputLiving.value,
    toilet: this.inputToilet.value,
    kitchen: this.inputKitchen.value,
    price: this.inputPrice.value * this.inputUnitPrice.value,
    name: this.inputName.value,
    content: this.inputContent.value,
    salestatus: (this.inputLease.checked == true ? 1 : 0) * 10 + (this.inputSell.checked == true ? 1 : 0),
    structure: this.structure.value,
    pricerent: reFormatNumber(this.inputPriceRent.value) * this.inputPriceRentUnit.value,
    advancedetruct: advanceDetruct,
    juridical: this.juridical.value,
    image: image,
    censorship: this.inputCensorship.checked == true ? 1 : 0 // important:this.viewCurrentStaus.getImportTant()

  };
  var arr = [];

  for (var i = 0; i < this.containerEquipment.childNodes.length; i++) {
    arr.push(this.containerEquipment.childNodes[i].getData());
  }

  temp.equipment = arr;
  var contact = [];

  for (var i = 0; i < this.containerContact.childNodes.length; i++) {
    contact.push(this.containerContact.childNodes[i].getData());
  }

  temp.contact = contact;

  if (this.addressCurrent.data !== undefined) {
    var address = {};
    var data = this.addressCurrent.data;
    var lastIndex = data.ward.lastIndexOf("_");

    if (lastIndex === -1) {
      address.ward = data.ward;
      lastIndex = data.district.lastIndexOf("_");

      if (lastIndex == -1) {
        address.district = data.district;
        lastIndex = data.state.lastIndexOf("_");

        if (lastIndex == -1) {
          address.state = data.state;
        } else {
          address.stateid = data.state.slice(lastIndex + 1);
        }
      } else address.districtid = data.district.slice(lastIndex + 1);
    } else address.wardid = data.ward.slice(lastIndex + 1);

    var lastIndex = data.street.lastIndexOf("_");
    if (lastIndex === -1) address.street = data.street;else address.streetid = data.street.slice(lastIndex + 1);
    address.number = data.number;
    temp.lat = data.lat;
    temp.lng = data.lng;
    temp.addressid = address;
  }

  if (this.addressOld.data !== undefined) {
    var address = {};
    var data = this.addressOld.data;
    var lastIndex = data.ward.lastIndexOf("_");

    if (lastIndex === -1) {
      address.ward = data.ward;
      lastIndex = data.district.lastIndexOf("_");

      if (lastIndex == -1) {
        address.district = data.district;
        lastIndex = data.state.lastIndexOf("_");

        if (lastIndex == -1) {
          address.state = data.state;
        } else {
          address.stateid = data.state.slice(lastIndex + 1);
        }
      } else address.districtid = data.district.slice(lastIndex + 1);
    } else address.wardid = data.ward.slice(lastIndex + 1);

    var lastIndex = data.street.lastIndexOf("_");
    if (lastIndex === -1) address.street = data.street;else address.streetid = data.street.slice(lastIndex + 1);
    address.number = data.number;
    temp.addressid_old = address;
  }

  if (this.data !== undefined) {
    if (this.data.original !== undefined && this.data.original.id !== undefined) temp.id = this.data.original.id;else if (this.data.id !== undefined) temp.id = this.data.id;
  }

  if (this.isRequestEdit) {
    temp.userid = window.userid;
  }

  if (isCheck == true) {
    if (temp.addressid == undefined) {
      alert("Vui lòng nhập địa chỉ");
      this.inputLease.scrollIntoView({
        behavior: "smooth",
        block: "center",
        inline: "center"
      });
      return false;
    }

    if (temp.salestatus == 0 && temp.id !== undefined) {
      alert("Vui lòng nhập thông tin hiện trạng");
      this.inputLease.scrollIntoView({
        behavior: "smooth",
        block: "center",
        inline: "center"
      });
      return false;
    }

    if (contact.length == 0) {
      alert("Vui lòng nhập thông tin liên hệ");
      this.containerEquipment.scrollIntoView({
        behavior: "smooth",
        block: "center",
        inline: "center"
      });
      return false;
    }

    if (temp.height == 0 || temp.height == "") {
      alert("Vui lòng nhập chiều ngang");
      this.inputHeight.focus();
      this.inputHeight.scrollIntoView({
        behavior: "smooth",
        block: "center",
        inline: "center"
      });
      return false;
    }

    if (temp.width == 0 || temp.width == "") {
      alert("Vui lòng nhập chiều dài");
      this.inputWidth.focus();
      this.inputWidth.scrollIntoView({
        behavior: "smooth",
        block: "center",
        inline: "center"
      });
      return false;
    }

    if (temp.price == 0) {
      alert("Vui lòng nhập giá");
      this.inputPrice.focus();
      this.inputPrice.scrollIntoView({
        behavior: "smooth",
        block: "center",
        inline: "center"
      });
      return false;
    }

    if (temp.pricerent == 0) {
      alert("Vui lòng nhập giá thuê");
      this.inputPriceRent.focus();
      this.inputPriceRent.scrollIntoView({
        behavior: "smooth",
        block: "center",
        inline: "center"
      });
      return false;
    }
  }

  return temp;
};

NewRealty_NewRealty.prototype.utilityView = function () {
  var temp = NewRealty_({
    tag: "div",
    "class": "pizo-new-realty-utility",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-utility-tab",
      props: {
        innerHTML: "Tiện ích xung quanh"
      }
    }, {
      tag: "div",
      "class": "pizo-new-realty-dectruct-content",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-dectruct-content-area",
        child: [{
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-dectruct-content-area-pool-label",
              props: {
                innerHTML: "Bể bơi"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-realty-dectruct-content-area-pool", "pizo-new-realty-dectruct-input"],
              attr: {
                type: "number"
              }
            }, unit_Long()],
            on: {}
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-dectruct-content-area-gym-label",
              props: {
                innerHTML: "Phòng Gym"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-realty-dectruct-content-area-gym", "pizo-new-realty-dectruct-input"],
              attr: {
                type: "number"
              }
            }, unit_Long()]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-dectruct-content-area-supermarket-label",
              props: {
                innerHTML: "Siêu thị"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-realty-dectruct-content-area-supermarket", "pizo-new-realty-dectruct-input"],
              attr: {
                type: "number"
              }
            }, unit_Long()]
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-dectruct-content-area-market-label",
              props: {
                innerHTML: "Chợ"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-realty-dectruct-content-area-market", "pizo-new-realty-dectruct-input"],
              attr: {
                type: "number"
              }
            }, unit_Long()]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size",
          child: [{
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-dectruct-content-area-hospital-label",
              props: {
                innerHTML: "Bệnh viện"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-realty-dectruct-content-area-hospital", "pizo-new-realty-dectruct-input"],
              attr: {
                type: "number"
              }
            }, unit_Long()]
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size-zone",
            child: [{
              tag: "span",
              "class": "pizo-new-realty-dectruct-content-area-park-label",
              props: {
                innerHTML: "Công viên"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-realty-dectruct-content-area-park", "pizo-new-realty-dectruct-input"],
              attr: {
                type: "number"
              }
            }, unit_Long()]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-size",
          child: [{
            tag: "span",
            "class": "pizo-new-realty-detruct-content-area-label",
            props: {
              innerHTML: "Trường học"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-dectruct-content-area-preschool-label",
                props: {
                  innerHTML: "Mầm non"
                }
              }, {
                tag: "input",
                "class": ["pizo-new-realty-dectruct-content-area-preschool", "pizo-new-realty-dectruct-input"],
                attr: {
                  type: "number"
                }
              }, unit_Long()]
            }, {
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-dectruct-content-area-highschool-label",
                props: {
                  innerHTML: "Phổ thông"
                }
              }, {
                tag: "input",
                "class": ["pizo-new-realty-dectruct-content-area-highschool", "pizo-new-realty-dectruct-input"],
                attr: {
                  type: "number"
                }
              }, unit_Long()]
            }]
          }]
        }]
      }]
    }]
  });

  return temp;
};

NewRealty_NewRealty.prototype.convenientView = function () {
  var self = this;
  var data = ModuleDatabase["a" /* default */].getModule("equipments").data;
  var arr = [];

  for (var i = 0; i < data.length; i++) {
    data[i].id = parseInt(data[i].id);
    if (data[i].available === 0) continue;
    arr.push({
      text: data[i].name,
      value: data[i].id,
      data: data[i]
    });
  }

  var container = NewRealty_({
    tag: "div",
    "class": "pizo-new-realty-dectruct-content-area-size"
  });

  var equipment = NewRealty_({
    tag: "selectbox",
    style: {
      width: "100%"
    },
    props: {
      items: arr,
      enableSearch: true
    },
    on: {
      add: function add(event) {
        switch (parseInt(event.itemData.data.type)) {
          case 0:
            container.appendChild(self.itemCount(event.itemData.data));
            break;

          case 1:
            container.appendChild(self.itemDisplayNone(event.itemData.data));
            break;
        }
      },
      remove: function remove(event) {
        for (var i = 0; i < container.childNodes.length; i++) {
          if (container.childNodes[i].equipmentid == event.itemData.data.id) {
            container.childNodes[i].selfRemove();
            break;
          }
        }
      }
    }
  });

  if (this.data !== undefined) {
    var value = [];
    var temp;
    var libary = ModuleDatabase["a" /* default */].getModule("equipments").getLibary("id");

    for (var i = 0; i < this.data.original.equipment.length; i++) {
      this.data.original.equipment[i].equipmentid = parseInt(this.data.original.equipment[i].equipmentid);
      temp = libary[this.data.original.equipment[i].equipmentid];
      temp.content = this.data.original.equipment[i].content;
      value.push(this.data.original.equipment[i].equipmentid);

      switch (parseInt(temp.type)) {
        case 0:
          if (temp.available == 1) container.appendChild(self.itemCount(temp));else container.appendChild(self.itemDisplayNone(temp));
          break;

        case 1:
          container.appendChild(self.itemDisplayNone(temp));
          break;
      }
    }

    equipment.values = value;
  }

  var temp = NewRealty_({
    tag: "div",
    "class": "pizo-new-realty-convenient",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-convenient-tab",
      props: {
        innerHTML: "Tiện ích trong nhà"
      }
    }, {
      tag: "div",
      "class": "pizo-new-realty-convenient-content",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-convenient-content-size",
        child: [equipment]
      }, container]
    }]
  });

  this.containerEquipment = container;
  return temp;
};

NewRealty_NewRealty.prototype.itemCount = function (data) {
  var input = NewRealty_({
    tag: "input",
    "class": ["pizo-new-realty-dectruct-content-area-floor", "pizo-new-realty-dectruct-input"],
    attr: {
      type: "number",
      min: 0,
      step: 1
    },
    props: {
      value: 1
    }
  });

  if (data.content !== undefined) {
    input.value = data.content;
  }

  var temp = NewRealty_({
    tag: "div",
    "class": ["pizo-new-realty-dectruct-content-area-size-zone-all"],
    child: [{
      tag: "div",
      "class": "pizo-new-realty-desc-detail-row",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-dectruct-content-area-floor-label",
        props: {
          innerHTML: data.name
        }
      }, input]
    }]
  });

  temp.equipmentid = data.id;

  temp.getData = function () {
    var result = {
      equipmentid: data.id,
      content: input.value
    };
    return result;
  };

  return temp;
};

NewRealty_NewRealty.prototype.itemDisplayNone = function (data) {
  var temp = NewRealty_({
    tag: "div",
    style: {
      display: "none"
    }
  });

  temp.equipmentid = data.id;

  temp.getData = function () {
    var result = {
      equipmentid: data.id,
      content: data.content
    };
    return result;
  };

  return temp;
};

NewRealty_NewRealty.prototype.editContact = function (node, data) {
  var self = this;
  var mNewContact = new component_NewContact({
    original: data
  });
  mNewContact.attach(self.parent);
  var frameview = mNewContact.getView();
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDBContact(mNewContact, data, node);
};

NewRealty_NewRealty.prototype.editDBContact = function (mNewContact, data, node) {
  var self = this;
  mNewContact.promiseEditDB.then(function (value) {
    if (value.id === undefined) ModuleDatabase["a" /* default */].getModule("users").add(value).then(function (result) {
      self.editViewAccount(result, node);
    });else ModuleDatabase["a" /* default */].getModule("contacts").update(value).then(function (result) {
      self.editViewContact(result, node);
    });
    mNewContact.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewContact.promiseEditDB !== undefined) self.editDBContact(mNewContact, data);
    }, 10);
  });
};

NewRealty_NewRealty.prototype.editViewContact = function (value, node) {
  node.setInformation(value);
};

NewRealty_NewRealty.prototype.editAccount = function (node, data) {
  var self = this;
  ModuleDatabase["a" /* default */].getModule("positions").load().then(function (value) {
    var mNewAccount = new component_NewAccount({
      original: data
    });
    mNewAccount.attach(self.parent);
    var frameview = mNewAccount.getView(ModuleDatabase["a" /* default */].getModule("positions").getList("name", "id"));
    self.parent.body.addChild(frameview);
    self.parent.body.activeFrame(frameview);
    self.editDBAccount(mNewAccount, data, node);
  });
};

NewRealty_NewRealty.prototype.editDBAccount = function (mNewAccount, data, node) {
  var self = this;
  mNewAccount.promiseEditDB.then(function (value) {
    ModuleDatabase["a" /* default */].getModule("users").update(value).then(function (result) {
      self.editViewAccount(result, node);
    });
    mNewAccount.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewAccount.promiseEditDB !== undefined) self.editDBAccount(mNewAccount, data, parent, index);
    }, 10);
  });
};

NewRealty_NewRealty.prototype.editViewAccount = function (value, node) {
  node.setInformation(value);
};

NewRealty_NewRealty.prototype.contactItem = function (data) {
  var name, typecontact, phone, statusphone, note;
  var self = this;

  var temp = NewRealty_({
    tag: "div",
    "class": "pizo-new-realty-contact-item",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-contact-item-name",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-contact-item-name-label",
        props: {
          innerHTML: "Tên"
        }
      }, {
        tag: "input",
        "class": "pizo-new-realty-contact-item-name-input",
        props: {}
      }, {
        tag: "selectmenu",
        "class": "pizo-new-realty-contact-item-name-selectbox",
        props: {
          items: [{
            text: "Chưa xác định",
            value: 0
          }, {
            text: "Môi giới",
            value: 1
          }, {
            text: "Chủ nhà",
            value: 2
          }, {
            text: "Họ hàng",
            value: 3
          }]
        }
      }, {
        tag: "button",
        "class": "pizo-new-realty-contact-item-setting",
        on: {
          click: function click(event) {
            var tempData = temp.getData();
            if (tempData.password !== undefined) self.editAccount(temp, tempData);else self.editContact(temp, tempData);
          }
        },
        child: [{
          tag: "i",
          "class": "material-icons",
          style: {
            fontSize: "1rem",
            verticalAlign: "middle"
          },
          props: {
            innerHTML: "settings"
          }
        }]
      }, {
        tag: "button",
        "class": "pizo-new-realty-contact-item-close",
        on: {
          click: function click(event) {
            temp.selfRemove();
          }
        },
        child: [{
          tag: "i",
          "class": "material-icons",
          style: {
            fontSize: "1rem",
            verticalAlign: "middle"
          },
          props: {
            innerHTML: "close"
          }
        }]
      }]
    }, {
      tag: "div",
      "class": "pizo-new-realty-contact-item-phone",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-contact-item-phone-label",
        props: {
          innerHTML: "Số điện thoại"
        }
      }, {
        tag: "input",
        "class": "pizo-new-realty-contact-item-phone-input",
        props: {
          type: "number"
        },
        on: {
          change: function change(event) {
            if (self.checkUser === undefined) {
              var element = this;
              ModuleDatabase["a" /* default */].getModule("users").load().then(function () {
                setTimeout(function () {
                  element.emit("change");
                }, 10);
              });
              return;
            }

            if (self.checkContact === undefined) {
              var element = this;
              ModuleDatabase["a" /* default */].getModule("contacts").load().then(function () {
                setTimeout(function () {
                  element.emit("change");
                }, 10);
              });
              return;
            }

            if (self.checkUser[this.value] !== undefined || self.checkContact[this.value] !== undefined) {
              if (self.checkUser[this.value] !== undefined) {
                var tempValue = self.checkUser[this.value];
                temp.setInformation(tempValue);
              } else {
                var tempValue = self.checkContact[this.value];
                temp.setInformation(tempValue);
              }
            } else {
              temp.setOpenForm();
            }
          }
        }
      }, {
        tag: "selectmenu",
        "class": "pizo-new-realty-contact-item-phone-selectbox",
        style: {
          width: "190px"
        },
        props: {
          items: [{
            text: "Còn hoạt động",
            value: 1
          }, {
            text: "Sai số",
            value: 0
          }, {
            text: "Gọi lại sau",
            value: 2
          }, {
            text: "Bỏ qua",
            value: 3
          }, {
            text: "Khóa máy",
            value: 4
          }]
        }
      }]
    }, {
      tag: "div",
      "class": "pizo-new-realty-contact-item-note",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-contact-item-note-label",
        props: {
          innerHTML: "Ghi chú"
        }
      }, {
        tag: "textarea",
        "class": "pizo-new-realty-contact-item-note-input"
      }]
    }]
  });

  var name = NewRealty_$('input.pizo-new-realty-contact-item-name-input', temp);
  var typecontact = NewRealty_$('div.pizo-new-realty-contact-item-name-selectbox', temp);
  var phone = NewRealty_$('input.pizo-new-realty-contact-item-phone-input', temp);
  var statusphone = NewRealty_$('div.pizo-new-realty-contact-item-phone-selectbox', temp);
  var note = NewRealty_$('textarea.pizo-new-realty-contact-item-note-input', temp);

  phone.checkContact = function (data) {
    if (self.checkUserID === undefined) {
      var element = this;
      ModuleDatabase["a" /* default */].getModule("users").load().then(function () {
        setTimeout(function () {
          element.checkContact(data);
        }, 10);
      });
      return;
    }

    if (self.checkContactID === undefined) {
      var element = this;
      ModuleDatabase["a" /* default */].getModule("contacts").load().then(function () {
        setTimeout(function () {
          element.checkContact(data);
        }, 10);
      });
      return;
    }

    if (data.contactid !== undefined && data.contactid !== 0) {
      temp.setInformation(self.checkContactID[data.contactid]);
    } else if (data.userid !== undefined && data.userid !== 0) {
      temp.setInformation(self.checkUserID[data.userid]);
    } else {
      temp.setInformation(data);
    }
  };

  temp.setInformation = function (data) {
    if (data === undefined) {
      temp.selfRemove();
      return;
    }

    temp.data = data;
    if (data.statusphone === undefined) statusphone.value = 1;else statusphone.value = data.statusphone;
    phone.value = data.phone;
    name.value = data.name;
    name.setAttribute("disabled", "");
    statusphone.style.pointerEvents = "none";
    statusphone.style.backgroundColor = "#f3f3f3";
  };

  temp.setOpenForm = function (data) {
    temp.data = data;
    statusphone.value = 1;
    name.removeAttribute("disabled");
    statusphone.style.pointerEvents = "unset";
    statusphone.style.backgroundColor = "unset";
  };

  temp.getData = function () {
    if (temp.data !== undefined) {
      temp.data.typecontact = typecontact.value;
      temp.data.note = note.value;
      return temp.data;
    } else {
      return {
        name: name.value,
        statusphone: statusphone.value,
        phone: phone.value,
        typecontact: typecontact.value,
        note: note.value
      };
    }
  };

  if (data !== undefined) {
    phone.checkContact(data);
    typecontact.value = data.typecontact;
    note.value = data.note;
  }

  return temp;
};

NewRealty_NewRealty.prototype.setDataListAccount = function (data) {
  if (this.dataAccount == undefined) this.dataAccount = this.formatDataRowListAccount(data);else this.dataAccount = this.dataAccount.concat(this.formatDataRowListAccount(data));
  if (this.isLoaded == undefined) this.isLoaded = false;else this.isLoaded = true;
};

NewRealty_NewRealty.prototype.setDataListContact = function (data) {
  if (this.dataAccount == undefined) this.dataAccount = this.formatDataRowListContact(data);else this.dataAccount = this.dataAccount.concat(this.formatDataRowListContact(data));
  if (this.isLoaded == undefined) this.isLoaded = false;else this.isLoaded = true;
};

NewRealty_NewRealty.prototype.formatDataRowListAccount = function (data) {
  var temp = [];

  for (var i = 0; i < data.length; i++) {
    temp.push(this.getDataRowListAccount(data[i]));
  }

  return temp;
};

NewRealty_NewRealty.prototype.getDataRowListAccount = function (data) {
  var temp = [data.name, data.phone, data.email, data.id];
  temp.original = data;
  return temp;
};

NewRealty_NewRealty.prototype.formatDataRowListContact = function (data) {
  var temp = [];

  for (var i = 0; i < data.length; i++) {
    temp.push(this.getDataRowListContact(data[i]));
  }

  return temp;
};

NewRealty_NewRealty.prototype.getDataRowListContact = function (data) {
  var temp = ["", data.name, data.phone, data.email, data.id];
  temp.original = data;
  return temp;
};

NewRealty_NewRealty.prototype.contactView = function () {
  var self = this;

  var containerContact = NewRealty_({
    tag: "div",
    "class": "pizo-new-realty-contact-content",
    child: []
  });

  var important = NewRealty_({
    tag: "span",
    "class": "pizo-new-realty-location-detail-row-label-important",
    props: {
      innerHTML: "*"
    }
  });

  var temp = NewRealty_({
    tag: "div",
    "class": "pizo-new-realty-contact",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-contact-tab",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-contact-tab-label",
        props: {
          innerHTML: "Thông tin liên hệ"
        },
        child: [important]
      }, {
        tag: "button",
        "class": "pizo-new-realty-contact-tab-button",
        on: {
          click: function click(event) {
            containerContact.appendChild(self.contactItem());
          }
        },
        child: [{
          tag: "i",
          "class": "material-icons",
          style: {
            fontSize: "1rem"
          },
          props: {
            innerHTML: "add"
          }
        }]
      }]
    }, containerContact]
  });

  if (this.data !== undefined) {
    for (var i = 0; i < this.data.original.contact.length; i++) {
      containerContact.appendChild(this.contactItem(this.data.original.contact[i]));
    }
  }

  this.containerContact = containerContact;
  return temp;
};

NewRealty_NewRealty.prototype.juridicalView = function () {
  var arr = ModuleDatabase["a" /* default */].getModule("juridicals").getList("name", "id");

  var temp = NewRealty_({
    tag: "div",
    "class": "pizo-new-realty-juridical",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-juridical-tab",
      props: {
        innerHTML: "Pháp lý"
      }
    }, {
      tag: "div",
      "class": "pizo-new-realty-juridical-content",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-dectruct-content-area-right",
        child: [{
          tag: "span",
          "class": "pizo-new-realty-detruct-content-area-label",
          props: {
            innerHTML: "Tình trạng"
          }
        }, {
          tag: "selectmenu",
          style: {
            textAlign: "left"
          },
          "class": ["pizo-new-realty-dectruct-content-area-fit", "pizo-new-realty-dectruct-input"],
          props: {
            items: arr
          }
        }]
      }]
    }]
  });

  this.juridical = NewRealty_$('div.pizo-new-realty-dectruct-content-area-fit.pizo-new-realty-dectruct-input', temp);

  if (this.data !== undefined) {
    this.juridical.value = this.data.original.juridical;
  }

  return temp;
};

NewRealty_NewRealty.prototype.historyView = function () {
  var temp = NewRealty_({
    tag: "div",
    "class": "pizo-new-realty-history",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-history-tab",
      props: {
        innerHTML: "Lịch sử sở hữu"
      }
    }]
  });

  return temp;
};

NewRealty_NewRealty.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

NewRealty_NewRealty.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

NewRealty_NewRealty.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

NewRealty_NewRealty.prototype.start = function () {};

function NewRealty_removeAccents(str) {
  var AccentsMap = ["aàảãáạăằẳẵắặâầẩẫấậ", "AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬ", "dđ", "DĐ", "eèẻẽéẹêềểễếệ", "EÈẺẼÉẸÊỀỂỄẾỆ", "iìỉĩíị", "IÌỈĨÍỊ", "oòỏõóọôồổỗốộơờởỡớợ", "OÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢ", "uùủũúụưừửữứự", "UÙỦŨÚỤƯỪỬỮỨỰ", "yỳỷỹýỵ", "YỲỶỸÝỴ"];

  for (var i = 0; i < AccentsMap.length; i++) {
    var re = new RegExp('[' + AccentsMap[i].substr(1) + ']', 'g');
    var _char = AccentsMap[i][0];
    str = str.replace(re, _char);
  }

  str = str.replace(" ", "");
  return str;
}

/* harmony default export */ var component_NewRealty = (NewRealty_NewRealty);
// CONCATENATED MODULE: ./js/page/MapRealty.js
function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = MapRealty_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function MapRealty_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return MapRealty_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return MapRealty_arrayLikeToArray(o, minLen); }

function MapRealty_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }














var MapRealty_ = dom_Fcore._;
var MapRealty_$ = dom_Fcore.$;

function MapRealty_MapRealty() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.hash = [];
}

MapRealty_MapRealty.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(MapRealty_MapRealty.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
MapRealty_MapRealty.prototype.constructor = MapRealty_MapRealty;

MapRealty_MapRealty.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;

  var allinput = MapRealty_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    props: {
      placeholder: "Tìm theo địa chỉ"
    }
  });

  if (BrowserDetector["a" /* default */].isMobile) {
    allinput.placeholder = "Tìm theo địa chỉ";
  }

  var mapView = new MapView_MapView();
  mapView.setLabelUnder(false);
  mapView.activePlanningMap();
  mapView.setCurrentLocation();
  mapView.setMoveMarkerWithCurrent(false);
  mapView.geolocateMap();
  this.searchControl = this.searchControlContent();
  this.$view = MapRealty_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      style: {
        paddingRight: 0
      },
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Nhà đất"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-allinput",
        style: {
          width: "calc(100% - 190px)"
        },
        child: [{
          tag: "div",
          "class": "pizo-list-realty-page-allinput-container",
          style: {
            width: "100%"
          },
          child: [allinput, {
            tag: "button",
            "class": "pizo-list-realty-page-allinput-search",
            child: [{
              tag: 'i',
              "class": 'material-icons',
              props: {
                innerHTML: 'search'
              }
            }]
          }]
        }]
      }]
    }]
  });
  this.allinput = allinput;
  var searchBox = new google.maps.places.SearchBox(allinput, {
    // terms:['street_number','route','locality','administrative_area_level_1','administrative_area_level_2','administrative_area_level_3'],
    types: ['geocode'],
    componentRestrictions: {
      country: 'vn'
    }
  });
  this.searchBox = searchBox;
  google.maps.event.addListener(searchBox, 'places_changed', function () {
    var places = searchBox.getPlaces(); // For each place, get the icon, place name, and location.

    self.mapView.map.setZoom(20);
    var bounds = new google.maps.LatLngBounds();
    var place = null;

    for (var i = 0; place = places[i]; i++) {
      bounds.extend(place.geometry.location);
    }

    self.mapView.map.setCenter(bounds.getCenter());
  });
  this.mapView = mapView;
  var arr = [];
  arr.push(ModuleDatabase["a" /* default */].getModule("wards").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("type_activehouses").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("districts").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("states").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("equipments").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("juridicals").load());
  ModuleDatabase["a" /* default */].getModule("users").load().then(function (value) {
    self.checkUser = ModuleDatabase["a" /* default */].getModule("users").getLibary("phone");
    self.checkUserID = ModuleDatabase["a" /* default */].getModule("users").getLibary("id");
  });
  ModuleDatabase["a" /* default */].getModule("contacts").load().then(function (value) {
    self.checkContact = ModuleDatabase["a" /* default */].getModule("contacts").getLibary("phone");
    self.checkContactID = ModuleDatabase["a" /* default */].getModule("contacts").getLibary("id");
  });
  Promise.all(arr).then(function (values) {
    this.checkState = ModuleDatabase["a" /* default */].getModule("states").getLibary("id");
    this.checkDistrict = ModuleDatabase["a" /* default */].getModule("districts").getLibary("id");
    this.checkWard = ModuleDatabase["a" /* default */].getModule("wards").getLibary("id");
    this.checkequipment = ModuleDatabase["a" /* default */].getModule("equipments").getLibary("id");
    this.checkJuridical = ModuleDatabase["a" /* default */].getModule("juridicals").getLibary("id");
    this.checkTypeHouse = ModuleDatabase["a" /* default */].getModule("type_activehouses").getLibary("id");
    this.$view.addChild(MapRealty_({
      tag: "div",
      "class": ["pizo-list-plan-main"],
      style: {
        flexDirection: "column"
      },
      child: [this.searchControl, {
        tag: "div",
        "class": ["pizo-list-realty-main-result-control"],
        child: [{
          tag: "div",
          "class": "pizo-list-realty-main-result-control-map-view",
          child: [mapView, self.modalRealty()]
        }]
      }]
    }));
  }.bind(this));
  ModuleDatabase["a" /* default */].getModule("users").load().then(function (value) {
    self.formatDataRowAccount(value);
  });
  ModuleDatabase["a" /* default */].getModule("contacts").load().then(function (value) {
    self.formatDataRowContact(value);
  });
  return this.$view;
};

MapRealty_MapRealty.prototype.formatDataRowAccount = function (data) {
  this.listAccoutData = data;
};

MapRealty_MapRealty.prototype.formatDataRowContact = function (data) {
  this.listContactData = data;
};

MapRealty_MapRealty.prototype.modalRealty = function () {
  var self = this;

  var container = MapRealty_({
    tag: "ul",
    "class": ["photo-cards", "photo-cards_wow", "photo-cards_short"],
    child: []
  });

  var temp = MapRealty_({
    tag: "div",
    "class": ["search-page-list-container", "double-column-only", "short-list-cards"],
    child: [{
      tag: "div",
      "class": "result-list-container",
      child: [{
        tag: "div",
        "class": "search-page-list-header",
        child: [{
          tag: "h1",
          "class": "search-title",
          props: {
            innerHTML: "BẤT ĐỘNG SẢN RAO BÁN"
          }
        }, {
          tag: "div",
          "class": "search-subtitle",
          child: [{
            tag: "span",
            "class": "result-count"
          }, {
            tag: "div",
            "class": ["sort-options", "visible"],
            child: [{
              tag: "strong",
              style: {
                lineHeight: "30px"
              },
              props: {
                innerHTML: "Sắp xếp theo:"
              }
            }, {
              tag: "selectmenu",
              style: {
                marginLeft: "10px"
              },
              props: {
                items: [{
                  text: "Mới nhất",
                  value: 0
                }, {
                  text: "Giá (Thấp tới cao)",
                  value: 1
                }, {
                  text: "Giá (Cao tới thấp)",
                  value: 2
                }, {
                  text: "Diện tích",
                  value: 3
                }]
              }
            }]
          }]
        }]
      }, container]
    }, {
      tag: "div",
      "class": ["zsg-subfooter", "region-info-footer"]
    }]
  });

  this.count = MapRealty_$("span.result-count", temp);

  this.updateResult = function () {
    var check = [];
    var value = [];
    var cellLat, cellLng, arrTemp;
    var k = 0;

    for (var i = 0; i < this.mapView.currentHouse.length; i++) {
      cellLat = this.mapView.currentHouse[i][0];
      cellLng = this.mapView.currentHouse[i][1];
      arrTemp = this.mapView.checkHouse[cellLat][cellLng];

      for (var j = 0; j < arrTemp.length; j++) {
        if (container.check === undefined || container.check[arrTemp[j].data.id] === undefined) {
          value.push(arrTemp[j]);
        } else if (container.check !== undefined) {
          check[arrTemp[j].data.id] = container.check[arrTemp[j].data.id];
          delete container.check[arrTemp[j].data.id];
        }

        k++;
      }
    }

    for (var param in container.check) {
      container.check[param].selfRemove();
    }

    container.check = check;
    this.count.innerHTML = k + " kết quả";
    var arr = [];
    var connect = "";

    for (var i = 0; i < value.length; i++) {
      if (connect !== "") arr.push(connect);
      arr.push({
        id: value[i].data.addressid
      });
      connect = "||";

      if (value[i].data.addressid_old) {
        arr.push(connect);
        arr.push({
          id: value[i].data.addressid_old
        });
      }
    }

    if (arr.length > 0) ModuleDatabase["a" /* default */].getModule("addresses").load({
      WHERE: arr
    }).then(function (valueAdr) {
      self.checkAddress = ModuleDatabase["a" /* default */].getModule("addresses").getLibary("id");
      var connect = "";
      var arr = [];

      for (var i = 0; i < valueAdr.length; i++) {
        if (connect !== "") arr.push(connect);
        arr.push({
          id: valueAdr[i].streetid
        });
        connect = "||";
      }

      ModuleDatabase["a" /* default */].getModule("streets").load({
        WHERE: arr
      }).then(function (valueStr) {
        self.checkStreet = ModuleDatabase["a" /* default */].getModule("streets").getLibary("id");

        for (var i = 0; i < value.length; i++) {
          var x = this.itemMap(value[i]);
          check[value[i].data.id] = x;
          container.appendChild(x);
        }
      }.bind(this));
    }.bind(this));
  };

  this.mapView.addEventListener("change-house", function () {
    self.updateResult();
  });
  return temp;
};

MapRealty_MapRealty.prototype.mediaItem = function (data, index) {
  var temp = MapRealty_({
    tag: "li",
    "class": ["media-stream-tile"],
    on: {
      click: function click(event) {
        var arr = [];

        for (var i = 0; i < data.length; i++) {
          arr.push({
            index: i,
            avatar: "https://4.bp.blogspot.com/-AYOvATaN5wQ/V5sRt4Kim_I/AAAAAAAAF8s/QWR5ZHQ8N38ByHRLP2nOCJySfMmJur5sACLcB/s280/sieu-nhan-cuu-the-gioi.jpg",
            userName: "Bùi Phạm Minh Thi",
            src: "https://lab.daithangminh.vn/home_co/pizo/assets/upload/" + data[i].src,
            date: data[i].created,
            note: ""
          });
        }

        document.body.appendChild(descViewImagePreview(arr, index));
      }
    },
    child: [{
      tag: "img",
      attr: {
        src: "https://lab.daithangminh.vn/home_co/pizo/assets/upload/" + data[index].src
      }
    }]
  });

  return temp;
};

MapRealty_MapRealty.prototype.requestEdit = function (data) {
  var self = this;
  var mNewRealty = new component_NewRealty(data);
  mNewRealty.attach(self.parent);
  mNewRealty.setRequestEdit();
  mNewRealty.setDataListAccount(self.listAccoutData);
  mNewRealty.setDataListContact(self.listContactData);
  var frameview = mNewRealty.getView();
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.requestEditDB(mNewRealty, data);
};

MapRealty_MapRealty.prototype.requestEditDB = function (mNewRealty, data) {
  var self = this;
  mNewRealty.promiseEditDB.then(function (value) {
    ModuleDatabase["a" /* default */].getModule("modification_requests").add(value).then(function (result) {// self.editView(value, data);
    });
    mNewRealty.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewRealty.promiseEditDB !== undefined) self.requestEditDB(mNewRealty, data);
    }, 10);
  });
};

MapRealty_MapRealty.prototype.edit = function (data) {
  var self = this;
  var mNewRealty = new component_NewRealty(data);
  mNewRealty.attach(self.parent);
  mNewRealty.setDataListAccount(self.listAccoutData);
  mNewRealty.setDataListContact(self.listContactData);
  var frameview = mNewRealty.getView();
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDB(mNewRealty, data);
};

MapRealty_MapRealty.prototype.editDB = function (mNewRealty, data) {
  var self = this;
  mNewRealty.promiseEditDB.then(function (value) {
    ModuleDatabase["a" /* default */].getModule("activehouses").update(value).then(function (result) {
      self.editView(value, data);
    });
    mNewRealty.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewRealty.promiseEditDB !== undefined) self.editDB(mNewRealty, data);
    }, 10);
  });
};

MapRealty_MapRealty.prototype.editView = function (value, data) {};

MapRealty_MapRealty.prototype.modalLargeRealty = function (data) {
  var self = this;
  var staus = "";
  if (parseInt(data.salestatus) % 10 == 1) staus += "Còn bán";

  if (parseInt(parseInt(data.salestatus) / 10) == 1) {
    if (staus == "") staus += "Còn cho thuê";else staus += " và còn cho thuê";
  }

  var imageThumnail = MapRealty_({
    tag: "img",
    "class": ["media-stream-photo", "media-stream-photo--loader"]
  });

  var mediaContainer = MapRealty_({
    tag: "ul",
    "class": "media-stream",
    child: [{
      tag: "li",
      "class": ["media-stream-tile", "media-stream-tile--prominent"],
      on: {
        click: function click(event) {
          var arr = [];
          if (!modal.image) return;

          for (var i = 0; i < modal.image.length; i++) {
            arr.push({
              index: i,
              avatar: "https://4.bp.blogspot.com/-AYOvATaN5wQ/V5sRt4Kim_I/AAAAAAAAF8s/QWR5ZHQ8N38ByHRLP2nOCJySfMmJur5sACLcB/s280/sieu-nhan-cuu-the-gioi.jpg",
              userName: "Bùi Phạm Minh Thi",
              src: "https://lab.daithangminh.vn/home_co/pizo/assets/upload/" + modal.image[i].src,
              date: modal.image[i].created,
              note: ""
            });
          }

          document.body.appendChild(descViewImagePreview(arr, modal.indexThumnail));
        }
      },
      child: [imageThumnail]
    }]
  });

  var mediaContainer2 = MapRealty_({
    tag: "ul",
    "class": "media-stream",
    child: []
  });

  var staticTabbar = MapRealty_({
    tag: 'statictabbar',
    "class": "image-tabcontainer",
    attr: {
      'data-group': 'group1'
    },
    props: {
      items: [{
        text: 'Ảnh hiện trạng',
        value: 'status'
      }, {
        text: 'Ảnh pháp lý',
        value: 'juridicals'
      }]
    },
    on: {
      change: function change(event) {
        if (this.value == "status") {
          mediaContainer.style.display = "";
          mediaContainer2.style.display = "none";
        } else if (this.value == "juridicals") {
          mediaContainer.style.display = "none";
          mediaContainer2.style.display = "";
        }
      }
    }
  });

  staticTabbar.value = "status";
  staticTabbar.emit("change");
  var fullAddress = "";

  if (data.addressid != 0) {
    var number = this.checkAddress[data.addressid].addressnumber;
    var street = this.checkStreet[this.checkAddress[data.addressid].streetid].name;
    var ward = this.checkWard[this.checkAddress[data.addressid].wardid].name;
    var district = this.checkDistrict[this.checkWard[this.checkAddress[data.addressid].wardid].districtid].name;
    var state = this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[data.addressid].wardid].districtid].stateid].name;
    fullAddress = number + " " + street + ", " + ward + ", " + district + ", " + state;
  }

  var statusIcon = MapRealty_({
    tag: "i",
    "class": ["material-icons", "list-card-type-icon", "zsg-icon-for-sale"],
    props: {
      innerHTML: "brightness_1"
    }
  });

  switch (parseInt(data.salestatus)) {
    case 0:
      statusIcon.style.color = "yellow";
      break;

    case 1:
      statusIcon.style.color = "red";
      break;

    case 10:
      statusIcon.style.color = "blue";
      break;

    case 11:
      statusIcon.style.color = "purple";
      break;
  }

  self.buttonRange = MapRealty_({
    tag: 'buttonrange',
    props: {
      items: [{
        text: "Thông tin chung",
        value: 0
      }, {
        text: "Thông tin xây dựng",
        value: 1
      }, {
        text: "Giá",
        value: 2
      }, {
        text: "Tiện ích trong nhà",
        value: 3
      }, {
        text: "Thông tin liên hệ",
        value: 4
      }, {
        text: "Pháp lý",
        value: 5
      }, {
        text: "Lịch sử sở hữu",
        value: 6
      }]
    },
    on: {
      change: function change(event) {
        self.detailHouseView.childNodes[this.value].childNodes[0].scrollIntoView({
          behavior: "smooth",
          block: "start",
          inline: "start"
        });
      }
    }
  });
  self.detailHouseView = self.detailHouse(data);

  var modal = MapRealty_({
    tag: "modal",
    attr: {
      tabindex: 1
    },
    child: [{
      tag: "div",
      "class": ["active-hdp-col", "yui3-app-views", "app-view-hdp"],
      child: [{
        tag: "div",
        "class": ["active-view", "preload-lightbox"],
        child: [{
          tag: "div",
          "class": "home-details-render",
          child: [{
            tag: "div",
            "class": "home-details-content",
            child: [{
              tag: "button",
              "class": ["ds-close-lightbox-icon", "hc-back-to-list"],
              on: {
                click: function click(event) {
                  modal.selfRemove();
                }
              },
              child: [{
                tag: "i",
                style: {
                  fontSize: "2rem",
                  color: "white"
                },
                "class": "material-icons",
                props: {
                  innerHTML: "close"
                }
              }]
            }, {
              tag: "div",
              "class": ["ds-wrapper", "znav-force-mobile-layout"],
              child: [{
                tag: "div",
                "class": ["ds-container", "ds-mobile-single-scroll", "ds-container-lightboxed", "is-data-forward"],
                child: [{
                  tag: "div",
                  "class": ["ds-media-col", "ds-media-col-hidden-mobile"],
                  child: [staticTabbar, mediaContainer, mediaContainer2 //    {
                  //         tag: 'frameview',
                  //         child: [
                  //             {
                  //                 tag: 'singlepage',
                  //                 id: 'frame-status',
                  //                 child:[
                  //                     mediaContainer
                  //                 ]
                  //             },
                  //             {
                  //                 tag: 'singlepage',
                  //                 id: 'frame-juridicals',
                  //                 child:[
                  //                     mediaContainer2
                  //                 ]
                  //             }
                  //         ]
                  //    }
                  ///media container
                  ]
                }, {
                  tag: "div",
                  "class": ["ds-data-col", "ds-white-bg", "ds-data-col-data-forward"],
                  child: [{
                    tag: "div",
                    "class": ["sc-bAeIUo", "bhsEJe"],
                    child: [{
                      tag: "div",
                      "class": ["sc-1tf5ijk-9", "fAdunC", "ds-action-bar"],
                      child: [{
                        tag: "nav",
                        "class": ["sc-exAgwC", "imHfmq"],
                        child: [{
                          tag: "div",
                          "class": "pizo-header-logo",
                          child: [{
                            tag: "img",
                            "class": "pizo-header-logo-icon",
                            attr: {
                              src: "assets/images/logo.png"
                            }
                          }, {
                            tag: "img",
                            "class": "pizo-header-logo-text",
                            attr: {
                              src: "assets/images/logo-text-blue.png"
                            }
                          }]
                        }, {
                          tag: "ul",
                          "class": ["sc-GMQeP", "cjrQwi"],
                          child: [{
                            tag: "li",
                            "class": ["sc-cLQEGU-1", "cllLJF"],
                            child: [{
                              tag: "button",
                              "class": ["sc-bdVaJa", "gpVNOz"],
                              child: [{
                                tag: "div",
                                "class": ["sc-bMVAic", "gpVNOz"],
                                child: [{
                                  tag: "div",
                                  "class": ["sc-gqPbQI", "eKDTCE"],
                                  child: [{
                                    tag: "i",
                                    "class": "material-icons",
                                    props: {
                                      innerHTML: "favorite_border"
                                    }
                                  }]
                                }, {
                                  tag: "span",
                                  "class": ["sc-hORach", "duJWoc"],
                                  props: {
                                    innerHTML: " Yêu thích"
                                  }
                                }]
                              }]
                            }]
                          }, {
                            tag: "li",
                            "class": ["sc-cLQEGU-2", "cllLJF"],
                            style: {
                              display: "none"
                            },
                            child: [{
                              tag: "button",
                              "class": ["sc-bMVAic", "gpVNOz"],
                              on: {
                                click: function click() {
                                  self.requestEdit({
                                    original: data
                                  });
                                  modal.selfRemove();
                                }
                              },
                              child: [{
                                tag: "div",
                                "class": ["sc-gqPbQI", "eKDTCE"],
                                child: [{
                                  tag: "i",
                                  "class": "material-icons",
                                  props: {
                                    innerHTML: "edit"
                                  }
                                }]
                              }, {
                                tag: "span",
                                "class": ["sc-hORach", "duJWoc"],
                                props: {
                                  innerHTML: "Yêu cầu chỉnh sửa"
                                }
                              }]
                            }]
                          }, {
                            tag: "li",
                            "class": ["sc-cLQEGU-3", "cllLJF"],
                            style: {
                              display: "none"
                            },
                            child: [{
                              tag: "button",
                              "class": ["sc-bMVAic", "gpVNOz"],
                              on: {
                                click: function click() {
                                  self.edit({
                                    original: data
                                  });
                                  modal.selfRemove();
                                }
                              },
                              child: [{
                                tag: "div",
                                "class": ["sc-gqPbQI", "eKDTCE"],
                                child: [{
                                  tag: "i",
                                  "class": "material-icons",
                                  props: {
                                    innerHTML: "edit"
                                  }
                                }]
                              }, {
                                tag: "span",
                                "class": ["sc-hORach", "duJWoc"],
                                props: {
                                  innerHTML: "Sửa"
                                }
                              }]
                            }]
                          } //    {
                          //        tag:"li",
                          //        class:["sc-bMVAic", "bzoMbE"],
                          //        child:[
                          //             {
                          //                 tag:"button",
                          //                 class:["sc-bMVAic", "gpVNOz"],
                          //                 child:[
                          //                     {
                          //                         tag:"div",
                          //                         class:["sc-gqPbQI", "eKDTCE"],
                          //                         child:[
                          //                             {
                          //                                 tag:"i",
                          //                                 class:"material-icons",
                          //                                 props:{
                          //                                     innerHTML:"more_horiz"
                          //                                 }
                          //                             }
                          //                         ]
                          //                     },
                          //                     {
                          //                         tag:"span",
                          //                         class:["sc-hORach", "duJWoc"],
                          //                         props:{
                          //                             innerHTML:"More"
                          //                         }
                          //                     }
                          //                 ]
                          //             }
                          //        ]
                          //    }
                          ]
                        }]
                      }]
                    }]
                  }, {
                    tag: "div",
                    "class": "ds-chip",
                    child: [{
                      tag: "div",
                      "class": "ds-home-details-chip",
                      child: [{
                        tag: "div",
                        "class": "ds-summary-row-container",
                        child: [{
                          tag: "div",
                          "class": "ds-summary-row-content",
                          child: [{
                            tag: "div",
                            "class": "ds-summary-row",
                            child: [{
                              tag: "h3",
                              "class": "ds-price",
                              child: [{
                                tag: "span",
                                "class": "ds-value",
                                props: {
                                  innerHTML: "VND " + data.price + " tỉ"
                                }
                              }]
                            }, {
                              tag: "header",
                              "class": "ds-bed-bath-living-area-header",
                              child: [{
                                tag: "h3",
                                "class": ["ds-bed-bath-living-area-container"],
                                child: [{
                                  tag: "span",
                                  "class": "ds-bed-bath-living-area",
                                  child: [{
                                    tag: "span",
                                    props: {
                                      innerHTML: data.width
                                    }
                                  }, {
                                    tag: "span",
                                    "class": "ds-summary-row-label-secondary",
                                    props: {
                                      innerHTML: "m"
                                    }
                                  }]
                                }, {
                                  tag: "span",
                                  "class": "ds-vertical-divider",
                                  props: {
                                    innerHTML: "x"
                                  }
                                }, {
                                  tag: "button",
                                  "class": ["TriggerText-sc-139r5uq-0", "jfjsxZ", "TooltipPopper-io290n-0", "sc-jlyJG", "eVrWvb"],
                                  child: [{
                                    tag: "span",
                                    "class": "ds-bed-bath-living-area",
                                    child: [{
                                      tag: "span",
                                      props: {
                                        innerHTML: data.height
                                      }
                                    }, {
                                      tag: "span",
                                      "class": "ds-summary-row-label-secondary",
                                      props: {
                                        innerHTML: "m"
                                      }
                                    }]
                                  }]
                                }, {
                                  tag: "span",
                                  "class": "ds-vertical-divider",
                                  props: {
                                    innerHTML: "|"
                                  }
                                }, {
                                  tag: "span",
                                  "class": "ds-bed-bath-living-area",
                                  child: [{
                                    tag: "span",
                                    props: {
                                      innerHTML: data.acreage
                                    }
                                  }, {
                                    tag: "span",
                                    "class": "ds-summary-row-label-secondary",
                                    props: {
                                      innerHTML: "m²"
                                    }
                                  }]
                                }]
                              }]
                            }]
                          }]
                        }]
                      }, {
                        tag: "div",
                        "class": "ds-price-change-address-row",
                        child: [{
                          tag: "header",
                          child: [{
                            tag: "h1",
                            "class": "ds-address-container",
                            child: [{
                              tag: "span",
                              props: {
                                innerHTML: fullAddress
                              }
                            }]
                          }]
                        }]
                      }, {
                        tag: "div",
                        "class": ["sc-hIVACf", "eiqksm", "ds-chip-removable-content"],
                        style: {
                          visibility: "visible",
                          height: "19px",
                          opacity: 1
                        },
                        child: [{
                          tag: "p",
                          "class": ["Text-aiai24-0", "StyledParagraph-sc-18ze78a-0", "dDDkWA", "sc-fgfRvd", "hmPfMB"],
                          child: [{
                            tag: "span",
                            "class": ["sc-likbZx", "ccUlrP", "ds-status-details"],
                            child: [statusIcon, {
                              tag: "span",
                              props: {
                                innerHTML: staus
                              }
                            }]
                          }]
                        }]
                      }]
                    }]
                  }, self.buttonRange, self.detailHouseView //    {
                  //        tag:"div",
                  //        class:"ds-buttons",
                  //        child:[
                  //            {
                  //                tag:"ul",
                  //                class:"contact-button-group",
                  //                child:[
                  //                    {
                  //                        tag:"li",
                  //                        class:"contact-button",
                  //                        child:[
                  //                            {
                  //                                tag:"button",
                  //                                class:["Button-wpcbcc-0", "cpEtCH", "contact-button-condensed", "ds-button", "ds-label-small"],
                  //                                props:{
                  //                                    innerHTML:"Liên lạc với nhân viên"
                  //                                }
                  //                            }
                  //                        ]
                  //                    },
                  //                    {
                  //                        tag:"li",
                  //                        class:"contact-button",
                  //                        child:[
                  //                            {
                  //                                tag:"button",
                  //                                class:["Button-wpcbcc-0", "btcvqQ", "contact-button-condensed", "ds-button", "ds-label-small"],
                  //                                props:{
                  //                                 innerHTML:"Đặt tour thăm quan"
                  //                                 }
                  //                            }
                  //                        ]
                  //                    }
                  //                ]
                  //            }
                  //        ]
                  //    }
                  ]
                }]
              }]
            }]
          }]
        }]
      }]
    }]
  });

  var first = "";
  var arr = [];

  if (data !== undefined) {
    for (var i = 0; i < data.image.length; i++) {
      if (first !== "") arr.push(first);
      arr.push({
        id: data.image[i]
      });

      if (first == "") {
        first = "||";
      }
    }
  }

  var src = "https://photos.zillowstatic.com/p_e/ISrh2fnbc4956m0000000000.jpg";
  if (arr.length > 0) ModuleDatabase["a" /* default */].getModule("image").load({
    WHERE: arr
  }).then(function (values) {
    var m;

    for (var i = 0; i < values.length; i++) {
      if (values[i].thumnail == 1) {
        src = "https://lab.daithangminh.vn/home_co/pizo/assets/upload/" + values[i].src;
        m = i;
        imageThumnail.setAttribute("src", src);
        break;
      }
    }

    var arrTemp = [];
    var arrTemp2 = [];
    var k = 0;

    for (var i = 0; i < values.length; i++) {
      if (values[i].type == 1) {
        arrTemp.push(values[i]);
        if (m != i) mediaContainer.appendChild(self.mediaItem(arrTemp, k));else modal.indexThumnail = k;
        k++;
      } else if (values[i].type == 0) {
        arrTemp2.push(values[i]);
        mediaContainer2.appendChild(self.mediaItem(arrTemp2, k));
      }
    }

    modal.image = arrTemp;
  });
  imageThumnail.setAttribute("src", src);

  var functionESC = function functionESC(event) {
    if (event.keyCode == 27) {
      modal.selfRemove();
      var arr = document.body.getElementsByClassName("as-modal");
      console.log(arr);

      if (arr.length > 0) {
        arr[arr.length - 1].focus();
      }
    }
  };

  modal.addEventListener("keydown", functionESC);
  setTimeout(function () {
    modal.focus();
  }, 100);
  console.log(ModuleDatabase["a" /* default */].checkPermission);
  var requestEdit = MapRealty_$("li.sc-cLQEGU-2", modal);
  var realEdit = MapRealty_$("li.sc-cLQEGU-3", modal);
  var isEdit = false;
  var isRequest = false;

  Loop: for (var param in ModuleDatabase["a" /* default */].checkPermission) {
    var object = JSON.parse(param);

    for (var objectParam in object) {
      if (object[objectParam] !== data[objectParam]) {
        continue Loop;
      }
    }

    if (ModuleDatabase["a" /* default */].checkPermission[param].indexOf(58) !== -1) {
      isEdit = true;
    }

    if (ModuleDatabase["a" /* default */].checkPermission[param].indexOf(68) !== -1) {
      isRequest = true;
    }
  }

  if (isEdit) {
    realEdit.style.display = "";
  } else {
    realEdit.style.display = "none";

    if (isRequest) {
      requestEdit.style.display = "";
    } else requestEdit.style.display = "none";
  }

  return modal;
};

MapRealty_MapRealty.prototype.itemCount = function (data) {
  var input = MapRealty_({
    tag: "input",
    "class": ["pizo-new-realty-dectruct-content-area-floor", "pizo-new-realty-dectruct-input"],
    attr: {
      type: "number",
      min: 0,
      step: 1
    },
    props: {
      value: 1
    }
  });

  if (data.content !== undefined) {
    input.value = data.content;
  }

  var temp = MapRealty_({
    tag: "div",
    "class": ["pizo-new-realty-dectruct-content-area-size-zone-all"],
    child: [{
      tag: "div",
      "class": "pizo-new-realty-desc-detail-row",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-dectruct-content-area-floor-label",
        props: {
          innerHTML: data.name
        }
      }, input]
    }]
  });

  temp.equipmentid = data.id;

  temp.getData = function () {
    var result = {
      equipmentid: data.id,
      content: input.value
    };
    return result;
  };

  return temp;
};

MapRealty_MapRealty.prototype.itemDisplayNone = function (data) {
  var temp = MapRealty_({
    tag: "div",
    style: {
      display: "none"
    }
  });

  temp.equipmentid = data.id;

  temp.getData = function () {
    var result = {
      equipmentid: data.id,
      content: data.content
    };
    return result;
  };

  return temp;
};

MapRealty_MapRealty.prototype.convenientView = function (data) {
  var self = this;
  var dataEquipments = ModuleDatabase["a" /* default */].getModule("equipments").data;
  var arr = [];

  for (var i = 0; i < dataEquipments.length; i++) {
    if (dataEquipments[i].available === 0) continue;
    arr.push({
      text: dataEquipments[i].name,
      value: dataEquipments[i].id,
      data: dataEquipments[i]
    });
  }

  var container = MapRealty_({
    tag: "div",
    "class": "pizo-new-realty-dectruct-content-area-size"
  });

  var equipment = MapRealty_({
    tag: "selectbox",
    style: {
      width: "100%",
      pointerEvents: "none"
    },
    props: {
      items: arr,
      enableSearch: true
    },
    on: {
      add: function add(event) {
        switch (parseInt(event.itemData.data.type)) {
          case 0:
            container.appendChild(self.itemCount(event.itemData.data));
            break;

          case 1:
            container.appendChild(self.itemDisplayNone(event.itemData.data));
            break;
        }
      },
      remove: function remove(event) {
        for (var i = 0; i < container.childNodes.length; i++) {
          if (container.childNodes[i].equipmentid == event.itemData.data.id) {
            container.childNodes[i].selfRemove();
            break;
          }
        }
      }
    }
  });

  if (data !== undefined) {
    var value = [];
    var temp;
    var libary = ModuleDatabase["a" /* default */].getModule("equipments").getLibary("id");

    for (var i = 0; i < data.equipment.length; i++) {
      temp = libary[data.equipment[i].equipmentid];
      temp.content = data.equipment[i].content;
      value.push(data.equipment[i].equipmentid);

      switch (parseInt(temp.type)) {
        case 0:
          if (temp.available == 1) container.appendChild(self.itemCount(temp));else container.appendChild(self.itemDisplayNone(temp));
          break;

        case 1:
          container.appendChild(self.itemDisplayNone(temp));
          break;
      }
    }

    equipment.values = value;
  }

  var temp = MapRealty_({
    tag: "div",
    "class": "pizo-new-realty-convenient",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-convenient-tab",
      props: {
        innerHTML: "Tiện ích trong nhà"
      }
    }, {
      tag: "div",
      "class": "pizo-new-realty-convenient-content",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-convenient-content-size",
        child: [equipment]
      }, container]
    }]
  });

  this.containerEquipment = container;
  return temp;
};

MapRealty_MapRealty.prototype.contactView = function (data) {
  var self = this;

  var containerContact = MapRealty_({
    tag: "div",
    "class": "pizo-new-realty-contact-content",
    child: []
  });

  var temp = MapRealty_({
    tag: "div",
    "class": "pizo-new-realty-contact",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-contact-tab",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-contact-tab-label",
        props: {
          innerHTML: "Thông tin liên hệ"
        }
      } // {
      //     tag:"button",
      //     class:"pizo-new-realty-contact-tab-button",
      //     on:{
      //         click:function(event){
      //             containerContact.appendChild(self.contactItem());
      //         }
      //     },
      //     child:[
      //         {
      //             tag:"i",
      //             class:"material-icons",
      //             style:{
      //                 fontSize:"1rem"
      //             },
      //             props:{
      //                 innerHTML:"add"
      //             }
      //         }
      //     ]
      // }
      ]
    }, containerContact]
  });

  if (data !== undefined) {
    for (var i = 0; i < data.contact.length; i++) {
      containerContact.appendChild(this.contactItem(data.contact[i]));
    }
  }

  this.containerContact = containerContact;
  return temp;
};

MapRealty_MapRealty.prototype.juridicalView = function (data) {
  var arr = ModuleDatabase["a" /* default */].getModule("juridicals").getList("name", "id");

  var temp = MapRealty_({
    tag: "div",
    "class": "pizo-new-realty-juridical",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-juridical-tab",
      props: {
        innerHTML: "Pháp lý"
      }
    }, {
      tag: "div",
      "class": "pizo-new-realty-juridical-content",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-dectruct-content-area-right",
        child: [{
          tag: "span",
          "class": "pizo-new-realty-detruct-content-area-label",
          props: {
            innerHTML: "Tình trạng"
          }
        }, {
          tag: "selectmenu",
          "class": ["pizo-new-realty-dectruct-content-area-fit", "pizo-new-realty-dectruct-input"],
          props: {
            items: arr
          }
        }]
      }]
    }]
  });

  this.juridical = MapRealty_$('div.pizo-new-realty-dectruct-content-area-fit.pizo-new-realty-dectruct-input', temp);

  if (data !== undefined) {
    this.juridical.value = data.juridical;
  }

  return temp;
};

MapRealty_MapRealty.prototype.contactItem = function (data) {
  var name, typecontact, phone, statusphone, note;
  var self = this;

  var temp = MapRealty_({
    tag: "div",
    "class": "pizo-new-realty-contact-item",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-contact-item-name",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-contact-item-name-label",
        props: {
          innerHTML: "Tên"
        }
      }, {
        tag: "input",
        "class": "pizo-new-realty-contact-item-name-input",
        props: {}
      }, {
        tag: "selectmenu",
        "class": "pizo-new-realty-contact-item-name-selectbox",
        props: {
          items: [{
            text: "Chưa xác định",
            value: 0
          }, {
            text: "Môi giới",
            value: 1
          }, {
            text: "Chủ nhà",
            value: 2
          }, {
            text: "Họ hàng",
            value: 3
          }]
        }
      }, {
        tag: "button",
        "class": "pizo-new-realty-contact-item-setting",
        on: {
          click: function click(event) {
            var tempData = temp.getData();
            if (tempData.username !== undefined) self.editAccount(temp, tempData);else self.editContact(temp, tempData);
          }
        },
        child: [{
          tag: "i",
          "class": "material-icons",
          style: {
            fontSize: "1rem",
            verticalAlign: "middle"
          },
          props: {
            innerHTML: "settings"
          }
        }]
      }, {
        tag: "button",
        "class": "pizo-new-realty-contact-item-close",
        on: {
          click: function click(event) {
            temp.selfRemove();
          }
        },
        child: [{
          tag: "i",
          "class": "material-icons",
          style: {
            fontSize: "1rem",
            verticalAlign: "middle"
          },
          props: {
            innerHTML: "close"
          }
        }]
      }]
    }, {
      tag: "div",
      "class": "pizo-new-realty-contact-item-phone",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-contact-item-phone-label",
        props: {
          innerHTML: "Số điện thoại"
        }
      }, {
        tag: "span",
        "class": "pizo-new-realty-contact-item-phone-input",
        style: {
          pointerEvents: "unset",
          cursor: "pointer"
        },
        props: {
          type: "number"
        },
        on: {
          click: function click(event) {
            if (this.isCheck) {
              this.innerText = "xxxxxxxxxx";
              this.isCheck = false;
            } else {
              this.innerText = this.realValue;
              this.isCheck = true;
            }
          }
        }
      }, {
        tag: "selectmenu",
        "class": "pizo-new-realty-contact-item-phone-selectbox",
        style: {
          width: "190px"
        },
        props: {
          items: [{
            text: "Còn hoạt động",
            value: 1
          }, {
            text: "Sai số",
            value: 0
          }, {
            text: "Gọi lại sau",
            value: 2
          }, {
            text: "Bỏ qua",
            value: 3
          }, {
            text: "Khóa máy",
            value: 4
          }]
        }
      }]
    }, {
      tag: "div",
      "class": "pizo-new-realty-contact-item-note",
      child: [{
        tag: "span",
        "class": "pizo-new-realty-contact-item-note-label",
        props: {
          innerHTML: "Ghi chú"
        }
      }, {
        tag: "textarea",
        "class": "pizo-new-realty-contact-item-note-input"
      }]
    }]
  });

  var name = MapRealty_$('input.pizo-new-realty-contact-item-name-input', temp);
  var typecontact = MapRealty_$('div.pizo-new-realty-contact-item-name-selectbox', temp);
  var phone = MapRealty_$('span.pizo-new-realty-contact-item-phone-input', temp);
  var statusphone = MapRealty_$('div.pizo-new-realty-contact-item-phone-selectbox', temp);
  var note = MapRealty_$('textarea.pizo-new-realty-contact-item-note-input', temp);

  phone.checkContact = function (data) {
    if (self.checkUserID === undefined) {
      var element = this;
      ModuleDatabase["a" /* default */].getModule("users").load().then(function () {
        setTimeout(function () {
          element.checkContact(data);
        }, 10);
      });
      return;
    }

    if (self.checkContactID === undefined) {
      var element = this;
      ModuleDatabase["a" /* default */].getModule("contacts").load().then(function () {
        setTimeout(function () {
          element.checkContact(data);
        }, 10);
      });
      return;
    }

    if (data.contactid !== undefined && data.contactid !== 0) {
      temp.setInformation(self.checkContactID[data.contactid]);
    } else if (data.userid !== undefined && data.userid !== 0) {
      temp.setInformation(self.checkUserID[data.userid]);
    } else {
      temp.setInformation(data);
    }
  };

  temp.setInformation = function (data) {
    if (data === undefined) {
      temp.selfRemove();
      return;
    }

    temp.data = data;
    if (data.statusphone === undefined) statusphone.value = 1;else statusphone.value = data.statusphone;
    phone.innerText = "xxxxxxxxxx";
    phone.realValue = data.phone;
    name.value = data.name;
    name.setAttribute("disabled", "");
    statusphone.style.pointerEvents = "none";
    statusphone.style.backgroundColor = "#f3f3f3";
  };

  temp.setOpenForm = function (data) {
    temp.data = data;
    statusphone.value = 1;
    name.removeAttribute("disabled");
    statusphone.style.pointerEvents = "unset";
    statusphone.style.backgroundColor = "unset";
  };

  temp.getData = function () {
    if (temp.data !== undefined) {
      temp.data.typecontact = typecontact.value;
      temp.data.note = note.value;
      return temp.data;
    } else {
      return {
        name: name.value,
        statusphone: statusphone.value,
        phone: phone.value,
        typecontact: typecontact.value,
        note: note.value
      };
    }
  };

  if (data !== undefined) {
    phone.checkContact(data);
    typecontact.value = data.typecontact;
    note.value = data.note;
  }

  return temp;
};

MapRealty_MapRealty.prototype.detailHouse = function (data) {
  var unitHeight = unit_Long(function (event) {
    var height = MapRealty_$('input.pizo-new-realty-dectruct-content-area-height', temp);
    height.value = height.value * event.lastValue / event.value;
  });
  var unitWidth = unit_Long(function (event) {
    var width = MapRealty_$('input.pizo-new-realty-dectruct-content-area-width', temp);
    width.value = width.value * event.lastValue / event.value;
  });
  var unit_Zone_1 = unit_Zone(function (event) {
    var area1 = MapRealty_$('input.pizo-new-realty-dectruct-content-area-1', temp);
    area1.value = area1.value * event.lastValue / event.value;
  });
  var unit_Zone_2 = unit_Zone(function (event) {
    var area2 = MapRealty_$('input.pizo-new-realty-dectruct-content-area-2', temp);
    area2.value = area2.value * event.lastValue / event.value;
  });
  var unit_Zone_all = unit_Zone(function (event) {
    var area2 = MapRealty_$('pizo-new-realty-dectruct-content-area-all', temp);
    area2.value = area2.value * event.lastValue / event.value;
  });
  var unitWidthRoad = unit_Long(function (event) {
    var width = MapRealty_$('input.pizo-new-realty-dectruct-content-area-access', temp);
    width.value = width.value * event.lastValue / event.value;
  });
  var self = this;

  var priceRent = MapRealty_({
    tag: "div",
    "class": "pizo-new-realty-dectruct-content-area-right",
    child: [{
      tag: "div",
      "class": "pizo-new-realty-desc-detail-row",
      child: [{
        tag: "span",
        "class": ["pizo-new-realty-detruct-content-price-rent-label", "pizo-new-realty-detruct-content-area-label"],
        props: {
          innerHTML: "Giá thuê tháng"
        }
      }, {
        tag: "input",
        "class": ["pizo-new-realty-detruct-content-price-rent", "pizo-new-realty-dectruct-input"],
        on: {
          input: function input(event) {
            this.value = FormatFunction_formatNumber(this.value);
          },
          blur: function blur(event) {
            this.value = reFormatNumber(this.value);
          }
        }
      }, {
        tag: "selectmenu",
        "class": "pizo-new-realty-detruct-content-price-rent-unit",
        on: {
          change: function change(event) {
            var price = MapRealty_$('input.pizo-new-realty-detruct-content-price-rent', temp);
            price.value = price.value * event.lastValue / event.value;
          }
        },
        props: {
          items: [{
            text: "VND",
            value: 1
          }, {
            text: "USD",
            value: 23180
          }]
        }
      }]
    }]
  });

  if (data.salestatus / 10 < 1) {
    priceRent.style.display = "none";
  }

  var fullAddressOld = "";

  if (data.addressid_old && data.addressid_old != 0) {
    var number = this.checkAddress[data.addressid_old].addressnumber;
    var street = this.checkStreet[this.checkAddress[data.addressid_old].streetid].name;
    var ward = this.checkWard[this.checkAddress[data.addressid_old].wardid].name;
    var district = this.checkDistrict[this.checkWard[this.checkAddress[data.addressid_old].wardid].districtid].name;
    var state = this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[data.addressid_old].wardid].districtid].stateid].name;
    fullAddressOld = number + " " + street + ", " + ward + ", " + district + ", " + state;
  }

  var oldAddress = MapRealty_({
    tag: "div",
    "class": "pizo-new-realty-dectruct-content-area-right",
    child: [{
      tag: "span",
      "class": "pizo-new-realty-detruct-content-area-label",
      style: {
        width: "70px"
      },
      child: [{
        text: "Địa chỉ cũ"
      }]
    }, {
      tag: "input",
      "class": ["pizo-new-realty-dectruct-input"],
      props: {
        value: fullAddressOld
      }
    }]
  });

  var fullName = data.name;

  var name = MapRealty_({
    tag: "div",
    "class": "pizo-new-realty-dectruct-content-area-right",
    child: [{
      tag: "span",
      "class": "pizo-new-realty-detruct-content-area-label",
      style: {
        width: "70px"
      },
      child: [{
        text: "Tên"
      }]
    }, {
      tag: "input",
      "class": ["pizo-new-realty-dectruct-input"],
      props: {
        value: fullName
      }
    }]
  });

  var fullDesc = data.content;

  var desc = MapRealty_({
    tag: "div",
    "class": "pizo-new-realty-dectruct-content-area-right",
    child: [{
      tag: "span",
      "class": "pizo-new-realty-detruct-content-area-label",
      style: {
        width: "70px"
      },
      child: [{
        text: "Mô tả"
      }]
    }, {
      tag: "span",
      "class": ["pizo-new-realty-dectruct-input"],
      style: {
        border: "none"
      },
      props: {
        innerHTML: fullDesc
      }
    }]
  });

  if (fullAddressOld === "") {
    oldAddress.style.display = "none";
  }

  if (fullName === "") {
    name.style.display = "none";
  }

  if (fullDesc === "") {
    desc.style.display = "none";
  }

  var temp = MapRealty_({
    tag: "div",
    "class": ["pizo-new-realty-dectruct", "pizo-only-view"],
    on: {
      scroll: function scroll(event) {
        for (var i = this.childNodes.length - 1; i >= 0; i--) {
          if (this.childNodes[i].offsetTop < this.scrollTop) {
            self.buttonRange.value = i + 1;
            return;
          }
        }

        self.buttonRange.value = 0;
      }
    },
    child: [{
      tag: "div",
      // class:"",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-dectruct-tab",
        props: {
          innerHTML: "Mô tả"
        }
      }, name, oldAddress, desc]
    }, {
      tag: "div",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-dectruct-tab",
        props: {
          innerHTML: "Thông tin xây dựng"
        }
      }, {
        tag: "div",
        "class": "pizo-new-realty-dectruct-content",
        child: [{
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area",
          child: [{
            tag: "span",
            "class": "pizo-new-realty-detruct-content-area-label",
            props: {
              innerHTML: "Diện tích"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "span",
                  "class": "pizo-new-realty-dectruct-content-area-height-label",
                  props: {
                    innerHTML: "Ngang"
                  }
                }, {
                  tag: "input",
                  "class": ["pizo-new-realty-dectruct-content-area-height", "pizo-new-realty-dectruct-input"],
                  on: {
                    change: function change(event) {
                      var valueA = 0;
                      var valueB = 0;

                      if (this.value !== "") {
                        valueA = this.value * this.nextSibling.value;
                      }

                      var width = MapRealty_$('input.pizo-new-realty-dectruct-content-area-width', temp);

                      if (width.value !== "") {
                        valueB = width.value * width.nextSibling.value;
                      }

                      var input1 = MapRealty_$('input.pizo-new-realty-dectruct-content-area-1', temp);
                      input1.value = valueA * valueB / input1.nextSibling.value;
                      var input2 = MapRealty_$('input.pizo-new-realty-dectruct-content-area-2', temp);
                      input2.value = valueA * valueB / input2.nextSibling.value;
                      var inputall = MapRealty_$('input.pizo-new-realty-dectruct-content-area-all', temp);
                      inputall.value = valueA * valueB / input2.nextSibling.value;
                      inputall.emit("change");
                    }
                  },
                  attr: {
                    type: "number",
                    min: 0
                  }
                }, unitHeight]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "span",
                  "class": "pizo-new-realty-dectruct-content-area-width-label",
                  props: {
                    innerHTML: "Dài"
                  }
                }, {
                  tag: "input",
                  "class": ["pizo-new-realty-dectruct-content-area-width", "pizo-new-realty-dectruct-input"],
                  on: {
                    change: function change(event) {
                      var valueA = 0;
                      var valueB = 0;

                      if (this.value !== "") {
                        valueA = this.value * this.nextSibling.value;
                      }

                      var height = MapRealty_$('input.pizo-new-realty-dectruct-content-area-height', temp);

                      if (height.value !== "") {
                        valueB = height.value * height.nextSibling.value;
                      }

                      var input1 = MapRealty_$('input.pizo-new-realty-dectruct-content-area-1', temp);
                      input1.value = valueA * valueB / input1.nextSibling.value;
                      var input2 = MapRealty_$('input.pizo-new-realty-dectruct-content-area-2', temp);
                      input2.value = valueA * valueB / input2.nextSibling.value;
                      var inputall = MapRealty_$('input.pizo-new-realty-dectruct-content-area-all', temp);
                      inputall.value = valueA * valueB / input2.nextSibling.value;
                      inputall.emit("change");
                    }
                  },
                  attr: {
                    type: "number",
                    min: 0
                  }
                }, unitWidth]
              }]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "span",
                  "class": "pizo-new-realty-dectruct-content-area-1-label",
                  props: {
                    innerHTML: "Đất XD"
                  }
                }, {
                  tag: "input",
                  "class": ["pizo-new-realty-dectruct-content-area-1", "pizo-new-realty-dectruct-input"],
                  attr: {
                    type: "number",
                    min: 0
                  }
                }, unit_Zone_1]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "span",
                  "class": "pizo-new-realty-dectruct-content-area-2-label",
                  props: {
                    innerHTML: "Sàn XD"
                  }
                }, {
                  tag: "input",
                  "class": ["pizo-new-realty-dectruct-content-area-2", "pizo-new-realty-dectruct-input"],
                  attr: {
                    type: "number",
                    min: 0
                  }
                }, unit_Zone_2]
              }]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "span",
                  "class": "pizo-new-realty-dectruct-content-area-1-label",
                  props: {
                    innerHTML: "Diện tích"
                  }
                }, {
                  tag: "input",
                  "class": ["pizo-new-realty-dectruct-content-area-all", "pizo-new-realty-dectruct-input"],
                  on: {
                    change: function change(event) {
                      var inputValue = MapRealty_$("input.pizo-new-realty-detruct-content-price-per", temp);
                      var price = MapRealty_$('input.pizo-new-realty-detruct-content-price', temp);
                      var priceUnit = MapRealty_$('div.pizo-new-realty-detruct-content-price-unit', temp);
                      var areaValue = MapRealty_$('input.pizo-new-realty-dectruct-content-area-all', temp);
                      var areaValueUnit = unit_Zone_all;
                      inputValue.value = price.value * priceUnit.value / (areaValue.value * areaValueUnit.value) * 1000;
                    }
                  },
                  attr: {
                    type: "number",
                    min: 0
                  }
                }, unit_Zone_all]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "span",
                  "class": "pizo-new-realty-dectruct-content-area-2-label",
                  props: {
                    innerHTML: "Kết cấu"
                  }
                }, {
                  tag: "selectmenu",
                  "class": "pizo-new-realty-detruct-content-structure",
                  on: {
                    change: function change(event) {
                      if (this.value === 3) advanceDetruct.style.display = "";else advanceDetruct.style.display = "none";
                      if (this.value >= 2) simpleDetruct.style.display = "";else simpleDetruct.style.display = "none";
                    }
                  },
                  props: {
                    items: [{
                      text: "Chưa xác định",
                      value: 0
                    }, {
                      text: "Đất trống",
                      value: 1
                    }, {
                      text: "Cấp 4",
                      value: 2
                    }, {
                      text: "Sẳn *",
                      value: 3
                    }]
                  }
                }]
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": ["pizo-new-realty-dectruct-content-area", "pizo-new-realty-dectruct-content-area-simple"],
          child: [{
            tag: "span",
            "class": "pizo-new-realty-detruct-content-area-label",
            style: {
              marginBottom: "0.7143rem"
            },
            props: {
              innerHTML: "Quy mô kết cấu"
            }
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-advance",
            child: [{
              tag: "div",
              "class": ["pizo-new-realty-dectruct-content-area-size"],
              child: [{
                tag: "div",
                "class": ["pizo-new-realty-dectruct-content-area-size-zone"],
                child: [{
                  tag: "div",
                  "class": "pizo-new-realty-desc-detail-row",
                  child: [{
                    tag: "span",
                    "class": "pizo-new-realty-dectruct-content-area-floor-label",
                    props: {
                      innerHTML: "Tầng"
                    }
                  }, {
                    tag: "input",
                    "class": ["pizo-new-realty-dectruct-content-area-floor", "pizo-new-realty-dectruct-input"],
                    attr: {
                      type: "number",
                      min: 0,
                      step: 1
                    },
                    props: {
                      value: 0
                    }
                  }]
                }]
              }, {
                tag: "div",
                "class": "pizo-new-realty-dectruct-content-area-size-zone",
                child: [{
                  tag: "div",
                  "class": "pizo-new-realty-desc-detail-row",
                  child: [{
                    tag: "span",
                    "class": "pizo-new-realty-dectruct-content-area-basement-label",
                    props: {
                      innerHTML: "Hầm"
                    }
                  }, {
                    tag: "input",
                    "class": ["pizo-new-realty-dectruct-content-area-basement", "pizo-new-realty-dectruct-input"],
                    attr: {
                      type: "number",
                      min: 0,
                      step: 1
                    },
                    props: {
                      value: 0
                    }
                  }]
                }]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-selectbox",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-dectruct-content-area-size-zone",
                child: [{
                  tag: "div",
                  "class": "pizo-new-realty-desc-detail-row",
                  child: [{
                    tag: "div",
                    "class": "pizo-new-realty-dectruct-content-area-selectbox-child",
                    child: [{
                      tag: "span",
                      props: {
                        innerHTML: "Lửng"
                      }
                    }, {
                      tag: "checkbox",
                      "class": "pizo-new-realty-dectruct-content-area-selectbox-child-1"
                    }]
                  }, {
                    tag: "div",
                    "class": "pizo-new-realty-dectruct-content-area-selectbox-child",
                    child: [{
                      tag: "span",
                      props: {
                        innerHTML: "Sân thượng"
                      }
                    }, {
                      tag: "checkbox",
                      "class": "pizo-new-realty-dectruct-content-area-selectbox-child-2"
                    }]
                  }]
                }]
              }, {
                tag: "div",
                "class": "pizo-new-realty-dectruct-content-area-size-zone",
                child: [{
                  tag: "div",
                  "class": "pizo-new-realty-desc-detail-row",
                  child: [{
                    tag: "div",
                    "class": "pizo-new-realty-dectruct-content-area-selectbox-child",
                    child: [{
                      tag: "span",
                      props: {
                        innerHTML: "Ban công"
                      }
                    }, {
                      tag: "checkbox",
                      "class": "pizo-new-realty-dectruct-content-area-selectbox-child-3"
                    }]
                  }, {
                    tag: "div",
                    "class": "pizo-new-realty-dectruct-content-area-selectbox-child",
                    child: [{
                      tag: "span",
                      props: {
                        innerHTML: "Thang máy"
                      }
                    }, {
                      tag: "checkbox",
                      "class": "pizo-new-realty-dectruct-content-area-selectbox-child-4"
                    }]
                  }]
                }]
              }]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "span",
                  "class": "pizo-new-realty-dectruct-content-area-bedroom-label",
                  props: {
                    innerHTML: "Phòng ngủ"
                  }
                }, {
                  tag: "input",
                  "class": ["pizo-new-realty-dectruct-content-area-bedroom", "pizo-new-realty-dectruct-input"],
                  attr: {
                    type: "number",
                    min: 0,
                    step: 1
                  },
                  props: {
                    value: 0
                  }
                }]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "span",
                  "class": "pizo-new-realty-dectruct-content-area-living-label",
                  props: {
                    innerHTML: "Phòng khách"
                  }
                }, {
                  tag: "input",
                  "class": ["pizo-new-realty-dectruct-content-area-living", "pizo-new-realty-dectruct-input"],
                  attr: {
                    type: "number",
                    min: 0,
                    step: 1
                  },
                  props: {
                    value: 0
                  }
                }]
              }]
            }]
          }, {
            tag: "div",
            "class": "pizo-new-realty-dectruct-content-area-size",
            child: [{
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "span",
                  "class": "pizo-new-realty-dectruct-content-area-kitchen-label",
                  props: {
                    innerHTML: "Bếp"
                  }
                }, {
                  tag: "input",
                  "class": ["pizo-new-realty-dectruct-content-area-kitchen", "pizo-new-realty-dectruct-input"],
                  attr: {
                    type: "number",
                    min: 0,
                    step: 1
                  },
                  props: {
                    value: 0
                  }
                }]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-realty-dectruct-content-area-size-zone",
              child: [{
                tag: "div",
                "class": "pizo-new-realty-desc-detail-row",
                child: [{
                  tag: "span",
                  "class": "pizo-new-realty-dectruct-content-area-toilet-label",
                  props: {
                    innerHTML: "Toilet"
                  }
                }, {
                  tag: "input",
                  "class": ["pizo-new-realty-dectruct-content-area-toilet", "pizo-new-realty-dectruct-input"],
                  attr: {
                    type: "number",
                    min: 0,
                    step: 1
                  },
                  props: {
                    value: 0
                  }
                }]
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area",
          child: [{
            tag: "div",
            "class": ["pizo-new-realty-dectruct-content-area-size-zone", "no-margin-style"],
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-detruct-content-area-label",
                props: {
                  innerHTML: "Hướng"
                }
              }, {
                tag: "selectmenu",
                "class": "pizo-new-realty-detruct-content-direction",
                props: {
                  items: [{
                    text: "Chưa xác định",
                    value: 0
                  }, {
                    text: "Đông",
                    value: 6
                  }, {
                    text: "Tây",
                    value: 4
                  }, {
                    text: "Nam",
                    value: 2
                  }, {
                    text: "Bắc",
                    value: 8
                  }, {
                    text: "Đông Bắc",
                    value: 9
                  }, {
                    text: "Đông Nam",
                    value: 3
                  }, {
                    text: "Tây Bắc",
                    value: 7
                  }, {
                    text: "Tây Nam",
                    value: 1
                  }]
                }
              }]
            }]
          }, {
            tag: "div",
            "class": ["pizo-new-realty-dectruct-content-area-size-zone", "margin-style"],
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-detruct-content-area-label",
                props: {
                  innerHTML: "Loại nhà"
                }
              }, {
                tag: "selectmenu",
                "class": "pizo-new-realty-detruct-content-type",
                props: {
                  items: ModuleDatabase["a" /* default */].getModule("type_activehouses").getList("name", "id")
                }
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-right",
          child: [{
            tag: "span",
            "class": "pizo-new-realty-detruct-content-area-label",
            props: {
              innerHTML: "Chiều rộng đường vào"
            }
          }, {
            tag: "input",
            "class": ["pizo-new-realty-dectruct-content-area-access", "pizo-new-realty-dectruct-input"],
            attr: {
              type: "number",
              min: 0,
              step: 1
            },
            props: {
              value: 0
            }
          }, unitWidthRoad]
        }]
      }]
    }, {
      tag: "div",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-dectruct-tab",
        props: {
          innerHTML: "Giá"
        }
      }, {
        tag: "div",
        "class": "pizo-new-realty-dectruct-content",
        child: [{
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area",
          child: [{
            tag: "div",
            "class": ["pizo-new-realty-dectruct-content-area-size-zone", "no-margin-style"],
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-detruct-content-area-label",
                props: {
                  innerHTML: "Giá"
                }
              }, {
                tag: "input",
                "class": ["pizo-new-realty-detruct-content-price", "pizo-new-realty-dectruct-input"],
                props: {
                  value: 0
                },
                on: {
                  change: function change(event) {
                    var inputValue = MapRealty_$("input.pizo-new-realty-detruct-content-price-per", temp);
                    var price = MapRealty_$('input.pizo-new-realty-detruct-content-price', temp);
                    var priceUnit = MapRealty_$('div.pizo-new-realty-detruct-content-price-unit', temp);
                    var areaValue = MapRealty_$('input.pizo-new-realty-dectruct-content-area-all', temp);
                    var areaValueUnit = unit_Zone_all;
                    inputValue.value = price.value * priceUnit.value / (areaValue.value * areaValueUnit.value) * 1000;
                  }
                }
              }, {
                tag: "selectmenu",
                "class": "pizo-new-realty-detruct-content-price-unit",
                on: {
                  change: function change(event) {
                    var price = MapRealty_$('input.pizo-new-realty-detruct-content-price', temp);
                    price.value = price.value * event.lastValue / event.value;
                  }
                },
                props: {
                  items: [{
                    text: "tỉ",
                    value: 1
                  }, {
                    text: "triệu",
                    value: 1 / 1000
                  }]
                }
              }]
            }]
          }, {
            tag: "div",
            "class": ["pizo-new-realty-dectruct-content-area-size-zone", "margin-style"],
            child: [{
              tag: "div",
              "class": "pizo-new-realty-desc-detail-row",
              child: [{
                tag: "span",
                "class": "pizo-new-realty-detruct-content-area-label",
                props: {
                  innerHTML: "Giá m²"
                }
              }, {
                tag: "input",
                "class": ["pizo-new-realty-detruct-content-price-per", "pizo-new-realty-dectruct-input"],
                attr: {
                  disabled: ""
                }
              }]
            }]
          }]
        }, priceRent, {
          tag: "div",
          "class": "pizo-new-realty-dectruct-content-area-right",
          child: [{
            tag: "span",
            "class": "pizo-new-realty-detruct-content-area-label",
            props: {
              innerHTML: "Phù hợp khai thác"
            }
          }, {
            tag: "selectbox",
            "class": ["pizo-new-realty-dectruct-content-area-fit", "pizo-new-realty-dectruct-input"],
            props: {
              items: [{
                text: "Để ở",
                value: 1
              }, {
                text: "Cho thuê",
                value: 10
              }, {
                text: "Kinh doanh",
                value: 100
              }, {
                text: "Làm văn phòng",
                value: 1000
              }]
            }
          }]
        }]
      }]
    }, this.convenientView(data), this.contactView(data), this.juridicalView(data), {
      tag: "div",
      "class": "pizo-new-realty-dectruct-tab-ownership-history",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-dectruct-tab",
        props: {
          innerHTML: "Lịch sử sở hữu"
        }
      }]
    }, {
      tag: "div",
      "class": "pizo-new-realty-dectruct-tab-historical-progress",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-dectruct-tab",
        props: {
          innerHTML: "Tiến trình lịch sử"
        }
      }, {
        tag: "div",
        "class": "pizo-new-realty-dectruct-tab-historical-progress-container",
        child: [{
          tag: "span",
          "class": "pizo-new-realty-dectruct-tab-historical-progress-label"
        }]
      }]
    }, {
      tag: "div",
      "class": "pizo-new-realty-dectruct-tab-ownership-history",
      child: [{
        tag: "div",
        "class": "pizo-new-realty-dectruct-tab",
        props: {
          innerHTML: "Ghi chú"
        }
      }]
    }]
  });

  var inputHeight = MapRealty_$('input.pizo-new-realty-dectruct-content-area-height.pizo-new-realty-dectruct-input', temp);
  var inputWidth = MapRealty_$('input.pizo-new-realty-dectruct-content-area-width.pizo-new-realty-dectruct-input', temp);
  var inputUnitHeight = unitHeight;
  var inputUnitWidth = unitWidth;
  var inputZone1 = MapRealty_$('input.pizo-new-realty-dectruct-content-area-1.pizo-new-realty-dectruct-input', temp);
  var inputZone2 = MapRealty_$('input.pizo-new-realty-dectruct-content-area-2.pizo-new-realty-dectruct-input', temp);
  var inputUnitZone1 = unit_Zone_1;
  var inputUnitZone2 = unit_Zone_2;
  var inputZoneAll = MapRealty_$('input.pizo-new-realty-dectruct-content-area-all', temp);
  var inputUnitZoneAll = unit_Zone_all;
  var inputPrice = MapRealty_$('input.pizo-new-realty-detruct-content-price', temp);
  var inputUnitPrice = MapRealty_$('div.pizo-new-realty-detruct-content-price-unit', temp);
  var inputPriceRent = MapRealty_$('input.pizo-new-realty-detruct-content-price-rent', temp);
  var inputPriceRentUnit = MapRealty_$('div.pizo-new-realty-detruct-content-price-rent-unit', temp);
  var inputFit = MapRealty_$('div.pizo-new-realty-dectruct-content-area-fit', temp);
  var direction = MapRealty_$('div.pizo-new-realty-detruct-content-direction', temp);
  var structure = MapRealty_$('div.pizo-new-realty-detruct-content-structure', temp);
  var type = MapRealty_$('div.pizo-new-realty-detruct-content-type', temp);
  var inputWidthRoad = MapRealty_$('input.pizo-new-realty-dectruct-content-area-access', temp);
  var inputUnitWidthRoad = unitWidthRoad;
  var inputBedroom = MapRealty_$('input.pizo-new-realty-dectruct-content-area-bedroom', temp);
  var inputKitchen = MapRealty_$('input.pizo-new-realty-dectruct-content-area-kitchen', temp);
  var inputToilet = MapRealty_$('input.pizo-new-realty-dectruct-content-area-toilet', temp);
  var inputLiving = MapRealty_$('input.pizo-new-realty-dectruct-content-area-living', temp);
  var inputBasement = MapRealty_$('input.pizo-new-realty-dectruct-content-area-basement', temp);
  var inputFloor = MapRealty_$('input.pizo-new-realty-dectruct-content-area-floor', temp);
  var advanceDetruct = MapRealty_$("div.pizo-new-realty-dectruct-content-area-advance", temp);
  var simpleDetruct = MapRealty_$("div.pizo-new-realty-dectruct-content-area-simple", temp);
  var advanceDetruct1 = MapRealty_$("div.pizo-new-realty-dectruct-content-area-selectbox-child-1", temp);
  var advanceDetruct2 = MapRealty_$("div.pizo-new-realty-dectruct-content-area-selectbox-child-2", temp);
  var advanceDetruct3 = MapRealty_$("div.pizo-new-realty-dectruct-content-area-selectbox-child-3", temp);
  var advanceDetruct4 = MapRealty_$("div.pizo-new-realty-dectruct-content-area-selectbox-child-4", temp);
  var historical = MapRealty_$('span.pizo-new-realty-dectruct-tab-historical-progress-label', temp);

  if (data !== undefined) {
    var original = data;
    inputHeight.value = original.height;
    inputWidth.value = original.width;
    inputZone1.value = original.landarea;
    inputZone2.value = original.floorarea;
    inputZoneAll.value = original.acreage;
    direction.value = original.direction;
    type.value = original.type;
    inputFit.value = original.fit;
    inputWidthRoad.value = original.roadwidth;
    inputFloor.value = original.floor;
    inputBasement.value = original.basement;
    inputBedroom.value = original.bedroom;
    inputLiving.value = original.living;
    inputToilet.value = original.toilet;
    inputKitchen.value = original.kitchen;
    inputPrice.value = original.price;
    inputPriceRent.value = original.pricerent;
    structure.value = original.structure;
    structure.emit("change");
    inputFit.values = formatFit(parseInt(original.fit));
    inputPrice.emit("change");
    var advanceDetruct = original.advancedetruct;
    advanceDetruct1.checked = advanceDetruct % 10 ? true : false;
    advanceDetruct = parseInt(advanceDetruct / 10);
    advanceDetruct2.checked = advanceDetruct % 10 ? true : false;
    advanceDetruct = parseInt(advanceDetruct / 10);
    advanceDetruct3.checked = advanceDetruct % 10 ? true : false;
    advanceDetruct = parseInt(advanceDetruct / 10);
    advanceDetruct4.checked = advanceDetruct % 10 == 1 ? true : false;
    ModuleDatabase["a" /* default */].getModule("activehouses_logs").load({
      WHERE: [{
        houseid: original.id
      }],
      ORDERING: "created"
    }).then(function (value) {
      var text = "";

      for (var i = value.length - 1; i >= 0; i--) {
        text += value[i].log;
        text += "</br>";
      }

      historical.innerHTML = text;
    });
  }

  return temp;
};

MapRealty_MapRealty.prototype.itemMap = function (marker) {
  var self = this;
  var data = marker.data;

  var thumnail = MapRealty_({
    tag: "img"
  });

  var type;
  var diffTime = Math.abs(new Date() - new Date(data.created));
  var date = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
  type = this.checkTypeHouse[parseInt(data.type)];
  if (type !== undefined) type = type.name;
  var fullAddress = "";

  if (data.addressid != 0) {
    var number = this.checkAddress[data.addressid].addressnumber;
    var street = this.checkStreet[this.checkAddress[data.addressid].streetid].name;
    var ward = this.checkWard[this.checkAddress[data.addressid].wardid].name;
    var district = this.checkDistrict[this.checkWard[this.checkAddress[data.addressid].wardid].districtid].name;
    var state = this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[data.addressid].wardid].districtid].stateid].name;
    fullAddress = number + " " + street + ", " + ward + ", " + district + ", " + state;
  }

  var statusIcon = MapRealty_({
    tag: "i",
    "class": ["material-icons", "list-card-type-icon", "zsg-icon-for-sale"],
    props: {
      innerHTML: "brightness_1"
    }
  });

  switch (parseInt(data.salestatus)) {
    case 0:
      statusIcon.style.color = "yellow";
      break;

    case 1:
      statusIcon.style.color = "red";
      break;

    case 10:
      statusIcon.style.color = "blue";
      break;

    case 11:
      statusIcon.style.color = "purple";
      break;
  }

  var temp = MapRealty_({
    tag: "li",
    on: {
      mouseover: function mouseover(event) {
        google.maps.event.trigger(marker, 'mouseover');
      },
      mouseout: function mouseout(event) {
        google.maps.event.trigger(marker, 'mouseout');
      },
      click: function click(event) {
        document.body.appendChild(self.modalLargeRealty(data));
      }
    },
    child: [{
      tag: "scrpit",
      props: {
        type: "application/ld+json" // innerHTML:"" Thêm scrpit cần để làm từ khóa cho google search

      }
    }, {
      tag: "article",
      "class": ["list-card", "list-card-short", "list-card_not-saved"],
      child: [{
        tag: "div",
        "class": "list-card-info",
        child: [{
          tag: "a",
          "class": "list-card-link",
          props: {
            src: "Link nhà"
          },
          child: [{
            tag: "address",
            "class": "list-card-addr",
            props: {
              innerHTML: fullAddress
            }
          }]
        }, {
          tag: "div",
          "class": "list-card-footer",
          child: [{
            tag: "div",
            "class": "list-card-type",
            child: [statusIcon, {
              tag: "span",
              props: {
                innerHTML: type
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "list-card-heading",
          child: [{
            tag: "div",
            "class": "list-card-price",
            props: {
              innerHTML: "VND " + data.price + " tỉ"
            }
          }, {
            tag: "ul",
            "class": "list-card-details",
            child: [{
              tag: "li",
              child: [{
                tag: "span",
                props: {
                  innerHTML: data.width
                }
              }, {
                tag: "abbr",
                "class": "list-card-label",
                props: {
                  innerHTML: "m"
                }
              }]
            }, {
              text: "x"
            }, {
              tag: "li",
              child: [{
                tag: "span",
                props: {
                  innerHTML: data.height
                }
              }, {
                tag: "abbr",
                "class": "list-card-label",
                props: {
                  innerHTML: "m"
                }
              }]
            }, {
              tag: "li",
              child: [{
                tag: "span",
                props: {
                  innerHTML: data.acreage
                }
              }, {
                tag: "abbr",
                "class": "list-card-label",
                props: {
                  innerHTML: "m²"
                }
              }]
            }]
          }]
        }]
      }, {
        tag: "div",
        "class": "list-card-top",
        child: [{
          tag: "div",
          "class": ["list-card-variable-text", "list-card-img-overlay"],
          props: {
            innerHTML: date + " ngày trước"
          }
        }, {
          tag: "div",
          "class": ["list-card-brokerage", "list-card-img-overlay"],
          child: [{
            tag: "div",
            "class": "list-card-truncate",
            props: {
              innerHTML: data.content
            }
          }]
        }, {
          tag: "a",
          "class": ["list-card-link", "list-card-img"],
          props: {
            src: "Link nhà"
          },
          child: [thumnail]
        }]
      }, {
        tag: "button",
        "class": "list-card-save",
        child: [{
          tag: "i",
          "class": ["favorite_border", "material-icons"],
          props: {
            innerHTML: "favorite_border"
          }
        }]
      }]
    }]
  });

  var first = "";
  var arr = [];

  if (data !== undefined) {
    for (var i = 0; i < data.image.length; i++) {
      if (first !== "") arr.push(first);
      arr.push({
        id: data.image[i]
      });

      if (first == "") {
        first = "||";
      }
    }
  }

  var src = "https://photos.zillowstatic.com/p_e/ISrh2fnbc4956m0000000000.jpg";
  if (arr.length > 0) ModuleDatabase["a" /* default */].getModule("image").load({
    WHERE: arr
  }).then(function (values) {
    var src = "https://photos.zillowstatic.com/p_e/ISrh2fnbc4956m0000000000.jpg";

    for (var i = 0; i < values.length; i++) {
      if (values[i].thumnail == 1) {
        src = "https://lab.daithangminh.vn/home_co/pizo/assets/upload/" + values[i].src;
        break;
      }
    }

    thumnail.setAttribute("src", src);
  });
  thumnail.setAttribute("src", src);
  var listener = google.maps.event.addListener(marker, 'click', function (event) {
    temp.click();
  });
  setTimeout(function () {
    onRemove(temp, function () {
      google.maps.event.removeListener(listener);
    });
  }, 50);
  return temp;
};

function onRemove(element, callback) {
  var parent = element.parentNode;
  if (!parent) throw new Error("The node must already be attached");
  var obs = new MutationObserver(function (mutations) {
    var _iterator = _createForOfIteratorHelper(mutations),
        _step;

    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var mutation = _step.value;

        var _iterator2 = _createForOfIteratorHelper(mutation.removedNodes),
            _step2;

        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var el = _step2.value;

            if (el === element) {
              obs.disconnect();
              callback();
            }
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
  });
  obs.observe(parent, {
    childList: true
  });
}

MapRealty_MapRealty.prototype.searchControlContent = function () {
  var startDay, endDay;
  startDay = MapRealty_({
    tag: 'calendar-input',
    data: {
      anchor: 'top',
      value: new Date(new Date().getFullYear(), 0, 1),
      maxDateLimit: new Date()
    },
    on: {
      changed: function changed(date) {
        endDay.minDateLimit = date;
      }
    }
  });
  endDay = MapRealty_({
    tag: 'calendar-input',
    data: {
      anchor: 'top',
      value: new Date(),
      minDateLimit: new Date()
    },
    on: {
      changed: function changed(date) {
        startDay.maxDateLimit = date;
      }
    }
  });

  var content = MapRealty_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control-container",
    on: {
      click: function click(event) {
        event.stopPropagation();
      }
    },
    child: [{
      tag: "div",
      "class": "pizo-list-realty-main-search-control-container-scroller",
      child: [{
        tag: "div",
        "class": "pizo-list-realty-main-search-control-row",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-date",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-date-label",
            props: {
              innerHTML: "Thời gian"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-date-input",
            child: [startDay, endDay]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-price",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-price-label",
            props: {
              innerHTML: "Khoảng giá"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-price-input",
            child: [{
              tag: "input",
              "class": "pizo-list-realty-main-search-control-row-price-input-low",
              props: {
                type: "number",
                autocomplete: "off",
                placeholder: "đ Từ"
              }
            }, {
              tag: "input",
              "class": "pizo-list-realty-main-search-control-row-price-input-high",
              props: {
                type: "number",
                autocomplete: "off",
                placeholder: "đ Đến"
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-phone",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-phone-label",
            props: {
              innerHTML: "Số điện thoại"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-phone-input",
            child: [{
              tag: "input",
              props: {
                type: "number",
                autocomplete: "off"
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-button",
          child: [{
            tag: "button",
            "class": ["pizo-list-realty-button-apply", "pizo-list-realty-button-element"],
            on: {
              click: function click(evt) {}
            },
            child: ['<span>' + "Áp dụng" + '</span>']
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-button",
          child: [{
            tag: "button",
            "class": ["pizo-list-realty-button-deleteall", "pizo-list-realty-button-element"],
            on: {
              click: function click(evt) {
                temp.reset();
              }
            },
            child: ['<span>' + "Thiết lập lại" + '</span>']
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-main-search-control-row",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-MS",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-MS-label",
            props: {
              innerHTML: "Mã số"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-MS-input",
            child: [{
              tag: "input",
              props: {
                type: "number",
                autocomplete: "off"
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-SN",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-SN-label",
            props: {
              innerHTML: "Số nhà"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-SN-input",
            child: [{
              tag: "input"
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-TD",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-TD-label",
            props: {
              innerHTML: "Tên đường"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-TD-input",
            child: [{
              tag: "input"
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-PX",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-PX-label",
            props: {
              innerHTML: "Phường/Xã"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-PX-input",
            child: [{
              tag: "input"
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-QH",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-QH-label",
            props: {
              innerHTML: "Quận huyện"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-QH-input",
            child: [{
              tag: "input"
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-TT",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-TT-label",
            props: {
              innerHTML: "Tỉnh/TP"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-TT-input",
            child: [{
              tag: "input"
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-HT",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-HT-label",
            props: {
              innerHTML: "Tình trạng"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-HT-input",
            child: [{
              tag: "selectmenu",
              props: {
                items: [{
                  text: "Tất cả",
                  value: 0
                }, {
                  text: "Còn bán",
                  value: 1
                }, {
                  text: "Đã bán",
                  value: 2
                }, {
                  text: "Ngưng bán",
                  value: 3
                }]
              }
            }]
          }]
        }]
      }]
    }]
  });

  var temp = MapRealty_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control",
    style: {
      display: "none"
    },
    on: {
      click: function click(event) {
        this.hide();
      }
    },
    child: [content]
  });

  temp.content = content;
  content.timestart = startDay;
  content.timeend = endDay;
  content.lowprice = MapRealty_$('input.pizo-list-realty-main-search-control-row-price-input-low', content);
  content.highprice = MapRealty_$('input.pizo-list-realty-main-search-control-row-price-input-high', content);
  content.phone = MapRealty_$('.pizo-list-realty-main-search-control-row-phone-input input', content);
  content.MS = MapRealty_$('.pizo-list-realty-main-search-control-row-MS-input input', content);
  content.SN = MapRealty_$('.pizo-list-realty-main-search-control-row-SN input', content);
  content.TD = MapRealty_$('.pizo-list-realty-main-search-control-row-TD input', content);
  content.PX = MapRealty_$('.pizo-list-realty-main-search-control-row-PX input', content);
  content.QH = MapRealty_$('.pizo-list-realty-main-search-control-row-QH input', content);
  content.HT = MapRealty_$('.pizo-list-realty-main-search-control-row-HT input', content);

  temp.show = function () {
    if (!temp.classList.contains("showTranslate")) temp.classList.add("showTranslate");
  };

  temp.hide = function () {
    if (!content.classList.contains("hideTranslate")) content.classList.add("hideTranslate");

    var eventEnd = function eventEnd() {
      if (temp.classList.contains("showTranslate")) temp.classList.remove("showTranslate");
      content.classList.remove("hideTranslate");
      content.removeEventListener("webkitTransitionEnd", eventEnd);
      content.removeEventListener("transitionend", eventEnd);
    }; // Code for Safari 3.1 to 6.0


    content.addEventListener("webkitTransitionEnd", eventEnd); // Standard syntax

    content.addEventListener("transitionend", eventEnd);
  };

  temp.apply = function () {};

  temp.reset = function () {
    content.timestart = new Date();
    content.timeend = new Date();
    content.lowprice.value = "";
    content.highprice.value = "";
    content.phone.value = "";
    content.MS.value = "";
    content.SN.value = "";
    content.TD.value = "";
    content.PX.value = "";
    content.QH.value = "";
    content.TT.value = "";
    content.HT.value = 0;
  };

  return temp;
};

MapRealty_MapRealty.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

MapRealty_MapRealty.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

MapRealty_MapRealty.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

MapRealty_MapRealty.prototype.start = function () {};

/* harmony default export */ var page_MapRealty = (MapRealty_MapRealty);
// CONCATENATED MODULE: ./js/page/ListRealty.js
function ListRealty_toConsumableArray(arr) { return ListRealty_arrayWithoutHoles(arr) || ListRealty_iterableToArray(arr) || ListRealty_unsupportedIterableToArray(arr) || ListRealty_nonIterableSpread(); }

function ListRealty_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function ListRealty_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return ListRealty_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return ListRealty_arrayLikeToArray(o, minLen); }

function ListRealty_iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function ListRealty_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return ListRealty_arrayLikeToArray(arr); }

function ListRealty_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }















var ListRealty_ = dom_Fcore._;
var ListRealty_$ = dom_Fcore.$;

function ListRealty_ListRealty() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.modalLargeRealty = page_MapRealty.prototype.modalLargeRealty;
  this.detailHouse = page_MapRealty.prototype.detailHouse;
  this.convenientView = page_MapRealty.prototype.convenientView;
  this.itemCount = page_MapRealty.prototype.itemCount;
  this.contactView = page_MapRealty.prototype.contactView;
  this.contactItem = page_MapRealty.prototype.contactItem;
  this.juridicalView = page_MapRealty.prototype.juridicalView;
  this.mediaItem = page_MapRealty.prototype.mediaItem;
  this.requestEdit = page_MapRealty.prototype.requestEdit;
  this.requestEditDB = page_MapRealty.prototype.requestEditDB;
  this.itemDisplayNone = page_MapRealty.prototype.itemDisplayNone;
  ModuleDatabase["a" /* default */].getModule("users").load().then(function (value) {
    this.checkUser = ModuleDatabase["a" /* default */].getModule("users").getLibary("phone");
    this.checkUserID = ModuleDatabase["a" /* default */].getModule("users").getLibary("id");
  }.bind(this));
  ModuleDatabase["a" /* default */].getModule("contacts").load().then(function (value) {
    this.checkContact = ModuleDatabase["a" /* default */].getModule("contacts").getLibary("phone");
    this.checkContactID = ModuleDatabase["a" /* default */].getModule("contacts").getLibary("id");
  }.bind(this));
}

ListRealty_ListRealty.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(ListRealty_ListRealty.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
ListRealty_ListRealty.prototype.constructor = ListRealty_ListRealty;

ListRealty_ListRealty.prototype.setCensorship = function () {
  this.isCensorship = true;
};

ListRealty_ListRealty.prototype.requestEdit = function (data) {
  var self = this;
  var mNewRealty = new component_NewRealty(data);
  mNewRealty.attach(self.parent);
  mNewRealty.setRequestEdit();
  mNewRealty.setDataListAccount(self.listAccoutData);
  mNewRealty.setDataListContact(self.listContactData);
  var frameview = mNewRealty.getView();
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.requestEditDB(mNewRealty, data);
};

ListRealty_ListRealty.prototype.requestEditDB = function (mNewRealty, data) {
  var self = this;
  mNewRealty.promiseEditDB.then(function (value) {
    ModuleDatabase["a" /* default */].getModule("modification_requests").add(value).then(function (result) {// self.editView(value, data);
    });
    mNewRealty.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewRealty.promiseEditDB !== undefined) self.requestEditDB(mNewRealty, data);
    }, 10);
  });
};

ListRealty_ListRealty.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;

  var input = ListRealty_({
    tag: "input",
    "class": "quantumWizTextinputPaperinputInput",
    props: {
      type: "number",
      autocomplete: "off",
      min: 1,
      max: 200,
      step: 1,
      value: 50
    }
  });

  var allinput = ListRealty_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    props: {
      placeholder: "Tìm theo mã, tên, số điện thoại, địa chỉ bất động sản"
    }
  });

  if (BrowserDetector["a" /* default */].isMobile) {
    allinput.placeholder = "Tìm bất động sản";
  }

  var saveButton, callAgainButton, mergeButton, viewMapButton, confirmButton, cancelConfirmButton;

  var hiddenConfirm = ListRealty_({
    tag: "selectmenu",
    "class": "selectmenu-hidden-confirm",
    style: {
      display: "none"
    },
    props: {
      value: 0,
      items: [{
        text: "Tất cả",
        value: 0
      }, {
        text: "Duyệt",
        value: "censorship1"
      }, {
        text: "Chưa duyệt",
        value: "censorship0"
      }]
    }
  });

  saveButton = ListRealty_({
    tag: "button",
    "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
    on: {
      click: function click(evt) {
        self.add();
      }
    },
    child: ['<span>' + "Thêm" + '</span>']
  });
  callAgainButton = ListRealty_({
    tag: "button",
    "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
    on: {
      click: function click(evt) {
        if (this.currentMerge === true) {
          // self.merge();
          // this.currentMerge = undefined;
          saveButton.style.display = "";
          mergeButton.style.display = "";
          confirmButton.style.display = "";
          cancelConfirmButton.style.display = "";
          viewMapButton.style.display = "";
          this.childNodes[0].innerHTML = "Yêu cầu gọi lại";
          self.mTable.deleteColumn(0);
          self.mTable.insertColumn(0, 0);
          this.currentMerge = undefined; // self.merge(self.mTable.getTrueCheckBox());
        } else {
          saveButton.style.display = "none";
          mergeButton.style.display = "none";
          confirmButton.style.display = "none";
          cancelConfirmButton.style.display = "none";
          viewMapButton.style.display = "none";
          this.childNodes[0].innerHTML = "Xong";
          self.mTable.deleteColumn(0);
          self.mTable.insertColumn(1, 0);
          this.currentMerge = true;
        }
      }
    },
    child: ['<span>' + "Yêu cầu gọi lại" + '</span>']
  });
  confirmButton = ListRealty_({
    tag: "button",
    "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
    on: {
      click: function click(evt) {
        if (this.currentMerge === true) {
          saveButton.style.display = "";
          mergeButton.style.display = "";
          callAgainButton.style.display = "";
          cancelConfirmButton.style.display = "";
          viewMapButton.style.display = "";
          this.childNodes[0].innerHTML = "Duyệt";
          self.mTable.deleteColumn(0);
          self.mTable.insertColumn(0, 0);
          this.currentMerge = undefined;
          self.mTable.data.splice.apply(self.mTable.data, [self.mTable.data.length, 0].concat(this.ortherData));
          hiddenConfirm.value = 0;
          hiddenConfirm.emit("change");
          var dataSum = self.mTable.getTrueCheckBox();
          var arr = [];
          var tempData;

          for (var i = 0; i < dataSum.length; i++) {
            dataSum[i][20] = "censorship1";
            dataSum[i].original.censorship = 1;
            dataSum[i][1] = {};
            tempData = self.getDataEditFake(dataSum[i]);
            self.mTable.resetHash();
            arr.push(ModuleDatabase["a" /* default */].getModule("activehouses").update(tempData));
          }

          var loading = new loadingWheel();
          Promise.all(arr).then(function () {
            loading.disable();
          });
        } else {
          saveButton.style.display = "none";
          mergeButton.style.display = "none";
          callAgainButton.style.display = "none";
          cancelConfirmButton.style.display = "none";
          viewMapButton.style.display = "none";
          this.childNodes[0].innerHTML = "Xong";
          self.mTable.deleteColumn(0);
          self.mTable.insertColumn(1, 0);
          this.currentMerge = true;
          this.ortherData = self.browserFilter(self.mTable.data);
          hiddenConfirm.value = "censorship0";
          hiddenConfirm.emit("change");
        }
      }
    },
    child: ['<span>' + "Duyệt" + '</span>']
  });
  cancelConfirmButton = ListRealty_({
    tag: "button",
    "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
    on: {
      click: function click(evt) {
        if (this.currentMerge === true) {
          // self.merge();
          // this.currentMerge = undefined;
          saveButton.style.display = "";
          mergeButton.style.display = "";
          callAgainButton.style.display = "";
          confirmButton.style.display = "";
          viewMapButton.style.display = "";
          this.childNodes[0].innerHTML = "Hủy duyệt";
          self.mTable.deleteColumn(0);
          self.mTable.insertColumn(0, 0);
          this.currentMerge = undefined;
          hiddenConfirm.value = 0;
          hiddenConfirm.emit("change");
          var dataSum = self.mTable.getTrueCheckBox();
          var arr = [];
          var tempData;

          for (var i = 0; i < dataSum.length; i++) {
            dataSum[i][20] = "censorship0";
            dataSum[i].original.censorship = 0;
            dataSum[i][1] = {};
            tempData = self.getDataEditFake(dataSum[i]);
            self.mTable.resetHash();
            arr.push(ModuleDatabase["a" /* default */].getModule("activehouses").update(tempData));
          }

          var loading = new loadingWheel();
          Promise.all(arr).then(function () {
            loading.disable();
          });
        } else {
          saveButton.style.display = "none";
          mergeButton.style.display = "none";
          callAgainButton.style.display = "none";
          confirmButton.style.display = "none";
          viewMapButton.style.display = "none";
          this.childNodes[0].innerHTML = "Xong";
          self.mTable.deleteColumn(0);
          self.mTable.insertColumn(1, 0);
          this.currentMerge = true;
          hiddenConfirm.value = "censorship1";
          hiddenConfirm.emit("change");
        }
      }
    },
    child: ['<span>' + "Hủy duyệt" + '</span>']
  });
  mergeButton = ListRealty_({
    tag: "button",
    "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
    on: {
      click: function click(evt) {
        if (this.currentMerge === true) {
          // self.merge();
          // this.currentMerge = undefined;
          confirmButton.style.display = "";
          saveButton.style.display = "";
          callAgainButton.style.display = "";
          cancelConfirmButton.style.display = "";
          viewMapButton.style.display = "";
          this.childNodes[0].innerHTML = "Gộp";
          self.mTable.deleteColumn(0);
          self.mTable.insertColumn(0, 0);
          this.currentMerge = undefined;
          var arrMerge = self.mTable.getTrueCheckBox();
          if (arrMerge.length > 0) self.merge(arrMerge);
          self.mTable.data.splice.apply(self.mTable.data, [self.mTable.data.length, 0].concat(this.ortherData));
          self.HTinput.emit("change");
        } else {
          confirmButton.style.display = "none";
          saveButton.style.display = "none";
          callAgainButton.style.display = "none";
          cancelConfirmButton.style.display = "none";
          viewMapButton.style.display = "none";
          this.childNodes[0].innerHTML = "Xong";
          this.ortherData = self.mergeFilterNone(self.mTable.data);
          self.mTable.updateTable();
          self.mTable.deleteColumn(0);
          self.mTable.insertColumn(1, 0);
          this.currentMerge = true;
        }
      }
    },
    child: ['<span>' + "Gộp" + '</span>']
  });
  viewMapButton = ListRealty_({
    tag: "button",
    "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
    on: {
      click: function click(evt) {
        app.openPage(18);
      }
    },
    child: ['<span>' + "Xem bản đồ" + '</span>']
  });
  this.$view = ListRealty_({
    tag: 'singlepage',
    "class": ["pizo-list-realty", "pizo-list-realty-main-header"],
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Nhà đất"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, saveButton, mergeButton, callAgainButton, confirmButton, cancelConfirmButton, viewMapButton]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-allinput",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-page-allinput-container",
          child: [allinput, {
            tag: "button",
            "class": "pizo-list-realty-page-allinput-search",
            child: [{
              tag: 'i',
              "class": 'material-icons',
              props: {
                innerHTML: 'search'
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-page-allinput-filter",
          on: {
            click: function click(event) {
              self.searchControl.show();
            }
          },
          child: [{
            tag: 'filter-ico'
          }, {
            tag: "span",
            "class": "navbar-search__filter-text",
            props: {
              innerHTML: "Lọc"
            }
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-number-line",
        child: [input, {
          tag: "span",
          "class": "freebirdFormeditorViewAssessmentWidgetsPointsLabel",
          props: {
            innerHTML: "Số dòng"
          }
        }]
      }]
    }]
  });
  var docTypeMemuProps, token, functionX;

  var functionClickMore = function functionClickMore(event, me, index, parent, data, row) {
    var isEdit = false;
    var isRequest = false;
    var isDetail = false;
    var isDelete = false;
    var districtid;
    var stateid;

    Loop: for (var param in ModuleDatabase["a" /* default */].checkPermission) {
      var object = JSON.parse(param);
      var address = self.checkAddress[data.original.addressid];
      districtid = undefined;
      stateid = undefined;
      if (address.wardid) districtid = self.checkWard[address.wardid].districtid;
      if (districtid) stateid = self.checkDistrict[districtid].stateid;

      for (var objectParam in object) {
        if (objectParam === "stateid") {
          if (stateid !== object[objectParam]) continue Loop;
        } else if (objectParam === "districtid") {
          if (districtid !== object[objectParam]) continue Loop;
        } else if (object[objectParam] !== address[objectParam]) {
          continue Loop;
        }
      }

      if (ModuleDatabase["a" /* default */].checkPermission[param].indexOf(58) !== -1) {
        isEdit = true;
      }

      if (ModuleDatabase["a" /* default */].checkPermission[param].indexOf(59) !== -1) {
        isDelete = true;
      }

      if (ModuleDatabase["a" /* default */].checkPermission[param].indexOf(67) !== -1) {
        isDetail = true;
      }

      if (ModuleDatabase["a" /* default */].checkPermission[param].indexOf(68) !== -1) {
        isRequest = true;
      }
    }

    docTypeMemuProps = {
      items: []
    };
    if (isEdit) docTypeMemuProps.items.push({
      text: 'Sửa',
      icon: 'span.mdi.mdi-text-short',
      value: 0
    });else {
      if (isRequest) {
        docTypeMemuProps.items.push({
          text: 'Yêu cầu chỉnh sửa',
          icon: 'span.mdi.mdi-text-short',
          value: 3
        });
      }
    }
    if (isDelete) docTypeMemuProps.items.push({
      text: 'Xóa',
      icon: 'span.mdi.mdi-text',
      value: 1
    });
    if (isDetail) docTypeMemuProps.items.push({
      text: 'Chi tiết',
      icon: 'span.mdi.mdi-text',
      value: 2
    });
    token = absol.QuickMenu.show(me, docTypeMemuProps, [3, 4], function (menuItem) {
      switch (menuItem.value) {
        case 0:
          self.edit(data, parent, index);
          break;

        case 1:
          self["delete"](data.original, parent, index);
          break;

        case 2:
          document.body.appendChild(self.modalLargeRealty(data.original));
          break;

        case 3:
          self.requestEdit({
            original: data.original
          });
      }
    });

    functionX = function (token) {
      return function () {
        var x = function x(event) {
          absol.QuickMenu.close(token);
          document.body.removeEventListener("click", x);
        };

        document.body.addEventListener("click", x);
      };
    }(token);

    setTimeout(functionX, 10);
  };

  var tabContainer = ListRealty_({
    tag: "div",
    "class": ["pizo-list-realty-main-result-control", "drag-zone-bg"],
    child: []
  });

  var arr = [];
  if (this.isCensorship === true) arr.push(ModuleDatabase["a" /* default */].getModule("activehouses").load({
    WHERE: [{
      censorship: 0
    }]
  }));else arr.push(ModuleDatabase["a" /* default */].getModule("activehouses").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("wards").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("type_activehouses").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("districts").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("states").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("equipments").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("juridicals").load());
  Promise.all(arr).then(function (values) {
    var value = values[0];
    self.checkWard = ModuleDatabase["a" /* default */].getModule("wards").getLibary("id");
    self.checkDistrict = ModuleDatabase["a" /* default */].getModule("districts").getLibary("id");
    self.checkState = ModuleDatabase["a" /* default */].getModule("states").getLibary("id");
    var header = [{
      type: "dragzone",
      dragElement: false,
      disabled: true
    }, {
      type: "check",
      dragElement: false,
      hidden: true,
      disabled: true
    }, {
      value: 'MS',
      sort: true,
      style: {
        minWidth: "30px"
      },
      disableInput: true
    }, 'Số nhà', {
      value: 'Tên đường'
    }, {
      value: 'Phường/Xã'
    }, {
      value: 'Quận/Huyện'
    }, {
      value: 'Tỉnh/TP'
    }, {
      value: 'Ghi chú',
      hidden: true
    }, {
      value: 'Ngang',
      sort: true,
      style: {
        minWidth: "50px"
      }
    }, {
      value: 'Dài',
      sort: true,
      style: {
        minWidth: "50px"
      }
    }, {
      value: 'DT',
      sort: true,
      style: {
        minWidth: "50px"
      }
    }, {
      value: 'Kết cấu'
    }, {
      value: 'Hướng'
    }, {
      value: 'Giá',
      sort: true,
      style: {
        minWidth: "50px"
      }
    }, {
      value: 'Giá m²',
      sort: true,
      style: {
        minWidth: "50px"
      }
    }, {
      value: 'Hiện trạng',
      disableInput: true,
      style: {
        minWidth: "85px"
      }
    }, {
      value: 'Ngày tạo',
      sort: true
    }, {
      value: 'Ngày cập nhật',
      sort: true
    }, {
      type: "detail",
      functionClickAll: functionClickMore,
      dragElement: false,
      disabled: true
    }, {
      hidden: true,
      disabled: true
    }];
    header.isSaveTheme = "#19001080";
    self.mTable = new tableView(header, [], true, true, 1);
    self.mTable.addInputSearchHeader();
    var arr = [];
    var connect = "";

    for (var i = 0; i < value.length; i++) {
      if (connect !== "") arr.push(connect);
      arr.push({
        id: value[i].addressid
      });
      connect = "||";

      if (value[i].addressid_old) {
        arr.push(connect);
        arr.push({
          id: value[i].addressid_old
        });
      }
    }

    ModuleDatabase["a" /* default */].getModule("addresses").load({
      WHERE: arr
    }).then(function (valueAdr) {
      self.checkAddress = ModuleDatabase["a" /* default */].getModule("addresses").getLibary("id");
      var connect = "";
      var arr = [];

      for (var i = 0; i < valueAdr.length; i++) {
        if (connect !== "") arr.push(connect);
        arr.push({
          id: valueAdr[i].streetid
        });
        connect = "||";
      }

      ModuleDatabase["a" /* default */].getModule("streets").load({
        WHERE: arr
      }).then(function (valueStr) {
        self.checkStreet = ModuleDatabase["a" /* default */].getModule("streets").getLibary("id");

        if (self.isCensorship) {
          value = ModuleDatabase["a" /* default */].getModule("activehouses").getLibary("censorship", self.getDataRow.bind(self), true);
          value = value[0];
        } else {
          value = self.formatDataRow(value);
        }

        self.mTable.updateTable(undefined, value);
        self.mTable.addInputSearch(ListRealty_$('.pizo-list-realty-page-allinput-container input', self.$view));
        self.mTable.addFilter(hiddenConfirm, 20);
        self.mTable.addFilter(self.HTinput, 16);
      });
    });
    tabContainer.addChild(self.mTable);
    ModuleDatabase["a" /* default */].getModule("users").load().then(function (value) {
      self.formatDataRowAccount(value);
    });
    ModuleDatabase["a" /* default */].getModule("contacts").load().then(function (value) {
      self.formatDataRowContact(value);
    });
  });
  this.searchControl = this.searchControlContent();
  this.$view.addChild(ListRealty_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    style: {
      flexDirection: "column"
    },
    child: [this.searchControl, tabContainer]
  }));
  return this.$view;
};

ListRealty_ListRealty.prototype.formatDataRowAccount = function (data) {
  this.listAccoutData = data;
};

ListRealty_ListRealty.prototype.formatDataRowContact = function (data) {
  this.listContactData = data;
};

ListRealty_ListRealty.prototype.formatDataRow = function (data) {
  var temp = [];
  var check = [];
  var k = 0;
  var self = this;
  var districtid;
  var stateid;
  var isAvailable;
  var isCensorshipFalse;

  for (var i = 0; i < data.length; i++) {
    isAvailable = false;
    isCensorshipFalse = false;

    Loop: for (var param in ModuleDatabase["a" /* default */].checkPermission) {
      var object = JSON.parse(param);
      var address = self.checkAddress[data[i].addressid];
      districtid = undefined;
      stateid = undefined;
      if (address.wardid) districtid = self.checkWard[address.wardid].districtid;
      if (districtid) stateid = self.checkDistrict[districtid].stateid;

      for (var objectParam in object) {
        if (objectParam === "stateid") {
          if (stateid !== object[objectParam]) continue Loop;
        } else if (objectParam === "districtid") {
          if (districtid !== object[objectParam]) continue Loop;
        } else if (object[objectParam] !== address[objectParam]) {
          continue Loop;
        }
      }

      if (ModuleDatabase["a" /* default */].checkPermission[param].indexOf(56) !== -1) {
        isAvailable = true;
      }

      if (ModuleDatabase["a" /* default */].checkPermission[param].indexOf(63) !== -1) {
        isCensorshipFalse = true;
      }
    }

    if (isAvailable == false) continue;
    var result = this.getDataRow(data[i], isCensorshipFalse);
    result.original = data[i];

    if (check[data[i].parent_id] !== undefined) {
      if (check[data[i].parent_id].child === undefined) check[data[i].parent_id].child = [];
      check[data[i].parent_id].child.push(result);
    } else temp[k++] = result;

    check[data[i].id] = result;
  }

  return temp;
};

ListRealty_ListRealty.prototype.getDataRow = function (data, isCensorshipFalse) {
  var structure;

  switch (parseInt(data.structure)) {
    case 0:
      structure = "Chưa xác định";
      break;

    case 1:
      structure = "Đất trống";
      break;

    case 2:
      structure = "Cấp 4";
      break;

    case 3:
      structure = data.floor + " Tầng";
      var advanceDetruct = data.advancedetruct;
      var isAD = advanceDetruct % 10 ? true : false;
      advanceDetruct = parseInt(advanceDetruct / 10);
      var isAD1 = advanceDetruct % 10 ? true : false;
      advanceDetruct = parseInt(advanceDetruct / 10);

      if (isAD) {
        structure += "+ Lửng";
      }

      if (isAD1) {
        structure += "+ Sân thượng";
      }

      break;
  }

  var direction;

  switch (parseInt(data.direction)) {
    case 0:
      direction = "Chưa xác định";
      break;

    case 6:
      direction = "Đông";
      break;

    case 4:
      direction = "Tây";
      break;

    case 2:
      direction = "Nam";
      break;

    case 8:
      direction = "Bắc";
      break;

    case 7:
      direction = "Tây Bắc";
      break;

    case 9:
      direction = "Đông Bắc";
      break;

    case 1:
      direction = "Tây Nam";
      break;

    case 3:
      direction = "Đông Nam";
      break;
  }

  var staus = "";
  if (parseInt(data.salestatus) % 10 == 1) staus += "Còn bán";

  if (parseInt(parseInt(data.salestatus) / 10) == 1) {
    if (staus == "") staus += "Còn cho thuê";else staus += " và còn cho thuê";
  }

  if (data.addressid === undefined) data.addressid = 0;

  if (data.addressid != 0) {
    var number = this.checkAddress[data.addressid].addressnumber;
    var street = this.checkStreet[this.checkAddress[data.addressid].streetid].name;
    var ward = this.checkWard[this.checkAddress[data.addressid].wardid].name;
    var district = this.checkDistrict[this.checkWard[this.checkAddress[data.addressid].wardid].districtid].name;
    var state = this.checkState[this.checkDistrict[this.checkWard[this.checkAddress[data.addressid].wardid].districtid].stateid].name;
  } else {
    var number = street = ward = district = state = "";
  }

  var textCensorship = "censorship" + data.censorship;

  if (data.censorship == 1) {
    if (isCensorshipFalse === false) {
      textCensorship = "xxxxxxxxxxxxxxxxx";
    }
  }

  var result = [{}, {
    functionClick: function functionClick() {
      var data = arguments[4].original;
      console.log(arguments[4][0].value, arguments[1].childNodes[0].childNodes[0].checked);
    }
  }, {
    value: data.id,
    style: {
      whiteSpace: "nowrap"
    }
  }, number, street, ward, district, state, data.content, {
    value: data.height,
    style: {
      whiteSpace: "nowrap"
    }
  }, {
    value: data.width,
    style: {
      whiteSpace: "nowrap"
    }
  }, {
    value: data.acreage,
    style: {
      whiteSpace: "nowrap"
    }
  }, structure, direction, data.price + " tỉ", data.price * 1000 / data.acreage + " triệu", {
    value: parseInt(data.salestatus) + 1,
    element: ListRealty_({
      text: staus
    })
  }, {
    value: formatDate(data.created, true, true, true, true, true),
    valuesort: new Date(data.created)
  }, {
    value: formatDate(data.modified, true, true, true, true, true),
    valuesort: new Date(data.modified)
  }, {}, textCensorship];
  result.original = data;
  return result;
};

function getEditDistance(a, b) {
  if (a.length == 0) return b.length;
  if (b.length == 0) return a.length;
  var matrix = []; // increment along the first column of each row

  var i;

  for (i = 0; i <= b.length; i++) {
    matrix[i] = [i];
  } // increment each column in the first row


  var j;

  for (j = 0; j <= a.length; j++) {
    matrix[0][j] = j;
  } // Fill in the rest of the matrix


  for (i = 1; i <= b.length; i++) {
    for (j = 1; j <= a.length; j++) {
      if (b.charAt(i - 1) == a.charAt(j - 1)) {
        matrix[i][j] = matrix[i - 1][j - 1];
      } else {
        matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, // substitution
        Math.min(matrix[i][j - 1] + 1, // insertion
        matrix[i - 1][j] + 1)); // deletion
      }
    }
  }

  return matrix[b.length][a.length];
}

;

ListRealty_ListRealty.prototype.browserFilter = function (data) {
  var checkAvaliable = [];
  var result = [];
  var tempData;
  var tempPushData;
  var indexData;
  var index;
  var isAvailable;
  var districtid;
  var stateid;
  var self = this;

  for (var i = 0; i < data.length; i++) {
    isAvailable = false;

    Loop: for (var param in ModuleDatabase["a" /* default */].checkPermission) {
      var object = JSON.parse(param);
      var address = self.checkAddress[data[i].original.addressid];
      districtid = undefined;
      stateid = undefined;
      if (address.wardid) districtid = self.checkWard[address.wardid].districtid;
      if (districtid) stateid = self.checkDistrict[districtid].stateid;

      for (var objectParam in object) {
        if (objectParam === "stateid") {
          if (stateid !== object[objectParam]) continue Loop;
        } else if (objectParam === "districtid") {
          if (districtid !== object[objectParam]) continue Loop;
        } else if (object[objectParam] !== address[objectParam]) {
          continue Loop;
        }
      }

      if (ModuleDatabase["a" /* default */].checkPermission[param].indexOf(62) !== -1) {
        isAvailable = true;
      }
    }

    if (isAvailable == false) continue;
    indexData = data[i];
    indexData.visiable = true;
    tempData = checkAvaliable[indexData[4] + indexData[5] + indexData[6] + indexData[7]];
    if (tempData) for (var j = 0; j < tempData.length; j++) {
      if (tempData[j] !== undefined && getEditDistance(tempData[j][3], indexData[3]) <= indexData[3].length / 3) {
        tempPushData = result[indexData[4] + indexData[5] + indexData[6] + indexData[7]];
        if (tempPushData === undefined) tempPushData = [];
        tempPushData.push(indexData);
        indexData.visiable = false;
        data.splice(i, 1);
        i--;
        index = data.indexOf(tempData[j]);

        if (index !== -1) {
          tempPushData.push(tempData[j]);
          tempData[j].visiable = false;
          data.splice(index, 1);
          i--;
        }

        result[indexData[4] + indexData[5] + indexData[6] + indexData[7]] = tempPushData;
      }
    }
    if (checkAvaliable[indexData[4] + indexData[5] + indexData[6] + indexData[7]] == undefined) checkAvaliable[indexData[4] + indexData[5] + indexData[6] + indexData[7]] = [];
    checkAvaliable[indexData[4] + indexData[5] + indexData[6] + indexData[7]].push(indexData);
  }

  var _final = [];

  for (var param in result) {
    _final.splice.apply(_final, [0, 0].concat(result[param]));
  }

  data.ortherFilter = true;
  return _final;
};

ListRealty_ListRealty.prototype.mergeFilter = function (data) {
  var checkAvaliable = [];
  var result = [];
  var tempData;
  var tempPushData;
  var indexData;
  var index;
  var isAvailable;
  var districtid;
  var stateid;
  var self = this;

  for (var i = 0; i < data.length; i++) {
    isAvailable = false;

    Loop: for (var param in ModuleDatabase["a" /* default */].checkPermission) {
      var object = JSON.parse(param);
      var address = self.checkAddress[data[i].original.addressid];
      districtid = undefined;
      stateid = undefined;
      if (address.wardid) districtid = self.checkWard[address.wardid].districtid;
      if (districtid) stateid = self.checkDistrict[districtid].stateid;

      for (var objectParam in object) {
        if (objectParam === "stateid") {
          if (stateid !== object[objectParam]) continue Loop;
        } else if (objectParam === "districtid") {
          if (districtid !== object[objectParam]) continue Loop;
        } else if (object[objectParam] !== address[objectParam]) {
          continue Loop;
        }
      }

      if (ModuleDatabase["a" /* default */].checkPermission[param].indexOf(64) !== -1) {
        isAvailable = true;
      }
    }

    if (isAvailable == false) continue;
    indexData = data[i];
    tempData = checkAvaliable[indexData[4] + indexData[5] + indexData[6] + indexData[7]];
    if (tempData) for (var j = 0; j < tempData.length; j++) {
      if (tempData[j] !== undefined && getEditDistance(tempData[j][3], indexData[3]) <= indexData[3].length / 3) {
        tempPushData = result[indexData[4] + indexData[5] + indexData[6] + indexData[7]];
        if (tempPushData === undefined) tempPushData = [];

        if (indexData.visiable == undefined) {
          tempPushData.push(indexData);
          indexData.visiable = true;
          data.splice(i, 1);
          i--;
        }

        if (tempData[j][4].visiable == undefined) {
          index = data.indexOf(tempData[j]);

          if (index !== -1) {
            tempPushData.push(tempData[j]);
            tempData[j].visiable = true;
            data.splice(index, 1);
            i--;
          }
        }

        result[indexData[4] + indexData[5] + indexData[6] + indexData[7]] = tempPushData;
      }
    }
    if (checkAvaliable[indexData[4] + indexData[5] + indexData[6] + indexData[7]] == undefined) checkAvaliable[indexData[4] + indexData[5] + indexData[6] + indexData[7]] = [];
    checkAvaliable[indexData[4] + indexData[5] + indexData[6] + indexData[7]].push(indexData);
  }

  var length = data.length;

  var _final2 = ListRealty_toConsumableArray(data);

  data.splice(0, length);

  for (var param in result) {
    data.splice.apply(data, [0, 0].concat(result[param]));
  }

  data.ortherFilter = true;
  return _final2;
};

ListRealty_ListRealty.prototype.mergeFilterNone = function (data) {
  var checkAvaliable = [];
  var result = [];
  var tempData;
  var tempPushData;
  var indexData;
  var index;
  var isAvailable;
  var districtid;
  var stateid;
  var self = this;

  for (var i = 0; i < data.length; i++) {
    isAvailable = false;

    Loop: for (var param in ModuleDatabase["a" /* default */].checkPermission) {
      var object = JSON.parse(param);
      var address = self.checkAddress[data[i].original.addressid];
      districtid = undefined;
      stateid = undefined;
      if (address.wardid) districtid = self.checkWard[address.wardid].districtid;
      if (districtid) stateid = self.checkDistrict[districtid].stateid;

      for (var objectParam in object) {
        if (objectParam === "stateid") {
          if (stateid !== object[objectParam]) continue Loop;
        } else if (objectParam === "districtid") {
          if (districtid !== object[objectParam]) continue Loop;
        } else if (object[objectParam] !== address[objectParam]) {
          continue Loop;
        }
      }

      if (ModuleDatabase["a" /* default */].checkPermission[param].indexOf(64) !== -1) {
        isAvailable = true;
      }
    }

    if (isAvailable == false) continue;
    data[i].visiable = true;
    result.push(data[i]);
    data.splice(i, 1);
    i--;
  }

  var length = data.length;

  var _final3 = ListRealty_toConsumableArray(data);

  data.splice(0, length);
  data.splice.apply(data, [0, 0].concat(result));
  data.ortherFilter = true;
  return _final3;
};

ListRealty_ListRealty.prototype.searchControlContent = function () {
  var startDay, endDay;
  var self = this;
  startDay = ListRealty_({
    tag: 'calendar-input',
    data: {
      anchor: 'top',
      value: new Date(new Date().getFullYear(), 0, 1),
      maxDateLimit: new Date()
    },
    on: {
      changed: function changed(date) {
        endDay.minDateLimit = date;
      }
    }
  });
  endDay = ListRealty_({
    tag: 'calendar-input',
    data: {
      anchor: 'top',
      value: new Date(),
      minDateLimit: new Date()
    },
    on: {
      changed: function changed(date) {
        startDay.maxDateLimit = date;
      }
    }
  });

  var content = ListRealty_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control-container",
    on: {
      click: function click(event) {
        event.stopPropagation();
      }
    },
    child: [{
      tag: "div",
      "class": "pizo-list-realty-main-search-control-container-scroller",
      child: [{
        tag: "div",
        "class": "pizo-list-realty-main-search-control-row",
        child: [// {
        //     tag: "div",
        //     class: "pizo-list-realty-main-search-control-row-date",
        //     child: [{
        //             tag: "span",
        //             class: "pizo-list-realty-main-search-control-row-date-label",
        //             props: {
        //                 innerHTML: "Thời gian"
        //             }
        //         },
        //         {
        //             tag: "div",
        //             class: "pizo-list-realty-main-search-control-row-date-input",
        //             child: [
        //                 startDay,
        //                 endDay
        //             ]
        //         }
        //     ]
        // },
        {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-price",
          child: [{
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-HT",
            child: [{
              tag: "span",
              "class": "pizo-list-realty-main-search-control-row-HT-label",
              props: {
                innerHTML: "Tình trạng"
              }
            }, {
              tag: "div",
              "class": "pizo-list-realty-main-search-control-row-HT-input",
              child: [{
                tag: "selectmenu",
                props: {
                  items: [{
                    text: "Tất cả",
                    value: 0
                  }, {
                    text: "Còn bán",
                    value: 2
                  }, {
                    text: "Còn cho thuê",
                    value: 11
                  }, {
                    text: "Còn bán và còn cho thuê",
                    value: 12
                  }, {
                    text: "Ngừng giao dịch",
                    value: 1
                  }]
                }
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-price",
          child: [{
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-HT",
            child: [{
              tag: "span",
              "class": "pizo-list-realty-main-search-control-row-price-label",
              props: {
                innerHTML: "Khoảng giá"
              }
            }, {
              tag: "div",
              "class": "pizo-list-realty-main-search-control-row-price-input",
              child: [{
                tag: "input",
                "class": "pizo-list-realty-main-search-control-row-price-input-low",
                props: {
                  type: "number",
                  autocomplete: "off",
                  placeholder: "đ Từ"
                }
              }, {
                tag: "input",
                "class": "pizo-list-realty-main-search-control-row-price-input-high",
                props: {
                  type: "number",
                  autocomplete: "off",
                  placeholder: "đ Đến"
                }
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-price",
          style: {
            height: "30px"
          },
          child: [{
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-HT",
            child: [{
              tag: "span",
              "class": "pizo-list-realty-main-search-control-row-price-label",
              props: {
                innerHTML: "Cần gộp"
              }
            }, {
              tag: "div",
              "class": "pizo-list-realty-main-search-control-row-HT-checkbox",
              child: [{
                tag: "checkbox",
                on: {
                  change: function change(event) {
                    if (this.checked === true) {
                      this.ortherData = self.mergeFilter(self.mTable.data);
                      self.mTable.updateTable();
                    } else {
                      self.mTable.data.splice.apply(self.mTable.data, [self.mTable.data.length, 0].concat(this.ortherData));
                      self.HTinput.emit("change");
                    }
                  }
                }
              }]
            }]
          }]
        } // {
        //     tag: "div",
        //     class: "pizo-list-realty-main-search-control-row-phone",
        //     child: [{
        //             tag: "span",
        //             class: "pizo-list-realty-main-search-control-row-phone-label",
        //             props: {
        //                 innerHTML: "Số điện thoại"
        //             }
        //         },
        //         {
        //             tag: "div",
        //             class: "pizo-list-realty-main-search-control-row-phone-input",
        //             child: [{
        //                 tag: "input",
        //                 props: {
        //                     type: "number",
        //                     autocomplete: "off"
        //                 }
        //             }]
        //         }
        //     ]
        // },
        // {
        //     tag: "div",
        //     class: "pizo-list-realty-main-search-control-row-button",
        //     child: [{
        //         tag: "button",
        //         class: ["pizo-list-realty-button-deleteall", "pizo-list-realty-button-element"],
        //         on: {
        //             click: function (evt) {
        //                 temp.reset();
        //             }
        //         },
        //         child: [
        //             '<span>' + "Thiết lập lại" + '</span>'
        //         ]
        //     }]
        // },
        ]
      }, {
        tag: "div",
        "class": "pizo-list-realty-main-search-control-row",
        child: [// {
          //     tag: "div",
          //     class: "pizo-list-realty-main-search-control-row-MS",
          //     child: [{
          //             tag: "span",
          //             class: "pizo-list-realty-main-search-control-row-MS-label",
          //             props: {
          //                 innerHTML: "Mã số"
          //             }
          //         },
          //         {
          //             tag: "div",
          //             class: "pizo-list-realty-main-search-control-row-MS-input",
          //             child: [{
          //                 tag: "input",
          //                 props: {
          //                     type: "number",
          //                     autocomplete: "off"
          //                 }
          //             }]
          //         }
          //     ]
          // },
          // {
          //     tag: "div",
          //     class: "pizo-list-realty-main-search-control-row-SN",
          //     child: [{
          //             tag: "span",
          //             class: "pizo-list-realty-main-search-control-row-SN-label",
          //             props: {
          //                 innerHTML: "Số nhà"
          //             }
          //         },
          //         {
          //             tag: "div",
          //             class: "pizo-list-realty-main-search-control-row-SN-input",
          //             child: [{
          //                 tag: "input",
          //             }]
          //         }
          //     ]
          // },
          // {
          //     tag: "div",
          //     class: "pizo-list-realty-main-search-control-row-TD",
          //     child: [{
          //             tag: "span",
          //             class: "pizo-list-realty-main-search-control-row-TD-label",
          //             props: {
          //                 innerHTML: "Tên đường"
          //             }
          //         },
          //         {
          //             tag: "div",
          //             class: "pizo-list-realty-main-search-control-row-TD-input",
          //             child: [{
          //                 tag: "input",
          //             }]
          //         }
          //     ]
          // },
          // {
          //     tag: "div",
          //     class: "pizo-list-realty-main-search-control-row-PX",
          //     child: [{
          //             tag: "span",
          //             class: "pizo-list-realty-main-search-control-row-PX-label",
          //             props: {
          //                 innerHTML: "Phường/Xã"
          //             }
          //         },
          //         {
          //             tag: "div",
          //             class: "pizo-list-realty-main-search-control-row-PX-input",
          //             child: [{
          //                 tag: "input",
          //             }]
          //         }
          //     ]
          // },
          // {
          //     tag: "div",
          //     class: "pizo-list-realty-main-search-control-row-QH",
          //     child: [{
          //             tag: "span",
          //             class: "pizo-list-realty-main-search-control-row-QH-label",
          //             props: {
          //                 innerHTML: "Quận huyện"
          //             }
          //         },
          //         {
          //             tag: "div",
          //             class: "pizo-list-realty-main-search-control-row-QH-input",
          //             child: [{
          //                 tag: "input",
          //             }]
          //         }
          //     ]
          // },
          // {
          //     tag: "div",
          //     class: "pizo-list-realty-main-search-control-row-TT",
          //     child: [{
          //             tag: "span",
          //             class: "pizo-list-realty-main-search-control-row-TT-label",
          //             props: {
          //                 innerHTML: "Tỉnh/TP"
          //             }
          //         },
          //         {
          //             tag: "div",
          //             class: "pizo-list-realty-main-search-control-row-TT-input",
          //             child: [{
          //                 tag: "input"
          //             }]
          //         }
          //     ]
          // },
        ]
      }]
    }]
  });

  var temp = ListRealty_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control",
    on: {
      click: function click(event) {
        this.hide();
      }
    },
    child: [content]
  });

  temp.content = content;
  content.timestart = startDay;
  content.timeend = endDay;
  content.lowprice = ListRealty_$('input.pizo-list-realty-main-search-control-row-price-input-low', content);
  content.highprice = ListRealty_$('input.pizo-list-realty-main-search-control-row-price-input-high', content);
  content.phone = ListRealty_$('.pizo-list-realty-main-search-control-row-phone-input input', content);
  content.MS = ListRealty_$('.pizo-list-realty-main-search-control-row-MS-input input', content);
  content.SN = ListRealty_$('.pizo-list-realty-main-search-control-row-SN input', content);
  content.TD = ListRealty_$('.pizo-list-realty-main-search-control-row-TD input', content);
  content.PX = ListRealty_$('.pizo-list-realty-main-search-control-row-PX input', content);
  content.QH = ListRealty_$('.pizo-list-realty-main-search-control-row-QH input', content);
  content.HT = ListRealty_$('.pizo-list-realty-main-search-control-row-HT input', content);
  this.HTinput = ListRealty_$('div.pizo-list-realty-main-search-control-row-HT-input', content).childNodes[0];
  this.HTcheckbox = ListRealty_$('div.pizo-list-realty-main-search-control-row-HT-checkbox', content).childNodes[0];

  temp.show = function () {
    if (!temp.classList.contains("showTranslate")) temp.classList.add("showTranslate");
  };

  temp.hide = function () {
    if (!content.classList.contains("hideTranslate")) content.classList.add("hideTranslate");

    var eventEnd = function eventEnd() {
      if (temp.classList.contains("showTranslate")) temp.classList.remove("showTranslate");
      content.classList.remove("hideTranslate");
      content.removeEventListener("webkitTransitionEnd", eventEnd);
      content.removeEventListener("transitionend", eventEnd);
    }; // Code for Safari 3.1 to 6.0


    content.addEventListener("webkitTransitionEnd", eventEnd); // Standard syntax

    content.addEventListener("transitionend", eventEnd);
  };

  temp.apply = function () {};

  temp.reset = function () {
    content.timestart = new Date();
    content.timeend = new Date();
    content.lowprice.value = "";
    content.highprice.value = "";
    content.phone.value = "";
    content.MS.value = "";
    content.SN.value = "";
    content.TD.value = "";
    content.PX.value = "";
    content.QH.value = "";
    content.TT.value = "";
    content.HT.value = 0;
  };

  return temp;
};

ListRealty_ListRealty.prototype.add = function () {
  var parent_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var row = arguments.length > 1 ? arguments[1] : undefined;
  var self = this;
  var mNewRealty = new component_NewRealty(undefined, parent_id);
  mNewRealty.attach(self.parent);
  if (this.isCensorship === true) mNewRealty.setCensorship();
  mNewRealty.setDataListAccount(self.listAccoutData);
  mNewRealty.setDataListContact(self.listContactData);
  var frameview = mNewRealty.getView();
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.addDB(mNewRealty, row);
};

ListRealty_ListRealty.prototype.addDB = function (mNewRealty, row) {
  var self = this;
  mNewRealty.promiseAddDB.then(function (value) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("activehouses").add(value).then(function (result) {
      self.addView(result);
      loading.disable();
    });
    mNewRealty.promiseAddDB = undefined;
    setTimeout(function () {
      if (mNewRealty.promiseAddDB !== undefined) self.addDB(mNewRealty);
    }, 10);
  });
};

ListRealty_ListRealty.prototype.addView = function (value, parent) {
  value.created = getGMT();
  var result = this.getDataRow(value);
  var element = this.mTable;
  element.insertRow(result);
};

ListRealty_ListRealty.prototype.edit = function (data, parent, index) {
  var self = this;
  var mNewRealty = new component_NewRealty(data);
  mNewRealty.attach(self.parent);
  if (this.isCensorship === true) mNewRealty.setCensorship();
  mNewRealty.setDataListAccount(self.listAccoutData);
  mNewRealty.setDataListContact(self.listContactData);
  var frameview = mNewRealty.getView();
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDB(mNewRealty, data, parent, index);
};

ListRealty_ListRealty.prototype.getDataEditFake = function (data) {
  var self = this;
  var mNewRealty = new component_NewRealty(data);
  mNewRealty.setDataListAccount(self.listAccoutData);
  mNewRealty.setDataListContact(self.listContactData);
  var frameview = mNewRealty.getView();
  var temp = mNewRealty.getDataSave();
  temp.image = data.original.image;
  return temp;
};

ListRealty_ListRealty.prototype.editDB = function (mNewRealty, data, parent, index) {
  var self = this;
  mNewRealty.promiseEditDB.then(function (value) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("activehouses").update(value).then(function (result) {
      result.created = data.original.created;
      self.editView(result, parent, index);
      loading.disable();
    });
    mNewRealty.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewRealty.promiseEditDB !== undefined) self.editDB(mNewRealty, data, parent, index);
    }, 10);
  });
};

ListRealty_ListRealty.prototype.editView = function (value, parent, index) {
  var data = this.getDataRow(value);
  var indexOF = index,
      element = parent;
  element.updateRow(data, indexOF, true); // if(this.isCensorship&&data.censorship===1)
  // {
  //     element.updateTable();
  // }
};

ListRealty_ListRealty.prototype["delete"] = function (data, parent, index) {
  var self = this;
  var deleteItem = deleteQuestion("Xoá danh mục", "Bạn có chắc muốn xóa :" + data.name);
  this.$view.addChild(deleteItem);
  deleteItem.promiseComfirm.then(function () {
    self.deleteDB(data, parent, index);
  });
};

ListRealty_ListRealty.prototype.deleteView = function (parent, index) {
  var self = this;
  var bodyTable = parent.bodyTable;
  parent.dropRow(index).then(function () {});
};

ListRealty_ListRealty.prototype.deleteDB = function (data, parent, index) {
  var self = this;
  var phpFile = ModuleDatabase["a" /* default */].deleteActiveHomesPHP;
  if (self.phpDeleteContent) phpFile = self.phpUpdateContent;
  var loading = new loadingWheel();
  ModuleDatabase["a" /* default */].getModule("activehouses")["delete"]({
    id: data.id
  }).then(function (value) {
    self.deleteView(parent, index);
    loading.disable();
  });
};

ListRealty_ListRealty.prototype.merge = function (data, parent, index) {
  var self = this;
  var promiseAll = [];
  var arrTemp = [];
  var firstOperator = "";
  var dataTemp;

  for (var i = 0; i < data.length; i++) {
    dataTemp = data[i].original;
    if (dataTemp.image) for (var j = 0; j < dataTemp.image.length; j++) {
      if (firstOperator == "||") arrTemp.push(firstOperator);
      arrTemp.push({
        id: dataTemp.image[j]
      });
      firstOperator = "||";
    }
  }

  promiseAll.push(ModuleDatabase["a" /* default */].getModule("image").load({
    WHERE: arrTemp
  }));
  Promise.all(promiseAll).then(function () {
    var mMergeRealty = new component_MergeRealty(data);
    mMergeRealty.attach(self.parent);
    var frameview = mMergeRealty.getView();
    self.parent.body.addChild(frameview);
    self.parent.body.activeFrame(frameview);
    self.mergeDB(mMergeRealty, data, parent, index);
    mMergeRealty.promiseEditDB.then(function (value) {
      var loading = new loadingWheel();
      ModuleDatabase["a" /* default */].getModule("activehouses").add(value).then(function (_final4) {
        var valueFinal;

        if (self.isCensorship) {
          valueFinal = ModuleDatabase["a" /* default */].getModule("activehouses").getLibary("censorship", self.getDataRow.bind(self), true);
          valueFinal = valueFinal[0];
        } else {
          valueFinal = self.formatDataRow(ModuleDatabase["a" /* default */].getModule("activehouses").data);
        }

        self.mTable.data = valueFinal;
        self.HTinput.emit("change");
        loading.disable();
      });
    });
  });
};

ListRealty_ListRealty.prototype.mergeDB = function (mMergeRealty, data, parent, index) {};

ListRealty_ListRealty.prototype.mergeView = function (value, data, parent, index) {};

ListRealty_ListRealty.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

ListRealty_ListRealty.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

ListRealty_ListRealty.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

ListRealty_ListRealty.prototype.start = function () {};

/* harmony default export */ var page_ListRealty = (ListRealty_ListRealty);
// EXTERNAL MODULE: ./css/ListWard.css
var ListWard = __webpack_require__(242);

// EXTERNAL MODULE: ./css/NewWard.css
var NewWard = __webpack_require__(244);

// CONCATENATED MODULE: ./js/component/NewWard.js








var NewWard_ = dom_Fcore._;
var NewWard_$ = dom_Fcore.$;

function NewWard_NewWard(data) {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.textHeader = "Sửa ";
  this.data = data;
  if (this.data == undefined) this.textHeader = "Thêm ";
}

NewWard_NewWard.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(NewWard_NewWard.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
NewWard_NewWard.prototype.constructor = NewWard_NewWard;

NewWard_NewWard.prototype.getView = function (data) {
  if (this.$view) return this.$view;
  var self = this;
  this.$view = NewWard_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: self.textHeader + "Phường xã"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
              self.rejectDB(self.getDataSave());
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.createPromise();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Lưu và đóng" + '</span>']
        }]
      }]
    }]
  });
  self.listStateElement = NewWard_({
    tag: "selectmenu",
    "class": "pizo-new-state-container-nation-container-input",
    props: {
      enableSearch: true
    },
    on: {
      change: function change(event) {
        var x = getIDCompair(this.value);

        for (var i = 0; i < self.checkStateWard[x].length; i++) {
          if (self.checkStateWard[x][i] == self.listWardElement.value) return;
        }

        if (self.checkStateWard[x][0] !== undefined) self.listWardElement.value = self.checkStateWard[x][0].value;
      }
    }
  });
  self.listWardElement = NewWard_({
    tag: "selectmenu",
    "class": "pizo-new-ward-container-district-container-input",
    props: {
      enableSearch: true
    },
    on: {
      change: function change(event) {
        var x = getIDCompair(this.value);
        var checkid = self.checkState[self.checkWard[x].stateid].name + "_" + self.checkWard[x].stateid;
        self.listStateElement.value = checkid;
      }
    }
  });
  ModuleDatabase["a" /* default */].getModule("districts").load().then(function (listWard) {
    ModuleDatabase["a" /* default */].getModule("states").load().then(function (listState) {
      self.setListParamState(listState);
      self.listStateElement.items = self.listState;
      self.setListParamWard(listWard);
      self.listWardElement.items = self.listWard;

      if (self.data !== undefined) {
        self.listWardElement.value = self.checkWard[self.data.original.districtid].name + "_" + self.data.original.districtid;
        self.listWardElement.emit("change");
        var x = getIDCompair(self.listWardElement.value);
        var checkid = self.checkState[self.checkWard[x].stateid].name + "_" + self.checkWard[x].stateid;
        self.listStateElement.value = checkid;
      }
    });
  });
  this.$view.addChild(NewWard_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [{
      tag: "div",
      "class": ["pizo-list-realty-main-result-control"],
      child: [{
        tag: "div",
        "class": "pizo-new-state-container",
        child: [{
          tag: "div",
          "class": "pizo-new-state-container-name-container",
          child: [{
            tag: "span",
            "class": "pizo-new-state-container-name-container-label",
            props: {
              innerHTML: "Tên"
            }
          }, {
            tag: "input",
            "class": ["pizo-new-state-container-name-container-input", "pizo-new-realty-dectruct-input"]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-ward-container-district-container",
          child: [{
            tag: "span",
            "class": "pizo-new-ward-container-district-container-label",
            props: {
              innerHTML: "Quận/Huyện"
            }
          }, self.listWardElement]
        }, {
          tag: "div",
          "class": "pizo-new-state-container-nation-container",
          child: [{
            tag: "span",
            "class": "pizo-new-state-container-nation-container-label",
            props: {
              innerHTML: "Tỉnh/Thành phố"
            }
          }, self.listStateElement]
        }]
      }]
    }]
  }));
  this.createPromise();
  this.name = NewWard_$('input.pizo-new-state-container-name-container-input', this.$view);
  this.district = self.listWardElement;

  if (this.data !== undefined) {
    this.name.value = this.data.original.name;
  }

  return this.$view;
};

NewWard_NewWard.prototype.setListParamWard = function (value) {
  this.checkWard = ModuleDatabase["a" /* default */].getModule("districts").getLibary("id");
  this.checkStateWard = ModuleDatabase["a" /* default */].getModule("districts").getLibary("stateid", function (data) {
    return {
      text: data.name,
      value: data.name + "_" + data.id
    };
  }, true);
  this.listWard = ModuleDatabase["a" /* default */].getModule("districts").getList("name", ["name", "id"]);
};

NewWard_NewWard.prototype.setListParamState = function () {
  this.checkState = ModuleDatabase["a" /* default */].getModule("states").getLibary("id");
  this.listState = ModuleDatabase["a" /* default */].getModule("states").getList("name", ["name", "id"]);
  this.isLoaded = true;
};

NewWard_NewWard.prototype.getDataSave = function () {
  var temp = {
    id: this.data === undefined ? undefined : this.data.original.id,
    name: this.name.value,
    districtid: getIDCompair(this.district.value)
  };
  if (this.data !== undefined) temp.id = this.data.original.id;
  return temp;
};

NewWard_NewWard.prototype.createPromise = function () {
  var self = this;

  if (this.data === undefined) {
    self.promiseAddDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  } else {
    self.promiseEditDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  }
};

NewWard_NewWard.prototype.resetPromise = function (value) {
  if (self.promiseAddDB !== undefined) self.promiseAddDB = undefined;
  if (self.promiseEditDB !== undefined) self.promiseEditDB = undefined;
};

NewWard_NewWard.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

NewWard_NewWard.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

NewWard_NewWard.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

NewWard_NewWard.prototype.start = function () {};

/* harmony default export */ var component_NewWard = (NewWard_NewWard);
// CONCATENATED MODULE: ./js/page/ListWard.js











var ListWard_ = dom_Fcore._;
var ListWard_$ = dom_Fcore.$;

function ListWard_ListWard() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

ListWard_ListWard.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(ListWard_ListWard.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
ListWard_ListWard.prototype.constructor = ListWard_ListWard;

ListWard_ListWard.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;

  var input = ListWard_({
    tag: "input",
    "class": "quantumWizTextinputPaperinputInput",
    on: {
      change: function change() {
        self.mTable.updatePagination(this.value);
      }
    },
    props: {
      type: "number",
      autocomplete: "off",
      min: 1,
      max: 200,
      step: 1,
      value: 50
    }
  });

  var allinput = ListWard_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    props: {
      placeholder: "Tìm kiếm"
    }
  });

  if (BrowserDetector["a" /* default */].isMobile) {
    allinput.placeholder = "Tìm kiếm";
  }

  this.$view = ListWard_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Quản lý Phường/Xã"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-allinput",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-page-allinput-container",
          child: [allinput, {
            tag: "button",
            "class": "pizo-list-realty-page-allinput-search",
            child: [{
              tag: 'i',
              "class": 'material-icons',
              props: {
                innerHTML: 'search'
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-page-allinput-filter",
          on: {
            click: function click(event) {
              self.searchControl.show();
            }
          },
          child: [{
            tag: 'filter-ico'
          }, {
            tag: "span",
            "class": "navbar-search__filter-text",
            props: {
              innerHTML: "Lọc"
            }
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-number-line",
        child: [input, {
          tag: "span",
          "class": "freebirdFormeditorViewAssessmentWidgetsPointsLabel",
          props: {
            innerHTML: "Số dòng"
          }
        }]
      }]
    }]
  });

  var tabContainer = ListWard_({
    tag: "div",
    "class": ["pizo-list-realty-main-result-control", "drag-zone-bg", "no-animation"],
    style: {
      height: "calc(100% - 60px)"
    },
    child: []
  });

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(22) !== -1) {
    ListWard_$("div.pizo-list-realty-button", this.$view).appendChild(ListWard_({
      tag: "button",
      "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
      on: {
        click: function click(evt) {
          self.add();
        }
      },
      child: ['<span>' + "Thêm" + '</span>']
    }));
  }

  var docTypeMemuProps, token, functionX;
  token = "showMenu";

  var functionClickMore = function functionClickMore(event, me, index, parent, data, row) {
    if (token == absol.QuickMenu._session) {
      token = "showMenu";
      return;
    }

    docTypeMemuProps = {
      items: []
    };

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(23) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Sửa',
        icon: 'span.mdi.mdi-text-short',
        value: 1
      });
    }

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(24) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Xóa',
        icon: 'span.mdi.mdi-text',
        value: 2
      });
    }

    token = absol.QuickMenu.show(me, docTypeMemuProps, [3, 4], function (menuItem) {
      switch (menuItem.value) {
        case 1:
          self.edit(data, parent, index);
          break;

        case 2:
          self["delete"](data.original, parent, index);
          break;
      }
    });

    functionX = function (token) {
      return function () {
        var x = function x(event) {
          absol.QuickMenu.close(token);
          document.body.removeEventListener("click", x);
        };

        document.body.addEventListener("click", x);
      };
    }(token);

    setTimeout(functionX, 10);
  };

  var arr = [];
  arr.push(ModuleDatabase["a" /* default */].getModule("wards").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("districts").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("states").load());
  Promise.all(arr).then(function (values) {
    var value = values[0];
    var listWard = values[1];
    var listState = values[2];
    self.setListParamState(listState);
    self.listStateElement.items = self.listState;
    self.setListParamWard(listWard);
    self.listWardElement.items = self.listWard;
    var header = [{
      type: "increase",
      value: "#",
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'MS',
      sort: true,
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'Tên',
      sort: true,
      style: {
        minWidth: "unset"
      }
    }, {
      value: 'Quận/Huyện',
      sort: true,
      style: {
        minWidth: "200px",
        width: "200px"
      }
    }, {
      value: 'Tỉnh/Thành phố',
      sort: true,
      style: {
        minWidth: "200px",
        width: "200px"
      }
    }, {
      type: "detail",
      functionClickAll: functionClickMore,
      icon: "",
      dragElement: false,
      style: {
        width: "30px",
        maxWidth: "30px"
      }
    }];
    self.mTable = new tableView(header, self.formatDataRow(value), false, true, 3); // self.mTable.setArrayScroll(2, true);
    // self.mTable.setArrayScroll(2, false)

    tabContainer.addChild(self.mTable);
    self.mTable.addInputSearch(ListWard_$('.pizo-list-realty-page-allinput-container input', self.$view), 2);
    self.mTable.addFilter(self.listWardElement, 3);
    self.mTable.addFilter(self.listStateElement, 4);
  });
  this.searchControl = this.searchControlContent();
  this.$view.addChild(ListWard_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [this.searchControl, tabContainer]
  }));
  return this.$view;
};

ListWard_ListWard.prototype.setListParamWard = function (value) {
  this.checkWard = ModuleDatabase["a" /* default */].getModule("districts").getLibary("id");
  this.checkStateWard = ModuleDatabase["a" /* default */].getModule("districts").getLibary("stateid", function (data) {
    return {
      text: data.name,
      value: data.name + "_" + data.id
    };
  }, true);
  this.listWard = [{
    text: "Tất cả",
    value: 0
  }].concat(ModuleDatabase["a" /* default */].getModule("districts").getList("name", ["name", "id"]));
};

ListWard_ListWard.prototype.setListParamState = function () {
  this.checkState = ModuleDatabase["a" /* default */].getModule("states").getLibary("id");
  this.listState = [{
    text: "Tất cả",
    value: 0
  }].concat(ModuleDatabase["a" /* default */].getModule("states").getList("name", ["name", "id"]));
  this.isLoaded = true;
};

ListWard_ListWard.prototype.getDataParam = function () {
  return this.listParam;
};

ListWard_ListWard.prototype.formatDataRow = function (data) {
  var temp = [];
  var check = [];
  var k = 0;

  for (var i = 0; i < data.length; i++) {
    var result = this.getDataRow(data[i]);

    if (check[data[i].parent_id] !== undefined) {
      if (check[data[i].parent_id].child === undefined) check[data[i].parent_id].child = [];
      check[data[i].parent_id].child.push(result);
    } else temp[k++] = result;

    check[data[i].id] = result;
  }

  return temp;
};

ListWard_ListWard.prototype.getDataRow = function (data) {
  var result = [{}, data.id, data.name, {
    value: this.checkWard[parseInt(data.districtid)].name + "_" + data.districtid,
    element: ListWard_({
      text: this.checkWard[parseInt(data.districtid)].name
    })
  }, {
    value: this.checkState[parseInt(this.checkWard[parseInt(data.districtid)].stateid)].name + "_" + this.checkWard[parseInt(data.districtid)].stateid,
    element: ListWard_({
      text: this.checkState[parseInt(this.checkWard[parseInt(data.districtid)].stateid)].name
    })
  }, {}];
  result.original = data;
  return result;
};

ListWard_ListWard.prototype.formatDataList = function (data) {
  var temp = [{
    text: "Tất cả",
    value: 0
  }];

  for (var i = 0; i < data.length; i++) {
    temp[i + 1] = {
      text: data[i].name,
      value: data[i].id
    };
  }

  return temp;
};

ListWard_ListWard.prototype.searchControlContent = function () {
  var self = this;
  self.listStateElement = ListWard_({
    tag: "selectmenu",
    props: {
      enableSearch: true,
      items: [{
        text: "Tất cả",
        value: 0
      }]
    },
    on: {
      change: function change(event) {
        if (this.value == 0) {
          self.listWardElement.items = self.listWard;
        } else {
          self.listWardElement.items = [{
            text: "Tất cả",
            value: 0
          }].concat(self.checkStateWard[this.value.slice(this.value.lastIndexOf("_") + 1)]);
          self.listWardElement.value = 0;
          self.listWardElement.emit('change');
        }
      }
    }
  });
  self.listWardElement = ListWard_({
    tag: "selectmenu",
    props: {
      enableSearch: true,
      items: [{
        text: "Tất cả",
        value: 0
      }]
    },
    on: {
      change: function change(event) {
        if (this.value !== 0) {
          var checkResult = self.checkState[self.checkWard[this.value.slice(this.value.lastIndexOf("_") + 1)].stateid];
          var checkid = checkResult.name + "_" + checkResult.id;
          if (self.listStateElement.value != checkid) self.listStateElement.value = checkid;
        }
      }
    }
  });

  var content = ListWard_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control-container",
    on: {
      click: function click(event) {
        event.stopPropagation();
      }
    },
    child: [{
      tag: "div",
      "class": "pizo-list-realty-main-search-control-container-scroller",
      child: [{
        tag: "div",
        "class": "pizo-list-realty-main-search-control-row",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-state-ward",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-state-ward-label",
            props: {
              innerHTML: "Tỉnh/TP"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-state-ward-input",
            child: [self.listStateElement]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-district-ward",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-district-ward-label",
            props: {
              innerHTML: "Quận/Huyện"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-district-ward-input",
            child: [self.listWardElement]
          }]
        }]
      }]
    }]
  });

  var temp = ListWard_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control",
    on: {
      click: function click(event) {
        this.hide();
      }
    },
    child: [content]
  });

  temp.content = content;
  return temp;
};

ListWard_ListWard.prototype.getDataCurrent = function () {
  return this.getDataChild(this.mTable.data);
};

ListWard_ListWard.prototype.getDataChild = function (arr) {
  var self = this;
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    result.push(arr[i].original);
    if (arr[i].child.length !== 0) result = result.concat(self.getDataChild(arr[i].child));
  }

  return result;
};

ListWard_ListWard.prototype.add = function () {
  var parent_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var row = arguments.length > 1 ? arguments[1] : undefined;
  if (!this.isLoaded) return;
  var self = this;
  var mNewWard = new component_NewWard(undefined, parent_id);
  mNewWard.attach(self.parent);
  var frameview = mNewWard.getView(self.listParam);
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.addDB(mNewWard, row);
};

ListWard_ListWard.prototype.addDB = function (mNewWard, row) {
  var self = this;
  mNewWard.promiseAddDB.then(function (value) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("wards").add(value).then(function (result) {
      self.addView(result, row);
      loading.disable();
    });
    mNewWard.promiseAddDB = undefined;
    setTimeout(function () {
      if (mNewWard.promiseAddDB !== undefined) self.addDB(mNewWard);
    }, 10);
  });
};

ListWard_ListWard.prototype.addView = function (value, parent) {
  var result = this.getDataRow(value);
  var element = this.mTable;
  element.insertRow(result);
};

ListWard_ListWard.prototype.edit = function (data, parent, index) {
  if (!this.isLoaded) return;
  var self = this;
  var mNewWard = new component_NewWard(data);
  mNewWard.attach(self.parent);
  var frameview = mNewWard.getView(self.listParam);
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDB(mNewWard, data, parent, index);
};

ListWard_ListWard.prototype.editDB = function (mNewWard, data, parent, index) {
  var self = this;
  mNewWard.promiseEditDB.then(function (value) {
    value.id = data.original.id;
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("wards").update(value).then(function (result) {
      self.editView(value, data, parent, index);
      loading.disable();
    });
    mNewWard.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewWard.promiseEditDB !== undefined) self.editDB(mNewWard, data, parent, index);
    }, 10);
  });
};

ListWard_ListWard.prototype.editView = function (value, data, parent, index) {
  var data = this.getDataRow(value);
  var indexOF = index,
      element = parent;
  element.updateRow(data, indexOF, true);
};

ListWard_ListWard.prototype["delete"] = function (data, parent, index) {
  if (!this.isLoaded) return;
  var self = this;
  var deleteItem = deleteQuestion("Xoá danh mục", "Bạn có chắc muốn xóa :" + data.name);
  this.$view.addChild(deleteItem);
  deleteItem.promiseComfirm.then(function () {
    self.deleteDB(data, parent, index);
  });
};

ListWard_ListWard.prototype.deleteView = function (parent, index) {
  var self = this;
  var bodyTable = parent.bodyTable;
  parent.dropRow(index).then(function () {});
};

ListWard_ListWard.prototype.deleteDB = function (data, parent, index) {
  var self = this;
  var loading = new loadingWheel();
  ModuleDatabase["a" /* default */].getModule("wards")["delete"]({
    id: data.id
  }).then(function (value) {
    self.deleteView(parent, index);
    loading.disable();
  });
};

ListWard_ListWard.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

ListWard_ListWard.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

ListWard_ListWard.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

ListWard_ListWard.prototype.start = function () {};

/* harmony default export */ var page_ListWard = (ListWard_ListWard);
// EXTERNAL MODULE: ./css/ListStreet.css
var ListStreet = __webpack_require__(246);

// EXTERNAL MODULE: ./css/NewStreet.css
var NewStreet = __webpack_require__(248);

// CONCATENATED MODULE: ./js/component/NewStreet.js








var NewStreet_ = dom_Fcore._;
var NewStreet_$ = dom_Fcore.$;

function NewStreet_NewStreet(data) {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.textHeader = "Sửa ";
  this.data = data;
  if (this.data == undefined) this.textHeader = "Thêm ";
}

NewStreet_NewStreet.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(NewStreet_NewStreet.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
NewStreet_NewStreet.prototype.constructor = NewStreet_NewStreet;

NewStreet_NewStreet.prototype.getView = function (data) {
  if (this.$view) return this.$view;
  var self = this;
  this.$view = NewStreet_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: self.textHeader + "Phường xã"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
              self.rejectDB(self.getDataSave());
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.createPromise();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Lưu và đóng" + '</span>']
        }]
      }]
    }]
  });
  self.listStateElement = NewStreet_({
    tag: "selectmenu",
    "class": "pizo-new-state-container-nation-container-input",
    props: {
      enableSearch: true
    },
    on: {
      change: function change(event) {
        var x = getIDCompair(this.value);
        self.listDistrictElement.items = self.checkStateDistrict[x];
        self.listDistrictElement.emit("change");
      }
    }
  });
  self.listDistrictElement = NewStreet_({
    tag: "selectmenu",
    "class": "pizo-new-ward-container-district-container-input",
    props: {
      enableSearch: true
    },
    on: {
      change: function change(event) {
        var x = getIDCompair(this.value);
        self.listWardElement.items = self.checkDistrictWard[x];
        self.listWardElement.emit("change");
      }
    }
  });
  self.listWardElement = NewStreet_({
    tag: "selectmenu",
    "class": "pizo-new-ward-container-district-container-input",
    props: {
      enableSearch: true
    },
    on: {
      change: function change(event) {}
    }
  });
  var arr = [];
  arr.push(ModuleDatabase["a" /* default */].getModule("wards").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("districts").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("states").load());
  Promise.all(arr).then(function (values) {
    var listWard = values[0];
    var listDistrict = values[1];
    var listState = values[2];
    self.setListParamState(listState);
    self.listStateElement.items = self.listState;
    self.setListParamDistrict(listDistrict); // self.listDistrictElement.items = self.listDistrict;

    self.setListParamWard(listWard); // self.listWardElement.items = self.listWard;

    if (self.data !== undefined) {
      var x = parseInt(self.data.original.wardid);
      var checkidState = self.checkState[self.checkDistrict[self.checkWard[x].districtid].stateid].name + "_" + self.checkDistrict[self.checkWard[x].districtid].stateid;
      self.listStateElement.value = checkidState;
      self.listStateElement.emit("change");
      var checkid = self.checkDistrict[self.checkWard[x].districtid].name + "_" + self.checkWard[x].districtid;
      self.listDistrictElement.value = checkid;
      self.listDistrictElement.emit("change");
      self.listWardElement.value = self.checkWard[self.data.original.wardid].name + "_" + self.data.original.wardid;
    }
  });
  this.$view.addChild(NewStreet_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [{
      tag: "div",
      "class": ["pizo-list-realty-main-result-control"],
      child: [{
        tag: "div",
        "class": "pizo-new-state-container",
        child: [{
          tag: "div",
          "class": "pizo-new-state-container-name-container",
          child: [{
            tag: "span",
            "class": "pizo-new-state-container-name-container-label",
            props: {
              innerHTML: "Tên"
            }
          }, {
            tag: "input",
            "class": ["pizo-new-state-container-name-container-input", "pizo-new-realty-dectruct-input"]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-ward-container-ward-container",
          child: [{
            tag: "span",
            "class": "pizo-new-ward-container-ward-container-label",
            props: {
              innerHTML: "Phường/Xã"
            }
          }, self.listWardElement]
        }, {
          tag: "div",
          "class": "pizo-new-ward-container-district-container",
          child: [{
            tag: "span",
            "class": "pizo-new-ward-container-district-container-label",
            props: {
              innerHTML: "Quận/Huyện"
            }
          }, self.listDistrictElement]
        }, {
          tag: "div",
          "class": "pizo-new-state-container-nation-container",
          child: [{
            tag: "span",
            "class": "pizo-new-state-container-nation-container-label",
            props: {
              innerHTML: "Tỉnh/Thành phố"
            }
          }, self.listStateElement]
        }]
      }]
    }]
  }));
  this.createPromise();
  this.name = NewStreet_$('input.pizo-new-state-container-name-container-input', this.$view);
  this.district = self.listDistrictElement;

  if (this.data !== undefined) {
    this.name.value = this.data.original.name;
  }

  return this.$view;
};

NewStreet_NewStreet.prototype.setListParamWard = function (value) {
  this.checkWard = ModuleDatabase["a" /* default */].getModule("wards").getLibary("id");
  this.checkDistrictWard = ModuleDatabase["a" /* default */].getModule("wards").getLibary("districtid", function (data) {
    return {
      text: data.name,
      value: data.name + "_" + data.id
    };
  }, true); // this.listWard = moduleDatabase.getModule("wards").getList("name",["name","id"]);
};

NewStreet_NewStreet.prototype.setListParamDistrict = function (value) {
  this.checkDistrict = ModuleDatabase["a" /* default */].getModule("districts").getLibary("id");
  this.checkStateDistrict = ModuleDatabase["a" /* default */].getModule("districts").getLibary("stateid", function (data) {
    return {
      text: data.name,
      value: data.name + "_" + data.id
    };
  }, true); // this.listDistrict = moduleDatabase.getModule("districts").getList("name",["name","id"]);
};

NewStreet_NewStreet.prototype.setListParamState = function () {
  this.checkState = ModuleDatabase["a" /* default */].getModule("states").getLibary("id");
  this.listState = ModuleDatabase["a" /* default */].getModule("states").getList("name", ["name", "id"]);
  this.isLoaded = true;
};

NewStreet_NewStreet.prototype.getDataSave = function () {
  var temp = {
    name: this.name.value,
    wardid: getIDCompair(this.listWardElement.value)
  };
  if (this.data !== undefined) temp.id = this.data.original.id;
  return temp;
};

NewStreet_NewStreet.prototype.createPromise = function () {
  var self = this;

  if (this.data === undefined) {
    self.promiseAddDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  } else {
    self.promiseEditDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  }
};

NewStreet_NewStreet.prototype.resetPromise = function (value) {
  if (self.promiseAddDB !== undefined) self.promiseAddDB = undefined;
  if (self.promiseEditDB !== undefined) self.promiseEditDB = undefined;
};

NewStreet_NewStreet.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

NewStreet_NewStreet.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

NewStreet_NewStreet.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

NewStreet_NewStreet.prototype.start = function () {};

/* harmony default export */ var component_NewStreet = (NewStreet_NewStreet);
// CONCATENATED MODULE: ./js/page/ListStreet.js











var ListStreet_ = dom_Fcore._;
var ListStreet_$ = dom_Fcore.$;

function ListStreet_ListStreet() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

ListStreet_ListStreet.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(ListStreet_ListStreet.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
ListStreet_ListStreet.prototype.constructor = ListStreet_ListStreet;

ListStreet_ListStreet.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;

  var input = ListStreet_({
    tag: "input",
    "class": "quantumWizTextinputPaperinputInput",
    on: {
      change: function change() {
        self.mTable.updatePagination(this.value);
      }
    },
    props: {
      type: "number",
      autocomplete: "off",
      min: 1,
      max: 200,
      step: 1,
      value: 50
    }
  });

  var allinput = ListStreet_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    props: {
      placeholder: "Tìm kiếm"
    }
  });

  if (BrowserDetector["a" /* default */].isMobile) {
    allinput.placeholder = "Tìm kiếm";
  }

  this.$view = ListStreet_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Quản lý Tên đường"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-allinput",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-page-allinput-container",
          child: [allinput, {
            tag: "button",
            "class": "pizo-list-realty-page-allinput-search",
            child: [{
              tag: 'i',
              "class": 'material-icons',
              props: {
                innerHTML: 'search'
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-page-allinput-filter",
          on: {
            click: function click(event) {
              self.searchControl.show();
            }
          },
          child: [{
            tag: 'filter-ico'
          }, {
            tag: "span",
            "class": "navbar-search__filter-text",
            props: {
              innerHTML: "Lọc"
            }
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-number-line",
        child: [input, {
          tag: "span",
          "class": "freebirdFormeditorViewAssessmentWidgetsPointsLabel",
          props: {
            innerHTML: "Số dòng"
          }
        }]
      }]
    }]
  });

  var tabContainer = ListStreet_({
    tag: "div",
    "class": ["pizo-list-realty-main-result-control", "drag-zone-bg", "no-animation"],
    style: {
      height: "calc(100% - 63px)"
    },
    child: []
  });

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(26) !== -1) {
    ListStreet_$("div.pizo-list-realty-button", this.$view).appendChild(ListStreet_({
      tag: "button",
      "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
      on: {
        click: function click(evt) {
          self.add();
        }
      },
      child: ['<span>' + "Thêm" + '</span>']
    }));
  }

  var docTypeMemuProps, token, functionX;
  token = "showMenu";

  var functionClickMore = function functionClickMore(event, me, index, parent, data, row) {
    if (token == absol.QuickMenu._session) {
      token = "showMenu";
      return;
    }

    docTypeMemuProps = {
      items: []
    };

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(27) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Sửa',
        icon: 'span.mdi.mdi-text-short',
        value: 1
      });
    }

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(28) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Xóa',
        icon: 'span.mdi.mdi-text',
        value: 2
      });
    }

    token = absol.QuickMenu.show(me, docTypeMemuProps, [3, 4], function (menuItem) {
      switch (menuItem.value) {
        case 1:
          self.edit(data, parent, index);
          break;

        case 2:
          self["delete"](data.original, parent, index);
          break;
      }
    });

    functionX = function (token) {
      return function () {
        var x = function x(event) {
          absol.QuickMenu.close(token);
          document.body.removeEventListener("click", x);
        };

        document.body.addEventListener("click", x);
      };
    }(token);

    setTimeout(functionX, 10);
  };

  var header = [{
    type: "increase",
    value: "#",
    style: {
      minWidth: "50px",
      width: "50px"
    }
  }, {
    value: 'MS',
    sort: true,
    style: {
      minWidth: "50px",
      width: "50px"
    }
  }, {
    value: 'Tên',
    sort: true,
    style: {
      minWidth: "unset"
    }
  }, {
    value: 'Phường/xã',
    sort: true,
    style: {
      minWidth: "100px"
    }
  }, {
    type: "detail",
    functionClickAll: functionClickMore,
    icon: "",
    dragElement: false,
    style: {
      width: "30px"
    }
  }];
  self.mTable = new tableView(header, [], false, true, 2);
  tabContainer.addChild(self.mTable);
  self.mTable.addInputSearch(ListStreet_$('.pizo-list-realty-page-allinput-container input', self.$view)); // self.listParent.updateItemList(listParam);

  ModuleDatabase["a" /* default */].getModule("wards").load().then(function (listWard) {
    ModuleDatabase["a" /* default */].getModule("districts").load().then(function (listDistrict) {
      ModuleDatabase["a" /* default */].getModule("states").load().then(function (listState) {
        self.setListParamWard(listWard);
        self.setListParamDitrict(listDistrict);
        self.setListParamState(listState);
        self.listStateElement.items = self.listState;
        self.listStateElement.emit("change");
        self.mTable.addFilter(self.listWardElement, 3);
      });
    });
  });
  this.searchControl = this.searchControlContent();
  this.$view.addChild(ListStreet_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [this.searchControl, tabContainer]
  }));
  return this.$view;
};

ListStreet_ListStreet.prototype.setListParamWard = function (value) {
  this.checkWard = ModuleDatabase["a" /* default */].getModule("wards").getLibary("id");
  this.checkDistrictWard = ModuleDatabase["a" /* default */].getModule("wards").getLibary("districtid", function (data) {
    return {
      text: data.name,
      value: data.name + "_" + data.id
    };
  }, true);
};

ListStreet_ListStreet.prototype.setListParamDitrict = function (value) {
  this.checkDistrict = ModuleDatabase["a" /* default */].getModule("districts").getLibary("id");
  this.checkStateDistrict = ModuleDatabase["a" /* default */].getModule("districts").getLibary("stateid", function (data) {
    return {
      text: data.name,
      value: data.name + "_" + data.id
    };
  }, true);
};

ListStreet_ListStreet.prototype.setListParamState = function (value) {
  this.checkState = ModuleDatabase["a" /* default */].getModule("states").getLibary("id");
  this.listState = ModuleDatabase["a" /* default */].getModule("states").getList("name", ["name", "id"]);
  this.isLoaded = true;
};

ListStreet_ListStreet.prototype.getDataParam = function () {
  return this.listParam;
};

ListStreet_ListStreet.prototype.formatDataRow = function (data) {
  var temp = [];
  var check = [];
  var k = 0;

  for (var i = 0; i < data.length; i++) {
    var result = this.getDataRow(data[i]);

    if (check[data[i].parent_id] !== undefined) {
      if (check[data[i].parent_id].child === undefined) check[data[i].parent_id].child = [];
      check[data[i].parent_id].child.push(result);
    } else temp[k++] = result;

    check[data[i].id] = result;
  }

  return temp;
};

ListStreet_ListStreet.prototype.getDataRow = function (data) {
  var result = [{}, data.id, data.name, {
    value: this.checkWard[data.wardid].name + "_" + data.wardid,
    element: ListStreet_({
      text: this.checkWard[data.wardid].name
    })
  }, {}];
  result.original = data;
  return result;
};

ListStreet_ListStreet.prototype.formatDataList = function (data) {
  var temp = [{
    text: "Tất cả",
    value: 0
  }];

  for (var i = 0; i < data.length; i++) {
    temp[i + 1] = {
      text: data[i].name,
      value: data[i].id
    };
  }

  return temp;
};

ListStreet_ListStreet.prototype.searchControlContent = function () {
  var self = this;
  self.listStateElement = ListStreet_({
    tag: "selectmenu",
    style: {
      width: "100%"
    },
    props: {
      enableSearch: true
    },
    on: {
      change: function change(event) {
        self.listDistrictElement.items = self.checkStateDistrict[this.value.slice(this.value.lastIndexOf("_") + 1)];
        self.listDistrictElement.emit('change');
      }
    }
  });
  self.listDistrictElement = ListStreet_({
    tag: "selectmenu",
    style: {
      width: "100%"
    },
    props: {
      enableSearch: true
    },
    on: {
      change: function change(event) {
        if (this.value !== this.lastValue) {
          self.listWardElement.items = [{
            text: "Tất cả",
            value: 0
          }].concat(self.checkDistrictWard[this.value.slice(this.value.lastIndexOf("_") + 1)]);
          self.listWardElement.emit('change');
          var arr = [];
          var arrTemp = self.checkDistrictWard[this.value.slice(this.value.lastIndexOf("_") + 1)];

          for (var i = 0; i < arrTemp.length; i++) {
            arr.push(ModuleDatabase["a" /* default */].getModule("streets").load({
              WHERE: [{
                wardid: parseFloat(arrTemp[i].value.slice(arrTemp[i].value.lastIndexOf("_") + 1))
              }]
            }));
          }

          Promise.all(arr).then(function (value) {
            var result = [];

            for (var i = 0; i < value.length; i++) {
              result = result.concat(value[i]);
            }

            self.mTable.data = self.formatDataRow(result);
            self.mTable.updatePagination();
            self.mTable.resetHash();
          });
        }

        this.lastValue = this.value;
      }
    }
  });
  self.listWardElement = ListStreet_({
    tag: "selectmenu",
    style: {
      width: "100%"
    },
    props: {
      enableSearch: true
    },
    on: {
      change: function change(event) {}
    }
  });

  var content = ListStreet_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control-container",
    on: {
      click: function click(event) {
        event.stopPropagation();
      }
    },
    child: [{
      tag: "div",
      "class": "pizo-list-realty-main-search-control-container-scroller",
      child: [{
        tag: "div",
        "class": "pizo-list-realty-main-search-control-row",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-state-ward",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-state-ward-label",
            props: {
              innerHTML: "Tỉnh/TP"
            }
          }, self.listStateElement]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-district-ward",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-district-ward-label",
            props: {
              innerHTML: "Quận/Huyện"
            }
          }, self.listDistrictElement]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-district-ward",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-district-ward-label",
            props: {
              innerHTML: "Phường/xã"
            }
          }, self.listWardElement]
        }]
      }]
    }]
  });

  var temp = ListStreet_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control",
    on: {
      click: function click(event) {
        this.hide();
      }
    },
    child: [content]
  });

  temp.content = content;

  temp.apply = function () {};

  temp.reset = function () {};

  return temp;
};

ListStreet_ListStreet.prototype.getDataCurrent = function () {
  return this.getDataChild(this.mTable.data);
};

ListStreet_ListStreet.prototype.getDataChild = function (arr) {
  var self = this;
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    result.push(arr[i].original);
    if (arr[i].child.length !== 0) result = result.concat(self.getDataChild(arr[i].child));
  }

  return result;
};

ListStreet_ListStreet.prototype.add = function () {
  var parent_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var row = arguments.length > 1 ? arguments[1] : undefined;
  if (!this.isLoaded) return;
  var self = this;
  var mNewStreet = new component_NewStreet(undefined, parent_id);
  mNewStreet.attach(self.parent);
  var frameview = mNewStreet.getView(self.listParam);
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.addDB(mNewStreet, row);
};

ListStreet_ListStreet.prototype.addDB = function (mNewStreet, row) {
  var self = this;
  mNewStreet.promiseAddDB.then(function (value) {
    ModuleDatabase["a" /* default */].getModule("streets").add(value).then(function (result) {
      self.addView(result, row);
    });
    mNewStreet.promiseAddDB = undefined;
    setTimeout(function () {
      if (mNewStreet.promiseAddDB !== undefined) self.addDB(mNewStreet);
    }, 10);
  });
};

ListStreet_ListStreet.prototype.addView = function (value, parent) {
  var result = this.getDataRow(value);
  var element = this.mTable;
  element.insertRow(result);
};

ListStreet_ListStreet.prototype.edit = function (data, parent, index) {
  if (!this.isLoaded) return;
  var self = this;
  var mNewStreet = new component_NewStreet(data);
  mNewStreet.attach(self.parent);
  var frameview = mNewStreet.getView(self.listParam);
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDB(mNewStreet, data, parent, index);
};

ListStreet_ListStreet.prototype.editDB = function (mNewStreet, data, parent, index) {
  var self = this;
  mNewStreet.promiseEditDB.then(function (value) {
    value.id = data.original.id;
    ModuleDatabase["a" /* default */].getModule("streets").update(value).then(function (result) {
      self.editView(value, data, parent, index);
    });
    mNewStreet.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewStreet.promiseEditDB !== undefined) self.editDB(mNewStreet, data, parent, index);
    }, 10);
  });
};

ListStreet_ListStreet.prototype.editView = function (value, data, parent, index) {
  var data = this.getDataRow(value);
  var indexOF = index,
      element = parent;
  element.updateRow(data, indexOF, true);
};

ListStreet_ListStreet.prototype["delete"] = function (data, parent, index) {
  if (!this.isLoaded) return;
  var self = this;
  var deleteItem = deleteQuestion("Xoá danh mục", "Bạn có chắc muốn xóa :" + data.name);
  this.$view.addChild(deleteItem);
  deleteItem.promiseComfirm.then(function () {
    self.deleteDB(data, parent, index);
  });
};

ListStreet_ListStreet.prototype.deleteView = function (parent, index) {
  var self = this;
  var bodyTable = parent.bodyTable;
  console.log(index);
  parent.dropRow(index).then(function () {});
};

ListStreet_ListStreet.prototype.deleteDB = function (data, parent, index) {
  var self = this;
  ModuleDatabase["a" /* default */].getModule("streets")["delete"]({
    id: data.id
  }).then(function (value) {
    self.deleteView(parent, index);
  });
};

ListStreet_ListStreet.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

ListStreet_ListStreet.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

ListStreet_ListStreet.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

ListStreet_ListStreet.prototype.start = function () {};

/* harmony default export */ var page_ListStreet = (ListStreet_ListStreet);
// EXTERNAL MODULE: ./css/ListState.css
var ListState = __webpack_require__(250);

// EXTERNAL MODULE: ./css/NewState.css
var NewState = __webpack_require__(252);

// CONCATENATED MODULE: ./js/component/NewState.js






var NewState_ = dom_Fcore._;
var NewState_$ = dom_Fcore.$;

function NewState_NewState(data) {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.textHeader = "Sửa ";
  this.data = data;
  if (this.data == undefined) this.textHeader = "Thêm ";
}

NewState_NewState.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(NewState_NewState.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
NewState_NewState.prototype.constructor = NewState_NewState;

NewState_NewState.prototype.getDataSave = function () {
  return {
    id: this.data === undefined ? undefined : this.data.original.id,
    name: this.name.value,
    type: this.type.value,
    districtid: this.district.value
  };
};

NewState_NewState.prototype.createPromise = function () {
  var self = this;

  if (this.data === undefined) {
    self.promiseAddDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  } else {
    self.promiseEditDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  }
};

NewState_NewState.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;
  this.$view = NewState_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: self.textHeader + "Tỉnh/TP"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
              self.rejectDB(self.getDataSave());
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.createPromise();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Lưu và đóng" + '</span>']
        }]
      }]
    }]
  });
  this.$view.addChild(NewState_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [{
      tag: "div",
      "class": ["pizo-list-realty-main-result-control"],
      child: [{
        tag: "div",
        "class": "pizo-new-state-container",
        child: [{
          tag: "div",
          "class": "pizo-new-state-container-name-container",
          child: [{
            tag: "span",
            "class": "pizo-new-state-container-name-container-label",
            props: {
              innerHTML: "Tên"
            }
          }, {
            tag: "input",
            "class": ["pizo-new-state-container-name-container-input", "pizo-new-realty-dectruct-input"]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-state-container-nation-container",
          child: [{
            tag: "span",
            "class": "pizo-new-state-container-nation-container-label",
            props: {
              innerHTML: "Quốc gia"
            }
          }, {
            tag: "selectmenu",
            "class": "pizo-new-state-container-nation-container-input",
            props: {
              items: [{
                text: "Việt Nam",
                value: 1
              }]
            }
          }]
        }]
      }]
    }]
  }));
  this.createPromise();
  this.name = NewState_$('input.pizo-new-state-container-name-container-input"', this.$view);
  this.nation = NewState_$('div.pizo-new-state-container-nation-container-input', this.$view);

  if (this.data !== undefined) {
    this.name.value = this.data.original.name;
    this.nation.value = this.data.original.nationid;
  }

  return this.$view;
};

NewState_NewState.prototype.getDataSave = function () {
  var temp = {
    name: this.name.value,
    nationid: this.nation.value
  };
  if (this.data !== undefined) temp.id = this.data.original.id;
  return temp;
};

NewState_NewState.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

NewState_NewState.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

NewState_NewState.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

NewState_NewState.prototype.start = function () {};

/* harmony default export */ var component_NewState = (NewState_NewState);
// CONCATENATED MODULE: ./js/page/ListState.js











var ListState_ = dom_Fcore._;
var ListState_$ = dom_Fcore.$;

function ListState_ListState() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

ListState_ListState.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(ListState_ListState.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
ListState_ListState.prototype.constructor = ListState_ListState;

ListState_ListState.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;

  var input = ListState_({
    tag: "input",
    "class": "quantumWizTextinputPaperinputInput",
    on: {
      change: function change() {
        self.mTable.updatePagination(this.value);
      }
    },
    props: {
      type: "number",
      autocomplete: "off",
      min: 1,
      max: 200,
      step: 1,
      value: 50
    }
  });

  var allinput = ListState_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    props: {
      placeholder: "Tìm kiếm"
    }
  });

  if (BrowserDetector["a" /* default */].isMobile) {
    allinput.placeholder = "Tìm kiếm";
  }

  this.$view = ListState_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Quản lý Tỉnh/TP"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-allinput",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-page-allinput-container",
          child: [allinput, {
            tag: "button",
            "class": "pizo-list-realty-page-allinput-search",
            child: [{
              tag: 'i',
              "class": 'material-icons',
              props: {
                innerHTML: 'search'
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-page-allinput-filter",
          on: {
            click: function click(event) {
              self.searchControl.show();
            }
          },
          child: [{
            tag: 'filter-ico'
          }, {
            tag: "span",
            "class": "navbar-search__filter-text",
            props: {
              innerHTML: "Lọc"
            }
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-number-line",
        child: [input, {
          tag: "span",
          "class": "freebirdFormeditorViewAssessmentWidgetsPointsLabel",
          props: {
            innerHTML: "Số dòng"
          }
        }]
      }]
    }]
  });

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(14) !== -1) {
    ListState_$("div.pizo-list-realty-button", this.$view).appendChild(ListState_({
      tag: "button",
      "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
      on: {
        click: function click(evt) {
          self.add();
        }
      },
      child: ['<span>' + "Thêm" + '</span>']
    }));
  }

  var tabContainer = ListState_({
    tag: "div",
    "class": ["pizo-list-realty-main-result-control", "drag-zone-bg"],
    child: []
  });

  var docTypeMemuProps, token, functionX;
  token = "showMenu";

  var functionClickMore = function functionClickMore(event, me, index, parent, data, row) {
    if (token == absol.QuickMenu._session) {
      token = "showMenu";
      return;
    }

    docTypeMemuProps = {
      items: []
    };

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(15) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Sửa',
        icon: 'span.mdi.mdi-text-short',
        value: 1
      });
    }

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(16) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Xóa',
        icon: 'span.mdi.mdi-text',
        value: 2
      });
    }

    token = absol.QuickMenu.show(me, docTypeMemuProps, [3, 4], function (menuItem) {
      switch (menuItem.value) {
        case 1:
          self.edit(data, parent, index);
          break;

        case 2:
          self["delete"](data.original, parent, index);
          break;
      }
    });

    functionX = function (token) {
      return function () {
        var x = function x(event) {
          absol.QuickMenu.close(token);
          document.body.removeEventListener("click", x);
        };

        document.body.addEventListener("click", x);
      };
    }(token);

    setTimeout(functionX, 10);
  };

  var stateModule = ModuleDatabase["a" /* default */].getModule("states");
  var nationModule = ModuleDatabase["a" /* default */].getModule("nations");
  stateModule.load().then(function (value) {
    nationModule.load().then(function (listParam) {
      self.setListParam(listParam);
      var header = [{
        type: "dragzone",
        value: "",
        style: {
          minWidth: "50px",
          width: "50px"
        }
      }, {
        type: "increase",
        value: "#",
        style: {
          minWidth: "50px",
          width: "50px"
        }
      }, {
        value: 'MS',
        sort: true,
        style: {
          minWidth: "50px",
          width: "50px"
        }
      }, {
        value: 'Tên',
        sort: true,
        style: {
          minWidth: "unset"
        }
      }, {
        value: 'Quốc gia',
        sort: true,
        style: {
          minWidth: "200px",
          width: "200px"
        }
      }, {
        type: "detail",
        functionClickAll: functionClickMore,
        icon: "",
        dragElement: false,
        style: {
          width: "30px"
        }
      }];
      self.mTable = new tableView(header, self.formatDataRow(value), true, true, 2);
      tabContainer.addChild(self.mTable);
      self.mTable.addInputSearch(ListState_$('.pizo-list-realty-page-allinput-container input', self.$view)); // self.mTable.setUpSwipe(undefined,[{icon: _({
      //     tag:"i",
      //     class:["material-icons","button-hidden-swipe-icon"],
      //     style:{
      //         color:"red"
      //     },
      //     props:{
      //         innerHTML: "close"
      //     }
      // }),text:"Test",background:"yellow",event:{click:function(event){console.log(event)}}},{icon:"close",text:"Test Test",background:"green",event:function(event){console.log(event)}}]);

      self.mTable.addEventListener("dragdrop", function (event) {
        console.log(event);
      });
    });
  });
  this.searchControl = this.searchControlContent();
  this.$view.addChild(ListState_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [this.searchControl, tabContainer]
  }));
  return this.$view;
};

ListState_ListState.prototype.setListParam = function (value) {
  this.checkNation = [];
  this.listParam = [];

  for (var i = 0; i < value.length; i++) {
    this.checkNation[value[i].id] = value[i];
    this.listParam[i] = {
      text: value[i].name,
      value: value[i].id
    };
  }

  this.isLoaded = true;
};

ListState_ListState.prototype.getDataParam = function () {
  return this.listParam;
};

ListState_ListState.prototype.formatDataRow = function (data) {
  var temp = [];
  var check = [];
  var k = 0;

  for (var i = 0; i < data.length; i++) {
    var result = this.getDataRow(data[i]);

    if (check[data[i].parent_id] !== undefined) {
      if (check[data[i].parent_id].child === undefined) check[data[i].parent_id].child = [];
      check[data[i].parent_id].child.push(result);
    } else temp[k++] = result;

    check[data[i].id] = result;
  }

  return temp;
};

ListState_ListState.prototype.getDataRow = function (data) {
  var result = [{}, {}, data.id, data.name, this.checkNation[parseInt(data.nationid)].longname, {}];
  result.original = data;
  return result;
};

ListState_ListState.prototype.formatDataList = function (data) {
  var temp = [{
    text: "Tất cả",
    value: 0
  }];

  for (var i = 0; i < data.length; i++) {
    temp[i + 1] = {
      text: data[i].name,
      value: data[i].id
    };
  }

  return temp;
};

ListState_ListState.prototype.searchControlContent = function () {
  var content = ListState_({
    tag: "div"
  });

  var temp = ListState_({
    tag: "div",
    style: {
      display: "none"
    },
    child: [content]
  });

  temp.show = function () {
    if (!temp.classList.contains("showTranslate")) temp.classList.add("showTranslate");
  };

  temp.hide = function () {
    if (!content.classList.contains("hideTranslate")) content.classList.add("hideTranslate");

    var eventEnd = function eventEnd() {
      if (temp.classList.contains("showTranslate")) temp.classList.remove("showTranslate");
      content.classList.remove("hideTranslate");
      content.removeEventListener("webkitTransitionEnd", eventEnd);
      content.removeEventListener("transitionend", eventEnd);
    }; // Code for Safari 3.1 to 6.0


    content.addEventListener("webkitTransitionEnd", eventEnd); // Standard syntax

    content.addEventListener("transitionend", eventEnd);
  };

  temp.apply = function () {};

  temp.reset = function () {
    content.timestart = new Date();
    content.timeend = new Date();
  };

  return temp;
};

ListState_ListState.prototype.getDataCurrent = function () {
  return this.getDataChild(this.mTable.data);
};

ListState_ListState.prototype.getDataChild = function (arr) {
  var self = this;
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    result.push(arr[i].original);
    if (arr[i].child.length !== 0) result = result.concat(self.getDataChild(arr[i].child));
  }

  return result;
};

ListState_ListState.prototype.add = function () {
  var parent_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var row = arguments.length > 1 ? arguments[1] : undefined;
  if (!this.isLoaded) return;
  var self = this;
  var mNewState = new component_NewState(undefined, parent_id);
  mNewState.attach(self.parent);
  var frameview = mNewState.getView(self.getDataParam());
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.addDB(mNewState, row);
};

ListState_ListState.prototype.addDB = function (mNewState, row) {
  var self = this;
  mNewState.promiseAddDB.then(function (value) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("states").add(value).then(function (result) {
      self.addView(result, row);
      loading.disable();
    });
    mNewState.promiseAddDB = undefined;
    setTimeout(function () {
      if (mNewState.promiseAddDB !== undefined) self.addDB(mNewState);
    }, 10);
  });
};

ListState_ListState.prototype.addView = function (value, parent) {
  var result = this.getDataRow(value);
  var element = this.mTable;
  element.insertRow(result);
};

ListState_ListState.prototype.edit = function (data, parent, index) {
  if (!this.isLoaded) return;
  var self = this;
  var mNewState = new component_NewState(data);
  mNewState.attach(self.parent);
  var frameview = mNewState.getView(self.getDataParam());
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDB(mNewState, data, parent, index);
};

ListState_ListState.prototype.editDB = function (mNewState, data, parent, index) {
  var self = this;
  mNewState.promiseEditDB.then(function (value) {
    value.id = data.original.id;
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("states").update(value).then(function (result) {
      self.editView(value, data, parent, index);
      loading.disable();
    });
    mNewState.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewState.promiseEditDB !== undefined) self.editDB(mNewState, data, parent, index);
    }, 10);
  });
};

ListState_ListState.prototype.editView = function (value, data, parent, index) {
  var data = this.getDataRow(value);
  var indexOF = index,
      element = parent;
  element.updateRow(data, indexOF, true);
};

ListState_ListState.prototype["delete"] = function (data, parent, index) {
  if (!this.isLoaded) return;
  var self = this;
  var deleteItem = deleteQuestion("Xoá danh mục", "Bạn có chắc muốn xóa :" + data.name);
  this.$view.addChild(deleteItem);
  deleteItem.promiseComfirm.then(function () {
    self.deleteDB(data, parent, index);
  });
};

ListState_ListState.prototype.deleteView = function (parent, index) {
  var self = this;
  var bodyTable = parent.bodyTable;
  console.log(parent, index);
  parent.dropRow(index).then(function () {});
};

ListState_ListState.prototype.deleteDB = function (data, parent, index) {
  var self = this;
  var loading = new loadingWheel();
  ModuleDatabase["a" /* default */].getModule("states")["delete"]({
    id: data.id
  }).then(function (value) {
    self.deleteView(parent, index);
    loading.disable();
  });
};

ListState_ListState.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

ListState_ListState.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

ListState_ListState.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

ListState_ListState.prototype.start = function () {};

/* harmony default export */ var page_ListState = (ListState_ListState);
// EXTERNAL MODULE: ./css/ListDistrict.css
var ListDistrict = __webpack_require__(254);

// EXTERNAL MODULE: ./css/NewDistrict.css
var NewDistrict = __webpack_require__(256);

// CONCATENATED MODULE: ./js/component/NewDistrict.js






var NewDistrict_ = dom_Fcore._;
var NewDistrict_$ = dom_Fcore.$;

function NewDistrict_NewDistrict(data) {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.textHeader = "Sửa ";
  this.data = data;
  if (this.data == undefined) this.textHeader = "Thêm ";
}

NewDistrict_NewDistrict.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(NewDistrict_NewDistrict.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
NewDistrict_NewDistrict.prototype.constructor = NewDistrict_NewDistrict;

NewDistrict_NewDistrict.prototype.getView = function (data) {
  if (this.$view) return this.$view;
  var self = this;
  this.$view = NewDistrict_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: self.textHeader + "Quận/Huyện"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
              self.rejectDB(self.getDataSave());
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.createPromise();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Lưu và đóng" + '</span>']
        }]
      }]
    }]
  });
  this.$view.addChild(NewDistrict_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [{
      tag: "div",
      "class": ["pizo-list-realty-main-result-control"],
      child: [{
        tag: "div",
        "class": "pizo-new-state-container",
        child: [{
          tag: "div",
          "class": "pizo-new-state-container-name-container",
          child: [{
            tag: "span",
            "class": "pizo-new-state-container-name-container-label",
            props: {
              innerHTML: "Tên"
            }
          }, {
            tag: "input",
            "class": ["pizo-new-state-container-name-container-input", "pizo-new-realty-dectruct-input"]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-state-container-nation-container",
          child: [{
            tag: "span",
            "class": "pizo-new-state-container-nation-container-label",
            props: {
              innerHTML: "Tỉnh/Thành phố"
            }
          }, {
            tag: "selectmenu",
            "class": "pizo-new-state-container-nation-container-input",
            props: {
              enableSearch: true,
              items: data
            }
          }]
        }]
      }]
    }]
  }));
  this.createPromise();
  this.name = NewDistrict_$('input.pizo-new-state-container-name-container-input', this.$view);
  this.state = NewDistrict_$('div.pizo-new-state-container-nation-container-input', this.$view);

  if (this.data !== undefined) {
    this.name.value = this.data.original.name;
    this.state.value = this.data.original.stateid;
  }

  return this.$view;
};

NewDistrict_NewDistrict.prototype.getDataSave = function () {
  var temp = {
    id: this.data === undefined ? undefined : this.data.original.id,
    name: this.name.value,
    stateid: this.state.value
  };

  if (this.data !== undefined) {
    temp.id = this.data.original.id;
  }

  return temp;
};

NewDistrict_NewDistrict.prototype.createPromise = function () {
  var self = this;

  if (this.data === undefined) {
    self.promiseAddDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  } else {
    self.promiseEditDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  }
};

NewDistrict_NewDistrict.prototype.resetPromise = function (value) {
  if (self.promiseAddDB !== undefined) self.promiseAddDB = undefined;
  if (self.promiseEditDB !== undefined) self.promiseEditDB = undefined;
};

NewDistrict_NewDistrict.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

NewDistrict_NewDistrict.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

NewDistrict_NewDistrict.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

NewDistrict_NewDistrict.prototype.start = function () {};

/* harmony default export */ var component_NewDistrict = (NewDistrict_NewDistrict);
// CONCATENATED MODULE: ./js/page/ListDistrict.js











var ListDistrict_ = dom_Fcore._;
var ListDistrict_$ = dom_Fcore.$;

function ListDistrict_ListDistrict() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

ListDistrict_ListDistrict.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(ListDistrict_ListDistrict.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
ListDistrict_ListDistrict.prototype.constructor = ListDistrict_ListDistrict;

ListDistrict_ListDistrict.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;

  var input = ListDistrict_({
    tag: "input",
    "class": "quantumWizTextinputPaperinputInput",
    on: {
      change: function change() {
        self.mTable.updatePagination(this.value);
      }
    },
    props: {
      type: "number",
      autocomplete: "off",
      min: 1,
      max: 200,
      step: 1,
      value: 50
    }
  });

  var allinput = ListDistrict_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    props: {
      placeholder: "Tìm kiếm"
    }
  });

  if (BrowserDetector["a" /* default */].isMobile) {
    allinput.placeholder = "Tìm kiếm";
  }

  this.$view = ListDistrict_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Quản lý Quận/Huyện"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-allinput",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-page-allinput-container",
          child: [allinput, {
            tag: "button",
            "class": "pizo-list-realty-page-allinput-search",
            child: [{
              tag: 'i',
              "class": 'material-icons',
              props: {
                innerHTML: 'search'
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-page-allinput-filter",
          on: {
            click: function click(event) {
              self.searchControl.show();
            }
          },
          child: [{
            tag: 'filter-ico'
          }, {
            tag: "span",
            "class": "navbar-search__filter-text",
            props: {
              innerHTML: "Lọc"
            }
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-number-line",
        child: [input, {
          tag: "span",
          "class": "freebirdFormeditorViewAssessmentWidgetsPointsLabel",
          props: {
            innerHTML: "Số dòng"
          }
        }]
      }]
    }]
  });

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(18) !== -1) {
    ListDistrict_$("div.pizo-list-realty-button", this.$view).appendChild(ListDistrict_({
      tag: "button",
      "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
      on: {
        click: function click(evt) {
          self.add();
        }
      },
      child: ['<span>' + "Thêm" + '</span>']
    }));
  }

  var tabContainer = ListDistrict_({
    tag: "div",
    "class": ["pizo-list-realty-main-result-control", "drag-zone-bg"],
    style: {
      height: "calc(100% - 60px)"
    },
    child: []
  });

  var docTypeMemuProps, token, functionX;
  token = "showMenu";

  var functionClickMore = function functionClickMore(event, me, index, parent, data, row) {
    if (token == absol.QuickMenu._session) {
      token = "showMenu";
      return;
    }

    docTypeMemuProps = {
      items: []
    };

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(19) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Sửa',
        icon: 'span.mdi.mdi-text-short',
        value: 1
      });
    }

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(20) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Xóa',
        icon: 'span.mdi.mdi-text',
        value: 2
      });
    }

    token = absol.QuickMenu.show(me, docTypeMemuProps, [3, 4], function (menuItem) {
      switch (menuItem.value) {
        case 1:
          self.edit(data, parent, index);
          break;

        case 2:
          self["delete"](data.original, parent, index);
          break;
      }
    });

    functionX = function (token) {
      return function () {
        var x = function x(event) {
          absol.QuickMenu.close(token);
          document.body.removeEventListener("click", x);
        };

        document.body.addEventListener("click", x);
      };
    }(token);

    setTimeout(functionX, 10);
  };

  var arr = [];
  arr.push(ModuleDatabase["a" /* default */].getModule("districts").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("states").load());
  Promise.all(arr).then(function (values) {
    var value = values[0];
    var listParam = values[1];
    self.setListParam();
    var header = [{
      type: "increase",
      value: "#",
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'MS',
      sort: true,
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'Tên',
      sort: true,
      style: {
        minWidth: "unset"
      }
    }, {
      value: 'Tỉnh/Thành phố',
      sort: true,
      style: {
        minWidth: "200px",
        width: "200px"
      }
    }, {
      type: "detail",
      functionClickAll: functionClickMore,
      icon: "",
      dragElement: false,
      style: {
        width: "30px"
      }
    }];
    self.mTable = new tableView(header, self.formatDataRow(value), false, true, 2);
    tabContainer.addChild(self.mTable); // self.mTable.addInputSearch($('.pizo-list-realty-page-allinput-container input', self.$view));

    self.listParent.updateItemList(listParam);
    self.mTable.addFilter(self.listParent, 3);
  });
  this.searchControl = this.searchControlContent();
  this.$view.addChild(ListDistrict_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [this.searchControl, tabContainer]
  }));
  return this.$view;
};

ListDistrict_ListDistrict.prototype.setListParam = function () {
  this.checkState = ModuleDatabase["a" /* default */].getModule("states").getLibary("id");
  this.listParam = ModuleDatabase["a" /* default */].getModule("states").getList("name", "id");
  this.isLoaded = true;
};

ListDistrict_ListDistrict.prototype.getDataParam = function () {
  return this.listParam;
};

ListDistrict_ListDistrict.prototype.formatDataRow = function (data) {
  var temp = [];
  var check = [];
  var k = 0;

  for (var i = 0; i < data.length; i++) {
    var result = this.getDataRow(data[i]);

    if (check[data[i].parent_id] !== undefined) {
      if (check[data[i].parent_id].child === undefined) check[data[i].parent_id].child = [];
      check[data[i].parent_id].child.push(result);
    } else temp[k++] = result;

    check[data[i].id] = result;
  }

  return temp;
};

ListDistrict_ListDistrict.prototype.getDataRow = function (data) {
  var result = [{}, data.id, data.name, {
    value: this.checkState[data.stateid].id,
    element: ListDistrict_({
      text: this.checkState[data.stateid].name
    })
  }, {}];
  result.original = data;
  return result;
};

ListDistrict_ListDistrict.prototype.formatDataList = function (data) {
  var temp = [{
    text: "Tất cả",
    value: 0
  }];

  for (var i = 0; i < data.length; i++) {
    temp[i + 1] = {
      text: data[i].name,
      value: data[i].id
    };
  }

  return temp;
};

ListDistrict_ListDistrict.prototype.searchControlContent = function () {
  var self = this;
  self.listParent = ListDistrict_({
    tag: "selectmenu",
    props: {
      enableSearch: true,
      items: [{
        text: "Tất cả",
        value: 0
      }]
    }
  });

  self.listParent.updateItemList = function (value) {
    self.listParent.items = self.formatDataList(value);
  };

  var content = ListDistrict_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control-container",
    on: {
      click: function click(event) {
        event.stopPropagation();
      }
    },
    child: [{
      tag: "div",
      "class": "pizo-list-realty-main-search-control-container-scroller",
      child: [{
        tag: "div",
        "class": "pizo-list-realty-main-search-control-row",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-state-district",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-state-district-label",
            props: {
              innerHTML: "Tỉnh/TP"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-state-district-input",
            child: [self.listParent]
          }]
        }]
      }]
    }]
  });

  var temp = ListDistrict_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control",
    on: {
      click: function click(event) {
        this.hide();
      }
    },
    child: [content]
  });

  temp.content = content;

  temp.show = function () {
    if (!temp.classList.contains("showTranslate")) temp.classList.add("showTranslate");
  };

  temp.hide = function () {
    if (!content.classList.contains("hideTranslate")) content.classList.add("hideTranslate");

    var eventEnd = function eventEnd() {
      if (temp.classList.contains("showTranslate")) temp.classList.remove("showTranslate");
      content.classList.remove("hideTranslate");
      content.removeEventListener("webkitTransitionEnd", eventEnd);
      content.removeEventListener("transitionend", eventEnd);
    }; // Code for Safari 3.1 to 6.0


    content.addEventListener("webkitTransitionEnd", eventEnd); // Standard syntax

    content.addEventListener("transitionend", eventEnd);
  };

  return temp;
};

ListDistrict_ListDistrict.prototype.getDataCurrent = function () {
  return this.getDataChild(this.mTable.data);
};

ListDistrict_ListDistrict.prototype.getDataChild = function (arr) {
  var self = this;
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    result.push(arr[i].original);
    if (arr[i].child.length !== 0) result = result.concat(self.getDataChild(arr[i].child));
  }

  return result;
};

ListDistrict_ListDistrict.prototype.add = function () {
  var parent_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var row = arguments.length > 1 ? arguments[1] : undefined;
  if (!this.isLoaded) return;
  var self = this;
  var mNewDistrict = new component_NewDistrict(undefined, parent_id);
  mNewDistrict.attach(self.parent);
  var frameview = mNewDistrict.getView(self.listParam);
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.addDB(mNewDistrict, row);
};

ListDistrict_ListDistrict.prototype.addDB = function (mNewDistrict, row) {
  var self = this;
  mNewDistrict.promiseAddDB.then(function (value) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("districts").add(value).then(function (result) {
      self.addView(result, row);
      loading.disable();
    });
    mNewDistrict.promiseAddDB = undefined;
    setTimeout(function () {
      if (mNewDistrict.promiseAddDB !== undefined) self.addDB(mNewDistrict);
    }, 10);
  });
};

ListDistrict_ListDistrict.prototype.addView = function (value, parent) {
  var result = this.getDataRow(value);
  var element = this.mTable;
  element.insertRow(result);
};

ListDistrict_ListDistrict.prototype.edit = function (data, parent, index) {
  if (!this.isLoaded) return;
  var self = this;
  var mNewDistrict = new component_NewDistrict(data);
  mNewDistrict.attach(self.parent);
  var frameview = mNewDistrict.getView(self.listParam);
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDB(mNewDistrict, data, parent, index);
};

ListDistrict_ListDistrict.prototype.editDB = function (mNewDistrict, data, parent, index) {
  var self = this;
  mNewDistrict.promiseEditDB.then(function (value) {
    value.id = data.original.id;
    ModuleDatabase["a" /* default */].getModule("districts").update(value).then(function (result) {
      self.editView(value, data, parent, index);
    });
    mNewDistrict.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewDistrict.promiseEditDB !== undefined) self.editDB(mNewDistrict, data, parent, index);
    }, 10);
  });
};

ListDistrict_ListDistrict.prototype.editView = function (value, data, parent, index) {
  var data = this.getDataRow(value);
  var indexOF = index,
      element = parent;
  element.updateRow(data, indexOF, true);
};

ListDistrict_ListDistrict.prototype["delete"] = function (data, parent, index) {
  if (!this.isLoaded) return;
  var self = this;
  var deleteItem = deleteQuestion("Xoá danh mục", "Bạn có chắc muốn xóa :" + data.name);
  this.$view.addChild(deleteItem);
  deleteItem.promiseComfirm.then(function () {
    self.deleteDB(data, parent, index);
  });
};

ListDistrict_ListDistrict.prototype.deleteView = function (parent, index) {
  var self = this;
  var bodyTable = parent.bodyTable;
  parent.dropRow(index).then(function () {});
};

ListDistrict_ListDistrict.prototype.deleteDB = function (data, parent, index) {
  var self = this;
  ModuleDatabase["a" /* default */].getModule("districts")["delete"]({
    id: data.id
  }).then(function (value) {
    self.deleteView(parent, index);
  });
};

ListDistrict_ListDistrict.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

ListDistrict_ListDistrict.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

ListDistrict_ListDistrict.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

ListDistrict_ListDistrict.prototype.start = function () {};

/* harmony default export */ var page_ListDistrict = (ListDistrict_ListDistrict);
// EXTERNAL MODULE: ./css/PlanningInformation.css
var PlanningInformation = __webpack_require__(258);

// CONCATENATED MODULE: ./js/page/PlanningInformation.js
function PlanningInformation_typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { PlanningInformation_typeof = function _typeof(obj) { return typeof obj; }; } else { PlanningInformation_typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return PlanningInformation_typeof(obj); }












var PlanningInformation_ = dom_Fcore._;
var PlanningInformation_$ = dom_Fcore.$;

function PlanningInformation_PlanningInformation() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.hash = [];
}

PlanningInformation_PlanningInformation.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(PlanningInformation_PlanningInformation.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
PlanningInformation_PlanningInformation.prototype.constructor = PlanningInformation_PlanningInformation;

PlanningInformation_PlanningInformation.prototype.setUpDxfFile = function (fileText, loading) {
  var parser = new DxfParser();
  var dxf = null;

  try {
    dxf = parser.parseSync(fileText);
  } catch (err) {
    return console.error(err.stack);
  }

  var wkt = GeoJSON.parse(dxf);
  console.log(wkt);
  var center = new google.maps.LatLng(GeoJSON.header.$LATITUDE, GeoJSON.header.$LONGITUDE);
  window.dcel.extractLines();
  var faces = dcel.internalFaces();
  wkt = consoleWKT(faces);
  var lines = consoleWKTLine(window.dcel.checkHedges);
  if (lines !== -1) this.addLine(lines);
  if (this.isVisiableLine === true) this.showHideLine();
  this.isVisiableLine = true;
  var tempPolygon = this.addWKT(wkt);
  this.polygon = this.polygon.concat(tempPolygon);
  this.hash.polygon = tempPolygon;
  this.mapView.map.setCenter(center);
  this.mapView.map.setZoom(17);
  this.mapView.map.data.setStyle({
    strokeColor: "#000000",
    strokeOpacity: 0.8,
    strokeWeight: 1
  });
  console.timeEnd("dcel cost");
  loading.disable();
};

PlanningInformation_PlanningInformation.prototype.showHideLine = function () {
  if (this.lines) if (this.isVisiableLine === true) {
    for (var i = 0; i < this.lines.length; i++) {
      this.lines[i].setMap(null);
    }

    this.isVisiableLine = false;
  } else {
    for (var i = 0; i < this.lines.length; i++) {
      this.lines[i].setMap(this.mapView.map);
    }

    this.isVisiableLine = true;
  }
};

PlanningInformation_PlanningInformation.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;

  var allinput = PlanningInformation_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    props: {
      placeholder: "Tìm theo địa chỉ"
    }
  });

  if (BrowserDetector["a" /* default */].isMobile) {
    allinput.placeholder = "Tìm theo địa chỉ";
  }

  var mapView = new MapView_MapView(); // Set CSS for the control button

  var controlDiv = document.createElement('div');
  var controlUI = document.createElement('div');
  controlUI.style.backgroundColor = '#444';
  controlUI.style.borderStyle = 'solid';
  controlUI.style.borderWidth = '1px';
  controlUI.style.borderColor = 'white';
  controlUI.style.height = '28px';
  controlUI.style.marginTop = '5px';
  controlUI.style.cursor = 'pointer';
  controlUI.style.textAlign = 'center';
  controlUI.title = 'Click to center map on your location';
  controlDiv.appendChild(controlUI); // Set CSS for the control text

  var controlText = document.createElement('div');
  controlText.style.fontFamily = 'Arial,sans-serif';
  controlText.style.fontSize = '10px';
  controlText.style.color = 'white';
  controlText.style.paddingLeft = '10px';
  controlText.style.paddingRight = '10px';
  controlText.style.marginTop = '8px';
  controlText.innerHTML = 'Chọn để ẩn hiện nét đã bỏ';
  controlUI.appendChild(controlText); // Setup the click event listeners to geolocate user

  google.maps.event.addDomListener(controlUI, 'click', this.showHideLine.bind(this));
  mapView.map.controls[google.maps.ControlPosition.TOP_CENTER].push(controlDiv);
  this.searchControl = this.searchControlContent();

  var hiddenInput = PlanningInformation_({
    tag: "input",
    "class": "hiddenUI",
    on: {
      change: function change(event) {
        if (this.files.length == 0) return;
        var file = this.files[0];
        var reader = new FileReader();
        reader.readAsText(this.files[0]);

        reader.onload = function (e) {
          console.time("dcel cost");
          console.log(file);
          var extension = file.name.slice((Math.max(0, file.name.lastIndexOf(".")) || Infinity) + 1);
          var fileText = e.target.result;

          if (extension === "dxf") {
            if (true) {
              var gmt = getGMT();

              var inputElement = PlanningInformation_({
                tag: "div",
                "class": "pizo-name-commit-planning",
                child: [{
                  tag: "span",
                  "class": "pizo-name-commit-planning-text",
                  props: {
                    innerHTML: "Chú thích lần commit"
                  }
                }, {
                  tag: "input",
                  "class": "pizo-name-commit-planning-input",
                  props: {
                    value: "Commit vào thời gian " + formatDate(gmt, true, true, true, true, true, true)
                  }
                }]
              });

              var deleteQuestionCommit = confirmQuestion("Chú thích lần commit", inputElement);
              document.body.appendChild(deleteQuestionCommit);
              deleteQuestionCommit.promiseComfirm.then(function () {
                self.commitComment = inputElement.childNodes[1].value;
                var loading = new loadingWheel();
                setTimeout(function () {
                  self.setUpDxfFile(fileText, loading);
                }, 60);
              });
            } else { var loading; }
          }
        };
      }
    },
    props: {
      id: "file-field",
      type: "file"
    }
  });

  this.$view = PlanningInformation_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      style: {
        paddingRight: 0
      },
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Thông tin quy hoạch"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, hiddenInput, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.removeAllSelect();

              if (self.editPolygon !== undefined) {
                self.editPolygon.toInActive(self);
              }

              self.saveCurrentDataMap();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-allinput",
        style: {
          width: "calc(100% - 190px)"
        },
        child: [{
          tag: "div",
          "class": "pizo-list-realty-page-allinput-container",
          style: {
            width: "100%"
          },
          child: [allinput, {
            tag: "button",
            "class": "pizo-list-realty-page-allinput-search",
            child: [{
              tag: 'i',
              "class": 'material-icons',
              props: {
                innerHTML: 'search'
              }
            }]
          }]
        }]
      }]
    }]
  });

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(30) !== -1) {
    PlanningInformation_$("div.pizo-list-realty-button", this.$view).appendChild(PlanningInformation_({
      tag: "button",
      "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
      on: {
        click: function click(evt) {
          hiddenInput.click();
        }
      },
      child: ['<span>' + "Thêm" + '</span>']
    }));
  }

  this.$view.addChild(PlanningInformation_({
    tag: "div",
    "class": ["pizo-list-plan-main"],
    style: {
      flexDirection: "column"
    },
    child: [this.searchControl, {
      tag: "div",
      "class": ["pizo-list-realty-main-result-control"],
      child: [mapView]
    }]
  }));
  this.mapView = mapView;
  this.mapView.map.enableKeyDragZoom(this.selectPolygonFunction.bind(this));
  this.mapView.map.setTilt(45);
  var polyOptions = {
    strokeColor: "#eb4034",
    fillColor: "#c18986",
    strokeOpacity: 0.8,
    strokeWeight: 1,
    editable: true,
    draggable: true
  };

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(30) !== -1) {
    var drawingManager = new google.maps.drawing.DrawingManager({
      drawingControlOptions: {
        drawingModes: [google.maps.drawing.OverlayType.POLYGON]
      },
      markerOptions: {
        draggable: true
      },
      polylineOptions: {},
      draggableCursor: 'crosshair',
      rectangleOptions: polyOptions,
      circleOptions: polyOptions,
      polygonOptions: polyOptions,
      map: this.mapView.map
    });
    google.maps.event.addListener(drawingManager, 'overlaycomplete', function (e) {
      self.removeAllSelect();
      var polygon = e.overlay;
      self.polygon.push(polygon);
      self.addEventPolygon(polygon);

      if (self.editPolygon !== undefined) {
        self.editPolygon.toInActive(self);
      }

      polygon.toActive(self);
      polygon.setOptions({
        editable: true,
        draggable: true
      });
      self.editPolygon = polygon;
    });
  }

  this.mapView.map.setOptions({
    maxZoom: 30
  });
  this.drawingManager = drawingManager;
  this.polygon = [];
  this.selectPolygon = [];
  window.addEventListener("keydown", function (e) {
    if (e.keyCode == 46) {
      if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(32) == -1) return;

      if (self.editPolygon !== undefined) {
        self.editPolygon.setMap(null);
        var index = self.polygon.indexOf(self.editPolygon);
        self.polygon.splice(index, 1);
      }

      for (var i = 0; i < self.selectPolygon.length; i++) {
        self.selectPolygon[i].setMap(null);
        google.maps.event.clearListeners(self.selectPolygon[i], 'click');
        var index = self.polygon.indexOf(self.selectPolygon[i]);
        self.polygon.splice(index, 1);
      }

      if (self.allPolygon !== undefined) {
        self.allPolygon.setMap(null);
        self.allPolygon = undefined;
      }

      self.selectPolygon = [];
    } else if (e.keyCode == 27) {
      self.removeAllSelect();

      if (self.editPolygon !== undefined) {
        self.editPolygon.toInActive(self);
      }
    }
  });
  this.allinput = allinput;
  var searchBox = new google.maps.places.SearchBox(allinput, {
    // terms:['street_number','route','locality','administrative_area_level_1','administrative_area_level_2','administrative_area_level_3'],
    types: ['geocode'],
    componentRestrictions: {
      country: 'vn'
    }
  });
  google.maps.event.addListener(this.mapView.map, 'bounds_changed', function () {
    var bounds = self.mapView.map.getBounds();
    searchBox.setBounds(bounds);
  });
  this.searchBox = searchBox;
  google.maps.event.addListener(searchBox, 'places_changed', function () {
    var places = searchBox.getPlaces(); // For each place, get the icon, place name, and location.

    var bounds = new google.maps.LatLngBounds();
    var place = null;

    for (var i = 0; place = places[i]; i++) {
      bounds.extend(place.geometry.location);
    }

    self.mapView.map.setCenter(bounds.getCenter());
  });
  ModuleDatabase["a" /* default */].getModule("geometry_created").load(undefined, true).then(function (value) {
    self.filterTime.updateItem(value);
  });
  return this.$view;
};

PlanningInformation_PlanningInformation.prototype.removeAllSelect = function () {
  var self = this;

  if (self.allPolygon !== undefined) {
    for (var i = 0; i < self.selectPolygon.length; i++) {
      self.selectPolygon[i].setMap(self.mapView.map);

      if (self.allPolygon !== undefined && self.allPolygon.deltaDrag !== undefined && (self.allPolygon.deltaDrag.lat !== 0 || self.allPolygon.deltaDrag.lng !== 0)) {
        var center = self.selectPolygon[i].getBounds().getCenter().toJSON();
        center.lat += self.allPolygon.deltaDrag.lat;
        center.lng += self.allPolygon.deltaDrag.lng;
        self.selectPolygon[i].moveTo(new google.maps.LatLng(center.lat, center.lng));
      }
    }

    self.allPolygon.setMap(null);
    self.allPolygon = undefined;
    self.selectPolygon = [];
  }
};

PlanningInformation_PlanningInformation.prototype.createHash = function (arr) {
  var data = [];

  for (var i = 0; i < arr.length; i++) {
    this.createHashRow(arr[i], data);
  }

  return data;
};

PlanningInformation_PlanningInformation.prototype.createHashRow = function (data, hash) {
  var intLat, intLng, cellLat, cellLng, created;
  var center = data.getBounds().getCenter().toJSON();
  intLng = parseInt(center.lng / 1);
  cellLng = Math.ceil(center.lng % 1 / (1 / 1110)) - 1;
  intLat = parseInt(center.lat / 1);
  cellLat = Math.ceil(center.lat % 1 / (1 / 1110)) - 1;
  cellLng = intLng * 10000 + cellLng;
  cellLat = intLat * 10000 + cellLat;

  if (data.created !== undefined) {
    created = data.created;
    if (hash[created] === undefined) hash[created] = [];
    if (hash[created][cellLat] == undefined) hash[created][cellLat] = [];
    if (hash[created][cellLat][cellLng] == undefined) hash[created][cellLat][cellLng] = [];
    hash[created][cellLat][cellLng].push(data.ToWKT());
  } else {
    if (hash[cellLat] == undefined) hash[cellLat] = [];
    if (hash[cellLat][cellLng] == undefined) hash[cellLat][cellLng] = [];
    hash[cellLat][cellLng].push(data);
  }
};

PlanningInformation_PlanningInformation.prototype.saveCurrentDataMap = function () {
  var data = this.createHash(this.polygon);
  var gmt = getGMT();

  for (var param in data) {
    if (param === "polygon") continue;

    if (isNaN(param / 1) === true) {
      name = data[param].name;

      for (var cellLat in data[param]) {
        if (cellLat === "polygon") continue;
        var dataLat = data[param][cellLat];

        for (var cellLng in dataLat) {
          if (this.hash[param] === undefined || this.hash[param][cellLat] === undefined || this.hash[param][cellLat][cellLng] === undefined) {
            var arr = dataLat[cellLng];
            var wkt = new Wkt.Wkt();

            for (var i = 0; i < arr.length; i++) {
              if (i === 0) wkt.read(arr[i]);else wkt.merge(new Wkt.Wkt(arr[i]));
            }

            ModuleDatabase["a" /* default */].getModule("geometry").add({
              cellLat: cellLat,
              cellLng: cellLng,
              name: input.value,
              created: param,
              map: wkt.toString()
            });
          } else {
            var arr = dataLat[cellLng];
            var wkt = new Wkt.Wkt();

            for (var i = 0; i < arr.length; i++) {
              if (i === 0) wkt.read(arr[i]);else wkt.merge(new Wkt.Wkt(arr[i]));
            }

            var arr = this.hash[param][cellLat][cellLng];
            var wkt2 = new Wkt.Wkt();

            for (var i = 0; i < arr.length; i++) {
              if (i === 0) wkt2.read(arr[i]);else wkt2.merge(new Wkt.Wkt(arr[i]));
            }

            if (wkt.toString() !== wkt2.toString()) {
              ModuleDatabase["a" /* default */].getModule("geometry").update({
                cellLat: cellLat,
                cellLng: cellLng,
                created: param,
                map: wkt.toString()
              });
            }

            delete this.hash[param][cellLat][cellLng];
          }
        }
      }
    } else {
      var promiseAll = [];

      for (var child in data[param]) {
        var arr = data[param][child];
        var wkt = new Wkt.Wkt();

        for (var i = 0; i < arr.length; i++) {
          var stringWKT = arr[i].ToWKT();
          if (i === 0) wkt.read(stringWKT);else wkt.merge(new Wkt.Wkt(stringWKT));
          arr[i].created = gmt;
          arr[i] = stringWKT;
        }

        promiseAll.push(ModuleDatabase["a" /* default */].getModule("geometry").add({
          cellLat: param,
          cellLng: child,
          name: this.commitComment,
          created: gmt,
          map: wkt.toString()
        }));
      }

      var x = data[param];
      var polygon = this.hash.polygon;
      delete data[param];
      delete data.polygon;
      if (data[gmt] === undefined) data[gmt] = [];
      data[gmt][param] = x;
      if (polygon) data[gmt].polygon = polygon;
      var date = formatDate(gmt, true, true, true, true, true);

      if (this.filterTime.values.indexOf(gmt) == -1) {
        this.filterTime.items.push({
          text: this.commitComment + " (" + date + ")",
          value: gmt
        });
        this.filterTime.items = this.filterTime.items;
        this.filterTime.values.push(gmt);
        this.filterTime.values = this.filterTime.values;
      }
    }
  }

  var promiseAllDelete = [];

  for (var param in this.hash) {
    if (param === "polygon") continue;
    if (this.filterTime.values.indexOf(param) == -1) continue;

    if (isNaN(param / 1)) {
      for (var ortherLat in this.hash[param]) {
        if (ortherLat === "polygon") continue;

        for (var ortherLng in this.hash[param][ortherLat]) {
          promiseAllDelete.push(ModuleDatabase["a" /* default */].getModule("geometry")["delete"]({
            cellLat: ortherLat,
            cellLng: ortherLng,
            created: param
          }));
        }
      }
    }

    if (data[param] === undefined) {
      for (var i = 0; i < this.filterTime.values.length; i++) {
        if (this.filterTime.values[i] == param) {
          this.filterTime.values.splice(i, 1);
          this.filterTime.values = this.filterTime.values;
          break;
        }
      }

      for (var i = 0; i < this.filterTime.items.length; i++) {
        if (this.filterTime.items[i].value == param) {
          this.filterTime.items.splice(i, 1);
          this.filterTime.items = this.filterTime.items;
          break;
        }
      }
    }
  }

  Promise.all(promiseAllDelete).then(function (values) {});
  this.commitComment = undefined;
  this.hash = data;
};

PlanningInformation_PlanningInformation.prototype.addEventPolygon = function (polygon) {
  var self = this;
  google.maps.event.addListener(polygon, 'click', function (event) {
    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(31) == -1) return;

    if (self.editPolygon === this) {
      this.toInActive(self);
    } else {
      if (self.editPolygon !== undefined) {
        self.editPolygon.toInActive(self);
        this.toActive(self);
        this.setOptions({
          editable: true,
          draggable: true
        });
      } else {
        if (self.allPolygon !== undefined) {
          if (self.selectPolygon.indexOf(this) === -1) {
            self.allPolygon.setMap(null);
            var path = [];
            var tempPath;

            for (var i = 0; i < self.selectPolygon.length; i++) {
              if (self.allPolygon !== undefined && self.allPolygon.deltaDrag !== undefined && (self.allPolygon.deltaDrag.lat !== 0 || self.allPolygon.deltaDrag.lng !== 0)) {
                var center = self.selectPolygon[i].getBounds().getCenter().toJSON();
                center.lat += self.allPolygon.deltaDrag.lat;
                center.lng += self.allPolygon.deltaDrag.lng;
                self.selectPolygon[i].moveTo(new google.maps.LatLng(center.lat, center.lng));
              }

              tempPath = [];

              for (var j = 0; j < self.selectPolygon[i].getPath().getLength(); j++) {
                tempPath.push(self.selectPolygon[i].getPath().getAt(j).toJSON());
              }

              self.selectPolygon[i].setMap(null);
              path.push(tempPath);
            }

            tempPath = [];

            for (var j = 0; j < this.getPath().getLength(); j++) {
              tempPath.push(this.getPath().getAt(j).toJSON());
            }

            path.push(tempPath);
            this.setMap(null);
            self.selectPolygon.push(this);
            if (this.isVisiableLine === true) this.showHideLine();
            self.createAllPolygon(path);
          }
        } else {
          this.toActive(self);
          this.setOptions({
            editable: true,
            draggable: true
          });
        }
      }
    }
  });
};

PlanningInformation_PlanningInformation.prototype.selectPolygonFunction = function (bns) {
  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(31) == -1) {
    return;
  }

  this.removeAllSelect();
  if (this.isVisiableLine === true) this.showHideLine();
  if (this.editPolygon !== undefined) this.editPolygon.toInActive(this);
  var path = [];
  var tempPath;

  if (this.a == undefined || this.b == undefined) {
    for (var param in bns) {
      if (!(this.a == undefined || this.b == undefined)) break;

      if (bns[param].i > 50) {
        this.a = param;
      } else if (bns[param].i < 50) {
        this.b = param;
      }
    }
  }

  var minX, maxX, minY, maxY;
  minX = bns[this.b].i;
  maxX = bns[this.b].j;
  minY = bns[this.a].i;
  maxY = bns[this.a].j;

  while (0 > maxY) {
    maxY += 180;
  }

  maxY += 180;

  for (var i = 0; i < this.polygon.length; i++) {
    tempPath = [];
    var boundary = this.polygon[i].boundary();

    if (minX < boundary.min.lat && boundary.max.lat < maxX && minY < boundary.min.lng && boundary.max.lng < maxY) {
      for (var j = 0; j < this.polygon[i].getPath().getLength(); j++) {
        tempPath.push(this.polygon[i].getPath().getAt(j).toJSON());
      }

      this.polygon[i].setMap(null);
      this.selectPolygon.push(this.polygon[i]);
    }

    path.push(tempPath);
  }

  this.createAllPolygon(path);
};

PlanningInformation_PlanningInformation.prototype.createAllPolygon = function (path) {
  var polygon = new google.maps.Polygon({
    paths: path,
    strokeColor: "#eb4034",
    fillColor: "#c18986",
    strokeOpacity: 0.8,
    strokeWeight: 1,
    draggable: true,
    geodesic: true
  });
  google.maps.event.addListener(polygon, 'dragstart', function (e) {
    if (this.dragStart == undefined) this.dragStart = polygon.getBounds().getCenter().toJSON();
  });
  google.maps.event.addListener(polygon, 'dragend', function (e) {
    var center = polygon.getBounds().getCenter().toJSON();
    this.deltaDrag = {
      lat: center.lat - this.dragStart.lat,
      lng: center.lng - this.dragStart.lng
    };
  });
  polygon.setMap(this.mapView.map);
  this.allPolygon = polygon;
  return polygon;
};

PlanningInformation_PlanningInformation.prototype.searchControlContent = function () {
  var self = this;

  var filterTime = PlanningInformation_({
    tag: "selectbox",
    props: {
      enableSearch: true
    },
    on: {
      click: function click(event) {
        if (this.disableClick === true) return;else {
          var element = event.target;

          while (!(element.classList.contains("absol-selectbox-item-close") || element.classList.contains("absol-selectbox-item") || element.classList.contains("absol-selectbox"))) {
            element = element.parentNode;
          }

          if (element.data) {
            self.removeAllSelect();
            if (self.isVisiableLine === true) self.showHideLine();
            if (self.editPolygon !== undefined) self.editPolygon.toInActive(this);
            var path = [];
            var tempPath;
            console.log(self.hash, element.data.value);
            var listPolygon = self.getCurrentWKT(element.data.value);

            if (listPolygon) {
              for (var i = 0; i < listPolygon.length; i++) {
                tempPath = [];

                for (var j = 0; j < listPolygon[i].getPath().getLength(); j++) {
                  tempPath.push(listPolygon[i].getPath().getAt(j).toJSON());
                }

                listPolygon[i].setMap(null);
                self.selectPolygon.push(listPolygon[i]);
                path.push(tempPath);
              }

              self.createAllPolygon(path);
            }
          }
        }
      },
      add: function add(event) {
        var elementThis = this;

        if (self.hash[event.value] === undefined) {
          elementThis.disableClick = true;
          ModuleDatabase["a" /* default */].getModule("geometry").load({
            WHERE: [{
              created: "'" + event.value + "'"
            }]
          }).then(function (value) {
            var result = [];

            for (var i = 0; i < value.length; i++) {
              result = result.concat(self.addWKT(value[i]));
            }

            self.polygon = self.polygon.concat(result);
            self.hash[event.value].polygon = result;
            var center = value[value.length - 1];
            self.mapView.map.setCenter(new google.maps.LatLng(parseInt(center.cellLat / 10000) + (center.cellLat % 10000 - 1) * (1 / 1110), parseInt(center.cellLng / 10000) + (center.cellLng % 10000 - 1) * (1 / 1110)));
            self.mapView.map.setZoom(17);
            elementThis.disableClick = false;
          });
        } else {
          self.polygon = self.polygon.concat(self.addCurrentWKT(event.value));
        }
      },
      remove: function remove(event) {
        self.removeAllSelect();

        for (var i = self.polygon.length - 1; i >= 0; i--) {
          if (self.polygon[i].created === event.value) {
            self.polygon[i].setMap(null);
            self.polygon.splice(i, 1);
          }
        }
      }
    }
  });

  filterTime.updateItem = function (value) {
    var list = [];

    for (var i = 0; i < value.length; i++) {
      list.push({
        text: value[i].name + " (" + formatDate(value[i].created, true, true, true, true, true, true) + ")",
        value: value[i].created
      });
    }

    this.items = list;
  };

  var content = PlanningInformation_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control-container",
    on: {
      click: function click(event) {
        event.stopPropagation();
      }
    },
    child: [{
      tag: "div",
      "class": "pizo-list-realty-main-search-control-container-scroller",
      child: [{
        tag: "div",
        "class": "pizo-list-plan-main-search-control-row",
        child: [{
          tag: "div",
          "class": "pizo-list-plan-main-search-control-row-selectbox-plan",
          child: [{
            tag: "span",
            "class": "pizo-list-plan-main-search-control-row-selectbox-plan-label",
            props: {
              innerHTML: "Lần commit"
            }
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-selectbox-plan-input",
          child: [filterTime]
        }]
      }]
    }]
  });

  var temp = PlanningInformation_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control",
    on: {
      click: function click(event) {
        this.hide();
      }
    },
    child: [content]
  });

  this.filterTime = filterTime;

  temp.show = function () {
    if (!temp.classList.contains("showTranslate")) temp.classList.add("showTranslate");
  };

  temp.hide = function () {
    if (!content.classList.contains("hideTranslate")) content.classList.add("hideTranslate");

    var eventEnd = function eventEnd() {
      if (temp.classList.contains("showTranslate")) temp.classList.remove("showTranslate");
      content.classList.remove("hideTranslate");
      content.removeEventListener("webkitTransitionEnd", eventEnd);
      content.removeEventListener("transitionend", eventEnd);
    }; // Code for Safari 3.1 to 6.0


    content.addEventListener("webkitTransitionEnd", eventEnd); // Standard syntax

    content.addEventListener("transitionend", eventEnd);
  };

  temp.apply = function () {};

  temp.reset = function () {
    content.lowprice.value = "";
    content.highprice.value = "";
    content.phone.value = "";
    content.MS.value = "";
    content.SN.value = "";
    content.TD.value = "";
    content.PX.value = "";
    content.QH.value = "";
    content.TT.value = "";
    content.HT.value = 0;
  };

  return temp;
};

PlanningInformation_PlanningInformation.prototype.addWKT = function (multipolygonWKT) {
  if (this.hash === undefined) this.hash = [];
  var created, name;

  if (PlanningInformation_typeof(multipolygonWKT) == "object") {
    created = multipolygonWKT["created"];
    name = multipolygonWKT["name"];
    multipolygonWKT = multipolygonWKT["AsText(`map`)"];
  }

  var wkt = new Wkt.Wkt();
  wkt.read(multipolygonWKT);
  var toReturn = [];
  var components = wkt.components;

  for (var k = 0; k < components.length; k++) {
    var line = components[k];
    var polygon = new google.maps.Polygon({
      paths: line,
      strokeColor: "#000000",
      fillColor: "#adaeaf",
      strokeOpacity: 0.8,
      strokeWeight: 1,
      map: this.mapView.map,
      geodesic: true
    });
    this.addEventPolygon(polygon);

    if (created !== undefined) {
      polygon.created = created;
      polygon.name = name;
    }

    toReturn.push(polygon);
    this.createHashRow(polygon, this.hash);
  }

  return toReturn;
};

PlanningInformation_PlanningInformation.prototype.addLine = function (lines) {
  var wkt = new Wkt.Wkt();
  wkt.read(lines);
  var toReturn = [];
  var components = wkt.components;

  for (var k = 0; k < components.length; k++) {
    var line = components[k];
    var polyline = new google.maps.Polyline({
      path: line,
      geodesic: true,
      strokeColor: "#FF0000",
      strokeOpacity: 1.0,
      strokeWeight: 2
    });
    polyline.setMap(this.mapView.map);
    toReturn.push(polyline);
  }

  this.lines = toReturn;
  return toReturn;
};

PlanningInformation_PlanningInformation.prototype.addCurrentWKT = function (created) {
  var toReturn = [];
  var cellLatTemp;
  var cellLngTemp;

  for (var cellLat in this.hash[created]) {
    for (var cellLng in this.hash[created][cellLat]) {
      if (cellLatTemp === undefined) cellLatTemp = cellLat;
      if (cellLngTemp === undefined) cellLngTemp = cellLng;
      var arr = this.hash[created][cellLat][cellLng];

      for (var i = 0; i < arr.length; i++) {
        var wkt = new Wkt.Wkt();
        wkt.read(arr[i]);
        var components = wkt.components;
        var polygon = new google.maps.Polygon({
          paths: components,
          strokeColor: "#000000",
          fillColor: "#adaeaf",
          strokeOpacity: 0.8,
          strokeWeight: 1,
          map: this.mapView.map,
          geodesic: true
        });
        this.addEventPolygon(polygon);
        if (created !== undefined) polygon.created = created;
        toReturn.push(polygon);
      }
    }
  }

  this.mapView.map.setCenter(new google.maps.LatLng(parseInt(cellLatTemp / 10000) + (cellLatTemp % 10000 - 1) * (1 / 1110), parseInt(cellLngTemp / 10000) + (cellLngTemp % 10000 - 1) * (1 / 1110)));
  this.mapView.map.setZoom(17);
  this.hash[created].polygon = toReturn;
  return toReturn;
};

PlanningInformation_PlanningInformation.prototype.getCurrentWKT = function (created) {
  return this.hash[created].polygon;
};

PlanningInformation_PlanningInformation.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

PlanningInformation_PlanningInformation.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

PlanningInformation_PlanningInformation.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

PlanningInformation_PlanningInformation.prototype.start = function () {};

/* harmony default export */ var page_PlanningInformation = (PlanningInformation_PlanningInformation);
// EXTERNAL MODULE: ./css/NoteInformation.css
var NoteInformation = __webpack_require__(260);

// CONCATENATED MODULE: ./js/page/NoteInformation.js
function NoteInformation_typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { NoteInformation_typeof = function _typeof(obj) { return typeof obj; }; } else { NoteInformation_typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return NoteInformation_typeof(obj); }












var NoteInformation_ = dom_Fcore._;
var NoteInformation_$ = dom_Fcore.$;

function NoteInformation_NoteInformation() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.hash = [];
}

NoteInformation_NoteInformation.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(NoteInformation_NoteInformation.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
NoteInformation_NoteInformation.prototype.constructor = NoteInformation_NoteInformation;

NoteInformation_NoteInformation.prototype.setUpDxfFile = function (fileText, loading) {
  var parser = new DxfParser();
  var dxf = null;

  try {
    dxf = parser.parseSync(fileText);
  } catch (err) {
    return console.error(err.stack);
  }

  var wkt = GeoJSON.parse(dxf);
  var center = new google.maps.LatLng(GeoJSON.header.$LATITUDE, GeoJSON.header.$LONGITUDE);
  console.log(window.dcel.lines);
  var lines = consoleWKTLine(window.dcel.lines);
  if (lines !== -1) this.addLine(lines);
  this.mapView.map.setCenter(center);
  this.mapView.map.setZoom(17);
  this.mapView.map.data.setStyle({
    strokeColor: "#000000",
    strokeOpacity: 0.8,
    strokeWeight: 1
  });
  console.timeEnd("dcel cost");
  loading.disable();
};

NoteInformation_NoteInformation.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;

  var allinput = NoteInformation_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    props: {
      placeholder: "Tìm theo địa chỉ"
    }
  });

  if (BrowserDetector["a" /* default */].isMobile) {
    allinput.placeholder = "Tìm theo địa chỉ";
  }

  var mapView = new MapView_MapView();
  this.searchControl = this.searchControlContent();

  var hiddenInput = NoteInformation_({
    tag: "input",
    "class": "hiddenUI",
    on: {
      change: function change(event) {
        if (this.files.length == 0) return;
        var file = this.files[0];
        var reader = new FileReader();
        reader.readAsText(this.files[0]);

        reader.onload = function (e) {
          console.time("dcel cost");
          console.log(file);
          var extension = file.name.slice((Math.max(0, file.name.lastIndexOf(".")) || Infinity) + 1);
          var fileText = e.target.result;

          if (extension === "dxf") {
            if (true) {
              var gmt = getGMT();

              var inputElement = NoteInformation_({
                tag: "div",
                "class": "pizo-name-commit-planning",
                child: [{
                  tag: "span",
                  "class": "pizo-name-commit-planning-text",
                  props: {
                    innerHTML: "Chú thích lần commit"
                  }
                }, {
                  tag: "input",
                  "class": "pizo-name-commit-planning-input",
                  props: {
                    value: "Commit vào thời gian " + formatDate(gmt, true, true, true, true, true, true)
                  }
                }]
              });

              var deleteQuestionCommit = confirmQuestion("Chú thích lần commit", inputElement);
              document.body.appendChild(deleteQuestionCommit);
              deleteQuestionCommit.promiseComfirm.then(function () {
                self.commitComment = inputElement.childNodes[1].value;
                var loading = new loadingWheel();
                setTimeout(function () {
                  self.setUpDxfFile(fileText, loading);
                }, 60);
              });
            } else { var loading; }
          }
        };
      }
    },
    props: {
      id: "file-field",
      type: "file"
    }
  });

  this.$view = NoteInformation_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      style: {
        paddingRight: 0
      },
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Thông tin quy hoạch"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, hiddenInput, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.saveCurrentDataMap();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-allinput",
        style: {
          width: "calc(100% - 190px)"
        },
        child: [{
          tag: "div",
          "class": "pizo-list-realty-page-allinput-container",
          style: {
            width: "100%"
          },
          child: [allinput, {
            tag: "button",
            "class": "pizo-list-realty-page-allinput-search",
            child: [{
              tag: 'i',
              "class": 'material-icons',
              props: {
                innerHTML: 'search'
              }
            }]
          }]
        }]
      }]
    }]
  });

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(30) !== -1) {
    NoteInformation_$("div.pizo-list-realty-button", this.$view).appendChild(NoteInformation_({
      tag: "button",
      "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
      on: {
        click: function click(evt) {
          hiddenInput.click();
        }
      },
      child: ['<span>' + "Thêm" + '</span>']
    }));
  }

  this.$view.addChild(NoteInformation_({
    tag: "div",
    "class": ["pizo-list-plan-main"],
    style: {
      flexDirection: "column"
    },
    child: [this.searchControl, {
      tag: "div",
      "class": ["pizo-list-realty-main-result-control"],
      child: [mapView]
    }]
  }));
  this.mapView = mapView;
  this.mapView.map.enableKeyDragZoom(this.selectPolygonFunction.bind(this));
  this.mapView.map.setTilt(45);
  var polyOptions = {
    strokeColor: "#eb4034",
    fillColor: "#c18986",
    strokeOpacity: 0.8,
    strokeWeight: 1,
    editable: true,
    draggable: true
  };

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(30) !== -1) {
    var drawingManager = new google.maps.drawing.DrawingManager({
      drawingControlOptions: {
        drawingModes: [google.maps.drawing.OverlayType.POLYGON]
      },
      markerOptions: {
        draggable: true
      },
      polylineOptions: {},
      draggableCursor: 'crosshair',
      rectangleOptions: polyOptions,
      circleOptions: polyOptions,
      polygonOptions: polyOptions,
      map: this.mapView.map
    });
    google.maps.event.addListener(drawingManager, 'overlaycomplete', function (e) {
      self.removeAllSelect();
      var polygon = e.overlay;
      self.polygon.push(polygon);
      self.addEventPolygon(polygon);

      if (self.editPolygon !== undefined) {
        self.editPolygon.toInActive(self);
      }

      polygon.toActive(self);
      polygon.setOptions({
        editable: true,
        draggable: true
      });
      self.editPolygon = polygon;
    });
  }

  this.mapView.map.setOptions({
    maxZoom: 30
  });
  this.drawingManager = drawingManager;
  this.polygon = [];
  this.selectPolygon = [];
  window.addEventListener("keydown", function (e) {
    if (e.keyCode == 46) {
      if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(32) == -1) return;

      if (self.editPolygon !== undefined) {
        self.editPolygon.setMap(null);
        var index = self.polygon.indexOf(self.editPolygon);
        self.polygon.splice(index, 1);
      }

      for (var i = 0; i < self.selectPolygon.length; i++) {
        self.selectPolygon[i].setMap(null);
        google.maps.event.clearListeners(self.selectPolygon[i], 'click');
        var index = self.polygon.indexOf(self.selectPolygon[i]);
        self.polygon.splice(index, 1);
      }

      if (self.allPolygon !== undefined) {
        self.allPolygon.setMap(null);
        self.allPolygon = undefined;
      }

      self.selectPolygon = [];
    } else if (e.keyCode == 27) {
      self.removeAllSelect();

      if (self.editPolygon !== undefined) {
        self.editPolygon.toInActive(self);
      }
    }
  });
  this.allinput = allinput;
  var searchBox = new google.maps.places.SearchBox(allinput, {
    // terms:['street_number','route','locality','administrative_area_level_1','administrative_area_level_2','administrative_area_level_3'],
    types: ['geocode'],
    componentRestrictions: {
      country: 'vn'
    }
  });
  google.maps.event.addListener(this.mapView.map, 'bounds_changed', function () {
    var bounds = self.mapView.map.getBounds();
    searchBox.setBounds(bounds);
  });
  this.searchBox = searchBox;
  google.maps.event.addListener(searchBox, 'places_changed', function () {
    var places = searchBox.getPlaces(); // For each place, get the icon, place name, and location.

    var bounds = new google.maps.LatLngBounds();
    var place = null;

    for (var i = 0; place = places[i]; i++) {
      bounds.extend(place.geometry.location);
    }

    self.mapView.map.setCenter(bounds.getCenter());
  });
  ModuleDatabase["a" /* default */].getModule("geometry_created").load(undefined, true).then(function (value) {
    self.filterTime.updateItem(value);
  });
  return this.$view;
};

NoteInformation_NoteInformation.prototype.removeAllSelect = function () {
  var self = this;

  if (self.allPolygon !== undefined) {
    for (var i = 0; i < self.selectPolygon.length; i++) {
      self.selectPolygon[i].setMap(self.mapView.map);

      if (self.allPolygon !== undefined && self.allPolygon.deltaDrag !== undefined && (self.allPolygon.deltaDrag.lat !== 0 || self.allPolygon.deltaDrag.lng !== 0)) {
        var center = self.selectPolygon[i].getBounds().getCenter().toJSON();
        center.lat += self.allPolygon.deltaDrag.lat;
        center.lng += self.allPolygon.deltaDrag.lng;
        self.selectPolygon[i].moveTo(new google.maps.LatLng(center.lat, center.lng));
      }
    }

    self.allPolygon.setMap(null);
    self.allPolygon = undefined;
    self.selectPolygon = [];
  }
};

NoteInformation_NoteInformation.prototype.createHash = function (arr) {
  var data = [];

  for (var i = 0; i < arr.length; i++) {
    this.createHashRow(arr[i], data);
  }

  return data;
};

NoteInformation_NoteInformation.prototype.createHashRow = function (data, hash) {
  var intLat, intLng, cellLat, cellLng, created;
  var center = data.getBounds().getCenter().toJSON();
  intLng = parseInt(center.lng / 1);
  cellLng = Math.ceil(center.lng % 1 / (1 / 1110)) - 1;
  intLat = parseInt(center.lat / 1);
  cellLat = Math.ceil(center.lat % 1 / (1 / 1110)) - 1;
  cellLng = intLng * 10000 + cellLng;
  cellLat = intLat * 10000 + cellLat;

  if (data.created !== undefined) {
    created = data.created;
    if (hash[created] === undefined) hash[created] = [];
    if (hash[created][cellLat] == undefined) hash[created][cellLat] = [];
    if (hash[created][cellLat][cellLng] == undefined) hash[created][cellLat][cellLng] = [];
    hash[created][cellLat][cellLng].push(data.ToWKT());
  } else {
    if (hash[cellLat] == undefined) hash[cellLat] = [];
    if (hash[cellLat][cellLng] == undefined) hash[cellLat][cellLng] = [];
    hash[cellLat][cellLng].push(data);
  }
};

NoteInformation_NoteInformation.prototype.saveCurrentDataMap = function () {
  var data = this.createHash(this.polygon);
  var gmt = getGMT();

  for (var param in data) {
    if (param === "polygon") continue;

    if (isNaN(param / 1) === true) {
      name = data[param].name;

      for (var cellLat in data[param]) {
        if (cellLat === "polygon") continue;
        var dataLat = data[param][cellLat];

        for (var cellLng in dataLat) {
          if (this.hash[param] === undefined || this.hash[param][cellLat] === undefined || this.hash[param][cellLat][cellLng] === undefined) {
            var arr = dataLat[cellLng];
            var wkt = new Wkt.Wkt();

            for (var i = 0; i < arr.length; i++) {
              if (i === 0) wkt.read(arr[i]);else wkt.merge(new Wkt.Wkt(arr[i]));
            }

            ModuleDatabase["a" /* default */].getModule("geometry").add({
              cellLat: cellLat,
              cellLng: cellLng,
              name: input.value,
              created: param,
              map: wkt.toString()
            });
          } else {
            var arr = dataLat[cellLng];
            var wkt = new Wkt.Wkt();

            for (var i = 0; i < arr.length; i++) {
              if (i === 0) wkt.read(arr[i]);else wkt.merge(new Wkt.Wkt(arr[i]));
            }

            var arr = this.hash[param][cellLat][cellLng];
            var wkt2 = new Wkt.Wkt();

            for (var i = 0; i < arr.length; i++) {
              if (i === 0) wkt2.read(arr[i]);else wkt2.merge(new Wkt.Wkt(arr[i]));
            }

            if (wkt.toString() !== wkt2.toString()) {
              ModuleDatabase["a" /* default */].getModule("geometry").update({
                cellLat: cellLat,
                cellLng: cellLng,
                created: param,
                map: wkt.toString()
              });
            }

            delete this.hash[param][cellLat][cellLng];
          }
        }
      }
    } else {
      var promiseAll = [];

      for (var child in data[param]) {
        var arr = data[param][child];
        var wkt = new Wkt.Wkt();

        for (var i = 0; i < arr.length; i++) {
          var stringWKT = arr[i].ToWKT();
          if (i === 0) wkt.read(stringWKT);else wkt.merge(new Wkt.Wkt(stringWKT));
          arr[i].created = gmt;
          arr[i] = stringWKT;
        }

        promiseAll.push(ModuleDatabase["a" /* default */].getModule("geometry").add({
          cellLat: param,
          cellLng: child,
          name: this.commitComment,
          created: gmt,
          map: wkt.toString()
        }));
      }

      var x = data[param];
      var polygon = this.hash.polygon;
      delete data[param];
      delete data.polygon;
      if (data[gmt] === undefined) data[gmt] = [];
      data[gmt][param] = x;
      if (polygon) data[gmt].polygon = polygon;
      var date = formatDate(gmt, true, true, true, true, true);

      if (this.filterTime.values.indexOf(gmt) == -1) {
        this.filterTime.items.push({
          text: this.commitComment + " (" + date + ")",
          value: gmt
        });
        this.filterTime.items = this.filterTime.items;
        this.filterTime.values.push(gmt);
        this.filterTime.values = this.filterTime.values;
      }
    }
  }

  var promiseAllDelete = [];

  for (var param in this.hash) {
    if (param === "polygon") continue;
    if (this.filterTime.values.indexOf(param) == -1) continue;

    if (isNaN(param / 1)) {
      for (var ortherLat in this.hash[param]) {
        if (ortherLat === "polygon") continue;

        for (var ortherLng in this.hash[param][ortherLat]) {
          promiseAllDelete.push(ModuleDatabase["a" /* default */].getModule("geometry")["delete"]({
            cellLat: ortherLat,
            cellLng: ortherLng,
            created: param
          }));
        }
      }
    }

    if (data[param] === undefined) {
      for (var i = 0; i < this.filterTime.values.length; i++) {
        if (this.filterTime.values[i] == param) {
          this.filterTime.values.splice(i, 1);
          this.filterTime.values = this.filterTime.values;
          break;
        }
      }

      for (var i = 0; i < this.filterTime.items.length; i++) {
        if (this.filterTime.items[i].value == param) {
          this.filterTime.items.splice(i, 1);
          this.filterTime.items = this.filterTime.items;
          break;
        }
      }
    }
  }

  Promise.all(promiseAllDelete).then(function (values) {});
  this.commitComment = undefined;
  this.hash = data;
};

NoteInformation_NoteInformation.prototype.addEventPolygon = function (polygon) {
  var self = this;
  google.maps.event.addListener(polygon, 'click', function (event) {
    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(31) == -1) return;

    if (self.editPolygon === this) {
      this.toInActive(self);
    } else {
      if (self.editPolygon !== undefined) {
        self.editPolygon.toInActive(self);
        this.toActive(self);
        this.setOptions({
          editable: true,
          draggable: true
        });
      } else {
        if (self.allPolygon !== undefined) {
          if (self.selectPolygon.indexOf(this) === -1) {
            self.allPolygon.setMap(null);
            var path = [];
            var tempPath;

            for (var i = 0; i < self.selectPolygon.length; i++) {
              if (self.allPolygon !== undefined && self.allPolygon.deltaDrag !== undefined && (self.allPolygon.deltaDrag.lat !== 0 || self.allPolygon.deltaDrag.lng !== 0)) {
                var center = self.selectPolygon[i].getBounds().getCenter().toJSON();
                center.lat += self.allPolygon.deltaDrag.lat;
                center.lng += self.allPolygon.deltaDrag.lng;
                self.selectPolygon[i].moveTo(new google.maps.LatLng(center.lat, center.lng));
              }

              tempPath = [];

              for (var j = 0; j < self.selectPolygon[i].getPath().getLength(); j++) {
                tempPath.push(self.selectPolygon[i].getPath().getAt(j).toJSON());
              }

              self.selectPolygon[i].setMap(null);
              path.push(tempPath);
            }

            tempPath = [];

            for (var j = 0; j < this.getPath().getLength(); j++) {
              tempPath.push(this.getPath().getAt(j).toJSON());
            }

            path.push(tempPath);
            this.setMap(null);
            self.selectPolygon.push(this);
            if (this.isVisiableLine === true) this.showHideLine();
            self.createAllPolygon(path);
          }
        } else {
          this.toActive(self);
          this.setOptions({
            editable: true,
            draggable: true
          });
        }
      }
    }
  });
};

NoteInformation_NoteInformation.prototype.selectPolygonFunction = function (bns) {
  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(31) == -1) {
    return;
  }

  this.removeAllSelect();
  if (this.isVisiableLine === true) this.showHideLine();
  if (this.editPolygon !== undefined) this.editPolygon.toInActive(this);
  var path = [];
  var tempPath;

  if (this.a == undefined || this.b == undefined) {
    for (var param in bns) {
      if (!(this.a == undefined || this.b == undefined)) break;

      if (bns[param].i > 50) {
        this.a = param;
      } else if (bns[param].i < 50) {
        this.b = param;
      }
    }
  }

  for (var i = 0; i < this.polygon.length; i++) {
    tempPath = [];
    var boundary = this.polygon[i].boundary();

    if (bns[this.b].i < boundary.min.lat && boundary.max.lat < bns[this.b].j && bns[this.a].i < boundary.min.lng && boundary.max.lng < bns[this.a].j) {
      for (var j = 0; j < this.polygon[i].getPath().getLength(); j++) {
        tempPath.push(this.polygon[i].getPath().getAt(j).toJSON());
      }

      this.polygon[i].setMap(null);
      this.selectPolygon.push(this.polygon[i]);
    }

    path.push(tempPath);
  }

  this.createAllPolygon(path);
};

NoteInformation_NoteInformation.prototype.createAllPolygon = function (path) {
  var polygon = new google.maps.Polygon({
    paths: path,
    strokeColor: "#eb4034",
    fillColor: "#c18986",
    strokeOpacity: 0.8,
    strokeWeight: 1,
    draggable: true,
    geodesic: true
  });
  google.maps.event.addListener(polygon, 'dragstart', function (e) {
    if (this.dragStart == undefined) this.dragStart = polygon.getBounds().getCenter().toJSON();
  });
  google.maps.event.addListener(polygon, 'dragend', function (e) {
    var center = polygon.getBounds().getCenter().toJSON();
    this.deltaDrag = {
      lat: center.lat - this.dragStart.lat,
      lng: center.lng - this.dragStart.lng
    };
  });
  polygon.setMap(this.mapView.map);
  this.allPolygon = polygon;
  return polygon;
};

NoteInformation_NoteInformation.prototype.searchControlContent = function () {
  var self = this;

  var filterTime = NoteInformation_({
    tag: "selectbox",
    props: {
      enableSearch: true
    },
    on: {
      click: function click(event) {
        if (this.disableClick === true) return;else {
          var element = event.target;

          while (!(element.classList.contains("absol-selectbox-item-close") || element.classList.contains("absol-selectbox-item") || element.classList.contains("absol-selectbox"))) {
            element = element.parentNode;
          }

          if (element.data) {
            self.removeAllSelect();
            if (self.isVisiableLine === true) self.showHideLine();
            if (self.editPolygon !== undefined) self.editPolygon.toInActive(this);
            var path = [];
            var tempPath;
            console.log(self.hash, element.data.value);
            var listPolygon = self.getCurrentWKT(element.data.value);

            if (listPolygon) {
              for (var i = 0; i < listPolygon.length; i++) {
                tempPath = [];

                for (var j = 0; j < listPolygon[i].getPath().getLength(); j++) {
                  tempPath.push(listPolygon[i].getPath().getAt(j).toJSON());
                }

                listPolygon[i].setMap(null);
                self.selectPolygon.push(listPolygon[i]);
                path.push(tempPath);
              }

              self.createAllPolygon(path);
            }
          }
        }
      },
      add: function add(event) {
        var elementThis = this;

        if (self.hash[event.value] === undefined) {
          elementThis.disableClick = true;
          ModuleDatabase["a" /* default */].getModule("geometry").load({
            WHERE: [{
              created: "'" + event.value + "'"
            }]
          }).then(function (value) {
            var result = [];

            for (var i = 0; i < value.length; i++) {
              result = result.concat(self.addWKT(value[i]));
            }

            self.polygon = self.polygon.concat(result);
            self.hash[event.value].polygon = result;
            var center = value[value.length - 1];
            self.mapView.map.setCenter(new google.maps.LatLng(parseInt(center.cellLat / 10000) + (center.cellLat % 10000 - 1) * (1 / 1110), parseInt(center.cellLng / 10000) + (center.cellLng % 10000 - 1) * (1 / 1110)));
            self.mapView.map.setZoom(17);
            elementThis.disableClick = false;
          });
        } else {
          self.polygon = self.polygon.concat(self.addCurrentWKT(event.value));
        }
      },
      remove: function remove(event) {
        self.removeAllSelect();

        for (var i = self.polygon.length - 1; i >= 0; i--) {
          if (self.polygon[i].created === event.value) {
            self.polygon[i].setMap(null);
            self.polygon.splice(i, 1);
          }
        }
      }
    }
  });

  filterTime.updateItem = function (value) {
    var list = [];

    for (var i = 0; i < value.length; i++) {
      list.push({
        text: value[i].name + " (" + formatDate(value[i].created, true, true, true, true, true, true) + ")",
        value: value[i].created
      });
    }

    this.items = list;
  };

  var content = NoteInformation_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control-container",
    on: {
      click: function click(event) {
        event.stopPropagation();
      }
    },
    child: [{
      tag: "div",
      "class": "pizo-list-realty-main-search-control-container-scroller",
      child: [{
        tag: "div",
        "class": "pizo-list-plan-main-search-control-row",
        child: [{
          tag: "div",
          "class": "pizo-list-plan-main-search-control-row-selectbox-plan",
          child: [{
            tag: "span",
            "class": "pizo-list-plan-main-search-control-row-selectbox-plan-label",
            props: {
              innerHTML: "Lần commit"
            }
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-selectbox-plan-input",
          child: [filterTime]
        }]
      }]
    }]
  });

  var temp = NoteInformation_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control",
    on: {
      click: function click(event) {
        this.hide();
      }
    },
    child: [content]
  });

  this.filterTime = filterTime;

  temp.show = function () {
    if (!temp.classList.contains("showTranslate")) temp.classList.add("showTranslate");
  };

  temp.hide = function () {
    if (!content.classList.contains("hideTranslate")) content.classList.add("hideTranslate");

    var eventEnd = function eventEnd() {
      if (temp.classList.contains("showTranslate")) temp.classList.remove("showTranslate");
      content.classList.remove("hideTranslate");
      content.removeEventListener("webkitTransitionEnd", eventEnd);
      content.removeEventListener("transitionend", eventEnd);
    }; // Code for Safari 3.1 to 6.0


    content.addEventListener("webkitTransitionEnd", eventEnd); // Standard syntax

    content.addEventListener("transitionend", eventEnd);
  };

  temp.apply = function () {};

  temp.reset = function () {
    content.lowprice.value = "";
    content.highprice.value = "";
    content.phone.value = "";
    content.MS.value = "";
    content.SN.value = "";
    content.TD.value = "";
    content.PX.value = "";
    content.QH.value = "";
    content.TT.value = "";
    content.HT.value = 0;
  };

  return temp;
};

NoteInformation_NoteInformation.prototype.addWKT = function (multipolygonWKT) {
  if (this.hash === undefined) this.hash = [];
  var created, name;

  if (NoteInformation_typeof(multipolygonWKT) == "object") {
    created = multipolygonWKT["created"];
    name = multipolygonWKT["name"];
    multipolygonWKT = multipolygonWKT["AsText(`map`)"];
  }

  var wkt = new Wkt.Wkt();
  wkt.read(multipolygonWKT);
  var toReturn = [];
  var components = wkt.components;

  for (var k = 0; k < components.length; k++) {
    var line = components[k];
    var polygon = new google.maps.Polygon({
      paths: line,
      strokeColor: "#000000",
      fillColor: "#adaeaf",
      strokeOpacity: 0.8,
      strokeWeight: 1,
      map: this.mapView.map,
      geodesic: true
    });
    this.addEventPolygon(polygon);

    if (created !== undefined) {
      polygon.created = created;
      polygon.name = name;
    }

    toReturn.push(polygon);
    this.createHashRow(polygon, this.hash);
  }

  return toReturn;
};

NoteInformation_NoteInformation.prototype.addLine = function (lines) {
  var wkt = new Wkt.Wkt();
  wkt.read(lines);
  var toReturn = [];
  var components = wkt.components;

  for (var k = 0; k < components.length; k++) {
    var line = components[k];
    var polyline = new google.maps.Polyline({
      path: line,
      geodesic: true,
      strokeColor: "#FF0000",
      strokeOpacity: 1.0,
      strokeWeight: 2
    });
    polyline.setMap(this.mapView.map);
    toReturn.push(polyline);
  }

  this.lines = toReturn;
  return toReturn;
};

NoteInformation_NoteInformation.prototype.addCurrentWKT = function (created) {
  var toReturn = [];
  var cellLatTemp;
  var cellLngTemp;

  for (var cellLat in this.hash[created]) {
    for (var cellLng in this.hash[created][cellLat]) {
      if (cellLatTemp === undefined) cellLatTemp = cellLat;
      if (cellLngTemp === undefined) cellLngTemp = cellLng;
      var arr = this.hash[created][cellLat][cellLng];

      for (var i = 0; i < arr.length; i++) {
        var wkt = new Wkt.Wkt();
        wkt.read(arr[i]);
        var components = wkt.components;
        var polygon = new google.maps.Polygon({
          paths: components,
          strokeColor: "#000000",
          fillColor: "#adaeaf",
          strokeOpacity: 0.8,
          strokeWeight: 1,
          map: this.mapView.map,
          geodesic: true
        });
        this.addEventPolygon(polygon);
        if (created !== undefined) polygon.created = created;
        toReturn.push(polygon);
      }
    }
  }

  this.mapView.map.setCenter(new google.maps.LatLng(parseInt(cellLatTemp / 10000) + (cellLatTemp % 10000 - 1) * (1 / 1110), parseInt(cellLngTemp / 10000) + (cellLngTemp % 10000 - 1) * (1 / 1110)));
  this.mapView.map.setZoom(17);
  this.hash[created].polygon = toReturn;
  return toReturn;
};

NoteInformation_NoteInformation.prototype.getCurrentWKT = function (created) {
  return this.hash[created].polygon;
};

NoteInformation_NoteInformation.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

NoteInformation_NoteInformation.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

NoteInformation_NoteInformation.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

NoteInformation_NoteInformation.prototype.start = function () {};

/* harmony default export */ var page_NoteInformation = (NoteInformation_NoteInformation);
// EXTERNAL MODULE: ./css/ListHelp.css
var ListHelp = __webpack_require__(36);

// EXTERNAL MODULE: ./css/HelpContainer.css
var HelpContainer = __webpack_require__(263);

// CONCATENATED MODULE: ./js/component/HelpContainer.js









var HelpContainer_ = dom_Fcore._;
var HelpContainer_$ = dom_Fcore.$;

function HelpContainer_HelpContainer() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  if (this.$view) return this.$view;
  var self = this;

  var input = HelpContainer_({
    tag: "input",
    "class": "input-search-list",
    props: {
      type: "text",
      placeholder: "Tìm kiếm"
    }
  });

  ModuleDatabase["a" /* default */].getModule("helps").load({
    ORDERING: "parent_id , ordering"
  }).then(function (value) {
    var header = [{
      value: "Title",
      sort: true,
      functionClickAll: this.$view.functionClickDetail.bind(this.$view),
      style: {
        minWidth: "unset !important"
      }
    }];
    this.$view.mTable = new tableView(header, this.$view.formatDataRow(value), false, true, 0);
    this.$view.mTable.addInputSearch(input);
    this.$view.mTable.headerTable.style.display = "none";
    mTable.parentNode.replaceChild(this.$view.mTable, mTable);
    self.$view.checkAlias = ModuleDatabase["a" /* default */].getModule("helps").getLibary("alias");
    this.$view.firstChildClick();
    var x = setInterval(function () {
      if (window.exttask) {
        if (self.$view.checkAlias[window.exttask]) {
          if (window.exttask) {
            var temp = document.getElementById("x86" + self.$view.checkAlias[window.exttask].id);
            window.addHref = window.exttask;

            if (temp) {
              temp.click();
              temp.scrollIntoView({
                behavior: "smooth",
                block: "center",
                inline: "center"
              });
              clearInterval(x);
            }
          }
        }
      }
    }, 80);
    setTimeout(function () {
      clearInterval(x);
    }, 5000);
  }.bind(this));

  var mTable = HelpContainer_({
    tag: "div"
  });

  var tabContainer = HelpContainer_({
    tag: "div",
    "class": "header-display-visible",
    child: [{
      tag: "div",
      "class": "js-stools-container-bar",
      child: [{
        tag: "div",
        "class": ["absol-tabbar-button", "absol-tabbar-button-active"],
        child: [{
          tag: "div",
          "class": "absol-tabbar-button-text",
          props: {
            innerHTML: "Danh mục"
          }
        }]
      }, {
        tag: "div",
        "class": ["btn-wrapper", "input-append"],
        child: [input]
      }]
    }, mTable]
  });

  this.$view = HelpContainer_({
    tag: "div",
    "class": ["b-workZone__layout", "b-workZone__layout_helpcontainer_view"],
    child: [{
      tag: "div",
      "class": ["b-workZone__side", "m-workZone__side__nav"],
      child: [{
        tag: "div",
        "class": ["b-workZone__content", "m-workZone__content__nav"],
        props: {
          id: "workZone_nav"
        },
        child: [{
          tag: "div",
          "class": "absol-tab-frame-small",
          child: [tabContainer]
        }]
      }]
    }]
  });

  var containerView = HelpContainer_({
    tag: "div",
    "class": ["cke_editable", "cke_editable_themed", "cke_contents_ltr", "cke_show_borders"],
    props: {
      contenteditable: true,
      spellcheck: false
    }
  });

  var location = HelpContainer_({
    tag: "span",
    "class": "b-breadCrumbs__location_content"
  });

  var title = HelpContainer_({
    tag: "li",
    "class": "b-breadCrumbs__item",
    props: {
      innerHTML: "Introduction"
    }
  });

  this.$view.addChild(HelpContainer_({
    tag: "div",
    "class": ["b-workZone__side", "m-workZone__side__article"],
    props: {
      id: "workZone_article"
    },
    child: [{
      tag: "div",
      "class": "b-workZone__content",
      props: {
        id: "workZone_article__content"
      },
      child: [{
        tag: "div",
        "class": "b-article",
        child: [{
          tag: "div",
          "class": "b-article__headerLayout",
          props: {
            id: "article__header"
          },
          child: [{
            tag: "div",
            "class": ["b-article__headerSide", "m-article__headerSide__nav"],
            props: {
              id: "headerSide__nav"
            },
            child: [{
              tag: "ul",
              "class": "b-breadCrumbs__items",
              child: [title]
            }, {
              tag: "div",
              "class": "b-breadCrumbs__location",
              child: [{
                tag: "span",
                "class": "b-breadCrumbs__location_title",
                props: {
                  innerHTML: "Bạn ở đây "
                }
              }, location]
            }]
          }, {
            tag: "div",
            "class": ["b-article__headerSide", "m-article__headerSide__buttons"],
            props: {
              id: "headerSide__buttons"
            },
            child: [{
              tag: "ul",
              "class": "b-controlButtons__items",
              child: [{
                tag: "li",
                "class": ["b-controlButtons__item", "m-controlButtons__item__print"],
                on: {
                  click: function click() {
                    HTML5_Dom["a" /* default */].printElement(self.$view.containerView.parentNode);
                  }
                },
                child: [{
                  tag: "i",
                  "class": "material-icons",
                  props: {
                    innerHTML: "print"
                  }
                }]
              }]
            }]
          }]
        }, {
          tag: "div",
          "class": "container-content-information",
          child: [containerView]
        }, {
          tag: "div",
          "class": "container-content-information-bottom",
          child: [{
            tag: "li",
            "class": ["b-controlButtons__item", "m-controlButtons__item__prev"],
            on: {
              click: function click() {
                if (self.$view.mTable) {
                  var arr = self.$view.mTable.getElementsByClassName("choice-event-category");

                  if (arr.length > 0) {
                    arr = arr[0];
                    arr = self.$view.mTable.getElementPrevVisiale(arr);
                    if (arr) arr.childNodes[0].click();
                  }
                }
              }
            },
            child: [{
              tag: "i",
              "class": "material-icons",
              props: {
                innerHTML: "arrow_back"
              }
            }, {
              tag: "span",
              "class": "b-controlButtons__link_text",
              props: {
                innerHTML: " Trang trước"
              }
            }]
          }, {
            tag: "li",
            "class": ["b-controlButtons__item", "m-controlButtons__item__next"],
            on: {
              click: function click() {
                if (self.$view.mTable) {
                  var arr = self.$view.mTable.getElementsByClassName("choice-event-category");

                  if (arr.length > 0) {
                    arr = arr[0];
                    arr = self.$view.mTable.getElementNextVisiale(arr);
                    if (arr) arr.childNodes[0].click();
                  }
                }
              }
            },
            child: [{
              tag: "span",
              "class": "b-controlButtons__link_text",
              props: {
                innerHTML: " Trang tiếp theo"
              }
            }, {
              tag: "i",
              "class": "material-icons",
              props: {
                innerHTML: "arrow_forward"
              }
            }]
          }]
        }]
      }]
    }]
  }));
  Object.assign(this.$view, HelpContainer_HelpContainer.prototype);
  this.$view.containerView = containerView;
  this.$view.titleLabel = title;
  this.$view.locationLabel = location;
  this.$view.inputLabel = input;
  return this.$view;
}

Object.defineProperties(HelpContainer_HelpContainer.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
HelpContainer_HelpContainer.prototype.constructor = HelpContainer_HelpContainer;

HelpContainer_HelpContainer.prototype.firstChildClick = function () {
  if (this.mTable.childrenNodes.length > 0) {
    this.mTable.childrenNodes[0].classList.add("choice-event-category");
    this.titleLabel.innerHTML = this.mTable.childrenNodes[0].data.original.title;
    var text = this.mTable.childrenNodes[0].data.original.fulltext;

    if (this.mTable.childrenNodes[0].data.original.related != "") {
      text += "<div style='border: 1px solid;'></div>";
      text += "<h3>Bài liên quan</h3>";
      text += this.mTable.childrenNodes[0].data.original.related;
    }

    text += "<div style='width:100%;height:150px'></div>";
    this.containerView.innerHTML = text;
    var location = "";
    var tempElement = this.mTable.childrenNodes[0];

    while (tempElement && tempElement.tagName != "DIV") {
      if (location !== "") {
        location = "<span> > </span>" + location;
      }

      console.log(tempElement);
      location = "<a href='./' id='x64" + tempElement.data.original.id + "'>" + tempElement.data.original.title + "</a>" + location;
      tempElement = tempElement.getParentNode();
    }

    this.locationLabel.innerHTML = location;
    this.addClickProps();
  }
};

HelpContainer_HelpContainer.prototype.functionClickDetail = function (event, me, index, parent, data, row) {
  var arr = this.getElementsByClassName("choice-event-category");
  var isRemove = true;
  if (arr.length !== 0) arr = arr[0];
  if (arr == row) return true;
  if (row === undefined) isRemove = false;

  if (isRemove) {
    if (arr.classList) arr.classList.remove("choice-event-category");
  }

  row.classList.add("choice-event-category");
  var text = window.location.href;

  if (window.addHref !== undefined) {
    text = window.location.href.replace(window.addHref, "");
  }

  window.addHref = data.original.alias;
  history.replaceState({}, "", text + window.addHref);
  this.titleLabel.innerHTML = data.original.title;
  var text = data.original.fulltext;

  if (data.original.related) {
    text += "<div style='border: 1px solid;'></div>";
    text += "<h3>Bài liên quan</h3>";
    text += data.original.related;
  }

  text += "<div style='width:100%;height:150px'></div>";
  this.containerView.innerHTML = text;
  var location = "";
  var tempElement = row;

  while (tempElement && tempElement.tagName != "DIV") {
    if (location !== "") {
      location = "<span> > </span>" + location;
    }

    location = "<a href='./' id='x64" + tempElement.data.original.id + "'>" + tempElement.data.original.title + "</a>" + location;
    tempElement = tempElement.getParentNode();
  }

  this.locationLabel.innerHTML = location;
  this.addClickProps();
};

HelpContainer_HelpContainer.prototype.addClickProps = function () {
  var self = this;
  var arr = this.getElementsByTagName("a");

  for (var i = 0; i < arr.length; i++) {
    if (arr[i].id.indexOf("x64") !== -1) {
      arr[i].addEventListener("click", function (index, event) {
        event.preventDefault();
        var element = document.getElementById(arr[index].id.replace("x64", "x86"));

        if (element) {
          element.click();
          element.scrollIntoView({
            behavior: "smooth",
            block: "center",
            inline: "center"
          });
        } else {
          self.inputLabel.value = "";
          self.inputLabel.onchange();
          setTimeout(function () {
            var element = document.getElementById(arr[index].id.replace("x64", "x86"));

            if (element) {
              element.click();
              element.scrollIntoView({
                behavior: "smooth",
                block: "center",
                inline: "center"
              });
            }
          }, 500);
        }
      }.bind(this, i));
    }
  }
};

HelpContainer_HelpContainer.prototype.formatDataRowOne = function (data) {
  var result = [{
    value: data.title,
    element: HelpContainer_({
      tag: "div",
      props: {
        id: "x86" + data.id
      },
      child: [{
        tag: "span",
        "class": "title-label",
        props: {
          innerHTML: data.title
        }
      }]
    })
  }];
  result.original = data;
  return result;
};

HelpContainer_HelpContainer.prototype.formatDataRow = function (data) {
  var temp = [];
  var check = [];
  var result;

  for (var i = 0; i < data.length; i++) {
    if (data[i].active == 0) continue;
    result = this.formatDataRowOne(data[i]);

    if (data[i].parent_id != 0) {
      if (check[data[i].parent_id] === undefined) check[data[i].parent_id] = [];
      check[data[i].parent_id].push(result);
    } else {
      temp.push(result);
    }
  }

  for (var i = 0; i < temp.length; i++) {
    temp[i].child = this.checkarrayChild(temp[i].original.id, check);
  }

  return temp;
};

HelpContainer_HelpContainer.prototype.checkarrayChild = function (id, check) {
  if (check[id] === undefined) return [];

  for (var i = 0; i < check[id].length; i++) {
    check[id][i].child = this.checkarrayChild(check[id][i].original.id, check);
  }

  return check[id];
};

HelpContainer_HelpContainer.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

HelpContainer_HelpContainer.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

HelpContainer_HelpContainer.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

HelpContainer_HelpContainer.prototype.start = function () {};

/* harmony default export */ var component_HelpContainer = (HelpContainer_HelpContainer);
// CONCATENATED MODULE: ./js/page/ListHelp.js







var ListHelp_ = dom_Fcore._;
var ListHelp_$ = dom_Fcore.$;

function ListHelp_ListHelp() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

ListHelp_ListHelp.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(ListHelp_ListHelp.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
ListHelp_ListHelp.prototype.constructor = ListHelp_ListHelp;

ListHelp_ListHelp.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;
  var containerHelp = new component_HelpContainer();
  this.$view = ListHelp_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: []
    }]
  });
  this.$view.addChild(ListHelp_({
    tag: "div",
    "class": ["pizo-list-help-main"],
    child: [containerHelp]
  }));
  return this.$view;
};

ListHelp_ListHelp.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

ListHelp_ListHelp.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

ListHelp_ListHelp.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

ListHelp_ListHelp.prototype.start = function () {};

/* harmony default export */ var page_ListHelp = (ListHelp_ListHelp);
// EXTERNAL MODULE: ./css/EditHelpContainer.css
var EditHelpContainer = __webpack_require__(265);

// EXTERNAL MODULE: ./css/NewCategory.css
var NewCategory = __webpack_require__(267);

// CONCATENATED MODULE: ./js/component/EditHelpContainer.js











var EditHelpContainer_ = dom_Fcore._;
var EditHelpContainer_$ = dom_Fcore.$;

function EditHelpContainer_EditHelpContainer() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  var self = this;
  if (this.$view) return this.$view;

  var input = EditHelpContainer_({
    tag: "input",
    "class": "input-search-list",
    props: {
      type: "text",
      placeholder: "Search"
    }
  });

  var tabContainer = EditHelpContainer_({
    tag: "div",
    "class": "header-display-visible",
    child: [{
      tag: "div",
      "class": "js-stools-container-bar",
      child: [{
        tag: "div",
        "class": ["absol-tabbar-button", "absol-tabbar-button-active"],
        child: [{
          tag: "div",
          "class": "absol-tabbar-button-text",
          props: {
            innerHTML: "Menu"
          }
        }]
      }, {
        tag: "div",
        "class": ["btn-wrapper", "input-append"],
        child: [input]
      }]
    }]
  });

  this.$view = EditHelpContainer_({
    tag: "div",
    "class": "b-workZone__layout",
    child: [{
      tag: "div",
      "class": ["b-workZone__side", "m-workZone__side__nav"],
      style: {
        height: "calc(100% - 50px)",
        top: "50px"
      },
      child: [{
        tag: "div",
        "class": ["b-workZone__content", "m-workZone__content__nav"],
        props: {
          id: "workZone_nav"
        },
        child: [{
          tag: "div",
          "class": "absol-tab-frame-small",
          child: [tabContainer]
        }]
      }]
    }]
  });
  Object.assign(this.$view, EditHelpContainer_EditHelpContainer.prototype);
  var editor = this.$view.itemEdit();
  var editorBottom = this.$view.itemEditRelated();

  var listParent = EditHelpContainer_({
    tag: "selectmenu",
    "class": ["pizo-new-state-selectbox-container-input", "pizo-new-realty-dectruct-input"],
    style: {
      backGroundColor: ""
    },
    props: {
      enableSearch: true
    }
  });

  listParent.updateItemList = function () {
    listParent.items = self.$view.formatDataRowChoice(self.$view.getDataCurrent());
  };

  var active = EditHelpContainer_({
    tag: "switch"
  });

  var updateTableFunction;

  var containerEditView = EditHelpContainer_({
    tag: "div",
    "class": "b-article",
    style: {
      display: "none"
    },
    child: [{
      tag: "div",
      "class": "pizo-new-category-container-name",
      child: [{
        tag: "div",
        "class": "pizo-new-category-container-name-container",
        child: [{
          tag: "span",
          "class": "pizo-new-category-container-name-container-label",
          props: {
            innerHTML: "Tên"
          }
        }, {
          tag: "input",
          "class": ["pizo-new-category-container-name-container-input", "pizo-new-realty-dectruct-input"],
          on: {
            change: function change(event) {
              if (self.$view.alias.value === "" || self.$view.aliasErorr.classList.contains("hasErrorElement")) {
                self.$view.alias.value = createAlias(this.value);
                self.$view.alias.dispatchEvent(new Event("input"));
              }
            },
            blur: function blur() {
              self.$view.saveDataCurrent();
            }
          }
        }]
      }]
    }, {
      tag: "div",
      "class": "b-article__headerLayout-edit",
      props: {
        id: "article__header"
      },
      child: [{
        tag: "div",
        "class": ["b-article__headerSide", "m-article__headerSide__nav"],
        props: {
          id: "headerSide__nav"
        },
        child: [{
          tag: "ul",
          "class": "b-breadCrumbs__items",
          child: [{
            tag: "div",
            "class": "pizo-new-catergory-container",
            child: [{
              tag: "div",
              "class": "pizo-new-category-container-alias-active",
              child: [{
                tag: "div",
                "class": "pizo-new-category-container-alias",
                child: [{
                  tag: "div",
                  "class": "pizo-new-category-container-alias-container",
                  child: [{
                    tag: "span",
                    "class": "pizo-new-category-container-alias-container-label",
                    props: {
                      innerHTML: "Alias"
                    },
                    child: [{
                      tag: "span",
                      "class": "pizo-new-realty-location-detail-row-label-important",
                      props: {
                        innerHTML: "*"
                      }
                    }]
                  }, {
                    tag: "input",
                    "class": ["pizo-new-category-container-alias-container-input", "pizo-new-realty-dectruct-input"],
                    on: {
                      input: function input(event) {
                        var parent = this.parentNode.parentNode;

                        if (this.value == "") {
                          if (!parent.classList.contains("hasErrorElement")) parent.classList.add("hasErrorElement");
                          if (!parent.classList.contains("invalid-error")) parent.classList.add("invalid-error");
                        } else {
                          if (parent.classList.contains("invalid-error")) parent.classList.remove("invalid-error");
                        }

                        if (listParent.items.check[this.value] !== undefined && self.$view.rowSelected.data.original.alias !== this.value) {
                          if (!parent.classList.contains("hasErrorElement")) parent.classList.add("hasErrorElement");
                          if (!parent.classList.contains("used-error")) parent.classList.add("used-error");
                        } else {
                          if (parent.classList.contains("used-error")) parent.classList.remove("used-error");
                        }

                        if (!parent.classList.contains("used-error") && !parent.classList.contains("invalid-error") && parent.classList.contains("hasErrorElement")) parent.classList.remove("hasErrorElement");
                      },
                      keypress: function keypress(event) {
                        allowNumbersOnly(event);
                      },
                      blur: function blur() {
                        self.$view.saveDataCurrent();
                      }
                    }
                  }]
                }, {
                  tag: "span",
                  "class": ["pizo-new-realty-location-detail-row-label-important", "label-used-error"],
                  props: {
                    innerHTML: "Alias không có sẳn để sử dụng"
                  }
                }, {
                  tag: "span",
                  "class": ["pizo-new-realty-location-detail-row-label-important", "label-invalid-error"],
                  props: {
                    innerHTML: "Alias không thể để trống"
                  }
                }]
              }, {
                tag: "div",
                "class": "pizo-new-state-publish",
                child: [{
                  tag: "div",
                  "class": "pizo-new-state-publish-container",
                  child: [{
                    tag: "span",
                    "class": "pizo-new-category-container-publish-container-label",
                    props: {
                      innerHTML: "Xuất bản"
                    }
                  }, active]
                }]
              }]
            }, {
              tag: "div",
              "class": "pizo-new-state-selectbox",
              child: [{
                tag: "div",
                "class": "pizo-new-state-selectbox-container",
                child: [{
                  tag: "span",
                  "class": "pizo-new-state-selectbox-container-label",
                  props: {
                    innerHTML: "Danh mục cha"
                  }
                }, listParent]
              }]
            }]
          }]
        }]
      }]
    }, {
      tag: "div",
      "class": ["b-article__wrapper", "os-host", "os-theme-dark", "os-host-resize-disabled", "os-host-scrollbar-horizontal-hidden", "os-host-overflow", "os-host-overflow-y", "os-host-transition"],
      child: [editor]
    }, {
      tag: "div",
      "class": ["b-article__wrapper", "os-host-bottom", "os-theme-dark", "os-host-resize-disabled", "os-host-scrollbar-horizontal-hidden", "os-host-overflow", "os-host-overflow-y", "os-host-transition"],
      child: [editorBottom]
    }]
  });

  var containerPreview = this.$view.editViewContent();
  this.$view.containerEditView = containerEditView;
  this.$view.containerPreview = containerPreview;
  this.$view.addChild(EditHelpContainer_({
    tag: "div",
    "class": ["b-workZone__side", "m-workZone__side__article"],
    props: {
      id: "workZone_article"
    },
    child: [{
      tag: "div",
      "class": "b-workZone__content",
      props: {
        id: "workZone_article__content"
      },
      child: [containerEditView, containerPreview]
    }]
  }));
  ModuleDatabase["a" /* default */].getModule("helps").load({
    ORDERING: "parent_id , ordering"
  }).then(function (value) {
    var header = [{
      type: "dragzone",
      style: {
        width: "30px"
      }
    }, {
      value: "Title",
      sort: true,
      functionClickAll: self.$view.functionClickDetail.bind(self.$view),
      style: {
        minWidth: "unset !important"
      }
    }, {
      value: "Publish",
      style: {
        width: "67px"
      }
    }, {
      type: "detail",
      functionClickAll: self.$view.functionClickMore.bind(self.$view),
      icon: "",
      style: {
        width: "30px"
      }
    }];
    self.$view.mTable = new tableView(header, self.$view.formatDataRow(value), false, true, 1);
    tabContainer.addChild(self.$view.mTable);
    updateTableFunction = self.$view.mTable.updateTable.bind(self.$view.mTable);

    self.$view.mTable.updateTable = function () {
      self.$view.resetChoice();
      updateTableFunction.apply(self.$view.mTable, arguments);
    };

    self.$view.mTable.addInputSearch(input);
  });
  this.$view.tabContainer = tabContainer;
  this.$view.name = EditHelpContainer_$('input.pizo-new-category-container-name-container-input.pizo-new-realty-dectruct-input', this.$view);
  this.$view.alias = EditHelpContainer_$('input.pizo-new-category-container-alias-container-input.pizo-new-realty-dectruct-input', this.$view);
  this.$view.listParent = listParent;
  this.$view.aliasErorr = EditHelpContainer_$('div.pizo-new-category-container-alias', this.$view);
  this.$view.active = active;
  return this.$view;
}

Object.defineProperties(EditHelpContainer_EditHelpContainer.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
EditHelpContainer_EditHelpContainer.prototype.constructor = EditHelpContainer_EditHelpContainer;

EditHelpContainer_EditHelpContainer.prototype.enableEditViewContent = function () {
  this.containerPreview.style.display = "none";
  this.containerEditView.style.display = "";
  this.tabContainer.style.pointerEvents = "none";
  this.enableEditting = true;
};

EditHelpContainer_EditHelpContainer.prototype.disableEditViewContent = function () {
  this.containerPreview.style.display = "";
  this.containerEditView.style.display = "none";
  this.tabContainer.style.pointerEvents = "";
  this.enableEditting = false;
  var row = this.getElementsByClassName("choice-event-category");
  var data;

  if (row.length === 1) {
    row = row[0];
  }

  data = row.data;

  if (data) {
    this.titleLabel.innerHTML = data.original.title;
    var text = data.original.fulltext;

    if (data.original.related) {
      text += "<div style='border: 1px solid;'></div>" + data.original.related;
    }

    text += "<div style='width:100%;height:150px'></div>";
    this.containerView.innerHTML = text;
    var location = "";
    var tempElement = row;

    while (tempElement && tempElement.tagName != "DIV") {
      if (location !== "") {
        location = "<span> > </span>" + location;
      }

      location = "<a href='./' id='x64" + tempElement.data.original.id + "'>" + tempElement.data.original.title + "</a>" + location;
      tempElement = tempElement.getParentNode();
    }

    if (location !== "") this.locationLabel.innerHTML = location;
  }
};

EditHelpContainer_EditHelpContainer.prototype.functionClickMore = function (event, me, index, parent, data, row) {
  var self = this;
  var docTypeMemuProps = {
    items: [{
      text: 'Thêm',
      icon: 'span.material-icons.material-icons-add',
      value: 0
    }, // {
    //     text: 'Sửa',
    //     icon: 'i.material-icons.material-icons-edit',
    //     value: 1,
    // },
    {
      text: 'Xóa',
      icon: 'span.material-icons.material-icons-delete',
      value: 2
    }]
  };
  var token = absol.QuickMenu.show(me, docTypeMemuProps, [3, 4], function (menuItem) {
    switch (menuItem.value) {
      case 0:
        if (row.parentNode == null) {
          for (var i = 0; i < parent.childrenNodes.length; i++) {
            if (row.data == parent.childrenNodes[i].data) {
              row = parent.childrenNodes[i];
              break;
            }
          }
        }

        self.add(row.data.original.id, row);
        break;
      // case 1:
      //     self.edit(data,parent,index);
      //     break;

      case 2:
        if (parent.parentNode == null) {
          parent = row.getParentNode();
        }

        self["delete"](row.data.original, parent, index);
        break;
    }
  });

  var functionX = function (token) {
    return function () {
      var x = function x(event) {
        absol.QuickMenu.close(token);
        document.body.removeEventListener("click", x);
      };

      document.body.addEventListener("click", x);
    };
  }(token);

  setTimeout(functionX, 10);
};

EditHelpContainer_EditHelpContainer.prototype.functionClickDetail = function (event, me, index, parent, data, row) {
  var arr = this.getElementsByClassName("choice-event-category");
  if (this.alias.parentNode.parentNode.classList.contains("hasErrorElement") && arr.length > 0) return;
  if (this.saveDataCurrent(row) === true) return;
  this.titleLabel.innerHTML = data.original.title;
  var text = data.original.fulltext;

  if (data.original.related) {
    text += "<div style='border: 1px solid;'></div>";
    text += "<h3>Bài liên quan</h3>";
    text += data.original.related;
  }

  text += "<div style='width:100%;height:150px'></div>";
  this.containerView.innerHTML = text;
  var location = "";
  var tempElement = row;

  while (tempElement && tempElement.tagName != "DIV") {
    if (location !== "") {
      location = "<span> > </span>" + location;
    }

    location = "<a href='./' id='x64" + tempElement.data.original.id + "'>" + tempElement.data.original.title + "</a>" + location;
    tempElement = tempElement.getParentNode();
  }

  this.locationLabel.innerHTML = location;
  this.rowSelected = row;
  row.classList.add("choice-event-category");
  this.setDataTitle(data.original);
  this.editor.setData(data.original.fulltext);
  this.editorRelated.setData(data.original.related);
  this.alias.dispatchEvent(new Event("input"));
};

EditHelpContainer_EditHelpContainer.prototype.saveDataCurrent = function (row) {
  var arr = this.getElementsByClassName("choice-event-category");
  var isRemove = true;
  if (arr.length !== 0) arr = arr[0];
  if (arr == row) return true;
  if (row === undefined) isRemove = false;
  var value = {
    title: this.name.value,
    alias: this.alias.value,
    fulltext: this.editor.getData(),
    related: this.editorRelated.getData(),
    active: this.active.checked ? 1 : 0,
    parent_id: this.listParent.value,
    id: this.idCurrent
  };

  if (isRemove) {
    if (arr.classList) arr.classList.remove("choice-event-category");
  }

  if (arr.data) {
    this.editView(value, arr.data, arr);
  }

  this.listParent.updateItemList();
  return false;
};

EditHelpContainer_EditHelpContainer.prototype.resetChoice = function () {
  var arr = this.getElementsByClassName("choice-event-category");

  if (arr.length !== 0) {
    this.saveDataCurrent();
    this.resetDataTitle();
    arr[0].classList.remove("choice-event-category");
  } // var choice = this.getElementsByClassName("choice-event-category");
  // var mTable = this.mTable;
  // if (choice.length == 0) {
  //     if (mTable.childrenNodes.length > 0) {
  //         mTable.childrenNodes[0].indexDetail = 0;
  //         mTable.childrenNodes[0].parentDetail = mTable;
  //         this.rowSelected = mTable.childrenNodes[0];
  //         mTable.childrenNodes[0].classList.add("choice-event-category");
  //         this.setDataTitle(mTable.childrenNodes[0].data.original);
  //         this.editor.setData(mTable.childrenNodes[0].data.original.fulltext);
  //         this.alias.dispatchEvent(new Event("input"));
  //     }
  // }

};

EditHelpContainer_EditHelpContainer.prototype.functionChoice = function (event, me, index, parent, data, row) {
  var self = this;
  var arr = this.getElementsByClassName("choice-list-category");
  if (arr.length !== 0) arr = arr[0];
  var today = new Date();
  if (self.modal.clickTime === undefined) self.modal.clickTime = 0;

  if (arr == row && today - self.modal.clickTime < 300) {
    self.modal.selfRemove();
    self.modal.resolve({
      event: event,
      me: me,
      index: index,
      parent: parent,
      data: data,
      row: row
    });
  }

  self.modal.clickTime = today;

  if (arr.length !== 0) {
    if (arr) arr.classList.remove("choice-list-category");
  }

  row.classList.add("choice-list-category");
};

EditHelpContainer_EditHelpContainer.prototype.syncRow = function () {
  this.saveDataCurrent();
};

EditHelpContainer_EditHelpContainer.prototype.formatDataRowOne = function (data) {
  var checkElement = parseInt(data.active) ? EditHelpContainer_({
    tag: "div",
    "class": "tick-element"
  }) : EditHelpContainer_({
    tag: "div",
    "class": "cross-element"
  });
  var result = [{
    value: ""
  }, {
    value: data.title,
    element: EditHelpContainer_({
      tag: "div",
      child: [{
        tag: "span",
        "class": "title-label",
        props: {
          innerHTML: data.title
        }
      }, {
        tag: "span",
        "class": "alias-label",
        props: {
          innerHTML: " (Alias :" + data.alias + ")"
        }
      }]
    })
  }, {
    value: data.active,
    element: checkElement
  }, {
    value: ""
  }];
  result.original = data;
  return result;
};

EditHelpContainer_EditHelpContainer.prototype.formatDataRow = function (data) {
  var temp = [];
  var check = [];
  var result;

  for (var i = 0; i < data.length; i++) {
    result = this.formatDataRowOne(data[i]);

    if (data[i].parent_id != 0) {
      if (check[data[i].parent_id] === undefined) check[data[i].parent_id] = [];
      check[data[i].parent_id].push(result);
    } else {
      temp.push(result);
    }
  }

  for (var i = 0; i < temp.length; i++) {
    temp[i].child = this.checkarrayChild(temp[i].original.id, check);
  }

  return temp;
};

EditHelpContainer_EditHelpContainer.prototype.checkarrayChild = function (id, check) {
  if (check[id] === undefined) return [];

  for (var i = 0; i < check[id].length; i++) {
    check[id][i].child = this.checkarrayChild(check[id][i].original.id, check);
  }

  return check[id];
};

EditHelpContainer_EditHelpContainer.prototype.formatDataRowList = function (data) {
  var temp = [];
  var check = [];
  var k = 0;

  for (var i = 0; i < data.length; i++) {
    var result = [{
      value: data[i].title,
      element: EditHelpContainer_({
        tag: "div",
        child: [{
          tag: "span",
          "class": "title-label",
          props: {
            innerHTML: data[i].title
          }
        }]
      })
    }, {
      value: data[i].created,
      style: {
        minWidth: "150px"
      }
    }, {
      value: data[i].id
    }];
    result.original = data[i];

    if (check[data[i].parent_id] !== undefined) {
      if (check[data[i].parent_id].child === undefined) check[data[i].parent_id].child = [];
      check[data[i].parent_id].child.push(result);
    } else temp[k++] = result;

    check[data[i].id] = result;
  }

  return temp;
};

EditHelpContainer_EditHelpContainer.prototype.formatDataRowChoice = function () {
  var self = this;
  var array = [{
    text: "Danh mục cao nhất",
    value: 0
  }];
  var check = [];
  var dataParent = self.getDataCurrent();

  for (var i = 0; i < dataParent.length; i++) {
    if (dataParent[i].id == this.idCurrent) continue;
    array.push({
      text: dataParent[i].title,
      value: parseFloat(dataParent[i].id)
    });
    if (self.data == undefined) check[dataParent[i].alias] = dataParent[i];
  }

  array.check = check;
  return array;
};

EditHelpContainer_EditHelpContainer.prototype.getDataCurrent = function () {
  return this.getDataChild(this.mTable.data);
};

EditHelpContainer_EditHelpContainer.prototype.getDataChild = function (arr) {
  var self = this;
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    result.push(arr[i].original);
    if (arr[i].child.length !== 0) result = result.concat(self.getDataChild(arr[i].child));
  }

  return result;
};

EditHelpContainer_EditHelpContainer.prototype["default"] = function () {
  var parent_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var ordering = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;
  var result = {
    active: 0,
    fulltext: "",
    ordering: ordering,
    parent_id: parent_id,
    title: "New Category",
    alias: ""
  };
  return result;
};

EditHelpContainer_EditHelpContainer.prototype.add = function (parentid) {
  var row = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.mTable;
  var self = this;
  var value = this["default"](parentid, row.childrenNodes.length);
  var promiseParent = self.addDB(value);
  var loading = new loadingWheel();
  promiseParent.then(function (result) {
    value = self.formatDataRowOne(result);
    self.addView(value, row);
    loading.disable();
  });
};

EditHelpContainer_EditHelpContainer.prototype.addView = function (value, row) {
  var temp = row.insertRow(value);
  temp.scrollIntoView({
    behavior: "smooth",
    block: "center",
    inline: "center"
  });
  this.listParent.updateItemList();
};

EditHelpContainer_EditHelpContainer.prototype.addDB = function (value) {
  var promiseAdd = ModuleDatabase["a" /* default */].getModule("helps").add(value);
  promiseAdd.then(function (result) {
    value.id = result.id;
  });
  return promiseAdd;
};

EditHelpContainer_EditHelpContainer.prototype.edit = function (data, parent, index) {};

EditHelpContainer_EditHelpContainer.prototype.editViewContent = function () {
  var location = EditHelpContainer_({
    tag: "span",
    "class": "b-breadCrumbs__location_content"
  });

  var title = EditHelpContainer_({
    tag: "li",
    "class": "b-breadCrumbs__item",
    props: {
      innerHTML: "Introduction"
    }
  });

  var containerView = EditHelpContainer_({
    tag: "div",
    "class": ["cke_editable", "cke_editable_themed", "cke_contents_ltr", "cke_show_borders"],
    props: {
      contenteditable: true,
      spellcheck: false
    }
  });

  var temp = EditHelpContainer_({
    tag: "div",
    "class": ["b-article", "b-workZone__layout_helpcontainer_view"],
    child: [{
      tag: "div",
      "class": "b-article__headerLayout",
      props: {
        id: "article__header"
      },
      child: [{
        tag: "div",
        "class": ["b-article__headerSide", "m-article__headerSide__nav"],
        props: {
          id: "headerSide__nav"
        },
        child: [{
          tag: "ul",
          "class": "b-breadCrumbs__items",
          child: [title]
        }, {
          tag: "div",
          "class": "b-breadCrumbs__location",
          child: [{
            tag: "span",
            "class": "b-breadCrumbs__location_title",
            props: {
              innerHTML: "Bạn ở đây "
            }
          }, location]
        }]
      }, {
        tag: "div",
        "class": ["b-article__headerSide", "m-article__headerSide__buttons"],
        props: {
          id: "headerSide__buttons"
        },
        child: [{
          tag: "ul",
          "class": "b-controlButtons__items",
          child: [{
            tag: "li",
            "class": ["b-controlButtons__item", "m-controlButtons__item__print"],
            on: {
              click: function click() {
                Dom.printElement(self.$view.containerView.parentNode);
              }
            },
            child: [{
              tag: "i",
              "class": "material-icons",
              props: {
                innerHTML: "print"
              }
            }]
          }]
        }]
      }]
    }, {
      tag: "div",
      "class": "container-content-information",
      child: [containerView]
    }]
  });

  this.containerView = containerView;
  this.titleLabel = title;
  this.locationLabel = location;
  return temp;
};

EditHelpContainer_EditHelpContainer.prototype.editView = function (value, data, elementParam) {
  var parent = elementParam.getParentNode();
  var isChangeView = false;

  if (data.original.id != undefined) {
    if (data.original.title !== value.title) data.original.isTitle = true;
    if (data.original.alias !== value.alias) data.original.isAlias = true;
    if (data.original.active !== value.active) data.original.isActive = true;

    if (value.fulltext !== undefined) {
      if (data.original.fulltext !== value.fulltext) data.original.isFulltext = true;
    }

    if (value.related !== undefined) {
      if (data.original.related !== value.related) data.original.isRelated = true;
    }

    if (data.original.parent_id !== value.parent_id) data.original.isParent_id = true;
  }

  data.original.title = value.title;
  data.original.alias = value.alias;
  data.original.active = parseInt(value.active);
  if (value.fulltext !== undefined) data.original.fulltext = value.fulltext;
  if (value.related !== undefined) data.original.related = value.related;

  if (data.original.parent_id != value.parent_id) {
    isChangeView = true;
  }

  data.original.parent_id = value.parent_id;
  var checkElement = parseInt(value.active) ? EditHelpContainer_({
    tag: "div",
    "class": "tick-element"
  }) : EditHelpContainer_({
    tag: "div",
    "class": "cross-element"
  });
  data[1] = {
    value: data.original.title,
    element: EditHelpContainer_({
      tag: "div",
      child: [{
        tag: "span",
        "class": "title-label",
        props: {
          innerHTML: data.original.title
        }
      }, {
        tag: "span",
        "class": "alias-label",
        props: {
          innerHTML: " (Alias :" + data.original.alias + ")"
        }
      }]
    }),
    style: {
      maxWidth: "150px"
    }
  };
  data[2] = {
    value: value.active,
    element: checkElement,
    style: {
      maxWidth: "21px"
    }
  };

  if (isChangeView === true) {
    var element;
    if (value.parent_id == 0) element = parent.realTable.parentNode;else for (var i = 0; i < parent.bodyTable.childNodes.length; i++) {
      if (parent.bodyTable.childNodes[i].data.original.id == value.parent_id) {
        element = parent.bodyTable.childNodes[i];
        break;
      }
    }
    var index = parent.childrenNodes.indexOf(elementParam);
    parent.changeParent(index, element);
    setTimeout(function () {
      elementParam.scrollIntoView({
        behavior: "smooth",
        block: "center",
        inline: "center"
      });
    }, 100);
  }

  var temp = elementParam.updateCurrentRow(data);
  this.listParent.updateItemList();
  return temp;
};

EditHelpContainer_EditHelpContainer.prototype.editDB = function (mNewCategory, data, parent, index) {
  var self = this;
  mNewCategory.promiseEditDB.then(function (value) {
    value.id = data.original.id;
    ModuleDatabase["a" /* default */].getModule("helps").update(value).then(function (result) {
      self.editView(value, data, parent, index);
    });
    mNewCategory.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewCategory.promiseEditDB !== undefined) self.editDB(mNewCategory, data, parent, index);
    }, 10);
  });
};

EditHelpContainer_EditHelpContainer.prototype.editContentAll = function () {
  var self = this;
  self.syncRow();
  var sync = self.mTable.data;
  var loading = new loadingWheel();
  var promiseAll = self.updateChild(sync);
  Promise.all(promiseAll).then(function () {
    loading.disable();
    var arr = this.getElementsByClassName("choice-event-category");
    if (this.alias.parentNode.parentNode.classList.contains("hasErrorElement") && arr.length > 0) arr[0].scrollIntoView({
      behavior: "smooth",
      block: "center",
      inline: "center"
    });
  }.bind(this));
};

EditHelpContainer_EditHelpContainer.prototype.updateChild = function (child) {
  var promiseAll = [];
  var isUpdate;

  for (var i = 0; i < child.length; i++) {
    isUpdate = false;
    var dataUpdate = {};
    dataUpdate.id = child[i].original.id;

    if (child[i].original.isTitle === true) {
      isUpdate = true;
      dataUpdate.title = child[i].original.title;
      child[i].original.isTitle = false;
    }

    if (child[i].original.isAlias === true) {
      isUpdate = true;
      dataUpdate.alias = child[i].original.alias;
      child[i].original.isAlias = false;
    }

    if (child[i].original.isActive === true) {
      isUpdate = true;
      dataUpdate.active = child[i].original.active;
      child[i].original.isActive = false;
    }

    if (child[i].original.isParent_id === true) {
      isUpdate = true;
      dataUpdate.parent_id = child[i].original.parent_id;
      child[i].original.isParent_id = false;
    }

    if (child[i].original.isFulltext === true) {
      isUpdate = true;
      dataUpdate.fulltext = child[i].original.fulltext;
      child[i].original.isFulltext = false;
    }

    if (child[i].original.isRelated === true) {
      isUpdate = true;
      dataUpdate.related = child[i].original.related;
      child[i].original.isRelated = false;
    }

    if (child[i].original.ordering != i) {
      isUpdate = true;
      dataUpdate.ordering = i;
      child[i].original.ordering = i;
    }

    if (isUpdate) {
      promiseAll.push(ModuleDatabase["a" /* default */].getModule("helps").update(dataUpdate));
    }

    if (child[i].child.length !== 0) {
      promiseAll = promiseAll.concat(this.updateChild(child[i].child));
    }
  }

  return promiseAll;
};

EditHelpContainer_EditHelpContainer.prototype["delete"] = function (data, parent, index) {
  var self = this;
  var deleteItem = deleteQuestion("Xoá danh mục", "Bạn có chắc muốn xóa :" + data.title);
  this.addChild(deleteItem);
  deleteItem.promiseComfirm.then(function () {
    self.deleteDB(data, parent, index);
  });
};

EditHelpContainer_EditHelpContainer.prototype.deleteView = function (parent, index) {
  var self = this;
  if (this.rowSelected) this.rowSelected.indexDetail--;
  parent.dropRow(index).then(function () {
    self.resetChoice();
    self.listParent.updateItemList();
  });
};

EditHelpContainer_EditHelpContainer.prototype.resetDataTitle = function (data) {
  this.name.value = "";
  this.alias.value = "";
  this.listParent.value = 0;
  this.active.checked = false;
  this.editor.setData("");
  this.editorRelated.setData("");
  this.idCurrent = undefined;
};

EditHelpContainer_EditHelpContainer.prototype.setDataTitle = function (data) {
  this.name.value = data.title;
  this.alias.value = data.alias;
  this.idCurrent = data.id;
  this.listParent.updateItemList();
  this.listParent.value = data.parent_id;
  this.active.checked = parseInt(data.active);
};

EditHelpContainer_EditHelpContainer.prototype.addPromisePush = function (data) {
  var result = [];
  var dataOriginal = data.original;

  if (dataOriginal && dataOriginal.id) {
    result.push(ModuleDatabase["a" /* default */].getModule("helps")["delete"]({
      id: dataOriginal.id
    }));
  }

  if (data.child && data.child.length > 0) {
    for (var i = 0; i < data.child.length; i++) {
      result = result.concat(this.addPromisePush(data.child[i]));
    }
  }

  return result;
};

EditHelpContainer_EditHelpContainer.prototype.deleteDB = function (data, parent, index) {
  var self = this;
  var row = parent.childrenNodes[index];
  var promiseAll = this.addPromisePush(row.data);
  if (promiseAll.length > 0) Promise.all(promiseAll).then(function (value) {
    if (parent.childrenNodes[index] && parent.childrenNodes[index].classList.contains("choice-event-category")) {
      self.resetDataTitle();
    }

    self.deleteView(parent, index);
  });else {
    if (parent.childrenNodes[index] && parent.childrenNodes[index].classList.contains("choice-event-category")) {
      self.resetDataTitle();
    }

    self.deleteView(parent, index);
  }
};

EditHelpContainer_EditHelpContainer.prototype.itemEdit = function () {
  var self = this;
  var textId = ("text_" + Math.random() + Math.random()).replace(/\./g, '');

  var temp = EditHelpContainer_({
    tag: 'div',
    "class": "container-bot",
    props: {
      id: textId
    }
  });

  var ckedit = EditHelpContainer_({
    tag: 'attachhook',
    on: {
      error: function error() {
        this.selfRemove();
        self.editor = CKEDITOR.replace(textId);
        CKFinder.setupCKEditor(self.editor, './'); // self.editor.on('doubleclick', function(evt) {
        //     var element = evt.data.element;
        //     if (element.is('a') && !element.getAttribute('_cke_realelement'))
        //         evt.data.dialog = null;
        // }, null, null, 10);

        self.editor.on('blur', function (e) {
          self.saveDataCurrent();
        });
        self.editor.addCommand("comand_link_direction", {
          exec: function exec(edt) {
            var listLink = self.listLink();
            self.appendChild(listLink);
            listLink.promiseSelectList.then(function (value) {
              self.editor.insertHtml("<a id=x64" + value.data.original.id + " href='./'>" + value.data.original.title + "</a>");
            });
          }
        });
        self.editor.addCommand("comand_note", {
          exec: function exec(edt) {
            var selected_text = self.editor.getSelection().getSelectedText();
            self.editor.insertHtml("<div style=\"\n                        display: flex;\n                        border: 2px solid #f4eb49;\n                        padding: 5px;\n                        padding-bottom: 20px;\n                        \"><i class=\"material-icons\" style=\"\n                        display: flex;\n                        flex-shrink: 0;\n                        width: 40px;\n                        font-size: 30px;\n                        color: #f4eb49;\n                    \">sticky_note_2</i> <span style=\"\n                        flex-grow: 2;\n                        display: flex;\n                        padding: 5px;\n                    \">" + selected_text + "</span></div>\n                    ");
          }
        });
      }
    }
  });

  return temp;
};

EditHelpContainer_EditHelpContainer.prototype.itemEditRelated = function () {
  var self = this;
  var textId = ("text_" + Math.random() + Math.random()).replace(/\./g, '');

  var temp = EditHelpContainer_({
    tag: 'div',
    "class": "container-bot-related",
    props: {
      id: textId
    }
  });

  var ckedit = EditHelpContainer_({
    tag: 'attachhook',
    on: {
      error: function error() {
        this.selfRemove();
        self.editorRelated = CKEDITOR.replace(textId);
        CKFinder.setupCKEditor(self.editorRelated, './'); // self.editor.on('doubleclick', function(evt) {
        //     var element = evt.data.element;
        //     if (element.is('a') && !element.getAttribute('_cke_realelement'))
        //         evt.data.dialog = null;
        // }, null, null, 10);

        self.editorRelated.on('blur', function (e) {
          self.saveDataCurrent();
        });
        self.editorRelated.addCommand("comand_link_direction", {
          exec: function exec(edt) {
            var listLink = self.listLink();
            self.appendChild(listLink);
            listLink.promiseSelectList.then(function (value) {
              self.editorRelated.insertHtml("<a id=x64" + value.data.original.id + " href='./'>" + value.data.original.title + "</a>");
            });
          }
        });
        self.editorRelated.addCommand("comand_note", {
          exec: function exec(edt) {
            var selected_text = self.editorRelated.getSelection().getSelectedText();
            self.editorRelated.insertHtml("<div style=\"\n                        display: flex;\n                        border: 2px solid #f4eb49;\n                        padding: 5px;\n                        padding-bottom: 20px;\n                        \"><i class=\"material-icons\" style=\"\n                        display: flex;\n                        flex-shrink: 0;\n                        width: 40px;\n                        font-size: 30px;\n                        color: #f4eb49;\n                    \">sticky_note_2</i> <span style=\"\n                        flex-grow: 2;\n                        display: flex;\n                        padding: 5px;\n                    \">" + selected_text + "</span></div>\n                    ");
          }
        });
      }
    }
  });

  return temp;
};

EditHelpContainer_EditHelpContainer.prototype.listLink = function () {
  var self = this;
  var header = [{
    value: "Title",
    sort: true,
    functionClickAll: self.functionChoice.bind(self)
  }, {
    value: "Date",
    sort: true
  }, {
    value: "ID",
    sort: true
  }];
  var mTable = new tableView(header, self.formatDataRowList(self.getDataCurrent()), true, false, 0);
  mTable.style.width = "calc(100% - 20px)";
  mTable.style.marginLeft = "10px";

  var input = EditHelpContainer_({
    tag: "input",
    "class": "input-search-list",
    props: {
      type: "text",
      placeholder: "Search"
    }
  });

  self.modal = EditHelpContainer_({
    tag: "modal",
    "class": "list-linkChoice",
    on: {
      click: function click(event) {
        var element = event.target;

        while (!(element.classList.contains("list-linkChoice") || element.classList.contains("list-linkChoice-container"))) {
          element = element.parentNode;
        }

        if (element.classList.contains("list-linkChoice")) {
          this.selfRemove();
          self.modal.reject();
        }
      }
    },
    child: [{
      tag: "div",
      "class": ["list-linkChoice-container", "absol-single-page-scroller"],
      child: [{
        tag: "div",
        "class": "js-stools-container-bar",
        child: [{
          tag: "div",
          "class": ["btn-wrapper", "input-append"],
          child: [input]
        }]
      }, mTable]
    }]
  });
  mTable.addInputSearch(input);
  self.modal.promiseSelectList = new Promise(function (resolve, reject) {
    self.modal.resolve = resolve;
    self.modal.reject = reject;
  });
  return self.modal;
};

EditHelpContainer_EditHelpContainer.prototype.editPage = function () {
  var textIdHeader = ("text_" + Math.random() + Math.random()).replace(/\./g, '');
  var textIdFooter = ("text_" + Math.random() + Math.random()).replace(/\./g, '');

  var ckeditHeader = EditHelpContainer_({
    tag: 'attachhook',
    on: {
      error: function error() {
        this.selfRemove();
        self.editor = CKEDITOR.replace(textIdHeader); // self.editor.on('doubleclick', function(evt) {
        //     var element = evt.data.element;
        //     if (element.is('a') && !element.getAttribute('_cke_realelement'))
        //         evt.data.dialog = null;
        // }, null, null, 10);

        self.editor.addCommand("comand_link_direction", {
          exec: function exec(edt) {
            var listLink = self.listLink();
            self.appendChild(listLink);
            listLink.promiseSelectList.then(function (value) {
              self.editor.insertHtml("<a id=x86" + value.data.original.id + " href='./'>" + value.data.original.title + "</a>");
            });
          }
        });
        self.editor.addCommand("comand_note", {
          exec: function exec(edt) {}
        });
      }
    }
  });

  var ckeditFooter = EditHelpContainer_({
    tag: 'attachhook',
    on: {
      error: function error() {
        this.selfRemove();
        self.editor = CKEDITOR.replace(textIdFooter); // self.editor.on('doubleclick', function(evt) {
        //     var element = evt.data.element;
        //     if (element.is('a') && !element.getAttribute('_cke_realelement'))
        //         evt.data.dialog = null;
        // }, null, null, 10);

        self.editor.addCommand("comand_link_direction", {
          exec: function exec(edt) {
            var listLink = self.listLink();
            self.appendChild(listLink);
            listLink.promiseSelectList.then(function (value) {
              self.editor.insertHtml("<a id=x86" + value.data.original.id + " href='./'>" + value.data.original.title + "</a>");
            });
          }
        });
        self.editor.addCommand("comand_note", {
          exec: function exec(edt) {}
        });
      }
    }
  });

  var settingPage = EditHelpContainer_({
    tag: "div",
    "class": "setting-page-container",
    child: [{
      tag: "div",
      "class": "setting-page-container-title",
      child: [{
        tag: "span",
        "class": "setting-page-container-title-label",
        props: {
          innerHTML: "Title"
        }
      }, {
        tag: "input",
        "class": "setting-page-container-title-input"
      }]
    }, {
      tag: "div",
      "class": "setting-page-container-header",
      child: [{
        tag: "span",
        "class": "setting-page-container-header-label",
        props: {
          innerHTML: "Header"
        }
      }, {
        tag: "div",
        "class": "setting-page-container-header-editor",
        child: [{
          tag: "div",
          props: {
            id: textIdHeader
          }
        }]
      }]
    }, {
      tag: "div",
      "class": "setting-page-container-footer",
      child: [{
        tag: "span",
        "class": "setting-page-container-footer-label",
        props: {
          innerHTML: "Footer"
        }
      }, {
        tag: "div",
        "class": "setting-page-container-footer-editor",
        child: [{
          tag: "div",
          props: {
            id: textIdFooter
          }
        }]
      }]
    }]
  });

  this.appendChild(settingPage);
  this.settingPage = settingPage;
};

EditHelpContainer_EditHelpContainer.prototype.saveHeaderFooter = function () {};

EditHelpContainer_EditHelpContainer.prototype.closeEditPage = function () {
  if (this.settingPage) {
    this.settingPage.selfRemove();
    this.settingPage = undefined;
    return true;
  }

  return false;
};

EditHelpContainer_EditHelpContainer.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData().toString();
  if (data) this.setData(data);
};

EditHelpContainer_EditHelpContainer.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

EditHelpContainer_EditHelpContainer.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

EditHelpContainer_EditHelpContainer.prototype.start = function () {};

/* harmony default export */ var component_EditHelpContainer = (EditHelpContainer_EditHelpContainer);
// CONCATENATED MODULE: ./js/page/ListEditHelp.js







var ListEditHelp_ = dom_Fcore._;
var ListEditHelp_$ = dom_Fcore.$;

function ListEditHelp_ListHelp() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

ListEditHelp_ListHelp.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(ListEditHelp_ListHelp.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
ListEditHelp_ListHelp.prototype.constructor = ListEditHelp_ListHelp;

ListEditHelp_ListHelp.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;
  var containerHelp = new component_EditHelpContainer();
  this.$view = ListEditHelp_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Chỉnh sửa trợ giúp"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              containerHelp.disableEditViewContent(); // if (!containerHelp.closeEditPage()) {
              //     self.$view.selfRemove();
              //     var arr = self.parent.body.getAllChild();
              //     self.parent.body.activeFrame(arr[arr.length - 1]);
              // } else {
              //     var arr = self.$view.getElementsByClassName("pizo-list-realty-button-add");
              //     for (var i = 0; i < arr.length; i++) {
              //         arr[i].style.display = "";
              //     }
              //     var arr = self.$view.getElementsByClassName("pizo-list-realty-button-edit-page");
              //     for (var i = 0; i < arr.length; i++) {
              //         arr[i].style.display = "none";
              //     }
              //     containerHelp.disableEditViewContent();
              // }
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              containerHelp.editContentAll();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              containerHelp.add();
            }
          },
          child: ['<span>' + "Thêm" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              containerHelp.enableEditViewContent();
            }
          },
          child: ['<span>' + "Sửa" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              containerHelp.editPage();
              var arr = self.$view.getElementsByClassName("pizo-list-realty-button-add");

              for (var i = 0; i < arr.length; i++) {
                arr[i].style.display = "none";
              }

              var arr = self.$view.getElementsByClassName("pizo-list-realty-button-edit-page");

              for (var i = 0; i < arr.length; i++) {
                arr[i].style.display = "";
              }
            }
          },
          child: ['<span>' + "Cài đặt trang" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-edit-page", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              containerHelp.editContentAll();
            }
          },
          style: {
            display: "none"
          },
          child: ['<span>' + "Lưu" + '</span>']
        }]
      }]
    }]
  });
  containerHelp.parent = this.parent;
  this.$view.addChild(ListEditHelp_({
    tag: "div",
    "class": ["pizo-list-help-main"],
    child: [containerHelp]
  }));
  return this.$view;
};

ListEditHelp_ListHelp.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

ListEditHelp_ListHelp.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

ListEditHelp_ListHelp.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

ListEditHelp_ListHelp.prototype.start = function () {};

/* harmony default export */ var ListEditHelp = (ListEditHelp_ListHelp);
// EXTERNAL MODULE: ./css/ListPositions.css
var ListPositions = __webpack_require__(269);

// EXTERNAL MODULE: ./css/NewDepartment.css
var NewDepartment = __webpack_require__(271);

// CONCATENATED MODULE: ./js/component/NewDepartment.js






var NewDepartment_ = dom_Fcore._;
var NewDepartment_$ = dom_Fcore.$;

function NewDepartment_NewDepartment(data, parent_id) {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.textHeader = "Sửa ";
  this.data = data;
  if (parent_id !== undefined) this.parent_id = parseFloat(parent_id);
  if (this.data !== undefined) this.parent_id = parseFloat(data.original.parent_id);else this.textHeader = "Thêm ";
}

NewDepartment_NewDepartment.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(NewDepartment_NewDepartment.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
NewDepartment_NewDepartment.prototype.constructor = NewDepartment_NewDepartment;

NewDepartment_NewDepartment.prototype.createPromise = function () {
  var self = this;

  if (this.data === undefined) {
    self.promiseAddDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  } else {
    self.promiseEditDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  }
};

NewDepartment_NewDepartment.prototype.resetPromise = function (value) {
  if (self.promiseAddDB !== undefined) self.promiseAddDB = undefined;
  if (self.promiseEditDB !== undefined) self.promiseEditDB = undefined;
};

NewDepartment_NewDepartment.prototype.getView = function (dataParent) {
  if (this.$view) return this.$view;
  var self = this;
  self.createPromise();
  var array = [{
    text: "Phòng ban cao nhất",
    value: 0
  }];
  if (self.parent_id === undefined) self.parent_id = 0;
  self.check = [];

  for (var i = 0; i < dataParent.length; i++) {
    if (self.data !== undefined && self.data.original.id == dataParent[i].id) continue;
    array.push({
      text: dataParent[i].name,
      value: parseFloat(dataParent[i].id)
    });
  }

  this.$view = NewDepartment_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: self.textHeader + "bộ phận"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
              self.rejectDB(self.getData());
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getData());
              self.createPromise();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getData());
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Lưu và đóng" + '</span>']
        }]
      }]
    }]
  });
  this.$view.addChild(NewDepartment_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [{
      tag: "div",
      "class": ["pizo-list-realty-main-result-control"],
      child: [{
        tag: "div",
        "class": "pizo-new-catergory-container",
        style: {
          width: "50%"
        },
        child: [{
          tag: "div",
          "class": "pizo-new-category-container-name",
          child: [{
            tag: "div",
            "class": "pizo-new-category-container-name-container",
            child: [{
              tag: "span",
              "class": "pizo-new-category-container-name-container-label",
              props: {
                innerHTML: "Tên"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-category-container-name-container-input", "pizo-new-realty-dectruct-input"],
              on: {}
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-category-container-code",
          child: [{
            tag: "div",
            "class": "pizo-new-category-container-code-container",
            child: [{
              tag: "span",
              "class": "pizo-new-category-container-code-container-label",
              props: {
                innerHTML: "Mã"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-category-container-code-container-input", "pizo-new-realty-dectruct-input"],
              on: {}
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-state-selectbox",
          child: [{
            tag: "div",
            "class": "pizo-new-state-selectbox-container",
            child: [{
              tag: "span",
              "class": "pizo-new-state-selectbox-container-label",
              props: {
                innerHTML: "Chức vụ cha"
              }
            }, {
              tag: "selectmenu",
              "class": ["pizo-new-state-selectbox-container-input", "pizo-new-realty-dectruct-input"],
              props: {
                enableSearch: true,
                items: array,
                value: self.parent_id
              }
            }]
          }]
        }]
      }]
    }]
  }));
  this.name = NewDepartment_$('input.pizo-new-category-container-name-container-input.pizo-new-realty-dectruct-input', this.$view);
  this.code = NewDepartment_$('input.pizo-new-category-container-code-container-input.pizo-new-realty-dectruct-input', this.$view);
  this.parentElement = NewDepartment_$('.pizo-new-state-selectbox-container-input.pizo-new-realty-dectruct-input', this.$view);

  if (this.data !== undefined) {
    this.name.value = this.data.original.name;
    this.code.value = this.data.original.code;
  }

  return this.$view;
};

NewDepartment_NewDepartment.prototype.getData = function () {
  var temp = {
    name: this.name.value,
    code: this.code.value,
    parent_id: this.parentElement.value
  };
  if (this.data !== undefined) temp.id = this.data.original.id;
  return temp;
};

NewDepartment_NewDepartment.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

NewDepartment_NewDepartment.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

NewDepartment_NewDepartment.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

NewDepartment_NewDepartment.prototype.start = function () {};

/* harmony default export */ var component_NewDepartment = (NewDepartment_NewDepartment);
// EXTERNAL MODULE: ./css/NewPosition.css
var NewPosition = __webpack_require__(273);

// CONCATENATED MODULE: ./js/component/NewPosition.js







var NewPosition_ = dom_Fcore._;
var NewPosition_$ = dom_Fcore.$;

function NewPosition_NewPosition(data, parent_id) {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.data = data;
  if (parent_id !== undefined) this.parent_id = parseFloat(parent_id);
  if (this.data !== undefined) this.parent_id = parseFloat(data.original.department_id);
}

NewPosition_NewPosition.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(NewPosition_NewPosition.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
NewPosition_NewPosition.prototype.constructor = NewPosition_NewPosition;

NewPosition_NewPosition.prototype.createPromise = function () {
  var self = this;

  if (this.data === undefined) {
    self.promiseAddDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  } else {
    self.promiseEditDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  }
};

NewPosition_NewPosition.prototype.resetPromise = function (value) {
  if (self.promiseAddDB !== undefined) self.promiseAddDB = undefined;
  if (self.promiseEditDB !== undefined) self.promiseEditDB = undefined;
};

NewPosition_NewPosition.prototype.getView = function (dataParent) {
  if (this.$view) return this.$view;
  var self = this;
  self.createPromise();
  var array = [];
  if (self.parent_id === undefined) self.parent_id = 0;
  self.check = [];

  for (var i = 0; i < dataParent.length; i++) {
    if (self.data !== undefined && self.data.id == dataParent[i].id) continue;
    array[i] = {
      text: dataParent[i].name,
      value: parseFloat(dataParent[i].id)
    };
  }

  this.$view = NewPosition_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Thêm chức vụ"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
              self.rejectDB(self.getDataCurrent());
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataCurrent());
              self.createPromise();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataCurrent());
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Lưu và đóng" + '</span>']
        }]
      }]
    }]
  });
  this.$view.addChild(NewPosition_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [{
      tag: "div",
      "class": ["pizo-list-realty-main-result-control"],
      child: [{
        tag: "div",
        "class": "pizo-new-catergory-container",
        style: {
          width: "50%"
        },
        child: [{
          tag: "div",
          "class": "pizo-new-category-container-username",
          child: [{
            tag: "div",
            "class": "pizo-new-category-container-username-container",
            child: [{
              tag: "span",
              "class": "pizo-new-category-container-username-container-label",
              props: {
                innerHTML: "Tài khoản"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-category-container-username-container-input", "pizo-new-realty-dectruct-input"],
              on: {
                click: function click(event) {
                  var checkAccount = self.listLink(self.dataAccount);
                  this.parentNode.appendChild(checkAccount);
                  var element = this;
                  checkAccount.promiseSelectList.then(function (value) {
                    element.value = value.data.original.name;
                    element.data = value.data.original;
                  });
                }
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-category-container-code",
          child: [{
            tag: "div",
            "class": "pizo-new-category-container-code-container",
            child: [{
              tag: "span",
              "class": "pizo-new-category-container-code-container-label",
              props: {
                innerHTML: "Mã"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-category-container-code-container-input", "pizo-new-realty-dectruct-input"],
              on: {}
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-category-container-name",
          child: [{
            tag: "div",
            "class": "pizo-new-category-container-name-container",
            child: [{
              tag: "span",
              "class": "pizo-new-category-container-name-container-label",
              props: {
                innerHTML: "Chức vụ"
              }
            }, {
              tag: "input",
              "class": ["pizo-new-category-container-name-container-input", "pizo-new-realty-dectruct-input"],
              on: {}
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-state-selectbox",
          child: [{
            tag: "div",
            "class": "pizo-new-state-selectbox-container",
            child: [{
              tag: "span",
              "class": "pizo-new-state-selectbox-container-label",
              props: {
                innerHTML: "Phòng ban"
              }
            }, {
              tag: "selectmenu",
              "class": ["pizo-new-state-selectbox-container-input", "pizo-new-realty-dectruct-input"],
              props: {
                enableSearch: true,
                items: array,
                value: self.parent_id
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-category-container-note",
          child: [{
            tag: "div",
            "class": "pizo-new-category-container-note-container",
            child: [{
              tag: "span",
              "class": "pizo-new-category-container-note-container-label",
              props: {
                innerHTML: "Ghi chú"
              }
            }, {
              tag: "textarea",
              "class": ["pizo-new-category-container-note-container-input", "pizo-new-realty-dectruct-input"],
              on: {}
            }]
          }]
        }]
      }]
    }]
  }));
  this.name = NewPosition_$('input.pizo-new-category-container-name-container-input.pizo-new-realty-dectruct-input', this.$view);
  this.username = NewPosition_$('input.pizo-new-category-container-username-container-input.pizo-new-realty-dectruct-input', this.$view);
  this.code = NewPosition_$('input.pizo-new-category-container-code-container-input.pizo-new-realty-dectruct-input', this.$view);
  this.note = NewPosition_$('.pizo-new-category-container-note-container-input.pizo-new-realty-dectruct-input', this.$view);
  this.department = NewPosition_$('.pizo-new-state-selectbox-container-input.pizo-new-realty-dectruct-input', this.$view);

  if (this.data !== undefined) {
    this.name.value = this.data.original.name;
    this.code.value = this.data.original.code;
    this.note.value = this.data.original.note;
  }

  return this.$view;
};

NewPosition_NewPosition.prototype.getDataCurrent = function () {
  var temp = {
    department_id: this.department.value,
    name: this.name.value,
    code: this.code.value,
    note: this.note.value,
    username: this.username.data
  };
  if (this.data !== undefined) temp.id = this.data.original.id;
  return temp;
};

NewPosition_NewPosition.prototype.getDataRowListAccount = function (data) {
  var temp = [data.name, data.phone, data.email, data.id];
  temp.original = data;
  return temp;
};

NewPosition_NewPosition.prototype.setDataListAccount = function (data) {
  this.dataAccount = this.formatDataRowListAccount(data);
};

NewPosition_NewPosition.prototype.formatDataRowListAccount = function (data) {
  var temp = [["Không có nhân viên nào", "", "", ""]];
  temp[0].original = {
    id: 0,
    name: ""
  };
  var isCheck = false;

  for (var i = 0; i < data.length; i++) {
    temp.push(this.getDataRowListAccount(data[i]));

    if (isCheck == false && this.data != undefined) {
      if (this.data.original.id == data[i].positionid) {
        this.username.value = data[i].name;
        this.username.data = data[i];
        isCheck = true;
      }
    }
  }

  return temp;
};

NewPosition_NewPosition.prototype.functionChoice = function (event, me, index, parent, data, row) {
  var self = this;
  var arr = self.getElementsByClassName("choice-list-category");
  if (arr.length !== 0) arr = arr[0];
  var today = new Date();
  if (self.clickTime === undefined) self.clickTime = 0;

  if (arr == row && today - self.clickTime < 300) {
    self.selfRemove();
    self.resolve({
      event: event,
      me: me,
      index: index,
      parent: parent,
      data: data,
      row: row
    });
  }

  self.clickTime = today;
  if (arr.length !== 0) arr.classList.remove("choice-list-category");
  row.classList.add("choice-list-category");
};

NewPosition_NewPosition.prototype.listLink = function (data) {
  var self = this;

  var input = NewPosition_({
    tag: "input",
    "class": "input-search-list",
    props: {
      type: "text",
      placeholder: "Search"
    }
  });

  var container = NewPosition_({
    tag: "div",
    "class": ["list-linkChoice-container", "absol-single-page-scroller"],
    child: [{
      tag: "div",
      "class": "js-stools-container-bar",
      child: [{
        tag: "div",
        "class": ["btn-wrapper", "input-append"],
        child: [input]
      }]
    }]
  });

  self.modal = NewPosition_({
    tag: "modal",
    "class": "list-linkChoice",
    on: {
      click: function click(event) {
        var element = event.target;

        while (!(element.classList.contains("list-linkChoice") || element.classList.contains("list-linkChoice-container"))) {
          element = element.parentNode;
        }

        if (element.classList.contains("list-linkChoice")) {
          this.selfRemove();
          self.modal.reject();
        }
      }
    },
    child: [container]
  });
  var header = [{
    value: 'Họ và tên',
    sort: true,
    style: {
      minWidth: "unset"
    },
    functionClickAll: self.functionChoice.bind(self.modal)
  }, {
    value: 'Số điện thoại',
    style: {
      minWidth: "90px",
      width: "90px"
    },
    functionClickAll: self.functionChoice.bind(self.modal)
  }, {
    value: 'Email',
    sort: true,
    style: {
      minWidth: "unset"
    },
    functionClickAll: self.functionChoice.bind(self.modal)
  }, {
    value: 'MS',
    sort: true,
    style: {
      minWidth: "50px",
      width: "50px"
    },
    functionClickAll: self.functionChoice.bind(self.modal)
  }];
  var mTable = new tableView(header, data, false, false, 0);
  mTable.style.width = "100%";
  container.appendChild(mTable);
  mTable.addInputSearch(input);
  self.modal.promiseSelectList = new Promise(function (resolve, reject) {
    self.modal.resolve = resolve;
    self.modal.reject = reject;
  });
  return self.modal;
};

NewPosition_NewPosition.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

NewPosition_NewPosition.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

NewPosition_NewPosition.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

NewPosition_NewPosition.prototype.start = function () {};

/* harmony default export */ var component_NewPosition = (NewPosition_NewPosition);
// CONCATENATED MODULE: ./js/page/ListPositions.js












var ListPositions_ = dom_Fcore._;
var ListPositions_$ = dom_Fcore.$;

function ListPositions_ListPositions() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

ListPositions_ListPositions.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(ListPositions_ListPositions.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
ListPositions_ListPositions.prototype.constructor = ListPositions_ListPositions;

ListPositions_ListPositions.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;
  this.$view = ListPositions_({
    tag: 'singlepage',
    "class": "pizo-list-position-list",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Sơ đồ tổ chức"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        } // {
        //     tag: "button",
        //     class: ["pizo-list-realty-button-add","pizo-list-realty-button-element"],
        //     on: {
        //         click: function (evt) {
        //         }
        //     },
        //     child: [
        //     '<span>' + "Tìm nhân viên" + '</span>'
        //     ]
        // }
        ]
      }]
    }]
  });

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(6) !== -1) {
    ListPositions_$("div.pizo-list-realty-button", this.$view).appendChild(ListPositions_({
      tag: "button",
      "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
      on: {
        click: function click(evt) {
          self.addDepartment();
        }
      },
      child: ['<span>' + "Thêm bộ phận" + '</span>']
    }));
    ListPositions_$("div.pizo-list-realty-button", this.$view).appendChild(ListPositions_({
      tag: "button",
      "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
      on: {
        click: function click(evt) {
          var arr = self.mTable.getElementsByClassName("choice");
          if (arr.length == 1) arr = arr[0];else return;
          self.addPosition(arr.data.original.id, arr);
        }
      },
      child: ['<span>' + "Thêm chức vụ" + '</span>']
    }));
  }

  var tabInput = ListPositions_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    style: {
      marginBottom: "0.71428571428rem",
      display: "flex",
      flexShrink: 0
    },
    props: {
      placeholder: "Tìm kiếm"
    }
  });

  var titleInput = ListPositions_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    style: {
      marginBottom: "0.71428571428rem",
      fontWeight: "bold",
      pointerEvents: "none"
    },
    props: {
      innerHTML: ""
    }
  });

  self.titleInput = titleInput;

  var tabContainer = ListPositions_({
    tag: "div",
    "class": ["pizo-list-realty-main-result-control-child", "drag-zone-bg"]
  });

  var contentContainer = ListPositions_({
    tag: "div",
    "class": ["pizo-list-realty-main-result-control-child", "drag-zone-bg"]
  });

  var docTypeMemuProps, token, functionX;
  token = "showMenu";

  var functionClickMore = function functionClickMore(event, me, index, parent, data, row) {
    if (token == absol.QuickMenu._session) {
      token = "showMenu";
      return;
    }

    docTypeMemuProps = {
      items: []
    };

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(6) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Thêm',
        icon: 'span.mdi.mdi-text-short',
        value: 0
      });
    }

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(7) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Sửa',
        icon: 'span.mdi.mdi-text-short',
        value: 1
      });
    }

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(8) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Xóa',
        icon: 'span.mdi.mdi-text',
        value: 2
      });
    }

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(6) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Thêm chức vụ',
        icon: 'span.mdi.mdi-text-short',
        value: 3
      });
    }

    token = absol.QuickMenu.show(me, docTypeMemuProps, [3, 4], function (menuItem) {
      switch (menuItem.value) {
        case 0:
          self.addDepartment(data.original.id, row);
          break;

        case 1:
          self.editDepartment(data, parent, index);
          break;

        case 2:
          self.deleteDepartment(data.original, parent, index);
          break;

        case 3:
          self.addPosition(data.original.id, row);
          break;
      }
    });

    functionX = function (token) {
      return function () {
        var x = function x(event) {
          absol.QuickMenu.close(token);
          document.body.removeEventListener("click", x);
        };

        document.body.addEventListener("click", x);
      };
    }(token);

    setTimeout(functionX, 10);
  };

  var functionClickRow = function functionClickRow(event, me, index, parent, data, row) {
    var updateData = [];
    if (self.checkDepartment[data.original.id]) updateData = self.checkDepartment[data.original.id];
    self.mTablePosition.updateTable(undefined, updateData);
    var arr = self.mTable.getElementsByClassName("choice");

    for (var i = 0; i < arr.length; i++) {
      arr[i].classList.remove("choice");
    }

    row.classList.add("choice");
    self.titleInput.value = data.original.name;
    self.titleInput.data = data.original.id;
  };

  var token2 = "showMenu";

  var functionClickMoreSencond = function functionClickMoreSencond(event, me, index, parent, data, row) {
    if (token2 == absol.QuickMenu._session) {
      token2 = "showMenu";
      return;
    }

    docTypeMemuProps = {
      items: []
    };

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(7) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Sửa',
        icon: 'span.mdi.mdi-text-short',
        value: 0
      });
    }

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(8) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Xóa',
        icon: 'span.mdi.mdi-text',
        value: 1
      });
    }

    token2 = absol.QuickMenu.show(me, docTypeMemuProps, [3, 4], function (menuItem) {
      switch (menuItem.value) {
        case 0:
          self.editPosition(data, parent, index);
          break;

        case 1:
          self.deletePosition(data.original, parent, index);
          break;
      }
    });

    functionX = function (token2) {
      return function () {
        var x = function x(event) {
          absol.QuickMenu.close(token2);
          document.body.removeEventListener("click", x);
        };

        document.body.addEventListener("click", x);
      };
    }(token2);

    setTimeout(functionX, 10);
  };

  ModuleDatabase["a" /* default */].getModule("departments").load().then(function (value) {
    var header = [{
      type: "dragzone",
      style: {
        minWidth: "30px",
        width: "30px"
      }
    }, {
      value: 'Bộ phận',
      sort: true,
      style: {
        minWidth: "unset"
      },
      functionClickAll: functionClickRow
    }, {
      value: 'Mã',
      sort: true,
      style: {
        minWidth: "100px",
        width: "100px"
      },
      functionClickAll: functionClickRow
    }, {
      type: "detail",
      functionClickAll: functionClickMore,
      icon: "",
      dragElement: false,
      style: {
        width: "30px"
      }
    }];
    self.mTable = new tableView(header, self.formatDataRow(value), false, true, 1);
    tabContainer.addChild(self.mTable);
    self.mTable.addInputSearch(tabInput);
    var header = [{
      value: 'STT',
      type: "increase",
      sort: true,
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'Mã',
      sort: true,
      style: {
        minWidth: "100px",
        width: "100px"
      }
    }, {
      value: 'Họ và tên',
      sort: true,
      style: {
        minWidth: "unset"
      }
    }, {
      value: 'Chức vụ',
      sort: true,
      style: {
        minWidth: "unset"
      }
    }, {
      value: 'Ghi chú',
      style: {
        minWidth: "unset"
      }
    }, {
      type: "detail",
      functionClickAll: functionClickMoreSencond,
      icon: "",
      dragElement: false,
      style: {
        width: "30px"
      }
    }];
    self.mTablePosition = new tableView(header, [], false, true);
    contentContainer.addChild(self.mTablePosition);
    var promiseAll = [];
    promiseAll.push(ModuleDatabase["a" /* default */].getModule("positions").load());
    promiseAll.push(ModuleDatabase["a" /* default */].getModule("users").load());
    Promise.all(promiseAll).then(function (values) {
      self.formatDataRowAccount(values[1]);
      self.formatDataRowPosition(values[0]);
    });
  });
  this.$view.addChild(ListPositions_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    style: {
      flexDirection: "row"
    },
    child: [{
      tag: "div",
      "class": ["pizo-list-realty-main-result-control", "drag-zone-bg"],
      style: {
        flexGrow: 0,
        flexShrink: 0,
        width: "40%"
      },
      child: [tabInput, tabContainer]
    }, {
      tag: "div",
      "class": ["pizo-list-realty-main-result-control", "drag-zone-bg"],
      style: {
        paddingLeft: "30px"
      },
      child: [titleInput, contentContainer]
    }]
  }));
  return this.$view;
};

ListPositions_ListPositions.prototype.formatDataRowPosition = function (data) {
  this.checkDepartment = ModuleDatabase["a" /* default */].getModule("positions").getLibary("department_id", this.getDataRowPosition.bind(this), true);
  console.log(this.checkDepartment);
};

ListPositions_ListPositions.prototype.getDataRowPosition = function (data) {
  var name;
  console.log(this.checkAccount[data.id], data);
  if (this.checkAccount[data.id] == undefined) name = "";else {
    name = this.checkAccount[data.id].name;
  }
  var temp = [{}, data.code, name, data.name, data.note, {}];
  temp.original = data;
  return temp;
};

ListPositions_ListPositions.prototype.formatDataRowAccount = function (data) {
  this.listAccoutData = data;
  this.checkAccount = ModuleDatabase["a" /* default */].getModule("users").getLibary("positionid");
};

ListPositions_ListPositions.prototype.formatDataRow = function (data) {
  var temp = [];
  var check = [];
  var k = 0;

  for (var i = 0; i < data.length; i++) {
    var result = [{}, data[i].name, data[i].code, {}];
    result.original = data[i];

    if (check[data[i].parent_id] !== undefined) {
      if (check[data[i].parent_id].child === undefined) check[data[i].parent_id].child = [];
      check[data[i].parent_id].child.push(result);
    } else temp[k++] = result;

    check[data[i].id] = result;
  }

  return temp;
};

ListPositions_ListPositions.prototype.getDataCurrent = function () {
  return this.getDataChild(this.mTable.data);
};

ListPositions_ListPositions.prototype.getDataChild = function (arr) {
  var self = this;
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    result.push(arr[i].original);
    if (arr[i].child !== undefined) result = result.concat(self.getDataChild(arr[i].child));
  }

  return result;
};

ListPositions_ListPositions.prototype.addDepartment = function () {
  var parent_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var row = arguments.length > 1 ? arguments[1] : undefined;
  var self = this;
  var mNewDepartment = new component_NewDepartment(undefined, parent_id);
  mNewDepartment.attach(self.parent);
  var frameview = mNewDepartment.getView(self.getDataCurrent());
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.addDBDepartment(mNewDepartment, row);
};

ListPositions_ListPositions.prototype.addDBDepartment = function (mNewDepartment, row) {
  var self = this;
  mNewDepartment.promiseAddDB.then(function (value) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("departments").add(value).then(function (result) {
      self.addViewDepartment(result, row);
      loading.disable();
    });
    mNewDepartment.promiseAddDB = undefined;
    setTimeout(function () {
      if (mNewDepartment.promiseAddDB !== undefined) self.addDBDepartment(mNewDepartment);
    }, 10);
  });
};

ListPositions_ListPositions.prototype.addViewDepartment = function (value, parent) {
  var result = [{}, value.name, value.code, {}];
  result.original = value;
  var element = parent;
  if (value.parent_id == 0) element = this.mTable;else for (var i = 0; i < parent.bodyTable.childNodes.length; i++) {
    if (parent.bodyTable.childNodes[i].data.original.id == value.parent_id) {
      element = parent.bodyTable.childNodes[i];
      break;
    }
  }
  element.insertRow(result);
};

ListPositions_ListPositions.prototype.editDepartment = function (data, parent, index) {
  var self = this;
  var mNewDepartment = new component_NewDepartment(data);
  mNewDepartment.attach(self.parent);
  var frameview = mNewDepartment.getView(self.getDataCurrent());
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDBDepartment(mNewDepartment, data, parent, index);
};

ListPositions_ListPositions.prototype.editDBDepartment = function (mNewDepartment, data, parent, index) {
  var self = this;
  var parent_id = data.original.parent_id;
  mNewDepartment.promiseEditDB.then(function (value) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("departments").update(value).then(function (result) {
      self.editViewDepartment(result, data, parent, index, parent_id);
      loading.disable();
    });
    mNewDepartment.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewDepartment.promiseEditDB !== undefined) self.editDBDepartment(mNewDepartment, data, parent, index);
    }, 10);
  });
};

ListPositions_ListPositions.prototype.editViewDepartment = function (value, data, parent, index, parent_id) {
  var isChangeView = false;

  if (parent_id != value.parent_id) {
    isChangeView = true;
  }

  data[1] = value.name;
  data[2] = value.code;
  var indexOF = index,
      element = parent;

  if (isChangeView === true) {
    var element;
    if (value.parent_id == 0) element = parent.realTable.parentNode;else for (var i = 0; i < parent.bodyTable.childNodes.length; i++) {
      if (parent.bodyTable.childNodes[i].data.original.id == value.parent_id) {
        element = parent.bodyTable.childNodes[i];
        break;
      }
    }
    indexOF = parent.changeParent(index, element);
  }

  element.updateRow(data, indexOF, true);

  if (this.titleInput.data == value.id) {
    this.titleInput.value = value.name;
  }
};

ListPositions_ListPositions.prototype.deleteDepartment = function (data, parent, index) {
  var self = this;
  var deleteItem = deleteQuestion("Xoá danh mục", "Bạn có chắc muốn xóa :" + data.name);
  this.$view.addChild(deleteItem);
  deleteItem.promiseComfirm.then(function () {
    self.deleteDBDepartment(data, parent, index);
  });
};

ListPositions_ListPositions.prototype.deleteViewDepartment = function (parent, index) {
  parent.dropRow(index).then(function () {});
};

ListPositions_ListPositions.prototype.deleteDBDepartment = function (data, parent, index) {
  var self = this;
  var loading = new loadingWheel();
  ModuleDatabase["a" /* default */].getModule("departments")["delete"]({
    id: data.id
  }).then(function (value) {
    self.deleteViewDepartment(parent, index);
    loading.disable();
  });
};

ListPositions_ListPositions.prototype.addPosition = function () {
  var parent_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var row = arguments.length > 1 ? arguments[1] : undefined;
  var self = this;
  var mNewPosition = new component_NewPosition(undefined, parent_id);
  mNewPosition.attach(self.parent);
  mNewPosition.setDataListAccount(self.listAccoutData);
  var frameview = mNewPosition.getView(self.getDataCurrent());
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.addDBPosition(mNewPosition, row);
};

ListPositions_ListPositions.prototype.addDBPosition = function (mNewPosition, row) {
  var self = this;
  mNewPosition.promiseAddDB.then(function (value) {
    var username = value.username;
    delete value.username;
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("positions").add(value).then(function (result) {
      value.id = result.id;

      if (value.username !== undefined) {
        var x = {
          id: username.id,
          positionid: value.id
        };
        ModuleDatabase["a" /* default */].getModule("users").update(x).then(function () {
          self.addViewPosition(value, row);
          loading.disable();
        });
      } else {
        self.addViewPosition(value, row);
        loading.disable();
      }
    });
    mNewPosition.promiseAddDB = undefined;
    setTimeout(function () {
      if (mNewPosition.promiseAddDB !== undefined) self.addDBPosition(mNewPosition);
    }, 10);
  });
};

ListPositions_ListPositions.prototype.addViewPosition = function (value, parent) {
  var arr = this.mTable.getElementsByClassName("choice");
  if (arr.length != 1) return;else arr = arr[0];
  if (value.department_id != arr.data.original.id) return;
  var result = this.getDataRowPosition(value);
  var element = this.mTablePosition;
  element.insertRow(result);
};

ListPositions_ListPositions.prototype.editPosition = function (data, parent, index) {
  var self = this;
  var mNewPosition = new component_NewPosition(data);
  mNewPosition.attach(self.parent);
  var frameview = mNewPosition.getView(self.getDataCurrent());
  mNewPosition.setDataListAccount(self.listAccoutData);
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDBPosition(mNewPosition, data, parent, index);
};

ListPositions_ListPositions.prototype.editDBPosition = function (mNewPosition, data, parent, index) {
  var self = this;
  mNewPosition.promiseEditDB.then(function (result) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("positions").update(result).then(function (value) {
      if (value.username !== undefined && value.username.positionid != value.id) {
        var x = {
          id: value.username.id,
          positionid: value.id
        };
        var promiseAll = [];
        promiseAll.push(ModuleDatabase["a" /* default */].getModule("users").update(x));

        if (self.checkAccount[value.id] !== undefined) {
          var y = {
            id: self.checkAccount[value.id].id,
            positionid: 0
          };
          var promiseAll = [];
          promiseAll.push(ModuleDatabase["a" /* default */].getModule("users").update(y));
        }

        for (var i = 0; i < self.listAccoutData.length; i++) {
          if (self.listAccoutData[i] !== undefined && self.checkAccount[value.id] !== undefined && self.listAccoutData[i].id == self.checkAccount[value.id].id) {
            self.mTablePosition.updateTable(undefined, self.mTablePosition.data);
            self.listAccoutData[i].positionid = 0;
          }

          if (self.listAccoutData[i].id == value.username.id) self.listAccoutData[i].positionid = value.id;
        }

        Promise.all(promiseAll).then(function () {
          delete self.checkAccount[value.username.positionid];
          value.username.positionid = value.id;
          self.checkAccount[value.id] = value.username;
          value.username = undefined;
          self.editViewPosition(value, data, parent, index);
          loading.disable();
        });
      } else self.editViewPosition(value, data, parent, index);
    });
    mNewPosition.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewPosition.promiseEditDB !== undefined) self.editDBPosition(mNewPosition, data, parent, index);
    }, 10);
  });
};

ListPositions_ListPositions.prototype.editViewPosition = function (value, data, parent, index) {
  var data = this.getDataRowPosition(value);
  var indexOF = index,
      element = parent;
  element.updateRow(data, indexOF, true);
};

ListPositions_ListPositions.prototype.deletePosition = function (data, parent, index) {
  var self = this;
  var deleteItem = deleteQuestion("Xoá danh mục", "Bạn có chắc muốn xóa :" + data.name);
  this.$view.addChild(deleteItem);
  deleteItem.promiseComfirm.then(function () {
    self.deleteDBPosition(data, parent, index);
  });
};

ListPositions_ListPositions.prototype.deleteViewPosition = function (parent, index) {
  parent.dropRow(index).then(function () {});
};

ListPositions_ListPositions.prototype.deleteDBPosition = function (data, parent, index) {
  var self = this;
  var loading = new loadingWheel();
  ModuleDatabase["a" /* default */].getModule("positions")["delete"]({
    id: data.id
  }).then(function (value) {
    self.deleteViewPosition(parent, index);
    loading.disable();
  });
};

ListPositions_ListPositions.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

ListPositions_ListPositions.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

ListPositions_ListPositions.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

ListPositions_ListPositions.prototype.start = function () {};

/* harmony default export */ var page_ListPositions = (ListPositions_ListPositions);
// EXTERNAL MODULE: ./css/ListAccount.css
var ListAccount = __webpack_require__(275);

// CONCATENATED MODULE: ./js/page/ListAccount.js












var ListAccount_ = dom_Fcore._;
var ListAccount_$ = dom_Fcore.$;

function ListAccount_ListAccount() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

ListAccount_ListAccount.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(ListAccount_ListAccount.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
ListAccount_ListAccount.prototype.constructor = ListAccount_ListAccount;

ListAccount_ListAccount.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;

  var input = ListAccount_({
    tag: "input",
    "class": "quantumWizTextinputPaperinputInput",
    on: {
      change: function change() {
        self.mTable.updatePagination(this.value);
      }
    },
    props: {
      type: "number",
      autocomplete: "off",
      min: 1,
      max: 200,
      step: 1,
      value: 50
    }
  });

  var allinput = ListAccount_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    props: {
      placeholder: "Tìm kiếm"
    }
  });

  if (BrowserDetector["a" /* default */].isMobile) {
    allinput.placeholder = "Tìm kiếm";
  }

  this.$view = ListAccount_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Quản lý tài khoản"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-allinput",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-page-allinput-container",
          child: [allinput, {
            tag: "button",
            "class": "pizo-list-realty-page-allinput-search",
            child: [{
              tag: 'i',
              "class": 'material-icons',
              props: {
                innerHTML: 'search'
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-page-allinput-filter",
          on: {
            click: function click(event) {
              self.searchControl.show();
            }
          },
          child: [{
            tag: 'filter-ico'
          }, {
            tag: "span",
            "class": "navbar-search__filter-text",
            props: {
              innerHTML: "Lọc"
            }
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-number-line",
        child: [input, {
          tag: "span",
          "class": "freebirdFormeditorViewAssessmentWidgetsPointsLabel",
          props: {
            innerHTML: "Số dòng"
          }
        }]
      }]
    }]
  });

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(2) !== -1) {
    ListAccount_$("div.pizo-list-realty-button", this.$view).appendChild(ListAccount_({
      tag: "button",
      "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
      on: {
        click: function click(evt) {
          self.add();
        }
      },
      child: ['<span>' + "Thêm" + '</span>']
    }));
  }

  var tabContainer = ListAccount_({
    tag: "div",
    "class": ["pizo-list-realty-main-result-control", "drag-zone-bg"],
    child: []
  });

  var docTypeMemuProps, token, functionX;
  token = "showMenu";

  var functionClickMore = function functionClickMore(event, me, index, parent, data, row) {
    if (token == absol.QuickMenu._session) {
      token = "showMenu";
      return;
    }

    docTypeMemuProps = {
      items: []
    };

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(3) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Sửa',
        icon: 'span.mdi.mdi-text-short',
        value: 1
      });
    }

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(4) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Xóa',
        icon: 'span.mdi.mdi-text',
        value: 2
      });
    }

    token = absol.QuickMenu.show(me, docTypeMemuProps, [3, 4], function (menuItem) {
      switch (menuItem.value) {
        case 0:
          self.add(data.original.id, row);
          break;

        case 1:
          self.edit(data, parent, index);
          break;

        case 2:
          self["delete"](data.original, parent, index);
          break;
      }
    });

    functionX = function (token) {
      return function () {
        var x = function x(event) {
          absol.QuickMenu.close(token);
          document.body.removeEventListener("click", x);
        };

        document.body.addEventListener("click", x);
      };
    }(token);

    setTimeout(functionX, 10);
  };

  var arr = [];
  arr.push(ModuleDatabase["a" /* default */].getModule("users").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("positions").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("wards").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("districts").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("states").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("contacts").load());
  Promise.all(arr).then(function (values) {
    var value = values[0];
    var listParam = values[1];
    self.setListParam(listParam);
    var header = [{
      type: "increase",
      value: "#",
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'MS',
      sort: true,
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'Họ và tên',
      sort: true,
      style: {
        minWidth: "unset"
      }
    }, {
      value: 'Số điện thoại',
      style: {
        minWidth: "90px",
        width: "90px"
      }
    }, {
      value: 'Email',
      sort: true,
      style: {
        minWidth: "unset"
      }
    }, {
      value: 'Chức danh',
      sort: true,
      style: {
        minWidth: "100px",
        width: "100px"
      }
    }, {
      value: 'Truy cập lần cuối',
      sort: true,
      style: {
        minWidth: "140px",
        width: "140px"
      }
    }, {
      value: 'Hoạt động',
      sort: true,
      style: {
        minWidth: "105px",
        width: "105px"
      }
    }, {
      type: "detail",
      functionClickAll: functionClickMore,
      icon: "",
      dragElement: false,
      style: {
        width: "30px"
      }
    }];
    self.mTable = new tableView(header, self.formatDataRow(value), false, true, 2);
    tabContainer.addChild(self.mTable);
    self.mTable.addInputSearch(ListAccount_$('.pizo-list-realty-page-allinput-container input', self.$view));
    self.listParent.updateItemList(listParam);
  });
  this.searchControl = this.searchControlContent();
  this.$view.addChild(ListAccount_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [this.searchControl, tabContainer]
  }));
  return this.$view;
};

ListAccount_ListAccount.prototype.setListParam = function (value) {
  this.checkPosition = [];
  this.listParam = [];

  for (var i = 0; i < value.length; i++) {
    this.checkPosition[value[i].id] = value[i];
    this.listParam[i] = {
      text: value[i].name,
      value: value[i].id
    };
  }

  this.isLoaded = true;
};

ListAccount_ListAccount.prototype.getDataParam = function () {
  return this.listParam;
};

ListAccount_ListAccount.prototype.formatDataRow = function (data) {
  var temp = [];
  var check = [];
  var k = 0;

  for (var i = 0; i < data.length; i++) {
    var result = this.getDataRow(data[i]);

    if (check[data[i].parent_id] !== undefined) {
      if (check[data[i].parent_id].child === undefined) check[data[i].parent_id].child = [];
      check[data[i].parent_id].child.push(result);
    } else temp[k++] = result;

    check[data[i].id] = result;
  }

  return temp;
};

ListAccount_ListAccount.prototype.getDataRow = function (data) {
  var name;
  if (this.checkPosition[parseInt(data.positionid)] == undefined) name = "";else name = this.checkPosition[parseInt(data.positionid)].name;
  var result = [{}, data.id, {
    value: data.name,
    style: {
      whiteSpace: "nowrap"
    }
  }, data.phone, data.email, name, {}, parseInt(data.status) ? "Có" : "Không", {}];
  result.original = data;
  return result;
};

ListAccount_ListAccount.prototype.formatDataList = function (data) {
  var temp = [{
    text: "Tất cả",
    value: 0
  }];

  for (var i = 0; i < data.length; i++) {
    temp[i + 1] = {
      text: data[i].name,
      value: data[i].id
    };
  }

  return temp;
};

ListAccount_ListAccount.prototype.searchControlContent = function () {
  var startDay, endDay, startDay1, endDay1;
  var self = this;
  startDay = ListAccount_({
    tag: 'calendar-input',
    data: {
      anchor: 'top',
      value: new Date(new Date().getFullYear(), 0, 1),
      maxDateLimit: new Date()
    },
    on: {
      changed: function changed(date) {
        endDay.minDateLimit = date;
      }
    }
  });
  endDay = ListAccount_({
    tag: 'calendar-input',
    data: {
      anchor: 'top',
      value: new Date(),
      minDateLimit: new Date()
    },
    on: {
      changed: function changed(date) {
        startDay.maxDateLimit = date;
      }
    }
  });
  startDay1 = ListAccount_({
    tag: 'calendar-input',
    data: {
      anchor: 'top',
      value: new Date(new Date().getFullYear(), 0, 1),
      maxDateLimit: new Date()
    },
    on: {
      changed: function changed(date) {
        endDay1.minDateLimit = date;
      }
    }
  });
  endDay1 = ListAccount_({
    tag: 'calendar-input',
    data: {
      anchor: 'top',
      value: new Date(),
      minDateLimit: new Date()
    },
    on: {
      changed: function changed(date) {
        startDay1.maxDateLimit = date;
      }
    }
  });
  self.listParent = ListAccount_({
    tag: "selectmenu",
    props: {
      enableSearch: true,
      items: [{
        text: "Tất cả",
        value: 0
      }]
    }
  });
  self.listStatus = ListAccount_({
    tag: "selectmenu",
    props: {
      items: [{
        text: "Tất cả",
        value: 0
      }, {
        text: "Đang hoạt động",
        value: 1
      }, {
        text: "Đã bị cấm",
        value: 2
      }]
    }
  });

  self.listParent.updateItemList = function (value) {
    self.listParent.items = self.formatDataList(value);
  };

  var content = ListAccount_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control-container",
    on: {
      click: function click(event) {
        event.stopPropagation();
      }
    },
    child: [{
      tag: "div",
      "class": "pizo-list-realty-main-search-control-container-scroller",
      child: [{
        tag: "div",
        "class": "pizo-list-realty-main-search-control-row",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-positions",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-state-district-label",
            props: {
              innerHTML: "Chức vụ"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-state-district-input",
            child: [self.listParent]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-main-search-control-row-status",
          child: [{
            tag: "span",
            "class": "pizo-list-realty-main-search-control-row-state-district-label",
            props: {
              innerHTML: "Trạng thái"
            }
          }, {
            tag: "div",
            "class": "pizo-list-realty-main-search-control-row-state-district-input",
            child: [self.listStatus]
          }]
        } // {
        //     tag:"div",
        //     class:"pizo-list-realty-main-search-control-row-phone",
        //     child:[
        //         {
        //             tag:"span",
        //             class:"pizo-list-realty-main-search-control-row-phone-label",
        //             props:{
        //                 innerHTML:"Ngày tạo"
        //             }
        //         },
        //         {
        //             tag:"div",
        //             class:"pizo-list-realty-main-search-control-row-date-input",
        //             child:[
        //                 startDay,
        //                 endDay
        //             ]
        //         }
        //     ]
        // },
        // {
        //     tag:"div",
        //     class:"pizo-list-realty-main-search-control-row-phone",
        //     child:[
        //         {
        //             tag:"span",
        //             class:"pizo-list-realty-main-search-control-row-phone-label",
        //             props:{
        //                 innerHTML:"Ngày cập nhật"
        //             }
        //         },
        //         {
        //             tag:"div",
        //             class:"pizo-list-realty-main-search-control-row-date-input",
        //             child:[
        //                 startDay1,
        //                 endDay1
        //             ]
        //         }
        //     ]
        // },
        // {
        //     tag:"div",
        //     class:"pizo-list-realty-main-search-control-row-button",
        //     child:[
        //         {
        //             tag: "button",
        //             class: ["pizo-list-realty-button-deleteall","pizo-list-realty-button-element"],
        //             on: {
        //                 click: function (evt) {
        //                     temp.reset();
        //                 }
        //             },
        //             child: [
        //             '<span>' + "Thiết lập lại" + '</span>'
        //             ]
        //         }
        //     ]
        // },
        ]
      }]
    }]
  });

  var temp = ListAccount_({
    tag: "div",
    "class": "pizo-list-realty-main-search-control",
    on: {
      click: function click(event) {
        this.hide();
      }
    },
    child: [content]
  });

  temp.content = content;
  content.timestart = startDay;
  content.timeend = endDay;

  temp.show = function () {
    if (!temp.classList.contains("showTranslate")) temp.classList.add("showTranslate");
  };

  temp.hide = function () {
    if (!content.classList.contains("hideTranslate")) content.classList.add("hideTranslate");

    var eventEnd = function eventEnd() {
      if (temp.classList.contains("showTranslate")) temp.classList.remove("showTranslate");
      content.classList.remove("hideTranslate");
      content.removeEventListener("webkitTransitionEnd", eventEnd);
      content.removeEventListener("transitionend", eventEnd);
    }; // Code for Safari 3.1 to 6.0


    content.addEventListener("webkitTransitionEnd", eventEnd); // Standard syntax

    content.addEventListener("transitionend", eventEnd);
  };

  temp.apply = function () {};

  temp.reset = function () {
    content.timestart = new Date();
    content.timeend = new Date();
  };

  return temp;
};

ListAccount_ListAccount.prototype.getDataCurrent = function () {
  return this.getDataChild(this.mTable.data);
};

ListAccount_ListAccount.prototype.getDataChild = function (arr) {
  var self = this;
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    result.push(arr[i].original);
    if (arr[i].child.length !== 0) result = result.concat(self.getDataChild(arr[i].child));
  }

  return result;
};

ListAccount_ListAccount.prototype.add = function () {
  var parent_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var row = arguments.length > 1 ? arguments[1] : undefined;
  if (!this.isLoaded) return;
  var self = this;
  var mNewAccount = new component_NewAccount(undefined, parent_id);
  mNewAccount.attach(self.parent);
  var frameview = mNewAccount.getView(self.getDataParam());
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.addDB(mNewAccount, row);
};

ListAccount_ListAccount.prototype.addDB = function (mNewAccount, row) {
  var self = this;
  mNewAccount.promiseAddDB.then(function (value) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("users").add(value).then(function (result) {
      self.addView(result, row);
      loading.disable();
    });
    mNewAccount.promiseAddDB = undefined;
    setTimeout(function () {
      if (mNewAccount.promiseAddDB !== undefined) self.addDB(mNewAccount);
    }, 10);
  });
};

ListAccount_ListAccount.prototype.addView = function (value, parent) {
  var result = this.getDataRow(value);
  var element = this.mTable;
  element.insertRow(result);
};

ListAccount_ListAccount.prototype.edit = function (data, parent, index) {
  if (!this.isLoaded) return;
  var self = this;
  var mNewAccount = new component_NewAccount(data);
  mNewAccount.attach(self.parent);
  var frameview = mNewAccount.getView(self.getDataParam());
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDB(mNewAccount, data, parent, index);
};

ListAccount_ListAccount.prototype.editDB = function (mNewAccount, data, parent, index) {
  var self = this;
  mNewAccount.promiseEditDB.then(function (value) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("users").update(value).then(function (result) {
      self.editView(value, data, parent, index);
      loading.disable();
    });
    mNewAccount.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewAccount.promiseEditDB !== undefined) {
        self.editDB(mNewAccount, data, parent, index);
      }
    }, 10);
  });
};

ListAccount_ListAccount.prototype.editView = function (value, data, parent, index) {
  value.created = data.original.created;
  value.modified = getGMT();
  var data = this.getDataRow(value);
  var indexOF = index,
      element = parent;
  element.updateRow(data, indexOF, true);
};

ListAccount_ListAccount.prototype["delete"] = function (data, parent, index) {
  if (!this.isLoaded) return;
  var self = this;
  var deleteItem = deleteQuestion("Xoá danh mục", "Bạn có chắc muốn xóa :" + data.name);
  this.$view.addChild(deleteItem);
  deleteItem.promiseComfirm.then(function () {
    self.deleteDB(data, parent, index);
  });
};

ListAccount_ListAccount.prototype.deleteView = function (parent, index) {
  parent.dropRow(index).then(function () {});
};

ListAccount_ListAccount.prototype.deleteDB = function (data, parent, index) {
  var self = this;
  var loading = new loadingWheel();
  ModuleDatabase["a" /* default */].getModule("users")["delete"]({
    id: data.id
  }).then(function (value) {
    self.deleteView(parent, index);
    loading.disable();
  });
};

ListAccount_ListAccount.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

ListAccount_ListAccount.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

ListAccount_ListAccount.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

ListAccount_ListAccount.prototype.start = function () {};

/* harmony default export */ var page_ListAccount = (ListAccount_ListAccount);
// EXTERNAL MODULE: ./css/ListContact.css
var ListContact = __webpack_require__(277);

// CONCATENATED MODULE: ./js/page/ListContact.js











var ListContact_ = dom_Fcore._;
var ListContact_$ = dom_Fcore.$;

function ListContact_ListContact() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

ListContact_ListContact.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(ListContact_ListContact.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
ListContact_ListContact.prototype.constructor = ListContact_ListContact;

ListContact_ListContact.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;

  var input = ListContact_({
    tag: "input",
    "class": "quantumWizTextinputPaperinputInput",
    on: {
      change: function change() {
        self.mTable.updatePagination(this.value);
      }
    },
    props: {
      type: "number",
      autocomplete: "off",
      min: 1,
      max: 200,
      step: 1,
      value: 50
    }
  });

  var allinput = ListContact_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    props: {
      placeholder: "Tìm kiếm"
    }
  });

  if (BrowserDetector["a" /* default */].isMobile) {
    allinput.placeholder = "Tìm kiếm";
  }

  this.$view = ListContact_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Quản lý thông tin liên hệ"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-allinput",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-page-allinput-container",
          child: [allinput, {
            tag: "button",
            "class": "pizo-list-realty-page-allinput-search",
            child: [{
              tag: 'i',
              "class": 'material-icons',
              props: {
                innerHTML: 'search'
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-page-allinput-filter",
          on: {
            click: function click(event) {
              self.searchControl.show();
            }
          },
          child: [{
            tag: 'filter-ico'
          }, {
            tag: "span",
            "class": "navbar-search__filter-text",
            props: {
              innerHTML: "Lọc"
            }
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-number-line",
        child: [input, {
          tag: "span",
          "class": "freebirdFormeditorViewAssessmentWidgetsPointsLabel",
          props: {
            innerHTML: "Số dòng"
          }
        }]
      }]
    }]
  });

  var tabContainer = ListContact_({
    tag: "div",
    "class": ["pizo-list-realty-main-result-control", "drag-zone-bg"],
    child: []
  });

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(10) !== -1) {
    ListContact_$("div.pizo-list-realty-button", this.$view).appendChild(ListContact_({
      tag: "button",
      "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
      on: {
        click: function click(evt) {
          self.add();
        }
      },
      child: ['<span>' + "Thêm" + '</span>']
    }));
  }

  var docTypeMemuProps, token, functionX;
  token = "showMenu";

  var functionClickMore = function functionClickMore(event, me, index, parent, data, row) {
    if (token == absol.QuickMenu._session) {
      token = "showMenu";
      return;
    }

    docTypeMemuProps = {
      items: []
    };

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(11) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Sửa',
        icon: 'span.mdi.mdi-text-short',
        value: 1
      });
    }

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(12) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Xóa',
        icon: 'span.mdi.mdi-text',
        value: 2
      });
    }

    token = absol.QuickMenu.show(me, docTypeMemuProps, [3, 4], function (menuItem) {
      switch (menuItem.value) {
        case 1:
          self.edit(data, parent, index);
          break;

        case 2:
          self["delete"](data.original, parent, index);
          break;
      }
    });

    functionX = function (token) {
      return function () {
        var x = function x(event) {
          absol.QuickMenu.close(token);
          document.body.removeEventListener("click", x);
        };

        document.body.addEventListener("click", x);
      };
    }(token);

    setTimeout(functionX, 10);
  };

  var arr = [];
  arr.push(ModuleDatabase["a" /* default */].getModule("contacts").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("users").load());
  Promise.all(arr).then(function (values) {
    var value = values[0];
    var header = [{
      type: "increase",
      value: "#",
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'MS',
      sort: true,
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'Tên',
      sort: true,
      style: {
        minWidth: "unset"
      }
    }, {
      value: 'Email',
      sort: true,
      style: {
        minWidth: "unset"
      }
    }, {
      value: 'Số điện thoại',
      sort: true,
      style: {
        minWidth: "200px",
        width: "200px"
      }
    }, {
      value: 'Tình trạng cuộc gọi',
      sort: true,
      style: {
        minWidth: "200px",
        width: "200px"
      }
    }, {
      type: "detail",
      functionClickAll: functionClickMore,
      icon: "",
      dragElement: false,
      style: {
        width: "30px"
      }
    }];
    self.mTable = new tableView(header, self.formatDataRow(value), false, true, 2);
    tabContainer.addChild(self.mTable);
    self.mTable.addInputSearch(ListContact_$('.pizo-list-realty-page-allinput-container input', self.$view));
  });
  this.searchControl = this.searchControlContent();
  this.$view.addChild(ListContact_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [this.searchControl, tabContainer]
  }));
  return this.$view;
};

ListContact_ListContact.prototype.setListParam = function (value) {
  this.checkNation = [];
  this.listParam = [];

  for (var i = 0; i < value.length; i++) {
    this.checkNation[value[i].id] = value[i];
    this.listParam[i] = {
      text: value[i].name,
      value: value[i].id
    };
  }

  this.isLoaded = true;
};

ListContact_ListContact.prototype.getDataParam = function () {
  return this.listParam;
};

ListContact_ListContact.prototype.formatDataRow = function (data) {
  var temp = [];
  var check = [];
  var k = 0;

  for (var i = 0; i < data.length; i++) {
    var result = this.getDataRow(data[i]);

    if (check[data[i].parent_id] !== undefined) {
      if (check[data[i].parent_id].child === undefined) check[data[i].parent_id].child = [];
      check[data[i].parent_id].child.push(result);
    } else temp[k++] = result;

    check[data[i].id] = result;
  }

  return temp;
};

ListContact_ListContact.prototype.getDataRow = function (data) {
  var status;

  switch (parseInt(data.statusphone)) {
    case 0:
      status = "Sai số";
      break;

    case 1:
      status = "Còn hoạt động";
      break;

    case 2:
      status = "Gọi lại sau";
      break;

    case 3:
      status = "Bỏ qua";
      break;

    case 4:
      status = "Khóa máy";
      break;
  }

  var result = [{}, data.id, data.name, data.email, data.phone, status, {}];
  result.original = data;
  return result;
};

ListContact_ListContact.prototype.formatDataList = function (data) {
  var temp = [{
    text: "Tất cả",
    value: 0
  }];

  for (var i = 0; i < data.length; i++) {
    temp[i + 1] = {
      text: data[i].name,
      value: data[i].id
    };
  }

  return temp;
};

ListContact_ListContact.prototype.searchControlContent = function () {
  var content = ListContact_({
    tag: "div"
  });

  var temp = ListContact_({
    tag: "div",
    style: {
      display: "none"
    },
    child: [content]
  });

  temp.show = function () {
    if (!temp.classList.contains("showTranslate")) temp.classList.add("showTranslate");
  };

  temp.hide = function () {
    if (!content.classList.contains("hideTranslate")) content.classList.add("hideTranslate");

    var eventEnd = function eventEnd() {
      if (temp.classList.contains("showTranslate")) temp.classList.remove("showTranslate");
      content.classList.remove("hideTranslate");
      content.removeEventListener("webkitTransitionEnd", eventEnd);
      content.removeEventListener("transitionend", eventEnd);
    }; // Code for Safari 3.1 to 6.0


    content.addEventListener("webkitTransitionEnd", eventEnd); // Standard syntax

    content.addEventListener("transitionend", eventEnd);
  };

  temp.apply = function () {};

  temp.reset = function () {
    content.timestart = new Date();
    content.timeend = new Date();
  };

  return temp;
};

ListContact_ListContact.prototype.getDataCurrent = function () {
  return this.getDataChild(this.mTable.data);
};

ListContact_ListContact.prototype.getDataChild = function (arr) {
  var self = this;
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    result.push(arr[i].original);
    if (arr[i].child.length !== 0) result = result.concat(self.getDataChild(arr[i].child));
  }

  return result;
};

ListContact_ListContact.prototype.add = function () {
  var parent_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var row = arguments.length > 1 ? arguments[1] : undefined;
  var self = this;
  var mNewContact = new component_NewContact(undefined, parent_id);
  mNewContact.attach(self.parent);
  var frameview = mNewContact.getView();
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.addDB(mNewContact, row);
};

ListContact_ListContact.prototype.addDB = function (mNewContact, row) {
  var self = this;
  mNewContact.promiseAddDB.then(function (value) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("contacts").add(value).then(function (result) {
      self.addView(result, row);
      loading.disable();
    });
    mNewContact.promiseAddDB = undefined;
    setTimeout(function () {
      if (mNewContact.promiseAddDB !== undefined) self.addDB(mNewContact);
    }, 10);
  });
};

ListContact_ListContact.prototype.addView = function (value, parent) {
  var result = this.getDataRow(value);
  var element = this.mTable;
  element.insertRow(result);
};

ListContact_ListContact.prototype.edit = function (data, parent, index) {
  var self = this;
  var mNewContact = new component_NewContact(data);
  mNewContact.attach(self.parent);
  var frameview = mNewContact.getView(self.getDataParam());
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDB(mNewContact, data, parent, index);
};

ListContact_ListContact.prototype.editDB = function (mNewContact, data, parent, index) {
  var self = this;
  mNewContact.promiseEditDB.then(function (value) {
    var loading = new loadingWheel();
    value.id = data.original.id;
    ModuleDatabase["a" /* default */].getModule("contacts").update(value).then(function (result) {
      self.editView(value, data, parent, index);
      loading.disable();
    });
    mNewContact.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewContact.promiseEditDB !== undefined) self.editDB(mNewContact, data, parent, index);
    }, 10);
  });
};

ListContact_ListContact.prototype.editView = function (value, data, parent, index) {
  var data = this.getDataRow(value);
  var indexOF = index,
      element = parent;
  element.updateRow(data, indexOF, true);
};

ListContact_ListContact.prototype["delete"] = function (data, parent, index) {
  var self = this;
  var deleteItem = deleteQuestion("Xoá danh mục", "Bạn có chắc muốn xóa :" + data.name);
  this.$view.addChild(deleteItem);
  deleteItem.promiseComfirm.then(function () {
    self.deleteDB(data, parent, index);
  });
};

ListContact_ListContact.prototype.deleteView = function (parent, index) {
  var self = this;
  var bodyTable = parent.bodyTable;
  parent.dropRow(index).then(function () {});
};

ListContact_ListContact.prototype.deleteDB = function (data, parent, index) {
  var self = this;
  var loading = new loadingWheel();
  ModuleDatabase["a" /* default */].getModule("contacts")["delete"]({
    id: data.id
  }).then(function (value) {
    self.deleteView(parent, index);
    loading.disable();
  });
};

ListContact_ListContact.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

ListContact_ListContact.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.contact == "RUNNING") this.flushDataToView();
};

ListContact_ListContact.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

ListContact_ListContact.prototype.start = function () {};

/* harmony default export */ var page_ListContact = (ListContact_ListContact);
// EXTERNAL MODULE: ./css/ListEquipment.css
var ListEquipment = __webpack_require__(279);

// EXTERNAL MODULE: ./css/NewEquipment.css
var NewEquipment = __webpack_require__(281);

// CONCATENATED MODULE: ./js/component/NewEquipment.js







var NewEquipment_ = dom_Fcore._;
var NewEquipment_$ = dom_Fcore.$;

function NewEquipment_NewEquipment(data) {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.textHeader = "Sửa ";
  this.data = data;
  if (this.data == undefined) this.textHeader = "Thêm ";
}

NewEquipment_NewEquipment.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(NewEquipment_NewEquipment.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
NewEquipment_NewEquipment.prototype.constructor = NewEquipment_NewEquipment;

NewEquipment_NewEquipment.prototype.getDataSave = function () {
  return {
    id: this.data === undefined ? undefined : this.data.original.id,
    name: this.name.value,
    type: this.type.value,
    districtid: this.district.value
  };
};

NewEquipment_NewEquipment.prototype.createPromise = function () {
  var self = this;

  if (this.data === undefined) {
    self.promiseAddDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  } else {
    self.promiseEditDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  }
};

NewEquipment_NewEquipment.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;
  this.$view = NewEquipment_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: self.textHeader + "Tỉnh/TP"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
              self.rejectDB(self.getDataSave());
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.createPromise();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Lưu và đóng" + '</span>']
        }]
      }]
    }]
  });
  var data = ModuleDatabase["a" /* default */].getModule("equipments").data;
  var libary = [];
  var items = [];

  for (var i = 0; i < data.length; i++) {
    if (libary[data[i].type] === undefined) {
      libary[data[i].type] = 1;
      items.push({
        text: data[i].type,
        value: data[i].type
      });
    }
  }

  items.sort();
  console.log(items);
  this.$view.addChild(NewEquipment_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [{
      tag: "div",
      "class": ["pizo-list-realty-main-result-control"],
      child: [{
        tag: "div",
        "class": "pizo-new-state-container",
        child: [{
          tag: "div",
          "class": "pizo-new-state-container-name-container",
          child: [{
            tag: "span",
            "class": "pizo-new-state-container-name-container-label",
            props: {
              innerHTML: "Tên"
            }
          }, {
            tag: "input",
            "class": ["pizo-new-state-container-name-container-input", "pizo-new-realty-dectruct-input"]
          }]
        }, {
          tag: "div",
          "class": "pizo-new-state-container-type-container",
          child: [{
            tag: "span",
            "class": "pizo-new-state-container-type-container-label",
            props: {
              innerHTML: "Loại"
            }
          }, {
            tag: "selectmenu",
            "class": "pizo-new-state-container-type-container-input",
            style: {
              padding: 0
            },
            props: {
              items: [{
                text: "Số lượng",
                value: 0
              }, {
                text: "Có không",
                value: 1
              } //    {text:"Chú thích",value:2}
              ]
            }
          }]
        }, {
          tag: "div",
          "class": "pizo-new-state-container-nation-container",
          child: [{
            tag: "span",
            "class": "pizo-new-state-container-nation-container-label",
            props: {
              innerHTML: "Có sẳn"
            }
          }, {
            tag: "div",
            "class": "pizo-new-state-container-nation-container-input",
            style: {
              border: "none",
              justifyContent: "unset"
            },
            child: [{
              tag: "switch",
              "class": "pizo-new-state-container-nation-container-input-switch"
            }]
          }]
        }]
      }]
    }]
  }));
  this.createPromise();
  this.name = NewEquipment_$('input.pizo-new-state-container-name-container-input"', this.$view);
  this.type = NewEquipment_$('div.pizo-new-state-container-type-container-input', this.$view);
  this.available = NewEquipment_$('label.pizo-new-state-container-nation-container-input-switch', this.$view);

  if (this.data !== undefined) {
    this.name.value = this.data.original.name;
    this.type.value = this.data.original.type;
    this.available.checked = this.data.original.available == 1 ? true : false;
  }

  return this.$view;
};

NewEquipment_NewEquipment.prototype.getDataSave = function () {
  var temp = {
    name: this.name.value,
    type: this.type.value,
    available: this.available.checked === true ? 1 : 0
  };
  if (this.data !== undefined) temp.id = this.data.original.id;
  return temp;
};

NewEquipment_NewEquipment.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

NewEquipment_NewEquipment.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

NewEquipment_NewEquipment.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

NewEquipment_NewEquipment.prototype.start = function () {};

/* harmony default export */ var component_NewEquipment = (NewEquipment_NewEquipment);
// CONCATENATED MODULE: ./js/page/ListEquipment.js












var ListEquipment_ = dom_Fcore._;
var ListEquipment_$ = dom_Fcore.$;

function ListEquipment_ListEquipment() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

ListEquipment_ListEquipment.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(ListEquipment_ListEquipment.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
ListEquipment_ListEquipment.prototype.constructor = ListEquipment_ListEquipment;

ListEquipment_ListEquipment.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;

  var input = ListEquipment_({
    tag: "input",
    "class": "quantumWizTextinputPaperinputInput",
    on: {
      change: function change() {
        self.mTable.updatePagination(this.value);
      }
    },
    props: {
      type: "number",
      autocomplete: "off",
      min: 1,
      max: 200,
      step: 1,
      value: 50
    }
  });

  var allinput = ListEquipment_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    props: {
      placeholder: "Tìm kiếm"
    }
  });

  if (BrowserDetector["a" /* default */].isMobile) {
    allinput.placeholder = "Tìm kiếm";
  }

  this.$view = ListEquipment_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Quản lý tiện ích trong nhà"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-allinput",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-page-allinput-container",
          child: [allinput, {
            tag: "button",
            "class": "pizo-list-realty-page-allinput-search",
            child: [{
              tag: 'i',
              "class": 'material-icons',
              props: {
                innerHTML: 'search'
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-page-allinput-filter",
          on: {
            click: function click(event) {
              self.searchControl.show();
            }
          },
          child: [{
            tag: 'filter-ico'
          }, {
            tag: "span",
            "class": "navbar-search__filter-text",
            props: {
              innerHTML: "Lọc"
            }
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-number-line",
        child: [input, {
          tag: "span",
          "class": "freebirdFormeditorViewAssessmentWidgetsPointsLabel",
          props: {
            innerHTML: "Số dòng"
          }
        }]
      }]
    }]
  });

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(34) !== -1) {
    ListEquipment_$("div.pizo-list-realty-button", this.$view).appendChild(ListEquipment_({
      tag: "button",
      "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
      on: {
        click: function click(evt) {
          self.add();
        }
      },
      child: ['<span>' + "Thêm" + '</span>']
    }));
  }

  var tabContainer = ListEquipment_({
    tag: "div",
    "class": ["pizo-list-realty-main-result-control", "drag-zone-bg"],
    child: []
  });

  var docTypeMemuProps, token, functionX;
  token = "showMenu";

  var functionClickMore = function functionClickMore(event, me, index, parent, data, row) {
    if (token == absol.QuickMenu._session) {
      token = "showMenu";
      return;
    }

    docTypeMemuProps = {
      items: []
    };

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(35) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Sửa',
        icon: 'span.mdi.mdi-text-short',
        value: 1
      });
    }

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(36) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Xóa',
        icon: 'span.mdi.mdi-text',
        value: 2
      });
    }

    token = absol.QuickMenu.show(me, docTypeMemuProps, [3, 4], function (menuItem) {
      switch (menuItem.value) {
        case 1:
          self.edit(data, parent, index);
          break;

        case 2:
          self["delete"](data.original, parent, index);
          break;
      }
    });

    functionX = function (token) {
      return function () {
        var x = function x(event) {
          absol.QuickMenu.close(token);
          document.body.removeEventListener("click", x);
        };

        document.body.addEventListener("click", x);
      };
    }(token);

    setTimeout(functionX, 10);
  };

  var equipmentModule = ModuleDatabase["a" /* default */].getModule("equipments");
  equipmentModule.load().then(function (value) {
    var header = [{
      type: "increase",
      value: "#",
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'MS',
      sort: true,
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'Tên',
      sort: true,
      style: {
        minWidth: "unset"
      }
    }, {
      value: 'Loại',
      sort: true,
      style: {
        minWidth: "200px",
        width: "200px"
      }
    }, {
      value: 'Có sẳn',
      sort: true,
      style: {
        minWidth: "200px",
        width: "200px"
      }
    }, {
      value: 'Ngày tạo',
      sort: true,
      style: {
        minWidth: "200px",
        width: "200px"
      }
    }, {
      type: "detail",
      functionClickAll: functionClickMore,
      icon: "",
      dragElement: false,
      style: {
        width: "30px"
      }
    }];
    console.log(self.formatDataRow(value));
    self.mTable = new tableView(header, self.formatDataRow(value), false, true, 2);
    tabContainer.addChild(self.mTable);
    self.mTable.addInputSearch(ListEquipment_$('.pizo-list-realty-page-allinput-container input', self.$view));
  });
  this.searchControl = this.searchControlContent();
  this.$view.addChild(ListEquipment_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [this.searchControl, tabContainer]
  }));
  return this.$view;
};

ListEquipment_ListEquipment.prototype.getDataParam = function () {
  return this.listParam;
};

ListEquipment_ListEquipment.prototype.formatDataRow = function (data) {
  var temp = [];
  var check = [];
  var k = 0;

  for (var i = 0; i < data.length; i++) {
    var result = this.getDataRow(data[i]);

    if (check[data[i].parent_id] !== undefined) {
      if (check[data[i].parent_id].child === undefined) check[data[i].parent_id].child = [];
      check[data[i].parent_id].child.push(result);
    } else temp[k++] = result;

    check[data[i].id] = result;
  }

  return temp;
};

ListEquipment_ListEquipment.prototype.getDataRow = function (data) {
  var type;

  switch (parseInt(data.type)) {
    case 0:
      type = "Số lượng";
      break;

    case 1:
      type = "Có không";
      break;

    case 2:
      type = "Chú thích";
      break;
  }

  var result = [{}, data.id, data.name, type, data.available == 1 ? "Có" : "Không", formatDate(data.created, true, true, true, true, true), {}];
  result.original = data;
  return result;
};

ListEquipment_ListEquipment.prototype.formatDataList = function (data) {
  var temp = [{
    text: "Tất cả",
    value: 0
  }];

  for (var i = 0; i < data.length; i++) {
    temp[i + 1] = {
      text: data[i].name,
      value: data[i].id
    };
  }

  return temp;
};

ListEquipment_ListEquipment.prototype.searchControlContent = function () {
  var content = ListEquipment_({
    tag: "div"
  });

  var temp = ListEquipment_({
    tag: "div",
    style: {
      display: "none"
    },
    child: [content]
  });

  temp.show = function () {
    if (!temp.classList.contains("showTranslate")) temp.classList.add("showTranslate");
  };

  temp.hide = function () {
    if (!content.classList.contains("hideTranslate")) content.classList.add("hideTranslate");

    var eventEnd = function eventEnd() {
      if (temp.classList.contains("showTranslate")) temp.classList.remove("showTranslate");
      content.classList.remove("hideTranslate");
      content.removeEventListener("webkitTransitionEnd", eventEnd);
      content.removeEventListener("transitionend", eventEnd);
    }; // Code for Safari 3.1 to 6.0


    content.addEventListener("webkitTransitionEnd", eventEnd); // Standard syntax

    content.addEventListener("transitionend", eventEnd);
  };

  temp.apply = function () {};

  temp.reset = function () {
    content.timestart = new Date();
    content.timeend = new Date();
  };

  return temp;
};

ListEquipment_ListEquipment.prototype.getDataCurrent = function () {
  return this.getDataChild(this.mTable.data);
};

ListEquipment_ListEquipment.prototype.getDataChild = function (arr) {
  var self = this;
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    result.push(arr[i].original);
    if (arr[i].child.length !== 0) result = result.concat(self.getDataChild(arr[i].child));
  }

  return result;
};

ListEquipment_ListEquipment.prototype.add = function () {
  var parent_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var row = arguments.length > 1 ? arguments[1] : undefined;
  var self = this;
  var mNewEquipment = new component_NewEquipment(undefined, parent_id);
  mNewEquipment.attach(self.parent);
  var frameview = mNewEquipment.getView(self.getDataParam());
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.addDB(mNewEquipment, row);
};

ListEquipment_ListEquipment.prototype.addDB = function (mNewEquipment, row) {
  var self = this;
  mNewEquipment.promiseAddDB.then(function (value) {
    ModuleDatabase["a" /* default */].getModule("equipments").add(value).then(function (result) {
      self.addView(result, row);
    });
    mNewEquipment.promiseAddDB = undefined;
    setTimeout(function () {
      if (mNewEquipment.promiseAddDB !== undefined) self.addDB(mNewEquipment);
    }, 10);
  });
};

ListEquipment_ListEquipment.prototype.addView = function (value, parent) {
  value.created = getGMT();
  var result = this.getDataRow(value);
  var element = this.mTable;
  element.insertRow(result);
};

ListEquipment_ListEquipment.prototype.edit = function (data, parent, index) {
  var self = this;
  var mNewEquipment = new component_NewEquipment(data);
  mNewEquipment.attach(self.parent);
  var frameview = mNewEquipment.getView(self.getDataParam());
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDB(mNewEquipment, data, parent, index);
};

ListEquipment_ListEquipment.prototype.editDB = function (mNewEquipment, data, parent, index) {
  var self = this;
  mNewEquipment.promiseEditDB.then(function (value) {
    var loading = new loadingWheel();
    value.id = data.original.id;
    ModuleDatabase["a" /* default */].getModule("equipments").update(value).then(function (result) {
      self.editView(value, data, parent, index);
      loading.disable();
    });
    mNewEquipment.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewEquipment.promiseEditDB !== undefined) self.editDB(mNewEquipment, data, parent, index);
    }, 10);
  });
};

ListEquipment_ListEquipment.prototype.editView = function (value, data, parent, index) {
  value.created = data.original.created;
  var data = this.getDataRow(value);
  var indexOF = index,
      element = parent;
  element.updateRow(data, indexOF, true);
};

ListEquipment_ListEquipment.prototype["delete"] = function (data, parent, index) {
  var self = this;
  var deleteItem = deleteQuestion("Xoá danh mục", "Bạn có chắc muốn xóa :" + data.name);
  this.$view.addChild(deleteItem);
  deleteItem.promiseComfirm.then(function () {
    self.deleteDB(data, parent, index);
  });
};

ListEquipment_ListEquipment.prototype.deleteView = function (parent, index) {
  var self = this;
  var bodyTable = parent.bodyTable;
  parent.dropRow(index).then(function () {});
};

ListEquipment_ListEquipment.prototype.deleteDB = function (data, parent, index) {
  var self = this;
  var loading = new loadingWheel();
  ModuleDatabase["a" /* default */].getModule("equipments")["delete"]({
    id: data.id
  }).then(function (value) {
    self.deleteView(parent, index);
    loading.disable();
  });
};

ListEquipment_ListEquipment.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

ListEquipment_ListEquipment.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

ListEquipment_ListEquipment.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

ListEquipment_ListEquipment.prototype.start = function () {};

/* harmony default export */ var page_ListEquipment = (ListEquipment_ListEquipment);
// EXTERNAL MODULE: ./css/ListJuridical.css
var ListJuridical = __webpack_require__(283);

// EXTERNAL MODULE: ./css/NewJuridical.css
var NewJuridical = __webpack_require__(285);

// CONCATENATED MODULE: ./js/component/NewJuridical.js






var NewJuridical_ = dom_Fcore._;
var NewJuridical_$ = dom_Fcore.$;

function NewJuridical_NewJuridical(data) {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.textHeader = "Sửa ";
  this.data = data;
  if (this.data == undefined) this.textHeader = "Thêm ";
}

NewJuridical_NewJuridical.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(NewJuridical_NewJuridical.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
NewJuridical_NewJuridical.prototype.constructor = NewJuridical_NewJuridical;

NewJuridical_NewJuridical.prototype.getDataSave = function () {
  return {
    id: this.data === undefined ? undefined : this.data.original.id,
    name: this.name.value,
    type: this.type.value,
    districtid: this.district.value
  };
};

NewJuridical_NewJuridical.prototype.createPromise = function () {
  var self = this;

  if (this.data === undefined) {
    self.promiseAddDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  } else {
    self.promiseEditDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  }
};

NewJuridical_NewJuridical.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;
  this.$view = NewJuridical_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: self.textHeader + "Tỉnh/TP"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
              self.rejectDB(self.getDataSave());
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.createPromise();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Lưu và đóng" + '</span>']
        }]
      }]
    }]
  });
  this.$view.addChild(NewJuridical_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [{
      tag: "div",
      "class": ["pizo-list-realty-main-result-control"],
      child: [{
        tag: "div",
        "class": "pizo-new-state-container",
        child: [{
          tag: "div",
          "class": "pizo-new-state-container-name-container",
          child: [{
            tag: "span",
            "class": "pizo-new-state-container-name-container-label",
            props: {
              innerHTML: "Tên"
            }
          }, {
            tag: "input",
            "class": ["pizo-new-state-container-name-container-input", "pizo-new-realty-dectruct-input"]
          }]
        } // {
        //     tag:"div",
        //     class:"pizo-new-state-container-type-container",
        //     child:[
        //         {
        //             tag:"span",
        //             class:"pizo-new-state-container-type-container-label",
        //             props:{
        //                 innerHTML:"Loại"
        //             }
        //         },
        //         {
        //             tag:"selectmenu",
        //             class:"pizo-new-state-container-type-container-input",
        //             props:{
        //                 items:[
        //                     {text:"Thành phố",value:"Thành phố"},
        //                     {text:"Tỉnh",value:"Tỉnh"}
        //                 ]
        //             }
        //         }
        //     ]
        // },
        // {
        //     tag:"div",
        //     class:"pizo-new-state-container-nation-container",
        //     child:[
        //         {
        //             tag:"span",
        //             class:"pizo-new-state-container-nation-container-label",
        //             props:{
        //                 innerHTML:"Quốc gia"
        //             }
        //         },
        //         {
        //             tag:"selectmenu",
        //             class:"pizo-new-state-container-nation-container-input",
        //             props:{
        //                 items:[
        //                     {text:"Việt Nam",value:1},
        //                 ]
        //             }
        //         }
        //     ]
        // }
        ]
      }]
    }]
  }));
  this.createPromise();
  this.name = NewJuridical_$('input.pizo-new-state-container-name-container-input"', this.$view); // this.type = $('div.pizo-new-state-container-type-container-input',this.$view);

  if (this.data !== undefined) {
    this.name.value = this.data.original.name;
    this.type.value = this.data.original.type;
  }

  return this.$view;
};

NewJuridical_NewJuridical.prototype.getDataSave = function () {
  var temp = {
    name: this.name.value // type:this.type.value,

  };
  if (this.data !== undefined) temp.id = this.data.original.id;
  return temp;
};

NewJuridical_NewJuridical.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

NewJuridical_NewJuridical.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

NewJuridical_NewJuridical.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

NewJuridical_NewJuridical.prototype.start = function () {};

/* harmony default export */ var component_NewJuridical = (NewJuridical_NewJuridical);
// CONCATENATED MODULE: ./js/page/ListJuridical.js











var ListJuridical_ = dom_Fcore._;
var ListJuridical_$ = dom_Fcore.$;

function ListJuridical_ListJuridical() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

ListJuridical_ListJuridical.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(ListJuridical_ListJuridical.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
ListJuridical_ListJuridical.prototype.constructor = ListJuridical_ListJuridical;

ListJuridical_ListJuridical.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;

  var input = ListJuridical_({
    tag: "input",
    "class": "quantumWizTextinputPaperinputInput",
    on: {
      change: function change() {
        self.mTable.updatePagination(this.value);
      }
    },
    props: {
      type: "number",
      autocomplete: "off",
      min: 1,
      max: 200,
      step: 1,
      value: 50
    }
  });

  var allinput = ListJuridical_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    props: {
      placeholder: "Tìm kiếm"
    }
  });

  if (BrowserDetector["a" /* default */].isMobile) {
    allinput.placeholder = "Tìm kiếm";
  }

  this.$view = ListJuridical_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Quản lý pháp lý"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-allinput",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-page-allinput-container",
          child: [allinput, {
            tag: "button",
            "class": "pizo-list-realty-page-allinput-search",
            child: [{
              tag: 'i',
              "class": 'material-icons',
              props: {
                innerHTML: 'search'
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-page-allinput-filter",
          on: {
            click: function click(event) {
              self.searchControl.show();
            }
          },
          child: [{
            tag: 'filter-ico'
          }, {
            tag: "span",
            "class": "navbar-search__filter-text",
            props: {
              innerHTML: "Lọc"
            }
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-number-line",
        child: [input, {
          tag: "span",
          "class": "freebirdFormeditorViewAssessmentWidgetsPointsLabel",
          props: {
            innerHTML: "Số dòng"
          }
        }]
      }]
    }]
  });

  var tabContainer = ListJuridical_({
    tag: "div",
    "class": ["pizo-list-realty-main-result-control", "drag-zone-bg"],
    child: []
  });

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(38) !== -1) {
    ListJuridical_$("div.pizo-list-realty-button", this.$view).appendChild(ListJuridical_({
      tag: "button",
      "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
      on: {
        click: function click(evt) {
          self.add();
        }
      },
      child: ['<span>' + "Thêm" + '</span>']
    }));
  }

  var docTypeMemuProps, token, functionX;
  token = "showMenu";

  var functionClickMore = function functionClickMore(event, me, index, parent, data, row) {
    if (token == absol.QuickMenu._session) {
      token = "showMenu";
      return;
    }

    docTypeMemuProps = {
      items: []
    };

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(39) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Sửa',
        icon: 'span.mdi.mdi-text-short',
        value: 1
      });
    }

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(40) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Xóa',
        icon: 'span.mdi.mdi-text',
        value: 2
      });
    }

    token = absol.QuickMenu.show(me, docTypeMemuProps, [3, 4], function (menuItem) {
      switch (menuItem.value) {
        case 1:
          self.edit(data, parent, index);
          break;

        case 2:
          self["delete"](data.original, parent, index);
          break;
      }
    });

    functionX = function (token) {
      return function () {
        var x = function x(event) {
          absol.QuickMenu.close(token);
          document.body.removeEventListener("click", x);
        };

        document.body.addEventListener("click", x);
      };
    }(token);

    setTimeout(functionX, 10);
  };

  var juridicalModule = ModuleDatabase["a" /* default */].getModule("juridicals");
  juridicalModule.load().then(function (value) {
    var header = [{
      type: "increase",
      value: "#",
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'MS',
      sort: true,
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'Tên',
      sort: true,
      style: {
        minWidth: "unset"
      }
    }, {
      type: "detail",
      functionClickAll: functionClickMore,
      icon: "",
      dragElement: false,
      style: {
        width: "30px"
      }
    }];
    self.mTable = new tableView(header, self.formatDataRow(value), false, true, 2);
    tabContainer.addChild(self.mTable);
  });
  this.searchControl = this.searchControlContent();
  this.$view.addChild(ListJuridical_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [this.searchControl, tabContainer]
  }));
  return this.$view;
};

ListJuridical_ListJuridical.prototype.formatDataRow = function (data) {
  var temp = [];
  var check = [];
  var k = 0;

  for (var i = 0; i < data.length; i++) {
    var result = this.getDataRow(data[i]);

    if (check[data[i].parent_id] !== undefined) {
      if (check[data[i].parent_id].child === undefined) check[data[i].parent_id].child = [];
      check[data[i].parent_id].child.push(result);
    } else temp[k++] = result;

    check[data[i].id] = result;
  }

  return temp;
};

ListJuridical_ListJuridical.prototype.getDataRow = function (data) {
  var result = [{}, data.id, data.name, {}];
  result.original = data;
  return result;
};

ListJuridical_ListJuridical.prototype.formatDataList = function (data) {
  var temp = [{
    text: "Tất cả",
    value: 0
  }];

  for (var i = 0; i < data.length; i++) {
    temp[i + 1] = {
      text: data[i].name,
      value: data[i].id
    };
  }

  return temp;
};

ListJuridical_ListJuridical.prototype.searchControlContent = function () {
  var content = ListJuridical_({
    tag: "div"
  });

  var temp = ListJuridical_({
    tag: "div",
    style: {
      display: "none"
    },
    child: [content]
  });

  temp.show = function () {
    if (!temp.classList.contains("showTranslate")) temp.classList.add("showTranslate");
  };

  temp.hide = function () {
    if (!content.classList.contains("hideTranslate")) content.classList.add("hideTranslate");

    var eventEnd = function eventEnd() {
      if (temp.classList.contains("showTranslate")) temp.classList.remove("showTranslate");
      content.classList.remove("hideTranslate");
      content.removeEventListener("webkitTransitionEnd", eventEnd);
      content.removeEventListener("transitionend", eventEnd);
    }; // Code for Safari 3.1 to 6.0


    content.addEventListener("webkitTransitionEnd", eventEnd); // Standard syntax

    content.addEventListener("transitionend", eventEnd);
  };

  temp.apply = function () {};

  temp.reset = function () {
    content.timestart = new Date();
    content.timeend = new Date();
  };

  return temp;
};

ListJuridical_ListJuridical.prototype.getDataCurrent = function () {
  return this.getDataChild(this.mTable.data);
};

ListJuridical_ListJuridical.prototype.getDataChild = function (arr) {
  var self = this;
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    result.push(arr[i].original);
    if (arr[i].child.length !== 0) result = result.concat(self.getDataChild(arr[i].child));
  }

  return result;
};

ListJuridical_ListJuridical.prototype.add = function () {
  var parent_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var row = arguments.length > 1 ? arguments[1] : undefined;
  var self = this;
  var mNewJuridical = new component_NewJuridical(undefined, parent_id);
  mNewJuridical.attach(self.parent);
  var frameview = mNewJuridical.getView();
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.addDB(mNewJuridical, row);
};

ListJuridical_ListJuridical.prototype.addDB = function (mNewJuridical, row) {
  var self = this;
  mNewJuridical.promiseAddDB.then(function (value) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("juridicals").add(value).then(function (result) {
      self.addView(result, row);
      loading.disable();
    });
    mNewJuridical.promiseAddDB = undefined;
    setTimeout(function () {
      if (mNewJuridical.promiseAddDB !== undefined) self.addDB(mNewJuridical);
    }, 10);
  });
};

ListJuridical_ListJuridical.prototype.addView = function (value, parent) {
  var result = this.getDataRow(value);
  var element = this.mTable;
  element.insertRow(result);
};

ListJuridical_ListJuridical.prototype.edit = function (data, parent, index) {
  var self = this;
  var mNewJuridical = new component_NewJuridical(data);
  mNewJuridical.attach(self.parent);
  var frameview = mNewJuridical.getView();
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDB(mNewJuridical, data, parent, index);
};

ListJuridical_ListJuridical.prototype.editDB = function (mNewJuridical, data, parent, index) {
  var self = this;
  mNewJuridical.promiseEditDB.then(function (value) {
    var loading = new loadingWheel();
    value.id = data.original.id;
    ModuleDatabase["a" /* default */].getModule("juridicals").update(value).then(function (result) {
      self.editView(value, data, parent, index);
      loading.disable();
    });
    mNewJuridical.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewJuridical.promiseEditDB !== undefined) self.editDB(mNewJuridical, data, parent, index);
    }, 10);
  });
};

ListJuridical_ListJuridical.prototype.editView = function (value, data, parent, index) {
  var data = this.getDataRow(value);
  var indexOF = index,
      element = parent;
  element.updateRow(data, indexOF, true);
};

ListJuridical_ListJuridical.prototype["delete"] = function (data, parent, index) {
  var self = this;
  var deleteItem = deleteQuestion("Xoá danh mục", "Bạn có chắc muốn xóa :" + data.name);
  this.$view.addChild(deleteItem);
  deleteItem.promiseComfirm.then(function () {
    self.deleteDB(data, parent, index);
  });
};

ListJuridical_ListJuridical.prototype.deleteView = function (parent, index) {
  var self = this;
  var bodyTable = parent.bodyTable;
  parent.dropRow(index).then(function () {});
};

ListJuridical_ListJuridical.prototype.deleteDB = function (data, parent, index) {
  var self = this;
  var loading = new loadingWheel();
  ModuleDatabase["a" /* default */].getModule("juridicals")["delete"]({
    id: data.id
  }).then(function (value) {
    self.deleteView(parent, index);
    loading.disable();
  });
};

ListJuridical_ListJuridical.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

ListJuridical_ListJuridical.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.juridical == "RUNNING") this.flushDataToView();
};

ListJuridical_ListJuridical.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

ListJuridical_ListJuridical.prototype.start = function () {};

/* harmony default export */ var page_ListJuridical = (ListJuridical_ListJuridical);
// EXTERNAL MODULE: ./css/ListTypeActivehouse.css
var ListTypeActivehouse = __webpack_require__(287);

// EXTERNAL MODULE: ./css/NewTypeActivehouse.css
var NewTypeActivehouse = __webpack_require__(289);

// CONCATENATED MODULE: ./js/component/NewTypeActivehouse.js






var NewTypeActivehouse_ = dom_Fcore._;
var NewTypeActivehouse_$ = dom_Fcore.$;

function NewTypeActivehouse_NewTypeActivehouse(data) {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  this.textHeader = "Sửa ";
  this.data = data;
  if (this.data == undefined) this.textHeader = "Thêm ";
}

NewTypeActivehouse_NewTypeActivehouse.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(NewTypeActivehouse_NewTypeActivehouse.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
NewTypeActivehouse_NewTypeActivehouse.prototype.constructor = NewTypeActivehouse_NewTypeActivehouse;

NewTypeActivehouse_NewTypeActivehouse.prototype.getDataSave = function () {
  return {
    id: this.data === undefined ? undefined : this.data.original.id,
    name: this.name.value,
    type: this.type.value,
    districtid: this.district.value
  };
};

NewTypeActivehouse_NewTypeActivehouse.prototype.createPromise = function () {
  var self = this;

  if (this.data === undefined) {
    self.promiseAddDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  } else {
    self.promiseEditDB = new Promise(function (resolve, reject) {
      self.resolveDB = resolve;
      self.rejectDB = reject;
    });
  }
};

NewTypeActivehouse_NewTypeActivehouse.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;
  this.$view = NewTypeActivehouse_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: self.textHeader + "Tỉnh/TP"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
              self.rejectDB(self.getDataSave());
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.createPromise();
            }
          },
          child: ['<span>' + "Lưu" + '</span>']
        }, {
          tag: "button",
          "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.resolveDB(self.getDataSave());
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Lưu và đóng" + '</span>']
        }]
      }]
    }]
  });
  this.$view.addChild(NewTypeActivehouse_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [{
      tag: "div",
      "class": ["pizo-list-realty-main-result-control"],
      child: [{
        tag: "div",
        "class": "pizo-new-state-container",
        child: [{
          tag: "div",
          "class": "pizo-new-state-container-name-container",
          child: [{
            tag: "span",
            "class": "pizo-new-state-container-name-container-label",
            props: {
              innerHTML: "Tên"
            }
          }, {
            tag: "input",
            "class": ["pizo-new-state-container-name-container-input", "pizo-new-realty-dectruct-input"]
          }]
        } // {
        //     tag:"div",
        //     class:"pizo-new-state-container-type-container",
        //     child:[
        //         {
        //             tag:"span",
        //             class:"pizo-new-state-container-type-container-label",
        //             props:{
        //                 innerHTML:"Loại"
        //             }
        //         },
        //         {
        //             tag:"selectmenu",
        //             class:"pizo-new-state-container-type-container-input",
        //             props:{
        //                 items:[
        //                     {text:"Thành phố",value:"Thành phố"},
        //                     {text:"Tỉnh",value:"Tỉnh"}
        //                 ]
        //             }
        //         }
        //     ]
        // },
        // {
        //     tag:"div",
        //     class:"pizo-new-state-container-nation-container",
        //     child:[
        //         {
        //             tag:"span",
        //             class:"pizo-new-state-container-nation-container-label",
        //             props:{
        //                 innerHTML:"Quốc gia"
        //             }
        //         },
        //         {
        //             tag:"selectmenu",
        //             class:"pizo-new-state-container-nation-container-input",
        //             props:{
        //                 items:[
        //                     {text:"Việt Nam",value:1},
        //                 ]
        //             }
        //         }
        //     ]
        // }
        ]
      }]
    }]
  }));
  this.createPromise();
  this.name = NewTypeActivehouse_$('input.pizo-new-state-container-name-container-input"', this.$view); // this.type = $('div.pizo-new-state-container-type-container-input',this.$view);

  if (this.data !== undefined) {
    this.name.value = this.data.original.name; // this.type.value = this.data.original.type;
  }

  return this.$view;
};

NewTypeActivehouse_NewTypeActivehouse.prototype.getDataSave = function () {
  var temp = {
    name: this.name.value // type:this.type.value,

  };
  if (this.data !== undefined) temp.id = this.data.original.id;
  return temp;
};

NewTypeActivehouse_NewTypeActivehouse.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

NewTypeActivehouse_NewTypeActivehouse.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

NewTypeActivehouse_NewTypeActivehouse.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

NewTypeActivehouse_NewTypeActivehouse.prototype.start = function () {};

/* harmony default export */ var component_NewTypeActivehouse = (NewTypeActivehouse_NewTypeActivehouse);
// CONCATENATED MODULE: ./js/page/ListTypeActivehouse.js











var ListTypeActivehouse_ = dom_Fcore._;
var ListTypeActivehouse_$ = dom_Fcore.$;

function ListTypeActivehouse_ListTypeActivehouse() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
}

ListTypeActivehouse_ListTypeActivehouse.prototype.setContainer = function (parent) {
  this.parent = parent;
};

Object.defineProperties(ListTypeActivehouse_ListTypeActivehouse.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
ListTypeActivehouse_ListTypeActivehouse.prototype.constructor = ListTypeActivehouse_ListTypeActivehouse;

ListTypeActivehouse_ListTypeActivehouse.prototype.getView = function () {
  if (this.$view) return this.$view;
  var self = this;

  var input = ListTypeActivehouse_({
    tag: "input",
    "class": "quantumWizTextinputPaperinputInput",
    on: {
      change: function change() {
        self.mTable.updatePagination(this.value);
      }
    },
    props: {
      type: "number",
      autocomplete: "off",
      min: 1,
      max: 200,
      step: 1,
      value: 50
    }
  });

  var allinput = ListTypeActivehouse_({
    tag: "input",
    "class": "pizo-list-realty-page-allinput-input",
    props: {
      placeholder: "Tìm kiếm"
    }
  });

  if (BrowserDetector["a" /* default */].isMobile) {
    allinput.placeholder = "Tìm kiếm";
  }

  this.$view = ListTypeActivehouse_({
    tag: 'singlepage',
    "class": "pizo-list-realty",
    child: [{
      "class": 'absol-single-page-header',
      child: [{
        tag: "span",
        "class": "pizo-body-title-left",
        props: {
          innerHTML: "Quản lý loại bất động sản"
        }
      }, {
        tag: "div",
        "class": "pizo-list-realty-button",
        child: [{
          tag: "button",
          "class": ["pizo-list-realty-button-quit", "pizo-list-realty-button-element"],
          on: {
            click: function click(evt) {
              self.$view.selfRemove();
              var arr = self.parent.body.getAllChild();
              self.parent.body.activeFrame(arr[arr.length - 1]);
            }
          },
          child: ['<span>' + "Đóng" + '</span>']
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-allinput",
        child: [{
          tag: "div",
          "class": "pizo-list-realty-page-allinput-container",
          child: [allinput, {
            tag: "button",
            "class": "pizo-list-realty-page-allinput-search",
            child: [{
              tag: 'i',
              "class": 'material-icons',
              props: {
                innerHTML: 'search'
              }
            }]
          }]
        }, {
          tag: "div",
          "class": "pizo-list-realty-page-allinput-filter",
          on: {
            click: function click(event) {
              self.searchControl.show();
            }
          },
          child: [{
            tag: 'filter-ico'
          }, {
            tag: "span",
            "class": "navbar-search__filter-text",
            props: {
              innerHTML: "Lọc"
            }
          }]
        }]
      }, {
        tag: "div",
        "class": "pizo-list-realty-page-number-line",
        child: [input, {
          tag: "span",
          "class": "freebirdFormeditorViewAssessmentWidgetsPointsLabel",
          props: {
            innerHTML: "Số dòng"
          }
        }]
      }]
    }]
  });

  var tabContainer = ListTypeActivehouse_({
    tag: "div",
    "class": ["pizo-list-realty-main-result-control", "drag-zone-bg"],
    child: []
  });

  if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(26) !== -1) {
    ListTypeActivehouse_$("div.pizo-list-realty-button", this.$view).appendChild(ListTypeActivehouse_({
      tag: "button",
      "class": ["pizo-list-realty-button-add", "pizo-list-realty-button-element"],
      on: {
        click: function click(evt) {
          self.add();
        }
      },
      child: ['<span>' + "Thêm" + '</span>']
    }));
  }

  var docTypeMemuProps, token, functionX;
  token = "showMenu";

  var functionClickMore = function functionClickMore(event, me, index, parent, data, row) {
    if (token == absol.QuickMenu._session) {
      token = "showMenu";
      return;
    }

    docTypeMemuProps = {
      items: []
    };

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(27) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Sửa',
        icon: 'span.mdi.mdi-text-short',
        value: 1
      });
    }

    if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(28) !== -1) {
      docTypeMemuProps.items.push({
        text: 'Xóa',
        icon: 'span.mdi.mdi-text',
        value: 2
      });
    }

    token = absol.QuickMenu.show(me, docTypeMemuProps, [3, 4], function (menuItem) {
      switch (menuItem.value) {
        case 1:
          self.edit(data, parent, index);
          break;

        case 2:
          self["delete"](data.original, parent, index);
          break;
      }
    });

    functionX = function (token) {
      return function () {
        var x = function x(event) {
          absol.QuickMenu.close(token);
          document.body.removeEventListener("click", x);
        };

        document.body.addEventListener("click", x);
      };
    }(token);

    setTimeout(functionX, 10);
  };

  var juridicalModule = ModuleDatabase["a" /* default */].getModule("type_activehouses");
  juridicalModule.load().then(function (value) {
    var header = [{
      type: "increase",
      value: "#",
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'MS',
      sort: true,
      style: {
        minWidth: "50px",
        width: "50px"
      }
    }, {
      value: 'Tên',
      sort: true,
      style: {
        minWidth: "unset"
      }
    }, {
      type: "detail",
      functionClickAll: functionClickMore,
      icon: "",
      dragElement: false,
      style: {
        width: "30px"
      }
    }];
    self.mTable = new tableView(header, self.formatDataRow(value), false, true, 2);
    tabContainer.addChild(self.mTable);
  });
  this.searchControl = this.searchControlContent();
  this.$view.addChild(ListTypeActivehouse_({
    tag: "div",
    "class": ["pizo-list-realty-main"],
    child: [this.searchControl, tabContainer]
  }));
  return this.$view;
};

ListTypeActivehouse_ListTypeActivehouse.prototype.formatDataRow = function (data) {
  var temp = [];
  var check = [];
  var k = 0;

  for (var i = 0; i < data.length; i++) {
    var result = this.getDataRow(data[i]);

    if (check[data[i].parent_id] !== undefined) {
      if (check[data[i].parent_id].child === undefined) check[data[i].parent_id].child = [];
      check[data[i].parent_id].child.push(result);
    } else temp[k++] = result;

    check[data[i].id] = result;
  }

  return temp;
};

ListTypeActivehouse_ListTypeActivehouse.prototype.getDataRow = function (data) {
  var result = [{}, data.id, data.name, {}];
  result.original = data;
  return result;
};

ListTypeActivehouse_ListTypeActivehouse.prototype.formatDataList = function (data) {
  var temp = [{
    text: "Tất cả",
    value: 0
  }];

  for (var i = 0; i < data.length; i++) {
    temp[i + 1] = {
      text: data[i].name,
      value: data[i].id
    };
  }

  return temp;
};

ListTypeActivehouse_ListTypeActivehouse.prototype.searchControlContent = function () {
  var content = ListTypeActivehouse_({
    tag: "div"
  });

  var temp = ListTypeActivehouse_({
    tag: "div",
    style: {
      display: "none"
    },
    child: [content]
  });

  temp.show = function () {
    if (!temp.classList.contains("showTranslate")) temp.classList.add("showTranslate");
  };

  temp.hide = function () {
    if (!content.classList.contains("hideTranslate")) content.classList.add("hideTranslate");

    var eventEnd = function eventEnd() {
      if (temp.classList.contains("showTranslate")) temp.classList.remove("showTranslate");
      content.classList.remove("hideTranslate");
      content.removeEventListener("webkitTransitionEnd", eventEnd);
      content.removeEventListener("transitionend", eventEnd);
    }; // Code for Safari 3.1 to 6.0


    content.addEventListener("webkitTransitionEnd", eventEnd); // Standard syntax

    content.addEventListener("transitionend", eventEnd);
  };

  temp.apply = function () {};

  temp.reset = function () {
    content.timestart = new Date();
    content.timeend = new Date();
  };

  return temp;
};

ListTypeActivehouse_ListTypeActivehouse.prototype.getDataCurrent = function () {
  return this.getDataChild(this.mTable.data);
};

ListTypeActivehouse_ListTypeActivehouse.prototype.getDataChild = function (arr) {
  var self = this;
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    result.push(arr[i].original);
    if (arr[i].child.length !== 0) result = result.concat(self.getDataChild(arr[i].child));
  }

  return result;
};

ListTypeActivehouse_ListTypeActivehouse.prototype.add = function () {
  var parent_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var row = arguments.length > 1 ? arguments[1] : undefined;
  var self = this;
  var mNewTypeActivehouse = new component_NewTypeActivehouse(undefined, parent_id);
  mNewTypeActivehouse.attach(self.parent);
  var frameview = mNewTypeActivehouse.getView();
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.addDB(mNewTypeActivehouse, row);
};

ListTypeActivehouse_ListTypeActivehouse.prototype.addDB = function (mNewTypeActivehouse, row) {
  var self = this;
  mNewTypeActivehouse.promiseAddDB.then(function (value) {
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("type_activehouses").add(value).then(function (result) {
      self.addView(result, row);
      loading.disable();
    });
    mNewTypeActivehouse.promiseAddDB = undefined;
    setTimeout(function () {
      if (mNewTypeActivehouse.promiseAddDB !== undefined) self.addDB(mNewTypeActivehouse);
    }, 10);
  });
};

ListTypeActivehouse_ListTypeActivehouse.prototype.addView = function (value, parent) {
  var result = this.getDataRow(value);
  var element = this.mTable;
  element.insertRow(result);
};

ListTypeActivehouse_ListTypeActivehouse.prototype.edit = function (data, parent, index) {
  var self = this;
  var mNewTypeActivehouse = new component_NewTypeActivehouse(data);
  mNewTypeActivehouse.attach(self.parent);
  var frameview = mNewTypeActivehouse.getView();
  self.parent.body.addChild(frameview);
  self.parent.body.activeFrame(frameview);
  self.editDB(mNewTypeActivehouse, data, parent, index);
};

ListTypeActivehouse_ListTypeActivehouse.prototype.editDB = function (mNewTypeActivehouse, data, parent, index) {
  var self = this;
  mNewTypeActivehouse.promiseEditDB.then(function (value) {
    value.id = data.original.id;
    var loading = new loadingWheel();
    ModuleDatabase["a" /* default */].getModule("type_activehouses").update(value).then(function (result) {
      self.editView(value, data, parent, index);
      loading.disable();
    });
    mNewTypeActivehouse.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewTypeActivehouse.promiseEditDB !== undefined) self.editDB(mNewTypeActivehouse, data, parent, index);
    }, 10);
  });
};

ListTypeActivehouse_ListTypeActivehouse.prototype.editView = function (value, data, parent, index) {
  var data = this.getDataRow(value);
  var indexOF = index,
      element = parent;
  element.updateRow(data, indexOF, true);
};

ListTypeActivehouse_ListTypeActivehouse.prototype["delete"] = function (data, parent, index) {
  var self = this;
  var deleteItem = deleteQuestion("Xoá danh mục", "Bạn có chắc muốn xóa :" + data.name);
  this.$view.addChild(deleteItem);
  deleteItem.promiseComfirm.then(function () {
    self.deleteDB(data, parent, index);
  });
};

ListTypeActivehouse_ListTypeActivehouse.prototype.deleteView = function (parent, index) {
  var self = this;
  var bodyTable = parent.bodyTable;
  parent.dropRow(index).then(function () {});
};

ListTypeActivehouse_ListTypeActivehouse.prototype.deleteDB = function (data, parent, index) {
  var self = this;
  var loading = new loadingWheel();
  ModuleDatabase["a" /* default */].getModule("type_activehouses")["delete"]({
    id: data.id
  }).then(function (value) {
    self.deleteView(parent, index);
    loading.disable();
  });
};

ListTypeActivehouse_ListTypeActivehouse.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

ListTypeActivehouse_ListTypeActivehouse.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.juridical == "RUNNING") this.flushDataToView();
};

ListTypeActivehouse_ListTypeActivehouse.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

ListTypeActivehouse_ListTypeActivehouse.prototype.start = function () {};

/* harmony default export */ var page_ListTypeActivehouse = (ListTypeActivehouse_ListTypeActivehouse);
// CONCATENATED MODULE: ./js/App.js


























var App_ = dom_Fcore._;
var App_$ = dom_Fcore.$;

function App_App() {
  component_BaseView.call(this);
  AppPattern_Fragment.call(this);
  this.cmdRunner = new AppPattern_CMDRunner(this);
  this.loadConfig();
  ModuleDatabase["a" /* default */].getModule("activehouses", ["loadActiveHouses.php", "addActiveHouse.php", "updateActiveHouse.php", "deleteActivehouse.php"]);
  ModuleDatabase["a" /* default */].getModule("modification_requests", ["loadModificationRequests.php", "addModificationRequests.php", "updateModificationRequests.php", "deleteModificationRequests.php"]);
  ModuleDatabase["a" /* default */].getModule("inactivehouses", ["loadActiveHouses.php", "addActiveHouse.php", "updateActiveHouse.php", "deleteActivehouse.php"]);
  ModuleDatabase["a" /* default */].getModule("contacts", ["load.php", "add.php", "update.php", "deleteContact.php"]);
  ModuleDatabase["a" /* default */].getModule("users", ["load.php", "addUser.php", "updateUser.php", "deleteUser.php"]);
  ModuleDatabase["a" /* default */].getModule("polygon", ["loadPolygon.php", "addPolygon.php", "updatePolygon.php", "deletePolygon.php"]);
  ModuleDatabase["a" /* default */].getModule("geometry", ["loadMap.php", "addMap.php", "updateMap.php", "deleteMap.php"]);
  ModuleDatabase["a" /* default */].getModule("geometry_created", ["loadCreatedMap.php"]);
  ModuleDatabase["a" /* default */].getModule("streets");
  ModuleDatabase["a" /* default */].getModule("helps");
  ModuleDatabase["a" /* default */].getModule("states");
  ModuleDatabase["a" /* default */].getModule("districts");
  ModuleDatabase["a" /* default */].getModule("wards");
  ModuleDatabase["a" /* default */].getModule("addresses");
  ModuleDatabase["a" /* default */].getModule("addresses_user");
  ModuleDatabase["a" /* default */].getModule("equipments");
  ModuleDatabase["a" /* default */].getModule("departments", ["load.php", "add.php", "update.php", "deleteDepartment.php"]);
  ModuleDatabase["a" /* default */].getModule("positions");
  ModuleDatabase["a" /* default */].getModule("juridicals");
  ModuleDatabase["a" /* default */].getModule("nations");
  ModuleDatabase["a" /* default */].getModule("type_activehouses");
}

Object.defineProperties(App_App.prototype, Object.getOwnPropertyDescriptors(component_BaseView.prototype));
App_App.prototype.constructor = App_App;

App_App.prototype.getView = function () {
  if (getCookie("token_pizo_phone") == undefined) {
    if (window.token == undefined) {
      var mLoginForm = new page_LoginForm();
      this.$view = mLoginForm.getView();
      mLoginForm.promiseLogin.then(function (token) {
        var parentNode = this.$view.parentNode;
        var pastView = this.$view;
        parentNode.replaceChild(this.getView(), pastView);
      }.bind(this));
      return this.$view;
    }
  } else {
    if (window.token == undefined) {
      ModuleDatabase["a" /* default */].queryData("getToken.php", {
        token: getCookie("token_pizo_phone"),
        userid: getCookie("userid_pizo_phone")
      }, "safe_login").then(function (value) {
        if (value == false) {
          eraseCookie("token_pizo_phone");
          eraseCookie("userid_pizo_phone");
          var parentNode = this.$view.parentNode;
          var pastView = this.$view;
          parentNode.replaceChild(this.getView(), pastView);
          ModuleDatabase["a" /* default */].checkPermission = undefined;
        } else {
          setCookie("token_pizo_phone", getCookie("token_pizo_phone"), 3);
          setCookie("userid_pizo_phone", getCookie("userid_pizo_phone"), 3);
          window.token = getCookie("token_pizo_phone");
          window.userid = getCookie("userid_pizo_phone");
          ModuleDatabase["a" /* default */].getModule("users").setFormatLoad({
            WHERE: [{
              userid: getCookie("userid_pizo_phone")
            }]
          }, value);
          this.imageAvatar.src = "https://lab.daithangminh.vn/home_co/pizo/assets/avatar/" + ModuleDatabase["a" /* default */].getModule("users").getLibary("id")[window.userid].avatar;
          this.nameAvatar.innerHTML = ModuleDatabase["a" /* default */].getModule("users").getLibary("id")[window.userid].name.split(" ").pop();
          this.getPermisionOpenPage();
        }
      }.bind(this));
    } else {
      this.getPermisionOpenPage();
      this.enableAvatar = true;
    }
  }

  var self = this;
  this.imageAvatar = App_({
    tag: "img",
    "class": ["_2qgu", "_7ql", "_1m6h", "img"],
    props: {
      src: "./assets/avatar/avatar-default.png"
    }
  });
  this.nameAvatar = App_({
    tag: "span",
    "class": "_1vp5",
    props: {
      innerHTML: ""
    }
  });

  var avatarIcon = App_({
    tag: "div",
    "class": ["_1k67", "_cy7"],
    child: [{
      tag: "span",
      "class": "_1qv9",
      child: [this.imageAvatar, this.nameAvatar]
    }]
  });

  var docTypeMemuProps = {
    items: [{
      text: 'Hồ sơ cá nhân',
      icon: {
        tag: "i",
        "class": "material-icons",
        props: {
          innerHTML: "person"
        }
      },
      value: "information"
    }, {
      text: 'Đăng xuất',
      icon: {
        tag: "i",
        "class": "material-icons",
        props: {
          innerHTML: "arrow_forward"
        }
      },
      value: "logout"
    }]
  };
  absol.QuickMenu.showWhenClick(avatarIcon, docTypeMemuProps, [2], function (menuItem) {
    switch (menuItem.value) {
      case "information":
        if (window.userid !== undefined) this.prevEdit({
          original: ModuleDatabase["a" /* default */].getModule("users").getLibary("id")[window.userid]
        });
        break;

      case "logout":
        ModuleDatabase["a" /* default */].queryData("deleteToken.php", {
          token: getCookie("token_pizo_phone"),
          userid: getCookie("userid_pizo_phone")
        }, "safe_login").then(function (value) {});
        eraseCookie("token_pizo_phone");
        eraseCookie("userid_pizo_phone");
        window.token = undefined;
        window.userid = undefined;
        var parentNode = this.$view.parentNode;
        var pastView = this.$view;
        parentNode.replaceChild(this.getView(), pastView);
        ModuleDatabase["a" /* default */].checkPermission = undefined;
        break;
    }
  }.bind(this));
  this.body = App_({
    tag: "frameview",
    style: {
      width: '100%',
      height: '100%'
    }
  });
  this.firstElement = [];
  this.$view = App_({
    tag: "div",
    "class": "pizo-app",
    child: [{
      tag: "div",
      "class": "pizo-header",
      child: [{
        tag: "div",
        "class": "outer-wrapper",
        child: [{
          tag: "div",
          "class": "pizo-header-logo",
          child: [{
            tag: "img",
            "class": "pizo-header-logo-icon",
            props: {
              src: "assets/images/logo.png"
            }
          }, {
            tag: "img",
            "class": "pizo-header-logo-text",
            props: {
              src: "assets/images/logo-text.png"
            }
          }]
        }, {
          tag: "div",
          "class": "portal-section",
          child: [{
            tag: "div",
            "class": "not-loggedin",
            child: [avatarIcon]
          }]
        }, {
          tag: "hmenu",
          "class": "pizo-header-menu",
          props: {
            items: this.firstElement
          },
          on: {
            press: function press(event) {
              var item = event.menuItem;

              if (typeof item.pageIndex == 'number') {
                self.prevOpenPage(item.pageIndex);
                document.body.click();
              }
            }
          }
        }]
      }]
    }, {
      tag: "div",
      "class": "pizo-body",
      child: [{
        tag: "div",
        "class": "pizo-body-title",
        child: [{
          tag: "span",
          "class": "pizo-body-title-right",
          child: [{
            tag: "div",
            "class": "pizo-body-title-right-item",
            on: {
              load: function load(event) {
                self.pageSelect = this;
              }
            },
            props: {
              innerHTML: ""
            }
          }]
        }]
      }, {
        tag: 'div',
        "class": 'pizo-body-dashboard',
        child: [this.body]
      }]
    }]
  });
  this.hMenu = App_$("div.pizo-header-menu", this.$view);
  this.refresh();

  if (this.enableAvatar) {
    this.imageAvatar.src = "https://lab.daithangminh.vn/home_co/pizo/assets/avatar/" + ModuleDatabase["a" /* default */].getModule("users").getLibary("id")[window.userid].avatar;
    this.nameAvatar.innerHTML = ModuleDatabase["a" /* default */].getModule("users").getLibary("id")[window.userid].name.split(" ").pop();
    this.enableAvatar = undefined;
  }

  var arr = [];
  arr.push(ModuleDatabase["a" /* default */].getModule("positions").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("wards").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("districts").load());
  arr.push(ModuleDatabase["a" /* default */].getModule("states").load());
  this.promiseAll = Promise.all(arr);
  this.promiseAll.then(function () {
    this.listParamPosition = ModuleDatabase["a" /* default */].getModule("positions").getList("name", "id");
  }.bind(this));
  return this.$view;
};

App_App.prototype.refresh = function () {
  var data;
  var editor = this.getContext(R.LAYOUT_EDITOR);
  if (editor) data = editor.getData();
  if (data) this.setData(data);
};

App_App.prototype.getPermisionOpenPage = function () {
  if (ModuleDatabase["a" /* default */].checkPermission == undefined) {
    ModuleDatabase["a" /* default */].checkPermission = [];
    ModuleDatabase["a" /* default */].checkPermission[0] = [];
    this.promisePermission = ModuleDatabase["a" /* default */].queryData("loadPermision.php", {
      userid: window.userid
    }, "privileges");
    this.promisePermission.then(function (result) {
      for (var i = 0; i < result.length; i++) {
        var permissionTemp = result[i].permission;

        if (permissionTemp < 56 && permissionTemp > 0) {
          ModuleDatabase["a" /* default */].checkPermission[0].push(permissionTemp);
        } else {
          var indexTemp = "{";

          if (result[i]["stateid"] !== 0) {
            indexTemp += '"stateid":"' + result[i]["stateid"] + '"';
          }

          if (result[i]["districtid"] !== 0) {
            indexTemp += ',"districtid":"' + result[i]["districtid"] + '"';
          }

          if (result[i]["wardid"] !== 0) {
            indexTemp += ',"wardid":"' + result[i]["districtid"] + '"';
          }

          if (result[i]["streetid"] !== 0) {
            indexTemp += ',"streetid":"' + result[i]["streetid"] + '"';
          }

          if (indexTemp == "{") indexTemp = 0;else indexTemp += "}";
          if (ModuleDatabase["a" /* default */].checkPermission[indexTemp] == undefined) ModuleDatabase["a" /* default */].checkPermission[indexTemp] = [];
          ModuleDatabase["a" /* default */].checkPermission[indexTemp].push(permissionTemp);
        }
      }

      if (this.firstElement == undefined) this.firstElement = [];
      var isRealty = false;

      for (var param in ModuleDatabase["a" /* default */].checkPermission) {
        if (param == 0) {
          if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(13) != -1 || ModuleDatabase["a" /* default */].checkPermission[0].indexOf(17) != -1 || ModuleDatabase["a" /* default */].checkPermission[0].indexOf(21) != -1 || ModuleDatabase["a" /* default */].checkPermission[0].indexOf(25) != -1 || ModuleDatabase["a" /* default */].checkPermission[0].indexOf(29) != -1) {
            var menuZone = [];
            if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(13) != -1) menuZone.push({
              text: "Tỉnh/TP",
              pageIndex: 21
            });
            if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(17) != -1) menuZone.push({
              text: "Quận/Huyện",
              pageIndex: 22
            });
            if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(21) != -1) menuZone.push({
              text: "Phường/Xã",
              pageIndex: 23
            });
            if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(25) != -1) menuZone.push({
              text: "Tên đường",
              pageIndex: 24
            });

            if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(29) != -1) {
              menuZone.push({
                text: "Thông tin quy hoạch",
                pageIndex: 26
              });
              menuZone.push({
                text: "Thông tin quy hoạch chú thích",
                pageIndex: 27
              });
            }

            this.firstElement.push({
              text: "Khu vực",
              pageIndex: 2,
              items: menuZone
            });
          }

          if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(9) != -1 || ModuleDatabase["a" /* default */].checkPermission[0].indexOf(33) != -1 || ModuleDatabase["a" /* default */].checkPermission[0].indexOf(37) != -1 || ModuleDatabase["a" /* default */].checkPermission[0].indexOf(41) != -1) {
            var menuZone = [];
            if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(33) != -1) menuZone.push({
              text: "Tiện nghi trong nhà",
              pageIndex: 31
            });
            if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(37) != -1) menuZone.push({
              text: "Pháp lý",
              pageIndex: 32
            });
            if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(9) != -1) menuZone.push({
              text: "Thông tin liên hệ",
              pageIndex: 33
            });
            if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(41) != -1) menuZone.push({
              text: "Loại bất động sản",
              pageIndex: 34
            });
            this.firstElement.push({
              text: "Thông tin",
              pageIndex: 3,
              items: menuZone
            });
          }

          if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(49) != -1) {
            var menuZone = [];
            this.firstElement.push({
              text: "Thông báo",
              pageIndex: 4,
              items: menuZone
            });
          }

          if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(5) != -1) {
            var menuZone = [];
            this.firstElement.push({
              text: "Sơ đồ tổ chức",
              pageIndex: 5,
              items: menuZone
            });
          }

          if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(1) != -1) {
            var menuZone = [];
            this.firstElement.push({
              text: "Tài khoản",
              pageIndex: 6,
              items: menuZone
            });
          }

          if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(53) != -1 || ModuleDatabase["a" /* default */].checkPermission[0].indexOf(54) != -1 || ModuleDatabase["a" /* default */].checkPermission[0].indexOf(55) != -1) {
            var menuZone = [];
            if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(53) != -1) menuZone.push({
              text: "Tổng quan",
              pageIndex: 71
            });
            if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(54) != -1) menuZone.push({
              text: "Cuộc gọi",
              pageIndex: 72
            });
            if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(55) != -1) menuZone.push({
              text: "Upload hình",
              pageIndex: 73
            });
            this.firstElement.push({
              text: "Thống kê",
              pageIndex: 7,
              items: menuZone
            });
          }

          if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(51) != -1 || ModuleDatabase["a" /* default */].checkPermission[0].indexOf(52) != -1) {
            var menuZone = [];
            this.firstElement.push({
              text: "Nhập xuất dữ liệu",
              pageIndex: 9,
              items: menuZone
            });
          }

          if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(45) != -1) {
            var menuZone = [];
            if (ModuleDatabase["a" /* default */].checkPermission[0].indexOf(45) != -1) menuZone.push({
              text: "Sửa trợ giúp",
              pageIndex: 101
            });
            this.firstElement.push({
              text: "Trợ giúp",
              pageIndex: 10,
              items: menuZone
            });
          }
        }

        isRealty = true;
      }

      if (isRealty === true) this.firstElement.unshift({
        text: "Dự án",
        pageIndex: 1,
        items: [{
          text: "Tất cả",
          pageIndex: 11
        }, {
          text: "Dự án đã quan tâm",
          pageIndex: 12
        }, // {
        //     text:"Cần kiểm duyệt",
        //     pageIndex:13
        // },
        // {
        //     text: "Cần gọi lại",
        //     pageIndex: 14
        // },
        // {
        //     text: "Cần gộp",
        //     pageIndex: 15
        // },
        {
          text: "Yêu cầu chỉnh sửa",
          pageIndex: 17
        }, {
          text: "Bản đồ",
          pageIndex: 18
        }]
      });
      this.hMenu.items = this.firstElement;
    }.bind(this));
  }
};

App_App.prototype.prevOpenPage = function (index) {
  this.promisePermission.then(function () {
    this.openPage(index);
  }.bind(this));
};

App_App.prototype.openPage = function (index) {
  var finalPage;

  switch (index) {
    case 4:
      // xmlModalDragManyFiles.createModal(document.body,function(value){
      //     console.log(value);
      // })
      break;

    case 5:
      var mListPositions = new page_ListPositions();
      mListPositions.attach(this);
      var frameview = mListPositions.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListPositions;
      break;

    case 6:
      var mListAccount = new page_ListAccount();
      mListAccount.attach(this);
      var frameview = mListAccount.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListAccount;
      break;

    case 11:
      var mListRealty = new page_ListRealty();
      mListRealty.attach(this);
      var frameview = mListRealty.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListRealty;
      break;

    case 12:
      var mListRealty = new page_ListRealty();
      mListRealty.attach(this);
      var frameview = mListRealty.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListRealty;
      break;

    case 13:
      var mListRealty = new page_ListRealty();
      mListRealty.attach(this);
      mListRealty.setCensorship();
      var frameview = mListRealty.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListRealty;
      break;

    case 14:
      var mListRealty = new page_ListRealty();
      mListRealty.attach(this);
      var frameview = mListRealty.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListRealty;
      break;

    case 15:
      var mListRealty = new page_ListRealty();
      mListRealty.attach(this);
      var frameview = page_ListRealty.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListRealty;
      break;

    case 16:
      var mListRealty = new page_ListRealty();
      mListRealty.attach(this);
      var frameview = mListRealty.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListRealty;
      break;

    case 17:
      var mListRealty = new page_ListRealty();
      mListRealty.attach(this);
      var frameview = mListRealty.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListRealty;
      break;

    case 18:
      var mMapRealty = new page_MapRealty();
      mMapRealty.attach(this);
      var frameview = mMapRealty.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mMapRealty;
      break;

    case 21:
      var mListState = new page_ListState();
      mListState.attach(this);
      var frameview = mListState.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListState;
      break;

    case 22:
      var mListDistrict = new page_ListDistrict();
      mListDistrict.attach(this);
      var frameview = mListDistrict.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListDistrict;
      break;

    case 23:
      var mListWard = new page_ListWard();
      mListWard.attach(this);
      var frameview = mListWard.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListWard;
      break;

    case 24:
      var mListStreet = new page_ListStreet();
      mListStreet.attach(this);
      var frameview = mListStreet.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListStreet;
      break;

    case 26:
      var mPlanningInformation = new page_PlanningInformation();
      mPlanningInformation.attach(this);
      var frameview = mPlanningInformation.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mPlanningInformation;
      break;

    case 27:
      var mNoteInformation = new page_NoteInformation();
      mNoteInformation.attach(this);
      var frameview = mNoteInformation.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mNoteInformation;
      break;

    case 31:
      var mListEquipment = new page_ListEquipment();
      mListEquipment.attach(this);
      var frameview = mListEquipment.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListEquipment;
      break;

    case 32:
      var mListJuridical = new page_ListJuridical();
      mListJuridical.attach(this);
      var frameview = mListJuridical.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListJuridical;
      break;

    case 33:
      var mListContact = new page_ListContact();
      mListContact.attach(this);
      var frameview = mListContact.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListContact;
      break;

    case 34:
      var mListTypeActivehouse = new page_ListTypeActivehouse();
      mListTypeActivehouse.attach(this);
      var frameview = mListTypeActivehouse.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListTypeActivehouse;
      break;

    case 10:
      var mListHelp = new page_ListHelp();
      mListHelp.attach(this);
      var frameview = mListHelp.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      break;

    case 101:
      var mListEditHelp = new ListEditHelp();
      mListEditHelp.attach(this);
      var frameview = mListEditHelp.getView();
      this.body.addChild(frameview);
      this.body.activeFrame(frameview);
      finalPage = mListEditHelp;
      break;
  }

  return finalPage;
};

App_App.prototype.prevEdit = function (data, parent, index) {
  this.promiseAll.then(function () {
    this.edit(data, parent, index);
  }.bind(this));
};

App_App.prototype.edit = function (data, parent, index) {
  var self = this;
  var mNewAccount = new component_NewAccount(data);
  mNewAccount.attach(self);
  mNewAccount.setOnlyInformation();
  var frameview = mNewAccount.getView(self.listParamPosition);
  self.body.addChild(frameview);
  self.body.activeFrame(frameview);
  self.editDB(mNewAccount, data, parent, index);
};

App_App.prototype.editDB = function (mNewAccount, data, parent, index) {
  var self = this;
  mNewAccount.promiseEditDB.then(function (value) {
    ModuleDatabase["a" /* default */].getModule("users").update(value).then(function (result) {
      self.editView(value, data, parent, index);
    });
    mNewAccount.promiseEditDB = undefined;
    setTimeout(function () {
      if (mNewAccount.promiseEditDB !== undefined) {
        self.editDB(mNewAccount, data, parent, index);
      }
    }, 10);
  });
};

App_App.prototype.editView = function (value, data, parent, index) {};

App_App.prototype.setData = function (data) {
  this.data = data;
  this.data.tracking = "OK";
  this.dataFlushed = false;
  if (this.state == "RUNNING") this.flushDataToView();
};

App_App.prototype.flushDataToView = function () {
  if (this.dataFlushed) return;
  this.dataFlushed = true; //TODO: remove older view

  if (!this.data) return;
  this.$content.clearChild();

  if (this.data && this.$view) {
    this.rootComponent = this.build(this.data);
    this.$content.addChild(this.rootComponent.view);
    this.rootComponent.onAttach();
    this.$widthIp.value = this.rootComponent.getStyle('width', 'px');
    this.$heightIp.value = this.rootComponent.getStyle('height', 'px');
  }
};

App_App.prototype.start = function () {};

/* harmony default export */ var js_App = (App_App);
// CONCATENATED MODULE: ./index.js




/* harmony default export */ var index_0 = ({
  R: R,
  core: Fcomp,
  App: js_App
});
// CONCATENATED MODULE: ./dev.js



window.pizo = index_0;

/***/ })
/******/ ]);